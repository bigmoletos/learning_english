"use strict";(self.webpackChunkai_english_trainer_it=self.webpackChunkai_english_trainer_it||[]).push([[8],{5008:(e,s,t)=>{t.d(s,{TextToSpeechWeb:()=>n});var i=t(5403);class n extends i.E_{constructor(){super(),this.speechSynthesis=null,"speechSynthesis"in window&&(this.speechSynthesis=window.speechSynthesis,window.addEventListener("beforeunload",()=>{this.stop()}))}async speak(e){this.speechSynthesis||this.throwUnsupportedError(),await this.stop();const s=this.speechSynthesis,t=this.createSpeechSynthesisUtterance(e);return new Promise((e,i)=>{t.onend=()=>{e()},t.onerror=e=>{i(e)},s.speak(t)})}async stop(){this.speechSynthesis||this.throwUnsupportedError(),this.speechSynthesis.cancel()}async getSupportedLanguages(){return{languages:this.getSpeechSynthesisVoices().map(e=>e.lang).filter((e,s,t)=>t.indexOf(e)==s)}}async getSupportedVoices(){return{voices:this.getSpeechSynthesisVoices()}}async isLanguageSupported(e){return{supported:(await this.getSupportedLanguages()).languages.includes(e.lang)}}async openInstall(){this.throwUnimplementedError()}createSpeechSynthesisUtterance(e){const s=this.getSpeechSynthesisVoices(),t=new SpeechSynthesisUtterance,{text:i,lang:n,rate:h,pitch:r,volume:o,voice:p}=e;return p&&(t.voice=s[p]),o&&(t.volume=o>=0&&o<=1?o:1),h&&(t.rate=h>=.1&&h<=10?h:1),r&&(t.pitch=r>=0&&r<=2?r:2),n&&(t.lang=n),t.text=i,t}getSpeechSynthesisVoices(){return this.speechSynthesis||this.throwUnsupportedError(),(!this.supportedVoices||this.supportedVoices.length<1)&&(this.supportedVoices=this.speechSynthesis.getVoices()),this.supportedVoices}throwUnsupportedError(){throw this.unavailable("SpeechSynthesis API not available in this browser.")}throwUnimplementedError(){throw this.unimplemented("Not implemented on web.")}}}}]);
//# sourceMappingURL=8.f8ad98d9.chunk.js.map