/*! For license information please see main.10fdca7b.js.LICENSE.txt */
(()=>{var e={83:(e,t,n)=>{"use strict";n.d(t,{j2:()=>Be});var r=n(7064),o=n(8557),i=n(6667),s=n(6068),a=n(2555),l=n(1150),c=n(2965),u=n(1776),d=n(9606),h=n(2799);const p="@firebase/installations",f="0.6.19",m=1e4,g="w:".concat(f),v="FIS_v2",y=36e5,b={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},x=new u.FA("installations","Installations",b);function w(e){return e instanceof u.g&&e.code.includes("request-failed")}function S(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function E(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function k(e,t){const n=(await t.json()).error;return x.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function I(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function A(e,t){let{refreshToken:n}=t;const r=I(e);return r.append("Authorization",function(e){return"".concat(v," ").concat(e)}(n)),r}async function C(e){const t=await e();return t.status>=500&&t.status<600?e():t}function T(e){return new Promise(t=>{setTimeout(t,e)})}const j=/^[cdef][\w-]{21}$/;function _(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return j.test(t)?t:""}catch(e){return""}}function R(e){return"".concat(e.appName,"!").concat(e.appId)}const P=new Map;function N(e,t){const n=R(e);L(n,t),function(e,t){const n=M();n&&n.postMessage({key:e,fid:t});D()}(n,t)}function L(e,t){const n=P.get(e);if(n)for(const r of n)r(t)}let O=null;function M(){return!O&&"BroadcastChannel"in self&&(O=new BroadcastChannel("[Firebase] FID Change"),O.onmessage=e=>{L(e.data.key,e.data.fid)}),O}function D(){0===P.size&&O&&(O.close(),O=null)}const F="firebase-installations-store";let z=null;function B(){return z||(z=(0,h.P2)("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(F)}})),z}async function V(e,t){const n=R(e),r=(await B()).transaction(F,"readwrite"),o=r.objectStore(F),i=await o.get(n);return await o.put(t,n),await r.done,i&&i.fid===t.fid||N(e,t.fid),t}async function U(e){const t=R(e),n=(await B()).transaction(F,"readwrite");await n.objectStore(F).delete(t),await n.done}async function q(e,t){const n=R(e),r=(await B()).transaction(F,"readwrite"),o=r.objectStore(F),i=await o.get(n),s=t(i);return void 0===s?await o.delete(n):await o.put(s,n),await r.done,!s||i&&i.fid===s.fid||N(e,s.fid),s}async function W(e){let t;const n=await q(e.appConfig,n=>{const r=function(e){const t=e||{fid:_(),registrationStatus:0};return K(t)}(n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(x.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:o}=t;const i=S(n),s=I(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:o,authVersion:v,appId:n.appId,sdkVersion:g},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await C(()=>fetch(i,c));if(u.ok){const e=await u.json();return{fid:e.fid||o,registrationStatus:2,refreshToken:e.refreshToken,authToken:E(e.authToken)}}throw await k("Create Installation",u)}(e,t);return V(e.appConfig,n)}catch(n){throw w(n)&&409===n.customData.serverCode?await U(e.appConfig):await V(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:H(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function H(e){let t=await G(e.appConfig);for(;1===t.registrationStatus;)await T(100),t=await G(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await W(e);return n||t}return t}function G(e){return q(e,e=>{if(!e)throw x.create("installation-not-found");return K(e)})}function K(e){return 1===(t=e).registrationStatus&&t.registrationTime+m<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Q(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const o=function(e,t){let{fid:n}=t;return"".concat(S(e),"/").concat(n,"/authTokens:generate")}(n,t),i=A(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const a={installation:{sdkVersion:g,appId:n.appId}},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await C(()=>fetch(o,l));if(c.ok){return E(await c.json())}throw await k("Generate Auth Token",c)}async function X(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await q(e.appConfig,r=>{if(!$(r))throw x.create("not-registered");const o=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+y}(e)}(o))return r;if(1===o.requestStatus)return t=async function(e,t){let n=await Y(e.appConfig);for(;1===n.authToken.requestStatus;)await T(100),n=await Y(e.appConfig);const r=n.authToken;return 0===r.requestStatus?X(e,t):r}(e,n),r;{if(!navigator.onLine)throw x.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return(0,a.A)((0,a.A)({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await Q(e,t),r=(0,a.A)((0,a.A)({},t),{},{authToken:n});return await V(e.appConfig,r),n}catch(n){if(!w(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=(0,a.A)((0,a.A)({},t),{},{authToken:{requestStatus:0}});await V(e.appConfig,n)}else await U(e.appConfig);throw n}}(e,n),n}});return t?await t:r.authToken}function Y(e){return q(e,e=>{if(!$(e))throw x.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+m<Date.now()?(0,a.A)((0,a.A)({},e),{},{authToken:{requestStatus:0}}):e;var n})}function $(e){return void 0!==e&&2===e.registrationStatus}async function J(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await W(e);t&&await t}(n);return(await X(n,t)).token}function Z(e){return x.create("missing-app-config-values",{valueName:e})}const ee="installations",te=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Z("App Configuration");if(!e.name)throw Z("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Z(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:(0,l.j6)(t,"heartbeat"),_delete:()=>Promise.resolve()}},ne=e=>{const t=e.getProvider("app").getImmediate(),n=(0,l.j6)(t,ee).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await W(t);return r?r.catch(console.error):X(t).catch(console.error),n.fid}(n),getToken:e=>J(n,e)}};(0,l.om)(new d.uA(ee,te,"PUBLIC")),(0,l.om)(new d.uA("installations-internal",ne,"PRIVATE")),(0,l.KO)(p,f),(0,l.KO)(p,f,"esm2020");const re="analytics",oe="https://www.googletagmanager.com/gtag/js",ie=new c.Vy("@firebase/analytics"),se={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ae=new u.FA("analytics","Analytics",se);function le(e){if(!e.startsWith(oe)){const t=ae.create("invalid-gtag-resource",{gtagURL:e});return ie.warn(t.message),""}return e}function ce(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function ue(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:le}),r=document.createElement("script"),o="".concat(oe,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function de(e,t,n,r){return async function(o){try{for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if("event"===o){const[r,o]=s;await async function(e,t,n,r,o){try{let i=[];if(o&&o.send_to){let e=o.send_to;Array.isArray(e)||(e=[e]);const r=await ce(n);for(const n of e){const e=r.find(e=>e.measurementId===n),o=e&&t[e.appId];if(!o){i=[];break}i.push(o)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,o||{})}catch(i){ie.error(i)}}(e,t,n,r,o)}else if("config"===o){const[o,i]=s;await async function(e,t,n,r,o,i){const s=r[o];try{if(s)await t[s];else{const e=(await ce(n)).find(e=>e.measurementId===o);e&&await t[e.appId]}}catch(a){ie.error(a)}e("config",o,i)}(e,t,n,r,o,i)}else if("consent"===o){const[t,n]=s;e("consent",t,n)}else if("get"===o){const[t,n,r]=s;e("get",t,n,r)}else if("set"===o){const[t]=s;e("set",t)}else e(o,...s)}catch(l){ie.error(l)}}}const he=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function pe(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function fe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:o,measurementId:i}=e.options;if(!r)throw ae.create("no-app-id");if(!o){if(i)return{measurementId:i,appId:r};throw ae.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ge;return setTimeout(async()=>{a.abort()},void 0!==n?n:6e4),me({appId:r,apiKey:o,measurementId:i},s,a,t)}async function me(e,t,n){let{throttleEndTimeMillis:r,backoffCount:o}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:he;const{appId:s,measurementId:a}=e;try{await function(e,t){return new Promise((n,r)=>{const o=Math.max(t-Date.now(),0),i=setTimeout(n,o);e.addEventListener(()=>{clearTimeout(i),r(ae.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(c){if(a)return ie.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:s,measurementId:a};throw c}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:pe(n)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),i=await fetch(o,r);if(200!==i.status&&304!==i.status){let e="";try{var s;const t=await i.json();null!==(s=t.error)&&void 0!==s&&s.message&&(e=t.error.message)}catch(a){}throw ae.create("config-fetch-failed",{httpStatus:i.status,responseMessage:e})}return i.json()}(e);return i.deleteThrottleMetadata(s),t}catch(c){var l;const t=c;if(!function(e){if(!(e instanceof u.g)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(i.deleteThrottleMetadata(s),a)return ie.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:s,measurementId:a};throw c}const r=503===Number(null===t||void 0===t||null===(l=t.customData)||void 0===l?void 0:l.httpStatus)?(0,u.p9)(o,i.intervalMillis,30):(0,u.p9)(o,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+r,backoffCount:o+1};return i.setThrottleMetadata(s,d),ie.debug("Calling attemptFetch again in ".concat(r," millis")),me(e,d,n,i)}}class ge{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let ve,ye;function be(e){ye=e}function xe(e){ve=e}async function we(e,t,n,r,o,i,s){var a;const l=fe(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&ie.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>ie.error(e)),t.push(l);const c=async function(){if(!(0,u.zW)())return ie.warn(ae.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,u.eX)()}catch(e){return ie.warn(ae.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[d,h]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(oe)&&n.src.includes(e))return n;return null})(i)||ue(i,d.measurementId),ye&&(o("consent","default",ye),be(void 0)),o("js",new Date);const p=null!==(a=null===s||void 0===s?void 0:s.config)&&void 0!==a?a:{};return p.origin="firebase",p.update=!0,null!=h&&(p.firebase_id=h),o("config",d.measurementId,p),ve&&(o("set",ve),xe(void 0)),d.measurementId}class Se{constructor(e){this.app=e}_delete(){return delete Ee[this.app.options.appId],Promise.resolve()}}let Ee={},ke=[];const Ie={};let Ae,Ce,Te="dataLayer",je="gtag",_e=!1;function Re(e,t,n){!function(){const e=[];if((0,u.sr)()&&e.push("This is a browser extension environment."),(0,u.dM)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=ae.create("invalid-analytics-context",{errorInfo:t});ie.warn(n.message)}}();const r=e.options.appId;if(!r)throw ae.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ae.create("no-api-key");ie.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ee[r])throw ae.create("already-exists",{id:r});if(!_e){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Te);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,o){let i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[o]&&"function"===typeof window[o]&&(i=window[o]),window[o]=de(i,e,t,n),{gtagCore:i,wrappedGtag:window[o]}}(Ee,ke,Ie,Te,je);Ce=e,Ae=t,_e=!0}Ee[r]=we(e,ke,Ie,t,Ae,Te,n);return new Se(e)}function Pe(e,t,n){e=(0,u.Ku)(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties.".concat(e)]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(Ce,Ee[e.app.options.appId],t,n).catch(e=>ie.error(e))}function Ne(e,t,n,r){e=(0,u.Ku)(e),async function(e,t,n,r,o){if(o&&o.global)e("event",n,r);else{const o=await t;e("event",n,(0,a.A)((0,a.A)({},r),{},{send_to:o}))}}(Ce,Ee[e.app.options.appId],t,n,r).catch(e=>ie.error(e))}const Le="@firebase/analytics",Oe="0.10.19";(0,l.om)(new d.uA(re,(e,t)=>{let{options:n}=t;return Re(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),(0,l.om)(new d.uA("analytics-internal",function(e){try{const t=e.getProvider(re).getImmediate();return{logEvent:(e,n,r)=>Ne(t,e,n,r),setUserProperties:(e,n)=>Pe(t,e,n)}}catch(t){throw ae.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,l.KO)(Le,Oe),(0,l.KO)(Le,Oe,"esm2020");var Me=n(3069);const De="undefined"!==typeof window.Capacitor,Fe={apiKey:"AIzaSyA4VxXsU3yI3GedYREVkUIOgHo8NU1DUsw",authDomain:"ia-project-91c03.firebaseapp.com",projectId:"ia-project-91c03",storageBucket:"ia-project-91c03.firebasestorage.app",messagingSenderId:"764765123671",appId:"1:764765123671:web:c6861709d1a881fcfe1f12",measurementId:Me.x.measurementId};let ze;Fe.apiKey&&Fe.projectId||console.error("\u274c Configuration Firebase manquante. V\xe9rifiez vos variables d'environnement ou le fichier firebaseConfig.generated.ts");try{ze=(0,r.Wp)(Fe),console.log("\u2705 Firebase initialis\xe9 avec succ\xe8s")}catch(qe){throw console.error("\u274c Erreur lors de l'initialisation Firebase:",qe),qe}const Be=(0,o.xI)(ze),Ve=(0,i.aU)(ze);(0,s.c7)(ze);De||"undefined"===typeof window||(0,o.oM)(Be,o.F0).catch(e=>{console.warn("Erreur lors de la configuration de la persistance Auth:",e)}),"undefined"!==typeof window&&(0,i.ol)(Ve).then(()=>{console.log("\u2705 Cache Firestore offline activ\xe9")}).catch(e=>{"failed-precondition"===e.code?console.warn("\u26a0\ufe0f Plusieurs onglets ouverts. Le cache offline est d\xe9j\xe0 activ\xe9 dans un autre onglet."):"unimplemented"===e.code?console.warn("\u26a0\ufe0f Le cache offline n'est pas disponible sur cette plateforme."):console.error("\u274c Erreur lors de l'activation du cache Firestore:",e)});let Ue=null;"undefined"!==typeof window&&(Ue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,l.Sx)();e=(0,u.Ku)(e);const t=(0,l.j6)(e,re);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,l.j6)(e,re);if(n.isInitialized()){const e=n.getImmediate();if((0,u.bD)(t,n.getOptions()))return e;throw ae.create("already-initialized")}return n.initialize({options:t})}(e)}(ze))},219:(e,t,n)=>{"use strict";var r=n(3763),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||o}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var o=p(n);o&&o!==f&&e(t,o,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!i[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7868)},528:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case s:case i:case u:case d:case f:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case a:return e;default:return t}}case r:return t}}}t.vM=c,t.lD=h},579:(e,t,n)=>{"use strict";e.exports=n(1153)},869:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(5043);var r=n(3290),o=n(579);function i(e){const{styles:t,defaultTheme:n={}}=e,i="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,o.jsx)(r.mL,{styles:i})}},918:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},1079:(e,t,n)=>{"use strict";n.d(t,{DY:()=>i,Lx:()=>s,logoutUser:()=>a,xw:()=>l});var r=n(8557),o=n(83);const i=async(e,t,n)=>{try{const i=await(0,r.eJ)(o.j2,e,t);return n&&await(0,r.r7)(i.user,{displayName:n}),await(0,r.gA)(i.user),{success:!0,user:i.user,message:"Registration successful. Please check your email for verification."}}catch(i){return console.error("Registration error:",i),{success:!1,error:i.code,message:c(i.code)}}},s=async(e,t)=>{try{return{success:!0,user:(await(0,r.x9)(o.j2,e,t)).user}}catch(n){return console.error("Login error:",n),{success:!1,error:n.code,message:c(n.code)}}},a=async()=>{try{return await(0,r.CI)(o.j2),{success:!0,message:"Logout successful"}}catch(e){return console.error("Logout error:",e),{success:!1,error:e.code,message:c(e.code)}}},l=async e=>{try{return await(0,r.J1)(o.j2,e),{success:!0,message:"Password reset email sent. Please check your inbox."}}catch(t){return console.error("Password reset error:",t),{success:!1,error:t.code,message:c(t.code)}}},c=e=>({"auth/email-already-in-use":"Cet email est d\xe9j\xe0 enregistr\xe9.","auth/invalid-email":"Adresse email invalide.","auth/operation-not-allowed":"Op\xe9ration non autoris\xe9e. Contactez le support.","auth/weak-password":"Le mot de passe est trop faible. Utilisez au moins 6 caract\xe8res.","auth/user-disabled":"Ce compte a \xe9t\xe9 d\xe9sactiv\xe9.","auth/user-not-found":"Aucun compte trouv\xe9 avec cet email.","auth/wrong-password":"Mot de passe incorrect.","auth/invalid-credential":"Email ou mot de passe incorrect. V\xe9rifiez vos identifiants ou cr\xe9ez un compte.","auth/invalid-verification-code":"Code de v\xe9rification invalide.","auth/invalid-verification-id":"ID de v\xe9rification invalide.","auth/too-many-requests":"Trop de tentatives. Veuillez r\xe9essayer plus tard.","auth/network-request-failed":"Erreur r\xe9seau. V\xe9rifiez votre connexion internet.","auth/popup-closed-by-user":"La fen\xeatre de connexion a \xe9t\xe9 ferm\xe9e.","auth/cancelled-popup-request":"Une seule demande de connexion est autoris\xe9e \xe0 la fois."}[e]||"Une erreur est survenue. Veuillez r\xe9essayer.")},1150:(e,t,n)=>{"use strict";n.d(t,{KO:()=>Z,MF:()=>Y,Sx:()=>J,Wp:()=>$,j6:()=>H,om:()=>W,xZ:()=>G});var r=n(2555),o=n(9606),i=n(2965),s=n(1776),a=n(2799);class l{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const c="@firebase/app",u="0.14.5",d=new i.Vy("@firebase/app"),h="@firebase/app-compat",p="@firebase/analytics-compat",f="@firebase/analytics",m="@firebase/app-check-compat",g="@firebase/app-check",v="@firebase/auth",y="@firebase/auth-compat",b="@firebase/database",x="@firebase/data-connect",w="@firebase/database-compat",S="@firebase/functions",E="@firebase/functions-compat",k="@firebase/installations",I="@firebase/installations-compat",A="@firebase/messaging",C="@firebase/messaging-compat",T="@firebase/performance",j="@firebase/performance-compat",_="@firebase/remote-config",R="@firebase/remote-config-compat",P="@firebase/storage",N="@firebase/storage-compat",L="@firebase/firestore",O="@firebase/ai",M="@firebase/firestore-compat",D="firebase",F="[DEFAULT]",z={[c]:"fire-core",[h]:"fire-core-compat",[f]:"fire-analytics",[p]:"fire-analytics-compat",[g]:"fire-app-check",[m]:"fire-app-check-compat",[v]:"fire-auth",[y]:"fire-auth-compat",[b]:"fire-rtdb",[x]:"fire-data-connect",[w]:"fire-rtdb-compat",[S]:"fire-fn",[E]:"fire-fn-compat",[k]:"fire-iid",[I]:"fire-iid-compat",[A]:"fire-fcm",[C]:"fire-fcm-compat",[T]:"fire-perf",[j]:"fire-perf-compat",[_]:"fire-rc",[R]:"fire-rc-compat",[P]:"fire-gcs",[N]:"fire-gcs-compat",[L]:"fire-fst",[M]:"fire-fst-compat",[O]:"fire-vertex","fire-js":"fire-js",[D]:"fire-js-all"},B=new Map,V=new Map,U=new Map;function q(e,t){try{e.container.addComponent(t)}catch(n){d.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function W(e){const t=e.name;if(U.has(t))return d.debug("There were multiple attempts to register component ".concat(t,".")),!1;U.set(t,e);for(const n of B.values())q(n,e);for(const n of V.values())q(n,e);return!0}function H(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function G(e){return null!==e&&void 0!==e&&void 0!==e.settings}const K={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Q=new s.FA("app","Firebase",K);class X{constructor(e,t,n){this._isDeleted=!1,this._options=(0,r.A)({},e),this._config=(0,r.A)({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new o.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Q.create("app-deleted",{appName:this._name})}}const Y="12.5.0";function $(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=(0,r.A)({name:F,automaticDataCollectionEnabled:!0},t),a=i.name;if("string"!==typeof a||!a)throw Q.create("bad-app-name",{appName:String(a)});if(n||(n=(0,s.T9)()),!n)throw Q.create("no-options");const l=B.get(a);if(l){if((0,s.bD)(n,l.options)&&(0,s.bD)(i,l.config))return l;throw Q.create("duplicate-app",{appName:a})}const c=new o.h1(a);for(const r of U.values())c.addComponent(r);const u=new X(n,i,c);return B.set(a,u),u}function J(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;const t=B.get(e);if(!t&&e===F&&(0,s.T9)())return $();if(!t)throw Q.create("no-app",{appName:e});return t}function Z(e,t,n){var r;let i=null!==(r=z[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void d.warn(e.join(" "))}W(new o.uA("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const ee="firebase-heartbeat-store";let te=null;function ne(){return te||(te=(0,a.P2)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ee)}catch(n){console.warn(n)}}}).catch(e=>{throw Q.create("idb-open",{originalErrorMessage:e.message})})),te}async function re(e,t){try{const n=(await ne()).transaction(ee,"readwrite"),r=n.objectStore(ee);await r.put(t,oe(e)),await n.done}catch(n){if(n instanceof s.g)d.warn(n.message);else{const e=Q.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});d.warn(e.message)}}}function oe(e){return"".concat(e.name,"!").concat(e.options.appId)}class ie{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ae(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=se();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){d.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=se(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const o of e){const e=n.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),le(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),le(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return d.warn(t),""}}}function se(){return(new Date).toISOString().substring(0,10)}class ae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ne()).transaction(ee),n=await t.objectStore(ee).get(oe(e));return await t.done,n}catch(t){if(t instanceof s.g)d.warn(t.message);else{const e=Q.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});d.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function le(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var ce;ce="",W(new o.uA("platform-logger",e=>new l(e),"PRIVATE")),W(new o.uA("heartbeat",e=>new ie(e),"PRIVATE")),Z(c,u,ce),Z(c,u,"esm2020"),Z("fire-js","")},1153:(e,t,n)=>{"use strict";var r=n(5043),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},1188:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},1722:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>o,sk:()=>i});function r(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}var o=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},i=function(e,t,n){o(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},1776:(e,t,n)=>{"use strict";n.d(t,{cY:()=>m,FA:()=>O,g:()=>L,dM:()=>N,u:()=>l,Uj:()=>a,p9:()=>Y,Fy:()=>y,tD:()=>q,bD:()=>F,hp:()=>U,T9:()=>p,Tj:()=>d,yU:()=>h,XA:()=>f,mS:()=>c,Ku:()=>$,ZQ:()=>S,sr:()=>A,zJ:()=>g,c1:()=>I,Im:()=>D,lT:()=>T,zW:()=>R,jZ:()=>E,lV:()=>C,nr:()=>j,Ov:()=>_,gE:()=>v,Am:()=>B,I9:()=>V,P1:()=>w,eX:()=>P});var r=n(2555);const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const t=e[o],i=o+1<e.length,s=i?e[o+1]:0,a=o+2<e.length,l=a?e[o+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const t=n[e.charAt(o++)],i=o<e.length?n[e.charAt(o)]:0;++o;const a=o<e.length?n[e.charAt(o)]:64;++o;const l=o<e.length?n[e.charAt(o)]:64;if(++o,null==t||null==i||null==a||null==l)throw new s;const c=t<<2|i>>4;if(r.push(c),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==l){const e=a<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=o(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const u=()=>{try{return c().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:5001/api",REACT_APP_FIREBASE_API_KEY:"AIzaSyA4VxXsU3yI3GedYREVkUIOgHo8NU1DUsw",REACT_APP_FIREBASE_AUTH_DOMAIN:"ia-project-91c03.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"ia-project-91c03",REACT_APP_FIREBASE_STORAGE_BUCKET:"ia-project-91c03.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"764765123671",REACT_APP_FIREBASE_APP_ID:"1:764765123671:web:c6861709d1a881fcfe1f12",REACT_APP_FIREBASE_MEASUREMENT_ID:""}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},d=e=>{var t;return null===(t=u())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},h=e=>{const t=d(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},p=()=>{var e;return null===(e=u())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=u())||void 0===t?void 0:t["_".concat(e)]};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function v(e){return(await fetch(e,{credentials:"include"})).ok}function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",o=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=(0,r.A)({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(s)),""].join(".")}const b={};let x=!1;function w(e,t){if("undefined"===typeof window||"undefined"===typeof document||!g(window.location.host)||b[e]===t||b[e]||x)return;function n(e){return"__firebase__banner__".concat(e)}b[e]=t;const r="__firebase__banner",o=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(b))b[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{x=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}o?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function S(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function E(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function k(){var e;const t=null===(e=u())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function I(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function A(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function C(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function T(){const e=S();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function j(){return!k()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _(){return!k()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function R(){try{return"object"===typeof indexedDB}catch(e){return!1}}function P(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function N(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class L extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,L.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O.prototype.create)}}class O{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],o=r?function(e,t){return e.replace(M,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(o," (").concat(n,").");return new L(n,i,t)}}const M=/\{\$([^}]+)}/g;function D(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function F(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(z(n)&&z(i)){if(!F(n,i))return!1}else if(n!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function z(e){return null!==e&&"object"===typeof e}function B(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function V(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function U(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function q(e,t){const n=new W(e,t);return n.subscribe.bind(n)}class W{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=H),void 0===r.error&&(r.error=H),void 0===r.complete&&(r.complete=H);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H(){}const G=1e3,K=2,Q=144e5,X=.5;function Y(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:G)*Math.pow(t,e),r=Math.round(X*n*(Math.random()-.5)*2);return Math.min(Q,n+r)}function $(e){return e&&e._delegate?e._delegate:e}},2374:(e,t,n)=>{"use strict";t.A=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(5043)),o=n(3174);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(o.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},2555:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>a})},2730:(e,t,n)=>{"use strict";var r=n(5043),o=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,D=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case I:return"Profiler";case k:return"StrictMode";case j:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ie(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,ke=null;function Ie(e){if(e=xo(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function Ae(e){Ee?ke?ke.push(e):ke=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=ke;if(ke=Ee=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Te(e,t){return e(t)}function je(){}var _e=!1;function Re(e,t,n){if(_e)return e(t,n);_e=!0;try{return Te(e,t,n)}finally{_e=!1,(null!==Ee||null!==ke)&&(je(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=So(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ne=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Ne=!1}function Oe(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,De=null,Fe=!1,ze=null,Be={onError:function(e){Me=!0,De=e}};function Ve(e,t,n,r,o,i,s,a,l){Me=!1,De=null,Oe.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return We(o),e;if(s===r)return We(o),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=o.unstable_scheduleCallback,Qe=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,Ye=o.unstable_requestPaint,$e=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?r=dt(a):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~o)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,Et,kt,It,At=!1,Ct=[],Tt=null,jt=null,_t=null,Rt=new Map,Pt=new Map,Nt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=xo(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Dt(e){var t=bo(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,function(){Et(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xo(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){At=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==jt&&Ft(jt)&&(jt=null),null!==_t&&Ft(_t)&&(_t=null),Rt.forEach(zt),Pt.forEach(zt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==jt&&Vt(jt,e),null!==_t&&Vt(_t,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Nt.shift()}var qt=x.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var o=bt,i=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=o,qt.transition=i}}function Gt(e,t,n,r){var o=bt,i=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=o,qt.transition=i}}function Kt(e,t,n,r){if(Wt){var o=Xt(e,t,n,r);if(null===o)Wr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,o),!0;case"dragenter":return jt=Mt(jt,e,t,n,r,o),!0;case"mouseover":return _t=Mt(_t,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Rt.set(i,Mt(Rt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Pt.set(i,Mt(Pt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==o;){var i=xo(o);if(null!==i&&wt(i),null===(i=Xt(e,t,n,r))&&Wr(e,t,r,Qt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=bo(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,o="value"in $t?$t.value:$t.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=D({},cn,{view:0,detail:0}),hn=on(dn),pn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=on(pn),mn=on(D({},pn,{dataTransfer:0})),gn=on(D({},dn,{relatedTarget:0})),vn=on(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),xn=on(D({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function In(){return kn}var An=D({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(An),Tn=on(D({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=on(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),_n=on(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=D({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Rn),Nn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Mn=u&&"TextEvent"in window&&!On,Dn=u&&(!Ln||On&&8<On&&11>=On),Fn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ae(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Fr(e,0)}function Xn(e){if(K(wo(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function ir(e,t){if("click"===e)return Xn(t)}function sr(e,t){if("input"===e||"change"===e)return Xn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ar(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var s=ur(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},kr={};function Ir(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Er[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Ar=Ir("animationend"),Cr=Ir("animationiteration"),Tr=Ir("animationstart"),jr=Ir("transitionend"),_r=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){_r.set(e,t),l(t,[e])}for(var Nr=0;Nr<Rr.length;Nr++){var Lr=Rr[Nr];Pr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Pr(Ar,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,a,l,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(i(198));var u=De;Me=!1,De=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Dr(o,a,c),i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Dr(o,a,c),i=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Vr]){e[Vr]=!0,s.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var o=Ht;break;case 4:o=Gt;break;default:o=Kt}n=o.bind(null,t,n,e),o=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=bo(a)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}a=a.parentNode}}r=r.return}Re(function(){var r=i,o=we(n),s=[];e:{var a=_r.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Ar:case Cr:case Tr:l=vn;break;case jr:l=_n;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Pe(f,h))&&u.push(Hr(f,m,p)))),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,o),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:wo(l),p=null==c?a:wo(c),(a=new u(m,f+"leave",l,n,o)).target=d,a.relatedTarget=p,m=null,bo(o)===r&&((u=new u(h,f+"enter",c,n,o)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Kr(p))f++;for(p=0,m=h;m;m=Kr(m))p++;for(;0<f-p;)u=Kr(u),f--;for(;0<p-f;)h=Kr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==d&&Qr(s,d,c,u,!0)}if("select"===(l=(a=r?wo(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(Wn(a))if($n)g=sr;else{g=or;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?Hn(s,g,n,o):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wo(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(s,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(s,n,o)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Jt="value"in($t=o)?$t.value:$t.textContent,Un=!0)),0<(v=Gr(r,b)).length&&(b=new xn(b,e,null,n,o),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Ln&&Bn(e,t)?(e=en(),Zt=Jt=$t=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(o=new xn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=y))}Fr(s,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Pe(e,n))&&r.unshift(Hr(e,i,o)),null!=(i=Pe(e,t))&&r.push(Hr(e,i,o))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=Pe(n,i))&&s.unshift(Hr(n,l,a)):o||null!=(l=Pe(n,i))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(i(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout(function(){throw e})}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ut(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),po="__reactFiber$"+ho,fo="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,vo="__reactListeners$"+ho,yo="__reactHandles$"+ho;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function xo(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function So(e){return e[fo]||null}var Eo=[],ko=-1;function Io(e){return{current:e}}function Ao(e){0>ko||(e.current=Eo[ko],Eo[ko]=null,ko--)}function Co(e,t){ko++,Eo[ko]=e.current,e.current=t}var To={},jo=Io(To),_o=Io(!1),Ro=To;function Po(e,t){var n=e.type.contextTypes;if(!n)return To;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function No(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lo(){Ao(_o),Ao(jo)}function Oo(e,t,n){if(jo.current!==To)throw Error(i(168));Co(jo,t),Co(_o,n)}function Mo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,q(e)||"Unknown",o));return D({},n,r)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||To,Ro=jo.current,Co(jo,e),Co(_o,_o.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Mo(e,t,Ro),r.__reactInternalMemoizedMergedChildContext=e,Ao(_o),Ao(jo),Co(jo,e)):Ao(_o),Co(_o,n)}var zo=null,Bo=!1,Vo=!1;function Uo(e){null===zo?zo=[e]:zo.push(e)}function qo(){if(!Vo&&null!==zo){Vo=!0;var e=0,t=bt;try{var n=zo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,Bo=!1}catch(o){throw null!==zo&&(zo=zo.slice(e+1)),Ke(Ze,qo),o}finally{bt=t,Vo=!1}}return null}var Wo=[],Ho=0,Go=null,Ko=0,Qo=[],Xo=0,Yo=null,$o=1,Jo="";function Zo(e,t){Wo[Ho++]=Ko,Wo[Ho++]=Go,Go=e,Ko=t}function ei(e,t,n){Qo[Xo++]=$o,Qo[Xo++]=Jo,Qo[Xo++]=Yo,Yo=e;var r=$o;e=Jo;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,$o=1<<32-st(t)+o|n<<o|r,Jo=i+e}else $o=1<<i|n<<o|r,Jo=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ni(e){for(;e===Go;)Go=Wo[--Ho],Wo[Ho]=null,Ko=Wo[--Ho],Wo[Ho]=null;for(;e===Yo;)Yo=Qo[--Xo],Qo[Xo]=null,Jo=Qo[--Xo],Qo[Xo]=null,$o=Qo[--Xo],Qo[Xo]=null}var ri=null,oi=null,ii=!1,si=null;function ai(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yo?{id:$o,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw pi(),Error(i(418));for(;t;)ai(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=co(e.nextSibling)}function fi(){oi=ri=null,ii=!1}function mi(e){null===si?si=[e]:si.push(e)}var gi=x.ReactCurrentBatchConfig;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&bi(i)===t.type)?((r=o(t,n.props)).ref=vi(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=vi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?c(e,t,n,r):null;case S:return n.key===o?u(e,t,n,r):null;case P:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||O(n))return null!==o?null:d(e,t,n,r,null);yi(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case P:return f(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,o,null);yi(t,r)}return null}function m(o,i,a,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(o,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),i=s(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(o,d),ii&&Zo(o,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(o,a[m],l))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Zo(o,m),c}for(d=r(o,d);m<a.length;m++)null!==(g=f(d,o,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),ii&&Zo(o,m),c}function g(o,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),ii&&Zo(o,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(o,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return ii&&Zo(o,g),u}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=f(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(o,e)}),ii&&Zo(o,g),u}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===E&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===E){if(7===u.tag){n(r,u.sibling),(i=o(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&bi(c)===u.type){n(r,u.sibling),(i=o(u,s.props)).ref=vi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===E?((i=Oc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Lc(s.type,s.key,s.props,null,r.mode,l)).ref=vi(r,i,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(s,r.mode,l)).return=r,r=i}return a(r);case P:return e(r,i,(u=s._init)(s._payload),l)}if(te(s))return m(r,i,s,l);if(O(s))return g(r,i,s,l);yi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=Dc(s,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var wi=xi(!0),Si=xi(!1),Ei=Io(null),ki=null,Ii=null,Ai=null;function Ci(){Ai=Ii=ki=null}function Ti(e){var t=Ei.current;Ao(Ei),e._currentValue=t}function ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _i(e,t){ki=e,Ai=Ii=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ri(e){var t=e._currentValue;if(Ai!==e)if(e={context:e,memoizedValue:t,next:null},null===Ii){if(null===ki)throw Error(i(308));Ii=e,ki.dependencies={lanes:0,firstContext:e}}else Ii=Ii.next=e;return t}var Pi=null;function Ni(e){null===Pi?Pi=[e]:Pi.push(e)}function Li(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ni(t)):(n.next=o.next,o.next=n),t.interleaved=n,Oi(e,r)}function Oi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mi=!1;function Di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Oi(e,n)}return null===(o=r.interleaved)?(t.next=t,Ni(r)):(t.next=o.next,o.next=t),r.interleaved=t,Oi(e,n)}function Vi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qi(e,t,n,r){var o=e.updateQueue;Mi=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(s=0,u=c=l=null,a=i;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=D({},d,h);break e;case 2:Mi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=d}}function Wi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Hi={},Gi=Io(Hi),Ki=Io(Hi),Qi=Io(Hi);function Xi(e){if(e===Hi)throw Error(i(174));return e}function Yi(e,t){switch(Co(Qi,t),Co(Ki,e),Co(Gi,Hi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ao(Gi),Co(Gi,t)}function $i(){Ao(Gi),Ao(Ki),Ao(Qi)}function Ji(e){Xi(Qi.current);var t=Xi(Gi.current),n=le(t,e.type);t!==n&&(Co(Ki,e),Co(Gi,n))}function Zi(e){Ki.current===e&&(Ao(Gi),Ao(Ki))}var es=Io(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var os=x.ReactCurrentDispatcher,is=x.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,ps=0;function fs(){throw Error(i(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,o,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,o),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(i(301));s+=1,cs=ls=null,t.updateQueue=null,os.current=ta,e=n(r,o)}while(ds)}if(os.current=Js,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(i(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function xs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ls,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,as.lanes|=s,Ml|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Es(){}function ks(e,t){var n=as,r=bs(),o=t(),s=!ar(r.memoizedState,o);if(s&&(r.memoizedState=o,ba=!0),r=r.queue,Ms(Cs.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Rs(9,As.bind(null,n,r,o,t),void 0,null),null===jl)throw Error(i(349));0!==(30&ss)||Is(n,t,o)}return o}function Is(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function As(e,t,n,r){t.value=n,t.getSnapshot=r,Ts(t)&&js(e)}function Cs(e,t,n){return n(function(){Ts(t)&&js(e)})}function Ts(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function js(e){var t=Oi(e,1);null!==t&&nc(t,e,1,-1)}function _s(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,as,e),[t.memoizedState,e]}function Rs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ps(){return bs().memoizedState}function Ns(e,t,n,r){var o=ys();as.flags|=e,o.memoizedState=Rs(1|t,n,void 0,void 0===r?null:r)}function Ls(e,t,n,r){var o=bs();r=void 0===r?null:r;var i=void 0;if(null!==ls){var s=ls.memoizedState;if(i=s.destroy,null!==r&&ms(r,s.deps))return void(o.memoizedState=Rs(t,n,i,r))}as.flags|=e,o.memoizedState=Rs(1|t,n,i,r)}function Os(e,t){return Ns(8390656,8,e,t)}function Ms(e,t){return Ls(2048,8,e,t)}function Ds(e,t){return Ls(4,2,e,t)}function Fs(e,t){return Ls(4,4,e,t)}function zs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ls(4,4,zs.bind(null,t,e),n)}function Vs(){}function Us(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Ml|=n,e.baseState=!0),t)}function Hs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{bt=n,is.transition=r}}function Gs(){return bs().memoizedState}function Ks(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(e))Ys(t,n);else if(null!==(n=Li(e,t,n,r))){nc(n,e,r,ec()),$s(n,t,r)}}function Qs(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))Ys(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(o.next=o,Ni(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Li(e,t,o,r))&&(nc(n,e,r,o=ec()),$s(n,t,r))}}function Xs(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ys(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $s(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Js={readContext:Ri,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Zs={readContext:Ri,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:Os,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ns(4194308,4,zs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ns(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ks.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:_s,useDebugValue:Vs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=_s(!1),t=e[0];return e=Hs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,o=ys();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===jl)throw Error(i(349));0!==(30&ss)||Is(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Os(Cs.bind(null,r,s,e),[e]),r.flags|=2048,Rs(9,As.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=jl.identifierPrefix;if(ii){var n=Jo;t=":"+t+"R"+(n=($o&~(1<<32-st($o)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ri,useCallback:Us,useContext:Ri,useEffect:Ms,useImperativeHandle:Bs,useInsertionEffect:Ds,useLayoutEffect:Fs,useMemo:qs,useReducer:ws,useRef:Ps,useState:function(){return ws(xs)},useDebugValue:Vs,useDeferredValue:function(e){return Ws(bs(),ls.memoizedState,e)},useTransition:function(){return[ws(xs)[0],bs().memoizedState]},useMutableSource:Es,useSyncExternalStore:ks,useId:Gs,unstable_isNewReconciler:!1},ta={readContext:Ri,useCallback:Us,useContext:Ri,useEffect:Ms,useImperativeHandle:Bs,useInsertionEffect:Ds,useLayoutEffect:Fs,useMemo:qs,useReducer:Ss,useRef:Ps,useState:function(){return Ss(xs)},useDebugValue:Vs,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Ws(t,ls.memoizedState,e)},useTransition:function(){return[Ss(xs)[0],bs().memoizedState]},useMutableSource:Es,useSyncExternalStore:ks,useId:Gs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,o))&&(nc(t,e,o,r),Vi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,o))&&(nc(t,e,o,r),Vi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=zi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Bi(e,o,r))&&(nc(t,e,r,n),Vi(t,e,r))}};function ia(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function sa(e,t,n){var r=!1,o=To,i=t.contextType;return"object"===typeof i&&null!==i?i=Ri(i):(o=No(t)?Ro:jo.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Po(e,o):To),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Di(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ri(i):(i=No(t)?Ro:jo.current,o.context=Po(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),qi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=zi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),da(0,t)},n}function fa(e,t,n){(n=zi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){da(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zi(-1,1)).tag=2,Bi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ya=x.ReactCurrentOwner,ba=!1;function xa(e,t,n,r){t.child=null===e?Si(t,null,n,r):wi(t,e.child,n,r)}function wa(e,t,n,r,o){n=n.render;var i=t.ref;return _i(t,o),r=gs(e,t,n,r,i,o),n=vs(),null===e||ba?(ii&&n&&ti(t),t.flags|=1,xa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function Sa(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Pc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ea(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wa(e,t,o)}return t.flags|=1,(e=Nc(i,r)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Wa(e,t,o);0!==(131072&e.flags)&&(ba=!0)}}return Aa(e,t,n,r,o)}function ka(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Co(Nl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Co(Nl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Co(Nl,Pl),Pl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Co(Nl,Pl),Pl|=r;return xa(e,t,o,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Aa(e,t,n,r,o){var i=No(n)?Ro:jo.current;return i=Po(t,i),_i(t,o),n=gs(e,t,n,r,i,o),r=vs(),null===e||ba?(ii&&r&&ti(t),t.flags|=1,xa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function Ca(e,t,n,r,o){if(No(n)){var i=!0;Do(t)}else i=!1;if(_i(t,o),null===t.stateNode)qa(e,t),sa(t,n,r),la(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ri(c):c=Po(t,c=No(n)?Ro:jo.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Mi=!1;var h=t.memoizedState;s.state=h,qi(t,r,s,o),l=t.memoizedState,a!==r||h!==l||_o.current||Mi?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Mi||ia(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fi(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ri(l):l=Po(t,l=No(n)?Ro:jo.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),Mi=!1,h=t.memoizedState,s.state=h,qi(t,r,s,o);var f=t.memoizedState;a!==d||h!==f||_o.current||Mi?("function"===typeof p&&(ra(t,n,p,r),f=t.memoizedState),(c=Mi||ia(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,i,o)}function Ta(e,t,n,r,o,i){Ia(e,t);var s=0!==(128&t.flags);if(!r&&!s)return o&&Fo(t,n,!1),Wa(e,t,i);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,a,i)):xa(e,t,a,i),t.memoizedState=r.state,o&&Fo(t,n,!0),t.child}function ja(e){var t=e.stateNode;t.pendingContext?Oo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oo(0,t.context,!1),Yi(e,t.containerInfo)}function _a(e,t,n,r,o){return fi(),mi(o),t.flags|=256,xa(e,t,n,r),t.child}var Ra,Pa,Na,La,Oa={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Da(e,t,n){var r,o=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Co(es,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mc(l,o,0,null),e=Oc(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=Oa,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=ua(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Mc({mode:"visible",children:r.children},o,0,null),(s=Oc(s,o,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=Oa,s);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=ua(s=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=jl)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Oi(e,o),nc(r,e,o,-1))}return mc(),za(e,t,a,r=ua(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,si=null,null!==e&&(Qo[Xo++]=$o,Qo[Xo++]=Jo,Qo[Xo++]=Yo,$o=e.id,Jo=e.overflow,Yo=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,s,n);if(a){a=o.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Nc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Nc(r,a):(a=Oc(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Oa,o}return e=(a=e.child).sibling,o=Nc(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Fa(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&mi(r),wi(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ji(e.return,t,n)}function Va(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ua(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Co(es,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Va(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Va(t,!0,n,null,i);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return No(t.type)&&Lo(),Ga(t),null;case 3:return r=t.stateNode,$i(),Ao(_o),Ao(jo),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==si&&(sc(si),si=null))),Pa(e,t),Ga(t),null;case 5:Zi(t);var o=Xi(Qi.current);if(n=t.type,null!==e&&null!=t.stateNode)Na(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ga(t),null}if(e=Xi(Gi.current),hi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[po]=t,r[fo]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(o=0;o<Or.length;o++)zr(Or[o],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":oe(r,s),zr("invalid",r)}for(var l in ye(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":G(r),Z(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[fo]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),o=r;break;case"iframe":case"object":case"embed":zr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Or.length;o++)zr(Or[o],e);o=r;break;case"source":zr("error",e),o=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=r;break;case"details":zr("toggle",e),o=r;break;case"input":Y(e,r),o=X(e,r),zr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=D({},r,{value:void 0}),zr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),zr("invalid",e)}for(s in ye(n,o),c=o)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&zr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Xi(Qi.current),Xi(Gi.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(s=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Ga(t),null;case 13:if(Ao(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))pi(),fi(),t.flags|=98560,s=!1;else if(s=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[po]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==si&&(sc(si),si=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return $i(),Pa(e,t),null===e&&Ur(t.stateNode.containerInfo),Ga(t),null;case 10:return Ti(t.type._context),Ga(t),null;case 19:if(Ao(es),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Co(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>Ul&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ii)return Ga(t),null}else 2*$e()-s.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=es.current,Co(es,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Qa(e,t){switch(ni(t),t.tag){case 1:return No(t.type)&&Lo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $i(),Ao(_o),Ao(jo),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(Ao(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ao(es),null;case 4:return $i(),null;case 10:return Ti(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Na=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Xi(Gi.current);var i,s=null;switch(n){case"input":o=X(e,o),r=X(e,r),s=[];break;case"select":o=D({},o,{value:void 0}),r=D({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,Ya=!1,$a="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[fo],delete t[go],delete t[vo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=ul,o=dl;ul=null,hl(e,t,n),dl=o,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Ut(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,t,s),o=o.next}while(o!==r)}hl(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,hl(e,t,n),Ya=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));pl(s,a,o),ul=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){kc(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&$(o,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):b(o,d,h,u)}switch(l){case"input":J(o,s);break;case"textarea":ie(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(o,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[fo]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Vl=$e())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||d,ml(t,e),Ya=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(f=(p=Ja).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Za(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==f?(f.return=p,Ja=f):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),cl(e,al(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(i(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var o=Ja,i=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Xa;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Xa;var c=Ya;if(Xa=s,(Ya=l)&&!c)for(Ja=o;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Sl(o):null!==l?(l.return=s,Ja=l):Sl(o);for(;null!==i;)Ja=i,bl(i,t,n),i=i.sibling;Ja=o,Xa=a,Ya=c}xl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Ja=i):xl(e)}}function xl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wi(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(i(163))}Ya||512&t.flags&&ol(t)}catch(p){kc(t,t.return,p)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function wl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Sl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){kc(t,o,l)}}var i=t.return;try{ol(t)}catch(l){kc(t,i,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var El,kl=Math.ceil,Il=x.ReactCurrentDispatcher,Al=x.ReactCurrentOwner,Cl=x.ReactCurrentBatchConfig,Tl=0,jl=null,_l=null,Rl=0,Pl=0,Nl=Io(0),Ll=0,Ol=null,Ml=0,Dl=0,Fl=0,zl=null,Bl=null,Vl=0,Ul=1/0,ql=null,Wl=!1,Hl=null,Gl=null,Kl=!1,Ql=null,Xl=0,Yl=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Tl)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Rl?Rl&-Rl:null!==gi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,$l=null,Error(i(185));vt(e,n,r),0!==(2&Tl)&&e===jl||(e===jl&&(0===(2&Tl)&&(Dl|=n),4===Ll&&ac(e,Rl)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Ul=$e()+500,Bo&&qo()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&r)||(o[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=ht(e,e===jl?Rl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Bo=!0,Uo(e)}(lc.bind(null,e)):Uo(lc.bind(null,e)),so(function(){0===(6&Tl)&&qo()}),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Jl=-1,Zl=0,0!==(6&Tl))throw Error(i(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===jl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var o=Tl;Tl|=2;var s=fc();for(jl===e&&Rl===t||(ql=null,Ul=$e()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}Ci(),Il.current=s,Tl=o,null!==_l?t=0:(jl=null,Rl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(o=ft(e))&&(r=o,t=ic(e,o))),1===t)throw n=Ol,hc(e,0),ac(e,r),rc(e,$e()),n;if(6===t)ac(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ar(i(),o))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gc(e,r))&&(0!==(s=ft(e))&&(r=s,t=ic(e,s))),1===t))throw n=Ol,hc(e,0),ac(e,r),rc(e,$e()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Bl,ql);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Vl+500-$e())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wc.bind(null,e,Bl,ql),t);break}wc(e,Bl,ql);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>o&&(o=a),r&=~s}if(r=o,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ro(wc.bind(null,e,Bl,ql),r);break}wc(e,Bl,ql);break;default:throw Error(i(329))}}}return rc(e,$e()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&sc(t)),e}function sc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function ac(e,t){for(t&=~Fl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(i(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ol,hc(e,0),ac(e,t),rc(e,$e()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,ql),rc(e,$e()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Ul=$e()+500,Bo&&qo())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Tl)&&Sc();var t=Tl;Tl|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Tl=t))&&qo()}}function dc(){Pl=Nl.current,Ao(Nl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==_l)for(n=_l.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Lo();break;case 3:$i(),Ao(_o),Ao(jo),rs();break;case 5:Zi(r);break;case 4:$i();break;case 13:case 19:Ao(es);break;case 10:Ti(r.type._context);break;case 22:case 23:dc()}n=n.return}if(jl=e,_l=e=Nc(e.current,null),Rl=Pl=t,Ll=0,Ol=null,Fl=Dl=Ml=0,Bl=zl=null,null!==Pi){for(t=0;t<Pi.length;t++)if(null!==(r=(n=Pi[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=o,r.next=s}n.pending=r}Pi=null}return e}function pc(e,t){for(;;){var n=_l;try{if(Ci(),os.current=Js,us){for(var r=as.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,Al.current=null,null===n||null===n.return){Ll=1,Ol=t,_l=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ga(a);if(null!==f){f.flags&=-257,va(f,a,l,0,t),1&f.mode&&ma(s,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mi(ca(c,l));break e}}s=c=ca(c,l),4!==Ll&&(Ll=2),null===zl?zl=[s]:zl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ui(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Ui(s,fa(s,l,t));break e}}s=s.return}while(null!==s)}xc(n)}catch(x){t=x,_l===n&&null!==n&&(_l=n=n.return);continue}break}}function fc(){var e=Il.current;return Il.current=Js,null===e?Js:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===jl||0===(268435455&Ml)&&0===(268435455&Dl)||ac(jl,Rl)}function gc(e,t){var n=Tl;Tl|=2;var r=fc();for(jl===e&&Rl===t||(ql=null,hc(e,t));;)try{vc();break}catch(o){pc(e,o)}if(Ci(),Tl=n,Il.current=r,null!==_l)throw Error(i(261));return jl=null,Rl=0,Ll}function vc(){for(;null!==_l;)bc(_l)}function yc(){for(;null!==_l&&!Xe();)bc(_l)}function bc(e){var t=El(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?xc(e):_l=t,Al.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Pl)))return void(_l=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(_l=n);if(null===e)return Ll=6,void(_l=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(_l=t);_l=t=e}while(null!==t);0===Ll&&(Ll=5)}function wc(e,t,n){var r=bt,o=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&Tl))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,s),e===jl&&(_l=jl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,jc(tt,function(){return Sc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cl.transition,Cl.transition=null;var a=bt;bt=1;var l=Tl;Tl|=4,Al.current=null,function(e,t){if(eo=Wt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==o&&3!==h.nodeType||(l=a+o),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===o&&(l=a),p===s&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Wt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(to),Wt=!!eo,to=eo=null,e.current=n,yl(n,e,o),Ye(),Tl=l,bt=a,Cl.transition=s}else e.current=n;if(Kl&&(Kl=!1,Ql=e,Xl=o),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Xl)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===$l?Yl++:(Yl=0,$l=e):Yl=0,qo()}(e,t,n,r)}finally{Cl.transition=o,bt=r}return null}function Sc(){if(null!==Ql){var e=xt(Xl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Xl=0,0!==(6&Tl))throw Error(i(331));var o=Tl;for(Tl|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var p=(d=Ja).sibling,f=d.return;if(il(d),d===u){Ja=null;break}if(null!==p){p.return=f,Ja=p;break}Ja=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var b=e.current;for(Ja=b;null!==Ja;){var x=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==x)x.return=a,Ja=x;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){kc(l,l.return,S)}if(l===a){Ja=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ja=w;break e}Ja=l.return}}if(Tl=o,qo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(S){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function Ec(e,t,n){e=Bi(e,t=pa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Bi(t,e=fa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Rl&n)===n&&(4===Ll||3===Ll&&(130023424&Rl)===Rl&&500>$e()-Vl?hc(e,0):Fl|=n),rc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Oi(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Ac(e,n)}function jc(e,t){return Ke(e,t)}function _c(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new _c(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,o,s){var a=2;if(r=e,"function"===typeof e)Pc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Oc(n.children,o,s,t);case k:a=8,o|=8;break;case I:return(e=Rc(12,n,t,2|o)).elementType=I,e.lanes=s,e;case j:return(e=Rc(13,n,t,o)).elementType=j,e.lanes=s,e;case _:return(e=Rc(19,n,t,o)).elementType=_,e.lanes=s,e;case N:return Mc(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:a=10;break e;case C:a=9;break e;case T:a=11;break e;case R:a=14;break e;case P:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Rc(a,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function Oc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,o,i,s,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Rc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(i),e}function Vc(e){if(!e)return To;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(No(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(No(n))return Mo(e,n,t)}return t}function Uc(e,t,n,r,o,i,s,a,l){return(e=Bc(n,r,!0,e,0,i,0,a,l)).context=Vc(null),n=e.current,(i=zi(r=ec(),o=tc(n))).callback=void 0!==t&&null!==t?t:null,Bi(n,i,o),e.current.lanes=o,vt(e,o,r),rc(e,r),e}function qc(e,t,n,r){var o=t.current,i=ec(),s=tc(o);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bi(o,t,s))&&(nc(e,o,s,i),Vi(e,o,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_o.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:ja(t),fi();break;case 5:Ji(t);break;case 1:No(t.type)&&Do(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Co(Ei,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Co(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Da(e,t,n):(Co(es,1&es.current),null!==(e=Wa(e,t,n))?e.sibling:null);Co(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ua(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Co(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,ii&&0!==(1048576&t.flags)&&ei(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var o=Po(t,jo.current);_i(t,n),o=gs(null,t,r,e,o,n);var s=vs();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,No(r)?(s=!0,Do(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Di(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,la(t,r,e,n),t=Ta(null,t,r,!0,s,n)):(t.tag=0,ii&&s&&ti(t),xa(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=na(r,e),o){case 0:t=Aa(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Aa(e,t,r,o=t.elementType===r?o:na(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ca(e,t,r,o=t.elementType===r?o:na(r,o),n);case 3:e:{if(ja(t),null===e)throw Error(i(387));r=t.pendingProps,o=(s=t.memoizedState).element,Fi(e,t),qi(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=_a(e,t,r,n,o=ca(Error(i(423)),t));break e}if(r!==o){t=_a(e,t,r,n,o=ca(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,si=null,n=Si(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===o){t=Wa(e,t,n);break e}xa(e,t,r,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ui(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(r,o)?a=null:null!==s&&no(r,s)&&(t.flags|=32),Ia(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Da(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,wa(e,t,r,o=t.elementType===r?o:na(r,o),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,Co(Ei,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===o.children&&!_o.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=zi(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),ji(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ji(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}xa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,_i(t,n),r=r(o=Ri(o)),t.flags|=1,xa(e,t,r,n),t.child;case 14:return o=na(r=t.type,t.pendingProps),Sa(e,t,r,o=na(r.type,o),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:na(r,o),qa(e,t),t.tag=1,No(r)?(e=!0,Do(t)):e=!1,_i(t,n),sa(t,r,o),la(t,r,o,n),Ta(null,t,r,!0,e,n);case 19:return Ua(e,t,n);case 22:return ka(e,t,n)}throw Error(i(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof o){var a=o;o=function(){var e=Wc(s);a.call(e)}}qc(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Wc(s);i.call(e)}}var s=Uc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[mo]=s.current,Ur(8===e.nodeType?e.parentNode:e),uc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[mo]=l.current,Ur(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,o,r);return Wc(s)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));qc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[mo]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,$e()),0===(6&Tl)&&(Ul=$e()+500,qo()))}break;case 13:uc(function(){var t=Oi(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Oi(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Oi(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},kt=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(i(90));K(r),J(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,je=uc;var eu={usingClientEntryPoint:!1,Events:[xo,wo,So,Ae,Ce,cc]},tu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(i(299));var n=!1,r="",o=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,o,0,s,a),e[mo]=t.current,Ur(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2799:(e,t,n)=>{"use strict";n.d(t,{P2:()=>v});var r=n(2555);const o=(e,t)=>t.some(t=>e instanceof t);let i,s;const a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return l.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function p(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(g(this),n),m(a.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(e.apply(g(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.call(g(this),t,...r);return c.set(i,t.sort?t.sort():[t]),m(i)}}function f(e){return"function"===typeof e?p(e):(e instanceof IDBTransaction&&function(e){if(l.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});l.set(e,t)}(e),o(e,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e)}function m(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(m(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&a.set(t,e)}).catch(()=>{}),d.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=f(e);return t!==e&&(u.set(e,t),d.set(t,e)),t}const g=e=>d.get(e);function v(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=m(s);return r&&s.addEventListener("upgradeneeded",e=>{r(m(s.result),e.oldVersion,e.newVersion,m(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{i&&e.addEventListener("close",()=>i()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}const y=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],x=new Map;function w(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(x.get(t))return x.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!y.includes(n))return;const i=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(i=i.index(a.shift())),(await Promise.all([i[n](...a),o&&t.done]))[0]};return x.set(t,i),i}h=(e=>(0,r.A)((0,r.A)({},e),{},{get:(t,n,r)=>w(t,n)||e.get(t,n,r),has:(t,n)=>!!w(t,n)||e.has(t,n)}))(h)},2965:(e,t,n)=>{"use strict";n.d(t,{$b:()=>o,Vy:()=>c});const r=[];var o;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));const i={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},s=o.INFO,a={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=a[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var o=arguments.length,i=new Array(o>2?o-2:0),s=2;s<o;s++)i[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class c{constructor(e){this.name=e,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in o))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?i[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...t),this._logHandler(this,o.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...t),this._logHandler(this,o.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,o.INFO,...t),this._logHandler(this,o.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,o.WARN,...t),this._logHandler(this,o.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,o.ERROR,...t),this._logHandler(this,o.ERROR,...t)}}},3069:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});const r={apiKey:"AIzaSyA4VxXsU3yI3GedYREVkUIOgHo8NU1DUsw",authDomain:"ia-project-91c03.firebaseapp.com",projectId:"ia-project-91c03",storageBucket:"ia-project-91c03.firebasestorage.app",messagingSenderId:"764765123671",appId:"1:764765123671:web:c6861709d1a881fcfe1f12",measurementId:""}},3174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>S.A,StyledEngineProvider:()=>w,ThemeContext:()=>o.T,css:()=>v.AH,default:()=>E,internal_processStyles:()=>k,internal_serializeStyles:()=>A,keyframes:()=>v.i7});var r=n(8168),o=n(9369),i=n(6598),s=n(9436),a=n(1722),l=n(5043),c=n(918),u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,d=(0,c.A)(function(e){return u.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),h=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?d:h},f=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,a.SF)(t,n,r),(0,s.s)(function(){return(0,a.sk)(t,n,r)}),null},g=function e(t,n){var s,c,u=t.__emotion_real===t,d=u&&t.__emotion_base||t;void 0!==n&&(s=n.label,c=n.target);var h=f(t,n,u),g=h||p(d),v=!g("as");return function(){var y=arguments,b=u&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==s&&b.push("label:"+s+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{var x=y[0];b.push(x[0]);for(var w=y.length,S=1;S<w;S++)b.push(y[S],x[S])}var E=(0,o.w)(function(e,t,n){var r=v&&e.as||d,s="",u=[],f=e;if(null==e.theme){for(var y in f={},e)f[y]=e[y];f.theme=l.useContext(o.T)}"string"===typeof e.className?s=(0,a.Rk)(t.registered,u,e.className):null!=e.className&&(s=e.className+" ");var x=(0,i.J)(b.concat(u),t.registered,f);s+=t.key+"-"+x.name,void 0!==c&&(s+=" "+c);var w=v&&void 0===h?p(r):g,S={};for(var E in e)v&&"as"===E||w(E)&&(S[E]=e[E]);return S.className=s,n&&(S.ref=n),l.createElement(l.Fragment,null,l.createElement(m,{cache:t,serialized:x,isStringTag:"string"===typeof r}),l.createElement(r,S))});return E.displayName=void 0!==s?s:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",E.defaultProps=t.defaultProps,E.__emotion_real=E,E.__emotion_base=d,E.__emotion_styles=b,E.__emotion_forwardProp=h,Object.defineProperty(E,"toString",{value:function(){return"."+c}}),E.withComponent=function(t,o){return e(t,(0,r.A)({},n,o,{shouldForwardProp:f(E,o,!0)})).apply(void 0,b)},E}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){g[e]=g(e)});var v=n(3290),y=n(3803),b=n(579);const x=new Map;function w(e){const{injectFirst:t,enableCssLayer:n,children:r}=e,i=l.useMemo(()=>{const e="".concat(t,"-").concat(n);if("object"===typeof document&&x.has(e))return x.get(e);const r=function(e,t){const n=(0,y.A)({key:"css",prepend:e});if(t){const e=n.insert;n.insert=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n[1].styles.match(/^@layer\s+[^{]*$/)||(n[1].styles="@layer mui {".concat(n[1].styles,"}")),e(...n)}}return n}(t,n);return x.set(e,r),r},[t,n]);return t||n?(0,b.jsx)(o.C,{value:i,children:r}):r}var S=n(869);function E(e,t){return g(e,t)}const k=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},I=[];function A(e){return I[0]=e,(0,i.J)(I)}},3234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>o.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>i.A});var r=n(8812),o=n(8698),i=n(7758)},3290:(e,t,n)=>{"use strict";n.d(t,{AH:()=>u,i7:()=>d,mL:()=>c});var r=n(9369),o=n(5043),i=n(1722),s=n(9436),a=n(6598),l=(n(3803),n(219),function(e,t){var n=arguments;if(null==t||!r.h.call(t,"css"))return o.createElement.apply(void 0,n);var i=n.length,s=new Array(i);s[0]=r.E,s[1]=(0,r.c)(e,t);for(var a=2;a<i;a++)s[a]=n[a];return o.createElement.apply(null,s)});!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(l||(l={}));var c=(0,r.w)(function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,o.useContext(r.T)),c=o.useRef();return(0,s.i)(function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),c.current=[n,r],function(){n.flush()}},[t]),(0,s.i)(function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,i.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}},[t,l.name]),null});function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}function d(){var e=u.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},3382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>i});var r=n(528);const o=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i(e){const t="".concat(e).match(o);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||i(e)||t}function a(e,t,n){const r=s(t);return e.displayName||(""!==r?"".concat(n,"(").concat(r,")"):n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.vM:return a(e,e.render,"ForwardRef");case r.lD:return a(e,e.type,"memo");default:return}}}},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},3803:(e,t,n)=>{"use strict";n.d(t,{A:()=>oe});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),o=Math.abs,i=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function p(e){return e.length}function f(e,t){return t.push(e),e}var m=1,g=1,v=0,y=0,b=0,x="";function w(e,t,n,r,o,i,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:m,column:g,length:s,return:""}}function S(e,t){return s(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function E(){return b=y>0?u(x,--y):0,g--,10===b&&(g=1,m--),b}function k(){return b=y<v?u(x,y++):0,g++,10===b&&(g=1,m++),b}function I(){return u(x,y)}function A(){return y}function C(e,t){return d(x,e,t)}function T(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function j(e){return m=g=1,v=h(x=e),y=0,[]}function _(e){return x="",e}function R(e){return a(C(y-1,L(91===e?e+2:40===e?e+1:e)))}function P(e){for(;(b=I())&&b<33;)k();return T(e)>2||T(b)>3?"":" "}function N(e,t){for(;--t&&k()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return C(e,A()+(t<6&&32==I()&&32==k()))}function L(e){for(;k();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&L(b);break;case 40:41===e&&L(e);break;case 92:k()}return y}function O(e,t){for(;k()&&e+b!==57&&(e+b!==84||47!==I()););return"/*"+C(t,y-1)+"*"+i(47===e?e:k())}function M(e){for(;!T(I());)k();return C(e,y)}var D="-ms-",F="-moz-",z="-webkit-",B="comm",V="rule",U="decl",q="@keyframes";function W(e,t){for(var n="",r=p(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function H(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case U:return e.return=e.return||e.value;case B:return"";case q:return e.return=e.value+"{"+W(e.children,r)+"}";case V:e.value=e.props.join(",")}return h(n=W(e.children,r))?e.return=e.value+"{"+n+"}":""}function G(e){return _(K("",null,null,null,[""],e=j(e),0,[0],e))}function K(e,t,n,r,o,s,a,d,p){for(var m=0,g=0,v=a,y=0,b=0,x=0,w=1,S=1,C=1,T=0,j="",_=o,L=s,D=r,F=j;S;)switch(x=T,T=k()){case 40:if(108!=x&&58==u(F,v-1)){-1!=c(F+=l(R(T),"&","&\f"),"&\f")&&(C=-1);break}case 34:case 39:case 91:F+=R(T);break;case 9:case 10:case 13:case 32:F+=P(x);break;case 92:F+=N(A()-1,7);continue;case 47:switch(I()){case 42:case 47:f(X(O(k(),A()),t,n),p);break;default:F+="/"}break;case 123*w:d[m++]=h(F)*C;case 125*w:case 59:case 0:switch(T){case 0:case 125:S=0;case 59+g:-1==C&&(F=l(F,/\f/g,"")),b>0&&h(F)-v&&f(b>32?Y(F+";",r,n,v-1):Y(l(F," ","")+";",r,n,v-2),p);break;case 59:F+=";";default:if(f(D=Q(F,t,n,m,g,o,d,j,_=[],L=[],v),s),123===T)if(0===g)K(F,t,D,D,_,s,v,d,L);else switch(99===y&&110===u(F,3)?100:y){case 100:case 108:case 109:case 115:K(e,D,D,r&&f(Q(e,D,D,0,0,o,d,j,o,_=[],v),L),o,L,v,d,r?_:L);break;default:K(F,D,D,D,[""],L,0,d,L)}}m=g=b=0,w=C=1,j=F="",v=a;break;case 58:v=1+h(F),b=x;default:if(w<1)if(123==T)--w;else if(125==T&&0==w++&&125==E())continue;switch(F+=i(T),T*w){case 38:C=g>0?1:(F+="\f",-1);break;case 44:d[m++]=(h(F)-1)*C,C=1;break;case 64:45===I()&&(F+=R(k())),y=I(),g=v=h(j=F+=M(A())),T++;break;case 45:45===x&&2==h(F)&&(w=0)}}return s}function Q(e,t,n,r,i,s,c,u,h,f,m){for(var g=i-1,v=0===i?s:[""],y=p(v),b=0,x=0,S=0;b<r;++b)for(var E=0,k=d(e,g+1,g=o(x=c[b])),I=e;E<y;++E)(I=a(x>0?v[E]+" "+k:l(k,/&\f/g,v[E])))&&(h[S++]=I);return w(e,t,n,0===i?V:u,h,f,m)}function X(e,t,n){return w(e,t,n,B,i(b),d(e,2,-2),0)}function Y(e,t,n,r){return w(e,t,n,U,d(e,0,r),d(e,r+1,-1),r)}var $=function(e,t,n){for(var r=0,o=0;r=o,o=I(),38===r&&12===o&&(t[n]=1),!T(o);)k();return C(e,y)},J=function(e,t){return _(function(e,t){var n=-1,r=44;do{switch(T(r)){case 0:38===r&&12===I()&&(t[n]=1),e[n]+=$(y-1,t,n);break;case 2:e[n]+=R(r);break;case 4:if(44===r){e[++n]=58===I()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=i(r)}}while(r=k());return e}(j(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!r){Z.set(e,!0);for(var o=[],i=J(t,o),s=n.props,a=0,l=0;a<i.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=o[a]?i[a].replace(/&\f/g,s[c]):s[c]+" "+i[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return z+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return z+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return z+e+F+e+D+e+e;case 6828:case 4268:return z+e+D+e+e;case 6165:return z+e+D+"flex-"+e+e;case 5187:return z+e+l(e,/(\w+).+(:[^]+)/,z+"box-$1$2"+D+"flex-$1$2")+e;case 5443:return z+e+D+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return z+e+D+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return z+e+D+l(e,"shrink","negative")+e;case 5292:return z+e+D+l(e,"basis","preferred-size")+e;case 6060:return z+"box-"+l(e,"-grow","")+z+e+D+l(e,"grow","positive")+e;case 4554:return z+l(e,/([^-])(transform)/g,"$1"+z+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,z+"$1"),/(image-set)/,z+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,z+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,z+"box-pack:$3"+D+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+z+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,z+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+z+"$2-$3$1"+F+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+z)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+z+(45===u(e,14)?"inline-":"")+"box$3$1"+z+"$2$3$1"+D+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return z+e+D+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return z+e+D+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return z+e+D+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return z+e+D+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case U:e.return=ne(e.value,e.length);break;case q:return W([S(e,{value:l(e.value,"@","@"+z)})],r);case V:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([S(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return W([S(e,{props:[l(t,/:(plac\w+)/,":"+z+"input-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,D+"input-$1")]})],r)}return""})}}],oe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var o,i,s=e.stylisPlugins||re,a={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)});var c,u,d=[H,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=p(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}([ee,te].concat(s,d));i=function(e,t,n,r){c=n,W(G(e?e+"{"+t.styles+"}":t.styles),h),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return f.sheet.hydrate(l),f}},3815:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9172);const o=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,o)&&!k.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:a,props:i,_owner:E.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+T(l,0):i,w(s)?(o="",null!=e&&(o=e.replace(C,"$&/")+"/"),j(s,t,o,"",function(e){return e})):null!=s&&(A(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+T(a=e[c],c);l+=j(a,t,o,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=j(a=a.value,t,o,u=i+T(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,n){if(null==e)return e;var r=[],o=0;return j(e,r,"","",function(e){return t.call(n,e,o++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},N={transition:null},L={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:N,ReactCurrentOwner:E};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,n){_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _(e,function(){t++}),t},toArray:function(e){return _(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=E.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4853:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8587),o=n(8168);const i=["values","unit","step"],s=e=>{const t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>(0,o.A)({},e,{[t.key]:t.val}),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,r.A)(e,i),c=s(t),u=Object.keys(c);function d(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function h(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-a/100).concat(n,")")}function p(e,r){const o=u.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[u[o]]?t[u[o]]:r)-a/100).concat(n,")")}return(0,o.A)({keys:u,values:c,up:d,down:h,between:p,only:function(e){return u.indexOf(e)+1<u.length?p(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):p(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case o:return t}}}function S(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===a||e===s||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===v)},t.typeOf=w},4989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>o.A,unstable_applyStyles:()=>i.A});var r=n(8280),o=n(4853),i=n(9703)},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5403:(e,t,n)=>{"use strict";var r;n.d(t,{E_:()=>l,F3:()=>a,Ii:()=>s}),function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(r||(r={}));class o extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const i=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},i=n.Plugins=n.Plugins||{},s=()=>null!==t?t.name:(e=>{var t,n;return(null===e||void 0===e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null===e||void 0===e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e),a=e=>{var t;return null===(t=n.PluginHeaders)||void 0===t?void 0:t.find(t=>t.name===e)},l=new Map;return n.convertFileSrc||(n.convertFileSrc=e=>e),n.getPlatform=s,n.handleError=t=>e.console.error(t),n.isNativePlatform=()=>"web"!==s(),n.isPluginAvailable=e=>{const t=l.get(e);return!!(null===t||void 0===t?void 0:t.platforms.has(s()))||!!a(e)},n.registerPlugin=function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u=l.get(e);if(u)return console.warn('Capacitor plugin "'.concat(e,'" already registered. Cannot register plugins twice.')),u.proxy;const d=s(),h=a(e);let p;const f=i=>{let s;const a=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];const f=(async()=>(!p&&d in c?p=p="function"===typeof c[d]?await c[d]():c[d]:null!==t&&!p&&"web"in c&&(p=p="function"===typeof c.web?await c.web():c.web),p))().then(t=>{const a=((t,i)=>{var s,a;if(!h){if(t)return null===(a=t[i])||void 0===a?void 0:a.bind(t);throw new o('"'.concat(e,'" plugin is not implemented on ').concat(d),r.Unimplemented)}{const r=null===h||void 0===h?void 0:h.methods.find(e=>i===e.name);if(r)return"promise"===r.rtype?t=>n.nativePromise(e,i.toString(),t):(t,r)=>n.nativeCallback(e,i.toString(),t,r);if(t)return null===(s=t[i])||void 0===s?void 0:s.bind(t)}})(t,i);if(a){const e=a(...l);return s=null===e||void 0===e?void 0:e.remove,e}throw new o('"'.concat(e,".").concat(i,'()" is not implemented on ').concat(d),r.Unimplemented)});return"addListener"===i&&(f.remove=async()=>s()),f};return a.toString=()=>"".concat(i.toString(),"() { [capacitor code] }"),Object.defineProperty(a,"name",{value:i,writable:!1,configurable:!1}),a},m=f("addListener"),g=f("removeListener"),v=(e,t)=>{const n=m({eventName:e},t),r=async()=>{const r=await n;g({eventName:e,callbackId:r},t)},o=new Promise(e=>n.then(()=>e({remove:r})));return o.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await r()},o},y=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return h?v:m;case"removeListener":return g;default:return f(t)}}});return i[e]=y,l.set(e,{name:e,proxy:y,platforms:new Set([...Object.keys(c),...h?[d]:[]])}),y},n.Exception=o,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},s=(e=>e.Capacitor=i(e))("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}),a=s.registerPlugin;class l{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r),n&&this.sendRetainedArgumentsForEvent(e);return Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const r=this.listeners[e];if(r)r.forEach(e=>e(t));else if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}}hasListeners(e){var t;return!!(null===(t=this.listeners[e])||void 0===t?void 0:t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not implemented";return new s.Exception(e,r.Unimplemented)}unavailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not available";return new s.Exception(e,r.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const r=n.indexOf(t);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(t=>{this.notifyListeners(e,t)}))}}const c=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),u=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class d extends l{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(e=>{if(e.length<=0)return;let[n,r]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=u(n).trim(),r=u(r).trim(),t[n]=r}),t}async setCookie(e){try{const t=c(e.key),n=c(e.value),r="; expires=".concat((e.expires||"").replace("expires=","")),o=(e.path||"/").replace("path=",""),i=null!=e.url&&e.url.length>0?"domain=".concat(e.url):"";document.cookie="".concat(t,"=").concat(n||"").concat(r,"; path=").concat(o,"; ").concat(i,";")}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie="".concat(e.key,"=; Max-Age=0")}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat((new Date).toUTCString(),";path=/"))}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}a("CapacitorCookies",{web:()=>new d});const h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object.assign({method:e.method||"GET",headers:e.headers},t),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.keys(e);return Object.keys(e).map(e=>e.toLocaleLowerCase()).reduce((n,r,o)=>(n[r]=e[t[o]],n),{})}(e.headers),o=r["content-type"]||"";if("string"===typeof e.data)n.body=e.data;else if(o.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,r]of Object.entries(e.data||{}))t.set(n,r);n.body=t.toString()}else if(o.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach((e,n)=>{t.append(n,e)});else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const r=new Headers(n.headers);r.delete("content-type"),n.headers=r}else(o.includes("application/json")||"object"===typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class p extends l{async request(e){const t=h(e,e.webFetchExtra),n=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?Object.entries(e).reduce((e,n)=>{const[r,o]=n;let i,s;return Array.isArray(o)?(s="",o.forEach(e=>{i=t?encodeURIComponent(e):e,s+="".concat(r,"=").concat(i,"&")}),s.slice(0,-1)):(i=t?encodeURIComponent(o):o,s="".concat(r,"=").concat(i)),"".concat(e,"&").concat(s)},"").substr(1):null}(e.params,e.shouldEncodeUrlParams),r=n?"".concat(e.url,"?").concat(n):e.url,o=await fetch(r,t),i=o.headers.get("content-type")||"";let s,a,{responseType:l="text"}=o.ok?e:{};switch(i.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":a=await o.blob(),s=await(async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const e=r.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},r.onerror=e=>n(e),r.readAsDataURL(e)}))(a);break;case"json":s=await o.json();break;default:s=await o.text()}const c={};return o.headers.forEach((e,t)=>{c[t]=e}),{data:s,headers:c,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}a("CapacitorHttp",{web:()=>new p})},6068:(e,t,n)=>{"use strict";n.d(t,{c7:()=>R});var r=n(1150),o=n(1776),i=n(9606);const s="firebasestorage.googleapis.com",a="storageBucket";class l extends o.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(d(e),"Firebase Storage: ".concat(t," (").concat(d(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,l.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return d(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var c,u;function d(e){return"storage/"+e}function h(){return new l(c.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function p(){return new l(c.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f(){return new l(c.CANCELED,"User canceled the upload/download.")}function m(e){return new l(c.INVALID_ARGUMENT,e)}function g(){return new l(c.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(c||(c={}));class v{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=v.makeFromUrl(e,t)}catch(o){return new v(e,"")}if(""===n.path)return n;throw r=e,new l(c.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const o=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://".concat(t===s?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:i}];for(let s=0;s<u.length;s++){const t=u[s],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let o=r[t.indices.path];o||(o=""),n=new v(e,o),t.postModify(n);break}}if(null==n)throw function(e){return new l(c.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class y{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function b(e,t,n,r){if(r<t)throw m("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw m("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function x(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function w(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),o=-1!==t.indexOf(e);return n||r||o}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(u||(u={}));class S{constructor(e,t,n,r,o,i,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new E(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===u.NO_ERROR,o=n.getStatus();if(!t||w(o,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===u.ABORT;return void e(!1,new E(!1,null,t))}const i=-1!==this.successCodes_.indexOf(o);e(!0,new E(i,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,o=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(o,o.getResponse());void 0!==e?n(e):n()}catch(i){r(i)}else if(null!==o){const e=h();e.serverResponse=o.getErrorText(),this.errorCallback_?r(this.errorCallback_(o,e)):r(e)}else if(t.canceled){r(this.appDelete_?g():f())}else{r(p())}};this.canceled_?t(0,new E(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,o=null,i=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){o=setTimeout(()=>{o=null,e(p,l())},t)}function h(){i&&clearTimeout(i)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),d(i)}let f=!1;function m(e){f||(f=!0,h(),c||(null!==o?(e||(a=2),clearTimeout(o),d(0)):e||(a=1)))}return d(0),i=setTimeout(()=>{s=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class E{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function k(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class I{constructor(e,t){this._service=e,this._location=t instanceof v?t:v.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new I(e,t)}get root(){const e=new v(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return k(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new v(this._location.bucket,e);return new I(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new l(c.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function A(e,t){const n=null===t||void 0===t?void 0:t[a];return null==n?null:v.makeFromBucketSpec(n,e)}class C{constructor(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=i,this._bucket=null,this._host=s,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?v.makeFromBucketSpec(r,this._host):A(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=v.makeFromBucketSpec(this._url,e):this._bucket=A(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){b("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){b("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new I(this,e)}_makeRequest(e,t,n,r){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new y(g());{const i=function(e,t,n,r,o,i){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=x(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new S(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o,s,a)}(e,this._appId,n,r,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const T="@firebase/storage",j="0.14.0",_="storage";function R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,o.Ku)(e);const n=(0,r.j6)(e,_).getImmediate({identifier:t}),i=(0,o.yU)("storage");return i&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const i=(0,o.zJ)(t);i&&((0,o.gE)("https://".concat(e.host,"/b")),(0,o.P1)("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken="string"===typeof s?s:(0,o.Fy)(s,e.app.options.projectId))}(e,t,n,r)}(n,...i),n}function P(e,t){let{instanceIdentifier:n}=t;const o=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new C(o,i,s,n,r.MF)}(0,r.om)(new i.uA(_,P,"PUBLIC").setMultipleInstances(!0)),(0,r.KO)(T,j,""),(0,r.KO)(T,j,"esm2020")},6531:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(1188)},6598:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(918),i=!1,s=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},u=(0,o.A)(function(e){return l(e)?e:e.replace(s,"-$&").toLowerCase()}),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,function(e,t,n){return f={name:t,styles:n,next:f},t})}return 1===r[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},h="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function p(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return f={name:o.name,styles:o.styles,next:f},o.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)f={name:a.name,styles:a.styles,next:f},a=a.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=p(e,t,n[o])+";";else for(var s in n){var a=n[s];if("object"!==typeof a){var l=a;null!=t&&void 0!==t[l]?r+=s+"{"+t[l]+"}":c(l)&&(r+=u(s)+":"+d(s,l)+";")}else{if("NO_COMPONENT_SELECTOR"===s&&i)throw new Error(h);if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var f=p(e,t,a);switch(s){case"animation":case"animationName":r+=u(s)+":"+f+";";break;default:r+=s+"{"+f+"}"}}else for(var m=0;m<a.length;m++)c(a[m])&&(r+=u(s)+":"+d(s,a[m])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var l=f,m=n(e);return f=l,p(e,t,m)}}var g=n;if(null==t)return g;var v=t[g];return void 0!==v?v:g}var f,m=/label:\s*([^\s;{]+)\s*(;|$)/g;function g(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";f=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=p(n,t,i)):o+=i[0];for(var s=1;s<e.length;s++){if(o+=p(n,t,e[s]),r)o+=i[s]}m.lastIndex=0;for(var a,l="";null!==(a=m.exec(o));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:f}}},6667:(e,t,n)=>{"use strict";n.d(t,{Dc:()=>be,rJ:()=>Wu,H9:()=>Hu,ol:()=>Zu,x7:()=>$d,GG:()=>Zd,aU:()=>Yu,AB:()=>Bd,My:()=>Fd,P:()=>Nd,BN:()=>eh,mZ:()=>th,_M:()=>Od});var r,o,i=n(2555),s=n(1150),a=n(9606),l=n(2965),c=n(1776),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},d={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var o=0;o<16;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;o<16;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];let i,s=e.g[3];i=t+(s^n&(o^s))+r[0]+3614090360&4294967295,i=s+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[1]+3905402710&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[2]+606105819&4294967295,i=n+(t^(o=s+(i<<17&4294967295|i>>>15))&(s^t))+r[3]+3250441966&4294967295,i=t+(s^(n=o+(i<<22&4294967295|i>>>10))&(o^s))+r[4]+4118548399&4294967295,i=s+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[5]+1200080426&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[6]+2821735955&4294967295,i=n+(t^(o=s+(i<<17&4294967295|i>>>15))&(s^t))+r[7]+4249261313&4294967295,i=t+(s^(n=o+(i<<22&4294967295|i>>>10))&(o^s))+r[8]+1770035416&4294967295,i=s+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[9]+2336552879&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[10]+4294925233&4294967295,i=n+(t^(o=s+(i<<17&4294967295|i>>>15))&(s^t))+r[11]+2304563134&4294967295,i=t+(s^(n=o+(i<<22&4294967295|i>>>10))&(o^s))+r[12]+1804603682&4294967295,i=s+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[13]+4254626195&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[14]+2792965006&4294967295,i=n+(t^(o=s+(i<<17&4294967295|i>>>15))&(s^t))+r[15]+1236535329&4294967295,i=t+(o^s&((n=o+(i<<22&4294967295|i>>>10))^o))+r[1]+4129170786&4294967295,i=s+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[6]+3225465664&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[11]+643717713&4294967295,i=n+(s^t&((o=s+(i<<14&4294967295|i>>>18))^s))+r[0]+3921069994&4294967295,i=t+(o^s&((n=o+(i<<20&4294967295|i>>>12))^o))+r[5]+3593408605&4294967295,i=s+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[10]+38016083&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[15]+3634488961&4294967295,i=n+(s^t&((o=s+(i<<14&4294967295|i>>>18))^s))+r[4]+3889429448&4294967295,i=t+(o^s&((n=o+(i<<20&4294967295|i>>>12))^o))+r[9]+568446438&4294967295,i=s+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[14]+3275163606&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[3]+4107603335&4294967295,i=n+(s^t&((o=s+(i<<14&4294967295|i>>>18))^s))+r[8]+1163531501&4294967295,i=t+(o^s&((n=o+(i<<20&4294967295|i>>>12))^o))+r[13]+2850285829&4294967295,i=s+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[2]+4243563512&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[7]+1735328473&4294967295,i=n+(s^t&((o=s+(i<<14&4294967295|i>>>18))^s))+r[12]+2368359562&4294967295,i=t+((n=o+(i<<20&4294967295|i>>>12))^o^s)+r[5]+4294588738&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[8]+2272392833&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[11]+1839030562&4294967295,i=n+((o=s+(i<<16&4294967295|i>>>16))^s^t)+r[14]+4259657740&4294967295,i=t+((n=o+(i<<23&4294967295|i>>>9))^o^s)+r[1]+2763975236&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[4]+1272893353&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[7]+4139469664&4294967295,i=n+((o=s+(i<<16&4294967295|i>>>16))^s^t)+r[10]+3200236656&4294967295,i=t+((n=o+(i<<23&4294967295|i>>>9))^o^s)+r[13]+681279174&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[0]+3936430074&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[3]+3572445317&4294967295,i=n+((o=s+(i<<16&4294967295|i>>>16))^s^t)+r[6]+76029189&4294967295,i=t+((n=o+(i<<23&4294967295|i>>>9))^o^s)+r[9]+3654602809&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[12]+3873151461&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[15]+530742520&4294967295,i=n+((o=s+(i<<16&4294967295|i>>>16))^s^t)+r[2]+3299628645&4294967295,i=t+(o^((n=o+(i<<23&4294967295|i>>>9))|~s))+r[0]+4096336452&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[7]+1126891415&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[14]+2878612391&4294967295,i=n+(s^((o=s+(i<<15&4294967295|i>>>17))|~t))+r[5]+4237533241&4294967295,i=t+(o^((n=o+(i<<21&4294967295|i>>>11))|~s))+r[12]+1700485571&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[3]+2399980690&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[10]+4293915773&4294967295,i=n+(s^((o=s+(i<<15&4294967295|i>>>17))|~t))+r[1]+2240044497&4294967295,i=t+(o^((n=o+(i<<21&4294967295|i>>>11))|~s))+r[8]+1873313359&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[15]+4264355552&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[6]+2734768916&4294967295,i=n+(s^((o=s+(i<<15&4294967295|i>>>17))|~t))+r[13]+1309151649&4294967295,i=t+(o^((n=o+(i<<21&4294967295|i>>>11))|~s))+r[4]+4149444226&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[11]+3174756917&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[2]+718787259&4294967295,i=n+(s^((o=s+(i<<15&4294967295|i>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+s&4294967295}function i(e,t){this.h=t;const n=[];let r=!0;for(let o=e.length-1;o>=0;o--){const i=0|e[o];r&&i==t||(n[o]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,o=this.C;let i=this.h,s=0;for(;s<t;){if(0==i)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(o[i++]=e.charCodeAt(s++),i==this.blockSize){n(this,o),i=0;break}}else for(;s<t;)if(o[i++]=e[s++],i==this.blockSize){n(this,o),i=0;break}}this.h=i,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var s={};function a(e){return-128<=e&&e<128?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new i([0|e],e<0?-1:0)}):new i([0|e],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(e<0)return m(l(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new i(t,0)}var c=a(0),u=a(1),h=a(16777216);function p(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function f(e){return-1==e.h}function m(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new i(n,~e.h).add(u)}function g(e,t){return e.add(m(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(p(t))throw Error("division by zero");if(p(e))return new y(c,c);if(f(e))return t=b(m(e),t),new y(m(t.g),m(t.h));if(f(t))return t=b(e,m(t)),new y(m(t.g),t.h);if(e.g.length>30){if(f(e)||f(t))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=t;r.l(e)<=0;)n=x(n),r=x(r);var o=w(n,1),i=w(r,1);for(r=w(r,2),n=w(n,2);!p(r);){var s=i.add(r);s.l(e)<=0&&(o=o.add(n),i=s),r=w(r,1),n=w(n,1)}return t=g(e,o.j(t)),new y(o,t)}for(o=c;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),s=(i=l(n)).j(t);f(s)||s.l(e)>0;)s=(i=l(n-=r)).j(t);p(i)&&(i=u),o=o.add(i),e=g(e,s)}return new y(o,e)}function x(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new i(n,e.h)}function w(e,t){const n=t>>5;t%=32;const r=e.g.length-n,o=[];for(let i=0;i<r;i++)o[i]=t>0?e.i(i+n)>>>t|e.i(i+n+1)<<32-t:e.i(i+n);return new i(o,e.h)}(e=i.prototype).m=function(){if(f(this))return-m(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(p(this))return"0";if(f(this))return"-"+m(this).toString(e);const t=l(Math.pow(e,6));var n=this;let r="";for(;;){const o=b(n,t).g;let i=(((n=g(n,o.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(p(n=o))return i+r;for(;i.length<6;)i="0"+i;r=i+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return f(e=g(this,e))?-1:p(e)?0:1},e.abs=function(){return f(this)?m(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let r=0;for(let o=0;o<=t;o++){let t=r+(65535&this.i(o))+(65535&e.i(o)),i=(t>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);r=i>>>16,t&=65535,i&=65535,n[o]=i<<16|t}return new i(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(p(this)||p(e))return c;if(f(this))return f(e)?m(this).j(m(e)):m(m(this).j(e));if(f(e))return m(this.j(m(e)));if(this.l(h)<0&&e.l(h)<0)return l(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){const o=this.i(r)>>>16,i=65535&this.i(r),s=e.i(t)>>>16,a=65535&e.i(t);n[2*r+2*t]+=i*a,v(n,2*r+2*t),n[2*r+2*t+1]+=o*a,v(n,2*r+2*t+1),n[2*r+2*t+1]+=i*s,v(n,2*r+2*t+1),n[2*r+2*t+2]+=o*s,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new i(n,0)},e.B=function(e){return b(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new i(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new i(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new i(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,o=d.Md5=t,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.B,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=l,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return m(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=l(Math.pow(n,8));let o=c;for(let s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s);const e=parseInt(t.substring(s,s+i),n);i<8?(i=l(Math.pow(n,i)),o=o.j(i).add(l(e))):(o=o.j(r),o=o.add(l(e)))}return o},r=d.Integer=i}).apply("undefined"!==typeof u?u:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var h,p,f,m,g,v,y,b,x="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof x&&x];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var o=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in o))break e;o=o[s]}(r=r(i=o[e=e[e.length-1]]))!=i&&null!=r&&t(o,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var o=o||{},i=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function S(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function k(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let o=0;o<r;o++)e[n+o]=t[o]}else e.push(t)}}function I(e){i.setTimeout(()=>{throw e},0)}function A(){var e=R;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T,e=>e.reset());class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let j,_=!1,R=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=Promise.resolve(void 0);j=()=>{e.then(N)}};function N(){for(var e;e=A();){try{e.h.call(e.g)}catch(n){I(n)}var t=C;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}_=!1}function L(){this.u=this.u,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function D(e){return/^[\s\xa0]*$/.test(e)}function F(e,t){O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(F,O),F.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),B=0;function V(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=o,this.key=++B,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function q(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function W(e){const t={};for(const n in e)t[n]=e[n];return t}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(e,t){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)e[n]=r[n];for(let t=0;t<H.length;t++)n=H[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function K(e){this.src=e,this.g={},this.h=0}function Q(e,t){const n=t.type;if(n in e.g){var r,o=e.g[n],i=Array.prototype.indexOf.call(o,t,void 0);(r=i>=0)&&Array.prototype.splice.call(o,i,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function X(e,t,n,r){for(let o=0;o<e.length;++o){const i=e[o];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return o}return-1}K.prototype.add=function(e,t,n,r,o){const i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);const s=X(e,t,r,o);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new V(t,this.src,i,!!r,o)).fa=n,e.push(t)),t};var Y="closure_lm_"+(1e6*Math.random()|0),$={};function J(e,t,n,r,o){if(r&&r.once)return ee(e,t,n,r,o);if(Array.isArray(t)){for(let i=0;i<t.length;i++)J(e,t[i],n,r,o);return null}return n=le(n),e&&e[z]?e.J(t,n,s(r)?!!r.capture:!!r,o):Z(e,t,n,!1,r,o)}function Z(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");const a=s(o)?!!o.capture:!!o;let l=se(e);if(l||(e[Y]=l=new K(e)),(n=l.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ie;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(oe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ee(e,t,n,r,o){if(Array.isArray(t)){for(let i=0;i<t.length;i++)ee(e,t[i],n,r,o);return null}return n=le(n),e&&e[z]?e.K(t,n,s(r)?!!r.capture:!!r,o):Z(e,t,n,!0,r,o)}function te(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)te(e,t[i],n,r,o);else r=s(r)?!!r.capture:!!r,n=le(n),e&&e[z]?(e=e.i,(i=String(t).toString())in e.g&&((n=X(t=e.g[i],n,r,o))>-1&&(U(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[i],e.h--)))):e&&(e=se(e))&&(t=e.g[t.toString()],e=-1,t&&(e=X(t,n,r,o)),(n=e>-1?t[e]:null)&&re(n))}function re(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[z])Q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(oe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=se(t))?(Q(n,e),0==n.h&&(n.src=null,t[Y]=null)):U(e)}}}function oe(e){return e in $?$[e]:$[e]="on"+e}function ie(e,t){if(e.da)e=!0;else{t=new F(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&re(e),e=n.call(r,t)}return e}function se(e){return(e=e[Y])instanceof K?e:null}var ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(e){return"function"===typeof e?e:(e[ae]||(e[ae]=function(t){return e.handleEvent(t)}),e[ae])}function ce(){L.call(this),this.i=new K(this),this.M=this,this.G=null}function ue(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var o=t;G(t=new O(r,e),o)}let i,s;if(o=!0,n)for(s=n.length-1;s>=0;s--)i=t.g=n[s],o=de(i,r,!0,t)&&o;if(i=t.g=e,o=de(i,r,!0,t)&&o,o=de(i,r,!1,t)&&o,n)for(s=0;s<n.length;s++)i=t.g=n[s],o=de(i,r,!1,t)&&o}function de(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let o=!0;for(let i=0;i<t.length;++i){const s=t[i];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&Q(e.i,s),o=!1!==t.call(n,r)&&o}}return o&&!r.defaultPrevented}function he(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:i.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,he(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(ce,L),ce.prototype[z]=!0,ce.prototype.removeEventListener=function(e,t,n,r){te(this,e,t,n,r)},ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)U(n[e]);delete e.g[t],e.h--}}this.G=null},ce.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ce.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class pe extends L{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:he(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fe(e){L.call(this),this.h=e,this.g={}}u(fe,L);var me=[];function ge(e){q(e.g,function(e,t){this.g.hasOwnProperty(t)&&re(e)},e),e.g={}}fe.prototype.N=function(){fe.Z.N.call(this),ge(this)},fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ve=i.JSON.stringify,ye=i.JSON.parse,be=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function xe(){}function we(){}var Se={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ee(){O.call(this,"d")}function ke(){O.call(this,"c")}u(Ee,O),u(ke,O);var Ie={},Ae=null;function Ce(){return Ae=Ae||new ce}function Te(e){O.call(this,Ie.Ia,e)}function je(e){const t=Ce();ue(t,new Te(t))}function _e(e,t){O.call(this,Ie.STAT_EVENT,e),this.stat=t}function Re(e){const t=Ce();ue(t,new _e(t,e))}function Pe(e,t){O.call(this,Ie.Ja,e),this.size=t}function Ne(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Le(){this.g=!0}function Oe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const i=JSON.parse(t);if(i)for(e=0;e<i.length;e++)if(Array.isArray(i[e])){var n=i[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(let e=1;e<r.length;e++)r[e]=""}}}return ve(i)}catch(i){return t}}(e,n)+(r?" "+r:"")})}Ie.Ia="serverreachability",u(Te,O),Ie.STAT_EVENT="statevent",u(_e,O),Ie.Ja="timingevent",u(Pe,O),Le.prototype.ua=function(){this.g=!1},Le.prototype.info=function(){};var Me,De={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function ze(){}function Be(e){return encodeURIComponent(String(e))}function Ve(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ue(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new fe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}u(ze,xe),ze.prototype.g=function(){return new XMLHttpRequest},Me=new ze;var We={},He={};function Ge(e,t,n){e.M=1,e.A=vt(ht(t)),e.u=n,e.R=!0,Ke(e,null)}function Ke(e,t){e.F=Date.now(),Ye(e),e.B=ht(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),Rt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new qe,e.g=yn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new pe(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var o="readystatechange";Array.isArray(o)||(o&&(me[0]=o.toString()),o=me);for(let i=0;i<o.length;i++){const e=J(n,o[i],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?W(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),je(),function(e,t,n,r,o,i){e.info(function(){if(e.g)if(i){var s="",a=i.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Qe(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Xe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?He:(n=Number(t.substring(n,r)),isNaN(n)?We:(r+=1)+n>t.length?He:(t=t.slice(r,r+n),e.C=r+n,t))}function Ye(e){e.T=Date.now()+e.H,$e(e,e.H)}function $e(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Ne(l(e.aa,e),t)}function Je(e){e.D&&(i.clearTimeout(e.D),e.D=null)}function Ze(e){0==e.j.I||e.K||pn(e.j,e)}function et(e){Je(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ge(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function tt(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||st(n.h,e)))if(!e.L&&st(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;hn(n),tn(n)}cn(n),Re(18)}}else n.xa=o[1],0<n.xa-n.K&&o[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Ne(l(n.Va,n),6e3));it(n.h)<=1&&n.ta&&(n.ta=void 0)}else mn(n,11)}else if((e.L||n.g==e)&&hn(n),!D(t))for(o=n.Ba.g.parse(t),t=0;t<o.length;t++){let l=o[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const o=l[4];null!=o&&(n.za=o,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(at(i,i.h),i.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,gt(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=vn(r,r.L?r.ba:null,r.W),s.L){lt(r.h,s);var a=s,c=r.O;c&&(a.H=c),a.D&&(Je(a),Ye(a)),r.g=s}else ln(r);n.i.length>0&&rn(n)}else"stop"!=l[0]&&"close"!=l[0]||mn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?mn(n,7):en(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}je()}catch(u){}}Ue.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Yt(e)?t.j():this.Y(e)},Ue.prototype.Y=function(e){try{if(e==this.g)e:{const l=Yt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||4!=l||7==c||je(),Je(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Qe(e))return e.g.la();const t=$t(e.g);if(""===t)return"";let n="";const r=t.length,o=4==Yt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return et(e),Ze(e),"";e.h.i=new i.TextDecoder}for(let i=0;i<r;i++)e.h.h=!0,n+=e.h.i.decode(t[i],{stream:!(o&&i==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,o,i,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+i+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,o=this.g;if((r=o.g?o.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,Re(12),et(this),Ze(this);break e}Oe(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Xe(this,n),t==He){4==l&&(this.m=4,Re(14),e=!1),Oe(this.i,this.l,null,"[Incomplete Response]");break}if(t==We){this.m=4,Re(15),Oe(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Oe(this.i,this.l,t,null),tt(this,t)}if(Qe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,Re(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),un(a),a.P=!0,Re(11))}}else Oe(this.i,this.l,n,"[Invalid Chunked Response]"),et(this),Ze(this)}else Oe(this.i,this.l,n,null),tt(this,n);4==l&&et(this),this.o&&!this.K&&(4==l?pn(this.j,this):(this.o=!1,Ye(this)))}else(function(e){const t={};e=(e.g&&Yt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(D(e[r]))continue;var n=Ve(e[r]);const o=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[o]||[];t[o]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),et(this),Ze(this)}}}catch(ne){}},Ue.prototype.cancel=function(){this.K=!0,et(this)},Ue.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(je(),Re(17)),et(this),this.m=2,Ze(this)):$e(this,this.T-e)};var nt=class{constructor(e,t){this.g=e,this.map=t}};function rt(e){this.l=e||10,i.PerformanceNavigationTiming?e=(e=i.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ot(e){return!!e.h||!!e.g&&e.g.size>=e.j}function it(e){return e.h?1:e.g?e.g.size:0}function st(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function at(e,t){e.g?e.g.add(t):e.h=t}function lt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ct(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return S(e.i)}rt.prototype.cancel=function(){if(this.i=ct(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ut=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dt(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof dt?(this.l=e.l,pt(this,e.j),this.o=e.o,this.g=e.g,ft(this,e.u),this.h=e.h,mt(this,Pt(e.i)),this.m=e.m):e&&(t=String(e).match(ut))?(this.l=!1,pt(this,t[1]||"",!0),this.o=yt(t[2]||""),this.g=yt(t[3]||"",!0),ft(this,t[4]),this.h=yt(t[5]||"",!0),mt(this,t[6]||"",!0),this.m=yt(t[7]||"")):(this.l=!1,this.i=new At(null,this.l))}function ht(e){return new dt(e)}function pt(e,t,n){e.j=n?yt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ft(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function mt(e,t,n){t instanceof At?(e.i=t,function(e,t){t&&!e.j&&(Ct(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(Tt(this,t),Rt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=bt(t,kt)),e.i=new At(t,e.l))}function gt(e,t,n){e.i.set(t,n)}function vt(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function yt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dt.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(bt(t,wt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(bt(t,wt,!0),"@"),e.push(Be(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bt(n,"/"==n.charAt(0)?Et:St,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",bt(n,It)),e.join("")},dt.prototype.resolve=function(e){const t=ht(this);let n=!!e.j;n?pt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)ft(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var o=t.h.lastIndexOf("/");-1!=o&&(r=t.h.slice(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(-1!=o.indexOf("./")||-1!=o.indexOf("/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");const e=[];for(let t=0;t<o.length;){const n=o[t++];"."==n?r&&t==o.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==o.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=o}return n?t.h=r:n=""!==e.i.toString(),n?mt(t,Pt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var wt=/[#\/\?@]/g,St=/[#\?:]/g,Et=/[#\?]/g,kt=/[#\?@]/g,It=/#/g;function At(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ct(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let o,i=null;r>=0?(o=e[n].substring(0,r),i=e[n].substring(r+1)):o=e[n],t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Tt(e,t){Ct(e),t=Nt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function jt(e,t){return Ct(e),t=Nt(e,t),e.g.has(t)}function _t(e,t){Ct(e);let n=[];if("string"===typeof t)jt(e,t)&&(n=n.concat(e.g.get(Nt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function Rt(e,t,n){Tt(e,t),n.length>0&&(e.i=null,e.g.set(Nt(e,t),S(n)),e.h+=n.length)}function Pt(e){const t=new At;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Nt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Lt(e,t,n,r,o){try{o&&(o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null),r(n)}catch(i){}}function Ot(){this.g=new be}function Mt(e){this.i=e.Sb||null,this.h=e.ab||!1}function Dt(e,t){ce.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Ft(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function zt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Bt(e)}function Bt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Vt(e){let t="";return q(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Ut(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vt(n),"string"===typeof e?null!=n&&Be(n):gt(e,t,n))}function qt(e){ce.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=At.prototype).add=function(e,t){Ct(this),this.i=null,e=Nt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Ct(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return Ct(this),this.i=null,jt(this,e=Nt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=_t(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const o=Be(n);n=_t(this,n);for(let t=0;t<n.length;t++){let r=o;""!==n[t]&&(r+="="+Be(n[t])),e.push(r)}}return this.i=e.join("&")},u(Mt,xe),Mt.prototype.g=function(){return new Dt(this.i,this.h)},u(Dt,ce),(e=Dt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Bt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||i).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,zt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bt(this)),this.g&&(this.readyState=3,Bt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ft(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zt(this):Bt(this),3==this.readyState&&Ft(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,zt(this))},e.Na=function(e){this.g&&(this.response=e,zt(this))},e.ga=function(){this.g&&zt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(qt,ce);var Wt=/^https?$/i,Ht=["POST","PUT"];function Gt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Kt(e),Xt(e)}function Kt(e){e.A||(e.A=!0,ue(e,"complete"),ue(e,"error"))}function Qt(e){if(e.h&&"undefined"!=typeof o)if(e.v&&4==Yt(e))setTimeout(e.Ca.bind(e),0);else if(ue(e,"readystatechange"),4==Yt(e)){e.h=!1;try{const o=e.ca();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){let t=String(e.D).match(ut)[1]||null;!t&&i.self&&i.self.location&&(t=i.self.location.protocol.slice(0,-1)),r=!Wt.test(t?t.toLowerCase():"")}n=r}if(n)ue(e,"complete"),ue(e,"success");else{e.o=6;try{var s=Yt(e)>2?e.g.statusText:""}catch(a){s=""}e.l=s+" ["+e.ca()+"]",Kt(e)}}finally{Xt(e)}}}function Xt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||ue(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Yt(e){return e.g?e.g.readyState:0}function $t(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Jt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zt(e){this.za=0,this.i=[],this.j=new Le,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Jt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Jt("baseRetryDelayMs",5e3,e),this.Za=Jt("retryDelaySeedMs",1e4,e),this.Ta=Jt("forwardChannelMaxRetries",2,e),this.va=Jt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new rt(e&&e.concurrentRequestLimit),this.Ba=new Ot,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function en(e){if(nn(e),3==e.I){var t=e.V++,n=ht(e.J);if(gt(n,"SID",e.M),gt(n,"RID",t),gt(n,"TYPE","terminate"),sn(e,n),(t=new Ue(e,e.j,t)).M=2,t.A=vt(ht(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.A,n=!0),n||(t.g=yn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Ye(t)}gn(e)}function tn(e){e.g&&(un(e),e.g.cancel(),e.g=null)}function nn(e){tn(e),e.v&&(i.clearTimeout(e.v),e.v=null),hn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&i.clearTimeout(e.m),e.m=null)}function rn(e){if(!ot(e.h)&&!e.m){e.m=!0;var t=e.Ea;j||P(),_||(j(),_=!0),R.add(t,e),e.D=0}}function on(e,t){var n;n=t?t.l:e.V++;const r=ht(e.J);gt(r,"SID",e.M),gt(r,"RID",n),gt(r,"AID",e.K),sn(e,r),e.u&&e.o&&Ut(r,e.u,e.o),n=new Ue(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=an(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),at(e.h,n),Ge(n,r,t)}function sn(e,t){e.H&&q(e.H,function(e,n){gt(t,n,e)}),e.l&&q({},function(e,n){gt(t,n,e)})}function an(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var o=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=o[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var i=o[c].g;const n=o[c].map;if((i-=t)<0)t=Math.max(0,o[c].g-100),l=!1;else try{i="req"+i+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;s(n)&&(r=ve(n)),e.push(i+t+"="+encodeURIComponent(r))}}catch(E){throw e.push(i+"type="+encodeURIComponent("_badmap")),E}}catch(E){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function ln(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;j||P(),_||(j(),_=!0),R.add(t,e),e.A=0}}function cn(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=Ne(l(e.Da,e),fn(e,e.A)),e.A++,!0)}function un(e){null!=e.B&&(i.clearTimeout(e.B),e.B=null)}function dn(e){e.g=new Ue(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=ht(e.na);gt(t,"RID","rpc"),gt(t,"SID",e.M),gt(t,"AID",e.K),gt(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&gt(t,"TO",e.ia),gt(t,"TYPE","xmlhttp"),sn(e,t),e.u&&e.o&&Ut(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=vt(ht(t)),n.u=null,n.R=!0,Ke(n,e)}function hn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function pn(e,t){var n=null;if(e.g==t){hn(e),un(e),e.g=null;var r=2}else{if(!st(e.h,t))return;n=t.G,lt(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var o=e.D;ue(r=Ce(),new Pe(r,n)),rn(e)}else ln(e);else if(3==(o=t.m)||0==o&&t.X>0||!(1==r&&function(e,t){return!(it(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=Ne(l(e.Ea,e,t),fn(e,e.D)),e.D++,!0))}(e,t)||2==r&&cn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),o){case 1:mn(e,5);break;case 4:mn(e,10);break;case 3:mn(e,6);break;default:mn(e,2)}}function fn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function mn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new dt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||pt(r,"https"),vt(r),t?function(e,t){const n=new Le;if(i.Image){const r=new Image;r.onload=c(Lt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Lt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Lt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Lt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Le;const n=new AbortController,r=setTimeout(()=>{n.abort(),Lt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Lt(0,0,!0,t):Lt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Lt(0,0,!1,t)})}(r.toString(),n)}else Re(2);e.I=0,e.l&&e.l.pa(t),gn(e),nn(e)}function gn(e){if(e.I=0,e.ja=[],e.l){const t=ct(e.h);0==t.length&&0==e.i.length||(k(e.ja,t),k(e.ja,e.i),e.h.i.length=0,S(e.i),e.i.length=0),e.l.oa()}}function vn(e,t,n){var r=n instanceof dt?ht(n):new dt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ft(r,r.u);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;const e=new dt(null);r&&pt(e,r),t&&(e.g=t),o&&ft(e,o),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&gt(r,n,t),gt(r,"VER",e.ka),sn(e,r),r}function yn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new qt(new Mt({ab:n})):new qt(e.ma)).Fa(e.L),t}function bn(){}function xn(){}function wn(e,t){ce.call(this),this.g=new Zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!D(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!D(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new kn(this)}function Sn(e){Ee.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function En(){ke.call(this),this.status=1}function kn(e){this.g=e}(e=qt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Me.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Gt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=i.FormData&&e instanceof i.FormData,!(Array.prototype.indexOf.call(Ht,t,void 0)>=0)||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){Gt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,ue(this,"complete"),ue(this,"abort"),Xt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),qt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Qt(this):this.Xa())},e.Xa=function(){Qt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Yt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ye(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){Re(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=vn(this,null,this.W),rn(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const o=new Ue(this,this.j,e);let i=this.o;if(this.U&&(i?(i=W(i),G(i,this.U)):i=this.U),null!==this.u||this.R||(o.J=i,i=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=an(this,o,t),gt(n=ht(this.J),"RID",e),gt(n,"CVER",22),this.G&&gt(n,"X-HTTP-Session-Id",this.G),sn(this,n),i&&(this.R?t="headers="+Be(Vt(i))+"&"+t:this.u&&Ut(n,this.u,i)),at(this.h,o),this.Ra&&gt(n,"TYPE","init"),this.S?(gt(n,"$req",t),gt(n,"SID","null"),o.U=!0,Ge(o,n,null)):Ge(o,n,t),this.I=2}}else 3==this.I&&(e?on(this,e):0==this.i.length||ot(this.h)||on(this))},e.Da=function(){if(this.v=null,dn(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Ne(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),tn(this),dn(this))},e.Va=function(){null!=this.C&&(this.C=null,tn(this),cn(this),Re(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},xn.prototype.g=function(e,t){return new wn(e,t)},u(wn,ce),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){en(this.g)},wn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ve(e),e=n);t.i.push(new nt(t.Ya++,e)),3==t.I&&rn(t)},wn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,wn.Z.N.call(this)},u(Sn,Ee),u(En,ke),u(kn,bn),kn.prototype.ra=function(){ue(this.g,"a")},kn.prototype.qa=function(e){ue(this.g,new Sn(e))},kn.prototype.pa=function(e){ue(this.g,new En)},kn.prototype.oa=function(){ue(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,b=w.createWebChannelTransport=function(){return new xn},y=w.getStatEventTarget=function(){return Ce()},v=w.Event=Ie,g=w.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,m=w.ErrorCode=De,Fe.COMPLETE="complete",f=w.EventType=Fe,we.EventType=Se,Se.OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",ce.prototype.listen=ce.prototype.J,p=w.WebChannel=we,w.FetchXmlHttpFactory=Mt,qt.prototype.listenOnce=qt.prototype.K,qt.prototype.getLastError=qt.prototype.Ha,qt.prototype.getLastErrorCode=qt.prototype.ya,qt.prototype.getStatus=qt.prototype.ca,qt.prototype.getResponseJson=qt.prototype.La,qt.prototype.getResponseText=qt.prototype.la,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Fa,h=w.XhrIo=qt}).apply("undefined"!==typeof x?x:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const S="@firebase/firestore",E="4.9.2";class k{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}k.UNAUTHENTICATED=new k(null),k.GOOGLE_CREDENTIALS=new k("google-credentials-uid"),k.FIRST_PARTY=new k("first-party-uid"),k.MOCK_USER=new k("mock-user");let I="12.3.0";const A=new l.Vy("@firebase/firestore");function C(){return A.logLevel}function T(e){if(A.logLevel<=l.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(R);A.debug("Firestore (".concat(I,"): ").concat(e),...o)}}function j(e){if(A.logLevel<=l.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(R);A.error("Firestore (".concat(I,"): ").concat(e),...o)}}function _(e){if(A.logLevel<=l.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(R);A.warn("Firestore (".concat(I,"): ").concat(e),...o)}}function R(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function P(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,N(e,r,n)}function N(e,t,n){let r="FIRESTORE (".concat(I,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw j(r),new Error(r)}function L(e,t,n,r){let o="Unexpected state";"string"==typeof n?o=n:r=n,e||N(t,o,r)}function O(e,t){return e}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends c.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class F{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class z{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class B{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(k.UNAUTHENTICATED))}shutdown(){}}class V{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class U{constructor(e){this.t=e,this.currentUser=k.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){L(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let o=new F;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new F,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=o;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new F)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(L("string"==typeof t.accessToken,31837,{l:t}),new z(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return L(null===e||"string"==typeof e,2055,{h:e}),new k(e)}}class q{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=k.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class W{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new q(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(k.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,s.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){L(void 0===this.o,3512);const n=e=>{null!=e.error&&T("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,T("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new H(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(L("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new H(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function K(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Q{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=K(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function X(e,t){return e<t?-1:e>t?1:0}function Y(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),o=t.charAt(r);if(n!==o)return Z(n)===Z(o)?X(n,o):Z(n)?1:-1}return X(e.length,t.length)}const $=55296,J=57343;function Z(e){const t=e.charCodeAt(0);return t>=$&&t<=J}function ee(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function te(e){return e+"\0"}const ne="__name__";class re{constructor(e,t,n){void 0===t?t=0:t>e.length&&P(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&P(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===re.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof re?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=re.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return X(e.length,t.length)}static compareSegments(e,t){const n=re.isNumericId(e),r=re.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?re.extractNumericId(e).compare(re.extractNumericId(t)):Y(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class oe extends re{construct(e,t,n){return new oe(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n){if(o.indexOf("//")>=0)throw new D(M.INVALID_ARGUMENT,"Invalid segment (".concat(o,"). Paths must not contain // in them."));e.push(...o.split("/").filter(e=>e.length>0))}return new oe(e)}static emptyPath(){return new oe([])}}const ie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class se extends re{construct(e,t,n){return new se(e,t,n)}static isValidIdentifier(e){return ie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),se.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ne}static keyField(){return new se([ne])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(0===n.length)throw new D(M.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new D(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new D(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(o(),r++)}if(o(),i)throw new D(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new se(t)}static emptyPath(){return new se([])}}class ae{constructor(e){this.path=e}static fromPath(e){return new ae(oe.fromString(e))}static fromName(e){return new ae(oe.fromString(e).popFirst(5))}static empty(){return new ae(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return oe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new oe(e.slice()))}}function le(e,t,n){if(!n)throw new D(M.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ce(e){if(!ae.isDocumentKey(e))throw new D(M.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ue(e){if(ae.isDocumentKey(e))throw new D(M.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function de(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function he(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":P(12329,{type:typeof e})}function pe(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new D(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=he(e);throw new D(M.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function fe(e,t){if(t<=0)throw new D(M.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function me(e,t){const n={typeString:e};return t&&(n.value=t),n}function ge(e,t){if(!de(e))throw new D(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(o&&typeof s!==o){n="JSON field '".concat(r,"' must be a ").concat(o,".");break}if(void 0!==i&&s!==i.value){n="Expected '".concat(r,"' field to equal '").concat(i.value,"'");break}}if(n)throw new D(M.INVALID_ARGUMENT,n);return!0}const ve=-62135596800,ye=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ye);return new be(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new D(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new D(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ve)throw new D(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ye}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ge(e,be._jsonSchema))return new be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ve;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}be._jsonSchemaVersion="firestore/timestamp/1.0",be._jsonSchema={type:me("string",be._jsonSchemaVersion),seconds:me("number"),nanoseconds:me("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new be(0,0))}static max(){return new xe(new be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const we=-1;class Se{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Ee(e){return e.fields.find(e=>2===e.kind)}function ke(e){return e.fields.filter(e=>2!==e.kind)}Se.UNKNOWN_ID=-1;class Ie{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ae{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ae(0,je.min())}}function Ce(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(1e9===r?new be(n+1,0):new be(n,r));return new je(o,ae.empty(),t)}function Te(e){return new je(e.readTime,e.key,we)}class je{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new je(xe.min(),ae.empty(),we)}static max(){return new je(xe.max(),ae.empty(),we)}}function _e(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ae.comparator(e.documentKey,t.documentKey),0!==n?n:X(e.largestBatchId,t.largestBatchId))}const Re="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Ne(e){if(e.code!==M.FAILED_PRECONDITION||e.message!==Re)throw e;T("LocalStore","Unexpectedly lost primary lease")}class Le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&P(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Le((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Le?t:Le.resolve(t)}catch(e){return Le.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Le.reject(t)}static resolve(e){return new Le((t,n)=>{t(e)})}static reject(e){return new Le((t,n)=>{n(e)})}static waitFor(e){return new Le((t,n)=>{let r=0,o=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++o,i&&o===r&&t()},e=>n(e))}),i=!0,o===r&&t()})}static or(e){let t=Le.resolve(!1);for(const n of e)t=t.next(e=>e?Le.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Le((n,r)=>{const o=e.length,i=new Array(o);let s=0;for(let a=0;a<o;a++){const l=a;t(e[l]).next(e=>{i[l]=e,++s,s===o&&n(i)},e=>r(e))}})}static doWhile(e,t){return new Le((n,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):n()};o()})}}const Oe="SimpleDb";class Me{static open(e,t,n,r){try{return new Me(t,e.transaction(r,n))}catch(e){throw new Be(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new F,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Be(e,t.error)):this.S.resolve()},this.transaction.onerror=t=>{const n=He(t.target.error);this.S.reject(new Be(e,n))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(T(Oe,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ue(t)}}class De{static delete(e){return T(Oe,"Removing database:",e),qe((0,c.mS)().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!(0,c.zW)())return!1;if(De.F())return!0;const e=(0,c.ZQ)(),t=De.M(e),n=0<t&&t<10,r=Fe(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||o)}static F(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.N=n,this.B=null,12.2===De.M((0,c.ZQ)())&&j("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(T(Oe,"Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Be(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new D(M.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new D(M.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Be(e,r))},r.onupgradeneeded=e=>{T(Oe,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.N.k(t,r.transaction,e.oldVersion,this.version).next(()=>{T(Oe,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=e=>this.q(e)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const o="readonly"===t;let i=0;for(;;){++i;try{this.db=await this.L(e);const t=Me.open(this.db,e,o?"readonly":"readwrite",n),i=r(t).next(e=>(t.C(),e)).catch(e=>(t.abort(e),Le.reject(e))).toPromise();return i.catch(()=>{}),await t.D,i}catch(e){const t=e,n="FirebaseError"!==t.name&&i<3;if(T(Oe,"Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Fe(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class ze{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return qe(this.U.delete())}}class Be extends D{constructor(e,t){super(M.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Ve(e){return"IndexedDbTransactionError"===e.name}class Ue{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(T(Oe,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(T(Oe,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),qe(n)}add(e){return T(Oe,"ADD",this.store.name,e,e),qe(this.store.add(e))}get(e){return qe(this.store.get(e)).next(t=>(void 0===t&&(t=null),T(Oe,"GET",this.store.name,e,t),t))}delete(e){return T(Oe,"DELETE",this.store.name,e),qe(this.store.delete(e))}count(){return T(Oe,"COUNT",this.store.name),qe(this.store.count())}J(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Le((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{const e=this.cursor(n),t=[];return this.H(e,(e,n)=>{t.push(n)}).next(()=>t)}}Y(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Le((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}Z(e,t){T(Oe,"DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const r=this.cursor(n);return this.H(r,(e,t,n)=>n.delete())}ee(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.H(r,t)}te(e){const t=this.cursor({});return new Le((n,r)=>{t.onerror=e=>{const t=He(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}H(e,t){const n=[];return new Le((r,o)=>{e.onerror=e=>{o(e.target.error)},e.onsuccess=e=>{const o=e.target.result;if(!o)return void r();const i=new ze(o),s=t(o.primaryKey,o.value,i);if(s instanceof Le){const e=s.catch(e=>(i.done(),Le.reject(e)));n.push(e)}i.isDone?r():null===i.G?o.continue():o.continue(i.G)}}).next(()=>Le.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function qe(e){return new Le((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=He(e.target.error);n(t)}})}let We=!1;function He(e){const t=De.M((0,c.ZQ)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new D("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return We||(We=!0,setTimeout(()=>{throw e},0)),e}}return e}const Ge="IndexBackfiller";class Ke{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}re(e){T(Ge,"Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const e=await this.ne.ie();T(Ge,"Documents written: ".concat(e))}catch(e){Ve(e)?T(Ge,"Ignoring IndexedDB error during index backfill: ",e):await Ne(e)}await this.re(6e4)})}}class Qe{constructor(e,t){this.localStore=e,this.persistence=t}async ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){const n=new Set;let r=t,o=!0;return Le.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return T(Ge,"Processing collection: ".concat(t)),this.oe(e,t,r).next(e=>{r-=e,n.add(t)});o=!1})).next(()=>t-r)}oe(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{const o=n.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this._e(r,n)).next(n=>(T(Ge,"Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>o.size)}))}_e(e,t){let n=e;return t.changes.forEach((e,t)=>{const r=Te(t);_e(r,n)>0&&(n=r)}),new je(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Xe{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xe.ce=-1;const Ye=-1;function $e(e){return null==e}function Je(e){return 0===e&&1/e==-1/0}function Ze(e){return"number"==typeof e&&Number.isInteger(e)&&!Je(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const et="\x01";function tt(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=rt(t)),t=nt(e.get(n),t);return rt(t)}function nt(e,t){let n=t;const r=e.length;for(let o=0;o<r;o++){const t=e.charAt(o);switch(t){case"\0":n+="\x01\x10";break;case et:n+="\x01\x11";break;default:n+=t}}return n}function rt(e){return e+et+"\x01"}function ot(e){const t=e.length;if(L(t>=2,64408,{path:e}),2===t)return L(e.charAt(0)===et&&"\x01"===e.charAt(1),56145,{path:e}),oe.emptyPath();const n=t-2,r=[];let o="";for(let i=0;i<t;){const t=e.indexOf(et,i);switch((t<0||t>n)&&P(50515,{path:e}),e.charAt(t+1)){case"\x01":const n=e.substring(i,t);let s;0===o.length?s=n:(o+=n,s=o,o=""),r.push(s);break;case"\x10":o+=e.substring(i,t),o+="\0";break;case"\x11":o+=e.substring(i,t+1);break;default:P(61167,{path:e})}i=t+2}return new oe(r)}const it="remoteDocuments",st="owner",at="owner",lt="mutationQueues",ct="mutations",ut="batchId",dt="userMutationsIndex",ht=["userId","batchId"];function pt(e,t){return[e,tt(t)]}function ft(e,t,n){return[e,tt(t),n]}const mt={},gt="documentMutations",vt="remoteDocumentsV14",yt=["prefixPath","collectionGroup","readTime","documentId"],bt="documentKeyIndex",xt=["prefixPath","collectionGroup","documentId"],wt="collectionGroupIndex",St=["collectionGroup","readTime","prefixPath","documentId"],Et="remoteDocumentGlobal",kt="remoteDocumentGlobalKey",It="targets",At="queryTargetsIndex",Ct=["canonicalId","targetId"],Tt="targetDocuments",jt=["targetId","path"],_t="documentTargetsIndex",Rt=["path","targetId"],Pt="targetGlobalKey",Nt="targetGlobal",Lt="collectionParents",Ot=["collectionId","parent"],Mt="clientMetadata",Dt="bundles",Ft="namedQueries",zt="indexConfiguration",Bt="collectionGroupIndex",Vt="indexState",Ut=["indexId","uid"],qt="sequenceNumberIndex",Wt=["uid","sequenceNumber"],Ht="indexEntries",Gt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Kt="documentKeyIndex",Qt=["indexId","uid","orderedDocumentKey"],Xt="documentOverlays",Yt=["userId","collectionPath","documentId"],$t="collectionPathOverlayIndex",Jt=["userId","collectionPath","largestBatchId"],Zt="collectionGroupOverlayIndex",en=["userId","collectionGroup","largestBatchId"],tn="globals",nn=[lt,ct,gt,it,It,st,Nt,Tt,Mt,Et,Lt,Dt,Ft],rn=[...nn,Xt],on=[lt,ct,gt,vt,It,st,Nt,Tt,Mt,Et,Lt,Dt,Ft,Xt],sn=on,an=[...sn,zt,Vt,Ht],ln=an,cn=[...an,tn],un=cn;class dn extends Pe{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function hn(e,t){const n=O(e);return De.O(n.le,t)}function pn(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fn(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function mn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class gn{constructor(e,t){this.comparator=e,this.root=t||yn.EMPTY}insert(e,t){return new gn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vn(this.root,e,this.comparator,!1)}getReverseIterator(){return new vn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vn(this.root,e,this.comparator,!0)}}class vn{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:yn.RED,this.left=null!=r?r:yn.EMPTY,this.right=null!=o?o:yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new yn(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return yn.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw P(43730,{key:this.key,value:this.value});if(this.right.isRed())throw P(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw P(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1,yn.EMPTY=new class{constructor(){this.size=0}get key(){throw P(57766)}get value(){throw P(16141)}get color(){throw P(16727)}get left(){throw P(29726)}get right(){throw P(36894)}copy(e,t,n,r,o){return this}insert(e,t,n){return new yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bn{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xn(this.data.getIterator())}getIteratorFrom(e){return new xn(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof bn))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class xn{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wn(e){return e.hasNext()?e.getNext():void 0}class Sn{constructor(e){this.fields=e,e.sort(se.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new bn(se.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ee(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class En extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new En("Invalid base64 string: "+e):e}}(e);return new kn(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new kn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const In=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function An(e){if(L(!!e,39018),"string"==typeof e){let t=0;const n=In.exec(e);if(L(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Cn(e.seconds),nanos:Cn(e.nanos)}}function Cn(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Tn(e){return"string"==typeof e?kn.fromBase64String(e):kn.fromUint8Array(e)}const jn="server_timestamp",_n="__type__",Rn="__previous_value__",Pn="__local_write_time__";function Nn(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[_n])||void 0===t?void 0:t.stringValue)===jn}function Ln(e){const t=e.mapValue.fields[Rn];return Nn(t)?Ln(t):t}function On(e){const t=An(e.mapValue.fields[Pn].timestampValue);return new be(t.seconds,t.nanos)}class Mn{constructor(e,t,n,r,o,i,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const Dn="(default)";class Fn{constructor(e,t){this.projectId=e,this.database=t||Dn}static empty(){return new Fn("","")}get isDefaultDatabase(){return this.database===Dn}isEqual(e){return e instanceof Fn&&e.projectId===this.projectId&&e.database===this.database}}const zn="__type__",Bn="__max__",Vn={mapValue:{fields:{__type__:{stringValue:Bn}}}},Un="__vector__",qn="value",Wn={nullValue:"NULL_VALUE"};function Hn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Nn(e)?4:lr(e)?9007199254740991:sr(e)?10:11:P(28295,{value:e})}function Gn(e,t){if(e===t)return!0;const n=Hn(e);if(n!==Hn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return On(e).isEqual(On(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=An(e.timestampValue),r=An(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Tn(e.bytesValue).isEqual(Tn(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Cn(e.geoPointValue.latitude)===Cn(t.geoPointValue.latitude)&&Cn(e.geoPointValue.longitude)===Cn(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Cn(e.integerValue)===Cn(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Cn(e.doubleValue),r=Cn(t.doubleValue);return n===r?Je(n)===Je(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ee(e.arrayValue.values||[],t.arrayValue.values||[],Gn);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(pn(n)!==pn(r))return!1;for(const o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!Gn(n[o],r[o])))return!1;return!0}(e,t);default:return P(52216,{left:e})}}function Kn(e,t){return void 0!==(e.values||[]).find(e=>Gn(e,t))}function Qn(e,t){if(e===t)return 0;const n=Hn(e),r=Hn(t);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Cn(e.integerValue||e.doubleValue),r=Cn(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Xn(e.timestampValue,t.timestampValue);case 4:return Xn(On(e),On(t));case 5:return Y(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Tn(e),r=Tn(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let o=0;o<n.length&&o<r.length;o++){const e=X(n[o],r[o]);if(0!==e)return e}return X(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=X(Cn(e.latitude),Cn(t.latitude));return 0!==n?n:X(Cn(e.longitude),Cn(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Yn(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,o,i;const s=e.fields||{},a=t.fields||{},l=null===(n=s[qn])||void 0===n?void 0:n.arrayValue,c=null===(r=a[qn])||void 0===r?void 0:r.arrayValue,u=X((null===l||void 0===l||null===(o=l.values)||void 0===o?void 0:o.length)||0,(null===c||void 0===c||null===(i=c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Yn(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Vn.mapValue&&t===Vn.mapValue)return 0;if(e===Vn.mapValue)return 1;if(t===Vn.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),o=t.fields||{},i=Object.keys(o);r.sort(),i.sort();for(let s=0;s<r.length&&s<i.length;++s){const e=Y(r[s],i[s]);if(0!==e)return e;const t=Qn(n[r[s]],o[i[s]]);if(0!==t)return t}return X(r.length,i.length)}(e.mapValue,t.mapValue);default:throw P(23264,{he:n})}}function Xn(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return X(e,t);const n=An(e),r=An(t),o=X(n.seconds,r.seconds);return 0!==o?o:X(n.nanos,r.nanos)}function Yn(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const e=Qn(n[o],r[o]);if(e)return e}return X(n.length,r.length)}function $n(e){return Jn(e)}function Jn(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=An(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Tn(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ae.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Jn(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const o of t)r?r=!1:n+=",",n+="".concat(o,":").concat(Jn(e.fields[o]));return n+"}"}(e.mapValue):P(61005,{value:e})}function Zn(e){switch(Hn(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ln(e);return t?16+Zn(t):16;case 5:return 2*e.stringValue.length;case 6:return Tn(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Zn(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return fn(e.fields,(e,n)=>{t+=e.length+Zn(n)}),t}(e.mapValue);default:throw P(13486,{value:e})}}function er(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function tr(e){return!!e&&"integerValue"in e}function nr(e){return!!e&&"arrayValue"in e}function rr(e){return!!e&&"nullValue"in e}function or(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ir(e){return!!e&&"mapValue"in e}function sr(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[zn])||void 0===t?void 0:t.stringValue)===Un}function ar(e){if(e.geoPointValue)return{geoPointValue:(0,i.A)({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:(0,i.A)({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return fn(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ar(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ar(e.arrayValue.values[n]);return t}return(0,i.A)({},e)}function lr(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Bn}const cr={mapValue:{fields:{[zn]:{stringValue:Un},[qn]:{arrayValue:{}}}}};function ur(e){return"nullValue"in e?Wn:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?er(Fn.empty(),ae.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?sr(e)?cr:{mapValue:{}}:P(35942,{value:e})}function dr(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?er(Fn.empty(),ae.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?cr:"mapValue"in e?sr(e)?{mapValue:{}}:Vn:P(61959,{value:e})}function hr(e,t){const n=Qn(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function pr(e,t){const n=Qn(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ir(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ar(t)}setAll(e){let t=se.emptyPath(),n={},r=[];e.forEach((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=o.popLast()}e?n[o.lastSegment()]=ar(e):r.push(o.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());ir(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ir(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){fn(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new fr(ar(this.value))}}function mr(e){const t=[];return fn(e.fields,(e,n)=>{const r=new se([e]);if(ir(n)){const e=mr(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Sn(t)}class gr{constructor(e,t,n,r,o,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=i,this.documentState=s}static newInvalidDocument(e){return new gr(e,0,xe.min(),xe.min(),xe.min(),fr.empty(),0)}static newFoundDocument(e,t,n,r){return new gr(e,1,t,xe.min(),n,r,0)}static newNoDocument(e,t){return new gr(e,2,t,xe.min(),xe.min(),fr.empty(),0)}static newUnknownDocument(e,t){return new gr(e,3,t,xe.min(),xe.min(),fr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class vr{constructor(e,t){this.position=e,this.inclusive=t}}function yr(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const i=t[o],s=e.position[o];if(r=i.field.isKeyField()?ae.comparator(ae.fromName(s.referenceValue),n.key):Qn(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function br(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Gn(e.position[n],t.position[n]))return!1;return!0}class xr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function wr(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Sr{}class Er extends Sr{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Nr(e,t,n):"array-contains"===t?new Dr(e,n):"in"===t?new Fr(e,n):"not-in"===t?new zr(e,n):"array-contains-any"===t?new Br(e,n):new Er(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Lr(e,n):new Or(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Qn(t,this.value)):null!==t&&Hn(this.value)===Hn(t)&&this.matchesComparison(Qn(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends Sr{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new kr(e,t)}matches(e){return Ir(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ir(e){return"and"===e.op}function Ar(e){return"or"===e.op}function Cr(e){return Tr(e)&&Ir(e)}function Tr(e){for(const t of e.filters)if(t instanceof kr)return!1;return!0}function jr(e){if(e instanceof Er)return e.field.canonicalString()+e.op.toString()+$n(e.value);if(Cr(e))return e.filters.map(e=>jr(e)).join(",");{const t=e.filters.map(e=>jr(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function _r(e,t){return e instanceof Er?function(e,t){return t instanceof Er&&e.op===t.op&&e.field.isEqual(t.field)&&Gn(e.value,t.value)}(e,t):e instanceof kr?function(e,t){return t instanceof kr&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&_r(n,t.filters[r]),!0)}(e,t):void P(19439)}function Rr(e,t){const n=e.filters.concat(t);return kr.create(n,e.op)}function Pr(e){return e instanceof Er?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat($n(e.value))}(e):e instanceof kr?function(e){return e.op.toString()+" {"+e.getFilters().map(Pr).join(" ,")+"}"}(e):"Filter"}class Nr extends Er{constructor(e,t,n){super(e,t,n),this.key=ae.fromName(n.referenceValue)}matches(e){const t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class Lr extends Er{constructor(e,t){super(e,"in",t),this.keys=Mr("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Or extends Er{constructor(e,t){super(e,"not-in",t),this.keys=Mr("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Mr(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ae.fromName(e.referenceValue))}class Dr extends Er{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nr(t)&&Kn(t.arrayValue,this.value)}}class Fr extends Er{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Kn(this.value.arrayValue,t)}}class zr extends Er{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Kn(this.value.arrayValue,t)}}class Br extends Er{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nr(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Kn(this.value.arrayValue,e))}}class Vr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=s,this.Te=null}}function Ur(e){return new Vr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function qr(e){const t=O(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>jr(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),$e(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>$n(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>$n(e)).join(",")),t.Te=e}return t.Te}function Wr(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!wr(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!_r(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!br(e.startAt,t.startAt)&&br(e.endAt,t.endAt)}function Hr(e){return ae.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Gr(e,t){return e.filters.filter(e=>e instanceof Er&&e.field.isEqual(t))}function Kr(e,t,n){let r=Wn,o=!0;for(const i of Gr(e,t)){let e=Wn,t=!0;switch(i.op){case"<":case"<=":e=ur(i.value);break;case"==":case"in":case">=":e=i.value;break;case">":e=i.value,t=!1;break;case"!=":case"not-in":e=Wn}hr({value:r,inclusive:o},{value:e,inclusive:t})<0&&(r=e,o=t)}if(null!==n)for(let i=0;i<e.orderBy.length;++i)if(e.orderBy[i].field.isEqual(t)){const e=n.position[i];hr({value:r,inclusive:o},{value:e,inclusive:n.inclusive})<0&&(r=e,o=n.inclusive);break}return{value:r,inclusive:o}}function Qr(e,t,n){let r=Vn,o=!0;for(const i of Gr(e,t)){let e=Vn,t=!0;switch(i.op){case">=":case">":e=dr(i.value),t=!1;break;case"==":case"in":case"<=":e=i.value;break;case"<":e=i.value,t=!1;break;case"!=":case"not-in":e=Vn}pr({value:r,inclusive:o},{value:e,inclusive:t})>0&&(r=e,o=t)}if(null!==n)for(let i=0;i<e.orderBy.length;++i)if(e.orderBy[i].field.isEqual(t)){const e=n.position[i];pr({value:r,inclusive:o},{value:e,inclusive:n.inclusive})>0&&(r=e,o=n.inclusive);break}return{value:r,inclusive:o}}class Xr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Yr(e,t,n,r,o,i,s,a){return new Xr(e,t,n,r,o,i,s,a)}function $r(e){return new Xr(e)}function Jr(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Zr(e){return null!==e.collectionGroup}function eo(e){const t=O(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new bn(se.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new xr(r,n))}),e.has(se.keyField().canonicalString())||t.Ie.push(new xr(se.keyField(),n))}return t.Ie}function to(e){const t=O(e);return t.Ee||(t.Ee=no(t,eo(e))),t.Ee}function no(e,t){if("F"===e.limitType)return Ur(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new xr(e.field,t)});const n=e.endAt?new vr(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new vr(e.startAt.position,e.startAt.inclusive):null;return Ur(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ro(e,t){const n=e.filters.concat([t]);return new Xr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function oo(e,t,n){return new Xr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function io(e,t){return Wr(to(e),to(t))&&e.limitType===t.limitType}function so(e){return"".concat(qr(to(e)),"|lt:").concat(e.limitType)}function ao(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Pr(e)).join(", "),"]")),$e(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>$n(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>$n(e)).join(",")),"Target(".concat(t,")")}(to(e)),"; limitType=").concat(e.limitType,")")}function lo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ae.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of eo(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=yr(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,eo(e),t))&&!(e.endAt&&!function(e,t,n){const r=yr(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,eo(e),t))}(e,t)}function co(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function uo(e){return(t,n)=>{let r=!1;for(const o of eo(e)){const e=ho(o,t,n);if(0!==e)return e;r=r||o.field.isKeyField()}return 0}}function ho(e,t,n){const r=e.field.isKeyField()?ae.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),o=n.data.field(e);return null!==r&&null!==o?Qn(r,o):P(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return P(19790,{direction:e.dir})}}class po{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){fn(this.inner,(t,n)=>{for(const[r,o]of n)e(r,o)})}isEmpty(){return mn(this.inner)}size(){return this.innerSize}}const fo=new gn(ae.comparator);function mo(){return fo}const go=new gn(ae.comparator);function vo(){let e=go;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.insert(o.key,o);return e}function yo(e){let t=go;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function bo(){return wo()}function xo(){return wo()}function wo(){return new po(e=>e.toString(),(e,t)=>e.isEqual(t))}const So=new gn(ae.comparator),Eo=new bn(ae.comparator);function ko(){let e=Eo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.add(o);return e}const Io=new bn(X);function Ao(){return Io}function Co(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Je(t)?"-0":t}}function To(e){return{integerValue:""+e}}function jo(e,t){return Ze(t)?To(t):Co(e,t)}class _o{constructor(){this._=void 0}}function Ro(e,t,n){return e instanceof Lo?function(e,t){const n={fields:{[_n]:{stringValue:jn},[Pn]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Nn(t)&&(t=Ln(t)),t&&(n.fields[Rn]=t),{mapValue:n}}(n,t):e instanceof Oo?Mo(e,t):e instanceof Do?Fo(e,t):function(e,t){const n=No(e,t),r=Bo(n)+Bo(e.Ae);return tr(n)&&tr(e.Ae)?To(r):Co(e.serializer,r)}(e,t)}function Po(e,t,n){return e instanceof Oo?Mo(e,t):e instanceof Do?Fo(e,t):n}function No(e,t){return e instanceof zo?function(e){return tr(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Lo extends _o{}class Oo extends _o{constructor(e){super(),this.elements=e}}function Mo(e,t){const n=Vo(t);for(const r of e.elements)n.some(e=>Gn(e,r))||n.push(r);return{arrayValue:{values:n}}}class Do extends _o{constructor(e){super(),this.elements=e}}function Fo(e,t){let n=Vo(t);for(const r of e.elements)n=n.filter(e=>!Gn(e,r));return{arrayValue:{values:n}}}class zo extends _o{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Bo(e){return Cn(e.integerValue||e.doubleValue)}function Vo(e){return nr(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Uo{constructor(e,t){this.field=e,this.transform=t}}class qo{constructor(e,t){this.version=e,this.transformResults=t}}class Wo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wo}static exists(e){return new Wo(void 0,e)}static updateTime(e){return new Wo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ho(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Go{}function Ko(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ri(e.key,Wo.none()):new Jo(e.key,e.data,Wo.none());{const n=e.data,r=fr.empty();let o=new bn(se.comparator);for(let e of t.fields)if(!o.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),o=o.add(e)}return new Zo(e.key,r,new Sn(o.toArray()),Wo.none())}}function Qo(e,t,n){e instanceof Jo?function(e,t,n){const r=e.value.clone(),o=ti(e.fieldTransforms,t,n.transformResults);r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Zo?function(e,t,n){if(!Ho(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ti(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(ei(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Xo(e,t,n,r){return e instanceof Jo?function(e,t,n,r){if(!Ho(e.precondition,t))return n;const o=e.value.clone(),i=ni(e.fieldTransforms,r,t);return o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null}(e,t,n,r):e instanceof Zo?function(e,t,n,r){if(!Ho(e.precondition,t))return n;const o=ni(e.fieldTransforms,r,t),i=t.data;return i.setAll(ei(e)),i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Ho(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Yo(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),o=No(r.transform,e||null);null!=o&&(null===n&&(n=fr.empty()),n.set(r.field,o))}return n||null}function $o(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ee(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Oo&&t instanceof Oo||e instanceof Do&&t instanceof Do?ee(e.elements,t.elements,Gn):e instanceof zo&&t instanceof zo?Gn(e.Ae,t.Ae):e instanceof Lo&&t instanceof Lo}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Jo extends Go{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Zo extends Go{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ei(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function ti(e,t,n){const r=new Map;L(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const i=e[o],s=i.transform,a=t.data.field(i.field);r.set(i.field,Po(s,a,n[o]))}return r}function ni(e,t,n){const r=new Map;for(const o of e){const e=o.transform,i=n.data.field(o.field);r.set(o.field,Ro(e,i,t))}return r}class ri extends Go{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oi extends Go{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ii{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Qo(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Xo(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Xo(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=xo();return this.mutations.forEach(r=>{const o=e.get(r.key),i=o.overlayedDocument;let s=this.applyToLocalView(i,o.mutatedFields);s=t.has(r.key)?null:s;const a=Ko(i,s);null!==a&&n.set(r.key,a),i.isValidDocument()||i.convertToNoDocument(xe.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ko())}isEqual(e){return this.batchId===e.batchId&&ee(this.mutations,e.mutations,(e,t)=>$o(e,t))&&ee(this.baseMutations,e.baseMutations,(e,t)=>$o(e,t))}}class si{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){L(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=So;const o=e.mutations;for(let i=0;i<o.length;i++)r=r.insert(o[i].key,n[i].version);return new si(e,t,n,r)}}class ai{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class li{constructor(e,t){this.count=e,this.unchangedNames=t}}var ci,ui;function di(e){switch(e){case M.OK:return P(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return P(15467,{code:e})}}function hi(e){if(void 0===e)return j("GRPC error has no .code"),M.UNKNOWN;switch(e){case ci.OK:return M.OK;case ci.CANCELLED:return M.CANCELLED;case ci.UNKNOWN:return M.UNKNOWN;case ci.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case ci.INTERNAL:return M.INTERNAL;case ci.UNAVAILABLE:return M.UNAVAILABLE;case ci.UNAUTHENTICATED:return M.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case ci.NOT_FOUND:return M.NOT_FOUND;case ci.ALREADY_EXISTS:return M.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return M.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case ci.ABORTED:return M.ABORTED;case ci.OUT_OF_RANGE:return M.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return M.UNIMPLEMENTED;case ci.DATA_LOSS:return M.DATA_LOSS;default:return P(39323,{code:e})}}(ui=ci||(ci={}))[ui.OK=0]="OK",ui[ui.CANCELLED=1]="CANCELLED",ui[ui.UNKNOWN=2]="UNKNOWN",ui[ui.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ui[ui.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ui[ui.NOT_FOUND=5]="NOT_FOUND",ui[ui.ALREADY_EXISTS=6]="ALREADY_EXISTS",ui[ui.PERMISSION_DENIED=7]="PERMISSION_DENIED",ui[ui.UNAUTHENTICATED=16]="UNAUTHENTICATED",ui[ui.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ui[ui.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ui[ui.ABORTED=10]="ABORTED",ui[ui.OUT_OF_RANGE=11]="OUT_OF_RANGE",ui[ui.UNIMPLEMENTED=12]="UNIMPLEMENTED",ui[ui.INTERNAL=13]="INTERNAL",ui[ui.UNAVAILABLE=14]="UNAVAILABLE",ui[ui.DATA_LOSS=15]="DATA_LOSS";let pi=null;function fi(){return new TextEncoder}const mi=new r([4294967295,4294967295],0);function gi(e){const t=fi().encode(e),n=new o;return n.update(t),new Uint8Array(n.digest())}function vi(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),o=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new r([n,o],0),new r([i,s],0)]}class yi{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new bi("Invalid padding: ".concat(t));if(n<0)throw new bi("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new bi("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new bi("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=r.fromNumber(this.ge)}ye(e,t,n){let o=e.add(t.multiply(r.fromNumber(n)));return 1===o.compare(mi)&&(o=new r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=gi(e),[n,r]=vi(t);for(let o=0;o<this.hashCount;o++){const e=this.ye(n,r,o);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new yi(o,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=gi(e),[n,r]=vi(t);for(let o=0;o<this.hashCount;o++){const e=this.ye(n,r,o);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class bi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xi{constructor(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,wi.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new xi(xe.min(),r,new gn(X),mo(),ko())}}class wi{constructor(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new wi(n,t,ko(),ko(),ko())}}class Si{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Ei{constructor(e,t){this.targetId=e,this.Ce=t}}class ki{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kn.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ii{constructor(){this.ve=0,this.Fe=Ti(),this.Me=kn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ko(),t=ko(),n=ko();return this.Fe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:P(38017,{changeType:o})}}),new wi(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Ti()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,L(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ai{constructor(e){this.Ge=e,this.ze=new Map,this.je=mo(),this.Je=Ci(),this.He=Ci(),this.Ye=new gn(X)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:P(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(Hr(i))if(0===n){const e=new ae(i.path);this.et(t,e,gr.newNoDocument(e,xe.min()))}else L(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var o;const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(o=pi)||void 0===o||o.lt(function(e,t,n,r,o){var i,s,a,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===o,hashCount:null!==(i=null===d||void 0===d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(s=null===d||void 0===d||null===(a=d.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==s?s:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=t;let i,s;try{i=Tn(n).toUint8Array()}catch(e){if(e instanceof En)return _("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new yi(i,r,o)}catch(e){return _(e instanceof bi?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const o=this.Ge.ht(),i="projects/".concat(o.projectId,"/databases/").concat(o.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const o=this.ot(r);if(o){if(n.current&&Hr(o.target)){const t=new ae(o.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,gr.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=ko();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new xi(e,t,this.Ye,this.je,n);return this.je=mo(),this.Je=Ci(),this.He=Ci(),this.Ye=new gn(X),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ii,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new bn(X),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new bn(X),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ii),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ci(){return new gn(ae.comparator)}function Ti(){return new gn(ae.comparator)}const ji={asc:"ASCENDING",desc:"DESCENDING"},_i={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ri={and:"AND",or:"OR"};class Pi{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ni(e,t){return e.useProto3Json||$e(t)?t:{value:t}}function Li(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Oi(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Mi(e,t){return Li(e,t.toTimestamp())}function Di(e){return L(!!e,49232),xe.fromTimestamp(function(e){const t=An(e);return new be(t.seconds,t.nanos)}(e))}function Fi(e,t){return zi(e,t).canonicalString()}function zi(e,t){const n=function(e){return new oe(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Bi(e){const t=oe.fromString(e);return L(ls(t),10190,{key:t.toString()}),t}function Vi(e,t){return Fi(e.databaseId,t.path)}function Ui(e,t){const n=Bi(t);if(n.get(1)!==e.databaseId.projectId)throw new D(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new D(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ae(Gi(n))}function qi(e,t){return Fi(e.databaseId,t)}function Wi(e){const t=Bi(e);return 4===t.length?oe.emptyPath():Gi(t)}function Hi(e){return new oe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Gi(e){return L(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ki(e,t,n){return{name:Vi(e,t),fields:n.value.mapValue.fields}}function Qi(e,t,n){const r=Ui(e,t.name),o=Di(t.updateTime),i=t.createTime?Di(t.createTime):xe.min(),s=new fr({mapValue:{fields:t.fields}}),a=gr.newFoundDocument(r,o,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Xi(e,t){let n;if(t instanceof Jo)n={update:Ki(e,t.key,t.value)};else if(t instanceof ri)n={delete:Vi(e,t.key)};else if(t instanceof Zo)n={update:Ki(e,t.key,t.data),updateMask:as(t.fieldMask)};else{if(!(t instanceof oi))return P(16599,{Vt:t.type});n={verify:Vi(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Lo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Oo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Do)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof zo)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw P(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Mi(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:P(27497)}(e,t.precondition)),n}function Yi(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Wo.updateTime(Di(e.updateTime)):void 0!==e.exists?Wo.exists(e.exists):Wo.none()}(t.currentDocument):Wo.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;if("setToServerValue"in t)L("REQUEST_TIME"===t.setToServerValue,16630,{proto:t}),n=new Lo;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Oo(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Do(e)}else"increment"in t?n=new zo(e,t.increment):P(16584,{proto:t});const r=se.fromServerFormat(t.fieldPath);return new Uo(r,n)}(e,t)):[];if(t.update){t.update.name;const o=Ui(e,t.update.name),i=new fr({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Sn(t.map(e=>se.fromServerFormat(e)))}(t.updateMask);return new Zo(o,i,e,n,r)}return new Jo(o,i,n,r)}if(t.delete){const r=Ui(e,t.delete);return new ri(r,n)}if(t.verify){const r=Ui(e,t.verify);return new oi(r,n)}return P(1463,{proto:t})}function $i(e,t){return{documents:[qi(e,t.path)]}}function Ji(e,t){const n={structuredQuery:{}},r=t.path;let o;null!==t.collectionGroup?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qi(e,o);const i=function(e){if(0!==e.length)return ss(kr.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:os(e.field),direction:ts(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Ni(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:o}}function Zi(e){let t=Wi(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){L(1===r,65062);const e=n.from[0];e.allDescendants?o=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=es(e);return t instanceof kr&&Cr(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new xr(is(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,$e(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new vr(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new vr(n,t)}(n.endAt)),Yr(t,o,s,i,a,"F",l,c)}function es(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=is(e.unaryFilter.field);return Er.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=is(e.unaryFilter.field);return Er.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=is(e.unaryFilter.field);return Er.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=is(e.unaryFilter.field);return Er.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return P(61313);default:return P(60726)}}(e):void 0!==e.fieldFilter?function(e){return Er.create(is(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return P(58110);default:return P(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return kr.create(e.compositeFilter.filters.map(e=>es(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return P(1026)}}(e.compositeFilter.op))}(e):P(30097,{filter:e})}function ts(e){return ji[e]}function ns(e){return _i[e]}function rs(e){return Ri[e]}function os(e){return{fieldPath:e.canonicalString()}}function is(e){return se.fromServerFormat(e.fieldPath)}function ss(e){return e instanceof Er?function(e){if("=="===e.op){if(or(e.value))return{unaryFilter:{field:os(e.field),op:"IS_NAN"}};if(rr(e.value))return{unaryFilter:{field:os(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(or(e.value))return{unaryFilter:{field:os(e.field),op:"IS_NOT_NAN"}};if(rr(e.value))return{unaryFilter:{field:os(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(e.field),op:ns(e.op),value:e.value}}}(e):e instanceof kr?function(e){const t=e.getFilters().map(e=>ss(e));return 1===t.length?t[0]:{compositeFilter:{op:rs(e.op),filters:t}}}(e):P(54877,{filter:e})}function as(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ls(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class cs{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xe.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:xe.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:kn.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class us{constructor(e){this.yt=e}}function ds(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:hs(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Vi(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Li(e,t.version.toTimestamp()),createTime:Li(e,t.createTime.toTimestamp())}}(e.yt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ps(t.version)};else{if(!t.isUnknownDocument())return P(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:ps(t.version)}}return r}function hs(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ps(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function fs(e){const t=new be(e.seconds,e.nanoseconds);return xe.fromTimestamp(t)}function ms(e,t){const n=(t.baseMutations||[]).map(t=>Yi(e.yt,t));for(let i=0;i<t.mutations.length-1;++i){const e=t.mutations[i];if(i+1<t.mutations.length&&void 0!==t.mutations[i+1].transform){const n=t.mutations[i+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}const r=t.mutations.map(t=>Yi(e.yt,t)),o=be.fromMillis(t.localWriteTimeMs);return new ii(t.batchId,o,n,r)}function gs(e){const t=fs(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?fs(e.lastLimboFreeSnapshotVersion):xe.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){const t=e.documents.length;return L(1===t,1966,{count:t}),to($r(Wi(e.documents[0])))}(e.query):function(e){return to(Zi(e))}(e.query),new cs(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,kn.fromBase64String(e.resumeToken))}function vs(e,t){const n=ps(t.snapshotVersion),r=ps(t.lastLimboFreeSnapshotVersion);let o;o=Hr(t.target)?$i(e.yt,t.target):Ji(e.yt,t.target).ft;const i=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:qr(t.target),readTime:n,resumeToken:i,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function ys(e){const t=Zi({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?oo(t,t.limit,"L"):t}function bs(e,t){return new ai(t.largestBatchId,Yi(e.yt,t.overlayMutation))}function xs(e,t){const n=t.path.lastSegment();return[e,tt(t.path.popLast()),n]}function ws(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:ps(r.readTime),documentKey:tt(r.documentKey.path),largestBatchId:r.largestBatchId}}class Ss{getBundleMetadata(e,t){return Es(e).get(t).next(e=>{if(e)return function(e){return{id:e.bundleId,createTime:fs(e.createTime),version:e.version}}(e)})}saveBundleMetadata(e,t){return Es(e).put(function(e){return{bundleId:e.id,createTime:ps(Di(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return ks(e).get(t).next(e=>{if(e)return function(e){return{name:e.name,query:ys(e.bundledQuery),readTime:fs(e.readTime)}}(e)})}saveNamedQuery(e,t){return ks(e).put(function(e){return{name:e.name,readTime:ps(Di(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Es(e){return hn(e,Dt)}function ks(e){return hn(e,Ft)}class Is{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const n=t.uid||"";return new Is(e,n)}getOverlay(e,t){return As(e).get(xs(this.userId,t)).next(e=>e?bs(this.serializer,e):null)}getOverlays(e,t){const n=bo();return Le.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){const r=[];return n.forEach((n,o)=>{const i=new ai(t,o);r.push(this.St(e,i))}),Le.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(tt(e.getCollectionPath())));const o=[];return r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);o.push(As(e).Z($t,r))}),Le.waitFor(o)}getOverlaysForCollection(e,t,n){const r=bo(),o=tt(t),i=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return As(e).J($t,i).next(e=>{for(const t of e){const e=bs(this.serializer,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const o=bo();let i;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return As(e).ee({index:Zt,range:s},(e,t,n)=>{const s=bs(this.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()}).next(()=>o)}St(e,t){return As(e).put(function(e,t,n){const[r,o,i]=xs(t,n.mutation.key);return{userId:t,collectionPath:o,documentId:i,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Xi(e.yt,n.mutation)}}(this.serializer,this.userId,t))}}function As(e){return hn(e,Xt)}class Cs{bt(e){return hn(e,tn)}getSessionToken(e){return this.bt(e).get("sessionToken").next(e=>{const t=null===e||void 0===e?void 0:e.value;return t?kn.fromUint8Array(t):kn.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Ts{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Cn(e.integerValue));else if("doubleValue"in e){const n=Cn(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Je(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=An(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Tn(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?lr(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):sr(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):P(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const o=qn,i=(null===(n=r[o].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Cn(i)),this.Ot(o,t),this.Ct(r[o],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),ae.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ts.Kt=new Ts;const js=255;function _s(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function Rs(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=_s(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}class Ps{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Gt(n.value),n=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Ht()}Yt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Gt(e);else if(e<2048)this.Gt(960|e>>>6),this.Gt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Gt(480|e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e);else{const e=t.codePointAt(0);this.Gt(240|e>>>18),this.Gt(128|63&e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e)}}this.zt()}Zt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Jt(e);else if(e<2048)this.Jt(960|e>>>6),this.Jt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Jt(480|e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e);else{const e=t.codePointAt(0);this.Jt(240|e>>>18),this.Jt(128|63&e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e)}}this.Ht()}Xt(e){const t=this.en(e),n=Rs(t);this.tn(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}nn(e){const t=this.en(e),n=Rs(t);this.tn(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}rn(){this.sn(js),this.sn(255)}_n(){this.an(js),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Gt(e){const t=255&e;0===t?(this.sn(0),this.sn(255)):t===js?(this.sn(js),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;0===t?(this.an(0),this.an(255)):t===js?(this.an(js),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Ns{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Ls{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Os{constructor(){this.cn=new Ps,this.ln=new Ns(this.cn),this.hn=new Ls(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return 0===e?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ms{constructor(e,t,n,r){this.Tn=e,this.In=t,this.En=n,this.dn=r}An(){const e=this.dn.length,t=0===e||255===this.dn[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.dn,0),t!==e?n.set([0],this.dn.length):++n[n.length-1],new Ms(this.Tn,this.In,this.En,n)}Rn(e,t,n){return{indexId:this.Tn,uid:e,arrayValue:zs(this.En),directionalValue:zs(this.dn),orderedDocumentKey:zs(t),documentKey:n.path.toArray()}}Vn(e,t,n){const r=this.Rn(e,t,n);return[r.indexId,r.uid,r.arrayValue,r.directionalValue,r.orderedDocumentKey,r.documentKey]}}function Ds(e,t){let n=e.Tn-t.Tn;return 0!==n?n:(n=Fs(e.En,t.En),0!==n?n:(n=Fs(e.dn,t.dn),0!==n?n:ae.comparator(e.In,t.In)))}function Fs(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}function zs(e){return(0,c.Ov)()?function(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(e):e}function Bs(e){return"string"!=typeof e?e:function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e)}class Vs{constructor(e){this.mn=new bn((e,t)=>se.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const e=t;e.isInequality()?this.mn=this.mn.add(e):this.gn.push(e)}}get pn(){return this.mn.size>1}yn(e){if(L(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=Ee(e);if(void 0!==t&&!this.wn(t))return!1;const n=ke(e);let r=new Set,o=0,i=0;for(;o<n.length&&this.wn(n[o]);++o)r=r.add(n[o].fieldPath.canonicalString());if(o===n.length)return!0;if(this.mn.size>0){const e=this.mn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[o];if(!this.Sn(e,t)||!this.bn(this.fn[i++],t))return!1}++o}for(;o<n.length;++o){const e=n[o];if(i>=this.fn.length||!this.bn(this.fn[i++],e))return!1}return!0}Dn(){if(this.pn)return null;let e=new bn(se.comparator);const t=[];for(const n of this.gn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Ie(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Ie(n.field,0))}for(const n of this.fn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Ie(n.field,"asc"===n.dir?0:1)));return new Se(Se.UNKNOWN_ID,this.collectionId,t,Ae.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Us(e){if(L(e instanceof Er||e instanceof kr,20012),e instanceof Er){if(e instanceof Fr){var t;const n=(null===(t=e.value.arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(t=>Er.create(e.field,"==",t)))||[];return kr.create(n,"or")}return e}const n=e.filters.map(e=>Us(e));return kr.create(n,e.op)}function qs(e){if(0===e.getFilters().length)return[];const t=Ks(Us(e));return L(Gs(t),7391),Ws(t)||Hs(t)?[t]:t.getFilters()}function Ws(e){return e instanceof Er}function Hs(e){return e instanceof kr&&Cr(e)}function Gs(e){return Ws(e)||Hs(e)||function(e){if(e instanceof kr&&Ar(e)){for(const t of e.getFilters())if(!Ws(t)&&!Hs(t))return!1;return!0}return!1}(e)}function Ks(e){if(L(e instanceof Er||e instanceof kr,34018),e instanceof Er)return e;if(1===e.filters.length)return Ks(e.filters[0]);const t=e.filters.map(e=>Ks(e));let n=kr.create(t,e.op);return n=Ys(n),Gs(n)?n:(L(n instanceof kr,64498),L(Ir(n),40251),L(n.filters.length>1,57927),n.filters.reduce((e,t)=>Qs(e,t)))}function Qs(e,t){let n;return L(e instanceof Er||e instanceof kr,38388),L(t instanceof Er||t instanceof kr,25473),n=e instanceof Er?t instanceof Er?function(e,t){return kr.create([e,t],"and")}(e,t):Xs(e,t):t instanceof Er?Xs(t,e):function(e,t){if(L(e.filters.length>0&&t.filters.length>0,48005),Ir(e)&&Ir(t))return Rr(e,t.getFilters());const n=Ar(e)?e:t,r=Ar(e)?t:e,o=n.filters.map(e=>Qs(e,r));return kr.create(o,"or")}(e,t),Ys(n)}function Xs(e,t){if(Ir(t))return Rr(t,e.getFilters());{const n=t.filters.map(t=>Qs(e,t));return kr.create(n,"or")}}function Ys(e){if(L(e instanceof Er||e instanceof kr,11850),e instanceof Er)return e;const t=e.getFilters();if(1===t.length)return Ys(t[0]);if(Tr(e))return e;const n=t.map(e=>Ys(e)),r=[];return n.forEach(t=>{t instanceof Er?r.push(t):t instanceof kr&&(t.op===e.op?r.push(...t.filters):r.push(t))}),1===r.length?r[0]:kr.create(r,e.op)}class $s{constructor(){this.Cn=new Js}addToCollectionParentIndex(e,t){return this.Cn.add(t),Le.resolve()}getCollectionParents(e,t){return Le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Le.resolve()}deleteFieldIndex(e,t){return Le.resolve()}deleteAllFieldIndexes(e){return Le.resolve()}createTargetIndexes(e,t){return Le.resolve()}getDocumentsMatchingTarget(e,t){return Le.resolve(null)}getIndexType(e,t){return Le.resolve(0)}getFieldIndexes(e,t){return Le.resolve([])}getNextCollectionGroupToUpdate(e){return Le.resolve(null)}getMinOffset(e,t){return Le.resolve(je.min())}getMinOffsetFromCollectionGroup(e,t){return Le.resolve(je.min())}updateCollectionGroup(e,t,n){return Le.resolve()}updateIndexEntries(e,t){return Le.resolve()}}class Js{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bn(oe.comparator),o=!r.has(n);return this.index[t]=r.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new bn(oe.comparator)).toArray()}}const Zs="IndexedDbIndexManager",ea=new Uint8Array(0);class ta{constructor(e,t){this.databaseId=t,this.vn=new Js,this.Fn=new po(e=>qr(e),(e,t)=>Wr(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.vn.add(t)});const o={collectionId:n,parent:tt(r)};return na(e).put(o)}return Le.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[te(t),""],!1,!0);return na(e).J(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(ot(r.parent))}return n})}addFieldIndex(e,t){const n=oa(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);delete r.indexId;const o=n.add(r);if(t.indexState){const n=ia(e);return o.next(e=>{n.put(ws(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const n=oa(e),r=ia(e),o=ra(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=oa(e),n=ra(e),r=ia(e);return t.Z().next(()=>n.Z()).next(()=>r.Z())}createTargetIndexes(e,t){return Le.forEach(this.Mn(t),t=>this.getIndexType(e,t).next(n=>{if(0===n||1===n){const n=new Vs(t).Dn();if(null!=n)return this.addFieldIndex(e,n)}}))}getDocumentsMatchingTarget(e,t){const n=ra(e);let r=!0;const o=new Map;return Le.forEach(this.Mn(t),t=>this.xn(e,t).next(e=>{r&&(r=!!e),o.set(t,e)})).next(()=>{if(r){let e=ko();const r=[];return Le.forEach(o,(o,i)=>{T(Zs,"Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map(e=>"".concat(e.fieldPath,":").concat(e.kind)).join(","))}(o)," to execute ").concat(qr(t)));const s=function(e,t){const n=Ee(t);if(void 0===n)return null;for(const r of Gr(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(i,o),a=function(e,t){const n=new Map;for(const r of ke(t))for(const t of Gr(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(i,o),l=function(e,t){const n=[];let r=!0;for(const o of ke(t)){const t=0===o.kind?Kr(e,o.fieldPath,e.startAt):Qr(e,o.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new vr(n,r)}(i,o),c=function(e,t){const n=[];let r=!0;for(const o of ke(t)){const t=0===o.kind?Qr(e,o.fieldPath,e.endAt):Kr(e,o.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new vr(n,r)}(i,o),u=this.On(o,i,l),d=this.On(o,i,c),h=this.Nn(o,i,a),p=this.Bn(o.indexId,s,u,l.inclusive,d,c.inclusive,h);return Le.forEach(p,o=>n.Y(o,t.limit).next(t=>{t.forEach(t=>{const n=ae.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return Le.resolve(null)})}Mn(e){let t=this.Fn.get(e);return t||(t=0===e.filters.length?[e]:qs(kr.create(e.filters,"and")).map(t=>Ur(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,t),t)}Bn(e,t,n,r,o,i,s){const a=(null!=t?t.length:1)*Math.max(n.length,o.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.Ln(t[u/l]):ea,d=this.kn(e,a,n[u%l],r),h=this.qn(e,a,o[u%l],i),p=s.map(t=>this.kn(e,a,t,!0));c.push(...this.createRange(d,h,p))}return c}kn(e,t,n,r){const o=new Ms(e,ae.empty(),t,n);return r?o:o.An()}qn(e,t,n,r){const o=new Ms(e,ae.empty(),t,n);return r?o.An():o}xn(e,t){const n=new Vs(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(const r of e)n.yn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t})}getIndexType(e,t){let n=2;const r=this.Mn(t);return Le.forEach(r,t=>this.xn(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new bn(se.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n)}Qn(e,t){const n=new Os;for(const r of ke(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const o=n.Pn(r.kind);Ts.Kt.Dt(e,o)}return n.un()}Ln(e){const t=new Os;return Ts.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const n=new Os;return Ts.Kt.Dt(er(this.databaseId,t),n.Pn(function(e){const t=ke(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.un()}Nn(e,t,n){if(null===n)return[];let r=[];r.push(new Os);let o=0;for(const i of ke(e)){const e=n[o++];for(const n of r)if(this.Un(t,i.fieldPath)&&nr(e))r=this.Kn(r,i,e);else{const t=n.Pn(i.kind);Ts.Kt.Dt(e,t)}}return this.Wn(r)}On(e,t,n){return this.Nn(e,t,n.position)}Wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].un();return t}Kn(e,t,n){const r=[...e],o=[];for(const i of n.arrayValue.values||[])for(const e of r){const n=new Os;n.seed(e.un()),Ts.Kt.Dt(i,n.Pn(t.kind)),o.push(n)}return o}Un(e,t){return!!e.filters.find(e=>e instanceof Er&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=oa(e),r=ia(e);return(t?n.J(Bt,IDBKeyRange.bound(t,t)):n.J()).next(e=>{const t=[];return Le.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new Ae(t.sequenceNumber,new je(fs(t.readTime),new ae(ot(t.documentKey)),t.largestBatchId)):Ae.empty(),r=e.fields.map(e=>{let[t,n]=e;return new Ie(se.fromServerFormat(t),n)});return new Se(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:X(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=oa(e),o=ia(e);return this.Gn(e).next(e=>r.J(Bt,IDBKeyRange.bound(t,t)).next(t=>Le.forEach(t,t=>o.put(ws(t.indexId,this.uid,e,n)))))}updateIndexEntries(e,t){const n=new Map;return Le.forEach(t,(t,r)=>{const o=n.get(t.collectionGroup);return(o?Le.resolve(o):this.getFieldIndexes(e,t.collectionGroup)).next(o=>(n.set(t.collectionGroup,o),Le.forEach(o,n=>this.zn(e,t,n).next(t=>{const o=this.jn(r,n);return t.isEqual(o)?Le.resolve():this.Jn(e,r,n,t,o)}))))})}Hn(e,t,n,r){return ra(e).put(r.Rn(this.uid,this.$n(n,t.key),t.key))}Yn(e,t,n,r){return ra(e).delete(r.Vn(this.uid,this.$n(n,t.key),t.key))}zn(e,t,n){const r=ra(e);let o=new bn(Ds);return r.ee({index:Kt,range:IDBKeyRange.only([n.indexId,this.uid,zs(this.$n(n,t))])},(e,r)=>{o=o.add(new Ms(n.indexId,t,Bs(r.arrayValue),Bs(r.directionalValue)))}).next(()=>o)}jn(e,t){let n=new bn(Ds);const r=this.Qn(t,e);if(null==r)return n;const o=Ee(t);if(null!=o){const i=e.data.field(o.fieldPath);if(nr(i))for(const o of i.arrayValue.values||[])n=n.add(new Ms(t.indexId,e.key,this.Ln(o),r))}else n=n.add(new Ms(t.indexId,e.key,ea,r));return n}Jn(e,t,n,r,o){T(Zs,"Updating index entries for document '%s'",t.key);const i=[];return function(e,t,n,r,o){const i=e.getIterator(),s=t.getIterator();let a=wn(i),l=wn(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=wn(s)):t?(o(a),a=wn(i)):(a=wn(i),l=wn(s))}}(r,o,Ds,r=>{i.push(this.Hn(e,t,n,r))},r=>{i.push(this.Yn(e,t,n,r))}),Le.waitFor(i)}Gn(e){let t=1;return ia(e).ee({index:qt,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>Ds(e,t)).filter((e,t,n)=>!t||0!==Ds(e,n[t-1]));const r=[];r.push(e);for(const i of n){const n=Ds(i,e),o=Ds(i,t);if(0===n)r[0]=e.An();else if(n>0&&o<0)r.push(i),r.push(i.An());else if(o>0)break}r.push(t);const o=[];for(let i=0;i<r.length;i+=2){if(this.Zn(r[i],r[i+1]))return[];const e=r[i].Vn(this.uid,ea,ae.empty()),t=r[i+1].Vn(this.uid,ea,ae.empty());o.push(IDBKeyRange.bound(e,t))}return o}Zn(e,t){return Ds(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(sa)}getMinOffset(e,t){return Le.mapArray(this.Mn(t),t=>this.xn(e,t).next(e=>e||P(44426))).next(sa)}}function na(e){return hn(e,Lt)}function ra(e){return hn(e,Ht)}function oa(e){return hn(e,zt)}function ia(e){return hn(e,Vt)}function sa(e){L(0!==e.length,28825);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const o=e[r].indexState.offset;_e(o,t)<0&&(t=o),n<o.largestBatchId&&(n=o.largestBatchId)}return new je(t.readTime,t.documentKey,n)}const aa={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},la=41943040;class ca{static withCacheSize(e){return new ca(e,ca.DEFAULT_COLLECTION_PERCENTILE,ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function ua(e,t,n){const r=e.store(ct),o=e.store(gt),i=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.ee({range:s},(e,t,n)=>(a++,n.delete()));i.push(l.next(()=>{L(1===a,47070,{batchId:n.batchId})}));const c=[];for(const u of n.mutations){const e=ft(t,u.key.path,n.batchId);i.push(o.delete(e)),c.push(u.key)}return Le.waitFor(i).next(()=>c)}function da(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw P(14731);t=e.noDocument}return JSON.stringify(t).length}ca.DEFAULT_COLLECTION_PERCENTILE=10,ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ca.DEFAULT=new ca(la,ca.DEFAULT_COLLECTION_PERCENTILE,ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ca.DISABLED=new ca(-1,0,0);class ha{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Xn={}}static wt(e,t,n,r){L(""!==e.uid,64387);const o=e.isAuthenticated()?e.uid:"";return new ha(o,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fa(e).ee({index:dt,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const o=ma(e),i=fa(e);return i.add({}).next(s=>{L("number"==typeof s,49019);const a=new ii(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map(t=>Xi(e.yt,t)),o=n.mutations.map(t=>Xi(e.yt,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:o}}(this.serializer,this.userId,a),c=[];let u=new bn((e,t)=>X(e.canonicalString(),t.canonicalString()));for(const e of r){const t=ft(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(i.put(l)),c.push(o.put(t,mt))}return u.forEach(t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Xn[s]=a.keys()}),Le.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return fa(e).get(t).next(e=>e?(L(e.userId===this.userId,48,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),ms(this.serializer,e)):null)}er(e,t){return this.Xn[t]?Le.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Xn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let o=null;return fa(e).ee({index:dt,range:r},(e,t,r)=>{t.userId===this.userId&&(L(t.batchId>=n,47524,{tr:n}),o=ms(this.serializer,t)),r.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=Ye;return fa(e).ee({index:dt,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ye],[this.userId,Number.POSITIVE_INFINITY]);return fa(e).J(dt,t).next(e=>e.map(e=>ms(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=pt(this.userId,t.path),r=IDBKeyRange.lowerBound(n),o=[];return ma(e).ee({range:r},(n,r,i)=>{const[s,a,l]=n,c=ot(a);if(s===this.userId&&t.path.isEqual(c))return fa(e).get(l).next(e=>{if(!e)throw P(61480,{nr:n,batchId:l});L(e.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:e.userId,batchId:l}),o.push(ms(this.serializer,e))});i.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new bn(X);const r=[];return t.forEach(t=>{const o=pt(this.userId,t.path),i=IDBKeyRange.lowerBound(o),s=ma(e).ee({range:i},(e,r,o)=>{const[i,s,a]=e,l=ot(s);i===this.userId&&t.path.isEqual(l)?n=n.add(a):o.done()});r.push(s)}),Le.waitFor(r).next(()=>this.rr(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,o=pt(this.userId,n),i=IDBKeyRange.lowerBound(o);let s=new bn(X);return ma(e).ee({range:i},(e,t,o)=>{const[i,a,l]=e,c=ot(a);i===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):o.done()}).next(()=>this.rr(e,s))}rr(e,t){const n=[],r=[];return t.forEach(t=>{r.push(fa(e).get(t).next(e=>{if(null===e)throw P(35274,{batchId:t});L(e.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),n.push(ms(this.serializer,e))}))}),Le.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return ua(e.le,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.ir(t.batchId)}),Le.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Le.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return ma(e).ee({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=ot(e[1]);r.push(t)}else n.done()}).next(()=>{L(0===r.length,56720,{sr:r.map(e=>e.canonicalString())})})})}containsKey(e,t){return pa(e,this.userId,t)}_r(e){return ga(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:Ye,lastStreamToken:""})}}function pa(e,t,n){const r=pt(t,n.path),o=r[1],i=IDBKeyRange.lowerBound(r);let s=!1;return ma(e).ee({range:i,X:!0},(e,n,r)=>{const[i,a,l]=e;i===t&&a===o&&(s=!0),r.done()}).next(()=>s)}function fa(e){return hn(e,ct)}function ma(e){return hn(e,gt)}function ga(e){return hn(e,lt)}class va{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new va(0)}static cr(){return new va(-1)}}class ya{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next(t=>{const n=new va(t.highestTargetId);return t.highestTargetId=n.next(),this.hr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(e=>xe.fromTimestamp(new be(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.lr(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.hr(e,r)))}addTargetData(e,t){return this.Pr(e,t).next(()=>this.lr(e).next(n=>(n.targetCount+=1,this.Tr(t,n),this.hr(e,n))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ba(e).delete(t.targetId)).next(()=>this.lr(e)).next(t=>(L(t.targetCount>0,8065),t.targetCount-=1,this.hr(e,t)))}removeTargets(e,t,n){let r=0;const o=[];return ba(e).ee((i,s)=>{const a=gs(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,o.push(this.removeTargetData(e,a)))}).next(()=>Le.waitFor(o)).next(()=>r)}forEachTarget(e,t){return ba(e).ee((e,n)=>{const r=gs(n);t(r)})}lr(e){return xa(e).get(Pt).next(e=>(L(null!==e,2888),e))}hr(e,t){return xa(e).put(Pt,t)}Pr(e,t){return ba(e).put(vs(this.serializer,t))}Tr(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.lr(e).next(e=>e.targetCount)}getTargetData(e,t){const n=qr(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let o=null;return ba(e).ee({range:r,index:At},(e,n,r)=>{const i=gs(n);Wr(t,i.target)&&(o=i,r.done())}).next(()=>o)}addMatchingKeys(e,t,n){const r=[],o=wa(e);return t.forEach(t=>{const i=tt(t.path);r.push(o.put({targetId:n,path:i})),r.push(this.referenceDelegate.addReference(e,n,t))}),Le.waitFor(r)}removeMatchingKeys(e,t,n){const r=wa(e);return Le.forEach(t,t=>{const o=tt(t.path);return Le.waitFor([r.delete([n,o]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=wa(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=wa(e);let o=ko();return r.ee({range:n,X:!0},(e,t,n)=>{const r=ot(e[1]),i=new ae(r);o=o.add(i)}).next(()=>o)}containsKey(e,t){const n=tt(t.path),r=IDBKeyRange.bound([n],[te(n)],!1,!0);let o=0;return wa(e).ee({index:_t,X:!0,range:r},(e,t,n)=>{let[r,i]=e;0!==r&&(o++,n.done())}).next(()=>o>0)}At(e,t){return ba(e).get(t).next(e=>e?gs(e):null)}}function ba(e){return hn(e,It)}function xa(e){return hn(e,Nt)}function wa(e){return hn(e,Tt)}const Sa="LruGarbageCollector",Ea=1048576;function ka(e,t){let[n,r]=e,[o,i]=t;const s=X(n,o);return 0===s?X(r,i):s}class Ia{constructor(e){this.Ir=e,this.buffer=new bn(ka),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ka(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Aa{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){T(Sa,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ve(e)?T(Sa,"Ignoring IndexedDB error during garbage collection: ",e):await Ne(e)}await this.Vr(3e5)})}}class Ca{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Le.resolve(Xe.ce);const n=new Ia(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; disabled"),Le.resolve(aa)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),aa):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,o,i,s,a,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(T("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(o=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),C()<=l.$b.DEBUG&&T("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-i)+"ms\n"+"\tRemoved ".concat(o," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-a)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),Le.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})))}}function Ta(e,t){return new Ca(e,t)}class ja{constructor(e,t){this.db=e,this.garbageCollector=Ta(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,(e,n)=>t(n))}addReference(e,t,n){return _a(e,n)}removeReference(e,t,n){return _a(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return _a(e,t)}br(e,t){return function(e,t){let n=!1;return ga(e).te(r=>pa(e,r,t).next(e=>(e&&(n=!0),Le.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Sr(e,(i,s)=>{if(s<=t){const t=this.br(e,i).next(t=>{if(!t)return o++,n.getEntry(e,i).next(()=>(n.removeEntry(i,xe.min()),wa(e).delete(function(e){return[0,tt(e.path)]}(i))))});r.push(t)}}).next(()=>Le.waitFor(r)).next(()=>n.apply(e)).next(()=>o)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return _a(e,t)}Sr(e,t){const n=wa(e);let r,o=Xe.ce;return n.ee({index:_t},(e,n)=>{let[i,s]=e,{path:a,sequenceNumber:l}=n;0===i?(o!==Xe.ce&&t(new ae(ot(r)),o),o=l,r=a):o=Xe.ce}).next(()=>{o!==Xe.ce&&t(new ae(ot(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _a(e,t){return wa(e).put(function(e,t){return{targetId:0,path:tt(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Ra{constructor(){this.changes=new po(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Le.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pa{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Ma(e).put(n)}removeEntry(e,t,n){return Ma(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],hs(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Dr(e,n)))}getEntry(e,t){let n=gr.newInvalidDocument(t);return Ma(e).ee({index:bt,range:IDBKeyRange.only(Da(t))},(e,r)=>{n=this.Cr(t,r)}).next(()=>n)}vr(e,t){let n={size:0,document:gr.newInvalidDocument(t)};return Ma(e).ee({index:bt,range:IDBKeyRange.only(Da(t))},(e,r)=>{n={document:this.Cr(t,r),size:da(r)}}).next(()=>n)}getEntries(e,t){let n=mo();return this.Fr(e,t,(e,t)=>{const r=this.Cr(e,t);n=n.insert(e,r)}).next(()=>n)}Mr(e,t){let n=mo(),r=new gn(ae.comparator);return this.Fr(e,t,(e,t)=>{const o=this.Cr(e,t);n=n.insert(e,o),r=r.insert(e,da(t))}).next(()=>({documents:n,Or:r}))}Fr(e,t,n){if(t.isEmpty())return Le.resolve();let r=new bn(za);t.forEach(e=>r=r.add(e));const o=IDBKeyRange.bound(Da(r.first()),Da(r.last())),i=r.getIterator();let s=i.getNext();return Ma(e).ee({index:bt,range:o},(e,t,r)=>{const o=ae.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&za(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.j(Da(s)):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n,r,o){const i=t.path,s=[i.popLast().toArray(),i.lastSegment(),hs(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ma(e).J(IDBKeyRange.bound(s,a,!0)).next(e=>{null===o||void 0===o||o.incrementDocumentReadCount(e.length);let n=mo();for(const o of e){const e=this.Cr(ae.fromSegments(o.prefixPath.concat(o.collectionGroup,o.documentId)),o);e.isFoundDocument()&&(lo(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,r){let o=mo();const i=Fa(t,n),s=Fa(t,je.max());return Ma(e).ee({index:wt,range:IDBKeyRange.bound(i,s,!0)},(e,t,n)=>{const i=this.Cr(ae.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);o=o.insert(i.key,i),o.size===r&&n.done()}).next(()=>o)}newChangeBuffer(e){return new La(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return Oa(e).get(kt).next(e=>(L(!!e,20021),e))}Dr(e,t){return Oa(e).put(kt,t)}Cr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Qi(e.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=ae.fromSegments(t.noDocument.path),r=fs(t.noDocument.readTime);n=gr.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return P(56709);{const e=ae.fromSegments(t.unknownDocument.path),r=fs(t.unknownDocument.version);n=gr.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new be(e[0],e[1]);return xe.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(xe.min()))return e}return gr.newInvalidDocument(e)}}function Na(e){return new Pa(e)}class La extends Ra{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new po(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new bn((e,t)=>X(e.canonicalString(),t.canonicalString()));return this.changes.forEach((o,i)=>{const s=this.Br.get(o);if(t.push(this.Nr.removeEntry(e,o,s.readTime)),i.isValidDocument()){const a=ds(this.Nr.serializer,i);r=r.add(o.path.popLast());const l=da(a);n+=l-s.size,t.push(this.Nr.addEntry(e,o,a))}else if(n-=s.size,this.trackRemovals){const n=ds(this.Nr.serializer,i.convertToNoDocument(xe.min()));t.push(this.Nr.addEntry(e,o,n))}}),r.forEach(n=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.Nr.updateMetadata(e,n)),Le.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next(e=>(this.Br.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next(e=>{let{documents:t,Or:n}=e;return n.forEach((e,n)=>{this.Br.set(e,{size:n,readTime:t.get(e).readTime})}),t})}}function Oa(e){return hn(e,Et)}function Ma(e){return hn(e,vt)}function Da(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Fa(e,t){const n=t.documentKey.path.toArray();return[e,hs(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function za(e,t){const n=e.path.toArray(),r=t.path.toArray();let o=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(o=X(n[i],r[i]),o)return o;return o=X(n.length,r.length),o||(o=X(n[n.length-2],r[r.length-2]),o||X(n[n.length-1],r[r.length-1]))}class Ba{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Va{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Xo(n.mutation,e,Sn.empty(),be.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ko()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ko();const r=bo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=vo();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=bo();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ko()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let o=mo();const i=wo(),s=wo();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Zo)?o=o.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),Xo(s.mutation,t,s.mutation.getFieldMask(),be.now())):i.set(t.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new Ba(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=wo();let r=new gn((e,t)=>e-t),o=ko();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const o of e)o.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let s=n.get(e)||Sn.empty();s=o.applyToLocalView(i,s),n.set(e,s);const a=(r.get(o.batchId)||ko()).add(e);r=r.insert(o.batchId,a)})}).next(()=>{const i=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=xo();l.forEach(e=>{if(!o.has(e)){const r=Ko(t.get(e),n.get(e));null!==r&&c.set(e,r),o=o.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Le.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ae.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Zr(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(o=>{const i=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):Le.resolve(bo());let s=we,a=o;return i.next(t=>Le.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),o.get(t)?Le.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,o)).next(()=>this.computeViews(e,a,t,ko())).next(e=>({batchId:s,changes:yo(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(e=>{let t=vo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const o=t.collectionGroup;let i=vo();return this.indexManager.getCollectionParents(e,o).next(s=>Le.forEach(s,s=>{const a=function(e,t){return new Xr(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(o));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,r))).next(e=>{o.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,gr.newInvalidDocument(r)))});let n=vo();return e.forEach((e,r)=>{const i=o.get(e);void 0!==i&&Xo(i.mutation,r,Sn.empty(),be.now()),lo(t,r)&&(n=n.insert(e,r))}),n})}}class Ua{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Le.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Di(e.createTime)}}(t)),Le.resolve()}getNamedQuery(e,t){return Le.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:ys(e.bundledQuery),readTime:Di(e.readTime)}}(t)),Le.resolve()}}class qa{constructor(){this.overlays=new gn(ae.comparator),this.qr=new Map}getOverlay(e,t){return Le.resolve(this.overlays.get(t))}getOverlays(e,t){const n=bo();return Le.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Le.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Le.resolve()}getOverlaysForCollection(e,t,n){const r=bo(),o=t.length+1,i=new ae(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===o&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Le.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let o=new gn((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=o.get(e.largestBatchId);null===t&&(t=bo(),o=o.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=bo(),a=o.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return Le.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ai(t,n));let o=this.qr.get(t);void 0===o&&(o=ko(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}class Wa{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return Le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Le.resolve()}}class Ha{constructor(){this.Qr=new bn(Ga.$r),this.Ur=new bn(Ga.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Ga(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Ga(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new ae(new oe([])),n=new Ga(t,e),r=new Ga(t,e+1),o=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),o.push(e.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ae(new oe([])),n=new Ga(t,e),r=new Ga(t,e+1);let o=ko();return this.Ur.forEachInRange([n,r],e=>{o=o.add(e.key)}),o}containsKey(e){const t=new Ga(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ga{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ae.comparator(e.key,t.key)||X(e.Yr,t.Yr)}static Kr(e,t){return X(e.Yr,t.Yr)||ae.comparator(e.key,t.key)}}class Ka{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new bn(Ga.$r)}checkEmpty(e){return Le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new ii(o,t,n,r);this.mutationQueue.push(i);for(const s of r)this.Zr=this.Zr.add(new Ga(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Le.resolve(i)}lookupMutationBatch(e,t){return Le.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),o=r<0?0:r;return Le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(0===this.mutationQueue.length?Ye:this.tr-1)}getAllMutationBatches(e){return Le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ga(t,0),r=new Ga(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);o.push(t)}),Le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new bn(X);return t.forEach(e=>{const t=new Ga(e,0),r=new Ga(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Le.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let o=n;ae.isDocumentKey(o)||(o=o.child(""));const i=new Ga(new ae(o),0);let s=new bn(X);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},i),Le.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){L(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Le.forEach(t.mutations,r=>{const o=new Ga(r.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Ga(t,0),r=this.Zr.firstAfterOrEqual(n);return Le.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Le.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Qa{constructor(e){this.ri=e,this.docs=new gn(ae.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),o=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Le.resolve(n?n.document.mutableCopy():gr.newInvalidDocument(t))}getEntries(e,t){let n=mo();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():gr.newInvalidDocument(e))}),Le.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let o=mo();const i=t.path,s=new ae(i.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||_e(Te(s),n)<=0||(r.has(s.key)||lo(t,s))&&(o=o.insert(s.key,s.mutableCopy()))}return Le.resolve(o)}getAllFromCollectionGroup(e,t,n,r){P(9500)}ii(e,t){return Le.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Xa(this)}getSize(e){return Le.resolve(this.size)}}class Xa extends Ra{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Le.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Ya{constructor(e){this.persistence=e,this.si=new po(e=>qr(e),Wr),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Ha,this.targetCount=0,this.ai=va.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Le.resolve()}getLastRemoteSnapshotVersion(e){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Le.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new va(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Le.resolve()}updateTargetData(e,t){return this.Pr(t),Le.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Le.resolve()}removeTargets(e,t,n){let r=0;const o=[];return this.si.forEach((i,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(i),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),Le.waitFor(o).next(()=>r)}getTargetCount(e){return Le.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Le.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Le.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(t=>{o.push(r.markPotentiallyOrphaned(e,t))}),Le.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Le.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Le.resolve(n)}containsKey(e,t){return Le.resolve(this._i.containsKey(t))}}class $a{constructor(e,t){this.ui={},this.overlays={},this.ci=new Xe(0),this.li=!1,this.li=!0,this.hi=new Wa,this.referenceDelegate=e(this),this.Pi=new Ya(this),this.indexManager=new $s,this.remoteDocumentCache=function(e){return new Qa(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new us(t),this.Ii=new Ua(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qa,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Ka(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){T("MemoryPersistence","Starting transaction:",e);const r=new Ja(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Le.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Ja extends Pe{constructor(e){super(),this.currentSequenceNumber=e}}class Za{constructor(e){this.persistence=e,this.Ri=new Ha,this.Vi=null}static mi(e){return new Za(e)}get fi(){if(this.Vi)return this.Vi;throw P(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Le.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Le.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Le.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.fi,n=>{const r=ae.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,xe.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Le.or([()=>Le.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class el{constructor(e,t){this.persistence=e,this.pi=new po(e=>tt(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Ta(this,t)}static mi(e,t){return new el(e,t)}Ei(){}di(e){return Le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Le.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Le.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,o.removeEntry(r,xe.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Le.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Le.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Le.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Le.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zn(e.data.value)),t}br(e,t,n){return Le.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Le.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tl{constructor(e){this.serializer=e}k(e,t,n,r){const o=new Me("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(st)}(e),function(e){e.createObjectStore(lt,{keyPath:"userId"});e.createObjectStore(ct,{keyPath:ut,autoIncrement:!0}).createIndex(dt,ht,{unique:!0}),e.createObjectStore(gt)}(e),nl(e),function(e){e.createObjectStore(it)}(e));let i=Le.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Tt),e.deleteObjectStore(It),e.deleteObjectStore(Nt)}(e),nl(e)),i=i.next(()=>function(e){const t=e.store(Nt),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xe.min().toTimestamp(),targetCount:0};return t.put(Pt,n)}(o))),n<4&&r>=4&&(0!==n&&(i=i.next(()=>function(e,t){return t.store(ct).J().next(n=>{e.deleteObjectStore(ct),e.createObjectStore(ct,{keyPath:ut,autoIncrement:!0}).createIndex(dt,ht,{unique:!0});const r=t.store(ct),o=n.map(e=>r.put(e));return Le.waitFor(o)})}(e,o))),i=i.next(()=>{!function(e){e.createObjectStore(Mt,{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(i=i.next(()=>this.yi(o))),n<6&&r>=6&&(i=i.next(()=>(function(e){e.createObjectStore(Et)}(e),this.wi(o)))),n<7&&r>=7&&(i=i.next(()=>this.Si(o))),n<8&&r>=8&&(i=i.next(()=>this.bi(e,o))),n<9&&r>=9&&(i=i.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(i=i.next(()=>this.Di(o))),n<11&&r>=11&&(i=i.next(()=>{!function(e){e.createObjectStore(Dt,{keyPath:"bundleId"})}(e),function(e){e.createObjectStore(Ft,{keyPath:"name"})}(e)})),n<12&&r>=12&&(i=i.next(()=>{!function(e){const t=e.createObjectStore(Xt,{keyPath:Yt});t.createIndex($t,Jt,{unique:!1}),t.createIndex(Zt,en,{unique:!1})}(e)})),n<13&&r>=13&&(i=i.next(()=>function(e){const t=e.createObjectStore(vt,{keyPath:yt});t.createIndex(bt,xt),t.createIndex(wt,St)}(e)).next(()=>this.Ci(e,o)).next(()=>e.deleteObjectStore(it))),n<14&&r>=14&&(i=i.next(()=>this.Fi(e,o))),n<15&&r>=15&&(i=i.next(()=>function(e){e.createObjectStore(zt,{keyPath:"indexId",autoIncrement:!0}).createIndex(Bt,"collectionGroup",{unique:!1});e.createObjectStore(Vt,{keyPath:Ut}).createIndex(qt,Wt,{unique:!1});e.createObjectStore(Ht,{keyPath:Gt}).createIndex(Kt,Qt,{unique:!1})}(e))),n<16&&r>=16&&(i=i.next(()=>{t.objectStore(Vt).clear()}).next(()=>{t.objectStore(Ht).clear()})),n<17&&r>=17&&(i=i.next(()=>{!function(e){e.createObjectStore(tn,{keyPath:"name"})}(e)})),n<18&&r>=18&&(0,c.Ov)()&&(i=i.next(()=>{t.objectStore(Vt).clear()}).next(()=>{t.objectStore(Ht).clear()})),i}wi(e){let t=0;return e.store(it).ee((e,n)=>{t+=da(n)}).next(()=>{const n={byteSize:t};return e.store(Et).put(kt,n)})}yi(e){const t=e.store(lt),n=e.store(ct);return t.J().next(t=>Le.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,Ye],[t.userId,t.lastAcknowledgedBatchId]);return n.J(dt,r).next(n=>Le.forEach(n,n=>{L(n.userId===t.userId,18650,"Cannot process batch from unexpected user",{batchId:n.batchId});const r=ms(this.serializer,n);return ua(e,t.userId,r).next(()=>{})}))}))}Si(e){const t=e.store(Tt),n=e.store(it);return e.store(Nt).get(Pt).next(e=>{const r=[];return n.ee((n,o)=>{const i=new oe(n),s=function(e){return[0,tt(e)]}(i);r.push(t.get(s).next(n=>n?Le.resolve():(n=>t.put({targetId:0,path:tt(n),sequenceNumber:e.highestListenSequenceNumber}))(i)))}).next(()=>Le.waitFor(r))})}bi(e,t){e.createObjectStore(Lt,{keyPath:Ot});const n=t.store(Lt),r=new Js,o=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:tt(r)})}};return t.store(it).ee({X:!0},(e,t)=>{const n=new oe(e);return o(n.popLast())}).next(()=>t.store(gt).ee({X:!0},(e,t)=>{let[n,r,i]=e;const s=ot(r);return o(s.popLast())}))}Di(e){const t=e.store(It);return t.ee((e,n)=>{const r=gs(n),o=vs(this.serializer,r);return t.put(o)})}Ci(e,t){const n=t.store(it),r=[];return n.ee((e,n)=>{const o=t.store(vt),i=function(e){return e.document?new ae(oe.fromString(e.document.name).popFirst(5)):e.noDocument?ae.fromSegments(e.noDocument.path):e.unknownDocument?ae.fromSegments(e.unknownDocument.path):P(36783)}(n).path.toArray(),s={prefixPath:i.slice(0,i.length-2),collectionGroup:i[i.length-2],documentId:i[i.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(o.put(s))}).next(()=>Le.waitFor(r))}Fi(e,t){const n=t.store(ct),r=Na(this.serializer),o=new $a(Za.mi,this.serializer.yt);return n.J().next(e=>{const n=new Map;return e.forEach(e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:ko();ms(this.serializer,e).keys().forEach(e=>r=r.add(e)),n.set(e.userId,r)}),Le.forEach(n,(e,n)=>{const i=new k(n),s=Is.wt(this.serializer,i),a=o.getIndexManager(i),l=ha.wt(i,this.serializer,a,o.referenceDelegate);return new Va(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new dn(t,Xe.ce),e).next()})})}}function nl(e){e.createObjectStore(Tt,{keyPath:jt}).createIndex(_t,Rt,{unique:!0}),e.createObjectStore(It,{keyPath:"targetId"}).createIndex(At,Ct,{unique:!0}),e.createObjectStore(Nt)}const rl="IndexedDbPersistence",ol=18e5,il=5e3,sl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",al="main";class ll{constructor(e,t,n,r,o,i,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:18;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Mi=o,this.window=i,this.document=s,this.xi=l,this.Oi=c,this.Ni=u,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=e=>Promise.resolve(),!ll.v())throw new D(M.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ja(this,r),this.$i=t+al,this.serializer=new us(a),this.Ui=new De(this.$i,this.Ni,new tl(this.serializer)),this.hi=new Cs,this.Pi=new ya(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Na(this.serializer),this.Ii=new Ss,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,!1===c&&j(rl,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new D(M.FAILED_PRECONDITION,sl);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new Xe(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ul(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(e=>{e||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(t=>this.isPrimary&&!t?this.Zi(e).next(()=>!1):!!t&&this.Xi(e).next(()=>!0))).catch(e=>{if(Ve(e))return T(rl,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return T(rl,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return cl(e).get(at).next(e=>Le.resolve(this.es(e)))}ts(e){return ul(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,ol)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=hn(e,Mt);return t.J().next(e=>{const n=this.ss(e,ol),r=e.filter(e=>-1===n.indexOf(e));return Le.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Le.resolve(!0):cl(e).get(at).next(t=>{if(null!==t&&this.rs(t.leaseTimestampMs,il)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new D(M.FAILED_PRECONDITION,sl);return!1}}return!(!this.networkEnabled||!this.inForeground)||ul(e).J().next(e=>void 0===this.ss(e,il).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&T(rl,"Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[st,Mt],e=>{const t=new dn(e,Xe.ce);return this.Zi(t).next(()=>this.ts(t))}),this.Ui.close(),this.Ps()}ss(e,t){return e.filter(e=>this.rs(e.updateTimeMs,t)&&!this.us(e.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>ul(e).J().next(e=>this.ss(e,ol).map(e=>e.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return ha.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ta(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Is.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,n){T(rl,"Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=function(e){return 18===e?un:17===e?cn:16===e?ln:15===e?an:14===e?sn:13===e?on:12===e?rn:11===e?nn:void P(60245)}(this.Ni);let i;return this.Ui.runTransaction(e,r,o,r=>(i=new dn(r,this.ci?this.ci.next():Xe.ce),"readwrite-primary"===t?this.Hi(i).next(e=>!!e||this.Yi(i)).next(t=>{if(!t)throw j("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new D(M.FAILED_PRECONDITION,Re);return n(i)}).next(e=>this.Xi(i).next(()=>e)):this.Is(i).next(()=>n(i)))).then(e=>(i.raiseOnCommittedEvent(),e))}Is(e){return cl(e).get(at).next(e=>{if(null!==e&&this.rs(e.leaseTimestampMs,il)&&!this.us(e.ownerId)&&!this.es(e)&&!(this.Oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new D(M.FAILED_PRECONDITION,sl)})}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cl(e).put(at,t)}static v(){return De.v()}Zi(e){const t=cl(e);return t.get(at).next(e=>this.es(e)?(T(rl,"Releasing primary lease."),t.delete(at)):Le.resolve())}rs(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(j("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground="visible"===this.document.visibilityState)}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;(0,c.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{var t;const n=null!==(null===(t=this.Ki)||void 0===t?void 0:t.getItem(this._s(e)));return T(rl,"Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return j(rl,"Failed to get zombied client id.",e),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){j("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch(e){}}_s(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function cl(e){return hn(e,st)}function ul(e){return hn(e,Mt)}function dl(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class hl{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=ko(),r=ko();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new hl(e,t.fromCache,n,r)}}class pl{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fl{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(0,c.nr)()?8:Fe((0,c.ZQ)())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const o={result:null};return this.ys(e,t).next(e=>{o.result=e}).next(()=>{if(!o.result)return this.ws(e,t,r,n).next(e=>{o.result=e})}).next(()=>{if(o.result)return;const n=new pl;return this.Ss(e,t,n).next(r=>{if(o.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>o.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(C()<=l.$b.DEBUG&&T("QueryEngine","SDK will not create cache indexes for query:",ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Le.resolve()):(C()<=l.$b.DEBUG&&T("QueryEngine","Query:",ao(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(C()<=l.$b.DEBUG&&T("QueryEngine","The SDK decides to create cache indexes for query:",ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,to(t))):Le.resolve())}ys(e,t){if(Jr(t))return Le.resolve(null);let n=to(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=oo(t,null,"F"),n=to(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const o=ko(...r);return this.ps.getDocuments(e,o).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,r);return this.Cs(t,i,o,n.readTime)?this.ys(e,oo(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,r){return Jr(t)||r.isEqual(xe.min())?Le.resolve(null):this.ps.getDocuments(e,n).next(o=>{const i=this.Ds(t,o);return this.Cs(t,i,n,r)?Le.resolve(null):(C()<=l.$b.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ao(t)),this.vs(e,i,t,Ce(r,we)).next(e=>e))})}Ds(e,t){let n=new bn(uo(e));return t.forEach((t,r)=>{lo(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,t,n){return C()<=l.$b.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",ao(t)),this.ps.getDocumentsMatchingQuery(e,t,je.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const ml="LocalStore",gl=3e8;class vl{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new gn(X),this.xs=new po(e=>qr(e),Wr),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Va(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function yl(e,t,n,r){return new vl(e,t,n,r)}async function bl(e,t){const n=O(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(o=>(r=o,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const o=[],i=[];let s=ko();for(const e of r){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:o,addedBatchIds:i}))})})}function xl(e){const t=O(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function wl(e,t,n){let r=ko(),o=ko();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=mo();return n.forEach((n,i)=>{const s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(o=o.add(n)),i.isNoDocument()&&i.version.isEqual(xe.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):T(ml,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)}),{ks:r,qs:o}})}function Sl(e,t){const n=O(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Ye),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function El(e,t){const n=O(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(o=>o?(r=o,Le.resolve(r)):n.Pi.allocateTargetId(e).next(o=>(r=new cs(t,o,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function kl(e,t,n){const r=O(e),o=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,o))}catch(e){if(!Ve(e))throw e;T(ml,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function Il(e,t,n){const r=O(e);let o=xe.min(),i=ko();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=O(e),o=r.xs.get(n);return void 0!==o?Le.resolve(r.Ms.get(o)):r.Pi.getTargetData(t,n)}(r,e,to(t)).next(t=>{if(t)return o=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?o:xe.min(),n?i:ko())).next(e=>(Al(r,co(t),e),{documents:e,Qs:i})))}function Al(e,t,n){let r=e.Os.get(t)||xe.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Cl{constructor(){this.activeTargetIds=Ao()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tl{constructor(){this.Mo=new Cl,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Cl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jl{Oo(e){}shutdown(){}}const _l="ConnectivityMonitor";class Rl{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){T(_l,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){T(_l,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Pl=null;function Nl(){return null===Pl?Pl=268435456+Math.round(2147483648*Math.random()):Pl++,"0x"+Pl.toString(16)}const Ll="RestConnection",Ol={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ml{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Dn?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,o){const i=Nl(),s=this.zo(e,t.toUriEncodedString());T(Ll,"Sending RPC '".concat(e,"' ").concat(i,":"),s,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,o);const{host:l}=new URL(s),u=(0,c.zJ)(l);return this.Jo(e,s,a,n,u).then(t=>(T(Ll,"Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw _(Ll,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,o,i){return this.Go(e,t,n,r,o)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+I,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Ol[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Dl{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Fl="WebChannelConnection";class zl extends Ml{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,o){const i=Nl();return new Promise((o,s)=>{const a=new h;a.setWithCredentials(!0),a.listenOnce(f.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case m.NO_ERROR:const n=a.getResponseJson();T(Fl,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(n)),o(n);break;case m.TIMEOUT:T(Fl,"RPC '".concat(e,"' ").concat(i," timed out")),s(new D(M.DEADLINE_EXCEEDED,"Request time out"));break;case m.HTTP_ERROR:const r=a.getStatus();if(T(Fl,"RPC '".concat(e,"' ").concat(i," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(t)>=0?t:M.UNKNOWN}(n.status);s(new D(e,n.message))}else s(new D(M.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new D(M.UNAVAILABLE,"Connection failed."));break;default:P(9055,{l_:e,streamId:i,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{T(Fl,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);T(Fl,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Nl(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=b(),s=y(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=o.join("");T(Fl,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=i.createWebChannel(c,a);this.I_(u);let d=!1,h=!1;const f=new Dl({Yo:t=>{h?T(Fl,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(T(Fl,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),T(Fl,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(u,p.EventType.OPEN,()=>{h||(T(Fl,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),m(u,p.EventType.CLOSE,()=>{h||(h=!0,T(Fl,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),m(u,p.EventType.ERROR,t=>{h||(h=!0,_(Fl,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new D(M.UNAVAILABLE,"The operation could not be completed")))}),m(u,p.EventType.MESSAGE,t=>{if(!h){var n;const o=t.data[0];L(!!o,16349);const i=o,s=(null===i||void 0===i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){T(Fl,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=ci[e];if(void 0!==t)return hi(t)}(t),o=s.message;void 0===n&&(n=M.INTERNAL,o="Unknown error status: "+t+" with message "+s.message),h=!0,f.a_(new D(n,o)),u.close()}else T(Fl,"RPC '".concat(e,"' stream ").concat(r," received:"),o),f.u_(o)}}),m(s,v.STAT_EVENT,t=>{t.stat===g.PROXY?T(Fl,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===g.NOPROXY&&T(Fl,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Bl(){return"undefined"!=typeof window?window:null}function Vl(){return"undefined"!=typeof document?document:null}function Ul(e){return new Pi(e,!0)}class ql{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&T("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Wl="PersistentStream";class Hl{constructor(e,t,n,r,o,i,s,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ql(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(j(t.toString()),j("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===M.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new D(M.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return T(Wl,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(T(Wl,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gl extends Hl{constructor(e,t,n,r,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:P(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(L(void 0===t||"string"==typeof t,58123),kn.fromBase64String(t||"")):(L(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),kn.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?M.UNKNOWN:hi(e.code);return new D(t,e.message||"")}(s);n=new ki(r,o,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Ui(e,r.document.name),i=Di(r.document.updateTime),s=r.document.createTime?Di(r.document.createTime):xe.min(),a=new fr({mapValue:{fields:r.document.fields}}),l=gr.newFoundDocument(o,i,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Si(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Ui(e,r.document),i=r.readTime?Di(r.readTime):xe.min(),s=gr.newNoDocument(o,i),a=r.removedTargetIds||[];n=new Si([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Ui(e,r.document),i=r.removedTargetIds||[];n=new Si([],i,o,null)}else{if(!("filter"in t))return P(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:o}=e,i=new li(r,o),s=e.targetId;n=new Ei(s,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return xe.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?xe.min():t.readTime?Di(t.readTime):xe.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Hi(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Hr(r)?{documents:$i(e,r)}:{query:Ji(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Oi(e,t.resumeToken);const r=Ni(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(xe.min())>0){n.readTime=Li(e,t.snapshotVersion.toTimestamp());const r=Ni(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Hi(this.serializer),t.removeTarget=e,this.q_(t)}}class Kl extends Hl{constructor(e,t,n,r,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return L(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,L(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){L(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(L(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Di(e.updateTime):Di(t);return n.isEqual(xe.min())&&(n=Di(t)),new qo(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Di(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Hi(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Xi(this.serializer,e))};this.q_(t)}}class Ql{}class Xl extends Ql{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new D(M.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[i,s]=o;return this.connection.Go(e,zi(t,n),r,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new D(M.UNKNOWN,e.toString())})}Ho(e,t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Ho(e,zi(t,n),r,s,a,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new D(M.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Yl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(j(t),this.aa=!1):T("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const $l="RemoteStore";class Jl{constructor(e,t,n,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{ac(this)&&(T($l,"Restarting streams for network reachability change."),await async function(e){const t=O(e);t.Ea.add(4),await ec(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Zl(t)}(this))})}),this.Ra=new Yl(n,r)}}async function Zl(e){if(ac(e))for(const t of e.da)await t(!0)}async function ec(e){for(const t of e.da)await t(!1)}function tc(e,t){const n=O(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),sc(n)?ic(n):Ac(n).O_()&&rc(n,t))}function nc(e,t){const n=O(e),r=Ac(n);n.Ia.delete(t),r.O_()&&oc(n,t),0===n.Ia.size&&(r.O_()?r.L_():ac(n)&&n.Ra.set("Unknown"))}function rc(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xe.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ac(e).Y_(t)}function oc(e,t){e.Va.Ue(t),Ac(e).Z_(t)}function ic(e){e.Va=new Ai({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ac(e).start(),e.Ra.ua()}function sc(e){return ac(e)&&!Ac(e).x_()&&e.Ia.size>0}function ac(e){return 0===O(e).Ea.size}function lc(e){e.Va=void 0}async function cc(e){e.Ra.set("Online")}async function uc(e){e.Ia.forEach((t,n)=>{rc(e,t)})}async function dc(e,t){lc(e),sc(e)?(e.Ra.ha(t),ic(e)):e.Ra.set("Unknown")}async function hc(e,t,n){if(e.Ra.set("Online"),t instanceof ki&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){T($l,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await pc(e,n)}else if(t instanceof Si?e.Va.Ze(t):t instanceof Ei?e.Va.st(t):e.Va.tt(t),!n.isEqual(xe.min()))try{const t=await xl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const o=e.Ia.get(r);o&&e.Ia.set(r,o.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(kn.EMPTY_BYTE_STRING,r.snapshotVersion)),oc(e,t);const o=new cs(r.target,t,n,r.sequenceNumber);rc(e,o)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){T($l,"Failed to raise snapshot:",t),await pc(e,t)}}async function pc(e,t,n){if(!Ve(t))throw t;e.Ea.add(1),await ec(e),e.Ra.set("Offline"),n||(n=()=>xl(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{T($l,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Zl(e)})}function fc(e,t){return t().catch(n=>pc(e,n,t))}async function mc(e){const t=O(e),n=Cc(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ye;for(;gc(t);)try{const e=await Sl(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,vc(t,e)}catch(e){await pc(t,e)}yc(t)&&bc(t)}function gc(e){return ac(e)&&e.Ta.length<10}function vc(e,t){e.Ta.push(t);const n=Cc(e);n.O_()&&n.X_&&n.ea(t.mutations)}function yc(e){return ac(e)&&!Cc(e).x_()&&e.Ta.length>0}function bc(e){Cc(e).start()}async function xc(e){Cc(e).ra()}async function wc(e){const t=Cc(e);for(const n of e.Ta)t.ea(n.mutations)}async function Sc(e,t,n){const r=e.Ta.shift(),o=si.from(r,t,n);await fc(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await mc(e)}async function Ec(e,t){t&&Cc(e).X_&&await async function(e,t){if(function(e){return di(e)&&e!==M.ABORTED}(t.code)){const n=e.Ta.shift();Cc(e).B_(),await fc(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await mc(e)}}(e,t),yc(e)&&bc(e)}async function kc(e,t){const n=O(e);n.asyncQueue.verifyOperationInProgress(),T($l,"RemoteStore received new credentials");const r=ac(n);n.Ea.add(3),await ec(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Zl(n)}async function Ic(e,t){const n=O(e);t?(n.Ea.delete(2),await Zl(n)):t||(n.Ea.add(2),await ec(n),n.Ra.set("Unknown"))}function Ac(e){return e.ma||(e.ma=function(e,t,n){const r=O(e);return r.sa(),new Gl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:cc.bind(null,e),t_:uc.bind(null,e),r_:dc.bind(null,e),H_:hc.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),sc(e)?ic(e):e.Ra.set("Unknown")):(await e.ma.stop(),lc(e))})),e.ma}function Cc(e){return e.fa||(e.fa=function(e,t,n){const r=O(e);return r.sa(),new Kl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:xc.bind(null,e),r_:Ec.bind(null,e),ta:wc.bind(null,e),na:Sc.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await mc(e)):(await e.fa.stop(),e.Ta.length>0&&(T($l,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Tc{constructor(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new F,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,o){const i=Date.now()+n,s=new Tc(e,t,i,r,o);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jc(e,t){if(j("AsyncQueue","".concat(t,": ").concat(e)),Ve(e))return new D(M.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class _c{static emptySet(e){return new _c(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ae.comparator(t.key,n.key):(e,t)=>ae.comparator(e.key,t.key),this.keyedMap=vo(),this.sortedSet=new gn(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _c))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new _c;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Rc{constructor(){this.ga=new gn(ae.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):P(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Pc{constructor(e,t,n,r,o,i,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,o){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Pc(e,t,_c.emptySet(t),i,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&io(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Nc{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Lc{constructor(){this.queries=Oc(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=O(e),r=n.queries;n.queries=Oc(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new D(M.ABORTED,"Firestore shutting down"))}}function Oc(){return new po(e=>so(e),io)}async function Mc(e,t){const n=O(e);let r=3;const o=t.query;let i=n.queries.get(o);i?!i.ba()&&t.Da()&&(r=2):(i=new Nc,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(o,!0);break;case 1:i.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(e){const n=jc(e,"Initialization of query '".concat(ao(t.query),"' failed"));return void t.onError(n)}n.queries.set(o,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&Bc(n)}async function Dc(e,t){const n=O(e),r=t.query;let o=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?o=t.Da()?0:1:!i.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Fc(e,t){const n=O(e);let r=!1;for(const o of t){const e=o.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(o)&&(r=!0);t.wa=o}}r&&Bc(n)}function zc(e,t,n){const r=O(e),o=r.queries.get(t);if(o)for(const i of o.Sa)i.onError(n);r.queries.delete(t)}function Bc(e){e.Ca.forEach(e=>{e.next()})}var Vc,Uc;(Uc=Vc||(Vc={})).Ma="default",Uc.Cache="cache";class qc{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Pc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vc.Cache}}class Wc{constructor(e){this.key=e}}class Hc{constructor(e){this.key=e}}class Gc{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ko(),this.mutatedKeys=ko(),this.eu=uo(e),this.tu=new _c(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Rc,r=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,i=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=lo(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.su(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(s=!0)),p&&(u?(i=i.add(u),o=h?o.add(e):o.delete(e)):(i=i.delete(e),o=o.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),o=o.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:s,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==i.length||l?{snapshot:new Pc(this.query,e.tu,o,i,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rc,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ko(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Hc(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Wc(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=ko();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Pc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Kc="SyncEngine";class Qc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Xc{constructor(e){this.key=e,this.hu=!1}}class Yc{constructor(e,t,n,r,o,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new po(e=>so(e),io),this.Iu=new Map,this.Eu=new Set,this.du=new gn(ae.comparator),this.Au=new Map,this.Ru=new Ha,this.Vu={},this.mu=new Map,this.fu=va.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function $c(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=yu(e);let o;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.lu()):o=await Zc(r,t,n,!0),o}async function Jc(e,t){const n=yu(e);await Zc(n,t,!0,!1)}async function Zc(e,t,n,r){const o=await El(e.localStore,to(t)),i=o.targetId,s=e.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await eu(e,t,i,"current"===s,o.resumeToken)),e.isPrimaryClient&&n&&tc(e.remoteStore,o),a}async function eu(e,t,n,r,o){e.pu=(t,n,r)=>async function(e,t,n,r){let o=t.view.ru(n);o.Cs&&(o=await Il(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,o)}));const i=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(o,e.isPrimaryClient,i,s);return hu(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const i=await Il(e.localStore,t,!0),s=new Gc(t,i.Qs),a=s.ru(i.documents),l=wi.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,o),c=s.applyChanges(a,e.isPrimaryClient,l);hu(e,n,c.au);const u=new Qc(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function tu(e,t,n){const r=O(e),o=r.Tu.get(t),i=r.Iu.get(o.targetId);if(i.length>1)return r.Iu.set(o.targetId,i.filter(e=>!io(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await kl(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&nc(r.remoteStore,o.targetId),uu(r,o.targetId)}).catch(Ne)):(uu(r,o.targetId),await kl(r.localStore,o.targetId,!0))}async function nu(e,t){const n=O(e),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&1===o.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nc(n.remoteStore,r.targetId))}async function ru(e,t){const n=O(e);try{const e=await function(e,t){const n=O(e),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const s=[];t.targetChanges.forEach((i,a)=>{const l=o.get(a);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,i.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(kn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),o=o.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=gl||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&s.push(n.Pi.updateTargetData(e,c))});let a=mo(),l=ko();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(wl(e,i,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(xe.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return Le.waitFor(s).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=o,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(L(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?L(r.hu,14607):e.removedDocuments.size>0&&(L(r.hu,42227),r.hu=!1))}),await mu(n,e,t)}catch(e){await Ne(e)}}function ou(e,t,n){const r=O(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const o=r.view.va(t);o.snapshot&&e.push(o.snapshot)}),function(e,t){const n=O(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const o of n.Sa)o.va(t)&&(r=!0)}),r&&Bc(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function iu(e,t,n){const r=O(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),i=o&&o.key;if(i){let e=new gn(ae.comparator);e=e.insert(i,gr.newNoDocument(i,xe.min()));const n=ko().add(i),o=new xi(xe.min(),new Map,new gn(X),e,n);await ru(r,o),r.du=r.du.remove(i),r.Au.delete(t),fu(r)}else await kl(r.localStore,t,!1).then(()=>uu(r,t,n)).catch(Ne)}async function su(e,t){const n=O(e),r=t.batch.batchId;try{const e=await function(e,t){const n=O(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const o=n.batch,i=o.keys();let s=Le.resolve();return i.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);L(null!==i,48541),t.version.compareTo(i)<0&&(o.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,o))}(n,e,t,o).next(()=>o.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ko();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);cu(n,r,null),lu(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mu(n,e)}catch(e){await Ne(e)}}async function au(e,t,n){const r=O(e);try{const e=await function(e,t){const n=O(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(L(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);cu(r,t,n),lu(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await mu(r,e)}catch(n){await Ne(n)}}function lu(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function cu(e,t,n){const r=O(e);let o=r.Vu[r.currentUser.toKey()];if(o){const e=o.get(t);e&&(n?e.reject(n):e.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function uu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||du(e,t)})}function du(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(nc(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),fu(e))}function hu(e,t,n){for(const r of n)r instanceof Wc?(e.Ru.addReference(r.key,t),pu(e,r)):r instanceof Hc?(T(Kc,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||du(e,r.key)):P(19791,{wu:r})}function pu(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(T(Kc,"New document in limbo: "+n),e.Eu.add(r),fu(e))}function fu(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new ae(oe.fromString(t)),r=e.fu.next();e.Au.set(r,new Xc(n)),e.du=e.du.insert(n,r),tc(e.remoteStore,new cs(to($r(n.path)),r,"TargetPurposeLimboResolution",Xe.ce))}}async function mu(e,t,n){const r=O(e),o=[],i=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{s.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const o=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,o?"current":"not-current")}if(e){o.push(e);const t=hl.As(a.targetId,e);i.push(t)}}))}),await Promise.all(s),r.Pu.H_(o),await async function(e,t){const n=O(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Le.forEach(t,t=>Le.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Le.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ve(e))throw e;T(ml,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,o=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,o)}}}(r.localStore,i))}async function gu(e,t){const n=O(e);if(!n.currentUser.isEqual(t)){T(Kc,"User change. New user:",t.toKey());const e=await bl(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new D(M.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await mu(n,e.Ls)}}function vu(e,t){const n=O(e),r=n.Au.get(t);if(r&&r.hu)return ko().add(r.key);{let e=ko();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function yu(e){const t=O(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ru.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vu.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iu.bind(null,t),t.Pu.H_=Fc.bind(null,t.eventManager),t.Pu.yu=zc.bind(null,t.eventManager),t}function bu(e){const t=O(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=su.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=au.bind(null,t),t}class xu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ul(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return yl(this.persistence,new fl,e.initialUser,this.serializer)}Cu(e){return new $a(Za.mi,this.serializer)}Du(e){return new Tl}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xu.provider={build:()=>new xu};class wu extends xu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){L(this.persistence.referenceDelegate instanceof el,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Aa(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?ca.withCacheSize(this.cacheSizeBytes):ca.DEFAULT;return new $a(e=>el.mi(e,t),this.serializer)}}class Su extends xu{constructor(e,t,n){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await bu(this.xu.syncEngine),await mc(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return yl(this.persistence,new fl,e.initialUser,this.serializer)}Fu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Aa(n,e.asyncQueue,t)}Mu(e,t){const n=new Qe(t,this.persistence);return new Ke(e.asyncQueue,n)}Cu(e){const t=dl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ca.withCacheSize(this.cacheSizeBytes):ca.DEFAULT;return new ll(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Bl(),Vl(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new Tl}}class Eu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ou(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=gu.bind(null,this.syncEngine),await Ic(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Lc}createDatastore(e){const t=Ul(e.databaseInfo.databaseId),n=function(e){return new zl(e)}(e.databaseInfo);return function(e,t,n,r){return new Xl(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,o){return new Jl(e,t,n,r,o)}(this.localStore,this.datastore,e.asyncQueue,e=>ou(this.syncEngine,e,0),Rl.v()?new Rl:new jl)}createSyncEngine(e,t){return function(e,t,n,r,o,i,s){const a=new Yc(e,t,n,r,o,i);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=O(e);T($l,"RemoteStore shutting down."),t.Ea.add(5),await ec(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Eu.provider={build:()=>new Eu};class ku{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):j("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Iu="FirestoreClient";class Au{constructor(e,t,n,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=k.UNAUTHENTICATED,this.clientId=Q.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async e=>{T(Iu,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(T(Iu,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new F;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=jc(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Cu(e,t){e.asyncQueue.verifyOperationInProgress(),T(Iu,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await bl(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Tu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ju(e);T(Iu,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>kc(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>kc(t.remoteStore,n)),e._onlineComponents=t}async function ju(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){T(Iu,"Using user provided OfflineComponentProvider");try{await Cu(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===M.FAILED_PRECONDITION||e.code===M.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;_("Error using user provided cache. Falling back to memory cache: "+n),await Cu(e,new xu)}}else T(Iu,"Using default OfflineComponentProvider"),await Cu(e,new wu(void 0));return e._offlineComponents}async function _u(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(T(Iu,"Using user provided OnlineComponentProvider"),await Tu(e,e._uninitializedComponentsProvider._online)):(T(Iu,"Using default OnlineComponentProvider"),await Tu(e,new Eu))),e._onlineComponents}function Ru(e){return _u(e).then(e=>e.syncEngine)}async function Pu(e){const t=await _u(e),n=t.eventManager;return n.onListen=$c.bind(null,t.syncEngine),n.onUnlisten=tu.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Jc.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=nu.bind(null,t.syncEngine),n}function Nu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new F;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,o){const i=new ku({next:a=>{i.Nu(),t.enqueueAndForget(()=>Dc(e,s));const l=a.docs.has(n);!l&&a.fromCache?o.reject(new D(M.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?o.reject(new D(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(a)},error:e=>o.reject(e)}),s=new qc($r(n.path),i,{includeMetadataChanges:!0,qa:!0});return Mc(e,s)}(await Pu(e),e.asyncQueue,t,n,r)),r.promise}function Lu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new F;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,o){const i=new ku({next:n=>{i.Nu(),t.enqueueAndForget(()=>Dc(e,s)),n.fromCache&&"server"===r.source?o.reject(new D(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:e=>o.reject(e)}),s=new qc(n,i,{includeMetadataChanges:!0,qa:!0});return Mc(e,s)}(await Pu(e),e.asyncQueue,t,n,r)),r.promise}function Ou(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Mu=new Map,Du="firestore.googleapis.com",Fu=!0;class zu{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Du,this.ssl=Fu}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Fu;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=la;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Ea)throw new D(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new D(M.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ou(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new D(M.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new D(M.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new D(M.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zu({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new D(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zu(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new B;switch(e.type){case"firstParty":return new W(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new D(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Mu.get(e);t&&(T("ComponentProvider","Removing Datastore"),Mu.delete(e),t.terminate())}(this),Promise.resolve()}}class Vu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Vu(this.firestore,e,this._query)}}class Uu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Uu(this.firestore,e,this._key)}toJSON(){return{type:Uu._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(ge(t,Uu._jsonSchema))return new Uu(e,n||null,new ae(oe.fromString(t.referencePath)))}}Uu._jsonSchemaVersion="firestore/documentReference/1.0",Uu._jsonSchema={type:me("string",Uu._jsonSchemaVersion),referencePath:me("string")};class qu extends Vu{constructor(e,t,n){super(e,t,$r(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Uu(this.firestore,null,new ae(e))}withConverter(e){return new qu(this.firestore,e,this._path)}}function Wu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=(0,c.Ku)(e),le("collection","path",t),e instanceof Bu){const n=oe.fromString(t,...r);return ue(n),new qu(e,null,n)}{if(!(e instanceof Uu||e instanceof qu))throw new D(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(oe.fromString(t,...r));return ue(n),new qu(e.firestore,null,n)}}function Hu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=(0,c.Ku)(e),1===arguments.length&&(t=Q.newId()),le("doc","path",t),e instanceof Bu){const n=oe.fromString(t,...r);return ce(n),new Uu(e,null,new ae(n))}{if(!(e instanceof Uu||e instanceof qu))throw new D(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(oe.fromString(t,...r));return ce(n),new Uu(e.firestore,e instanceof qu?e.converter:null,new ae(n))}}const Gu="AsyncQueue";class Ku{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ql(this,"async_queue_retry"),this._c=()=>{const e=Vl();e&&T(Gu,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Vl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Vl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new F;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ve(e))throw e;T(Gu,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,j("INTERNAL UNHANDLED ERROR: ",Qu(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Tc.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&P(47125,{Pc:Qu(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Qu(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Xu extends Bu{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ku,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ku(e),this._firestoreClient=void 0,await e}}}function Yu(e,t){const n="object"==typeof e?e:(0,s.Sx)(),r="string"==typeof e?e:t||Dn,o=(0,s.j6)(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const e=(0,c.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=pe(e,Bu);const o=(0,c.zJ)(t),s=e._getSettings(),a=(0,i.A)((0,i.A)({},s),{},{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);o&&((0,c.gE)("https://".concat(l)),(0,c.P1)("Firestore",!0)),s.host!==Du&&s.host!==l&&_("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=(0,i.A)((0,i.A)({},s),{},{host:l,ssl:o,emulatorOptions:r});if(!(0,c.bD)(u,a)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=k.MOCK_USER;else{var d;t=(0,c.Fy)(r.mockUserToken,null===(d=e._app)||void 0===d?void 0:d.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new D(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new k(o)}e._authCredentials=new V(new z(t,n))}}(o,...e)}return o}function $u(e){if(e._terminated)throw new D(M.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Ju(e),e._firestoreClient}function Ju(e){var t,n,r;const o=e._freezeSettings(),i=function(e,t,n,r){return new Mn(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ou(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||null!==(n=o.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=o.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new Au(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function Zu(e,t){_("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return ed(e,Eu.provider,{build:e=>new Su(e,n.cacheSizeBytes,null===t||void 0===t?void 0:t.forceOwnership)}),Promise.resolve()}function ed(e,t,n){if((e=pe(e,Xu))._firestoreClient||e._terminated)throw new D(M.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new D(M.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},Ju(e)}class td{constructor(e){this._byteString=e}static fromBase64String(e){try{return new td(kn.fromBase64String(e))}catch(e){throw new D(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new td(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:td._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ge(e,td._jsonSchema))return td.fromBase64String(e.bytes)}}td._jsonSchemaVersion="firestore/bytes/1.0",td._jsonSchema={type:me("string",td._jsonSchemaVersion),bytes:me("string")};class nd{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new D(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rd{constructor(e){this._methodName=e}}class od{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new D(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new D(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:od._jsonSchemaVersion}}static fromJSON(e){if(ge(e,od._jsonSchema))return new od(e.latitude,e.longitude)}}od._jsonSchemaVersion="firestore/geoPoint/1.0",od._jsonSchema={type:me("string",od._jsonSchemaVersion),latitude:me("number"),longitude:me("number")};class id{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:id._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ge(e,id._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new id(e.vectorValues);throw new D(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}id._jsonSchemaVersion="firestore/vectorValue/1.0",id._jsonSchema={type:me("string",id._jsonSchemaVersion),vectorValues:me("object")};const sd=/^__.*__$/;class ad{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Zo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jo(e,this.data,t,this.fieldTransforms)}}class ld{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Zo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P(40011,{Ac:e})}}class ud{constructor(e,t,n,r,o,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ud((0,i.A)((0,i.A)({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Id(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(cd(this.Ac)&&sd.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dd{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ul(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ud({Ac:e,methodName:t,Dc:n,path:se.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hd(e){const t=e._freezeSettings(),n=Ul(e._databaseId);return new dd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pd(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(i.merge||i.mergeFields?2:0,t,n,o);wd("Data must be an object, but it was:",s,r);const a=bd(r,s);let l,c;if(i.merge)l=new Sn(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const o=Sd(t,r,n);if(!s.contains(o))throw new D(M.INVALID_ARGUMENT,"Field '".concat(o,"' is specified in your field mask but missing from your input data."));Ad(e,o)||e.push(o)}l=new Sn(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new ad(new fr(a),l,c)}class fd extends rd{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fd}}function md(e,t,n,r){const o=e.Cc(1,t,n);wd("Data must be an object, but it was:",o,r);const i=[],s=fr.empty();fn(r,(e,r)=>{const a=kd(t,e,n);r=(0,c.Ku)(r);const l=o.yc(a);if(r instanceof fd)i.push(a);else{const e=yd(r,l);null!=e&&(i.push(a),s.set(a,e))}});const a=new Sn(i);return new ld(s,a,o.fieldTransforms)}function gd(e,t,n,r,o,i){const s=e.Cc(1,t,n),a=[Sd(t,r,n)],l=[o];if(i.length%2!=0)throw new D(M.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let c=0;c<i.length;c+=2)a.push(Sd(t,i[c])),l.push(i[c+1]);const u=[],d=fr.empty();for(let p=a.length-1;p>=0;--p)if(!Ad(u,a[p])){const e=a[p];let t=l[p];t=(0,c.Ku)(t);const n=s.yc(e);if(t instanceof fd)u.push(e);else{const r=yd(t,n);null!=r&&(u.push(e),d.set(e,r))}}const h=new Sn(u);return new ld(d,h,s.fieldTransforms)}function vd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return yd(n,e.Cc(r?4:3,t))}function yd(e,t){if(xd(e=(0,c.Ku)(e)))return wd("Unsupported field value:",t,e),bd(e,t);if(e instanceof rd)return function(e,t){if(!cd(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const o of e){let e=yd(o,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,c.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return jo(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=be.fromDate(e);return{timestampValue:Li(t.serializer,n)}}if(e instanceof be){const n=new be(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Li(t.serializer,n)}}if(e instanceof od)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof td)return{bytesValue:Oi(t.serializer,e._byteString)};if(e instanceof Uu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Fi(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof id)return function(e,t){return{mapValue:{fields:{[zn]:{stringValue:Un},[qn]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Co(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(he(e)))}(e,t)}function bd(e,t){const n={};return mn(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fn(e,(e,r)=>{const o=yd(r,t.mc(e));null!=o&&(n[e]=o)}),{mapValue:{fields:n}}}function xd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof be||e instanceof od||e instanceof td||e instanceof Uu||e instanceof rd||e instanceof id)}function wd(e,t,n){if(!xd(n)||!de(n)){const r=he(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Sd(e,t,n){if((t=(0,c.Ku)(t))instanceof nd)return t._internalPath;if("string"==typeof t)return kd(e,t);throw Id("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ed=new RegExp("[~\\*/\\[\\]]");function kd(e,t,n){if(t.search(Ed)>=0)throw Id("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new nd(...t.split("."))._internalPath}catch(r){throw Id("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Id(e,t,n,r,o){const i=r&&!r.isEmpty(),s=void 0!==o;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(o)),l+=")"),new D(M.INVALID_ARGUMENT,a+e+l)}function Ad(e,t){return e.some(e=>e.isEqual(t))}class Cd{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Uu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Td(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Td extends Cd{data(){return super.data()}}function jd(e,t){return"string"==typeof t?kd(e,t):t instanceof nd?t._internalPath:t._delegate._internalPath}function _d(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new D(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rd{}class Pd extends Rd{}function Nd(e,t){let n=[];for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t instanceof Rd&&n.push(t),n=n.concat(o),function(e){const t=e.filter(e=>e instanceof Md).length,n=e.filter(e=>e instanceof Ld).length;if(t>1||t>0&&n>0)throw new D(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Ld extends Pd{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ld(e,t,n)}_apply(e){const t=this._parse(e);return qd(e._query,t),new Vu(e.firestore,e.converter,ro(e._query,t))}_parse(e){const t=hd(e.firestore),n=function(e,t,n,r,o,i,s){let a;if(o.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new D(M.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){Ud(s,i);const t=[];for(const n of s)t.push(Vd(r,e,n));a={arrayValue:{values:t}}}else a=Vd(r,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Ud(s,i),a=vd(n,t,s,"in"===i||"not-in"===i);return Er.create(o,i,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Od(e,t,n){const r=t,o=jd("where",e);return Ld._create(o,r,n)}class Md extends Rd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Md(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:kr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const o of r)qd(n,o),n=ro(n,o)}(e._query,t),new Vu(e.firestore,e.converter,ro(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Dd extends Pd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Dd(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new D(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new D(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xr(t,n)}(e._query,this._field,this._direction);return new Vu(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Xr(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Fd(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=jd("orderBy",e);return Dd._create(n,t)}class zd extends Pd{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new zd(e,t,n)}_apply(e){return new Vu(e.firestore,e.converter,oo(e._query,this._limit,this._limitType))}}function Bd(e){return fe("limit",e),zd._create("limit",e,"F")}function Vd(e,t,n){if("string"==typeof(n=(0,c.Ku)(n))){if(""===n)throw new D(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zr(t)&&-1!==n.indexOf("/"))throw new D(M.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(oe.fromString(n));if(!ae.isDocumentKey(r))throw new D(M.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return er(e,new ae(r))}if(n instanceof Uu)return er(e,n._key);throw new D(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(he(n),"."))}function Ud(e,t){if(!Array.isArray(e)||0===e.length)throw new D(M.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function qd(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new D(M.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new D(M.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Wd{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Hn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw P(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return fn(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[qn].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>Cn(e.doubleValue));return new id(n)}convertGeoPoint(e){return new od(Cn(e.latitude),Cn(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ln(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(On(e));default:return null}}convertTimestamp(e){const t=An(e);return new be(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=oe.fromString(e);L(ls(n),9688,{name:e});const r=new Fn(n.get(1),n.get(3)),o=new ae(n.popFirst(5));return r.isEqual(t)||j("Document ".concat(o," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),o}}function Hd(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Gd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kd extends Cd{constructor(e,t,n,r,o,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(jd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new D(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Kd._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Kd._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kd._jsonSchema={type:me("string",Kd._jsonSchemaVersion),bundleSource:me("string","DocumentSnapshot"),bundleName:me("string"),bundle:me("string")};class Qd extends Kd{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Xd{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Gd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Qd(this._firestore,this._userDataWriter,n.key,n,new Gd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new D(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Qd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Gd(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Qd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Gd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let o=-1,i=-1;return 0!==t.type&&(o=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Yd(t.type),doc:r,oldIndex:o,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new D(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Q.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Yd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P(61501,{type:e})}}function $d(e){e=pe(e,Uu);const t=pe(e.firestore,Xu);return Nu($u(t),e._key).then(n=>rh(t,e,n))}Xd._jsonSchemaVersion="firestore/querySnapshot/1.0",Xd._jsonSchema={type:me("string",Xd._jsonSchemaVersion),bundleSource:me("string","QuerySnapshot"),bundleName:me("string"),bundle:me("string")};class Jd extends Wd{constructor(e){super(),this.firestore=e}convertBytes(e){return new td(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Uu(this.firestore,null,t)}}function Zd(e){e=pe(e,Vu);const t=pe(e.firestore,Xu),n=$u(t),r=new Jd(t);return _d(e._query),Lu(n,e._query).then(n=>new Xd(t,r,e,n))}function eh(e,t,n){e=pe(e,Uu);const r=pe(e.firestore,Xu),o=Hd(e.converter,t,n);return nh(r,[pd(hd(r),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,Wo.none())])}function th(e,t,n){e=pe(e,Uu);const r=pe(e.firestore,Xu),o=hd(r);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return i="string"==typeof(t=(0,c.Ku)(t))||t instanceof nd?gd(o,"updateDoc",e._key,t,n,a):md(o,"updateDoc",e._key,t),nh(r,[i.toMutation(e._key,Wo.exists(!0))])}function nh(e,t){return function(e,t){const n=new F;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=bu(e);try{const e=await function(e,t){const n=O(e),r=be.now(),o=t.reduce((e,t)=>e.add(t.key),ko());let i,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=mo(),l=ko();return n.Ns.getEntries(e,o).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(o=>{i=o;const s=[];for(const e of t){const t=Yo(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new Zo(e.key,t,mr(t.value.mapValue),Wo.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:yo(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new gn(X)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await mu(r,e.changes),await mc(r.remoteStore)}catch(e){const t=jc(e,"Failed to persist write");n.reject(t)}}(await Ru(e),t,n)),n.promise}($u(e),t)}function rh(e,t,n){const r=n.docs.get(t._key),o=new Jd(e);return new Kd(e,o,t._key,r,new Gd(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){I=e}(s.MF),(0,s.om)(new a.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:o}=n;const s=e.getProvider("app").getImmediate(),a=new Xu(new U(e.getProvider("auth-internal")),new G(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new D(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fn(e.options.projectId,t)}(s,r),s);return o=(0,i.A)({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,s.KO)(S,E,e),(0,s.KO)(S,E,"esm2020")}()},7064:(e,t,n)=>{"use strict";n.d(t,{Wp:()=>r.Wp});var r=n(1150);(0,r.KO)("firebase","12.5.0","app")},7162:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>i});var r=n(7598),o=n(9751);function i(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=n)return n}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function s(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||o:i(e,n)||o,t&&(r=t(r,o,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=i(e.theme,a)||{};return(0,o.NI)(e,c,e=>{let o=s(u,l,e);return e===o&&"string"===typeof e&&(o=s(u,l,"".concat(t).concat("default"===e?"":(0,r.A)(e)),e)),!1===n?o:{[n]:o}})};return c.propTypes={},c.filterProps=[t],c}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,N(S);else{var t=r(u);null!==t&&L(w,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(A),A=-1),f=!0;var i=p;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!j());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&o(c),x(n)}else o(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&L(w,d.startTime-n),l=!1}return l}finally{h=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,I=null,A=-1,C=5,T=-1;function j(){return!(t.unstable_now()-T<C)}function _(){if(null!==I){var e=t.unstable_now();T=e;var n=!0;try{n=I(!0,e)}finally{n?E():(k=!1,I=null)}}else k=!1}if("function"===typeof b)E=function(){b(_)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=_,E=function(){P.postMessage(null)}}else E=function(){v(_,0)};function N(e){I=e,k||(k=!0,E())}function L(e,n){A=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(A),A=-1):g=!0,L(w,i-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,N(S))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7266:(e,t,n)=>{"use strict";var r=n(4994);t.X4=p,t.e$=f,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var o=r(n(457)),i=r(n(6531));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,i.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", "),")"):""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,o.default)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,o.default)(10,r))}else i=i.split(",");return i=i.map(e=>parseFloat(e)),{type:n,values:i,colorSpace:r}}const c=e=>{const t=l(e);return t.values.slice(0,3).map((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?"".concat(e,"%"):e).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),u({type:a,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,u(e)}function f(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?f(e,t):m(e,t)}},7598:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7868);function o(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7758:(e,t,n)=>{"use strict";n.d(t,{A:()=>L});var r=n(8604),o=n(7162),i=n(3815);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>(t.filterProps.forEach(n=>{e[n]=t}),e),{}),o=e=>Object.keys(e).reduce((t,n)=>r[n]?(0,i.A)(t,r[n](e)):t,{});return o.propTypes={},o.filterProps=t.reduce((e,t)=>e.concat(t.filterProps),[]),o};var a=n(9751);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function c(e,t){return(0,o.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),p=c("borderBottom",l),f=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),b=c("borderLeftColor"),x=c("outline",l),w=c("outlineColor"),S=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};S.propTypes={},S.filterProps=["borderRadius"];s(u,d,h,p,f,m,g,v,y,b,S,x,w);const E=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};E.propTypes={},E.filterProps=["gap"];const k=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};k.propTypes={},k.filterProps=["columnGap"];const I=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};I.propTypes={},I.filterProps=["rowGap"];s(E,k,I,(0,o.Ay)({prop:"gridColumn"}),(0,o.Ay)({prop:"gridRow"}),(0,o.Ay)({prop:"gridAutoFlow"}),(0,o.Ay)({prop:"gridAutoColumns"}),(0,o.Ay)({prop:"gridAutoRows"}),(0,o.Ay)({prop:"gridTemplateColumns"}),(0,o.Ay)({prop:"gridTemplateRows"}),(0,o.Ay)({prop:"gridTemplateAreas"}),(0,o.Ay)({prop:"gridArea"}));function A(e,t){return"grey"===t?t:e}s((0,o.Ay)({prop:"color",themeKey:"palette",transform:A}),(0,o.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:A}),(0,o.Ay)({prop:"backgroundColor",themeKey:"palette",transform:A}));function C(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const T=(0,o.Ay)({prop:"width",transform:C}),j=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return o?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(o).concat(e.theme.breakpoints.unit)}:{maxWidth:o}:{maxWidth:C(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};j.filterProps=["maxWidth"];const _=(0,o.Ay)({prop:"minWidth",transform:C}),R=(0,o.Ay)({prop:"height",transform:C}),P=(0,o.Ay)({prop:"maxHeight",transform:C}),N=(0,o.Ay)({prop:"minHeight",transform:C}),L=((0,o.Ay)({prop:"size",cssProperty:"width",transform:C}),(0,o.Ay)({prop:"size",cssProperty:"height",transform:C}),s(T,j,_,R,P,N,(0,o.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:A},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:A},backgroundColor:{themeKey:"palette",transform:A},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:E},rowGap:{style:I},columnGap:{style:k},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:C},maxWidth:{style:j},minWidth:{transform:C},height:{transform:C},maxHeight:{transform:C},minHeight:{transform:C},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},7868:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},7918:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7598)},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8052:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=g,rootShouldForwardProp:r=f,slotShouldForwardProp:l=f}=e,u=e=>(0,c.default)((0,o.default)({},e,{theme:y((0,o.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));const{name:d,slot:p,skipVariantsResolver:m,skipSx:g,overridesResolver:w=b(v(p))}=c,S=(0,i.default)(c,h),E=d&&d.startsWith("Mui")||p?"components":"custom",k=void 0!==m?m:p&&"Root"!==p&&"root"!==p||!1,I=g||!1;let A=f;"Root"===p||"root"===p?A=r:p?A=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(A=void 0);const C=(0,s.default)(e,(0,o.default)({shouldForwardProp:A,label:undefined},S)),T=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>{const i=y({theme:r.theme,defaultTheme:n,themeId:t});return x(e,(0,o.default)({},r,{theme:i}),i.modularCssLayers?E:void 0)}:e,j=function(r){let i=T(r);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=a?a.map(T):[];d&&w&&c.push(e=>{const r=y((0,o.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const i=r.components[d].styleOverrides,s={};return Object.entries(i).forEach(t=>{let[n,i]=t;s[n]=x(i,(0,o.default)({},e,{theme:r}),r.modularCssLayers?"theme":void 0)}),w(e,s)}),d&&!k&&c.push(e=>{var r;const i=y((0,o.default)({},e,{defaultTheme:n,themeId:t}));return x({variants:null==i||null==(r=i.components)||null==(r=r[d])?void 0:r.variants},(0,o.default)({},e,{theme:i}),i.modularCssLayers?"theme":void 0)}),I||c.push(u);const h=c.length-a.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const p=C(i,...c);return e.muiName&&(p.muiName=e.muiName),p};return C.withConfig&&(j.withConfig=C.withConfig),j}};var o=r(n(4634)),i=r(n(4893)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(3174)),a=n(9482),l=(r(n(7918)),r(n(3382)),r(n(4989))),c=r(n(3234));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function m(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}const g=(0,l.default)(),v=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function y(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function b(e){return e?(t,n)=>n[e]:null}function x(e,t,n){let{ownerState:r}=t,a=(0,i.default)(t,u);const l="function"===typeof e?e((0,o.default)({ownerState:r},a)):e;if(Array.isArray(l))return l.flatMap(e=>x(e,(0,o.default)({ownerState:r},a),n));if(l&&"object"===typeof l&&Array.isArray(l.variants)){const{variants:e=[]}=l;let t=(0,i.default)(l,d);return e.forEach(e=>{let i=!0;if("function"===typeof e.props?i=e.props((0,o.default)({ownerState:r},a,r)):Object.keys(e.props).forEach(t=>{(null==r?void 0:r[t])!==e.props[t]&&a[t]!==e.props[t]&&(i=!1)}),i){Array.isArray(t)||(t=[t]);const i="function"===typeof e.style?e.style((0,o.default)({ownerState:r},a,r)):e.style;t.push(n?m((0,s.internal_serializeStyles)(i),n):i)}}),t}return n?m((0,s.internal_serializeStyles)(l),n):l}},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8280:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(8168),o=n(8587),i=n(9172),s=n(4853);const a={borderRadius:4};var l=n(8604);var c=n(8812),u=n(7758),d=n(9703);const h=["breakpoints","palette","spacing","shape"];const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:p,shape:f={}}=e,m=(0,o.A)(e,h),g=(0,s.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map(e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return n.mui=!0,n}(p);let y=(0,i.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:v,shape:(0,r.A)({},a,f)},m);y.applyStyles=d.A;for(var b=arguments.length,x=new Array(b>1?b-1:0),w=1;w<b;w++)x[w-1]=arguments[w];return y=x.reduce((e,t)=>(0,i.A)(e,t),y),y.unstable_sxConfig=(0,r.A)({},u.A,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},y}},8557:(e,t,n)=>{"use strict";n.d(t,{HF:()=>ot,sv:()=>St,F0:()=>Ot,sB:()=>Et,eJ:()=>kt,xI:()=>er,hg:()=>jt,gA:()=>At,J1:()=>wt,oM:()=>Tt,x9:()=>It,df:()=>mn,CI:()=>_t,r7:()=>Ct});var r=n(8587);function o(e,t){if(null==e)return{};var n,o,i=(0,r.A)(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var i=n(2555),s=n(1150),a=n(1776),l=n(2965),c=n(9606);const u=["providerId"],d=["uid","auth","stsTokenManager"],h=["providerId","signInMethod"];function p(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f=p,m=new a.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),g=new l.Vy("@firebase/auth");function v(e){if(g.logLevel<=l.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];g.error("Auth (".concat(s.MF,"): ").concat(e),...n)}}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw E(e,...n)}function b(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return E(e,...n)}function x(e,t,n){const r=(0,i.A)((0,i.A)({},f()),{},{[t]:n});return new a.FA("auth","Firebase",r).create(t,{appName:e.name})}function w(e){return x(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&y(e,"argument-error"),x(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return m.create(e,...n)}function k(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];throw E(t,...r)}}function I(e){const t="INTERNAL ASSERTION FAILED: "+e;throw v(t),new Error(t)}function A(e,t){e||I(t)}function C(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function T(){return"http:"===j()||"https:"===j()}function j(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class _{constructor(e,t){this.shortDelay=e,this.longDelay=t,A(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,a.jZ)()||(0,a.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(T()||(0,a.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function R(e,t){A(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class P{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void I("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void I("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void I("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},L=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O=new _(3e4,6e4);function M(e,t){return e.tenantId&&!t.tenantId?(0,i.A)((0,i.A)({},t),{},{tenantId:e.tenantId}):t}async function D(e,t,n,r){return F(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const l=(0,a.Am)((0,i.A)({key:e.config.apiKey},s)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u=(0,i.A)({method:t,headers:c},o);return(0,a.c1)()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(u.credentials="include"),P.fetch()(await B(e,e.config.apiHost,n,l),u)})}async function F(e,t,n){e._canInitEmulator=!1;const r=(0,i.A)((0,i.A)({},N),t);try{const t=new U(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw q(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const t=o.ok?i.errorMessage:i.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw q(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw q(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw q(e,"user-disabled",i);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw x(e,a,s);y(e,a)}}catch(o){if(o instanceof a.g)throw o;y(e,"network-request-failed",{message:String(o)})}}async function z(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await D(e,t,n,r,o);return"mfaPendingCredential"in i&&y(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function B(e,t,n,r){const o="".concat(t).concat(n,"?").concat(r),i=e,s=i.config.emulator?R(e.config,o):"".concat(e.config.apiScheme,"://").concat(o);if(L.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(s).toString()}return s}function V(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(b(this.auth,"network-request-failed")),O.get())})}}function q(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=b(e,t,r);return o.customData._tokenResponse=n,o}function W(e){return void 0!==e&&void 0!==e.enterprise}class H{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return V(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function G(e,t){return D(e,"GET","/v2/recaptchaConfig",M(e,t))}async function K(e,t){return D(e,"POST","/v1/accounts:lookup",t)}function Q(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function X(e){return 1e3*Number(e)}function Y(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return v("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,a.u)(n);return e?JSON.parse(e):(v("Failed to decode base64 JWT payload"),null)}catch(o){return v("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function $(e){const t=Y(e);return k(t,"internal-error"),k("undefined"!==typeof t.exp,"internal-error"),k("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function J(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof a.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Z{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ee{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Q(this.lastLoginAt),this.creationTime=Q(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function te(e){var t;const n=e.auth,r=await e.getIdToken(),o=await J(e,K(n,{idToken:r}));k(null===o||void 0===o?void 0:o.users.length,n,"internal-error");const i=o.users[0];e._notifyReloadListener(i);const s=null!==(t=i.providerUserInfo)&&void 0!==t&&t.length?ne(i.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null!==a&&void 0!==a&&a.length),h=!!u&&d,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ee(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function ne(e){return e.map(e=>{let{providerId:t}=e,n=o(e,u);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class re{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k("undefined"!==typeof e.idToken,"internal-error"),k("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){k(0!==e.length,"internal-error");const t=$(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(k(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await F(e,{},async()=>{const n=(0,a.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,i=await B(e,r,"/v1/token","key=".concat(o)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:n};return e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),P.fetch()(i,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,i=new re;return n&&(k("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(k("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),o&&(k("number"===typeof o,"internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new re,this.toJSON())}_performRefresh(){return I("not implemented")}}function oe(e,t){k("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ie{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=o(e,d);this.providerId="firebase",this.proactiveRefresh=new Z(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ee(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await J(this,this.stsTokenManager.getToken(this.auth,e));return k(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,a.Ku)(e),r=await n.getIdToken(t),o=Y(r);k(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"===typeof o.firebase?o.firebase:void 0,s=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:Q(X(o.auth_time)),issuedAtTime:Q(X(o.iat)),expirationTime:Q(X(o.exp)),signInProvider:s||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,a.Ku)(e);await te(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>(0,i.A)({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ie((0,i.A)((0,i.A)({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await te(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,s.xZ)(this.auth.app))return Promise.reject(w(this.auth));const e=await this.getIdToken();return await J(this,async function(e,t){return D(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return(0,i.A)((0,i.A)({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>(0,i.A)({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,o,s,a,l,c,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,p=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:x,isAnonymous:w,providerData:S,stsTokenManager:E}=t;k(b&&E,e,"internal-error");const I=re.fromJSON(this.name,E);k("string"===typeof b,e,"internal-error"),oe(d,e.name),oe(h,e.name),k("boolean"===typeof x,e,"internal-error"),k("boolean"===typeof w,e,"internal-error"),oe(p,e.name),oe(f,e.name),oe(m,e.name),oe(g,e.name),oe(v,e.name),oe(y,e.name);const A=new ie({uid:b,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:w,photoURL:f,phoneNumber:p,tenantId:m,stsTokenManager:I,createdAt:v,lastLoginAt:y});return S&&Array.isArray(S)&&(A.providerData=S.map(e=>(0,i.A)({},e))),g&&(A._redirectEventId=g),A}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new re;r.updateFromServerResponse(t);const o=new ie({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await te(o),o}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];k(void 0!==r.localId,"internal-error");const o=void 0!==r.providerUserInfo?ne(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null!==o&&void 0!==o&&o.length),s=new re;s.updateFromIdToken(n);const a=new ie({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new ee(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==o&&void 0!==o&&o.length)};return Object.assign(a,l),a}}const se=new Map;function ae(e){A(e instanceof Function,"Expected a class definition");let t=se.get(e);return t?(A(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,se.set(e,t),t)}class le{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}le.type="NONE";const ce=le;function ue(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class de{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=ue(this.userKey,r.apiKey,o),this.fullPersistenceKey=ue("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await K(this.auth,{idToken:e}).catch(()=>{});return t?ie._fromGetAccountInfoResponse(this.auth,t,e):null}return ie._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new de(ae(ce),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let o=r[0]||ae(ce);const i=ue(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const r=await K(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ie._fromGetAccountInfoResponse(e,r,t)}else n=ie._fromJSON(e,t);c!==o&&(s=n),o=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return o._shouldAllowMigration&&a.length?(o=a[0],s&&await o._set(i,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==o)try{await e._remove(i)}catch(t){}})),new de(o,e,n)):new de(o,e,n)}}function he(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ge(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ye(t))return"Blackberry";if(be(t))return"Webos";if(fe(t))return"Safari";if((t.includes("chrome/")||me(t))&&!t.includes("edge/"))return"Chrome";if(ve(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/firefox\//i.test(e)}function fe(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/crios\//i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/iemobile/i.test(e)}function ve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/android/i.test(e)}function ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/blackberry/i.test(e)}function be(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/webos/i.test(e)}function xe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function we(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return xe(e)||ve(e)||be(e)||ye(e)||/windows phone/i.test(e)||ge(e)}function Se(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=he((0,a.ZQ)());break;case"Worker":t="".concat(he((0,a.ZQ)()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(s.MF,"/").concat(r)}class Ee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(o){r(o)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ke{constructor(e){var t,n,r,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,o,i,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(o=a.containsUppercaseLetter)||void 0===o||o),a.isValid&&(a.isValid=null===(i=a.containsNumericCharacter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Ie{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ce(this),this.idTokenSubscription=new Ce(this),this.beforeStateQueue=new Ee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ae(t)),this._initializationPromise=this.queue(async()=>{var n,r,o;if(!this._deleted&&(this.persistenceManager=await de.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(o=this.currentUser)||void 0===o?void 0:o.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await K(this,{idToken:e}),n=await ie._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,s.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var o,i;await this.getOrInitRedirectPersistenceManager();const t=null===(o=this.redirectUser)||void 0===o?void 0:o._redirectEventId,s=null===(i=n)||void 0===i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==s||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return k(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await te(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,s.xZ)(this.app))return Promise.reject(w(this));const t=e?(0,a.Ku)(e):null;return t&&k(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&k(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,s.xZ)(this.app)?Promise.reject(w(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,s.xZ)(this.app)?Promise.reject(w(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ae(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return D(e,"GET","/v2/passwordPolicy",M(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ke(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new a.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return D(e,"POST","/v2/accounts:revokeToken",M(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ae(e)||this._popupRedirectResolver;k(t,this,"argument-error"),this.redirectPersistenceManager=await de.create(this,[ae(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"===typeof t?t:t.next.bind(t);let i=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(s,this,"internal-error"),s.then(()=>{i||o(this.currentUser)}),"function"===typeof t){const o=e.addObserver(t,n,r);return()=>{i=!0,o()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Se(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,s.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(g.logLevel<=l.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];g.warn("Auth (".concat(s.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ae(e){return(0,a.Ku)(e)}class Ce{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,a.tD)(e=>this.observer=e)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Te={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function je(e){return Te.loadJS(e)}function _e(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Re{constructor(){this.enterprise=new Pe}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Pe{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ne="NO_RECAPTCHA";class Le{constructor(e){this.type="recaptcha-enterprise",this.auth=Ae(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const o=window.grecaptcha;W(o)?o.enterprise.ready(()=>{o.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ne)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Re).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{G(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new H(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(o=>{if(!t&&W(window.grecaptcha))n(o,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Te.recaptchaEnterpriseScript;0!==t.length&&(t+=o),je(t).then(()=>{n(o,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Oe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Le(e);let a;if(o)a=Ne;else try{a=await s.verify(n)}catch(c){a=await s.verify(n,!0)}const l=(0,i.A)({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in l){const e=l.phoneEnrollmentInfo.phoneNumber,t=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const e=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Me(e,t,n,r,o){if("EMAIL_PASSWORD_PROVIDER"===o){var i;if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Oe(e,t,n,"getOobCode"===n);return r(e,o)}return r(e,t).catch(async o=>{if(o.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const o=await Oe(e,t,n,"getOobCode"===n);return r(e,o)}return Promise.reject(o)})}if("PHONE_PROVIDER"===o){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const o=await Oe(e,t,n);return r(e,o).catch(async o=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(o.code==="auth/".concat("missing-recaptcha-token")||o.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const o=await Oe(e,t,n,!1,!0);return r(e,o)}return Promise.reject(o)})}{const o=await Oe(e,t,n,!1,!0);return r(e,o)}}return Promise.reject(o+" provider is not supported.")}async function De(e){const t=Ae(e),n=await G(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new H(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Le(t).verify()}}function Fe(e,t,n){const r=Ae(e);k(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!(null===n||void 0===n||!n.disableWarnings),i=ze(t),{host:s,port:l}=function(e){const t=ze(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:Be(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Be(t)}}}(t),c=null===l?"":":".concat(l),u={url:"".concat(i,"//").concat(s).concat(c,"/")},d=Object.freeze({host:s,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator)return k(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void k((0,a.bD)(u,r.config.emulator)&&(0,a.bD)(d,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,(0,a.zJ)(s)?((0,a.gE)("".concat(i,"//").concat(s).concat(c)),(0,a.P1)("Auth",!0)):o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ze(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Be(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ve{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return I("not implemented")}_getIdTokenResponse(e){return I("not implemented")}_linkToIdToken(e,t){return I("not implemented")}_getReauthenticationResolver(e){return I("not implemented")}}async function Ue(e,t){return D(e,"POST","/v1/accounts:resetPassword",M(e,t))}async function qe(e,t){return D(e,"POST","/v1/accounts:signUp",t)}async function We(e,t){return z(e,"POST","/v1/accounts:signInWithPassword",M(e,t))}async function He(e,t){return D(e,"POST","/v1/accounts:sendOobCode",M(e,t))}async function Ge(e,t){return He(e,t)}class Ke extends Ve{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ke(e,t,"password")}static _fromEmailAndCode(e,t){return new Ke(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Me(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",We,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return z(e,"POST","/v1/accounts:signInWithEmailLink",M(e,t))}(e,{email:this._email,oobCode:this._password});default:y(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Me(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return z(e,"POST","/v1/accounts:signInWithEmailLink",M(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:y(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Qe(e,t){return z(e,"POST","/v1/accounts:signInWithIdp",M(e,t))}class Xe extends Ve{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):y("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=o(t,h);if(!n||!r)return null;const s=new Xe(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Qe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Qe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qe(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,a.Am)(t)}return e}}async function Ye(e,t){return D(e,"POST","/v1/accounts:sendVerificationCode",M(e,t))}const $e={USER_NOT_FOUND:"user-not-found"};class Je extends Ve{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Je({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Je({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return z(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await z(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,t));if(n.temporaryProof)throw q(e,"account-exists-with-different-credential",n);return n}(e,(0,i.A)({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return z(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,(0,i.A)((0,i.A)({},t),{},{operation:"REAUTH"})),$e)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new Je({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}class Ze{constructor(e){var t,n,r,o,i,s;const l=(0,a.I9)((0,a.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);k(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(i=l.lang)&&void 0!==i?i:null,this.tenantId=null!==(s=l.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=(0,a.I9)((0,a.hp)(e)).link,n=t?(0,a.I9)((0,a.hp)(t)).deep_link_id:null,r=(0,a.I9)((0,a.hp)(e)).deep_link_id;return(r?(0,a.I9)((0,a.hp)(r)).link:null)||r||n||t||e}(e);try{return new Ze(t)}catch(n){return null}}}class et{constructor(){this.providerId=et.PROVIDER_ID}static credential(e,t){return Ke._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ze.parseLink(t);return k(n,"argument-error"),Ke._fromEmailAndCode(e,n.code,n.tenantId)}}et.PROVIDER_ID="password",et.EMAIL_PASSWORD_SIGN_IN_METHOD="password",et.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class tt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nt extends tt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class rt extends nt{constructor(){super("facebook.com")}static credential(e){return Xe._fromParams({providerId:rt.PROVIDER_ID,signInMethod:rt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rt.credentialFromTaggedObject(e)}static credentialFromError(e){return rt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return rt.credential(t.oauthAccessToken)}catch(n){return null}}}rt.FACEBOOK_SIGN_IN_METHOD="facebook.com",rt.PROVIDER_ID="facebook.com";class ot extends nt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xe._fromParams({providerId:ot.PROVIDER_ID,signInMethod:ot.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ot.credentialFromTaggedObject(e)}static credentialFromError(e){return ot.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ot.credential(n,r)}catch(o){return null}}}ot.GOOGLE_SIGN_IN_METHOD="google.com",ot.PROVIDER_ID="google.com";class it extends nt{constructor(){super("github.com")}static credential(e){return Xe._fromParams({providerId:it.PROVIDER_ID,signInMethod:it.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return it.credentialFromTaggedObject(e)}static credentialFromError(e){return it.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return it.credential(t.oauthAccessToken)}catch(n){return null}}}it.GITHUB_SIGN_IN_METHOD="github.com",it.PROVIDER_ID="github.com";class st extends nt{constructor(){super("twitter.com")}static credential(e,t){return Xe._fromParams({providerId:st.PROVIDER_ID,signInMethod:st.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return st.credentialFromTaggedObject(e)}static credentialFromError(e){return st.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return st.credential(n,r)}catch(o){return null}}}async function at(e,t){return z(e,"POST","/v1/accounts:signUp",M(e,t))}st.TWITTER_SIGN_IN_METHOD="twitter.com",st.PROVIDER_ID="twitter.com";class lt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=await ie._fromIdTokenResponse(e,n,r),i=ct(n);return new lt({user:o,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ct(n);return new lt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ct(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ut extends a.g{constructor(e,t,n,r){var o;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ut.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ut(e,t,n,r)}}function dt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ut._fromErrorAndOperation(e,n,t,r);throw n})}async function ht(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await J(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return lt._forOperation(e,"link",r)}async function pt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if((0,s.xZ)(r.app))return Promise.reject(w(r));const o="reauthenticate";try{const i=await J(e,dt(r,o,t,e),n);k(i.idToken,r,"internal-error");const s=Y(i.idToken);k(s,r,"internal-error");const{sub:a}=s;return k(e.uid===a,r,"user-mismatch"),lt._forOperation(e,o,i)}catch(i){throw(null===i||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&y(r,"user-mismatch"),i}}async function ft(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(w(e));const r="signIn",o=await dt(e,r,t),i=await lt._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(i.user),i}async function mt(e,t){return ft(Ae(e),t)}class gt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?vt._fromServerResponse(e,t):"totpInfo"in t?yt._fromServerResponse(e,t):y(e,"internal-error")}}class vt extends gt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new vt(t)}}class yt extends gt{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new yt(t)}}function bt(e,t,n){var r;k((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),k("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),k("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(k(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(k(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function xt(e){const t=Ae(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function wt(e,t,n){const r=Ae(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&bt(r,o,n),await Me(r,o,"getOobCode",Ge,"EMAIL_PASSWORD_PROVIDER")}async function St(e,t){await async function(e,t){return D(e,"POST","/v1/accounts:update",M(e,t))}((0,a.Ku)(e),{oobCode:t})}async function Et(e,t){const n=(0,a.Ku)(e),r=await Ue(n,{oobCode:t}),o=r.requestType;switch(k(o,n,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":k(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":k(r.mfaInfo,n,"internal-error");default:k(r.email,n,"internal-error")}let i=null;return r.mfaInfo&&(i=gt._fromServerResponse(Ae(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:i},operation:o}}async function kt(e,t,n){if((0,s.xZ)(e.app))return Promise.reject(w(e));const r=Ae(e),o=Me(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",at,"EMAIL_PASSWORD_PROVIDER"),i=await o.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&xt(e),t}),a=await lt._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}function It(e,t,n){return(0,s.xZ)(e.app)?Promise.reject(w(e)):mt((0,a.Ku)(e),et.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&xt(e),t})}async function At(e,t){const n=(0,a.Ku)(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&bt(n.auth,r,t);const{email:o}=await async function(e,t){return He(e,t)}(n.auth,r);o!==e.email&&await e.reload()}async function Ct(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const o=(0,a.Ku)(e),i={idToken:await o.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await J(o,async function(e,t){return D(e,"POST","/v1/accounts:update",t)}(o.auth,i));o.displayName=s.displayName||null,o.photoURL=s.photoUrl||null;const l=o.providerData.find(e=>{let{providerId:t}=e;return"password"===t});l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),await o._updateTokensIfNecessary(s)}function Tt(e,t){return(0,a.Ku)(e).setPersistence(t)}function jt(e,t,n,r){return(0,a.Ku)(e).onAuthStateChanged(t,n,r)}function _t(e){return(0,a.Ku)(e).signOut()}function Rt(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:start",M(e,t))}new WeakMap;const Pt="__sak";class Nt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pt,"1"),this.storage.removeItem(Pt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Lt extends Nt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=we(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);(0,a.lT)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Lt.type="LOCAL";const Ot=Lt;function Mt(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),o=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(o))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Dt(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Ft{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Dt(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Mt(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Dt(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Dt(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Mt(n);const o=setInterval(()=>{const e=Mt(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(o))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Ft.type="COOKIE";class zt extends Nt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zt.type="SESSION";const Bt=zt;class Vt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Vt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,i=this.handlersMap[r];if(null===i||void 0===i||!i.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(i).map(async e=>e(t.origin,o)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Vt.receivers=[];class qt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,i;return new Promise((s,a)=>{const l=Ut("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(t.data.response);break;default:clearTimeout(c),clearTimeout(o),a(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function Wt(){return window}function Ht(){return"undefined"!==typeof Wt().WorkerGlobalScope&&"function"===typeof Wt().importScripts}const Gt="firebaseLocalStorageDb",Kt="firebaseLocalStorage",Qt="fbase_key";class Xt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yt(e,t){return e.transaction([Kt],t?"readwrite":"readonly").objectStore(Kt)}function $t(){const e=indexedDB.open(Gt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Kt,{keyPath:Qt})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Kt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Gt);return new Xt(e).toPromise()}(),t(await $t()))})})}async function Jt(e,t,n){const r=Yt(e,!0).put({[Qt]:t,value:n});return new Xt(r).toPromise()}function Zt(e,t){const n=Yt(e,!0).delete(t);return new Xt(n).toPromise()}class en{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await $t()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ht()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vt._getInstance(Ht()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new qt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $t();return await Jt(e,Pt,"1"),await Zt(e,Pt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jt(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Yt(e,!1).get(t),r=await new Xt(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Zt(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Yt(e,!1).getAll();return new Xt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}en.type="LOCAL";const tn=en;function nn(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:start",M(e,t))}_e("rcb"),new _(3e4,6e4);const rn="recaptcha";async function on(e,t,n){if(!e._getRecaptchaConfig())try{await De(e)}catch(o){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let o;if(o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){k("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=Me(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ne){k((null===n||void 0===n?void 0:n.type)===rn,e,"argument-error");return Rt(e,await sn(e,t,n))}return Rt(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;k("signin"===t.type,e,"internal-error");const i=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;k(i,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Me(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ne){k((null===n||void 0===n?void 0:n.type)===rn,e,"argument-error");return nn(e,await sn(e,t,n))}return nn(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Me(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Ne){k((null===n||void 0===n?void 0:n.type)===rn,e,"argument-error");return Ye(e,await sn(e,t,n))}return Ye(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function sn(e,t,n){k(n.type===rn,e,"argument-error");const r=await n.verify();k("string"===typeof r,e,"argument-error");const o=(0,i.A)({},t);if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.captchaResponse,n=o.phoneEnrollmentInfo.clientType,i=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),o}if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.captchaResponse,t=o.phoneSignInInfo.clientType,n=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),o}return Object.assign(o,{recaptchaToken:r}),o}class an{constructor(e){this.providerId=an.PROVIDER_ID,this.auth=Ae(e)}verifyPhoneNumber(e,t){return on(this.auth,e,(0,a.Ku)(t))}static credential(e,t){return Je._fromVerification(e,t)}static credentialFromResult(e){const t=e;return an.credentialFromTaggedObject(t)}static credentialFromError(e){return an.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Je._fromTokenResponse(n,r):null}}function ln(e,t){return t?ae(t):(k(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}an.PROVIDER_ID="phone",an.PHONE_SIGN_IN_METHOD="phone";class cn extends Ve{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qe(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qe(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qe(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function un(e){return ft(e.auth,new cn(e),e.bypassAuthState)}function dn(e){const{auth:t,user:n}=e;return k(n,t,"internal-error"),pt(n,new cn(e),e.bypassAuthState)}async function hn(e){const{auth:t,user:n}=e;return k(n,t,"internal-error"),ht(n,new cn(e),e.bypassAuthState)}class pn{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:i,type:s}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return un;case"linkViaPopup":case"linkViaRedirect":return hn;case"reauthViaPopup":case"reauthViaRedirect":return dn;default:y(this.auth,"internal-error")}}resolve(e){A(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){A(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fn=new _(2e3,1e4);async function mn(e,t,n){if((0,s.xZ)(e.app))return Promise.reject(b(e,"operation-not-supported-in-this-environment"));const r=Ae(e);S(e,t,tt);const o=ln(r,n);return new gn(r,"signInViaPopup",t,o).executeNotNull()}class gn extends pn{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,gn.currentPopupAction&&gn.currentPopupAction.cancel(),gn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return k(e,this.auth,"internal-error"),e}async onExecution(){A(1===this.filter.length,"Popup operations only handle one event");const e=Ut();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(b(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(b(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(b(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,fn.get())};e()}}gn.currentPopupAction=null;const vn=new Map;class yn extends pn{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=vn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=wn(t),r=xn(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}vn.set(this.auth._key(),e)}return this.bypassAuthState||vn.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function bn(e,t){vn.set(e._key(),t)}function xn(e){return ae(e._redirectPersistence)}function wn(e){return ue("pendingRedirect",e.config.apiKey,e.name)}async function Sn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(w(e));const r=Ae(e),o=ln(r,t),i=new yn(r,o,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class En{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return In(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!In(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(b(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kn(e))}saveEventToCache(e){this.cachedEventUids.add(kn(e)),this.lastProcessedEventTime=Date.now()}}function kn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function In(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const An=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cn=/^https?/;async function Tn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return D(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(jn(r))return}catch(n){}y(e,"unauthorized-domain")}function jn(e){const t=C(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Cn.test(n))return!1;if(An.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const _n=new _(3e4,6e4);function Rn(){const e=Wt().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Pn(e){return new Promise((t,n)=>{var r,o;function i(){Rn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Rn(),n(b(e,"network-request-failed"))},timeout:_n.get()})}if(null!==(r=Wt().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(o=Wt().gapi)||void 0===o||!o.load){const t=_e("iframefcb");return Wt()[t]=()=>{gapi.load?i():n(b(e,"network-request-failed"))},je("".concat(Te.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}i()}}).catch(e=>{throw Nn=null,e})}let Nn=null;const Ln=new _(5e3,15e3),On={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dn(e){const t=e.config;k(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?R(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:s.MF},o=Mn.get(e.config.apiHost);o&&(r.eid=o);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat((0,a.Am)(r).slice(1))}async function Fn(e){const t=await function(e){return Nn=Nn||Pn(e),Nn}(e),n=Wt().gapi;return k(n,e,"internal-error"),t.open({where:document.body,url:Dn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:On,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const o=b(e,"network-request-failed"),i=Wt().setTimeout(()=>{r(o)},Ln.get());function s(){Wt().clearTimeout(i),n(t)}t.ping(s).then(s,()=>{r(o)})}))}const zn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Vn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-o)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=(0,i.A)((0,i.A)({},zn),{},{width:r.toString(),height:o.toString(),top:s,left:l}),d=(0,a.ZQ)().toLowerCase();n&&(c=me(d)?"_blank":n),pe(d)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return xe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(d)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new Bn(null);const p=window.open(t||"",c,h);k(p,e,"popup-blocked");try{p.focus()}catch(f){}return new Bn(p)}const Un="__/auth/handler",qn="emulator/auth/handler",Wn=encodeURIComponent("fac");async function Hn(e,t,n,r,o,i){k(e.config.authDomain,e,"auth-domain-config-required"),k(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:s.MF,eventId:o};if(t instanceof tt){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,a.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))l[e]=t}if(t instanceof nt){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];const u=await e._getAppCheckToken(),d=u?"#".concat(Wn,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Un);return R(t,qn)}(e),"?").concat((0,a.Am)(c).slice(1)).concat(d)}const Gn="webStorageSupport";const Kn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bt,this._completeRedirectFn=Sn,this._overrideRedirectResult=bn}async _openPopup(e,t,n,r){var o;A(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return Vn(e,await Hn(e,t,n,C(),r),Ut())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Wt().location.href=e}(await Hn(e,t,n,C(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(A(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Fn(e),n=new En(e);return t.register("authEvent",t=>{k(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gn,{type:Gn},n=>{var r;const o=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Gn];void 0!==o&&t(!!o),y(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Tn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return we()||fe()||xe()}};var Qn="@firebase/auth",Xn="1.11.1";class Yn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const $n=(0,a.XA)("authIdTokenMaxAge")||300;let Jn=null;const Zn=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$n)return;const o=null===n||void 0===n?void 0:n.token;Jn!==o&&(Jn=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:"Bearer ".concat(o)}:{}}))};function er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.Sx)();const t=(0,s.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,s.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,a.bD)(r,null!==t&&void 0!==t?t:{}))return e;y(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Kn,persistence:[tn,Ot,Bt]}),r=(0,a.XA)("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=Zn(e.toString());!function(e,t,n){(0,a.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,a.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const o=(0,a.Tj)("auth");return o&&Fe(n,"http://".concat(o)),n}var tr;Te={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=b("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},tr="Browser",(0,s.om)(new c.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;k(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:tr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Se(tr)},c=new Ie(r,o,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ae);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,s.om)(new c.uA("auth-internal",e=>(e=>new Yn(e))(Ae(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.KO)(Qn,Xn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(tr)),(0,s.KO)(Qn,Xn,"esm2020")},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},8604:(e,t,n)=>{"use strict";n.d(t,{LX:()=>f,MA:()=>p,_W:()=>m,Lc:()=>y,Ms:()=>b});var r=n(9751),o=n(7162),i=n(3815);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}(e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],o=a[n]||"";return Array.isArray(o)?o.map(e=>r+e):[r+o]}),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function p(e,t,n,r){var i;const s=null!=(i=(0,o.Yn)(e,t,!1))?i:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function f(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,o){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce((e,r)=>(e[r]=m(t,n),e),{})}(c(n),o),s=e[n];return(0,r.NI)(e,s,i)}function v(e,t){const n=f(e.theme);return Object.keys(e).map(r=>g(e,t,r,n)).reduce(i.A,{})}function y(e){return v(e,u)}function b(e){return v(e,d)}function x(e){return v(e,h)}y.propTypes={},y.filterProps=u,b.propTypes={},b.filterProps=d,x.propTypes={},x.filterProps=h},8698:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),o=n(8587),i=n(9172),s=n(7758);const a=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach(t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]}),r};function c(e){const{sx:t}=e,n=(0,o.A)(e,a),{systemProps:s,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[s,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,i.Q)(e)?(0,r.A)({},s,e):s}:(0,r.A)({},s,t),(0,r.A)({},c,{sx:u})}},8812:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(7598),o=n(3815),i=n(7162),s=n(9751),a=n(7758);function l(){function e(e,t,n,o){const a={[e]:t,theme:n},l=o[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const p=(0,i.Yn)(n,u)||{};if(h)return h(a);return(0,s.NI)(a,t,t=>{let n=(0,i.BO)(p,d,t);return t===n&&"string"===typeof t&&(n=(0,i.BO)(p,d,"".concat(e).concat("default"===t?"":(0,r.A)(t)),t)),!1===c?n:{[c]:n}})}return function t(n){var r;const{sx:i,theme:l={},nested:c}=n||{};if(!i)return null;const u=null!=(r=l.unstable_sxConfig)?r:a.A;function d(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const i=(0,s.EU)(l.breakpoints),a=Object.keys(i);let d=i;return Object.keys(r).forEach(n=>{const i=(a=r[n],c=l,"function"===typeof a?a(c):a);var a,c;if(null!==i&&void 0!==i)if("object"===typeof i)if(u[n])d=(0,o.A)(d,e(n,i,l,u));else{const e=(0,s.NI)({theme:l},i,e=>({[n]:e}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>e.concat(Object.keys(t)),[]),o=new Set(r);return t.every(e=>o.size===Object.keys(e).length)}(e,i)?d=(0,o.A)(d,e):d[n]=t({sx:i,theme:l,nested:!0})}else d=(0,o.A)(d,e(n,i,l,u))}),!c&&l.modularCssLayers?{"@layer sx":(0,s.vf)(a,d)}:(0,s.vf)(a,d)}return Array.isArray(i)?i.map(d):d(i)}}const c=l();c.filterProps=["sx"];const u=c},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9172:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,Q:()=>i});var r=n(8168),o=n(5043);function i(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function s(e){if(o.isValidElement(e)||!i(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=s(e[n])}),t}function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const l=n.clone?(0,r.A)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach(r=>{o.isValidElement(t[r])?l[r]=t[r]:i(t[r])&&Object.prototype.hasOwnProperty.call(e,r)&&i(e[r])?l[r]=a(e[r],t[r],n):n.clone?l[r]=i(t[r])?s(t[r]):t[r]:l[r]=t[r]}),l}},9369:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,E:()=>g,T:()=>d,c:()=>f,h:()=>h,w:()=>u});var r=n(5043),o=n(3803),i=n(1722),s=n(6598),a=n(9436),l=r.createContext("undefined"!==typeof HTMLElement?(0,o.A)({key:"css"}):null),c=l.Provider,u=function(e){return(0,r.forwardRef)(function(t,n){var o=(0,r.useContext)(l);return e(t,o,n)})},d=r.createContext({});var h={}.hasOwnProperty,p="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=function(e,t){var n={};for(var r in t)h.call(t,r)&&(n[r]=t[r]);return n[p]=e,n},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,i.SF)(t,n,r),(0,a.s)(function(){return(0,i.sk)(t,n,r)}),null},g=u(function(e,t,n){var o=e.css;"string"===typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var a=e[p],l=[o],c="";"string"===typeof e.className?c=(0,i.Rk)(t.registered,l,e.className):null!=e.className&&(c=e.className+" ");var u=(0,s.J)(l,void 0,r.useContext(d));c+=t.key+"-"+u.name;var f={};for(var g in e)h.call(e,g)&&"css"!==g&&g!==p&&(f[g]=e[g]);return f.className=c,n&&(f.ref=n),r.createElement(r.Fragment,null,r.createElement(m,{cache:t,serialized:u,isStringTag:"string"===typeof a}),r.createElement(a,f))})},9436:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a,s:()=>s});var o=n(5043),i=!!(r||(r=n.t(o,2))).useInsertionEffect&&(r||(r=n.t(o,2))).useInsertionEffect,s=i||function(e){return e()},a=i||o.useLayoutEffect},9482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(9172)},9606:(e,t,n)=>{"use strict";n.d(t,{h1:()=>a,uA:()=>o});var r=n(1776);class o{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const i="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:i})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(o=t,o===i?void 0:o),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var o;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.component?this.component.multipleInstances?e:i:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},9703:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},9751:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>s,iZ:()=>c,kW:()=>u,vf:()=>l,zu:()=>o});var r=n(9172);const o={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(o[e],"px)")};function s(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||i;return t.reduce((r,o,i)=>(r[e.up(e.keys[i])]=n(t[i]),r),{})}if("object"===typeof t){const e=r.breakpoints||i;return Object.keys(t).reduce((r,i)=>{if(-1!==Object.keys(e.values||o).indexOf(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r},{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce((t,n)=>(t[e.up(n)]={},t),{}))||{}}function l(e,t){return e.reduce((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e},t)}function c(e){const t=a(e);for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];const s=[t,...o].reduce((e,t)=>(0,r.A)(e,t),{});return l(Object.keys(t),s)}function u(e){let{values:t,breakpoints:n,base:r}=e;const o=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((t,r)=>{r<e.length&&(n[t]=!0)}):r.forEach(t=>{null!=e[t]&&(n[t]=!0)}),n}(t,n),i=Object.keys(o);if(0===i.length)return t;let s;return i.reduce((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e),{})}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{8:"f8ad98d9",828:"6014e6a9"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="ai-english-trainer-it:";n.l=(r,o,i,s)=>{if(e[r])e[r].push(o);else{var a,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+i),a.src=r),e[r]=[o];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((n,r)=>o=e[t]=[n,r]);r.push(o[2]=i);var s=n.p+n.u(t),a=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,o[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var o,i,[s,a,l]=r,c=0;if(s.some(t=>0!==e[t])){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)l(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkai_english_trainer_it=self.webpackChunkai_english_trainer_it||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(5043),t=n.t(e,2),r=n(4391),o=n(2555),i=n(8168),s=n(8587),a=n(7868),l=n(9172),c=n(7758),u=n(8812),d=n(8280);function h(e,t){return(0,i.A)({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var p=n(7266);const f={black:"#000",white:"#fff"},m={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},g={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},v={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},y={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},b={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},x={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},w={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},S=["mode","contrastThreshold","tonalOffset"],E={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},k={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function I(e,t,n,r){const o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,p.a)(e.main,o):"dark"===t&&(e.dark=(0,p.e$)(e.main,i)))}function A(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,o=(0,s.A)(e,S),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b[200],light:b[50],dark:b[400]}:{main:b[700],light:b[400],dark:b[800]}}(t),u=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[500],light:g[300],dark:g[700]}}(t),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[500],light:v[300],dark:v[700]}:{main:v[700],light:v[400],dark:v[800]}}(t),h=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:x[400],light:x[300],dark:x[700]}:{main:x[700],light:x[500],dark:x[900]}}(t),A=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:w[400],light:w[300],dark:w[700]}:{main:w[800],light:w[500],dark:w[900]}}(t),C=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:"#ed6c02",light:y[500],dark:y[900]}}(t);function T(e){return(0,p.eM)(e,k.text.primary)>=n?k.text.primary:E.text.primary}const j=e=>{let{color:t,name:n,mainShade:o=500,lightShade:s=300,darkShade:l=700}=e;if(t=(0,i.A)({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,a.A)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,a.A)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return I(t,"light",s,r),I(t,"dark",l,r),t.contrastText||(t.contrastText=T(t.main)),t},_={dark:k,light:E};return(0,l.A)((0,i.A)({common:(0,i.A)({},f),mode:t,primary:j({color:c,name:"primary"}),secondary:j({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:j({color:d,name:"error"}),warning:j({color:C,name:"warning"}),info:j({color:h,name:"info"}),success:j({color:A,name:"success"}),grey:m,contrastThreshold:n,getContrastText:T,augmentColor:j,tonalOffset:r},_[t]),o)}const C=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const T={textTransform:"uppercase"},j='"Roboto", "Helvetica", "Arial", sans-serif';function _(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=j,fontSize:o=14,fontWeightLight:a=300,fontWeightRegular:c=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:p,pxToRem:f}=n,m=(0,s.A)(n,C);const g=o/14,v=f||(e=>"".concat(e/h*g,"rem")),y=(e,t,n,o,s)=>{return(0,i.A)({fontFamily:r,fontWeight:e,fontSize:v(t),lineHeight:n},r===j?{letterSpacing:"".concat((a=o/t,Math.round(1e5*a)/1e5),"em")}:{},s,p);var a},b={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(c,48,1.167,0),h4:y(c,34,1.235,.25),h5:y(c,24,1.334,0),h6:y(u,20,1.6,.15),subtitle1:y(c,16,1.75,.15),subtitle2:y(u,14,1.57,.1),body1:y(c,16,1.5,.15),body2:y(c,14,1.43,.15),button:y(u,14,1.75,.4,T),caption:y(c,12,1.66,.4),overline:y(c,12,2.66,1,T),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,l.A)((0,i.A)({htmlFontSize:h,pxToRem:v,fontFamily:r,fontSize:o,fontWeightLight:a,fontWeightRegular:c,fontWeightMedium:u,fontWeightBold:d},b),m,{clone:!1})}function R(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const P=["none",R(0,2,1,-1,0,1,1,0,0,1,3,0),R(0,3,1,-2,0,2,2,0,0,1,5,0),R(0,3,3,-2,0,3,4,0,0,1,8,0),R(0,2,4,-1,0,4,5,0,0,1,10,0),R(0,3,5,-1,0,5,8,0,0,1,14,0),R(0,3,5,-1,0,6,10,0,0,1,18,0),R(0,4,5,-2,0,7,10,1,0,2,16,1),R(0,5,5,-3,0,8,10,1,0,3,14,2),R(0,5,6,-3,0,9,12,1,0,3,16,2),R(0,6,6,-3,0,10,14,1,0,4,18,3),R(0,6,7,-4,0,11,15,1,0,4,20,3),R(0,7,8,-4,0,12,17,2,0,5,22,4),R(0,7,8,-4,0,13,19,2,0,5,24,4),R(0,7,9,-4,0,14,21,2,0,5,26,4),R(0,8,9,-5,0,15,22,2,0,6,28,5),R(0,8,10,-5,0,16,24,2,0,6,30,5),R(0,8,11,-5,0,17,26,2,0,6,32,5),R(0,9,11,-5,0,18,28,2,0,7,34,6),R(0,9,12,-6,0,19,29,2,0,7,36,6),R(0,10,13,-6,0,20,31,3,0,8,38,7),R(0,10,13,-6,0,21,33,3,0,8,40,7),R(0,10,14,-6,0,22,35,3,0,8,42,7),R(0,11,14,-7,0,23,36,3,0,9,44,8),R(0,11,15,-7,0,24,38,3,0,9,46,8)],N=["duration","easing","delay"],L={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},O={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function M(e){return"".concat(Math.round(e),"ms")}function D(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function F(e){const t=(0,i.A)({},L,e.easing),n=(0,i.A)({},O,e.duration);return(0,i.A)({getAutoHeightDuration:D,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:o=n.standard,easing:i=t.easeInOut,delay:a=0}=r;(0,s.A)(r,N);return(Array.isArray(e)?e:[e]).map(e=>"".concat(e," ").concat("string"===typeof o?o:M(o)," ").concat(i," ").concat("string"===typeof a?a:M(a))).join(",")}},e,{easing:t,duration:n})}const z={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},B=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function V(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:o={}}=e,p=(0,s.A)(e,B);if(e.vars&&void 0===e.generateCssVars)throw new Error((0,a.A)(18));const f=A(n),m=(0,d.A)(e);let g=(0,l.A)(m,{mixins:h(m.breakpoints,t),palette:f,shadows:P.slice(),typography:_(f,o),transitions:F(r),zIndex:(0,i.A)({},z)});g=(0,l.A)(g,p);for(var v=arguments.length,y=new Array(v>1?v-1:0),b=1;b<v;b++)y[b-1]=arguments[b];return g=y.reduce((e,t)=>(0,l.A)(e,t),g),g.unstable_sxConfig=(0,i.A)({},c.A,null==p?void 0:p.unstable_sxConfig),g.unstable_sx=function(e){return(0,u.A)({sx:e,theme:this})},g}const U=V;function q(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=q(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const W=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=q(e))&&(r&&(r+=" "),r+=t);return r};var H=n(3174),G=n(8698),K=n(9369);const Q=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=e.useContext(K.T);return n&&(r=n,0!==Object.keys(r).length)?n:t;var r},X=(0,d.A)();const Y=function(){return Q(arguments.length>0&&void 0!==arguments[0]?arguments[0]:X)};var $=n(579);const J=["className","component"];const Z=e=>e,ee=(()=>{let e=Z;return{configure(t){e=t},generate:t=>e(t),reset(){e=Z}}})(),te="$$material",ne={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function re(e,t){const n=ne[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(ee.generate(e),"-").concat(t)}function oe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach(t=>{r[t]=re(e,t,n)}),r}const ie=oe("MuiBox",["root"]),se=U(),ae=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:o="MuiBox-root",generateClassName:a}=t,l=(0,H.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(u.A),c=e.forwardRef(function(e,t){const c=Y(r),u=(0,G.A)(e),{className:d,component:h="div"}=u,p=(0,s.A)(u,J);return(0,$.jsx)(l,(0,i.A)({as:h,ref:t,className:W(d,a?a(o):o),theme:n&&c[n]||c},p))});return c}({themeId:te,defaultTheme:se,defaultClassName:ie.root,generateClassName:ee.generate}),le=ae;function ce(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach(o=>{r[o]=e[o].reduce((e,r)=>{if(r){const o=t(r);""!==o&&e.push(o),n&&n[r]&&e.push(n[r])}return e},[]).join(" ")}),r}var ue=n(8052);const de=U();const he=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},pe=e=>he(e)&&"classes"!==e,fe=(0,ue.Ay)({themeId:te,defaultTheme:de,rootShouldForwardProp:pe});function me(e,t){const n=(0,i.A)({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=(0,i.A)({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const o=e[r]||{},s=t[r];n[r]={},s&&Object.keys(s)?o&&Object.keys(o)?(n[r]=(0,i.A)({},s),Object.keys(o).forEach(e=>{n[r][e]=me(o[e],s[e])})):n[r]=s:n[r]=o}else void 0===n[r]&&(n[r]=e[r])}),n}const ge=e.createContext(void 0);function ve(t){let{props:n,name:r}=t;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?me(o.defaultProps,r):o.styleOverrides||o.variants?r:me(o,r)}({props:n,name:r,theme:{components:e.useContext(ge)}})}const ye=function(e){let{value:t,children:n}=e;return(0,$.jsx)(ge.Provider,{value:t,children:n})};function be(e){return ve(e)}var xe=n(7598);const we=xe.A;function Se(e){return re("MuiTypography",e)}oe("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Ee=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],ke=fe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(we(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})}),Ie={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ae={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ce=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiTypography"}),r=(e=>Ae[e]||e)(n.color),o=(0,G.A)((0,i.A)({},n,{color:r})),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:d=!1,paragraph:h=!1,variant:p="body1",variantMapping:f=Ie}=o,m=(0,s.A)(o,Ee),g=(0,i.A)({},o,{align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:d,paragraph:h,variant:p,variantMapping:f}),v=c||(h?"p":f[p]||Ie[p])||"span",y=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:s}=e;return ce({root:["root",i,"inherit"!==e.align&&"align".concat(we(t)),n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]},Se,s)})(g);return(0,$.jsx)(ke,(0,i.A)({as:v,ref:t,ownerState:g,className:W(y.root,l)},m))});var Te=n(9751);function je(){const e=Y(de);return e[te]||e}const _e=e.createContext();function Re(e){return re("MuiGrid",e)}const Pe=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Ne=oe("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map(e=>"spacing-xs-".concat(e)),...["column-reverse","column","row-reverse","row"].map(e=>"direction-xs-".concat(e)),...["nowrap","wrap-reverse","wrap"].map(e=>"wrap-xs-".concat(e)),...Pe.map(e=>"grid-xs-".concat(e)),...Pe.map(e=>"grid-sm-".concat(e)),...Pe.map(e=>"grid-md-".concat(e)),...Pe.map(e=>"grid-lg-".concat(e)),...Pe.map(e=>"grid-xl-".concat(e))]),Le=Ne,Oe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Me(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function De(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach(e=>{""===r&&0!==n[e]&&(r=e)});const o=Object.keys(t).sort((e,n)=>t[e]-t[n]);return o.slice(0,o.indexOf(r))}const Fe=fe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:o,item:i,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach(t=>{const o=e[t];Number(o)>0&&r.push(n["spacing-".concat(t,"-").concat(String(o))])}),r}(s,c,t));const d=[];return c.forEach(e=>{const r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])}),[t.root,r&&t.container,i&&t.item,l&&t.zeroMinWidth,...u,"row"!==o&&t["direction-xs-".concat(String(o))],"wrap"!==a&&t["wrap-xs-".concat(String(a))],...d]}})(e=>{let{ownerState:t}=e;return(0,i.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})},function(e){let{theme:t,ownerState:n}=e;const r=(0,Te.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,Te.NI)({theme:t},r,e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(Le.item)]={maxWidth:"none"}),t})},function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:o}=n;let i={};if(r&&0!==o){const e=(0,Te.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=De({breakpoints:t.breakpoints.values,values:e})),i=(0,Te.NI)({theme:t},e,(e,r)=>{var o;const i=t.spacing(e);return"0px"!==i?{marginTop:"-".concat(Me(i)),["& > .".concat(Le.item)]:{paddingTop:Me(i)}}:null!=(o=n)&&o.includes(r)?{}:{marginTop:0,["& > .".concat(Le.item)]:{paddingTop:0}}})}return i},function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:o}=n;let i={};if(r&&0!==o){const e=(0,Te.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=De({breakpoints:t.breakpoints.values,values:e})),i=(0,Te.NI)({theme:t},e,(e,r)=>{var o;const i=t.spacing(e);return"0px"!==i?{width:"calc(100% + ".concat(Me(i),")"),marginLeft:"-".concat(Me(i)),["& > .".concat(Le.item)]:{paddingLeft:Me(i)}}:null!=(o=n)&&o.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat(Le.item)]:{paddingLeft:0}}})}return i},function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce((e,o)=>{let s={};if(r[o]&&(t=r[o]),!t)return e;if(!0===t)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=(0,Te.kW)({values:r.columns,breakpoints:n.breakpoints.values}),l="object"===typeof a?a[o]:a;if(void 0===l||null===l)return e;const c="".concat(Math.round(t/l*1e8)/1e6,"%");let u={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(c," + ").concat(Me(e),")");u={flexBasis:t,maxWidth:t}}}s=(0,i.A)({flexBasis:c,flexGrow:0,maxWidth:c},u)}return 0===n.breakpoints.values[o]?Object.assign(e,s):e[n.breakpoints.up(o)]=s,e},{})});const ze=e=>{const{classes:t,container:n,direction:r,item:o,spacing:i,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach(t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}}),n}(i,l));const u=[];l.forEach(t=>{const n=e[t];n&&u.push("grid-".concat(t,"-").concat(String(n)))});return ce({root:["root",n&&"container",o&&"item",a&&"zeroMinWidth",...c,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==s&&"wrap-xs-".concat(String(s)),...u]},Re,t)},Be=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiGrid"}),{breakpoints:o}=je(),a=(0,G.A)(r),{className:l,columns:c,columnSpacing:u,component:d="div",container:h=!1,direction:p="row",item:f=!1,rowSpacing:m,spacing:g=0,wrap:v="wrap",zeroMinWidth:y=!1}=a,b=(0,s.A)(a,Oe),x=m||g,w=u||g,S=e.useContext(_e),E=h?c||12:S,k={},I=(0,i.A)({},b);o.keys.forEach(e=>{null!=b[e]&&(k[e]=b[e],delete I[e])});const A=(0,i.A)({},a,{columns:E,container:h,direction:p,item:f,rowSpacing:x,columnSpacing:w,wrap:v,zeroMinWidth:y,spacing:g},k,{breakpoints:o.keys}),C=ze(A);return(0,$.jsx)(_e.Provider,{value:E,children:(0,$.jsx)(Fe,(0,i.A)({ownerState:A,className:W(C.root,l),as:d,ref:n},I))})});const Ve=Be,Ue=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function qe(e){return re("MuiPaper",e)}oe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const We=["className","component","elevation","square","variant"],He=fe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})(e=>{let{theme:t,ownerState:n}=e;var r;return(0,i.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&(0,i.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,p.X4)("#fff",Ue(n.elevation)),", ").concat((0,p.X4)("#fff",Ue(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))}),Ge=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiPaper"}),{className:r,component:o="div",elevation:a=1,square:l=!1,variant:c="elevation"}=n,u=(0,s.A)(n,We),d=(0,i.A)({},n,{component:o,elevation:a,square:l,variant:c}),h=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e;return ce({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},qe,o)})(d);return(0,$.jsx)(He,(0,i.A)({as:o,ownerState:d,className:W(h.root,r),ref:t},u))});function Ke(e){return re("MuiCard",e)}oe("MuiCard",["root"]);const Qe=["className","raised"],Xe=fe(Ge,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Ye=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiCard"}),{className:r,raised:o=!1}=n,a=(0,s.A)(n,Qe),l=(0,i.A)({},n,{raised:o}),c=(e=>{const{classes:t}=e;return ce({root:["root"]},Ke,t)})(l);return(0,$.jsx)(Xe,(0,i.A)({className:W(c.root,r),elevation:o?8:void 0,ref:t,ownerState:l},a))});function $e(e){return re("MuiCardContent",e)}oe("MuiCardContent",["root"]);const Je=["className","component"],Ze=fe("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),et=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiCardContent"}),{className:r,component:o="div"}=n,a=(0,s.A)(n,Je),l=(0,i.A)({},n,{component:o}),c=(e=>{const{classes:t}=e;return ce({root:["root"]},$e,t)})(l);return(0,$.jsx)(Ze,(0,i.A)({as:o,className:W(c.root,r),ownerState:l,ref:t},a))});function tt(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function nt(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useMemo(()=>n.every(e=>null==e)?null:e=>{n.forEach(t=>{tt(t,e)})},n)}const rt=nt,ot="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;const it=function(t){const n=e.useRef(t);return ot(()=>{n.current=t}),e.useRef(function(){return(0,n.current)(...arguments)}).current},st=it,at={};const lt=[];class ct{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new ct}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function ut(){const t=function(t,n){const r=e.useRef(at);return r.current===at&&(r.current=t(n)),r}(ct.create).current;var n;return n=t.disposeEffect,e.useEffect(n,lt),t}let dt=!0,ht=!1;const pt=new ct,ft={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function mt(e){e.metaKey||e.altKey||e.ctrlKey||(dt=!0)}function gt(){dt=!1}function vt(){"hidden"===this.visibilityState&&ht&&(dt=!0)}function yt(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return dt||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!ft[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const bt=function(){const t=e.useCallback(e=>{null!=e&&function(e){e.addEventListener("keydown",mt,!0),e.addEventListener("mousedown",gt,!0),e.addEventListener("pointerdown",gt,!0),e.addEventListener("touchstart",gt,!0),e.addEventListener("visibilitychange",vt,!0)}(e.ownerDocument)},[]),n=e.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!yt(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(ht=!0,pt.start(100,()=>{ht=!1}),n.current=!1,!0)},ref:t}};function xt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function wt(e,t){return wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wt(e,t)}function St(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,wt(e,t)}const Et=e.createContext(null);function kt(t,n){var r=Object.create(null);return t&&e.Children.map(t,function(e){return e}).forEach(function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)}),r}function It(e,t,n){return null!=n[t]?n[t]:e.props[t]}function At(t,n,r){var o=kt(t.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var s in e)s in t?i.length&&(o[s]=i,i=[]):i.push(s);var a={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var c=o[l][r];a[o[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<i.length;r++)a[i[r]]=n(i[r]);return a}(n,o);return Object.keys(i).forEach(function(s){var a=i[s];if((0,e.isValidElement)(a)){var l=s in n,c=s in o,u=n[s],d=(0,e.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,e.isValidElement)(u)&&(i[s]=(0,e.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:It(a,"exit",t),enter:It(a,"enter",t)})):i[s]=(0,e.cloneElement)(a,{in:!1}):i[s]=(0,e.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:It(a,"exit",t),enter:It(a,"enter",t)})}}),i}var Ct=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Tt=function(t){function n(e,n){var r,o=(r=t.call(this,e,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}St(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,o,i=n.children,s=n.handleExited;return{children:n.firstRender?(r=t,o=s,kt(r.children,function(t){return(0,e.cloneElement)(t,{onExited:o.bind(null,t),in:!0,appear:It(t,"appear",r),enter:It(t,"enter",r),exit:It(t,"exit",r)})})):At(t,i,s),firstRender:!1}},r.handleExited=function(e,t){var n=kt(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=(0,i.A)({},t.children);return delete n[e.key],{children:n}}))},r.render=function(){var t=this.props,n=t.component,r=t.childFactory,o=(0,s.A)(t,["component","childFactory"]),i=this.state.contextValue,a=Ct(this.state.children).map(r);return delete o.appear,delete o.enter,delete o.exit,null===n?e.createElement(Et.Provider,{value:i},a):e.createElement(Et.Provider,{value:i},e.createElement(n,o,a))},n}(e.Component);Tt.propTypes={},Tt.defaultProps={component:"div",childFactory:function(e){return e}};const jt=Tt;var _t=n(3290);const Rt=function(t){const{className:n,classes:r,pulsate:o=!1,rippleX:i,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=t,[d,h]=e.useState(!1),p=W(n,r.ripple,r.rippleVisible,o&&r.ripplePulsate),f={width:a,height:a,top:-a/2+s,left:-a/2+i},m=W(r.child,d&&r.childLeaving,o&&r.childPulsate);return l||d||h(!0),e.useEffect(()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}},[c,l,u]),(0,$.jsx)("span",{className:p,style:f,children:(0,$.jsx)("span",{className:m})})};const Pt=oe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var Nt,Lt,Ot,Mt;const Dt=["center","classes","className"];let Ft,zt,Bt,Vt;const Ut=(0,_t.i7)(Ft||(Ft=Nt||(Nt=xt(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),qt=(0,_t.i7)(zt||(zt=Lt||(Lt=xt(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Wt=(0,_t.i7)(Bt||(Bt=Ot||(Ot=xt(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Ht=fe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Gt=fe(Rt,{name:"MuiTouchRipple",slot:"Ripple"})(Vt||(Vt=Mt||(Mt=xt(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Pt.rippleVisible,Ut,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},Pt.ripplePulsate,e=>{let{theme:t}=e;return t.transitions.duration.shorter},Pt.child,Pt.childLeaving,qt,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},Pt.childPulsate,Wt,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),Kt=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiTouchRipple"}),{center:o=!1,classes:a={},className:l}=r,c=(0,s.A)(r,Dt),[u,d]=e.useState([]),h=e.useRef(0),p=e.useRef(null);e.useEffect(()=>{p.current&&(p.current(),p.current=null)},[u]);const f=e.useRef(!1),m=ut(),g=e.useRef(null),v=e.useRef(null),y=e.useCallback(e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:o,cb:i}=e;d(e=>[...e,(0,$.jsx)(Gt,{classes:{ripple:W(a.ripple,Pt.ripple),rippleVisible:W(a.rippleVisible,Pt.rippleVisible),ripplePulsate:W(a.ripplePulsate,Pt.ripplePulsate),child:W(a.child,Pt.child),childLeaving:W(a.childLeaving,Pt.childLeaving),childPulsate:W(a.childPulsate,Pt.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o},h.current)]),h.current+=1,p.current=i},[a]),b=e.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:i=o||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&f.current)return void(f.current=!1);"touchstart"===(null==e?void 0:e.type)&&(f.current=!0);const a=s?null:v.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(i||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(i)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===g.current&&(g.current=()=>{y({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},m.start(80,()=>{g.current&&(g.current(),g.current=null)})):y({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},[o,y,m]),x=e.useCallback(()=>{b({},{pulsate:!0})},[b]),w=e.useCallback((e,t)=>{if(m.clear(),"touchend"===(null==e?void 0:e.type)&&g.current)return g.current(),g.current=null,void m.start(0,()=>{w(e,t)});g.current=null,d(e=>e.length>0?e.slice(1):e),p.current=t},[m]);return e.useImperativeHandle(n,()=>({pulsate:x,start:b,stop:w}),[x,b,w]),(0,$.jsx)(Ht,(0,i.A)({className:W(Pt.root,a.root,l),ref:v},c,{children:(0,$.jsx)(jt,{component:null,exit:!0,children:u})}))}),Qt=Kt;function Xt(e){return re("MuiButtonBase",e)}const Yt=oe("MuiButtonBase",["root","disabled","focusVisible"]),$t=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Jt=fe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(Yt.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Zt=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiButtonBase"}),{action:o,centerRipple:a=!1,children:l,className:c,component:u="button",disabled:d=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:f=!1,LinkComponent:m="a",onBlur:g,onClick:v,onContextMenu:y,onDragLeave:b,onFocus:x,onFocusVisible:w,onKeyDown:S,onKeyUp:E,onMouseDown:k,onMouseLeave:I,onMouseUp:A,onTouchEnd:C,onTouchMove:T,onTouchStart:j,tabIndex:_=0,TouchRippleProps:R,touchRippleRef:P,type:N}=r,L=(0,s.A)(r,$t),O=e.useRef(null),M=e.useRef(null),D=rt(M,P),{isFocusVisibleRef:F,onFocus:z,onBlur:B,ref:V}=bt(),[U,q]=e.useState(!1);d&&U&&q(!1),e.useImperativeHandle(o,()=>({focusVisible:()=>{q(!0),O.current.focus()}}),[]);const[H,G]=e.useState(!1);e.useEffect(()=>{G(!0)},[]);const K=H&&!h&&!d;function Q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;return st(r=>{t&&t(r);return!n&&M.current&&M.current[e](r),!0})}e.useEffect(()=>{U&&f&&!h&&H&&M.current.pulsate()},[h,f,U,H]);const X=Q("start",k),Y=Q("stop",y),J=Q("stop",b),Z=Q("stop",A),ee=Q("stop",e=>{U&&e.preventDefault(),I&&I(e)}),te=Q("start",j),ne=Q("stop",C),re=Q("stop",T),oe=Q("stop",e=>{B(e),!1===F.current&&q(!1),g&&g(e)},!1),ie=st(e=>{O.current||(O.current=e.currentTarget),z(e),!0===F.current&&(q(!0),w&&w(e)),x&&x(e)}),se=()=>{const e=O.current;return u&&"button"!==u&&!("A"===e.tagName&&e.href)},ae=e.useRef(!1),le=st(e=>{f&&!ae.current&&U&&M.current&&" "===e.key&&(ae.current=!0,M.current.stop(e,()=>{M.current.start(e)})),e.target===e.currentTarget&&se()&&" "===e.key&&e.preventDefault(),S&&S(e),e.target===e.currentTarget&&se()&&"Enter"===e.key&&!d&&(e.preventDefault(),v&&v(e))}),ue=st(e=>{f&&" "===e.key&&M.current&&U&&!e.defaultPrevented&&(ae.current=!1,M.current.stop(e,()=>{M.current.pulsate(e)})),E&&E(e),v&&e.target===e.currentTarget&&se()&&" "===e.key&&!e.defaultPrevented&&v(e)});let de=u;"button"===de&&(L.href||L.to)&&(de=m);const he={};"button"===de?(he.type=void 0===N?"button":N,he.disabled=d):(L.href||L.to||(he.role="button"),d&&(he["aria-disabled"]=d));const pe=rt(n,V,O);const fe=(0,i.A)({},r,{centerRipple:a,component:u,disabled:d,disableRipple:h,disableTouchRipple:p,focusRipple:f,tabIndex:_,focusVisible:U}),me=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,i=ce({root:["root",t&&"disabled",n&&"focusVisible"]},Xt,o);return n&&r&&(i.root+=" ".concat(r)),i})(fe);return(0,$.jsxs)(Jt,(0,i.A)({as:de,className:W(me.root,c),ownerState:fe,onBlur:oe,onClick:v,onContextMenu:Y,onFocus:ie,onKeyDown:le,onKeyUp:ue,onMouseDown:X,onMouseLeave:ee,onMouseUp:Z,onDragLeave:J,onTouchEnd:ne,onTouchMove:re,onTouchStart:te,ref:pe,tabIndex:d?-1:_,type:N},he,L,{children:[l,K?(0,$.jsx)(Qt,(0,i.A)({ref:D,center:a},R)):null]}))}),en=Zt;function tn(e){return re("MuiButton",e)}const nn=oe("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const rn=e.createContext({});const on=e.createContext(void 0),sn=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],an=e=>(0,i.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),ln=fe(en,{shouldForwardProp:e=>pe(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(we(n.color))],t["size".concat(we(n.size))],t["".concat(n.variant,"Size").concat(we(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(e=>{let{theme:t,ownerState:n}=e;var r,o;const s="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],a="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,i.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,i.A)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,p.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,p.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,p.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,i.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(nn.focusVisible)]:(0,i.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(nn.disabled)]:(0,i.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat((0,p.X4)(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(o=t.palette).getContrastText)?void 0:r.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:s,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})},e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(nn.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(nn.disabled)]:{boxShadow:"none"}}}),cn=fe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat(we(n.size))]]}})(e=>{let{ownerState:t}=e;return(0,i.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},an(t))}),un=fe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat(we(n.size))]]}})(e=>{let{ownerState:t}=e;return(0,i.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},an(t))}),dn=e.forwardRef(function(t,n){const r=e.useContext(rn),o=e.useContext(on),a=be({props:me(r,t),name:"MuiButton"}),{children:l,color:c="primary",component:u="button",className:d,disabled:h=!1,disableElevation:p=!1,disableFocusRipple:f=!1,endIcon:m,focusVisibleClassName:g,fullWidth:v=!1,size:y="medium",startIcon:b,type:x,variant:w="text"}=a,S=(0,s.A)(a,sn),E=(0,i.A)({},a,{color:c,component:u,disabled:h,disableElevation:p,disableFocusRipple:f,fullWidth:v,size:y,type:x,variant:w}),k=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:s,classes:a}=e,l=ce({root:["root",s,"".concat(s).concat(we(t)),"size".concat(we(o)),"".concat(s,"Size").concat(we(o)),"color".concat(we(t)),n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat(we(o))],endIcon:["icon","endIcon","iconSize".concat(we(o))]},tn,a);return(0,i.A)({},a,l)})(E),I=b&&(0,$.jsx)(cn,{className:k.startIcon,ownerState:E,children:b}),A=m&&(0,$.jsx)(un,{className:k.endIcon,ownerState:E,children:m}),C=o||"";return(0,$.jsxs)(ln,(0,i.A)({ownerState:E,className:W(r.className,k.root,d,C),component:u,disabled:h,focusRipple:!f,focusVisibleClassName:W(k.focusVisible,g),ref:n,type:x},S,{classes:k,children:[I,l,A]}))});function hn(e){return re("MuiAppBar",e)}oe("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const pn=["className","color","enableColorOnDark","position"],fn=(e,t)=>e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t,mn=fe(Ge,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat(we(n.position))],t["color".concat(we(n.color))]]}})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,i.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,i.A)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,i.A)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,i.A)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:fn(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:fn(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:fn(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:fn(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},!["inherit","transparent"].includes(n.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),gn=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiAppBar"}),{className:r,color:o="primary",enableColorOnDark:a=!1,position:l="fixed"}=n,c=(0,s.A)(n,pn),u=(0,i.A)({},n,{color:o,position:l,enableColorOnDark:a}),d=(e=>{const{color:t,position:n,classes:r}=e;return ce({root:["root","color".concat(we(t)),"position".concat(we(n))]},hn,r)})(u);return(0,$.jsx)(mn,(0,i.A)({square:!0,component:"header",ownerState:u,elevation:4,className:W(d.root,r,"fixed"===l&&"mui-fixed"),ref:t},c))});function vn(e){return re("MuiToolbar",e)}oe("MuiToolbar",["root","gutters","regular","dense"]);const yn=["className","component","disableGutters","variant"],bn=fe("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})},e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar}),xn=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiToolbar"}),{className:r,component:o="div",disableGutters:a=!1,variant:l="regular"}=n,c=(0,s.A)(n,yn),u=(0,i.A)({},n,{component:o,disableGutters:a,variant:l}),d=(e=>{const{classes:t,disableGutters:n,variant:r}=e;return ce({root:["root",!n&&"gutters",r]},vn,t)})(u);return(0,$.jsx)(bn,(0,i.A)({as:o,className:W(d.root,r),ref:t,ownerState:u},c))});function wn(e){return re("MuiIconButton",e)}const Sn=oe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),En=["edge","children","className","color","disabled","disableFocusRipple","size"],kn=fe(en,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat(we(n.color))],n.edge&&t["edge".concat(we(n.edge))],t["size".concat(we(n.size))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,p.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})},e=>{let{theme:t,ownerState:n}=e;var r;const o=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,i.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,i.A)({color:null==o?void 0:o.main},!n.disableRipple&&{"&:hover":(0,i.A)({},o&&{backgroundColor:t.vars?"rgba(".concat(o.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,p.X4)(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(Sn.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),In=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:a,color:l="default",disabled:c=!1,disableFocusRipple:u=!1,size:d="medium"}=n,h=(0,s.A)(n,En),p=(0,i.A)({},n,{edge:r,color:l,disabled:c,disableFocusRipple:u,size:d}),f=(e=>{const{classes:t,disabled:n,color:r,edge:o,size:i}=e;return ce({root:["root",n&&"disabled","default"!==r&&"color".concat(we(r)),o&&"edge".concat(we(o)),"size".concat(we(i))]},wn,t)})(p);return(0,$.jsx)(kn,(0,i.A)({className:W(f.root,a),centerRipple:!0,focusRipple:!u,disabled:c,ref:t},h,{ownerState:p,children:o}))}),An=["value"],Cn=e.createContext();const Tn=()=>{const t=e.useContext(Cn);return null!=t&&t},jn=function(e){let{value:t}=e,n=(0,s.A)(e,An);return(0,$.jsx)(Cn.Provider,(0,i.A)({value:null==t||t},n))};const _n=function(e){return"string"===typeof e};const Rn=function(e,t,n){return void 0===e||_n(e)?t:(0,i.A)({},t,{ownerState:(0,i.A)({},t.ownerState,n)})};const Pn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)).forEach(t=>{n[t]=e[t]}),n};const Nn=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])).forEach(n=>{t[n]=e[n]}),t};const Ln=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:s}=e;if(!t){const e=W(null==n?void 0:n.className,s,null==o?void 0:o.className,null==r?void 0:r.className),t=(0,i.A)({},null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),a=(0,i.A)({},n,o,r);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=Pn((0,i.A)({},o,r)),l=Nn(r),c=Nn(o),u=t(a),d=W(null==u?void 0:u.className,null==n?void 0:n.className,s,null==o?void 0:o.className,null==r?void 0:r.className),h=(0,i.A)({},null==u?void 0:u.style,null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),p=(0,i.A)({},u,n,c,l);return d.length>0&&(p.className=d),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:u.ref}};const On=function(e,t,n){return"function"===typeof e?e(t,n):e},Mn=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const Dn=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:a=!1}=e,l=(0,s.A)(e,Mn),c=a?{}:On(r,o),{props:u,internalRef:d}=Ln((0,i.A)({},l,{externalSlotProps:c})),h=nt(d,null==c?void 0:c.ref,null==(t=e.additionalProps)?void 0:t.ref);return Rn(n,(0,i.A)({},u,{ref:h}),o)};function Fn(t){var n;return parseInt(e.version,10)>=19?(null==t||null==(n=t.props)?void 0:n.ref)||null:(null==t?void 0:t.ref)||null}function zn(e){return e&&e.ownerDocument||document}const Bn=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Vn(e){const t=[],n=[];return Array.from(e.querySelectorAll(Bn)).forEach((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))}),n.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function Un(){return!0}const qn=function(t){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:o=!1,disableRestoreFocus:i=!1,getTabbable:s=Vn,isEnabled:a=Un,open:l}=t,c=e.useRef(!1),u=e.useRef(null),d=e.useRef(null),h=e.useRef(null),p=e.useRef(null),f=e.useRef(!1),m=e.useRef(null),g=nt(Fn(n),m),v=e.useRef(null);e.useEffect(()=>{l&&m.current&&(f.current=!r)},[r,l]),e.useEffect(()=>{if(!l||!m.current)return;const e=zn(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{i||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}},[l]),e.useEffect(()=>{if(!l||!m.current)return;const e=zn(m.current),t=t=>{v.current=t,!o&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(o&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){var r,i;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(i=v.current)?void 0:i.key)),t=n[0],o=n[n.length-1];"string"!==typeof t&&"string"!==typeof o&&(e?o.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval(()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()},50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}},[r,o,i,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,$.jsxs)(e.Fragment,{children:[(0,$.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),e.cloneElement(n,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,p.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,$.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})};var Wn=n(7950);const Hn=e.forwardRef(function(t,n){const{children:r,container:o,disablePortal:i=!1}=t,[s,a]=e.useState(null),l=nt(e.isValidElement(r)?Fn(r):null,n);if(ot(()=>{i||a(function(e){return"function"===typeof e?e():e}(o)||document.body)},[o,i]),ot(()=>{if(s&&!i)return tt(n,s),()=>{tt(n,null)}},[n,s,i]),i){if(e.isValidElement(r)){const t={ref:l};return e.cloneElement(r,t)}return(0,$.jsx)(e.Fragment,{children:r})}return(0,$.jsx)(e.Fragment,{children:s?Wn.createPortal(r,s):s})}),Gn=!1;var Kn="unmounted",Qn="exited",Xn="entering",Yn="entered",$n="exiting",Jn=function(t){function n(e,n){var r;r=t.call(this,e,n)||this;var o,i=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?i?(o=Qn,r.appearStatus=Xn):o=Yn:o=e.unmountOnExit||e.mountOnEnter?Kn:Qn,r.state={status:o},r.nextCallback=null,r}St(n,t),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Kn?{status:Qn}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Xn&&n!==Yn&&(t=Xn):n!==Xn&&n!==Yn||(t=$n)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Xn){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Wn.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Qn&&this.setState({status:Kn})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[Wn.findDOMNode(this),r],i=o[0],s=o[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||Gn?this.safeSetState({status:Yn},function(){t.props.onEntered(i)}):(this.props.onEnter(i,s),this.safeSetState({status:Xn},function(){t.props.onEntering(i,s),t.onTransitionEnd(l,function(){t.safeSetState({status:Yn},function(){t.props.onEntered(i,s)})})}))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Wn.findDOMNode(this);t&&!Gn?(this.props.onExit(r),this.safeSetState({status:$n},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:Qn},function(){e.props.onExited(r)})})})):this.safeSetState({status:Qn},function(){e.props.onExited(r)})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Wn.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],s=o[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===Kn)return null;var n=this.props,r=n.children,o=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,s.A)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Et.Provider,{value:null},"function"===typeof r?r(t,o):e.cloneElement(e.Children.only(r),o))},n}(e.Component);function Zn(){}Jn.contextType=Et,Jn.propTypes={},Jn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Zn,onEntering:Zn,onEntered:Zn,onExit:Zn,onExiting:Zn,onExited:Zn},Jn.UNMOUNTED=Kn,Jn.EXITED=Qn,Jn.ENTERING=Xn,Jn.ENTERED=Yn,Jn.EXITING=$n;const er=Jn,tr=e=>e.scrollTop;function nr(e,t){var n,r;const{timeout:o,easing:i,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof o?o:o[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof i?i[t.mode]:i,delay:s.transitionDelay}}const rr=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],or={entering:{opacity:1},entered:{opacity:1}},ir=e.forwardRef(function(t,n){const r=je(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:l=!0,children:c,easing:u,in:d,onEnter:h,onEntered:p,onEntering:f,onExit:m,onExited:g,onExiting:v,style:y,timeout:b=o,TransitionComponent:x=er}=t,w=(0,s.A)(t,rr),S=e.useRef(null),E=rt(S,Fn(c),n),k=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},I=k(f),A=k((e,t)=>{tr(e);const n=nr({style:y,timeout:b,easing:u},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)}),C=k(p),T=k(v),j=k(e=>{const t=nr({style:y,timeout:b,easing:u},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)}),_=k(g);return(0,$.jsx)(x,(0,i.A)({appear:l,in:d,nodeRef:S,onEnter:A,onEntered:C,onEntering:I,onExit:j,onExited:_,onExiting:T,addEndListener:e=>{a&&a(S.current,e)},timeout:b},w,{children:(t,n)=>e.cloneElement(c,(0,i.A)({style:(0,i.A)({opacity:0,visibility:"exited"!==t||d?void 0:"hidden"},or[t],y,c.props.style),ref:E},n))}))}),sr=ir;function ar(e){return re("MuiBackdrop",e)}oe("MuiBackdrop",["root","invisible"]);const lr=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],cr=fe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(e=>{let{ownerState:t}=e;return(0,i.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})}),ur=e.forwardRef(function(e,t){var n,r,o;const a=be({props:e,name:"MuiBackdrop"}),{children:l,className:c,component:u="div",components:d={},componentsProps:h={},invisible:p=!1,open:f,slotProps:m={},slots:g={},TransitionComponent:v=sr,transitionDuration:y}=a,b=(0,s.A)(a,lr),x=(0,i.A)({},a,{component:u,invisible:p}),w=(e=>{const{classes:t,invisible:n}=e;return ce({root:["root",n&&"invisible"]},ar,t)})(x),S=null!=(n=m.root)?n:h.root;return(0,$.jsx)(v,(0,i.A)({in:f,timeout:y},b,{children:(0,$.jsx)(cr,(0,i.A)({"aria-hidden":!0},S,{as:null!=(r=null!=(o=g.root)?o:d.Root)?r:u,className:W(w.root,c,null==S?void 0:S.className),ownerState:(0,i.A)({},x,null==S?void 0:S.ownerState),classes:w,ref:t,children:l}))}))});function dr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)},()=>{})}function hr(e){return zn(e).defaultView||window}function pr(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function fr(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function mr(e){return parseInt(hr(e).getComputedStyle(e).paddingRight,10)||0}function gr(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,e=>{const t=-1===i.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&fr(e,o)})}function vr(e,t){let n=-1;return e.some((e,r)=>!!t(e)&&(n=r,!0)),n}function yr(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=zn(e);return t.body===e?hr(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=pr(zn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(mr(r)+e,"px");const t=zn(r).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(mr(t)+e,"px")})}let e;if(r.parentNode instanceof DocumentFragment)e=zn(r).body;else{const t=r.parentElement,n=hr(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach(e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)})}}const br=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&fr(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);gr(t,e.mount,e.modalRef,r,!0);const o=vr(this.containers,e=>e.container===t);return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=vr(this.containers,t=>-1!==t.modals.indexOf(e)),r=this.containers[n];r.restore||(r.restore=yr(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=vr(this.containers,t=>-1!==t.modals.indexOf(e)),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&fr(e.modalRef,t),gr(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&fr(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const xr=function(t){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:o=!1,manager:s=br,closeAfterTransition:a=!1,onTransitionEnter:l,onTransitionExited:c,children:u,onClose:d,open:h,rootRef:p}=t,f=e.useRef({}),m=e.useRef(null),g=e.useRef(null),v=nt(g,p),[y,b]=e.useState(!h),x=function(e){return!!e&&e.props.hasOwnProperty("in")}(u);let w=!0;"false"!==t["aria-hidden"]&&!1!==t["aria-hidden"]||(w=!1);const S=()=>(f.current.modalRef=g.current,f.current.mount=m.current,f.current),E=()=>{s.mount(S(),{disableScrollLock:o}),g.current&&(g.current.scrollTop=0)},k=it(()=>{const e=function(e){return"function"===typeof e?e():e}(n)||zn(m.current).body;s.add(S(),e),g.current&&E()}),I=e.useCallback(()=>s.isTopModal(S()),[s]),A=it(e=>{m.current=e,e&&(h&&I()?E():g.current&&fr(g.current,w))}),C=e.useCallback(()=>{s.remove(S(),w)},[w,s]);e.useEffect(()=>()=>{C()},[C]),e.useEffect(()=>{h?k():x&&a||C()},[h,C,x,a,k]);const T=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&I()&&(r||(t.stopPropagation(),d&&d(t,"escapeKeyDown")))},j=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Pn(t);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,i.A)({},n,e);return(0,i.A)({role:"presentation"},r,{onKeyDown:T(r),ref:v})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.A)({"aria-hidden":!0},e,{onClick:j(e),open:h})},getTransitionProps:()=>({onEnter:dr(()=>{b(!1),l&&l()},null==u?void 0:u.props.onEnter),onExited:dr(()=>{b(!0),c&&c(),a&&C()},null==u?void 0:u.props.onExited)}),rootRef:v,portalRef:A,isTopModal:I,exited:y,hasTransition:x}};function wr(e){return re("MuiModal",e)}oe("MuiModal",["root","hidden","backdrop"]);const Sr=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Er=fe("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})}),kr=fe(ur,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Ir=e.forwardRef(function(t,n){var r,o,a,l,c,u;const d=be({name:"MuiModal",props:t}),{BackdropComponent:h=kr,BackdropProps:p,className:f,closeAfterTransition:m=!1,children:g,container:v,component:y,components:b={},componentsProps:x={},disableAutoFocus:w=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:E=!1,disablePortal:k=!1,disableRestoreFocus:I=!1,disableScrollLock:A=!1,hideBackdrop:C=!1,keepMounted:T=!1,onBackdropClick:j,open:_,slotProps:R,slots:P}=d,N=(0,s.A)(d,Sr),L=(0,i.A)({},d,{closeAfterTransition:m,disableAutoFocus:w,disableEnforceFocus:S,disableEscapeKeyDown:E,disablePortal:k,disableRestoreFocus:I,disableScrollLock:A,hideBackdrop:C,keepMounted:T}),{getRootProps:O,getBackdropProps:M,getTransitionProps:D,portalRef:F,isTopModal:z,exited:B,hasTransition:V}=xr((0,i.A)({},L,{rootRef:n})),U=(0,i.A)({},L,{exited:B}),q=(e=>{const{open:t,exited:n,classes:r}=e;return ce({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},wr,r)})(U),H={};if(void 0===g.props.tabIndex&&(H.tabIndex="-1"),V){const{onEnter:e,onExited:t}=D();H.onEnter=e,H.onExited=t}const G=null!=(r=null!=(o=null==P?void 0:P.root)?o:b.Root)?r:Er,K=null!=(a=null!=(l=null==P?void 0:P.backdrop)?l:b.Backdrop)?a:h,Q=null!=(c=null==R?void 0:R.root)?c:x.root,X=null!=(u=null==R?void 0:R.backdrop)?u:x.backdrop,Y=Dn({elementType:G,externalSlotProps:Q,externalForwardedProps:N,getSlotProps:O,additionalProps:{ref:n,as:y},ownerState:U,className:W(f,null==Q?void 0:Q.className,null==q?void 0:q.root,!U.open&&U.exited&&(null==q?void 0:q.hidden))}),J=Dn({elementType:K,externalSlotProps:X,additionalProps:p,getSlotProps:e=>M((0,i.A)({},e,{onClick:t=>{j&&j(t),null!=e&&e.onClick&&e.onClick(t)}})),className:W(null==X?void 0:X.className,null==p?void 0:p.className,null==q?void 0:q.backdrop),ownerState:U});return T||_||V&&!B?(0,$.jsx)(Hn,{ref:F,container:v,disablePortal:k,children:(0,$.jsxs)(G,(0,i.A)({},Y,{children:[!C&&h?(0,$.jsx)(K,(0,i.A)({},J)):null,(0,$.jsx)(qn,{disableEnforceFocus:S,disableAutoFocus:w,disableRestoreFocus:I,isEnabled:z,open:_,children:e.cloneElement(g,H)})]}))}):null}),Ar=Ir;function Cr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout(()=>{e.apply(this,o)},n)}return r.clear=()=>{clearTimeout(t)},r}const Tr=Cr,jr=hr,_r=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Rr(e,t,n){var r;const o=function(e,t,n){const r=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),i=jr(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const e=i.getComputedStyle(t);s=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let a=0,l=0;if(s&&"none"!==s&&"string"===typeof s){const e=s.split("(")[1].split(")")[0].split(",");a=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?"translateX(".concat(o?o.right+a-r.left:i.innerWidth+a-r.left,"px)"):"right"===e?"translateX(-".concat(o?r.right-o.left-a:r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(o?o.bottom+l-r.top:i.innerHeight+l-r.top,"px)"):"translateY(-".concat(o?r.top-o.top+r.height-l:r.top+r.height-l,"px)")}(e,t,"function"===typeof(r=n)?r():r);o&&(t.style.webkitTransform=o,t.style.transform=o)}const Pr=e.forwardRef(function(t,n){const r=je(),o={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:l,appear:c=!0,children:u,container:d,direction:h="down",easing:p=o,in:f,onEnter:m,onEntered:g,onEntering:v,onExit:y,onExited:b,onExiting:x,style:w,timeout:S=a,TransitionComponent:E=er}=t,k=(0,s.A)(t,_r),I=e.useRef(null),A=rt(Fn(u),I,n),C=e=>t=>{e&&(void 0===t?e(I.current):e(I.current,t))},T=C((e,t)=>{Rr(h,e,d),tr(e),m&&m(e,t)}),j=C((e,t)=>{const n=nr({timeout:S,style:w,easing:p},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",(0,i.A)({},n)),e.style.transition=r.transitions.create("transform",(0,i.A)({},n)),e.style.webkitTransform="none",e.style.transform="none",v&&v(e,t)}),_=C(g),R=C(x),P=C(e=>{const t=nr({timeout:S,style:w,easing:p},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),Rr(h,e,d),y&&y(e)}),N=C(e=>{e.style.webkitTransition="",e.style.transition="",b&&b(e)}),L=e.useCallback(()=>{I.current&&Rr(h,I.current,d)},[h,d]);return e.useEffect(()=>{if(f||"down"===h||"right"===h)return;const e=Tr(()=>{I.current&&Rr(h,I.current,d)}),t=jr(I.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[h,f,d]),e.useEffect(()=>{f||L()},[f,L]),(0,$.jsx)(E,(0,i.A)({nodeRef:I,onEnter:T,onEntered:_,onEntering:j,onExit:P,onExited:N,onExiting:R,addEndListener:e=>{l&&l(I.current,e)},appear:c,in:f,timeout:S},k,{children:(t,n)=>e.cloneElement(u,(0,i.A)({ref:A,style:(0,i.A)({visibility:"exited"!==t||f?void 0:"hidden"},w,u.props.style)},n))}))}),Nr=Pr;function Lr(e){return re("MuiDrawer",e)}oe("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Or=["BackdropProps"],Mr=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Dr=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},Fr=fe(Ar,{name:"MuiDrawer",slot:"Root",overridesResolver:Dr})(e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}}),zr=fe("div",{shouldForwardProp:pe,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Dr})({flex:"0 0 auto"}),Br=fe(Ge,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["paperAnchor".concat(we(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat(we(n.anchor))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:"1px solid ".concat((t.vars||t).palette.divider)},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider)},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:"1px solid ".concat((t.vars||t).palette.divider)})}),Vr={left:"right",right:"left",top:"down",bottom:"up"};const Ur=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiDrawer"}),o=je(),a=Tn(),l={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:c="left",BackdropProps:u,children:d,className:h,elevation:p=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:m}={},onClose:g,open:v=!1,PaperProps:y={},SlideProps:b,TransitionComponent:x=Nr,transitionDuration:w=l,variant:S="temporary"}=r,E=(0,s.A)(r.ModalProps,Or),k=(0,s.A)(r,Mr),I=e.useRef(!1);e.useEffect(()=>{I.current=!0},[]);const A=function(e,t){let{direction:n}=e;return"rtl"===n&&function(e){return-1!==["left","right"].indexOf(e)}(t)?Vr[t]:t}({direction:a?"rtl":"ltr"},c),C=c,T=(0,i.A)({},r,{anchor:C,elevation:p,open:v,variant:S},k),j=(e=>{const{classes:t,anchor:n,variant:r}=e;return ce({root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(we(n)),"temporary"!==r&&"paperAnchorDocked".concat(we(n))]},Lr,t)})(T),_=(0,$.jsx)(Br,(0,i.A)({elevation:"temporary"===S?p:0,square:!0},y,{className:W(j.paper,y.className),ownerState:T,children:d}));if("permanent"===S)return(0,$.jsx)(zr,(0,i.A)({className:W(j.root,j.docked,h),ownerState:T,ref:n},k,{children:_}));const R=(0,$.jsx)(x,(0,i.A)({in:v,direction:Vr[A],timeout:w,appear:I.current},b,{children:_}));return"persistent"===S?(0,$.jsx)(zr,(0,i.A)({className:W(j.root,j.docked,h),ownerState:T,ref:n},k,{children:R})):(0,$.jsx)(Fr,(0,i.A)({BackdropProps:(0,i.A)({},u,m,{transitionDuration:w}),className:W(j.root,j.modal,h),open:v,ownerState:T,onClose:g,hideBackdrop:f,ref:n},k,E,{children:R}))}),qr=Ur;const Wr=e.createContext({});function Hr(e){return re("MuiList",e)}oe("MuiList",["root","padding","dense","subheader"]);const Gr=["children","className","component","dense","disablePadding","subheader"],Kr=fe("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(e=>{let{ownerState:t}=e;return(0,i.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})}),Qr=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiList"}),{children:o,className:a,component:l="ul",dense:c=!1,disablePadding:u=!1,subheader:d}=r,h=(0,s.A)(r,Gr),p=e.useMemo(()=>({dense:c}),[c]),f=(0,i.A)({},r,{component:l,dense:c,disablePadding:u}),m=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e;return ce({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},Hr,t)})(f);return(0,$.jsx)(Wr.Provider,{value:p,children:(0,$.jsxs)(Kr,(0,i.A)({as:l,className:W(m.root,a),ref:n,ownerState:f},h,{children:[d,o]}))})});const Xr=function(t,n){var r,o;return e.isValidElement(t)&&-1!==n.indexOf(null!=(r=t.type.muiName)?r:null==(o=t.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)},Yr=ot;function $r(e){return re("MuiListItem",e)}const Jr=oe("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);const Zr=oe("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function eo(e){return re("MuiListItemSecondaryAction",e)}oe("MuiListItemSecondaryAction",["root","disableGutters"]);const to=["className"],no=fe("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(e=>{let{ownerState:t}=e;return(0,i.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})}),ro=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiListItemSecondaryAction"}),{className:o}=r,a=(0,s.A)(r,to),l=e.useContext(Wr),c=(0,i.A)({},r,{disableGutters:l.disableGutters}),u=(e=>{const{disableGutters:t,classes:n}=e;return ce({root:["root",t&&"disableGutters"]},eo,n)})(c);return(0,$.jsx)(no,(0,i.A)({className:W(u.root,o),ownerState:c,ref:n},a))});ro.muiName="ListItemSecondaryAction";const oo=ro,io=["className"],so=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],ao=fe("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,i.A)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{["& > .".concat(Zr.root)]:{paddingRight:48}},{["&.".concat(Jr.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(Jr.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,p.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(Jr.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,p.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(Jr.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(Jr.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,p.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,p.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})}),lo=fe("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),co=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiListItem"}),{alignItems:o="center",autoFocus:a=!1,button:l=!1,children:c,className:u,component:d,components:h={},componentsProps:p={},ContainerComponent:f="li",ContainerProps:{className:m}={},dense:g=!1,disabled:v=!1,disableGutters:y=!1,disablePadding:b=!1,divider:x=!1,focusVisibleClassName:w,secondaryAction:S,selected:E=!1,slotProps:k={},slots:I={}}=r,A=(0,s.A)(r.ContainerProps,io),C=(0,s.A)(r,so),T=e.useContext(Wr),j=e.useMemo(()=>({dense:g||T.dense||!1,alignItems:o,disableGutters:y}),[o,T.dense,g,y]),_=e.useRef(null);Yr(()=>{a&&_.current&&_.current.focus()},[a]);const R=e.Children.toArray(c),P=R.length&&Xr(R[R.length-1],["ListItemSecondaryAction"]),N=(0,i.A)({},r,{alignItems:o,autoFocus:a,button:l,dense:j.dense,disabled:v,disableGutters:y,disablePadding:b,divider:x,hasSecondaryAction:P,selected:E}),L=(e=>{const{alignItems:t,button:n,classes:r,dense:o,disabled:i,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=e;return ce({root:["root",o&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",i&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},$r,r)})(N),O=rt(_,n),M=I.root||h.Root||ao,D=k.root||p.root||{},F=(0,i.A)({className:W(L.root,D.className,u),disabled:v},C);let z=d||"li";return l&&(F.component=d||"div",F.focusVisibleClassName=W(Jr.focusVisible,w),z=en),P?(z=F.component||d?z:"div","li"===f&&("li"===z?z="div":"li"===F.component&&(F.component="div")),(0,$.jsx)(Wr.Provider,{value:j,children:(0,$.jsxs)(lo,(0,i.A)({as:f,className:W(L.container,m),ref:O,ownerState:N},A,{children:[(0,$.jsx)(M,(0,i.A)({},D,!_n(M)&&{as:z,ownerState:(0,i.A)({},N,D.ownerState)},F,{children:R})),R.pop()]}))})):(0,$.jsx)(Wr.Provider,{value:j,children:(0,$.jsxs)(M,(0,i.A)({},D,{as:z,ref:O},!_n(M)&&{ownerState:(0,i.A)({},N,D.ownerState)},F,{children:[R,S&&(0,$.jsx)(oo,{children:S})]}))})});function uo(e){return re("MuiListItemIcon",e)}const ho=oe("MuiListItemIcon",["root","alignItemsFlexStart"]),po=["className"],fo=fe("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})}),mo=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiListItemIcon"}),{className:o}=r,a=(0,s.A)(r,po),l=e.useContext(Wr),c=(0,i.A)({},r,{alignItems:l.alignItems}),u=(e=>{const{alignItems:t,classes:n}=e;return ce({root:["root","flex-start"===t&&"alignItemsFlexStart"]},uo,n)})(c);return(0,$.jsx)(fo,(0,i.A)({className:W(u.root,o),ownerState:c,ref:n},a))});function go(e){return re("MuiListItemText",e)}const vo=oe("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),yo=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],bo=fe("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(vo.primary)]:t.primary},{["& .".concat(vo.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(e=>{let{ownerState:t}=e;return(0,i.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})}),xo=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiListItemText"}),{children:o,className:a,disableTypography:l=!1,inset:c=!1,primary:u,primaryTypographyProps:d,secondary:h,secondaryTypographyProps:p}=r,f=(0,s.A)(r,yo),{dense:m}=e.useContext(Wr);let g=null!=u?u:o,v=h;const y=(0,i.A)({},r,{disableTypography:l,inset:c,primary:!!g,secondary:!!v,dense:m}),b=(e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:i}=e;return ce({root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},go,t)})(y);return null==g||g.type===Ce||l||(g=(0,$.jsx)(Ce,(0,i.A)({variant:m?"body2":"body1",className:b.primary,component:null!=d&&d.variant?void 0:"span",display:"block"},d,{children:g}))),null==v||v.type===Ce||l||(v=(0,$.jsx)(Ce,(0,i.A)({variant:"body2",className:b.secondary,color:"text.secondary",display:"block"},p,{children:v}))),(0,$.jsxs)(bo,(0,i.A)({className:W(b.root,a),ownerState:y,ref:n},f,{children:[g,v]}))});function wo(e){let{props:t,name:n,defaultTheme:r,themeId:o}=e,i=Y(r);o&&(i=i[o]||i);const s=function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?me(t.components[n].defaultProps,r):r}({theme:i,name:n,props:t});return s}const So=["ownerState"],Eo=["variants"],ko=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Io(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function Ao(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}const Co=(0,d.A)(),To=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function jo(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function _o(e){return e?(t,n)=>n[e]:null}function Ro(e,t,n){let{ownerState:r}=t,o=(0,s.A)(t,So);const a="function"===typeof e?e((0,i.A)({ownerState:r},o)):e;if(Array.isArray(a))return a.flatMap(e=>Ro(e,(0,i.A)({ownerState:r},o),n));if(a&&"object"===typeof a&&Array.isArray(a.variants)){const{variants:e=[]}=a;let t=(0,s.A)(a,Eo);return e.forEach(e=>{let s=!0;if("function"===typeof e.props?s=e.props((0,i.A)({ownerState:r},o,r)):Object.keys(e.props).forEach(t=>{(null==r?void 0:r[t])!==e.props[t]&&o[t]!==e.props[t]&&(s=!1)}),s){Array.isArray(t)||(t=[t]);const s="function"===typeof e.style?e.style((0,i.A)({ownerState:r},o,r)):e.style;t.push(n?Ao((0,H.internal_serializeStyles)(s),n):s)}}),t}return n?Ao((0,H.internal_serializeStyles)(a),n):a}const Po=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=Co,rootShouldForwardProp:r=Io,slotShouldForwardProp:o=Io}=e,a=e=>(0,u.A)((0,i.A)({},e,{theme:jo((0,i.A)({},e,{defaultTheme:n,themeId:t}))}));return a.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,H.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));const{name:u,slot:d,skipVariantsResolver:h,skipSx:p,overridesResolver:f=_o(To(d))}=c,m=(0,s.A)(c,ko),g=u&&u.startsWith("Mui")||d?"components":"custom",v=void 0!==h?h:d&&"Root"!==d&&"root"!==d||!1,y=p||!1;let b=Io;"Root"===d||"root"===d?b=r:d?b=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(b=void 0);const x=(0,H.default)(e,(0,i.A)({shouldForwardProp:b,label:undefined},m)),w=e=>"function"===typeof e&&e.__emotion_real!==e||(0,l.Q)(e)?r=>{const o=jo({theme:r.theme,defaultTheme:n,themeId:t});return Ro(e,(0,i.A)({},r,{theme:o}),o.modularCssLayers?g:void 0)}:e,S=function(r){let o=w(r);for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];const d=l?l.map(w):[];u&&f&&d.push(e=>{const r=jo((0,i.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[u]||!r.components[u].styleOverrides)return null;const o=r.components[u].styleOverrides,s={};return Object.entries(o).forEach(t=>{let[n,o]=t;s[n]=Ro(o,(0,i.A)({},e,{theme:r}),r.modularCssLayers?"theme":void 0)}),f(e,s)}),u&&!v&&d.push(e=>{var r;const o=jo((0,i.A)({},e,{defaultTheme:n,themeId:t}));return Ro({variants:null==o||null==(r=o.components)||null==(r=r[u])?void 0:r.variants},(0,i.A)({},e,{theme:o}),o.modularCssLayers?"theme":void 0)}),y||d.push(a);const h=d.length-l.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");o=[...r,...e],o.raw=[...r.raw,...e]}const p=x(o,...d);return e.muiName&&(p.muiName=e.muiName),p};return x.withConfig&&(S.withConfig=x.withConfig),S}}(),No=Po,Lo=["className","component","disableGutters","fixed","maxWidth","classes"],Oo=(0,d.A)(),Mo=No("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,xe.A)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),Do=e=>wo({props:e,name:"MuiContainer",defaultTheme:Oo});const Fo=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=Mo,useThemeProps:r=Do,componentName:o="MuiContainer"}=t,a=n(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})},e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce((e,n)=>{const r=n,o=t.breakpoints.values[r];return 0!==o&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(o).concat(t.breakpoints.unit)}),e},{})},e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}})}),l=e.forwardRef(function(e,t){const n=r(e),{className:l,component:c="div",disableGutters:u=!1,fixed:d=!1,maxWidth:h="lg"}=n,p=(0,s.A)(n,Lo),f=(0,i.A)({},n,{component:c,disableGutters:u,fixed:d,maxWidth:h}),m=((e,t)=>{const{classes:n,fixed:r,disableGutters:o,maxWidth:i}=e;return ce({root:["root",i&&"maxWidth".concat((0,xe.A)(String(i))),r&&"fixed",o&&"disableGutters"]},e=>re(t,e),n)})(f,o);return(0,$.jsx)(a,(0,i.A)({as:c,ownerState:f,className:W(m.root,l),ref:t},p))});return l}({createStyledComponent:fe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat(we(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>be({props:e,name:"MuiContainer"})}),zo=Fo;const Bo=e.createContext(null);function Vo(){return e.useContext(Bo)}const Uo="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const qo=function(t){const{children:n,theme:r}=t,o=Vo(),s=e.useMemo(()=>{const e=null===o?r:function(e,t){if("function"===typeof t)return t(e);return(0,i.A)({},e,t)}(o,r);return null!=e&&(e[Uo]=null!==o),e},[r,o]);return(0,$.jsx)(Bo.Provider,{value:s,children:n})};let Wo=0;const Ho=t["useId".toString()];function Go(t){if(void 0!==Ho){const e=Ho();return null!=t?t:e}return function(t){const[n,r]=e.useState(t),o=t||n;return e.useEffect(()=>{null==n&&(Wo+=1,r("mui-".concat(Wo)))},[n]),o}(t)}var Ko=n(869);function Qo(e){const t=(0,H.internal_serializeStyles)(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles="@layer global{".concat(t.styles,"}")),t):e}const Xo=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const o=Y(r),i=n&&o[n]||o;let s="function"===typeof t?t(i):t;return i.modularCssLayers&&(s=Array.isArray(s)?s.map(e=>Qo("function"===typeof e?e(i):e)):Qo(s)),(0,$.jsx)(Ko.A,{styles:s})};const Yo={};function $o(t,n,r){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.useMemo(()=>{const e=t&&n[t]||n;if("function"===typeof r){const s=r(e),a=t?(0,i.A)({},n,{[t]:s}):s;return o?()=>a:a}return t?(0,i.A)({},n,{[t]:r}):(0,i.A)({},n,r)},[t,n,r,o])}const Jo=function(e){const{children:t,theme:n,themeId:r}=e,o=Q(Yo),i=Vo()||Yo,s=$o(r,o,n),a=$o(r,i,n,!0),l="rtl"===s.direction,c=function(e){const t=Q(),n=Go()||"",{modularCssLayers:r}=e;let o="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return o=r&&null===t?"string"===typeof r?r.replace(/mui(?!\.)/g,o):"@layer ".concat(o,";"):"",ot(()=>{const e=document.querySelector("head");if(!e)return;const t=e.firstChild;if(o){var r;if(t&&null!=(r=t.hasAttribute)&&r.call(t,"data-mui-layer-order")&&t.getAttribute("data-mui-layer-order")===n)return;const i=document.createElement("style");i.setAttribute("data-mui-layer-order",n),i.textContent=o,e.prepend(i)}else{var i;null==(i=e.querySelector('style[data-mui-layer-order="'.concat(n,'"]')))||i.remove()}},[o,n]),o?(0,$.jsx)(Xo,{styles:o}):null}(s);return(0,$.jsx)(qo,{theme:a,children:(0,$.jsx)(K.T.Provider,{value:s,children:(0,$.jsx)(jn,{value:l,children:(0,$.jsxs)(ye,{value:null==s?void 0:s.components,children:[c,t]})})})})},Zo=["theme"];function ei(e){let{theme:t}=e,n=(0,s.A)(e,Zo);const r=t[te];let o=r||t;return"function"!==typeof t&&(r&&!r.vars?o=(0,i.A)({},r,{vars:null}):t&&!t.vars&&(o=(0,i.A)({},t,{vars:null}))),(0,$.jsx)(Jo,(0,i.A)({},n,{themeId:r?te:void 0,theme:o}))}const ti=function(e){return(0,$.jsx)(Xo,(0,i.A)({},e,{defaultTheme:de,themeId:te}))},ni=(e,t)=>(0,i.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),ri=e=>(0,i.A)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const oi=function(t){const n=be({props:t,name:"MuiCssBaseline"}),{children:r,enableColorScheme:o=!1}=n;return(0,$.jsxs)(e.Fragment,{children:[(0,$.jsx)(ti,{styles:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(t=>{let[n,o]=t;var i;r[e.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(i=o.palette)?void 0:i.mode}});let o=(0,i.A)({html:ni(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,i.A)({margin:0},ri(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const s=null==(n=e.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return s&&(o=[o,s]),o}(e,o)}),r]})};function ii(e){return re("MuiSvgIcon",e)}oe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const si=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],ai=fe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(we(n.color))],t["fontSize".concat(we(n.fontSize))]]}})(e=>{let{theme:t,ownerState:n}=e;var r,o,i,s,a,l,c,u,d,h,p,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(o=r.create)?void 0:o.call(r,"fill",{duration:null==(i=t.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[n.color])?void 0:p.main)?h:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}}),li=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiSvgIcon"}),{children:o,className:a,color:l="inherit",component:c="svg",fontSize:u="medium",htmlColor:d,inheritViewBox:h=!1,titleAccess:p,viewBox:f="0 0 24 24"}=r,m=(0,s.A)(r,si),g=e.isValidElement(o)&&"svg"===o.type,v=(0,i.A)({},r,{color:l,component:c,fontSize:u,instanceFontSize:t.fontSize,inheritViewBox:h,viewBox:f,hasSvgAsChild:g}),y={};h||(y.viewBox=f);const b=(e=>{const{color:t,fontSize:n,classes:r}=e;return ce({root:["root","inherit"!==t&&"color".concat(we(t)),"fontSize".concat(we(n))]},ii,r)})(v);return(0,$.jsxs)(ai,(0,i.A)({as:c,className:W(b.root,a),focusable:"false",color:d,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:n},y,m,g&&o.props,{ownerState:v,children:[g?o.props.children:o,p?(0,$.jsx)("title",{children:p}):null]}))});li.muiName="SvgIcon";const ci=li;function ui(t,n){function r(e,r){return(0,$.jsx)(ci,(0,i.A)({"data-testid":"".concat(n,"Icon"),ref:r},e,{children:t}))}return r.muiName=ci.muiName,e.memo(e.forwardRef(r))}const di=ui((0,$.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),hi=ui((0,$.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Assessment"),pi=ui((0,$.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),fi=ui((0,$.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"}),"VolumeUp"),mi=ui([(0,$.jsx)("path",{d:"M13 8.57c-.79 0-1.43.64-1.43 1.43s.64 1.43 1.43 1.43 1.43-.64 1.43-1.43-.64-1.43-1.43-1.43"},"0"),(0,$.jsx)("path",{d:"M13 3C9.25 3 6.2 5.94 6.02 9.64L4.1 12.2c-.25.33-.01.8.4.8H6v3c0 1.1.9 2 2 2h1v3h7v-4.68c2.36-1.12 4-3.53 4-6.32 0-3.87-3.13-7-7-7m3 7c0 .13-.01.26-.02.39l.83.66c.08.06.1.16.05.25l-.8 1.39c-.05.09-.16.12-.24.09l-.99-.4c-.21.16-.43.29-.67.39L14 13.83c-.01.1-.1.17-.2.17h-1.6c-.1 0-.18-.07-.2-.17l-.15-1.06c-.25-.1-.47-.23-.68-.39l-.99.4c-.09.03-.2 0-.25-.09l-.8-1.39c-.05-.08-.03-.19.05-.25l.84-.66c-.01-.13-.02-.26-.02-.39s.02-.27.04-.39l-.85-.66c-.08-.06-.1-.16-.05-.26l.8-1.38c.05-.09.15-.12.24-.09l1 .4c.2-.15.43-.29.67-.39L12 6.17c.02-.1.1-.17.2-.17h1.6c.1 0 .18.07.2.17l.15 1.06c.24.1.46.23.67.39l1-.4c.09-.03.2 0 .24.09l.8 1.38c.05.09.03.2-.05.26l-.85.66c.03.12.04.25.04.39"},"1")],"Psychology"),gi=ui((0,$.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),vi=ui((0,$.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp");var yi,bi=n(6667),xi=n(7064),wi=n(8557),Si=n(6068),Ei=n(3069);const ki="undefined"!==typeof window.Capacitor,Ii=ki?null===(yi=window.Capacitor)||void 0===yi?void 0:yi.getPlatform():"web";let Ai=null,Ci=null,Ti=null,ji=null;try{Ai=(0,xi.Wp)(Ei.x),Ci=(0,bi.aU)(Ai),Ti=(0,wi.xI)(Ai),ji=(0,Si.c7)(Ai),console.log("\u2705 Firebase initialis\xe9 avec succ\xe8s (".concat(Ii,")"))}catch(Ag){const e=Ag instanceof Error?Ag.message:String(Ag);console.error("\u274c Erreur Firebase (".concat(Ii,"):"),e),ki&&console.warn("Mode offline activ\xe9 pour Capacitor")}const _i=()=>!!Ti&&!!Ti.currentUser,Ri=e=>{if(!e)return null;const t=(0,o.A)({},e);return Object.keys(t).forEach(e=>{t[e]instanceof bi.Dc?t[e]=t[e].toDate():t[e]&&"object"===typeof t[e]&&!Array.isArray(t[e])&&(t[e]=Ri(t[e]))}),t},Pi=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!Ci)return console.warn("Firestore n'est pas initialis\xe9"),[];try{const n=(0,bi.rJ)(Ci,e),r=t.length>0?(0,bi.P)(n,...t):(0,bi.P)(n),i=await(0,bi.GG)(r),s=[];return i.forEach(e=>{const t=e.data();s.push(Ri((0,o.A)((0,o.A)({},t),{},{id:e.id})))}),s}catch(Ag){var n,r,i,s;if("unavailable"===Ag.code||"failed-precondition"===Ag.code||"permission-denied"===Ag.code||"unauthenticated"===Ag.code||null!==(n=Ag.message)&&void 0!==n&&n.includes("offline")||null!==(r=Ag.message)&&void 0!==r&&r.includes("network")||null!==(i=Ag.message)&&void 0!==i&&i.includes("permission")||null!==(s=Ag.message)&&void 0!==s&&s.includes("authenticated"))return[];throw console.error("Erreur lors de la r\xe9cup\xe9ration des documents ".concat(e,":"),Ag),Ag}},Ni=async(e,t,n)=>{if(!Ci)return void console.warn("Firestore n'est pas initialis\xe9");if(!_i()||!Ti||!Ti.currentUser)throw new Error("Utilisateur non authentifie. Impossible de sauvegarder dans Firestore.");const r=null===Ti||void 0===Ti?void 0:Ti.currentUser;if("users"===e&&r&&t!==r.uid)throw new Error("UID mismatch: documentId=".concat(t,", auth.uid=").concat(r.uid));try{var i;console.log("\ud83d\udcdd [setDocument] Pr\xe9paration sauvegarde: ".concat(e,"/").concat(t),{authUid:null===(i=Ti.currentUser)||void 0===i?void 0:i.uid,dataKeys:Object.keys(n||{}),dataSize:JSON.stringify(n).length});const r=(0,bi.H9)(Ci,e,t);console.log("\ud83d\udd04 [setDocument] Conversion des dates...");const s=(0,o.A)({},n);let a=0;Object.keys(s).forEach(e=>{if(s[e]instanceof Date)s[e]=bi.Dc.fromDate(s[e]),a++;else if(s[e]&&"string"===typeof s[e]&&s[e].match(/^\d{4}-\d{2}-\d{2}T/))try{s[e]=bi.Dc.fromDate(new Date(s[e])),a++}catch(t){console.warn("\u26a0\ufe0f [setDocument] Impossible de convertir la date pour ".concat(e,":"),s[e])}}),console.log("\u2705 [setDocument] ".concat(a," date(s) convertie(s)")),"users"===e&&(s.email?console.log("\u2705 [setDocument] Email pr\xe9sent:",s.email):console.warn("\u26a0\ufe0f [setDocument] Tentative de sauvegarde utilisateur sans email:",{id:s.id,keys:Object.keys(s)})),console.log("\ud83d\udcbe [setDocument] \xc9criture dans Firestore..."),await(0,bi.BN)(r,(0,o.A)((0,o.A)({},s),{},{updatedAt:bi.Dc.now()}),{merge:!0}),console.log("\u2705 [setDocument] Document sauvegard\xe9 avec succ\xe8s: ".concat(e,"/").concat(t))}catch(Ag){var s,a;const o={code:Ag.code,message:Ag.message,stack:Ag.stack,collection:e,documentId:t,authUid:(null===(s=Ti.currentUser)||void 0===s?void 0:s.uid)||"non authentifi\xe9",authEmail:(null===(a=Ti.currentUser)||void 0===a?void 0:a.email)||"non d\xe9fini",dataKeys:Object.keys(n||{}),dataSample:"users"===e?{id:null===n||void 0===n?void 0:n.id,email:null===n||void 0===n?void 0:n.email,currentLevel:null===n||void 0===n?void 0:n.currentLevel}:"N/A",errorObject:Ag};var l;if(console.error("\u274c [setDocument] Erreur lors de la sauvegarde du document ".concat(e,"/").concat(t,":"),o),"permission-denied"===Ag.code)console.error("\ud83d\udd12 [setDocument] Permission refus\xe9e. V\xe9rifiez que:"),console.error("  1. Les r\xe8gles Firestore sont d\xe9ploy\xe9es dans Firebase Console"),console.error("  2. L'utilisateur est authentifi\xe9 (auth.uid:",null===(l=Ti.currentUser)||void 0===l?void 0:l.uid,")"),console.error("  3. Le documentId correspond \xe0 auth.uid pour la collection users"),console.error("  4. Le token Firebase est valide (non expir\xe9)");else"unauthenticated"===Ag.code?(console.error("\ud83d\udd10 [setDocument] Utilisateur non authentifi\xe9. V\xe9rifiez que:"),console.error("  1. L'utilisateur est connect\xe9 via Firebase Auth"),console.error("  2. Le token Firebase est valide")):Ag.code&&console.error("\u26a0\ufe0f [setDocument] Code d'erreur Firebase: ".concat(Ag.code));throw Ag}},Li=async function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"asc",i=arguments.length>5?arguments[5]:void 0;const s=[(0,bi._M)(t,"==",n)];return r&&s.push((0,bi.My)(r,o)),i&&s.push((0,bi.AB)(i)),Pi(e,s)},Oi="users",Mi=e=>({id:e.id,name:e.email||"".concat(e.firstName||""," ").concat(e.lastName||"").trim()||"Utilisateur",currentLevel:e.currentLevel,targetLevel:e.targetLevel,strengths:[],weaknesses:e.weaknesses||[],completedExercises:e.completedExercises||0,totalScore:e.totalScore||0,createdAt:e.createdAt,lastActivity:e.lastActivity||e.updatedAt}),Di=async e=>{const t=await(async(e,t)=>{if(!Ci)return console.warn("Firestore n'est pas initialis\xe9"),null;try{const n=(0,bi.H9)(Ci,e,t),r=await(0,bi.x7)(n);if(r.exists()){const e=r.data();return Ri((0,o.A)((0,o.A)({},e),{},{id:r.id}))}return null}catch(Ag){var n,r,i,s;if("unavailable"===Ag.code||"failed-precondition"===Ag.code||"permission-denied"===Ag.code||"unauthenticated"===Ag.code||null!==(n=Ag.message)&&void 0!==n&&n.includes("offline")||null!==(r=Ag.message)&&void 0!==r&&r.includes("network")||null!==(i=Ag.message)&&void 0!==i&&i.includes("permission")||null!==(s=Ag.message)&&void 0!==s&&s.includes("authenticated"))return null;throw console.error("Erreur lors de la r\xe9cup\xe9ration du document ".concat(e,"/").concat(t,":"),Ag),Ag}})(Oi,e);return t?Mi(t):null},Fi=async e=>{console.log("\ud83d\udcbe [saveUser] D\xe9but sauvegarde utilisateur:",{userId:e.id,email:e.email,name:e.name});try{if(!e.id){const e=new Error("L'utilisateur doit avoir un ID pour \xeatre sauvegard\xe9 dans Firestore");throw console.error("\u274c [saveUser]",e.message),e}console.log("\ud83d\udd04 [saveUser] Conversion en FirestoreUser...");const t=(e=>{const t=e.email||e.name||"";return{id:e.id,email:t,firstName:e.firstName,lastName:e.lastName,currentLevel:e.currentLevel,targetLevel:e.targetLevel,weaknesses:e.weaknesses,completedExercises:e.completedExercises,totalScore:e.totalScore,createdAt:e.createdAt instanceof Date?e.createdAt:new Date(e.createdAt||Date.now()),updatedAt:new Date,lastActivity:e.lastActivity instanceof Date?e.lastActivity:e.lastActivity?new Date(e.lastActivity):void 0}})(e);console.log("\u2705 [saveUser] Conversion r\xe9ussie:",{id:t.id,email:t.email,hasFirstName:!!t.firstName,hasLastName:!!t.lastName});const n=t.email||e.email||"";if(!n){const t=new Error("L'utilisateur doit avoir un email pour \xeatre sauvegard\xe9 dans Firestore");throw console.error("\u274c [saveUser]",t.message,{userData:{id:e.id,name:e.name,hasEmail:!!e.email}}),t}console.log("\ud83d\udd27 [saveUser] Construction des donn\xe9es Firestore...");const r=(0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)({id:e.id,email:n,currentLevel:e.currentLevel,targetLevel:e.targetLevel,createdAt:t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt||Date.now()),updatedAt:new Date},t.firstName&&{firstName:t.firstName}),t.lastName&&{lastName:t.lastName}),e.weaknesses&&e.weaknesses.length>0&&{weaknesses:e.weaknesses}),void 0!==e.completedExercises&&{completedExercises:e.completedExercises}),void 0!==e.totalScore&&{totalScore:e.totalScore}),t.lastActivity&&{lastActivity:t.lastActivity instanceof Date?t.lastActivity:new Date(t.lastActivity)});console.log("\ud83d\udcbe [saveUser] Donn\xe9es pr\xe9par\xe9es:",{userId:e.id,email:n,currentLevel:r.currentLevel,targetLevel:r.targetLevel,dataKeys:Object.keys(r)}),console.log("\ud83c\udf10 [saveUser] Appel setDocument..."),await Ni(Oi,e.id,r),console.log("\u2705 [saveUser] Utilisateur sauvegard\xe9 avec succ\xe8s dans Firestore")}catch(Ag){throw console.error("\u274c [saveUser] Erreur lors de la sauvegarde:",{code:Ag.code,message:Ag.message,stack:Ag.stack,userId:e.id,email:e.email,error:Ag}),Ag}},zi=async(e,t)=>{const n={};t.currentLevel&&(n.currentLevel=t.currentLevel),t.targetLevel&&(n.targetLevel=t.targetLevel),t.weaknesses&&(n.weaknesses=t.weaknesses),void 0!==t.completedExercises&&(n.completedExercises=t.completedExercises),void 0!==t.totalScore&&(n.totalScore=t.totalScore),t.lastActivity&&(n.lastActivity=t.lastActivity),await(async(e,t,n)=>{if(Ci){if(!_i()||!Ti||!Ti.currentUser)throw new Error("Utilisateur non authentifie. Impossible de mettre a jour dans Firestore.");try{var r;console.log("\ud83d\udcdd [updateDocument] Pr\xe9paration mise \xe0 jour: ".concat(e,"/").concat(t),{authUid:null===Ti||void 0===Ti||null===(r=Ti.currentUser)||void 0===r?void 0:r.uid,dataKeys:Object.keys(n||{}),dataSize:JSON.stringify(n).length});const i=(0,bi.H9)(Ci,e,t);console.log("\ud83d\udd04 [updateDocument] Conversion des dates...");const s=(0,o.A)({},n);let a=0;Object.keys(s).forEach(e=>{if(s[e]instanceof Date)s[e]=bi.Dc.fromDate(s[e]),a++;else if(s[e]&&"string"===typeof s[e]&&s[e].match(/^\d{4}-\d{2}-\d{2}T/))try{s[e]=bi.Dc.fromDate(new Date(s[e])),a++}catch(t){console.warn("\u26a0\ufe0f [updateDocument] Impossible de convertir la date pour ".concat(e,":"),s[e])}}),console.log("\u2705 [updateDocument] ".concat(a," date(s) convertie(s)")),console.log("\ud83d\udcbe [updateDocument] Mise \xe0 jour dans Firestore..."),await(0,bi.mZ)(i,(0,o.A)((0,o.A)({},s),{},{updatedAt:bi.Dc.now()})),console.log("\u2705 [updateDocument] Document mis \xe0 jour avec succ\xe8s: ".concat(e,"/").concat(t))}catch(Ag){var i;throw console.error("\u274c [updateDocument] Erreur lors de la mise \xe0 jour du document ".concat(e,"/").concat(t,":"),{code:Ag.code,message:Ag.message,stack:Ag.stack,collection:e,documentId:t,authUid:(null===(i=Ti.currentUser)||void 0===i?void 0:i.uid)||"non authentifi\xe9",dataKeys:Object.keys(n||{}),error:Ag}),Ag}}else console.warn("Firestore n'est pas initialis\xe9")})(Oi,e,n)},Bi="userProgress",Vi=e=>({exerciseId:e.exerciseId,questionId:e.questionId,answer:e.userAnswer,isCorrect:e.isCorrect,timeSpent:e.timeSpent,timestamp:e.completedAt}),Ui=async(e,t)=>(await Li(Bi,"userId",e,"completedAt","desc",t)).map(Vi),qi=async(e,t,n,r,i,s)=>{const a="".concat(e,"_").concat(n,"_").concat(t.questionId,"_").concat(Date.now()),l=((e,t,n,r,o,i)=>({userId:e,exerciseId:n,exerciseType:r,questionId:t.questionId||t.exerciseId,userAnswer:t.answer,isCorrect:t.isCorrect,timeSpent:t.timeSpent,score:t.isCorrect?100:0,level:o,domain:i,completedAt:t.timestamp}))(e,t,n,r,i,s);return await Ni(Bi,a,(0,o.A)((0,o.A)({},l),{},{createdAt:new Date,updatedAt:new Date})),a},Wi="assessmentResults",Hi=async(e,t)=>await Li(Wi,"userId",e,"completedAt","desc",t),Gi=async e=>{const t="".concat(e.userId,"_").concat(e.assessmentType,"_").concat(Date.now()),n=(e=>({userId:e.userId,assessmentType:e.assessmentType,testType:e.testType,level:e.level,totalQuestions:e.totalQuestions,correctAnswers:e.correctAnswers,listeningScore:e.listeningScore,readingScore:e.readingScore,writingScore:e.writingScore,speakingScore:e.speakingScore,overallScore:e.overallScore,assessedLevel:e.assessedLevel,weakAreas:e.weakAreas,strongAreas:e.strongAreas,answers:e.answers,completedAt:new Date}))(e);return await Ni(Wi,t,(0,o.A)((0,o.A)({},n),{},{createdAt:new Date,updatedAt:new Date})),t};var Ki=n(5403);const Qi=(0,Ki.F3)("Preferences",{web:()=>n.e(828).then(n.bind(n,828)).then(e=>new e.PreferencesWeb)}),Xi="undefined"!==typeof window.Capacitor,Yi=Xi?{get:async e=>{try{const{value:t}=await Qi.get({key:e});return t}catch(Ag){return console.error("Erreur lors de la lecture de ".concat(e,":"),Ag),null}},set:async(e,t)=>{try{await Qi.set({key:e,value:t})}catch(Ag){throw console.error("Erreur lors de l'\xe9criture de ".concat(e,":"),Ag),Ag}},remove:async e=>{try{await Qi.remove({key:e})}catch(Ag){throw console.error("Erreur lors de la suppression de ".concat(e,":"),Ag),Ag}},clear:async()=>{try{await Qi.clear()}catch(Ag){throw console.error("Erreur lors du nettoyage du stockage:",Ag),Ag}},keys:async()=>{try{const{keys:e}=await Qi.keys();return e}catch(Ag){return console.error("Erreur lors de la r\xe9cup\xe9ration des cl\xe9s:",Ag),[]}}}:{get:async e=>{try{return localStorage.getItem(e)}catch(Ag){return console.error("Erreur lors de la lecture de ".concat(e,":"),Ag),null}},set:async(e,t)=>{try{localStorage.setItem(e,t)}catch(Ag){if(console.error("Erreur lors de l'\xe9criture de ".concat(e,":"),Ag),Ag instanceof DOMException&&22===Ag.code)throw new Error("Quota de stockage d\xe9pass\xe9. Veuillez lib\xe9rer de l'espace.");throw Ag}},remove:async e=>{try{localStorage.removeItem(e)}catch(Ag){throw console.error("Erreur lors de la suppression de ".concat(e,":"),Ag),Ag}},clear:async()=>{try{localStorage.clear()}catch(Ag){throw console.error("Erreur lors du nettoyage du stockage:",Ag),Ag}},keys:async()=>{try{return Object.keys(localStorage)}catch(Ag){return console.error("Erreur lors de la r\xe9cup\xe9ration des cl\xe9s:",Ag),[]}}},$i={TOKEN:"token",FIREBASE_USER:"firebaseUser",USER:"user",USER_PROFILE:"userProfile",PENDING_USER:"pendingUser",USER_RESPONSES:"userResponses",LEVEL_ASSESSED:"levelAssessed",EFSET_RESULTS:"efsetResults",TOEIC_RESULTS:"toeicResults",TOEFL_RESULTS:"toeflResults",LAST_TEST_TYPE:"lastTestType",SYNC_QUEUE:"syncQueue",LAST_SYNC:"lastSync",FIREBASE_AUTH_PERSISTENCE:"firebaseAuthPersistence"},Ji={get:async e=>{const t=await Yi.get(e);if(null===t)return null;try{return JSON.parse(t)}catch(n){return t}},set:async(e,t)=>{const n="string"===typeof t?t:JSON.stringify(t);await Yi.set(e,n)},remove:async e=>{await Yi.remove(e)},clear:async()=>{await Yi.clear()},keys:async()=>await Yi.keys(),has:async e=>null!==await Yi.get(e),getMultiple:async e=>{const t={};return await Promise.all(e.map(async e=>{t[e]=await Ji.get(e)})),t},setMultiple:async e=>{await Promise.all(Object.entries(e).map(e=>{let[t,n]=e;return Ji.set(t,n)}))},removeMultiple:async e=>{await Promise.all(e.map(e=>Yi.remove(e)))},getSize:async()=>{if(Xi){const e=await Yi.keys();let t=0;for(const n of e){const e=await Yi.get(n);e&&(t+=n.length+e.length)}return t}{let e=0;for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n){const t=localStorage.getItem(n);t&&(e+=n.length+t.length)}}return e}}};var Zi=n(83);const es=3e5,ts=async e=>{try{const t=await ns();t.push(e),await Ji.set($i.SYNC_QUEUE,t)}catch(Ag){console.error("Erreur lors de l'ajout \xe0 la queue de synchronisation:",Ag)}},ns=async()=>{try{const e=await Ji.get($i.SYNC_QUEUE);return Array.isArray(e)?e:[]}catch(Ag){return console.error("Erreur lors de la r\xe9cup\xe9ration de la queue de synchronisation:",Ag),[]}},rs=async e=>{console.log("\ud83d\udd04 [syncUser] D\xe9but synchronisation utilisateur:",{userId:e.id,email:e.email||"non d\xe9fini",name:e.name});try{if(console.log("\ud83d\udcbe [syncUser] Sauvegarde locale..."),await Ji.setMultiple({[$i.USER]:e,[$i.USER_PROFILE]:e}),console.log("\u2705 [syncUser] Sauvegarde locale r\xe9ussie"),console.log("\ud83d\udccb [syncUser] Ajout \xe0 la queue de synchronisation..."),await ts({type:"user",action:"create",data:e,timestamp:Date.now()}),console.log("\u2705 [syncUser] Ajout\xe9 \xe0 la queue"),console.log("\ud83d\udd0d [syncUser] V\xe9rification authentification..."),!Zi.j2.currentUser)return void console.warn("\u26a0\ufe0f [syncUser] Utilisateur non authentifi\xe9. Synchronisation report\xe9e.");if(console.log("\ud83d\udd0d [syncUser] V\xe9rification UID...",{authUid:Zi.j2.currentUser.uid,userUid:e.id}),Zi.j2.currentUser.uid!==e.id)return void console.warn("\u26a0\ufe0f [syncUser] UID mismatch: auth.uid=".concat(Zi.j2.currentUser.uid,", user.id=").concat(e.id,". Synchronisation report\xe9e."));const n=e.email||e.name;if(console.log("\ud83d\udd0d [syncUser] V\xe9rification email...",{email:n}),!n)return void console.warn("\u26a0\ufe0f [syncUser] Utilisateur sans email. Synchronisation report\xe9e.");try{console.log("\ud83c\udf10 [syncUser] Tentative de sauvegarde dans Firestore..."),await Fi(e),console.log("\u2705 [syncUser] Utilisateur synchronis\xe9 avec Firestore avec succ\xe8s")}catch(Ag){var t;console.error("\u274c [syncUser] Erreur lors de la synchronisation utilisateur avec Firestore:",{code:Ag.code,message:Ag.message,stack:Ag.stack,userId:e.id,authUid:null===(t=Zi.j2.currentUser)||void 0===t?void 0:t.uid,email:e.email,errorDetails:Ag})}}catch(Ag){throw console.error("\u274c [syncUser] Erreur critique lors de la sauvegarde utilisateur:",{message:Ag.message,stack:Ag.stack,userId:e.id,error:Ag}),Ag}},os=async()=>{if(console.log("\ud83d\udd04 [processSyncQueue] D\xe9but traitement de la queue..."),!Zi.j2.currentUser)return void console.debug("\u26a0\ufe0f [processSyncQueue] Utilisateur non authentifi\xe9. Traitement annul\xe9.");console.log("\ud83d\udd0d [processSyncQueue] R\xe9cup\xe9ration de la queue...",{authUid:Zi.j2.currentUser.uid});const e=await ns();if(console.log("\ud83d\udccb [processSyncQueue] Queue r\xe9cup\xe9r\xe9e: ".concat(e.length," \xe9l\xe9ment(s)")),0===e.length)return void console.log("\u2705 [processSyncQueue] Queue vide, rien \xe0 traiter");const t=[];let n=0,r=0;for(const a of e){console.log("\ud83d\udd04 [processSyncQueue] Traitement \xe9l\xe9ment:",{type:a.type,action:a.action,timestamp:a.timestamp});try{switch(a.type){case"user":console.log("\ud83d\udc64 [processSyncQueue] Synchronisation utilisateur..."),"create"===a.action?(await Fi(a.data),console.log("\u2705 [processSyncQueue] Utilisateur cr\xe9\xe9")):"update"===a.action&&(await zi(a.data.userId,a.data.updates),console.log("\u2705 [processSyncQueue] Utilisateur mis \xe0 jour"));break;case"progress":console.log("\ud83d\udcca [processSyncQueue] Synchronisation progression..."),"create"===a.action&&(await qi(a.data.userId,a.data.progress,a.data.exerciseId,a.data.exerciseType,a.data.level,a.data.domain),console.log("\u2705 [processSyncQueue] Progression sauvegard\xe9e"));break;case"assessment":console.log("\ud83d\udcdd [processSyncQueue] Synchronisation \xe9valuation..."),"create"===a.action&&(await Gi(a.data),console.log("\u2705 [processSyncQueue] \xc9valuation sauvegard\xe9e"))}t.push(a.timestamp),n++,console.log("\u2705 [processSyncQueue] \xc9l\xe9ment trait\xe9 avec succ\xe8s (".concat(n,"/").concat(e.length,")"))}catch(Ag){var o,i;if(r++,console.error("\u274c [processSyncQueue] Erreur lors du traitement de l'\xe9l\xe9ment:",{type:a.type,action:a.action,timestamp:a.timestamp,code:Ag.code,message:Ag.message,stack:Ag.stack,error:Ag}),"permission-denied"===Ag.code||"unauthenticated"===Ag.code||null!==(o=Ag.message)&&void 0!==o&&o.includes("permission")||null!==(i=Ag.message)&&void 0!==i&&i.includes("authenticated")){console.warn("\u26a0\ufe0f [processSyncQueue] Erreur d'authentification. L'\xe9l\xe9ment reste dans la queue.");continue}console.warn("\u26a0\ufe0f [processSyncQueue] L'\xe9l\xe9ment reste dans la queue pour r\xe9essai ult\xe9rieur")}}if(console.log("\ud83d\udcca [processSyncQueue] Traitement termin\xe9: ".concat(n," succ\xe8s, ").concat(r," erreurs")),t.length>0){console.log("\ud83e\uddf9 [processSyncQueue] Nettoyage de la queue: ".concat(t.length," \xe9l\xe9ment(s) trait\xe9(s)"));const n=e.filter(e=>!t.includes(e.timestamp));0===n.length?(await(async()=>{await Ji.remove($i.SYNC_QUEUE)})(),console.log("\u2705 [processSyncQueue] Queue vid\xe9e")):(await Ji.set($i.SYNC_QUEUE,n),console.log("\u2705 [processSyncQueue] Queue mise \xe0 jour: ".concat(n.length," \xe9l\xe9ment(s) restant(s)")))}else console.log("\u2139\ufe0f [processSyncQueue] Aucun \xe9l\xe9ment trait\xe9, queue inchang\xe9e");const s=Date.now();await Ji.set($i.LAST_SYNC,s),console.log("\u2705 [processSyncQueue] Derni\xe8re synchronisation marqu\xe9e: ".concat(new Date(s).toISOString()))},is=async e=>{if(console.log("\ud83d\udd04 [syncFromFirestore] D\xe9but synchronisation depuis Firestore pour userId: ".concat(e)),Zi.j2.currentUser)if(Zi.j2.currentUser.uid===e)try{console.log("\ud83d\udce5 [syncFromFirestore] R\xe9cup\xe9ration utilisateur depuis Firestore...");const t=await Di(e);t?(console.log("\u2705 [syncFromFirestore] Utilisateur r\xe9cup\xe9r\xe9:",{id:t.id,name:t.name,level:t.currentLevel}),await Ji.setMultiple({[$i.USER]:t,[$i.USER_PROFILE]:t}),console.log("\u2705 [syncFromFirestore] Utilisateur sauvegard\xe9 localement")):console.warn("\u26a0\ufe0f [syncFromFirestore] Aucun utilisateur trouv\xe9 dans Firestore"),console.log("\ud83d\udcca [syncFromFirestore] R\xe9cup\xe9ration progression...");const n=await Ui(e);console.log("\ud83d\udcca [syncFromFirestore] ".concat(n.length," \xe9l\xe9ment(s) de progression r\xe9cup\xe9r\xe9(s)")),n.length>0&&(await Ji.set($i.USER_RESPONSES,n),console.log("\u2705 [syncFromFirestore] Progression sauvegard\xe9e localement")),console.log("\ud83d\udcdd [syncFromFirestore] R\xe9cup\xe9ration \xe9valuations...");const r=await Hi(e);console.log("\ud83d\udcdd [syncFromFirestore] ".concat(r.length," \xe9valuation(s) r\xe9cup\xe9r\xe9e(s)"));const o={};r.forEach(e=>{const t=e.testType||e.assessmentType,n="efset"===t?$i.EFSET_RESULTS:"toeic"===t?$i.TOEIC_RESULTS:"toefl"===t?$i.TOEFL_RESULTS:"".concat(t,"Results");o[n]=e}),Object.keys(o).length>0&&(await Ji.setMultiple(o),console.log("\u2705 [syncFromFirestore] \xc9valuations sauvegard\xe9es localement"));const i=Date.now();await Ji.set($i.LAST_SYNC,i),console.log("\u2705 [syncFromFirestore] Synchronisation termin\xe9e \xe0 ".concat(new Date(i).toISOString()))}catch(Ag){var t,n,r;if(console.error("\u274c [syncFromFirestore] Erreur lors de la synchronisation depuis Firestore:",{code:Ag.code,message:Ag.message,stack:Ag.stack,userId:e,authUid:null===(t=Zi.j2.currentUser)||void 0===t?void 0:t.uid,error:Ag}),"unavailable"===Ag.code||"failed-precondition"===Ag.code||null!==(n=Ag.message)&&void 0!==n&&n.includes("offline")||null!==(r=Ag.message)&&void 0!==r&&r.includes("network"))return void console.warn("\u26a0\ufe0f [syncFromFirestore] Client offline. Synchronisation report\xe9e.");throw Ag}else console.warn("\u26a0\ufe0f [syncFromFirestore] UID mismatch: auth.uid=".concat(Zi.j2.currentUser.uid,", userId=").concat(e,". Synchronisation annul\xe9e."));else console.warn("\u26a0\ufe0f [syncFromFirestore] Utilisateur non authentifi\xe9. Synchronisation annul\xe9e.")},ss=async()=>{const e=await Ji.get($i.LAST_SYNC);if(!e)return!0;return Date.now()-e>es},as=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:es;console.log("\ud83d\udd04 [startAutoSync] D\xe9marrage synchronisation automatique pour userId: ".concat(e),{interval:t/1e3+"s"});const n=setInterval(async()=>{try{if(console.log("\u23f0 [startAutoSync] Cycle de synchronisation..."),!Zi.j2.currentUser)return void console.debug("\u26a0\ufe0f [startAutoSync] Utilisateur non authentifi\xe9. Synchronisation annul\xe9e.");if(Zi.j2.currentUser.uid!==e)return void console.warn("\u26a0\ufe0f [startAutoSync] UID mismatch: auth.uid=".concat(Zi.j2.currentUser.uid,", userId=").concat(e,". Synchronisation annul\xe9e."));console.log("\ud83d\udd0d [startAutoSync] V\xe9rification besoin de synchronisation...");const t=await ss();console.log("\ud83d\udcca [startAutoSync] Besoin de synchronisation: ".concat(t)),t?(console.log("\ud83d\udd04 [startAutoSync] Traitement de la queue..."),await os(),console.log("\ud83d\udd04 [startAutoSync] Synchronisation depuis Firestore..."),await is(e),console.log("\u2705 [startAutoSync] Cycle de synchronisation termin\xe9")):console.debug("\u2139\ufe0f [startAutoSync] Pas besoin de synchronisation pour le moment")}catch(Ag){var t;console.error("\u274c [startAutoSync] Erreur lors du cycle de synchronisation:",{code:Ag.code,message:Ag.message,stack:Ag.stack,userId:e,authUid:null===(t=Zi.j2.currentUser)||void 0===t?void 0:t.uid,error:Ag})}},t);return console.log("\u2705 [startAutoSync] Synchronisation automatique d\xe9marr\xe9e"),()=>clearInterval(n)},ls=(0,e.createContext)(void 0),cs=t=>{let{children:r}=t;const[i,s]=(0,e.useState)(null),[a,l]=(0,e.useState)(null),[c,u]=(0,e.useState)([]),[d,h]=(0,e.useState)({totalExercises:0,completedExercises:0,averageScore:0,timeSpent:0,streakDays:0,levelProgress:{},domainProgress:{}}),p=(0,e.useRef)(null),[f,m]=(0,e.useState)(!1);(0,e.useEffect)(()=>{(async()=>{try{await(async()=>{if(Xi)try{const e=Object.values($i);let t=0;for(const n of e){const e=localStorage.getItem(n);e&&(await Ji.get(n)||(await Ji.set(n,e),t++))}t>0&&console.log("\u2705 Migration r\xe9ussie : ".concat(t," \xe9l\xe9ments migr\xe9s vers Capacitor Preferences"))}catch(Ag){console.error("Erreur lors de la migration:",Ag)}})(),m(!0)}catch(Ag){console.error("Erreur lors de la migration du stockage:",Ag),m(!0)}})()},[]),(0,e.useEffect)(()=>{if(!f)return;return(async()=>{try{const[n,r,i]=await Promise.all([Ji.get($i.TOKEN),Ji.get($i.USER),Ji.get($i.USER_RESPONSES)]);if(n&&r)try{const i="string"===typeof r?JSON.parse(r):r;l(n);const a={id:i.id||"user_".concat(Date.now()),name:"".concat(i.firstName||""," ").concat(i.lastName||"").trim()||i.email||"Utilisateur",currentLevel:i.currentLevel||"B1",targetLevel:i.targetLevel||"C1",strengths:[],weaknesses:i.weaknesses||[],completedExercises:0,totalScore:0,createdAt:i.createdAt?new Date(i.createdAt):new Date,lastActivity:i.lastLogin?new Date(i.lastLogin):new Date};if(s(a),await ss()&&a.id){try{await is(a.id);const e=await Ji.get($i.USER),t=await Ji.get($i.USER_RESPONSES);if(e){const t="string"===typeof e?JSON.parse(e):e;s((0,o.A)((0,o.A)((0,o.A)({},a),t),{},{createdAt:t.createdAt?new Date(t.createdAt):a.createdAt,lastActivity:t.lastActivity?new Date(t.lastActivity):a.lastActivity}))}t&&u(Array.isArray(t)?t:[])}catch(Ag){var e,t;"unavailable"===Ag.code||"failed-precondition"===Ag.code||null!==(e=Ag.message)&&void 0!==e&&e.includes("offline")||null!==(t=Ag.message)&&void 0!==t&&t.includes("network")||console.warn("Erreur lors de la synchronisation depuis Firestore:",Ag)}a.id&&!p.current&&(p.current=as(a.id))}}catch(Ag){console.error("Erreur chargement utilisateur:",Ag),await Ji.remove($i.TOKEN),await Ji.remove($i.USER)}i&&Array.isArray(i)&&u(i)}catch(Ag){console.error("Erreur lors du chargement des donn\xe9es:",Ag)}})(),()=>{p.current&&(p.current(),p.current=null)}},[f]),(0,e.useEffect)(()=>{i&&f&&(Ji.set($i.USER_PROFILE,i).catch(e=>{console.error("Erreur sauvegarde profil:",e)}),rs(i).catch(e=>{var t,n,r;"unavailable"===e.code||"failed-precondition"===e.code||"permission-denied"===e.code||null!==(t=e.message)&&void 0!==t&&t.includes("offline")||null!==(n=e.message)&&void 0!==n&&n.includes("network")||null!==(r=e.message)&&void 0!==r&&r.includes("non authentifi\xe9")||console.warn("Erreur lors de la synchronisation utilisateur:",e)}))},[i,f]),(0,e.useEffect)(()=>{f&&(Ji.set($i.USER_RESPONSES,c).catch(e=>{console.error("Erreur sauvegarde r\xe9ponses:",e)}),g())},[c,f]);const g=()=>{const e=new Set(c.map(e=>e.exerciseId)),t=c.filter(e=>e.isCorrect).length,n=c.length>0?t/c.length*100:0,r=c.reduce((e,t)=>e+t.timeSpent,0);h({totalExercises:e.size,completedExercises:e.size,averageScore:Math.round(100*n)/100,timeSpent:r,streakDays:v(),levelProgress:{},domainProgress:{}})},v=()=>{if(0===c.length)return 0;const e=c.map(e=>new Date(e.timestamp).toDateString()).filter((e,t,n)=>n.indexOf(e)===t).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime());let t=0,n=new Date;for(const r of e){const e=new Date(r);if(Math.floor((n.getTime()-e.getTime())/864e5)!==t)break;t++,n=e}return t},y=!!a&&!!i;return(0,$.jsx)(ls.Provider,{value:{user:i,token:a,isAuthenticated:y,login:async(e,t)=>{l(e),await Ji.setMultiple({[$i.TOKEN]:e,[$i.USER]:t});const n={id:t.id||"user_".concat(Date.now()),name:"".concat(t.firstName||""," ").concat(t.lastName||"").trim()||t.email||"Utilisateur",currentLevel:t.currentLevel||"B1",targetLevel:t.targetLevel||"C1",strengths:[],weaknesses:t.weaknesses||[],completedExercises:0,totalScore:0,createdAt:t.createdAt?new Date(t.createdAt):new Date,lastActivity:new Date};s(n);try{await rs(n),p.current&&p.current(),p.current=as(n.id)}catch(Ag){console.warn("Erreur lors de la synchronisation utilisateur:",Ag)}},logout:async()=>{p.current&&(p.current(),p.current=null);try{const{logoutUser:e}=await Promise.resolve().then(n.bind(n,1079));await e()}catch(Ag){console.warn("Erreur lors de la d\xe9connexion Firebase:",Ag)}l(null),s(null),await Ji.removeMultiple([$i.TOKEN,$i.USER,$i.USER_PROFILE,$i.USER_RESPONSES,$i.LEVEL_ASSESSED,$i.FIREBASE_USER,$i.PENDING_USER])},setUser:s,responses:c,addResponse:async e=>{if(u(t=>[...t,e]),i){const t=(0,o.A)((0,o.A)({},i),{},{completedExercises:i.completedExercises+1,lastActivity:new Date});s(t);try{const t=e.exerciseId,n=t.split("_")[0]||"qcm",r=i.currentLevel;await(async(e,t,n,r,o,i)=>{try{const a=await Ji.get($i.USER_RESPONSES)||[];a.push(t),await Ji.set($i.USER_RESPONSES,a),await ts({type:"progress",action:"create",data:{userId:e,progress:t,exerciseId:n,exerciseType:r,level:o,domain:i},timestamp:Date.now()});try{await qi(e,t,n,r,o,i)}catch(Ag){var s;null!==(s=Ag.message)&&void 0!==s&&s.includes("non authentifi\xe9")||"permission-denied"===Ag.code?console.debug("Synchronisation progression report\xe9e (utilisateur non authentifi\xe9)"):console.warn("Erreur lors de la synchronisation progression avec Firestore:",Ag)}}catch(Ag){throw console.error("Erreur lors de la sauvegarde progression:",Ag),Ag}})(i.id,e,t,n,r)}catch(Ag){console.warn("Erreur lors de la synchronisation progression:",Ag)}}},stats:d,updateStats:g},children:r})},us=()=>{const t=(0,e.useContext)(ls);if(!t)throw new Error("useUser must be used within a UserProvider");return t},ds=ui((0,$.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function hs(e){return re("MuiChip",e)}const ps=oe("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),fs=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],ms=fe("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:i,onDelete:s,size:a,variant:l}=n;return[{["& .".concat(ps.avatar)]:t.avatar},{["& .".concat(ps.avatar)]:t["avatar".concat(we(a))]},{["& .".concat(ps.avatar)]:t["avatarColor".concat(we(r))]},{["& .".concat(ps.icon)]:t.icon},{["& .".concat(ps.icon)]:t["icon".concat(we(a))]},{["& .".concat(ps.icon)]:t["iconColor".concat(we(o))]},{["& .".concat(ps.deleteIcon)]:t.deleteIcon},{["& .".concat(ps.deleteIcon)]:t["deleteIcon".concat(we(a))]},{["& .".concat(ps.deleteIcon)]:t["deleteIconColor".concat(we(r))]},{["& .".concat(ps.deleteIcon)]:t["deleteIcon".concat(we(l),"Color").concat(we(r))]},t.root,t["size".concat(we(a))],t["color".concat(we(r))],i&&t.clickable,i&&"default"!==r&&t["clickableColor".concat(we(r),")")],s&&t.deletable,s&&"default"!==r&&t["deletableColor".concat(we(r))],t[l],t["".concat(l).concat(we(r))]]}})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return(0,i.A)({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(ps.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(ps.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},["& .".concat(ps.avatarColorPrimary)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},["& .".concat(ps.avatarColorSecondary)]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},["& .".concat(ps.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},["& .".concat(ps.icon)]:(0,i.A)({marginLeft:5,marginRight:-6},"small"===n.size&&{fontSize:18,marginLeft:4,marginRight:-4},n.iconColor===n.color&&(0,i.A)({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},"default"!==n.color&&{color:"inherit"})),["& .".concat(ps.deleteIcon)]:(0,i.A)({WebkitTapHighlightColor:"transparent",color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.26)"):(0,p.X4)(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.4)"):(0,p.X4)(t.palette.text.primary,.4)}},"small"===n.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==n.color&&{color:t.vars?"rgba(".concat(t.vars.palette[n.color].contrastTextChannel," / 0.7)"):(0,p.X4)(t.palette[n.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].contrastText}})},"small"===n.size&&{height:24},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},n.onDelete&&{["&.".concat(ps.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,p.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},n.onDelete&&"default"!==n.color&&{["&.".concat(ps.focusVisible)]:{backgroundColor:(t.vars||t).palette[n.color].dark}})},e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({},n.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,p.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},["&.".concat(ps.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,p.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},n.clickable&&"default"!==n.color&&{["&:hover, &.".concat(ps.focusVisible)]:{backgroundColor:(t.vars||t).palette[n.color].dark}})},e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({},"outlined"===n.variant&&{backgroundColor:"transparent",border:t.vars?"1px solid ".concat(t.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]),["&.".concat(ps.clickable,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(ps.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["& .".concat(ps.avatar)]:{marginLeft:4},["& .".concat(ps.avatarSmall)]:{marginLeft:2},["& .".concat(ps.icon)]:{marginLeft:4},["& .".concat(ps.iconSmall)]:{marginLeft:2},["& .".concat(ps.deleteIcon)]:{marginRight:5},["& .".concat(ps.deleteIconSmall)]:{marginRight:3}},"outlined"===n.variant&&"default"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.7)"):(0,p.X4)(t.palette[n.color].main,.7)),["&.".concat(ps.clickable,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,p.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity)},["&.".concat(ps.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):(0,p.X4)(t.palette[n.color].main,t.palette.action.focusOpacity)},["& .".concat(ps.deleteIcon)]:{color:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.7)"):(0,p.X4)(t.palette[n.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].main}}})}),gs=fe("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t["label".concat(we(r))]]}})(e=>{let{ownerState:t}=e;return(0,i.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===t.variant&&{paddingLeft:11,paddingRight:11},"small"===t.size&&{paddingLeft:8,paddingRight:8},"small"===t.size&&"outlined"===t.variant&&{paddingLeft:7,paddingRight:7})});function vs(e){return"Backspace"===e.key||"Delete"===e.key}const ys=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiChip"}),{avatar:o,className:a,clickable:l,color:c="default",component:u,deleteIcon:d,disabled:h=!1,icon:p,label:f,onClick:m,onDelete:g,onKeyDown:v,onKeyUp:y,size:b="medium",variant:x="filled",tabIndex:w,skipFocusWhenDisabled:S=!1}=r,E=(0,s.A)(r,fs),k=e.useRef(null),I=rt(k,n),A=e=>{e.stopPropagation(),g&&g(e)},C=!(!1===l||!m)||l,T=C||g?en:u||"div",j=(0,i.A)({},r,{component:T,disabled:h,size:b,color:c,iconColor:e.isValidElement(p)&&p.props.color||c,onDelete:!!g,clickable:C,variant:x}),_=(e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:i,onDelete:s,clickable:a,variant:l}=e;return ce({root:["root",l,n&&"disabled","size".concat(we(r)),"color".concat(we(o)),a&&"clickable",a&&"clickableColor".concat(we(o)),s&&"deletable",s&&"deletableColor".concat(we(o)),"".concat(l).concat(we(o))],label:["label","label".concat(we(r))],avatar:["avatar","avatar".concat(we(r)),"avatarColor".concat(we(o))],icon:["icon","icon".concat(we(r)),"iconColor".concat(we(i))],deleteIcon:["deleteIcon","deleteIcon".concat(we(r)),"deleteIconColor".concat(we(o)),"deleteIcon".concat(we(l),"Color").concat(we(o))]},hs,t)})(j),R=T===en?(0,i.A)({component:u||"div",focusVisibleClassName:_.focusVisible},g&&{disableRipple:!0}):{};let P=null;g&&(P=d&&e.isValidElement(d)?e.cloneElement(d,{className:W(d.props.className,_.deleteIcon),onClick:A}):(0,$.jsx)(ds,{className:W(_.deleteIcon),onClick:A}));let N=null;o&&e.isValidElement(o)&&(N=e.cloneElement(o,{className:W(_.avatar,o.props.className)}));let L=null;return p&&e.isValidElement(p)&&(L=e.cloneElement(p,{className:W(_.icon,p.props.className)})),(0,$.jsxs)(ms,(0,i.A)({as:T,className:W(_.root,a),disabled:!(!C||!h)||void 0,onClick:m,onKeyDown:e=>{e.currentTarget===e.target&&vs(e)&&e.preventDefault(),v&&v(e)},onKeyUp:e=>{e.currentTarget===e.target&&(g&&vs(e)?g(e):"Escape"===e.key&&k.current&&k.current.blur()),y&&y(e)},ref:I,tabIndex:S&&h?-1:w,ownerState:j},R,E,{children:[N||L,(0,$.jsx)(gs,{className:W(_.label),ownerState:j,children:f}),P]}))}),bs=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],xs=["component","slots","slotProps"],ws=["component"];function Ss(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:a,getSlotOwnerState:l,internalForwardedProps:c}=t,u=(0,s.A)(t,bs),{component:d,slots:h={[e]:void 0},slotProps:p={[e]:void 0}}=a,f=(0,s.A)(a,xs),m=h[e]||r,g=On(p[e],o),v=Ln((0,i.A)({className:n},u,{externalForwardedProps:"root"===e?f:void 0,externalSlotProps:g})),{props:{component:y},internalRef:b}=v,x=(0,s.A)(v.props,ws),w=nt(b,null==g?void 0:g.ref,t.ref),S=l?l(x):{},E=(0,i.A)({},o,S),k="root"===e?y||d:y,I=Rn(m,(0,i.A)({},"root"===e&&!d&&!h[e]&&c,"root"!==e&&!h[e]&&c,x,k&&{as:k},{ref:w}),E);return Object.keys(S).forEach(e=>{delete I[e]}),[m,I]}function Es(e){return re("MuiAlert",e)}const ks=oe("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Is=ui((0,$.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),As=ui((0,$.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Cs=ui((0,$.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Ts=ui((0,$.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),js=ui((0,$.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),_s=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Rs=fe(Ge,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(we(n.color||n.severity))]]}})(e=>{let{theme:t}=e;const n="light"===t.palette.mode?p.e$:p.a,r="light"===t.palette.mode?p.a:p.e$;return(0,i.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[o]=e;return{props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:n(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(o,"StandardBg")]:r(t.palette[o].light,.9),["& .".concat(ks.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(r,"Color")]:n(t.palette[r].light,.6),border:"1px solid ".concat((t.vars||t).palette[r].light),["& .".concat(ks.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(r,"IconColor")]}:{color:t.palette[r].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.dark}).map(e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:(0,i.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(n,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(n,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}})]})}),Ps=fe("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Ns=fe("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Ls=fe("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Os={success:(0,$.jsx)(Is,{fontSize:"inherit"}),warning:(0,$.jsx)(As,{fontSize:"inherit"}),error:(0,$.jsx)(Cs,{fontSize:"inherit"}),info:(0,$.jsx)(Ts,{fontSize:"inherit"})},Ms=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiAlert"}),{action:r,children:o,className:a,closeText:l="Close",color:c,components:u={},componentsProps:d={},icon:h,iconMapping:p=Os,onClose:f,role:m="alert",severity:g="success",slotProps:v={},slots:y={},variant:b="standard"}=n,x=(0,s.A)(n,_s),w=(0,i.A)({},n,{color:c,severity:g,variant:b,colorSeverity:c||g}),S=(e=>{const{variant:t,color:n,severity:r,classes:o}=e;return ce({root:["root","color".concat(we(n||r)),"".concat(t).concat(we(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]},Es,o)})(w),E={slots:(0,i.A)({closeButton:u.CloseButton,closeIcon:u.CloseIcon},y),slotProps:(0,i.A)({},d,v)},[k,I]=Ss("closeButton",{elementType:In,externalForwardedProps:E,ownerState:w}),[A,C]=Ss("closeIcon",{elementType:js,externalForwardedProps:E,ownerState:w});return(0,$.jsxs)(Rs,(0,i.A)({role:m,elevation:0,ownerState:w,className:W(S.root,a),ref:t},x,{children:[!1!==h?(0,$.jsx)(Ps,{ownerState:w,className:S.icon,children:h||p[g]||Os[g]}):null,(0,$.jsx)(Ns,{ownerState:w,className:S.message,children:o}),null!=r?(0,$.jsx)(Ls,{ownerState:w,className:S.action,children:r}):null,null==r&&f?(0,$.jsx)(Ls,{ownerState:w,className:S.action,children:(0,$.jsx)(k,(0,i.A)({size:"small","aria-label":l,title:l,color:"inherit",onClick:f},I,{children:(0,$.jsx)(A,(0,i.A)({fontSize:"small"},C))}))}):null]}))});function Ds(e){return re("MuiLinearProgress",e)}oe("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var Fs,zs,Bs,Vs,Us,qs;const Ws=["className","color","value","valueBuffer","variant"];let Hs,Gs,Ks,Qs,Xs,Ys;const $s=(0,_t.i7)(Hs||(Hs=Fs||(Fs=xt(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),Js=(0,_t.i7)(Gs||(Gs=zs||(zs=xt(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),Zs=(0,_t.i7)(Ks||(Ks=Bs||(Bs=xt(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),ea=(e,t)=>"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?(0,p.a)(e.palette[t].main,.62):(0,p.e$)(e.palette[t].main,.5),ta=fe("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat(we(n.color))],t[n.variant]]}})(e=>{let{ownerState:t,theme:n}=e;return(0,i.A)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:ea(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})}),na=fe("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t["dashedColor".concat(we(n.color))]]}})(e=>{let{ownerState:t,theme:n}=e;const r=ea(n,t.color);return(0,i.A)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},(0,_t.AH)(Qs||(Qs=Vs||(Vs=xt(["\n    animation: "," 3s infinite linear;\n  "]))),Zs)),ra=fe("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat(we(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})(e=>{let{ownerState:t,theme:n}=e;return(0,i.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})},e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,_t.AH)(Xs||(Xs=Us||(Us=xt(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),$s)}),oa=fe("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat(we(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})(e=>{let{ownerState:t,theme:n}=e;return(0,i.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:ea(n,t.color),transition:"transform .".concat(4,"s linear")})},e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,_t.AH)(Ys||(Ys=qs||(qs=xt(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),Js)}),ia=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiLinearProgress"}),{className:r,color:o="primary",value:a,valueBuffer:l,variant:c="indeterminate"}=n,u=(0,s.A)(n,Ws),d=(0,i.A)({},n,{color:o,variant:c}),h=(e=>{const{classes:t,variant:n,color:r}=e;return ce({root:["root","color".concat(we(r)),n],dashed:["dashed","dashedColor".concat(we(r))],bar1:["bar","barColor".concat(we(r)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat(we(r)),"buffer"===n&&"color".concat(we(r)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]},Ds,t)})(d),p=Tn(),f={},m={bar1:{},bar2:{}};if("determinate"===c||"buffer"===c)if(void 0!==a){f["aria-valuenow"]=Math.round(a),f["aria-valuemin"]=0,f["aria-valuemax"]=100;let e=a-100;p&&(e=-e),m.bar1.transform="translateX(".concat(e,"%)")}else 0;if("buffer"===c)if(void 0!==l){let e=(l||0)-100;p&&(e=-e),m.bar2.transform="translateX(".concat(e,"%)")}else 0;return(0,$.jsxs)(ta,(0,i.A)({className:W(h.root,r),ownerState:d,role:"progressbar"},f,{ref:t},u,{children:["buffer"===c?(0,$.jsx)(na,{className:h.dashed,ownerState:d}):null,(0,$.jsx)(ra,{className:h.bar1,ownerState:d,style:m.bar1}),"determinate"===c?null:(0,$.jsx)(oa,{className:h.bar2,ownerState:d,style:m.bar2})]}))}),sa=ui((0,$.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),aa=ui([(0,$.jsx)("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),(0,$.jsx)("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")],"MenuBook"),la=ui((0,$.jsx)("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"}),"EmojiEvents"),ca=ui((0,$.jsx)("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer"),ua=ui((0,$.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),da=e=>{let{onStartAssessment:t,onNavigate:n}=e;const{user:r,stats:o}=us();if(!r)return null;const i=Math.min(100,o.averageScore/85*100);return(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,$.jsx)(Ce,{variant:"h4",sx:{fontWeight:"bold"},children:"Tableau de bord"}),(0,$.jsx)(ys,{label:"Niveau ".concat(r.currentLevel," \u2192 Objectif ").concat(r.targetLevel),color:"primary",sx:{fontSize:"0.9rem",py:2}})]}),(0,$.jsx)(Ms,{severity:"info",action:(0,$.jsx)(dn,{color:"inherit",size:"small",startIcon:(0,$.jsx)(sa,{}),onClick:t,children:"Refaire"}),sx:{mb:3},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Conseil :"})," Vous pouvez refaire l'\xe9valuation de niveau \xe0 tout moment pour ajuster votre programme d'apprentissage en fonction de vos progr\xe8s."]})}),(0,$.jsxs)(Ve,{container:!0,spacing:3,children:[(0,$.jsx)(Ve,{item:!0,xs:12,md:6,lg:3,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(pi,{sx:{mr:1,color:"primary.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Niveau actuel"})]}),(0,$.jsx)(Ce,{variant:"h3",color:"primary",children:r.currentLevel}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:["Objectif: ",r.targetLevel]}),(0,$.jsx)(ia,{variant:"determinate",value:i,sx:{mt:2,height:8,borderRadius:4}})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:6,lg:3,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(aa,{sx:{mr:1,color:"success.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Exercices"})]}),(0,$.jsx)(Ce,{variant:"h3",color:"success.main",children:o.completedExercises}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:"exercices compl\xe9t\xe9s"})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:6,lg:3,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(la,{sx:{mr:1,color:"warning.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Score moyen"})]}),(0,$.jsxs)(Ce,{variant:"h3",color:"warning.main",children:[o.averageScore.toFixed(1),"%"]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:"sur tous les exercices"})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:6,lg:3,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(ca,{sx:{mr:1,color:"info.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Temps d'\xe9tude"})]}),(0,$.jsxs)(Ce,{variant:"h3",color:"info.main",children:[Math.floor(o.timeSpent/60),"h"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[o.streakDays," jours cons\xe9cutifs"]})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,sx:{height:"100%"},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(pi,{sx:{mr:1,color:"primary.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Exercices"})]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Acc\xe9dez \xe0 plus de 400 exercices (QCM et textes \xe0 trous) pour pratiquer votre anglais technique dans les domaines IT, IA, DevOps et Cybers\xe9curit\xe9."}),(0,$.jsx)(dn,{variant:"contained",fullWidth:!0,color:"primary",startIcon:(0,$.jsx)(pi,{}),onClick:()=>null===n||void 0===n?void 0:n("exercises"),sx:{mt:2},children:"Lancer les exercices"})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,sx:{height:"100%"},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(hi,{sx:{mr:1,color:"primary.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"\xc9valuation de niveau"})]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Refaites l'\xe9valuation compl\xe8te (18 questions - Listening, Reading, Writing) pour mettre \xe0 jour votre niveau et adapter votre programme."}),(0,$.jsx)(dn,{variant:"outlined",fullWidth:!0,startIcon:(0,$.jsx)(sa,{}),onClick:t,sx:{mt:2},children:"Refaire l'\xe9valuation"})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,sx:{height:"100%"},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(ua,{sx:{mr:1,color:"success.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Programme adaptatif"})]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Consultez votre programme d'apprentissage personnalis\xe9 qui s'adapte automatiquement en fonction de vos performances et points faibles."}),(0,$.jsx)(dn,{variant:"contained",fullWidth:!0,color:"success",onClick:()=>null===n||void 0===n?void 0:n("learning"),sx:{mt:2},children:"Voir mon programme"})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(mi,{sx:{mr:1,color:"error.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Points \xe0 am\xe9liorer"})]}),(0,$.jsx)(le,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.weaknesses.length>0?r.weaknesses.map((e,t)=>(0,$.jsx)(ys,{label:e,color:"error",variant:"outlined",size:"small"},t)):(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:"Aucune faiblesse identifi\xe9e pour le moment"})})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(ua,{sx:{mr:1,color:"success.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Points forts"})]}),(0,$.jsx)(le,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.strengths.length>0?r.strengths.map((e,t)=>(0,$.jsx)(ys,{label:e,color:"success",variant:"outlined",size:"small"},t)):(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:"Compl\xe9tez des exercices pour identifier vos forces"})})]})})})]})]})},ha=ui((0,$.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),pa=e=>e.toLowerCase().match(/\b\w+\b/g)||[];const fa=new class{constructor(){this.GRAMMAR_KEYWORDS=["present_perfect","past_simple","future_continuous","conditional","passive_voice","relative_clauses","prepositions","articles","modal_verbs"],this.TECH_VOCAB=["technical_debt","memory_leak","ci_cd","mlops","rag_system","gdpr","ai_act","angular","devops","cybersecurity","vibe_coding","cursor","pipeline"]}analyzeProgress(e,t,n){const r=this.calculateGrammarScore(e,t),o=this.calculateVocabularyScore(e,t),i=(r+o)/2,s=this.identifyWeakAreas(e,t),a=this.identifyStrongAreas(e,t),l=this.recommendExercises(s,n),c=this.determineNextLevel(i,n.currentLevel);return{overallScore:Math.round(100*i)/100,grammarScore:Math.round(100*r)/100,vocabularyScore:Math.round(100*o)/100,weakAreas:s,strongAreas:a,recommendedExercises:l,nextLevel:c}}calculateGrammarScore(e,t){const n=e.filter(e=>{const n=t.find(t=>t.id===e.exerciseId);return null===n||void 0===n?void 0:n.questions.some(e=>e.grammarFocus&&e.grammarFocus.length>0)});if(0===n.length)return 0;const r=n.filter(e=>e.isCorrect).length;return r/n.length*100}calculateVocabularyScore(e,t){const n=e.filter(e=>{const n=t.find(t=>t.id===e.exerciseId);return null===n||void 0===n?void 0:n.questions.some(e=>e.vocabularyFocus&&e.vocabularyFocus.length>0)});if(0===n.length)return 0;const r=n.filter(e=>e.isCorrect).length;return r/n.length*100}identifyWeakAreas(e,t){const n=new Map;return e.forEach(e=>{if(!e.isCorrect){const r=t.find(t=>t.id===e.exerciseId),o=null===r||void 0===r?void 0:r.questions.find(t=>t.id===e.questionId);null!==o&&void 0!==o&&o.grammarFocus&&o.grammarFocus.forEach(e=>{n.set(e,(n.get(e)||0)+1)}),null!==o&&void 0!==o&&o.vocabularyFocus&&o.vocabularyFocus.forEach(e=>{n.set(e,(n.get(e)||0)+1)}),null!==r&&void 0!==r&&r.domain&&n.set(r.domain,(n.get(r.domain)||0)+1)}}),Array.from(n.entries()).sort((e,t)=>t[1]-e[1]).slice(0,5).map(e=>{let[t]=e;return t})}identifyStrongAreas(e,t){const n=new Map;return e.forEach(e=>{const r=t.find(t=>t.id===e.exerciseId),o=null===r||void 0===r?void 0:r.questions.find(t=>t.id===e.questionId);[...(null===o||void 0===o?void 0:o.grammarFocus)||[],...(null===o||void 0===o?void 0:o.vocabularyFocus)||[],null===r||void 0===r?void 0:r.domain].filter(Boolean).forEach(t=>{const r=n.get(t)||{correct:0,total:0};r.total+=1,e.isCorrect&&(r.correct+=1),n.set(t,r)})}),Array.from(n.entries()).filter(e=>{let[,t]=e;return t.total>=3&&t.correct/t.total>=.8}).sort((e,t)=>t[1].correct/t[1].total-e[1].correct/e[1].total).slice(0,5).map(e=>{let[t]=e;return t})}recommendExercises(e,t){const n=[];return e.forEach(e=>{this.GRAMMAR_KEYWORDS.includes(e)?n.push("grammar_".concat(e,"_").concat(t.currentLevel)):this.TECH_VOCAB.some(t=>e.includes(t))?n.push("vocab_".concat(e,"_").concat(t.currentLevel)):n.push("mixed_".concat(e,"_").concat(t.currentLevel))}),n.slice(0,3)}determineNextLevel(e,t){const n=["A2","B1","B2","C1"],r=n.indexOf(t);if(e>=85&&r<n.length-1)return n[r+1]}analyzeWrittenResponse(e,t,n){const r=pa(e.toLowerCase()),o=pa(t.toLowerCase()),i=this.calculateSimilarity(r,o),s=Math.max(0,Math.min(100,100*i));return{score:s,feedback:this.generateFeedback(s,n),suggestions:this.generateSuggestions(e,t,n)}}calculateSimilarity(e,t){const n=new Set(e),r=new Set(t),o=new Set([...n].filter(e=>r.has(e))),i=new Set([...n,...r]);return o.size/i.size}generateFeedback(e,t){return e>=90?"Excellent travail ! Votre r\xe9ponse d\xe9montre une ma\xeetrise solide des concepts.":e>=75?"Bonne r\xe9ponse ! Quelques points \xe0 am\xe9liorer sur : ".concat(t.join(", "),"."):e>=60?"R\xe9ponse correcte mais n\xe9cessite des am\xe9liorations. Concentrez-vous sur : ".concat(t.join(", "),"."):"R\xe9ponse \xe0 retravailler. Revoyez les r\xe8gles concernant : ".concat(t.join(", "),".")}generateSuggestions(e,t,n){const r=[];return e.length<.7*t.length&&r.push("Votre r\xe9ponse est trop courte. D\xe9veloppez davantage vos arguments."),!e.includes(".")&&t.includes(".")&&r.push("N'oubliez pas la ponctuation pour structurer vos phrases."),n.forEach(e=>{r.push("R\xe9visez les r\xe8gles de : ".concat(e))}),r.slice(0,3)}},ma=()=>{const{user:t,responses:n}=us(),r=(0,e.useMemo)(()=>t&&n.length>0?fa.analyzeProgress(n,[],t):null,[t,n]);return t&&r?(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"Analyse de progression"}),(0,$.jsxs)(Ve,{container:!0,spacing:3,children:[(0,$.jsx)(Ve,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Score global"}),(0,$.jsxs)(Ce,{variant:"h2",color:"primary",sx:{mb:2},children:[r.overallScore.toFixed(0),"%"]}),(0,$.jsx)(ia,{variant:"determinate",value:r.overallScore,sx:{height:10,borderRadius:5}})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Grammaire"}),(0,$.jsxs)(Ce,{variant:"h2",color:"success.main",sx:{mb:2},children:[r.grammarScore.toFixed(0),"%"]}),(0,$.jsx)(ia,{variant:"determinate",value:r.grammarScore,color:"success",sx:{height:10,borderRadius:5}})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Vocabulaire"}),(0,$.jsxs)(Ce,{variant:"h2",color:"info.main",sx:{mb:2},children:[r.vocabularyScore.toFixed(0),"%"]}),(0,$.jsx)(ia,{variant:"determinate",value:r.vocabularyScore,color:"info",sx:{height:10,borderRadius:5}})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(mi,{sx:{mr:1,color:"error.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Domaines \xe0 am\xe9liorer"})]}),(0,$.jsx)(le,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.weakAreas.length>0?r.weakAreas.map((e,t)=>(0,$.jsx)(ys,{label:e,color:"error",variant:"outlined",size:"medium"},t)):(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:"Aucun domaine faible identifi\xe9"})})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(ua,{sx:{mr:1,color:"success.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Points forts"})]}),(0,$.jsx)(le,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.strongAreas.length>0?r.strongAreas.map((e,t)=>(0,$.jsx)(ys,{label:e,color:"success",variant:"outlined",size:"medium"},t)):(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:"Continuez pour identifier vos forces"})})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(ha,{sx:{mr:1,color:"primary.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Exercices recommand\xe9s"})]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Bas\xe9s sur votre analyse, voici les exercices qui vous aideront le plus :"}),(0,$.jsx)(le,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.recommendedExercises.map((e,t)=>(0,$.jsx)(ys,{label:e,color:"primary",variant:"filled",size:"medium"},t))})]})})}),r.nextLevel&&(0,$.jsx)(Ve,{item:!0,xs:12,children:(0,$.jsx)(Ye,{elevation:3,sx:{bgcolor:"success.light"},children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,sx:{color:"success.contrastText"},children:"\ud83c\udf89 F\xe9licitations !"}),(0,$.jsxs)(Ce,{variant:"body1",sx:{color:"success.contrastText"},children:["Votre niveau actuel vous permet de passer au niveau ",(0,$.jsx)("strong",{children:r.nextLevel}),". Continuez votre excellent travail !"]})]})})})]})]}):(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,children:"Analyse de progression"}),(0,$.jsx)(Ce,{variant:"body1",color:"text.secondary",children:"Compl\xe9tez quelques exercices pour voir votre analyse de progression."})]})};function ga(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function va(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(ga(e.value)&&""!==e.value||t&&ga(e.defaultValue)&&""!==e.defaultValue)}const ya=e.createContext(void 0);function ba(e){return re("MuiFormControl",e)}oe("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const xa=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],wa=fe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,i.A)({},t.root,t["margin".concat(we(n.margin))],n.fullWidth&&t.fullWidth)}})(e=>{let{ownerState:t}=e;return(0,i.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})}),Sa=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiFormControl"}),{children:o,className:a,color:l="primary",component:c="div",disabled:u=!1,error:d=!1,focused:h,fullWidth:p=!1,hiddenLabel:f=!1,margin:m="none",required:g=!1,size:v="medium",variant:y="outlined"}=r,b=(0,s.A)(r,xa),x=(0,i.A)({},r,{color:l,component:c,disabled:u,error:d,fullWidth:p,hiddenLabel:f,margin:m,required:g,size:v,variant:y}),w=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return ce({root:["root","none"!==n&&"margin".concat(we(n)),r&&"fullWidth"]},ba,t)})(x),[S,E]=e.useState(()=>{let t=!1;return o&&e.Children.forEach(o,e=>{if(!Xr(e,["Input","Select"]))return;const n=Xr(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}),t}),[k,I]=e.useState(()=>{let t=!1;return o&&e.Children.forEach(o,e=>{Xr(e,["Input","Select"])&&(va(e.props,!0)||va(e.props.inputProps,!0))&&(t=!0)}),t}),[A,C]=e.useState(!1);u&&A&&C(!1);const T=void 0===h||u?A:h;let j;const _=e.useMemo(()=>({adornedStart:S,setAdornedStart:E,color:l,disabled:u,error:d,filled:k,focused:T,fullWidth:p,hiddenLabel:f,size:v,onBlur:()=>{C(!1)},onEmpty:()=>{I(!1)},onFilled:()=>{I(!0)},onFocus:()=>{C(!0)},registerEffect:j,required:g,variant:y}),[S,l,u,d,k,T,p,f,j,g,v,y]);return(0,$.jsx)(ya.Provider,{value:_,children:(0,$.jsx)(wa,(0,i.A)({as:c,ownerState:x,className:W(w.root,a),ref:n},b,{children:o}))})});function Ea(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e),{})}function ka(){return e.useContext(ya)}function Ia(e){return re("MuiFormLabel",e)}const Aa=oe("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Ca=["children","className","color","component","disabled","error","filled","focused","required"],Ta=fe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,i.A)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(Aa.focused)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(Aa.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(Aa.error)]:{color:(t.vars||t).palette.error.main}})}),ja=fe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(e=>{let{theme:t}=e;return{["&.".concat(Aa.error)]:{color:(t.vars||t).palette.error.main}}}),_a=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiFormLabel"}),{children:r,className:o,component:a="label"}=n,l=(0,s.A)(n,Ca),c=Ea({props:n,muiFormControl:ka(),states:["color","required","focused","disabled","error","filled"]}),u=(0,i.A)({},n,{color:c.color||"primary",component:a,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=(e=>{const{classes:t,color:n,focused:r,disabled:o,error:i,filled:s,required:a}=e;return ce({root:["root","color".concat(we(n)),o&&"disabled",i&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]},Ia,t)})(u);return(0,$.jsxs)(Ta,(0,i.A)({as:a,ownerState:u,className:W(d.root,o),ref:t},l,{children:[r,c.required&&(0,$.jsxs)(ja,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:["\u2009","*"]})]}))});function Ra(e){return re("MuiInputLabel",e)}oe("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Pa=["disableAnimation","margin","shrink","variant","className"],Na=fe(_a,{shouldForwardProp:e=>pe(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(Aa.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,i.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,i.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,i.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))}),La=e.forwardRef(function(e,t){const n=be({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:o,className:a}=n,l=(0,s.A)(n,Pa),c=ka();let u=o;"undefined"===typeof u&&c&&(u=c.filled||c.focused||c.adornedStart);const d=Ea({props:n,muiFormControl:c,states:["size","variant","required","focused"]}),h=(0,i.A)({},n,{disableAnimation:r,formControl:c,shrink:u,size:d.size,variant:d.variant,required:d.required,focused:d.focused}),p=(e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:s,variant:a,required:l}=e,c=ce({root:["root",n&&"formControl",!s&&"animated",o&&"shrink",r&&"normal"!==r&&"size".concat(we(r)),a],asterisk:[l&&"asterisk"]},Ra,t);return(0,i.A)({},t,c)})(h);return(0,$.jsx)(Na,(0,i.A)({"data-shrink":u,ownerState:h,ref:t,className:W(p.root,a)},l,{classes:p}))}),Oa=zn,Ma=pr,Da=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Fa(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function za(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Ba(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Va(e,t,n,r,o,i){let s=!1,a=o(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&Ba(a,i)&&!t)return a.focus(),!0;a=o(e,a,n)}return!1}const Ua=e.forwardRef(function(t,n){const{actions:r,autoFocus:o=!1,autoFocusItem:a=!1,children:l,className:c,disabledItemsFocusable:u=!1,disableListWrap:d=!1,onKeyDown:h,variant:p="selectedMenu"}=t,f=(0,s.A)(t,Da),m=e.useRef(null),g=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Yr(()=>{o&&m.current.focus()},[o]),e.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!m.current.style.width;if(e.clientHeight<m.current.clientHeight&&r){const t="".concat(Ma(Oa(e)),"px");m.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,m.current.style.width="calc(100% + ".concat(t,")")}return m.current}}),[]);const v=rt(m,n);let y=-1;e.Children.forEach(l,(t,n)=>{e.isValidElement(t)?(t.props.disabled||("selectedMenu"===p&&t.props.selected||-1===y)&&(y=n),y===n&&(t.props.disabled||t.props.muiSkipListHighlight||t.type.muiSkipListHighlight)&&(y+=1,y>=l.length&&(y=-1))):y===n&&(y+=1,y>=l.length&&(y=-1))});const b=e.Children.map(l,(t,n)=>{if(n===y){const n={};return a&&(n.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===p&&(n.tabIndex=0),e.cloneElement(t,n)}return t});return(0,$.jsx)(Qr,(0,i.A)({role:"menu",ref:v,className:c,onKeyDown:e=>{const t=m.current,n=e.key,r=Oa(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Va(t,r,d,u,Fa);else if("ArrowUp"===n)e.preventDefault(),Va(t,r,d,u,za);else if("Home"===n)e.preventDefault(),Va(t,null,d,u,Fa);else if("End"===n)e.preventDefault(),Va(t,null,d,u,za);else if(1===n.length){const o=g.current,i=n.toLowerCase(),s=performance.now();o.keys.length>0&&(s-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&i!==o.keys[0]&&(o.repeating=!1)),o.lastTime=s,o.keys.push(i);const a=r&&!o.repeating&&Ba(r,o);o.previousKeyMatched&&(a||Va(t,r,!1,u,Fa,o))?e.preventDefault():o.previousKeyMatched=!1}h&&h(e)},tabIndex:o?0:-1},f,{children:b}))}),qa=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Wa(e){return"scale(".concat(e,", ").concat(e**2,")")}const Ha={entering:{opacity:1,transform:Wa(1)},entered:{opacity:1,transform:"none"}},Ga="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ka=e.forwardRef(function(t,n){const{addEndListener:r,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:g,timeout:v="auto",TransitionComponent:y=er}=t,b=(0,s.A)(t,qa),x=ut(),w=e.useRef(),S=je(),E=e.useRef(null),k=rt(E,Fn(a),n),I=e=>t=>{if(e){const n=E.current;void 0===t?e(n):e(n,t)}},A=I(h),C=I((e,t)=>{tr(e);const{duration:n,delay:r,easing:o}=nr({style:g,timeout:v,easing:l},{mode:"enter"});let i;"auto"===v?(i=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=i):i=n,e.style.transition=[S.transitions.create("opacity",{duration:i,delay:r}),S.transitions.create("transform",{duration:Ga?i:.666*i,delay:r,easing:o})].join(","),u&&u(e,t)}),T=I(d),j=I(m),_=I(e=>{const{duration:t,delay:n,easing:r}=nr({style:g,timeout:v,easing:l},{mode:"exit"});let o;"auto"===v?(o=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=o):o=t,e.style.transition=[S.transitions.create("opacity",{duration:o,delay:n}),S.transitions.create("transform",{duration:Ga?o:.666*o,delay:Ga?n:n||.333*o,easing:r})].join(","),e.style.opacity=0,e.style.transform=Wa(.75),p&&p(e)}),R=I(f);return(0,$.jsx)(y,(0,i.A)({appear:o,in:c,nodeRef:E,onEnter:C,onEntered:T,onEntering:A,onExit:_,onExited:R,onExiting:j,addEndListener:e=>{"auto"===v&&x.start(w.current||0,e),r&&r(E.current,e)},timeout:"auto"===v?null:v},b,{children:(t,n)=>e.cloneElement(a,(0,i.A)({style:(0,i.A)({opacity:0,transform:Wa(.75),visibility:"exited"!==t||c?void 0:"hidden"},Ha[t],g,a.props.style),ref:k},n))}))});Ka.muiSupportAuto=!0;const Qa=Ka;function Xa(e){return re("MuiPopover",e)}oe("MuiPopover",["root","paper"]);const Ya=["onEntering"],$a=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Ja=["slotProps"];function Za(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function el(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function tl(e){return[e.horizontal,e.vertical].map(e=>"number"===typeof e?"".concat(e,"px"):e).join(" ")}function nl(e){return"function"===typeof e?e():e}const rl=fe(Ar,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ol=fe(Ge,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),il=e.forwardRef(function(t,n){var r,o,a;const l=be({props:t,name:"MuiPopover"}),{action:c,anchorEl:u,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:h,anchorReference:p="anchorEl",children:f,className:m,container:g,elevation:v=8,marginThreshold:y=16,open:b,PaperProps:x={},slots:w,slotProps:S,transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:k=Qa,transitionDuration:I="auto",TransitionProps:{onEntering:A}={},disableScrollLock:C=!1}=l,T=(0,s.A)(l.TransitionProps,Ya),j=(0,s.A)(l,$a),_=null!=(r=null==S?void 0:S.paper)?r:x,R=e.useRef(),P=rt(R,_.ref),N=(0,i.A)({},l,{anchorOrigin:d,anchorReference:p,elevation:v,marginThreshold:y,externalPaperSlotProps:_,transformOrigin:E,TransitionComponent:k,transitionDuration:I,TransitionProps:T}),L=(e=>{const{classes:t}=e;return ce({root:["root"],paper:["paper"]},Xa,t)})(N),O=e.useCallback(()=>{if("anchorPosition"===p)return h;const e=nl(u),t=(e&&1===e.nodeType?e:Oa(R.current).body).getBoundingClientRect();return{top:t.top+Za(t,d.vertical),left:t.left+el(t,d.horizontal)}},[u,d.horizontal,d.vertical,h,p]),M=e.useCallback(e=>({vertical:Za(e,E.vertical),horizontal:el(e,E.horizontal)}),[E.horizontal,E.vertical]),D=e.useCallback(e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=M(t);if("none"===p)return{top:null,left:null,transformOrigin:tl(n)};const r=O();let o=r.top-n.vertical,i=r.left-n.horizontal;const s=o+t.height,a=i+t.width,l=jr(nl(u)),c=l.innerHeight-y,d=l.innerWidth-y;if(null!==y&&o<y){const e=o-y;o-=e,n.vertical+=e}else if(null!==y&&s>c){const e=s-c;o-=e,n.vertical+=e}if(null!==y&&i<y){const e=i-y;i-=e,n.horizontal+=e}else if(a>d){const e=a-d;i-=e,n.horizontal+=e}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(i),"px"),transformOrigin:tl(n)}},[u,p,O,M,y]),[F,z]=e.useState(b),B=e.useCallback(()=>{const e=R.current;if(!e)return;const t=D(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,z(!0)},[D]);e.useEffect(()=>(C&&window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B)),[u,C,B]);e.useEffect(()=>{b&&B()}),e.useImperativeHandle(c,()=>b?{updatePosition:()=>{B()}}:null,[b,B]),e.useEffect(()=>{if(!b)return;const e=Tr(()=>{B()}),t=jr(u);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[u,b,B]);let V=I;"auto"!==I||k.muiSupportAuto||(V=void 0);const U=g||(u?Oa(nl(u)).body:void 0),q=null!=(o=null==w?void 0:w.root)?o:rl,H=null!=(a=null==w?void 0:w.paper)?a:ol,G=Dn({elementType:H,externalSlotProps:(0,i.A)({},_,{style:F?_.style:(0,i.A)({},_.style,{opacity:0})}),additionalProps:{elevation:v,ref:P},ownerState:N,className:W(L.paper,null==_?void 0:_.className)}),K=Dn({elementType:q,externalSlotProps:(null==S?void 0:S.root)||{},externalForwardedProps:j,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:U,open:b},ownerState:N,className:W(L.root,m)}),{slotProps:Q}=K,X=(0,s.A)(K,Ja);return(0,$.jsx)(q,(0,i.A)({},X,!_n(q)&&{slotProps:Q,disableScrollLock:C},{children:(0,$.jsx)(k,(0,i.A)({appear:!0,in:b,onEntering:(e,t)=>{A&&A(e,t),B()},onExited:()=>{z(!1)},timeout:V},T,{children:(0,$.jsx)(H,(0,i.A)({},G,{children:f}))}))}))}),sl=il;function al(e){return re("MuiMenu",e)}oe("MuiMenu",["root","paper","list"]);const ll=["onEntering"],cl=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ul={vertical:"top",horizontal:"right"},dl={vertical:"top",horizontal:"left"},hl=fe(sl,{shouldForwardProp:e=>pe(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),pl=fe(ol,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),fl=fe(Ua,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),ml=e.forwardRef(function(t,n){var r,o;const a=be({props:t,name:"MuiMenu"}),{autoFocus:l=!0,children:c,className:u,disableAutoFocusItem:d=!1,MenuListProps:h={},onClose:p,open:f,PaperProps:m={},PopoverClasses:g,transitionDuration:v="auto",TransitionProps:{onEntering:y}={},variant:b="selectedMenu",slots:x={},slotProps:w={}}=a,S=(0,s.A)(a.TransitionProps,ll),E=(0,s.A)(a,cl),k=Tn(),I=(0,i.A)({},a,{autoFocus:l,disableAutoFocusItem:d,MenuListProps:h,onEntering:y,PaperProps:m,transitionDuration:v,TransitionProps:S,variant:b}),A=(e=>{const{classes:t}=e;return ce({root:["root"],paper:["paper"],list:["list"]},al,t)})(I),C=l&&!d&&f,T=e.useRef(null);let j=-1;e.Children.map(c,(t,n)=>{e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===b&&t.props.selected||-1===j)&&(j=n))});const _=null!=(r=x.paper)?r:pl,R=null!=(o=w.paper)?o:m,P=Dn({elementType:x.root,externalSlotProps:w.root,ownerState:I,className:[A.root,u]}),N=Dn({elementType:_,externalSlotProps:R,ownerState:I,className:A.paper});return(0,$.jsx)(hl,(0,i.A)({onClose:p,anchorOrigin:{vertical:"bottom",horizontal:k?"right":"left"},transformOrigin:k?ul:dl,slots:{paper:_,root:x.root},slotProps:{root:P,paper:N},open:f,ref:n,transitionDuration:v,TransitionProps:(0,i.A)({onEntering:(e,t)=>{T.current&&T.current.adjustStyleForScrollbar(e,{direction:k?"rtl":"ltr"}),y&&y(e,t)}},S),ownerState:I},E,{classes:g,children:(0,$.jsx)(fl,(0,i.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),p&&p(e,"tabKeyDown"))},actions:T,autoFocus:l&&(-1===j||d),autoFocusItem:C,variant:b},h,{className:W(A.list,h.className),children:c}))}))});function gl(e){return re("MuiNativeSelect",e)}const vl=oe("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),yl=["className","disabled","error","IconComponent","inputRef","variant"],bl=e=>{let{ownerState:t,theme:n}=e;return(0,i.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,i.A)({},n.vars?{backgroundColor:"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(vl.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},xl=fe("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:pe,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(vl.multiple)]:t.multiple}]}})(bl),wl=e=>{let{ownerState:t,theme:n}=e;return(0,i.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,["&.".concat(vl.disabled)]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},Sl=fe("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(we(n.variant))],n.open&&t.iconOpen]}})(wl),El=e.forwardRef(function(t,n){const{className:r,disabled:o,error:a,IconComponent:l,inputRef:c,variant:u="standard"}=t,d=(0,s.A)(t,yl),h=(0,i.A)({},t,{disabled:o,variant:u,error:a}),p=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e;return ce({select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon","icon".concat(we(n)),i&&"iconOpen",r&&"disabled"]},gl,t)})(h);return(0,$.jsxs)(e.Fragment,{children:[(0,$.jsx)(xl,(0,i.A)({ownerState:h,className:W(p.select,r),disabled:o,ref:c||n},d)),t.multiple?null:(0,$.jsx)(Sl,{as:l,ownerState:h,className:p.icon})]})});const kl=function(t){let{controlled:n,default:r,name:o,state:i="value"}=t;const{current:s}=e.useRef(void 0!==n),[a,l]=e.useState(r);return[s?n:a,e.useCallback(e=>{s||l(e)},[])]};function Il(e){return re("MuiSelect",e)}const Al=oe("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Cl;const Tl=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],jl=fe("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(Al.select)]:t.select},{["&.".concat(Al.select)]:t[n.variant]},{["&.".concat(Al.error)]:t.error},{["&.".concat(Al.multiple)]:t.multiple}]}})(bl,{["&.".concat(Al.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),_l=fe("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(we(n.variant))],n.open&&t.iconOpen]}})(wl),Rl=fe("input",{shouldForwardProp:e=>he(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Pl(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Nl(e){return null==e||"string"===typeof e&&!e.trim()}const Ll=e.forwardRef(function(t,n){var r;const{"aria-describedby":o,"aria-label":l,autoFocus:c,autoWidth:u,children:d,className:h,defaultOpen:p,defaultValue:f,disabled:m,displayEmpty:g,error:v=!1,IconComponent:y,inputRef:b,labelId:x,MenuProps:w={},multiple:S,name:E,onBlur:k,onChange:I,onClose:A,onFocus:C,onOpen:T,open:j,readOnly:_,renderValue:R,SelectDisplayProps:P={},tabIndex:N,value:L,variant:O="standard"}=t,M=(0,s.A)(t,Tl),[D,F]=kl({controlled:L,default:f,name:"Select"}),[z,B]=kl({controlled:j,default:p,name:"Select"}),V=e.useRef(null),U=e.useRef(null),[q,H]=e.useState(null),{current:G}=e.useRef(null!=j),[K,Q]=e.useState(),X=rt(n,b),Y=e.useCallback(e=>{U.current=e,e&&H(e)},[]),J=null==q?void 0:q.parentNode;e.useImperativeHandle(X,()=>({focus:()=>{U.current.focus()},node:V.current,value:D}),[D]),e.useEffect(()=>{p&&z&&q&&!G&&(Q(u?null:J.clientWidth),U.current.focus())},[q,u]),e.useEffect(()=>{c&&U.current.focus()},[c]),e.useEffect(()=>{if(!x)return;const e=Oa(U.current).getElementById(x);if(e){const t=()=>{getSelection().isCollapsed&&U.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[x]);const Z=(e,t)=>{e?T&&T(t):A&&A(t),G||(Q(u?null:J.clientWidth),B(e))},ee=e.Children.toArray(d),te=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(S){n=Array.isArray(D)?D.slice():[];const t=D.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),D!==n&&(F(n),I)){const r=t.nativeEvent||t,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:E}}),I(o,e)}S||Z(!1,t)}},ne=null!==q&&z;let re,oe;delete M["aria-invalid"];const ie=[];let se=!1,ae=!1;(va({value:D})||g)&&(R?re=R(D):se=!0);const le=ee.map(t=>{if(!e.isValidElement(t))return null;let n;if(S){if(!Array.isArray(D))throw new Error((0,a.A)(2));n=D.some(e=>Pl(e,t.props.value)),n&&se&&ie.push(t.props.children)}else n=Pl(D,t.props.value),n&&se&&(oe=t.props.children);return n&&(ae=!0),e.cloneElement(t,{"aria-selected":n?"true":"false",onClick:te(t),onKeyUp:e=>{" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:n,value:void 0,"data-value":t.props.value})});se&&(re=S?0===ie.length?null:ie.reduce((e,t,n)=>(e.push(t),n<ie.length-1&&e.push(", "),e),[]):oe);let ue,de=K;!u&&G&&q&&(de=J.clientWidth),ue="undefined"!==typeof N?N:m?null:0;const he=P.id||(E?"mui-component-select-".concat(E):void 0),pe=(0,i.A)({},t,{variant:O,value:D,open:ne,error:v}),fe=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e;return ce({select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon","icon".concat(we(n)),i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},Il,t)})(pe),me=(0,i.A)({},w.PaperProps,null==(r=w.slotProps)?void 0:r.paper),ge=Go();return(0,$.jsxs)(e.Fragment,{children:[(0,$.jsx)(jl,(0,i.A)({ref:Y,tabIndex:ue,role:"combobox","aria-controls":ge,"aria-disabled":m?"true":void 0,"aria-expanded":ne?"true":"false","aria-haspopup":"listbox","aria-label":l,"aria-labelledby":[x,he].filter(Boolean).join(" ")||void 0,"aria-describedby":o,onKeyDown:e=>{if(!_){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),Z(!0,e))}},onMouseDown:m||_?null:e=>{0===e.button&&(e.preventDefault(),U.current.focus(),Z(!0,e))},onBlur:e=>{!ne&&k&&(Object.defineProperty(e,"target",{writable:!0,value:{value:D,name:E}}),k(e))},onFocus:C},P,{ownerState:pe,className:W(P.className,fe.select,h),id:he,children:Nl(re)?Cl||(Cl=(0,$.jsx)("span",{className:"notranslate",children:"\u200b"})):re})),(0,$.jsx)(Rl,(0,i.A)({"aria-invalid":v,value:Array.isArray(D)?D.join(","):D,name:E,ref:V,"aria-hidden":!0,onChange:e=>{const t=ee.find(t=>t.props.value===e.target.value);void 0!==t&&(F(t.props.value),I&&I(e,t))},tabIndex:-1,disabled:m,className:fe.nativeInput,autoFocus:c,ownerState:pe},M)),(0,$.jsx)(_l,{as:y,className:fe.icon,ownerState:pe}),(0,$.jsx)(ml,(0,i.A)({id:"menu-".concat(E||""),anchorEl:J,open:ne,onClose:e=>{Z(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:(0,i.A)({"aria-labelledby":x,role:"listbox","aria-multiselectable":S?"true":void 0,disableListWrap:!0,id:ge},w.MenuListProps),slotProps:(0,i.A)({},w.slotProps,{paper:(0,i.A)({},me,{style:(0,i.A)({minWidth:de},null!=me?me.style:null)})}),children:le}))]})}),Ol=ui((0,$.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Ml=["onChange","maxRows","minRows","style","value"];function Dl(e){return parseInt(e,10)||0}const Fl={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function zl(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const Bl=e.forwardRef(function(t,n){const{onChange:r,maxRows:o,minRows:a=1,style:l,value:c}=t,u=(0,s.A)(t,Ml),{current:d}=e.useRef(null!=c),h=e.useRef(null),p=nt(n,h),f=e.useRef(null),m=e.useRef(null),g=e.useCallback(()=>{const e=h.current,n=m.current;if(!e||!n)return;const r=hr(e).getComputedStyle(e);if("0px"===r.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=r.width,n.value=e.value||t.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const i=r.boxSizing,s=Dl(r.paddingBottom)+Dl(r.paddingTop),l=Dl(r.borderBottomWidth)+Dl(r.borderTopWidth),c=n.scrollHeight;n.value="x";const u=n.scrollHeight;let d=c;a&&(d=Math.max(Number(a)*u,d)),o&&(d=Math.min(Number(o)*u,d)),d=Math.max(d,u);return{outerHeightStyle:d+("border-box"===i?s+l:0),overflowing:Math.abs(d-c)<=1}},[o,a,t.placeholder]),v=it(()=>{const e=h.current,t=g();if(!e||!t||zl(t))return!1;const n=t.outerHeightStyle;return null!=f.current&&f.current!==n}),y=e.useCallback(()=>{const e=h.current,t=g();if(!e||!t||zl(t))return;const n=t.outerHeightStyle;f.current!==n&&(f.current=n,e.style.height="".concat(n,"px")),e.style.overflow=t.overflowing?"hidden":""},[g]),b=e.useRef(-1);ot(()=>{const e=Cr(y),t=null==h?void 0:h.current;if(!t)return;const n=hr(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver(()=>{v()&&(r.unobserve(t),cancelAnimationFrame(b.current),y(),b.current=requestAnimationFrame(()=>{r.observe(t)}))}),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(b.current),n.removeEventListener("resize",e),r&&r.disconnect()}},[g,y,v]),ot(()=>{y()});return(0,$.jsxs)(e.Fragment,{children:[(0,$.jsx)("textarea",(0,i.A)({value:c,onChange:e=>{d||y(),r&&r(e)},ref:p,rows:a,style:l},u)),(0,$.jsx)("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:m,tabIndex:-1,style:(0,i.A)({},Fl,l,{paddingTop:0,paddingBottom:0})})]})}),Vl=Bl;function Ul(e){return re("MuiInputBase",e)}const ql=oe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Wl=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Hl=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(we(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Gl=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Kl=fe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Hl})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(ql.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,i.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})}),Ql=fe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Gl})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,o=(0,i.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),s={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,i.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(ql.formControl," &")]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},["&.".concat(ql.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})}),Xl=(0,$.jsx)(ti,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Yl=e.forwardRef(function(t,n){var r;const o=be({props:t,name:"MuiInputBase"}),{"aria-describedby":l,autoComplete:c,autoFocus:u,className:d,components:h={},componentsProps:p={},defaultValue:f,disabled:m,disableInjectingGlobalStyles:g,endAdornment:v,fullWidth:y=!1,id:b,inputComponent:x="input",inputProps:w={},inputRef:S,maxRows:E,minRows:k,multiline:I=!1,name:A,onBlur:C,onChange:T,onClick:j,onFocus:_,onKeyDown:R,onKeyUp:P,placeholder:N,readOnly:L,renderSuffix:O,rows:M,slotProps:D={},slots:F={},startAdornment:z,type:B="text",value:V}=o,U=(0,s.A)(o,Wl),q=null!=w.value?w.value:V,{current:H}=e.useRef(null!=q),G=e.useRef(),K=e.useCallback(e=>{0},[]),Q=rt(G,S,w.ref,K),[X,Y]=e.useState(!1),J=ka();const Z=Ea({props:o,muiFormControl:J,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Z.focused=J?J.focused:X,e.useEffect(()=>{!J&&m&&X&&(Y(!1),C&&C())},[J,m,X,C]);const ee=J&&J.onFilled,te=J&&J.onEmpty,ne=e.useCallback(e=>{va(e)?ee&&ee():te&&te()},[ee,te]);Yr(()=>{H&&ne({value:q})},[q,ne,H]);e.useEffect(()=>{ne(G.current)},[]);let re=x,oe=w;I&&"input"===re&&(oe=M?(0,i.A)({type:void 0,minRows:M,maxRows:M},oe):(0,i.A)({type:void 0,maxRows:E,minRows:k},oe),re=Vl);e.useEffect(()=>{J&&J.setAdornedStart(Boolean(z))},[J,z]);const ie=(0,i.A)({},o,{color:Z.color||"primary",disabled:Z.disabled,endAdornment:v,error:Z.error,focused:Z.focused,formControl:J,fullWidth:y,hiddenLabel:Z.hiddenLabel,multiline:I,size:Z.size,startAdornment:z,type:B}),se=(e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=e;return ce({root:["root","color".concat(we(n)),r&&"disabled",o&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&"size".concat(we(h)),u&&"multiline",p&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]},Ul,t)})(ie),ae=F.root||h.Root||Kl,le=D.root||p.root||{},ue=F.input||h.Input||Ql;return oe=(0,i.A)({},oe,null!=(r=D.input)?r:p.input),(0,$.jsxs)(e.Fragment,{children:[!g&&Xl,(0,$.jsxs)(ae,(0,i.A)({},le,!_n(ae)&&{ownerState:(0,i.A)({},ie,le.ownerState)},{ref:n,onClick:e=>{G.current&&e.currentTarget===e.target&&G.current.focus(),j&&j(e)}},U,{className:W(se.root,le.className,d,L&&"MuiInputBase-readOnly"),children:[z,(0,$.jsx)(ya.Provider,{value:null,children:(0,$.jsx)(ue,(0,i.A)({ownerState:ie,"aria-invalid":Z.error,"aria-describedby":l,autoComplete:c,autoFocus:u,defaultValue:f,disabled:Z.disabled,id:b,onAnimationStart:e=>{ne("mui-auto-fill-cancel"===e.animationName?G.current:{value:"x"})},name:A,placeholder:N,readOnly:L,required:Z.required,rows:M,value:q,onKeyDown:R,onKeyUp:P,type:B},oe,!_n(ue)&&{as:re,ownerState:(0,i.A)({},ie,oe.ownerState)},{ref:Q,className:W(se.input,oe.className,L&&"MuiInputBase-readOnly"),onBlur:e=>{C&&C(e),w.onBlur&&w.onBlur(e),J&&J.onBlur?J.onBlur(e):Y(!1)},onChange:function(e){if(!H){const t=e.target||G.current;if(null==t)throw new Error((0,a.A)(1));ne({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];w.onChange&&w.onChange(e,...n),T&&T(e,...n)},onFocus:e=>{Z.disabled?e.stopPropagation():(_&&_(e),w.onFocus&&w.onFocus(e),J&&J.onFocus?J.onFocus(e):Y(!0))}}))}),v,O?O((0,i.A)({},Z,{startAdornment:z})):null]}))]})}),$l=Yl;function Jl(e){return re("MuiInput",e)}const Zl=(0,i.A)({},ql,oe("MuiInput",["root","underline","input"])),ec=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],tc=fe(Kl,{shouldForwardProp:e=>pe(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Hl(e,t),!n.disableUnderline&&t.underline]}})(e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r="rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")")),(0,i.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(Zl.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(Zl.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(Zl.disabled,", .").concat(Zl.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},["&.".concat(Zl.disabled,":before")]:{borderBottomStyle:"dotted"}})}),nc=fe(Ql,{name:"MuiInput",slot:"Input",overridesResolver:Gl})({}),rc=e.forwardRef(function(e,t){var n,r,o,a;const c=be({props:e,name:"MuiInput"}),{disableUnderline:u,components:d={},componentsProps:h,fullWidth:p=!1,inputComponent:f="input",multiline:m=!1,slotProps:g,slots:v={},type:y="text"}=c,b=(0,s.A)(c,ec),x=(e=>{const{classes:t,disableUnderline:n}=e,r=ce({root:["root",!n&&"underline"],input:["input"]},Jl,t);return(0,i.A)({},t,r)})(c),w={root:{ownerState:{disableUnderline:u}}},S=(null!=g?g:h)?(0,l.A)(null!=g?g:h,w):w,E=null!=(n=null!=(r=v.root)?r:d.Root)?n:tc,k=null!=(o=null!=(a=v.input)?a:d.Input)?o:nc;return(0,$.jsx)($l,(0,i.A)({slots:{root:E,input:k},slotProps:S,fullWidth:p,inputComponent:f,multiline:m,ref:t,type:y},b,{classes:x}))});rc.muiName="Input";const oc=rc;function ic(e){return re("MuiFilledInput",e)}const sc=(0,i.A)({},ql,oe("MuiFilledInput",["root","underline","input"])),ac=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],lc=fe(Kl,{shouldForwardProp:e=>pe(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Hl(e,t),!n.disableUnderline&&t.underline]}})(e=>{let{theme:t,ownerState:n}=e;var r;const o="light"===t.palette.mode,s=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",c=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,i.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},["&.".concat(sc.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},["&.".concat(sc.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:c}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat(null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(sc.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(sc.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")"):s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(sc.disabled,", .").concat(sc.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(sc.disabled,":before")]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,i.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))}),cc=fe(Ql,{name:"MuiFilledInput",slot:"Input",overridesResolver:Gl})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})}),uc=e.forwardRef(function(e,t){var n,r,o,a;const c=be({props:e,name:"MuiFilledInput"}),{components:u={},componentsProps:d,fullWidth:h=!1,inputComponent:p="input",multiline:f=!1,slotProps:m,slots:g={},type:v="text"}=c,y=(0,s.A)(c,ac),b=(0,i.A)({},c,{fullWidth:h,inputComponent:p,multiline:f,type:v}),x=(e=>{const{classes:t,disableUnderline:n}=e,r=ce({root:["root",!n&&"underline"],input:["input"]},ic,t);return(0,i.A)({},t,r)})(c),w={root:{ownerState:b},input:{ownerState:b}},S=(null!=m?m:d)?(0,l.A)(w,null!=m?m:d):w,E=null!=(n=null!=(r=g.root)?r:u.Root)?n:lc,k=null!=(o=null!=(a=g.input)?a:u.Input)?o:cc;return(0,$.jsx)($l,(0,i.A)({slots:{root:E,input:k},componentsProps:S,fullWidth:h,inputComponent:p,multiline:f,ref:t,type:v},y,{classes:x}))});uc.muiName="Input";const dc=uc;var hc;const pc=["children","classes","className","label","notched"],fc=fe("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:pe})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),mc=fe("legend",{name:"MuiNotchedOutlined",shouldForwardProp:pe})(e=>{let{ownerState:t,theme:n}=e;return(0,i.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,i.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))});function gc(e){return re("MuiOutlinedInput",e)}const vc=(0,i.A)({},ql,oe("MuiOutlinedInput",["root","notchedOutline","input"])),yc=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],bc=fe(Kl,{shouldForwardProp:e=>pe(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:Hl})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,i.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(vc.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(vc.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):r}},["&.".concat(vc.focused," .").concat(vc.notchedOutline)]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},["&.".concat(vc.error," .").concat(vc.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(vc.disabled," .").concat(vc.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,i.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))}),xc=fe(function(e){const{className:t,label:n,notched:r}=e,o=(0,s.A)(e,pc),a=null!=n&&""!==n,l=(0,i.A)({},e,{notched:r,withLabel:a});return(0,$.jsx)(fc,(0,i.A)({"aria-hidden":!0,className:t,ownerState:l},o,{children:(0,$.jsx)(mc,{ownerState:l,children:a?(0,$.jsx)("span",{children:n}):hc||(hc=(0,$.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))},{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}}),wc=fe(Ql,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Gl})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})}),Sc=e.forwardRef(function(t,n){var r,o,a,l,c;const u=be({props:t,name:"MuiOutlinedInput"}),{components:d={},fullWidth:h=!1,inputComponent:p="input",label:f,multiline:m=!1,notched:g,slots:v={},type:y="text"}=u,b=(0,s.A)(u,yc),x=(e=>{const{classes:t}=e,n=ce({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},gc,t);return(0,i.A)({},t,n)})(u),w=ka(),S=Ea({props:u,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),E=(0,i.A)({},u,{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:w,fullWidth:h,hiddenLabel:S.hiddenLabel,multiline:m,size:S.size,type:y}),k=null!=(r=null!=(o=v.root)?o:d.Root)?r:bc,I=null!=(a=null!=(l=v.input)?l:d.Input)?a:wc;return(0,$.jsx)($l,(0,i.A)({slots:{root:k,input:I},renderSuffix:t=>(0,$.jsx)(xc,{ownerState:E,className:x.notchedOutline,label:null!=f&&""!==f&&S.required?c||(c=(0,$.jsxs)(e.Fragment,{children:[f,"\u2009","*"]})):f,notched:"undefined"!==typeof g?g:Boolean(t.startAdornment||t.filled||t.focused)}),fullWidth:h,inputComponent:p,multiline:m,ref:n,type:y},b,{classes:(0,i.A)({},x,{notchedOutline:null})}))});Sc.muiName="Input";const Ec=Sc,kc=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Ic=["root"],Ac={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>pe(e)&&"variant"!==e,slot:"Root"},Cc=fe(oc,Ac)(""),Tc=fe(Ec,Ac)(""),jc=fe(dc,Ac)(""),_c=e.forwardRef(function(t,n){const r=be({name:"MuiSelect",props:t}),{autoWidth:o=!1,children:a,classes:c={},className:u,defaultOpen:d=!1,displayEmpty:h=!1,IconComponent:p=Ol,id:f,input:m,inputProps:g,label:v,labelId:y,MenuProps:b,multiple:x=!1,native:w=!1,onClose:S,onOpen:E,open:k,renderValue:I,SelectDisplayProps:A,variant:C="outlined"}=r,T=(0,s.A)(r,kc),j=w?El:Ll,_=Ea({props:r,muiFormControl:ka(),states:["variant","error"]}),R=_.variant||C,P=(0,i.A)({},r,{variant:R,classes:c}),N=(e=>{const{classes:t}=e;return t})(P),L=(0,s.A)(N,Ic),O=m||{standard:(0,$.jsx)(Cc,{ownerState:P}),outlined:(0,$.jsx)(Tc,{label:v,ownerState:P}),filled:(0,$.jsx)(jc,{ownerState:P})}[R],M=rt(n,Fn(O));return(0,$.jsx)(e.Fragment,{children:e.cloneElement(O,(0,i.A)({inputComponent:j,inputProps:(0,i.A)({children:a,error:_.error,IconComponent:p,variant:R,type:void 0,multiple:x},w?{id:f}:{autoWidth:o,defaultOpen:d,displayEmpty:h,labelId:y,MenuProps:b,onClose:S,onOpen:E,open:k,renderValue:I,SelectDisplayProps:(0,i.A)({id:f},A)},g,{classes:g?(0,l.A)(L,g.classes):L},m?m.props.inputProps:{})},(x&&w||h)&&"outlined"===R?{notched:!0}:{},{ref:M,className:W(O.props.className,u,N.root)},!m&&{variant:R},T))})});_c.muiName="Select";const Rc=_c;function Pc(e){return re("MuiDivider",e)}const Nc=oe("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function Lc(e){return re("MuiMenuItem",e)}const Oc=oe("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Mc=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Dc=fe(en,{shouldForwardProp:e=>pe(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(Oc.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,p.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(Oc.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,p.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(Oc.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,p.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,p.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(Oc.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(Oc.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(Nc.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(Nc.inset)]:{marginLeft:52},["& .".concat(vo.root)]:{marginTop:0,marginBottom:0},["& .".concat(vo.inset)]:{paddingLeft:36},["& .".concat(ho.root)]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,i.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(ho.root," svg")]:{fontSize:"1.25rem"}}))}),Fc=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiMenuItem"}),{autoFocus:o=!1,component:a="li",dense:l=!1,divider:c=!1,disableGutters:u=!1,focusVisibleClassName:d,role:h="menuitem",tabIndex:p,className:f}=r,m=(0,s.A)(r,Mc),g=e.useContext(Wr),v=e.useMemo(()=>({dense:l||g.dense||!1,disableGutters:u}),[g.dense,l,u]),y=e.useRef(null);Yr(()=>{o&&y.current&&y.current.focus()},[o]);const b=(0,i.A)({},r,{dense:v.dense,divider:c,disableGutters:u}),x=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:s,classes:a}=e,l=ce({root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",s&&"selected"]},Lc,a);return(0,i.A)({},a,l)})(r),w=rt(y,n);let S;return r.disabled||(S=void 0!==p?p:-1),(0,$.jsx)(Wr.Provider,{value:v,children:(0,$.jsx)(Dc,(0,i.A)({ref:w,role:h,tabIndex:S,component:a,focusVisibleClassName:W(x.focusVisible,d),className:W(x.root,f)},m,{ownerState:b,classes:x}))})});function zc(e){return re("MuiFormGroup",e)}oe("MuiFormGroup",["root","row","error"]);const Bc=["className","row"],Vc=fe("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(e=>{let{ownerState:t}=e;return(0,i.A)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})}),Uc=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiFormGroup"}),{className:r,row:o=!1}=n,a=(0,s.A)(n,Bc),l=Ea({props:n,muiFormControl:ka(),states:["error"]}),c=(0,i.A)({},n,{row:o,error:l.error}),u=(e=>{const{classes:t,row:n,error:r}=e;return ce({root:["root",n&&"row",r&&"error"]},zc,t)})(c);return(0,$.jsx)(Vc,(0,i.A)({className:W(u.root,r),ownerState:c,ref:t},a))});function qc(e){return re("MuiRadioGroup",e)}oe("MuiRadioGroup",["root","row","error"]);const Wc=e.createContext(void 0),Hc=Go,Gc=["actions","children","className","defaultValue","name","onChange","value"],Kc=e.forwardRef(function(t,n){const{actions:r,children:o,className:a,defaultValue:l,name:c,onChange:u,value:d}=t,h=(0,s.A)(t,Gc),p=e.useRef(null),f=(e=>{const{classes:t,row:n,error:r}=e;return ce({root:["root",n&&"row",r&&"error"]},qc,t)})(t),[m,g]=kl({controlled:d,default:l,name:"RadioGroup"});e.useImperativeHandle(r,()=>({focus:()=>{let e=p.current.querySelector("input:not(:disabled):checked");e||(e=p.current.querySelector("input:not(:disabled)")),e&&e.focus()}}),[]);const v=rt(n,p),y=Hc(c),b=e.useMemo(()=>({name:y,onChange(e){g(e.target.value),u&&u(e,e.target.value)},value:m}),[y,u,g,m]);return(0,$.jsx)(Wc.Provider,{value:b,children:(0,$.jsx)(Uc,(0,i.A)({role:"radiogroup",ref:v,className:W(f.root,a)},h,{children:o}))})});var Qc=n(8604);const Xc=["component","direction","spacing","divider","children","className","useFlexGap"],Yc=(0,d.A)(),$c=No("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function Jc(e){return wo({props:e,name:"MuiStack",defaultTheme:Yc})}function Zc(t,n){const r=e.Children.toArray(t).filter(Boolean);return r.reduce((t,o,i)=>(t.push(o),i<r.length-1&&t.push(e.cloneElement(n,{key:"separator-".concat(i)})),t),[])}const eu=e=>{let{ownerState:t,theme:n}=e,r=(0,i.A)({display:"flex",flexDirection:"column"},(0,Te.NI)({theme:n},(0,Te.kW)({values:t.direction,breakpoints:n.breakpoints.values}),e=>({flexDirection:e})));if(t.spacing){const e=(0,Qc.LX)(n),o=Object.keys(n.breakpoints.values).reduce((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e),{}),i=(0,Te.kW)({values:t.direction,base:o}),s=(0,Te.kW)({values:t.spacing,base:o});"object"===typeof i&&Object.keys(i).forEach((e,t,n)=>{if(!i[e]){const r=t>0?i[n[t-1]]:"column";i[e]=r}});const a=(n,r)=>{return t.useFlexGap?{gap:(0,Qc._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((o=r?i[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]))]:(0,Qc._W)(e,n)}};var o};r=(0,l.A)(r,(0,Te.NI)({theme:n},s,a))}return r=(0,Te.iZ)(n.breakpoints,r),r};const tu=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=$c,useThemeProps:r=Jc,componentName:o="MuiStack"}=t,a=n(eu),l=e.forwardRef(function(e,t){const n=r(e),l=(0,G.A)(n),{component:c="div",direction:u="column",spacing:d=0,divider:h,children:p,className:f,useFlexGap:m=!1}=l,g=(0,s.A)(l,Xc),v={direction:u,spacing:d,useFlexGap:m},y=ce({root:["root"]},e=>re(o,e),{});return(0,$.jsx)(a,(0,i.A)({as:c,ownerState:v,ref:t,className:W(y.root,f)},g,{children:h?Zc(p,h):p}))});return l}({createStyledComponent:fe("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>be({props:e,name:"MuiStack"})}),nu=tu;function ru(e){return re("MuiFormControlLabel",e)}const ou=oe("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),iu=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],su=fe("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(ou.label)]:t.label},t.root,t["labelPlacement".concat(we(n.labelPlacement))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(ou.disabled)]:{cursor:"default"}},"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},{["& .".concat(ou.label)]:{["&.".concat(ou.disabled)]:{color:(t.vars||t).palette.text.disabled}}})}),au=fe("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(e=>{let{theme:t}=e;return{["&.".concat(ou.error)]:{color:(t.vars||t).palette.error.main}}}),lu=e.forwardRef(function(t,n){var r,o;const a=be({props:t,name:"MuiFormControlLabel"}),{className:l,componentsProps:c={},control:u,disabled:d,disableTypography:h,label:p,labelPlacement:f="end",required:m,slotProps:g={}}=a,v=(0,s.A)(a,iu),y=ka(),b=null!=(r=null!=d?d:u.props.disabled)?r:null==y?void 0:y.disabled,x=null!=m?m:u.props.required,w={disabled:b,required:x};["checked","name","onChange","value","inputRef"].forEach(e=>{"undefined"===typeof u.props[e]&&"undefined"!==typeof a[e]&&(w[e]=a[e])});const S=Ea({props:a,muiFormControl:y,states:["error"]}),E=(0,i.A)({},a,{disabled:b,labelPlacement:f,required:x,error:S.error}),k=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:o,required:i}=e;return ce({root:["root",n&&"disabled","labelPlacement".concat(we(r)),o&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]},ru,t)})(E),I=null!=(o=g.typography)?o:c.typography;let A=p;return null==A||A.type===Ce||h||(A=(0,$.jsx)(Ce,(0,i.A)({component:"span"},I,{className:W(k.label,null==I?void 0:I.className),children:A}))),(0,$.jsxs)(su,(0,i.A)({className:W(k.root,l),ownerState:E,ref:n},v,{children:[e.cloneElement(u,w),x?(0,$.jsxs)(nu,{display:"block",children:[A,(0,$.jsxs)(au,{ownerState:E,"aria-hidden":!0,className:k.asterisk,children:["\u2009","*"]})]}):A]}))});function cu(e){return re("PrivateSwitchBase",e)}oe("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const uu=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],du=fe(en,{name:"MuiSwitchBase"})(e=>{let{ownerState:t}=e;return(0,i.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})}),hu=fe("input",{name:"MuiSwitchBase",shouldForwardProp:pe})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),pu=e.forwardRef(function(e,t){const{autoFocus:n,checked:r,checkedIcon:o,className:a,defaultChecked:l,disabled:c,disableFocusRipple:u=!1,edge:d=!1,icon:h,id:p,inputProps:f,inputRef:m,name:g,onBlur:v,onChange:y,onFocus:b,readOnly:x,required:w=!1,tabIndex:S,type:E,value:k}=e,I=(0,s.A)(e,uu),[A,C]=kl({controlled:r,default:Boolean(l),name:"SwitchBase",state:"checked"}),T=ka();let j=c;T&&"undefined"===typeof j&&(j=T.disabled);const _="checkbox"===E||"radio"===E,R=(0,i.A)({},e,{checked:A,disabled:j,disableFocusRipple:u,edge:d}),P=(e=>{const{classes:t,checked:n,disabled:r,edge:o}=e;return ce({root:["root",n&&"checked",r&&"disabled",o&&"edge".concat(we(o))],input:["input"]},cu,t)})(R);return(0,$.jsxs)(du,(0,i.A)({component:"span",className:W(P.root,a),centerRipple:!0,focusRipple:!u,disabled:j,tabIndex:null,role:void 0,onFocus:e=>{b&&b(e),T&&T.onFocus&&T.onFocus(e)},onBlur:e=>{v&&v(e),T&&T.onBlur&&T.onBlur(e)},ownerState:R,ref:t},I,{children:[(0,$.jsx)(hu,(0,i.A)({autoFocus:n,checked:r,defaultChecked:l,className:P.input,disabled:j,id:_?p:void 0,name:g,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;C(t),y&&y(e,t)},readOnly:x,ref:m,required:w,ownerState:R,tabIndex:S,type:E},"checkbox"===E&&void 0===k?{}:{value:k},f)),A?o:h]}))}),fu=ui((0,$.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),mu=ui((0,$.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),gu=fe("span",{name:"MuiRadioButtonIcon",shouldForwardProp:pe})({position:"relative",display:"flex"}),vu=fe(fu,{name:"MuiRadioButtonIcon"})({transform:"scale(1)"}),yu=fe(mu,{name:"MuiRadioButtonIcon"})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})});const bu=function(e){const{checked:t=!1,classes:n={},fontSize:r}=e,o=(0,i.A)({},e,{checked:t});return(0,$.jsxs)(gu,{className:n.root,ownerState:o,children:[(0,$.jsx)(vu,{fontSize:r,className:n.background,ownerState:o}),(0,$.jsx)(yu,{fontSize:r,className:n.dot,ownerState:o})]})},xu=dr;function wu(e){return re("MuiRadio",e)}const Su=oe("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),Eu=["checked","checkedIcon","color","icon","name","onChange","size","className"],ku=fe(pu,{shouldForwardProp:e=>pe(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"medium"!==n.size&&t["size".concat(we(n.size))],t["color".concat(we(n.color))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,p.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(Su.checked)]:{color:(t.vars||t).palette[n.color].main}},{["&.".concat(Su.disabled)]:{color:(t.vars||t).palette.action.disabled}})});const Iu=(0,$.jsx)(bu,{checked:!0}),Au=(0,$.jsx)(bu,{}),Cu=e.forwardRef(function(t,n){var r,o;const a=be({props:t,name:"MuiRadio"}),{checked:l,checkedIcon:c=Iu,color:u="primary",icon:d=Au,name:h,onChange:p,size:f="medium",className:m}=a,g=(0,s.A)(a,Eu),v=(0,i.A)({},a,{color:u,size:f}),y=(e=>{const{classes:t,color:n,size:r}=e,o={root:["root","color".concat(we(n)),"medium"!==r&&"size".concat(we(r))]};return(0,i.A)({},t,ce(o,wu,t))})(v),b=e.useContext(Wc);let x=l;const w=xu(p,b&&b.onChange);let S=h;var E,k;return b&&("undefined"===typeof x&&(E=b.value,x="object"===typeof(k=a.value)&&null!==k?E===k:String(E)===String(k)),"undefined"===typeof S&&(S=b.name)),(0,$.jsx)(ku,(0,i.A)({type:"radio",icon:e.cloneElement(d,{fontSize:null!=(r=Au.props.fontSize)?r:f}),checkedIcon:e.cloneElement(c,{fontSize:null!=(o=Iu.props.fontSize)?o:f}),ownerState:v,classes:y,name:S,checked:x,onChange:w,ref:n,className:W(y.root,m)},g))}),Tu=ui((0,$.jsx)("path",{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.3 3-3.4 3-5.7 0-3.9-3.1-7-7-7"}),"Lightbulb"),ju=ui((0,$.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),_u=t=>{var n;let{question:r,onAnswer:o,showExplanation:i=!0}=t;const[s,a]=(0,e.useState)(""),[l,c]=(0,e.useState)(!1),[u]=(0,e.useState)(()=>Date.now()),d=l&&s===r.correctAnswer;l&&r.correctAnswer;return(0,$.jsx)(Ye,{elevation:3,sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:r.text}),r.grammarFocus&&r.grammarFocus.length>0&&(0,$.jsx)(le,{sx:{display:"flex",gap:1,mt:2,flexWrap:"wrap"},children:r.grammarFocus.map((e,t)=>(0,$.jsx)(ys,{label:e,size:"small",color:"primary",variant:"outlined",icon:(0,$.jsx)(Tu,{})},t))})]}),(0,$.jsx)(Sa,{component:"fieldset",fullWidth:!0,disabled:l,children:(0,$.jsx)(Kc,{value:s,onChange:e=>a(e.target.value),children:null===(n=r.options)||void 0===n?void 0:n.map((e,t)=>(0,$.jsx)(lu,{value:e,control:(0,$.jsx)(Cu,{}),label:(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$.jsx)(Ce,{children:e}),l&&e===r.correctAnswer&&(0,$.jsx)(ha,{color:"success",fontSize:"small"}),l&&e===s&&e!==r.correctAnswer&&(0,$.jsx)(ju,{color:"error",fontSize:"small"})]}),sx:{p:2,mb:1,border:1,borderColor:l&&e===r.correctAnswer?"success.main":l&&e===s?"error.main":"grey.300",borderRadius:2,bgcolor:l&&e===r.correctAnswer?"success.light":l&&e===s?"error.light":"transparent"}},t))})}),!l&&(0,$.jsx)(dn,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{const e=s===r.correctAnswer,t=Math.floor((Date.now()-u)/1e3);c(!0),o(s,e,t)},disabled:!s,sx:{mt:3},children:"Valider la r\xe9ponse"}),l&&(0,$.jsxs)(le,{sx:{mt:3},children:[(0,$.jsx)(Ms,{severity:d?"success":"error",icon:d?(0,$.jsx)(ha,{}):(0,$.jsx)(ju,{}),children:(0,$.jsx)(Ce,{variant:"subtitle2",children:d?"Bonne r\xe9ponse !":"R\xe9ponse incorrecte"})}),i&&(0,$.jsxs)(le,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Explication :"}),(0,$.jsx)(Ce,{variant:"body2",children:r.explanation})]})]})]})})};function Ru(e){return re("MuiFormHelperText",e)}const Pu=oe("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Nu;const Lu=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Ou=fe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat(we(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(Pu.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(Pu.error)]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})}),Mu=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiFormHelperText"}),{children:r,className:o,component:a="p"}=n,l=(0,s.A)(n,Lu),c=Ea({props:n,muiFormControl:ka(),states:["variant","size","disabled","error","filled","focused","required"]}),u=(0,i.A)({},n,{component:a,contained:"filled"===c.variant||"outlined"===c.variant,variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=(e=>{const{classes:t,contained:n,size:r,disabled:o,error:i,filled:s,focused:a,required:l}=e;return ce({root:["root",o&&"disabled",i&&"error",r&&"size".concat(we(r)),n&&"contained",a&&"focused",s&&"filled",l&&"required"]},Ru,t)})(u);return(0,$.jsx)(Ou,(0,i.A)({as:a,ownerState:u,className:W(d.root,o),ref:t},l,{children:" "===r?Nu||(Nu=(0,$.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))});function Du(e){return re("MuiTextField",e)}oe("MuiTextField",["root"]);const Fu=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],zu={standard:oc,filled:dc,outlined:Ec},Bu=fe(Sa,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Vu=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:o=!1,children:a,className:l,color:c="primary",defaultValue:u,disabled:d=!1,error:h=!1,FormHelperTextProps:p,fullWidth:f=!1,helperText:m,id:g,InputLabelProps:v,inputProps:y,InputProps:b,inputRef:x,label:w,maxRows:S,minRows:E,multiline:k=!1,name:I,onBlur:A,onChange:C,onFocus:T,placeholder:j,required:_=!1,rows:R,select:P=!1,SelectProps:N,type:L,value:O,variant:M="outlined"}=n,D=(0,s.A)(n,Fu),F=(0,i.A)({},n,{autoFocus:o,color:c,disabled:d,error:h,fullWidth:f,multiline:k,required:_,select:P,variant:M}),z=(e=>{const{classes:t}=e;return ce({root:["root"]},Du,t)})(F);const B={};"outlined"===M&&(v&&"undefined"!==typeof v.shrink&&(B.notched=v.shrink),B.label=w),P&&(N&&N.native||(B.id=void 0),B["aria-describedby"]=void 0);const V=Go(g),U=m&&V?"".concat(V,"-helper-text"):void 0,q=w&&V?"".concat(V,"-label"):void 0,H=zu[M],G=(0,$.jsx)(H,(0,i.A)({"aria-describedby":U,autoComplete:r,autoFocus:o,defaultValue:u,fullWidth:f,multiline:k,name:I,rows:R,maxRows:S,minRows:E,type:L,value:O,id:V,inputRef:x,onBlur:A,onChange:C,onFocus:T,placeholder:j,inputProps:y},B,b));return(0,$.jsxs)(Bu,(0,i.A)({className:W(z.root,l),disabled:d,error:h,fullWidth:f,ref:t,required:_,color:c,variant:M,ownerState:F},D,{children:[null!=w&&""!==w&&(0,$.jsx)(La,(0,i.A)({htmlFor:V,id:q},v,{children:w})),P?(0,$.jsx)(Rc,(0,i.A)({"aria-describedby":U,id:V,labelId:q,value:O,input:G},N,{children:a})):G,m&&(0,$.jsx)(Mu,(0,i.A)({id:U},p,{children:m}))]}))}),Uu=t=>{let{question:n,onAnswer:r,showExplanation:o=!0}=t;const[i,s]=(0,e.useState)(""),[a,l]=(0,e.useState)(!1),[c]=(0,e.useState)(()=>Date.now()),u=a&&i.trim().toLowerCase()===(Array.isArray(n.correctAnswer)?n.correctAnswer[0]:n.correctAnswer).toLowerCase();return(0,$.jsx)(Ye,{elevation:3,sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Compl\xe9tez le texte \xe0 trous"}),n.grammarFocus&&n.grammarFocus.length>0&&(0,$.jsx)(le,{sx:{display:"flex",gap:1,mt:2,mb:3,flexWrap:"wrap"},children:n.grammarFocus.map((e,t)=>(0,$.jsx)(ys,{label:e,size:"small",color:"primary",variant:"outlined",icon:(0,$.jsx)(Tu,{})},t))}),(0,$.jsx)(le,{sx:{p:3,bgcolor:"grey.50",borderRadius:2,fontSize:"1.1rem",lineHeight:2},children:(0,$.jsx)(Ce,{component:"div",variant:"body1",children:(t=>{const n=t.split("___");return n.map((t,r)=>(0,$.jsxs)(e.Fragment,{children:[t,r<n.length-1&&(0,$.jsx)(Vu,{size:"small",variant:"outlined",disabled:a,value:i,onChange:e=>s(e.target.value),sx:{mx:1,minWidth:150,"& .MuiOutlinedInput-root":{bgcolor:a?u?"success.light":"error.light":"white"}}})]},r))})(n.text)})})]}),!a&&(0,$.jsx)(dn,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{const e=Array.isArray(n.correctAnswer)?n.correctAnswer[0]:n.correctAnswer,t=i.trim().toLowerCase()===e.toLowerCase(),o=Math.floor((Date.now()-c)/1e3);l(!0),r(i,t,o)},disabled:!i.trim(),sx:{mt:3},children:"Valider la r\xe9ponse"}),a&&(0,$.jsxs)(le,{sx:{mt:3},children:[(0,$.jsxs)(Ms,{severity:u?"success":"error",icon:u?(0,$.jsx)(ha,{}):(0,$.jsx)(ju,{}),children:[(0,$.jsx)(Ce,{variant:"subtitle2",children:u?"Bonne r\xe9ponse !":"R\xe9ponse incorrecte"}),!u&&(0,$.jsxs)(Ce,{variant:"body2",sx:{mt:1},children:["La r\xe9ponse correcte \xe9tait : ",(0,$.jsx)("strong",{children:n.correctAnswer})]})]}),o&&(0,$.jsxs)(le,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Explication :"}),(0,$.jsx)(Ce,{variant:"body2",children:n.explanation})]})]})]})})},qu=t=>{var n;let{question:r,onAnswer:o,audioUrl:i,transcript:s,showExplanation:a=!0}=t;const[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(!1),[h]=(0,e.useState)(()=>Date.now()),[p,f]=(0,e.useState)(!1),m=(0,e.useRef)(null),g=u&&l===r.correctAnswer;u&&r.correctAnswer;return(0,$.jsx)(Ye,{elevation:3,sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:r.text}),r.grammarFocus&&r.grammarFocus.length>0&&(0,$.jsx)(le,{sx:{display:"flex",gap:1,mt:2,flexWrap:"wrap"},children:r.grammarFocus.map((e,t)=>(0,$.jsx)(ys,{label:e,size:"small",color:"primary",variant:"outlined"},t))}),i&&(0,$.jsxs)(le,{sx:{mt:3,mb:2,p:2,bgcolor:"primary.light",borderRadius:2,border:2,borderColor:"primary.main"},children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,$.jsx)(Ce,{variant:"h6",sx:{color:"white",flexGrow:1},children:"Audio"}),(0,$.jsx)("audio",{ref:m,src:i,controls:!0,style:{flexGrow:1,maxWidth:"400px"},onPlay:()=>f(!0),onPause:()=>f(!1),onEnded:()=>f(!1)})]}),(0,$.jsx)(Ce,{variant:"caption",sx:{display:"block",mt:1,color:"white"},children:"\ud83d\udca1 \xc9coutez attentivement l'audio avant de r\xe9pondre"})]}),s&&!u&&(0,$.jsx)(Ms,{severity:"info",sx:{mt:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Conseil :"})," \xc9coutez l'audio attentivement. La transcription sera disponible apr\xe8s avoir r\xe9pondu."]})}),s&&u&&(0,$.jsxs)(le,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Transcription :"}),(0,$.jsx)(Ce,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:s})]})]}),(0,$.jsx)(Sa,{component:"fieldset",fullWidth:!0,disabled:u,children:(0,$.jsx)(Kc,{value:l,onChange:e=>c(e.target.value),children:null===(n=r.options)||void 0===n?void 0:n.map((e,t)=>(0,$.jsx)(lu,{value:e,control:(0,$.jsx)(Cu,{}),label:(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$.jsx)(Ce,{children:e}),u&&e===r.correctAnswer&&(0,$.jsx)(ha,{color:"success",fontSize:"small"}),u&&e===l&&e!==r.correctAnswer&&(0,$.jsx)(ju,{color:"error",fontSize:"small"})]}),sx:{p:2,mb:1,border:1,borderColor:u&&e===r.correctAnswer?"success.main":u&&e===l?"error.main":"grey.300",borderRadius:2,bgcolor:u&&e===r.correctAnswer?"success.light":u&&e===l?"error.light":"transparent"}},t))})}),!u&&(0,$.jsx)(dn,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{const e=l===r.correctAnswer,t=Math.floor((Date.now()-h)/1e3);d(!0),o(l,e,t)},disabled:!l,sx:{mt:3},children:"Valider la r\xe9ponse"}),u&&(0,$.jsxs)(le,{sx:{mt:3},children:[(0,$.jsx)(Ms,{severity:g?"success":"error",icon:g?(0,$.jsx)(ha,{}):(0,$.jsx)(ju,{}),children:(0,$.jsx)(Ce,{variant:"subtitle2",children:g?"Bonne r\xe9ponse !":"R\xe9ponse incorrecte"})}),a&&(0,$.jsxs)(le,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Explication :"}),(0,$.jsx)(Ce,{variant:"body2",children:r.explanation})]})]})]})})},Wu=t=>{var n;let{question:r,onAnswer:o,text:i,showExplanation:s=!0}=t;const[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(!1),[d]=(0,e.useState)(()=>Date.now()),h=c&&a===r.correctAnswer;c&&r.correctAnswer;return(0,$.jsx)(Ye,{elevation:3,sx:{mb:3},children:(0,$.jsxs)(et,{children:[i&&(0,$.jsx)(le,{sx:{mb:3,p:3,bgcolor:"grey.50",borderRadius:2},children:(0,$.jsx)(Ce,{variant:"body1",sx:{whiteSpace:"pre-wrap",lineHeight:1.8},children:i})}),(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:r.text}),r.grammarFocus&&r.grammarFocus.length>0&&(0,$.jsx)(le,{sx:{display:"flex",gap:1,mt:2,flexWrap:"wrap"},children:r.grammarFocus.map((e,t)=>(0,$.jsx)(ys,{label:e,size:"small",color:"primary",variant:"outlined"},t))})]}),(0,$.jsx)(Sa,{component:"fieldset",fullWidth:!0,disabled:c,children:(0,$.jsx)(Kc,{value:a,onChange:e=>l(e.target.value),children:null===(n=r.options)||void 0===n?void 0:n.map((e,t)=>(0,$.jsx)(lu,{value:e,control:(0,$.jsx)(Cu,{}),label:(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$.jsx)(Ce,{children:e}),c&&e===r.correctAnswer&&(0,$.jsx)(ha,{color:"success",fontSize:"small"}),c&&e===a&&e!==r.correctAnswer&&(0,$.jsx)(ju,{color:"error",fontSize:"small"})]}),sx:{p:2,mb:1,border:1,borderColor:c&&e===r.correctAnswer?"success.main":c&&e===a?"error.main":"grey.300",borderRadius:2,bgcolor:c&&e===r.correctAnswer?"success.light":c&&e===a?"error.light":"transparent"}},t))})}),!c&&(0,$.jsx)(dn,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{const e=a===r.correctAnswer,t=Math.floor((Date.now()-d)/1e3);u(!0),o(a,e,t)},disabled:!a,sx:{mt:3},children:"Valider la r\xe9ponse"}),c&&(0,$.jsxs)(le,{sx:{mt:3},children:[(0,$.jsx)(Ms,{severity:h?"success":"error",icon:h?(0,$.jsx)(ha,{}):(0,$.jsx)(ju,{}),children:(0,$.jsx)(Ce,{variant:"subtitle2",children:h?"Bonne r\xe9ponse !":"R\xe9ponse incorrecte"})}),s&&(0,$.jsxs)(le,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Explication :"}),(0,$.jsx)(Ce,{variant:"body2",children:r.explanation})]})]})]})})};var Hu=n(2374);function Gu(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ku(e){return e instanceof Gu(e).Element||e instanceof Element}function Qu(e){return e instanceof Gu(e).HTMLElement||e instanceof HTMLElement}function Xu(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Gu(e).ShadowRoot||e instanceof ShadowRoot)}var Yu=Math.max,$u=Math.min,Ju=Math.round;function Zu(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ed(){return!/^((?!chrome|android).)*safari/i.test(Zu())}function td(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&Qu(e)&&(o=e.offsetWidth>0&&Ju(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Ju(r.height)/e.offsetHeight||1);var s=(Ku(e)?Gu(e):window).visualViewport,a=!ed()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/o,c=(r.top+(a&&s?s.offsetTop:0))/i,u=r.width/o,d=r.height/i;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function nd(e){var t=Gu(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function rd(e){return e?(e.nodeName||"").toLowerCase():null}function od(e){return((Ku(e)?e.ownerDocument:e.document)||window.document).documentElement}function id(e){return td(od(e)).left+nd(e).scrollLeft}function sd(e){return Gu(e).getComputedStyle(e)}function ad(e){var t=sd(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function ld(e,t,n){void 0===n&&(n=!1);var r=Qu(t),o=Qu(t)&&function(e){var t=e.getBoundingClientRect(),n=Ju(t.width)/e.offsetWidth||1,r=Ju(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=od(t),s=td(e,o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==rd(t)||ad(i))&&(a=function(e){return e!==Gu(e)&&Qu(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:nd(e);var t}(t)),Qu(t)?((l=td(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=id(i))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function cd(e){var t=td(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function ud(e){return"html"===rd(e)?e:e.assignedSlot||e.parentNode||(Xu(e)?e.host:null)||od(e)}function dd(e){return["html","body","#document"].indexOf(rd(e))>=0?e.ownerDocument.body:Qu(e)&&ad(e)?e:dd(ud(e))}function hd(e,t){var n;void 0===t&&(t=[]);var r=dd(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=Gu(r),s=o?[i].concat(i.visualViewport||[],ad(r)?r:[]):r,a=t.concat(s);return o?a:a.concat(hd(ud(s)))}function pd(e){return["table","td","th"].indexOf(rd(e))>=0}function fd(e){return Qu(e)&&"fixed"!==sd(e).position?e.offsetParent:null}function md(e){for(var t=Gu(e),n=fd(e);n&&pd(n)&&"static"===sd(n).position;)n=fd(n);return n&&("html"===rd(n)||"body"===rd(n)&&"static"===sd(n).position)?t:n||function(e){var t=/firefox/i.test(Zu());if(/Trident/i.test(Zu())&&Qu(e)&&"fixed"===sd(e).position)return null;var n=ud(e);for(Xu(n)&&(n=n.host);Qu(n)&&["html","body"].indexOf(rd(n))<0;){var r=sd(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var gd="top",vd="bottom",yd="right",bd="left",xd="auto",wd=[gd,vd,yd,bd],Sd="start",Ed="end",kd="viewport",Id="popper",Ad=wd.reduce(function(e,t){return e.concat([t+"-"+Sd,t+"-"+Ed])},[]),Cd=[].concat(wd,[xd]).reduce(function(e,t){return e.concat([t,t+"-"+Sd,t+"-"+Ed])},[]),Td=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function jd(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||o(e)}),r}function _d(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var Rd={placement:"bottom",modifiers:[],strategy:"absolute"};function Pd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function Nd(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?Rd:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Rd,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:o,setOptions:function(n){var a="function"===typeof n?n(o.options):n;c(),o.options=Object.assign({},i,o.options,a),o.scrollParents={reference:Ku(e)?hd(e):e.contextElement?hd(e.contextElement):[],popper:hd(t)};var u=function(e){var t=jd(e);return Td.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,o.options.modifiers)));return o.orderedModifiers=u.filter(function(e){return e.enabled}),o.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var a=i({state:o,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}}),l.update()},forceUpdate:function(){if(!a){var e=o.elements,t=e.reference,n=e.popper;if(Pd(t,n)){o.rects={reference:ld(t,md(n),"fixed"===o.options.strategy),popper:cd(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(e){return o.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],s=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"===typeof s&&(o=s({state:o,options:u,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:_d(function(){return new Promise(function(e){l.forceUpdate(),e(o)})}),destroy:function(){c(),a=!0}};if(!Pd(e,t))return l;function c(){s.forEach(function(e){return e()}),s=[]}return l.setOptions(n).then(function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)}),l}}var Ld={passive:!0};function Od(e){return e.split("-")[0]}function Md(e){return e.split("-")[1]}function Dd(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Fd(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?Od(o):null,s=o?Md(o):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case gd:t={x:a,y:n.y-r.height};break;case vd:t={x:a,y:n.y+n.height};break;case yd:t={x:n.x+n.width,y:l};break;case bd:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?Dd(i):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case Sd:t[c]=t[c]-(n[u]/2-r[u]/2);break;case Ed:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var zd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Bd(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,p=void 0===h?0:h,f=s.y,m=void 0===f?0:f,g="function"===typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=bd,x=gd,w=window;if(c){var S=md(n),E="clientHeight",k="clientWidth";if(S===Gu(n)&&"static"!==sd(S=od(n)).position&&"absolute"===a&&(E="scrollHeight",k="scrollWidth"),o===gd||(o===bd||o===yd)&&i===Ed)x=vd,m-=(d&&S===w&&w.visualViewport?w.visualViewport.height:S[E])-r.height,m*=l?1:-1;if(o===bd||(o===gd||o===vd)&&i===Ed)b=yd,p-=(d&&S===w&&w.visualViewport?w.visualViewport.width:S[k])-r.width,p*=l?1:-1}var I,A=Object.assign({position:a},c&&zd),C=!0===u?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:Ju(n*o)/o||0,y:Ju(r*o)/o||0}}({x:p,y:m},Gu(n)):{x:p,y:m};return p=C.x,m=C.y,l?Object.assign({},A,((I={})[x]=y?"0":"",I[b]=v?"0":"",I.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",I)):Object.assign({},A,((t={})[x]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const Vd={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];Qu(o)&&rd(o)&&(Object.assign(o.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});Qu(r)&&rd(r)&&(Object.assign(r.style,i),Object.keys(o).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]};const Ud={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,s=Cd.reduce(function(e,n){return e[n]=function(e,t,n){var r=Od(e),o=[bd,gd].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[bd,yd].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,i),e},{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var qd={left:"right",right:"left",bottom:"top",top:"bottom"};function Wd(e){return e.replace(/left|right|bottom|top/g,function(e){return qd[e]})}var Hd={start:"end",end:"start"};function Gd(e){return e.replace(/start|end/g,function(e){return Hd[e]})}function Kd(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Xu(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Qd(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Xd(e,t,n){return t===kd?Qd(function(e,t){var n=Gu(e),r=od(e),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;var c=ed();(c||!c&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a+id(e),y:l}}(e,n)):Ku(t)?function(e,t){var n=td(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Qd(function(e){var t,n=od(e),r=nd(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=Yu(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Yu(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+id(e),l=-r.scrollTop;return"rtl"===sd(o||n).direction&&(a+=Yu(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}(od(e)))}function Yd(e,t,n,r){var o="clippingParents"===t?function(e){var t=hd(ud(e)),n=["absolute","fixed"].indexOf(sd(e).position)>=0&&Qu(e)?md(e):e;return Ku(n)?t.filter(function(e){return Ku(e)&&Kd(e,n)&&"body"!==rd(e)}):[]}(e):[].concat(t),i=[].concat(o,[n]),s=i[0],a=i.reduce(function(t,n){var o=Xd(e,n,r);return t.top=Yu(o.top,t.top),t.right=$u(o.right,t.right),t.bottom=$u(o.bottom,t.bottom),t.left=Yu(o.left,t.left),t},Xd(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function $d(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Jd(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function Zd(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,s=void 0===i?e.strategy:i,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,u=void 0===c?kd:c,d=n.elementContext,h=void 0===d?Id:d,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,v=$d("number"!==typeof g?g:Jd(g,wd)),y=h===Id?"reference":Id,b=e.rects.popper,x=e.elements[f?y:h],w=Yd(Ku(x)?x:x.contextElement||od(e.elements.popper),l,u,s),S=td(e.elements.reference),E=Fd({reference:S,element:b,strategy:"absolute",placement:o}),k=Qd(Object.assign({},b,E)),I=h===Id?k:S,A={top:w.top-I.top+v.top,bottom:I.bottom-w.bottom+v.bottom,left:w.left-I.left+v.left,right:I.right-w.right+v.right},C=e.modifiersData.offset;if(h===Id&&C){var T=C[o];Object.keys(A).forEach(function(e){var t=[yd,vd].indexOf(e)>=0?1:-1,n=[gd,vd].indexOf(e)>=0?"y":"x";A[e]+=T[n]*t})}return A}function eh(e,t,n){return Yu(e,$u(t,n))}const th={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=Zd(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Od(t.placement),y=Md(t.placement),b=!y,x=Dd(v),w="x"===x?"y":"x",S=t.modifiersData.popperOffsets,E=t.rects.reference,k=t.rects.popper,I="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,A="number"===typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(S){if(i){var j,_="y"===x?gd:bd,R="y"===x?vd:yd,P="y"===x?"height":"width",N=S[x],L=N+g[_],O=N-g[R],M=p?-k[P]/2:0,D=y===Sd?E[P]:k[P],F=y===Sd?-k[P]:-E[P],z=t.elements.arrow,B=p&&z?cd(z):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=V[_],q=V[R],W=eh(0,E[P],B[P]),H=b?E[P]/2-M-W-U-A.mainAxis:D-W-U-A.mainAxis,G=b?-E[P]/2+M+W+q+A.mainAxis:F+W+q+A.mainAxis,K=t.elements.arrow&&md(t.elements.arrow),Q=K?"y"===x?K.clientTop||0:K.clientLeft||0:0,X=null!=(j=null==C?void 0:C[x])?j:0,Y=N+G-X,$=eh(p?$u(L,N+H-X-Q):L,N,p?Yu(O,Y):O);S[x]=$,T[x]=$-N}if(a){var J,Z="x"===x?gd:bd,ee="x"===x?vd:yd,te=S[w],ne="y"===w?"height":"width",re=te+g[Z],oe=te-g[ee],ie=-1!==[gd,bd].indexOf(v),se=null!=(J=null==C?void 0:C[w])?J:0,ae=ie?re:te-E[ne]-k[ne]-se+A.altAxis,le=ie?te+E[ne]+k[ne]-se-A.altAxis:oe,ce=p&&ie?function(e,t,n){var r=eh(e,t,n);return r>n?n:r}(ae,te,le):eh(p?ae:re,te,p?le:oe);S[w]=ce,T[w]=ce-te}t.modifiersData[r]=T}},requiresIfExists:["offset"]};const nh={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Od(n.placement),l=Dd(a),c=[bd,yd].indexOf(a)>=0?"height":"width";if(i&&s){var u=function(e,t){return $d("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Jd(e,wd))}(o.padding,n),d=cd(i),h="y"===l?gd:bd,p="y"===l?vd:yd,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=md(i),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,b=u[h],x=v-d[c]-u[p],w=v/2-d[c]/2+y,S=eh(b,w,x),E=l;n.modifiersData[r]=((t={})[E]=S,t.centerOffset=S-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Kd(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rh(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function oh(e){return[gd,yd,vd,bd].some(function(t){return e[t]>=0})}var ih=Nd({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,s=r.resize,a=void 0===s||s,l=Gu(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(e){e.addEventListener("scroll",n.update,Ld)}),a&&l.addEventListener("resize",n.update,Ld),function(){i&&c.forEach(function(e){e.removeEventListener("scroll",n.update,Ld)}),a&&l.removeEventListener("resize",n.update,Ld)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Fd({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,s=void 0===i||i,a=n.roundOffsets,l=void 0===a||a,c={placement:Od(t.placement),variation:Md(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Bd(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Bd(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Vd,Ud,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=Od(g),y=l||(v===g||!f?[Wd(g)]:function(e){if(Od(e)===xd)return[];var t=Wd(e);return[Gd(e),t,Gd(t)]}(g)),b=[g].concat(y).reduce(function(e,n){return e.concat(Od(n)===xd?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Cd:l,u=Md(r),d=u?a?Ad:Ad.filter(function(e){return Md(e)===u}):wd,h=d.filter(function(e){return c.indexOf(e)>=0});0===h.length&&(h=d);var p=h.reduce(function(t,n){return t[n]=Zd(e,{placement:n,boundary:o,rootBoundary:i,padding:s})[Od(n)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)},[]),x=t.rects.reference,w=t.rects.popper,S=new Map,E=!0,k=b[0],I=0;I<b.length;I++){var A=b[I],C=Od(A),T=Md(A)===Sd,j=[gd,vd].indexOf(C)>=0,_=j?"width":"height",R=Zd(t,{placement:A,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),P=j?T?yd:bd:T?vd:gd;x[_]>w[_]&&(P=Wd(P));var N=Wd(P),L=[];if(i&&L.push(R[C]<=0),a&&L.push(R[P]<=0,R[N]<=0),L.every(function(e){return e})){k=A,E=!1;break}S.set(A,L)}if(E)for(var O=function(e){var t=b.find(function(t){var n=S.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return k=t,"break"},M=f?3:1;M>0;M--){if("break"===O(M))break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},th,nh,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=Zd(t,{elementContext:"reference"}),a=Zd(t,{altBoundary:!0}),l=rh(s,r),c=rh(a,o,i),u=oh(l),d=oh(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});function sh(e){return re("MuiPopper",e)}oe("MuiPopper",["root"]);const ah=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],lh=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function ch(e){return"function"===typeof e?e():e}function uh(e){return void 0!==e.nodeType}const dh={},hh=e.forwardRef(function(t,n){var r;const{anchorEl:o,children:a,direction:l,disablePortal:c,modifiers:u,open:d,placement:h,popperOptions:p,popperRef:f,slotProps:m={},slots:g={},TransitionProps:v}=t,y=(0,s.A)(t,ah),b=e.useRef(null),x=nt(b,n),w=e.useRef(null),S=nt(w,f),E=e.useRef(S);ot(()=>{E.current=S},[S]),e.useImperativeHandle(f,()=>w.current,[]);const k=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(h,l),[I,A]=e.useState(k),[C,T]=e.useState(ch(o));e.useEffect(()=>{w.current&&w.current.forceUpdate()}),e.useEffect(()=>{o&&T(ch(o))},[o]),ot(()=>{if(!C||!d)return;let e=[{name:"preventOverflow",options:{altBoundary:c}},{name:"flip",options:{altBoundary:c}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;A(t.placement)}}];null!=u&&(e=e.concat(u)),p&&null!=p.modifiers&&(e=e.concat(p.modifiers));const t=ih(C,b.current,(0,i.A)({placement:k},p,{modifiers:e}));return E.current(t),()=>{t.destroy(),E.current(null)}},[C,c,u,d,p,k]);const j={placement:I};null!==v&&(j.TransitionProps=v);const _=(e=>{const{classes:t}=e;return ce({root:["root"]},sh,t)})(t),R=null!=(r=g.root)?r:"div",P=Dn({elementType:R,externalSlotProps:m.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:x},ownerState:t,className:_.root});return(0,$.jsx)(R,(0,i.A)({},P,{children:"function"===typeof a?a(j):a}))}),ph=e.forwardRef(function(t,n){const{anchorEl:r,children:o,container:a,direction:l="ltr",disablePortal:c=!1,keepMounted:u=!1,modifiers:d,open:h,placement:p="bottom",popperOptions:f=dh,popperRef:m,style:g,transition:v=!1,slotProps:y={},slots:b={}}=t,x=(0,s.A)(t,lh),[w,S]=e.useState(!0);if(!u&&!h&&(!v||w))return null;let E;if(a)E=a;else if(r){const e=ch(r);E=e&&uh(e)?zn(e).body:zn(null).body}const k=h||!u||v&&!w?void 0:"none",I=v?{in:h,onEnter:()=>{S(!1)},onExited:()=>{S(!0)}}:void 0;return(0,$.jsx)(Hn,{disablePortal:c,container:E,children:(0,$.jsx)(hh,(0,i.A)({anchorEl:r,direction:l,disablePortal:c,modifiers:d,ref:n,open:v?!w:h,placement:p,popperOptions:f,popperRef:m,slotProps:y,slots:b},x,{style:(0,i.A)({position:"fixed",top:0,left:0,display:k},g),TransitionProps:I,children:o}))})}),fh=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],mh=fe(ph,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),gh=e.forwardRef(function(e,t){var n;const r=(0,Hu.A)(),o=be({props:e,name:"MuiPopper"}),{anchorEl:a,component:l,components:c,componentsProps:u,container:d,disablePortal:h,keepMounted:p,modifiers:f,open:m,placement:g,popperOptions:v,popperRef:y,transition:b,slots:x,slotProps:w}=o,S=(0,s.A)(o,fh),E=null!=(n=null==x?void 0:x.root)?n:null==c?void 0:c.Root,k=(0,i.A)({anchorEl:a,container:d,disablePortal:h,keepMounted:p,modifiers:f,open:m,placement:g,popperOptions:v,popperRef:y,transition:b},S);return(0,$.jsx)(mh,(0,i.A)({as:l,direction:null==r?void 0:r.direction,slots:{root:E},slotProps:null!=w?w:u},k,{ref:t}))}),vh=gh;function yh(e){return re("MuiTooltip",e)}const bh=oe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),xh=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const wh=fe(vh,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(e=>{let{theme:t,ownerState:n,open:r}=e;return(0,i.A)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},n.arrow&&{['&[data-popper-placement*="bottom"] .'.concat(bh.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(bh.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(bh.arrow)]:(0,i.A)({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),['&[data-popper-placement*="left"] .'.concat(bh.arrow)]:(0,i.A)({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})}),Sh=fe("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat(we(n.placement.split("-")[0]))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,p.X4)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:"".concat((r=16/14,Math.round(1e5*r)/1e5),"em"),fontWeight:t.typography.fontWeightRegular},{[".".concat(bh.popper,'[data-popper-placement*="left"] &')]:(0,i.A)({transformOrigin:"right center"},n.isRtl?(0,i.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,i.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[".".concat(bh.popper,'[data-popper-placement*="right"] &')]:(0,i.A)({transformOrigin:"left center"},n.isRtl?(0,i.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,i.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[".".concat(bh.popper,'[data-popper-placement*="top"] &')]:(0,i.A)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[".".concat(bh.popper,'[data-popper-placement*="bottom"] &')]:(0,i.A)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})});var r}),Eh=fe("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,p.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}});let kh=!1;const Ih=new ct;let Ah={x:0,y:0};function Ch(e,t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t&&t(n,...o),e(n,...o)}}const Th=e.forwardRef(function(t,n){var r,o,a,l,c,u,d,h,p,f,m,g,v,y,b,x,w,S,E;const k=be({props:t,name:"MuiTooltip"}),{arrow:I=!1,children:A,components:C={},componentsProps:T={},describeChild:j=!1,disableFocusListener:_=!1,disableHoverListener:R=!1,disableInteractive:P=!1,disableTouchListener:N=!1,enterDelay:L=100,enterNextDelay:O=0,enterTouchDelay:M=700,followCursor:D=!1,id:F,leaveDelay:z=0,leaveTouchDelay:B=1500,onClose:V,onOpen:U,open:q,placement:H="bottom",PopperComponent:G,PopperProps:K={},slotProps:Q={},slots:X={},title:Y,TransitionComponent:J=Qa,TransitionProps:Z}=k,ee=(0,s.A)(k,xh),te=e.isValidElement(A)?A:(0,$.jsx)("span",{children:A}),ne=je(),re=Tn(),[oe,ie]=e.useState(),[se,ae]=e.useState(null),le=e.useRef(!1),ue=P||D,de=ut(),he=ut(),pe=ut(),fe=ut(),[me,ge]=kl({controlled:q,default:!1,name:"Tooltip",state:"open"});let ve=me;const ye=Hc(F),xe=e.useRef(),Se=st(()=>{void 0!==xe.current&&(document.body.style.WebkitUserSelect=xe.current,xe.current=void 0),fe.clear()});e.useEffect(()=>Se,[Se]);const Ee=e=>{Ih.clear(),kh=!0,ge(!0),U&&!ve&&U(e)},ke=st(e=>{Ih.start(800+z,()=>{kh=!1}),ge(!1),V&&ve&&V(e),de.start(ne.transitions.duration.shortest,()=>{le.current=!1})}),Ie=e=>{le.current&&"touchstart"!==e.type||(oe&&oe.removeAttribute("title"),he.clear(),pe.clear(),L||kh&&O?he.start(kh?O:L,()=>{Ee(e)}):Ee(e))},Ae=e=>{he.clear(),pe.start(z,()=>{ke(e)})},{isFocusVisibleRef:Ce,onBlur:Te,onFocus:_e,ref:Re}=bt(),[,Pe]=e.useState(!1),Ne=e=>{Te(e),!1===Ce.current&&(Pe(!1),Ae(e))},Le=e=>{oe||ie(e.currentTarget),_e(e),!0===Ce.current&&(Pe(!0),Ie(e))},Oe=e=>{le.current=!0;const t=te.props;t.onTouchStart&&t.onTouchStart(e)},Me=e=>{Oe(e),pe.clear(),de.clear(),Se(),xe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",fe.start(M,()=>{document.body.style.WebkitUserSelect=xe.current,Ie(e)})},De=e=>{te.props.onTouchEnd&&te.props.onTouchEnd(e),Se(),pe.start(B,()=>{ke(e)})};e.useEffect(()=>{if(ve)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||ke(e)}},[ke,ve]);const Fe=rt(Fn(te),Re,ie,n);Y||0===Y||(ve=!1);const ze=e.useRef(),Be={},Ve="string"===typeof Y;j?(Be.title=ve||!Ve||R?null:Y,Be["aria-describedby"]=ve?ye:null):(Be["aria-label"]=Ve?Y:null,Be["aria-labelledby"]=ve&&!Ve?ye:null);const Ue=(0,i.A)({},Be,ee,te.props,{className:W(ee.className,te.props.className),onTouchStart:Oe,ref:Fe},D?{onMouseMove:e=>{const t=te.props;t.onMouseMove&&t.onMouseMove(e),Ah={x:e.clientX,y:e.clientY},ze.current&&ze.current.update()}}:{});const qe={};N||(Ue.onTouchStart=Me,Ue.onTouchEnd=De),R||(Ue.onMouseOver=Ch(Ie,Ue.onMouseOver),Ue.onMouseLeave=Ch(Ae,Ue.onMouseLeave),ue||(qe.onMouseOver=Ie,qe.onMouseLeave=Ae)),_||(Ue.onFocus=Ch(Le,Ue.onFocus),Ue.onBlur=Ch(Ne,Ue.onBlur),ue||(qe.onFocus=Le,qe.onBlur=Ne));const We=e.useMemo(()=>{var e;let t=[{name:"arrow",enabled:Boolean(se),options:{element:se,padding:4}}];return null!=(e=K.popperOptions)&&e.modifiers&&(t=t.concat(K.popperOptions.modifiers)),(0,i.A)({},K.popperOptions,{modifiers:t})},[se,K]),He=(0,i.A)({},k,{isRtl:re,arrow:I,disableInteractive:ue,placement:H,PopperComponentProp:G,touch:le.current}),Ge=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:i}=e;return ce({popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch","tooltipPlacement".concat(we(i.split("-")[0]))],arrow:["arrow"]},yh,t)})(He),Ke=null!=(r=null!=(o=X.popper)?o:C.Popper)?r:wh,Qe=null!=(a=null!=(l=null!=(c=X.transition)?c:C.Transition)?l:J)?a:Qa,Xe=null!=(u=null!=(d=X.tooltip)?d:C.Tooltip)?u:Sh,Ye=null!=(h=null!=(p=X.arrow)?p:C.Arrow)?h:Eh,$e=Rn(Ke,(0,i.A)({},K,null!=(f=Q.popper)?f:T.popper,{className:W(Ge.popper,null==K?void 0:K.className,null==(m=null!=(g=Q.popper)?g:T.popper)?void 0:m.className)}),He),Je=Rn(Qe,(0,i.A)({},Z,null!=(v=Q.transition)?v:T.transition),He),Ze=Rn(Xe,(0,i.A)({},null!=(y=Q.tooltip)?y:T.tooltip,{className:W(Ge.tooltip,null==(b=null!=(x=Q.tooltip)?x:T.tooltip)?void 0:b.className)}),He),et=Rn(Ye,(0,i.A)({},null!=(w=Q.arrow)?w:T.arrow,{className:W(Ge.arrow,null==(S=null!=(E=Q.arrow)?E:T.arrow)?void 0:S.className)}),He);return(0,$.jsxs)(e.Fragment,{children:[e.cloneElement(te,Ue),(0,$.jsx)(Ke,(0,i.A)({as:null!=G?G:vh,placement:H,anchorEl:D?{getBoundingClientRect:()=>({top:Ah.y,left:Ah.x,right:Ah.x,bottom:Ah.y,width:0,height:0})}:oe,popperRef:ze,open:!!oe&&ve,id:ye,transition:!0},qe,$e,{popperOptions:We,children:e=>{let{TransitionProps:t}=e;return(0,$.jsx)(Qe,(0,i.A)({timeout:ne.transitions.duration.shorter},t,Je,{children:(0,$.jsxs)(Xe,(0,i.A)({},Ze,{children:[Y,I?(0,$.jsx)(Ye,(0,i.A)({},et,{ref:ae})):null]}))}))}}))]})}),jh=Th,_h=ui((0,$.jsx)("path",{d:"M6 6h12v12H6z"}),"Stop"),Rh=ui((0,$.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),Ph=ui((0,$.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96"}),"Cloud"),Nh=ui((0,$.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96M3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4z"}),"CloudOff"),Lh=ui([(0,$.jsx)("circle",{cx:"9",cy:"9",r:"4"},"0"),(0,$.jsx)("path",{d:"M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m7.76-9.64-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27M20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14"},"1")],"RecordVoiceOver"),Oh="tts_cache_",Mh=6048e5;const Dh=new class{constructor(){this.apiEndpoint="/api/text-to-speech"}getCacheKey(e,t,n){const r="".concat(e,"_").concat(t,"_").concat(n||"default");return Oh+btoa(r).substring(0,50)}getCachedAudio(e){try{const t=localStorage.getItem(e);if(!t)return null;const n=JSON.parse(t);return Date.now()-n.timestamp>Mh?(localStorage.removeItem(e),null):n.url}catch(t){return console.error("[TTS] Erreur lecture cache:",t),null}}setCachedAudio(e,t){try{const n={url:t,timestamp:Date.now()};localStorage.setItem(e,JSON.stringify(n))}catch(n){console.error("[TTS] Erreur \xe9criture cache:",n)}}cleanCache(){try{const e=Object.keys(localStorage),t=Date.now();e.forEach(e=>{if(e.startsWith(Oh)){const n=localStorage.getItem(e);if(n){const r=JSON.parse(n);t-r.timestamp>Mh&&localStorage.removeItem(e)}}})}catch(e){console.error("[TTS] Erreur nettoyage cache:",e)}}async synthesize(e){const{text:t,lang:n="en-US",voice:r,rate:o=1,pitch:i=0}=e,s=this.getCacheKey(t,n,r),a=this.getCachedAudio(s);if(a)return console.log("[TTS] Audio trouv\xe9 dans le cache"),a;console.log("[TTS] Appel \xe0 Google Cloud TTS avec:",{textLength:t.length,lang:n,voice:r||"d\xe9faut (s\xe9lection automatique)",rate:o,pitch:i});try{const e={text:t,languageCode:n,voiceName:r,speakingRate:o,pitch:i};console.log("[TTS] Requ\xeate envoy\xe9e au backend:",JSON.stringify(e,null,2));const a=await fetch(this.apiEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw new Error("TTS API error: ".concat(a.status));const l=await a.json(),c="data:audio/mp3;base64,".concat(l.audioContent);return this.setCachedAudio(s,c),console.log("[TTS] Audio g\xe9n\xe9r\xe9 avec succ\xe8s"),c}catch(Ag){throw console.error("[TTS] Erreur lors de la g\xe9n\xe9ration:",Ag),Ag}}async getVoices(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US";try{const t=await fetch("".concat(this.apiEndpoint,"/voices?lang=").concat(e));if(!t.ok)throw new Error("Voices API error: ".concat(t.status));return await t.json()}catch(Ag){return console.error("[TTS] Erreur r\xe9cup\xe9ration voix:",Ag),[]}}};Dh.cleanCache();const Fh=(e,t)=>{if(!("speechSynthesis"in window))return null;let n=window.speechSynthesis.getVoices();if(0===n.length){console.log("[GoogleTTS] Aucune voix encore charg\xe9e, r\xe9essai...");for(let e=0;e<5&&(n=window.speechSynthesis.getVoices(),!(n.length>0));e++){const e=Date.now();for(;Date.now()-e<10;);}}if(0===n.length)return console.warn("[GoogleTTS] Aucune voix disponible dans le navigateur apr\xe8s attente"),null;console.log("[GoogleTTS] ".concat(n.length," voix disponibles dans le navigateur")),console.log("[GoogleTTS] Liste compl\xe8te des voix:",n.map(e=>({name:e.name,lang:e.lang,localService:e.localService})));const r=e.endsWith("-F")||e.endsWith("-A")||e.endsWith("-C")||e.includes("-F")||e.includes("-A")||e.includes("-C"),o=e.endsWith("-D")||e.endsWith("-B")||e.endsWith("-I")||e.includes("-D")||e.includes("-B")||e.includes("-I"),i=e.includes("en-US")||t.startsWith("en-US"),s=e.includes("en-GB")||t.startsWith("en-GB");console.log("[GoogleTTS] Mapping voix:",{googleVoiceName:e,lang:t,isFemale:r,isMale:o,isUS:i,isGB:s,availableVoices:n.length});let a=null;if(i){const t=n.filter(e=>e.lang.startsWith("en-US")&&!e.name.toLowerCase().includes("french"));if(console.log("[GoogleTTS] Voix US disponibles:",t.map(e=>e.name)),r){var l,c;if(a=null!==(l=t.find(e=>e.name.toLowerCase().includes("female")))&&void 0!==l?l:null,!a)a=null!==(c=t.find(e=>e.name.toLowerCase().includes("zira")||e.name.toLowerCase().includes("susan")||e.name.toLowerCase().includes("michelle")||e.name.toLowerCase().includes("samantha")||e.name.toLowerCase().includes("karen")||e.name.toLowerCase().includes("linda")))&&void 0!==c?c:null;if(!a){const e=t.filter(e=>!e.name.toLowerCase().includes("male")&&!e.name.toLowerCase().includes("david")&&!e.name.toLowerCase().includes("mark")&&!e.name.toLowerCase().includes("alex")&&!e.name.toLowerCase().includes("daniel"));e.length>0&&(a=e[0])}if(!a&&t.length>1){const n=e.split("").reduce((e,t)=>e+t.charCodeAt(0),0),r=n%t.length;a=t[r],console.log("[GoogleTTS] S\xe9lection par index alternatif (f\xe9minin):",{googleVoice:e,hash:n,index:r,totalVoices:t.length,selectedVoice:a.name,allVoices:t.map(e=>e.name)})}else a||1!==t.length||(a=t[0],console.log("[GoogleTTS] Une seule voix disponible (f\xe9minin):",a.name))}else if(o){var u,d;if(a=null!==(u=t.find(e=>e.name.toLowerCase().includes("male")))&&void 0!==u?u:null,!a)a=null!==(d=t.find(e=>e.name.toLowerCase().includes("david")||e.name.toLowerCase().includes("mark")||e.name.toLowerCase().includes("alex")||e.name.toLowerCase().includes("daniel")))&&void 0!==d?d:null;if(!a&&t.length>1){const n=e.split("").reduce((e,t)=>e+t.charCodeAt(0),0),r=n%t.length;a=t[r],console.log("[GoogleTTS] S\xe9lection par index alternatif (masculin):",{googleVoice:e,hash:n,index:r,totalVoices:t.length,selectedVoice:a.name,allVoices:t.map(e=>e.name)})}else a||1!==t.length||(a=t[0],console.log("[GoogleTTS] Une seule voix disponible (masculin):",a.name))}!a&&t.length>0&&(a=t[0])}else if(s){const e=n.filter(e=>e.lang.startsWith("en-GB")&&!e.name.toLowerCase().includes("french"));var h,p;if(r)a=null!==(h=null!==(p=e.find(e=>e.name.toLowerCase().includes("female")||e.name.toLowerCase().includes("hazel")||e.name.toLowerCase().includes("susan")||e.name.toLowerCase().includes("kate")))&&void 0!==p?p:e.find(e=>!e.name.toLowerCase().includes("male")&&!e.name.toLowerCase().includes("george")))&&void 0!==h?h:null;else if(o){var f,m;a=null!==(f=null!==(m=e.find(e=>e.name.toLowerCase().includes("male")||e.name.toLowerCase().includes("george")||e.name.toLowerCase().includes("daniel")))&&void 0!==m?m:e.find(e=>e.name.toLowerCase().includes("male")))&&void 0!==f?f:null}!a&&e.length>0&&(a=e[0])}if(!a){const e=n.filter(e=>e.lang.startsWith("en-")&&!e.name.toLowerCase().includes("french"));e.length>0&&(a=e[0])}return a?console.log("[GoogleTTS] Voix mapp\xe9e trouv\xe9e:",{googleVoice:e,browserVoice:a.name,lang:a.lang}):console.warn("[GoogleTTS] Aucune voix correspondante trouv\xe9e pour:",e),a},zh=()=>{const[t,n]=(0,e.useState)(!1),[r,o]=(0,e.useState)(!1),[i,s]=(0,e.useState)(null),[a,l]=(0,e.useState)(!0),c=(0,e.useRef)(null);(0,e.useEffect)(()=>{Ki.Ii.isNativePlatform()?l(!1):(async()=>{try{const e=await fetch("/api/text-to-speech/voices?lang=en-US"),t=e.headers.get("content-type"),n=e.ok&&null!==t&&t.includes("application/json");l(n),n?console.log("[GoogleTTS] Google Cloud TTS disponible"):(console.warn("[GoogleTTS] Service non disponible, fallback vers Web Speech API",{status:e.status,contentType:e.headers.get("content-type"),url:e.url}),console.log("[GoogleTTS] Note: Les voix seront diff\xe9renci\xe9es par pitch et rate m\xeame sans Google Cloud TTS"))}catch(e){console.warn("[GoogleTTS] Impossible de contacter le backend, fallback vers Web Speech API",e.message),console.log("[GoogleTTS] Note: Les voix seront diff\xe9renci\xe9es par pitch et rate m\xeame sans Google Cloud TTS"),l(!1)}})()},[]);const u=(0,e.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",r=arguments.length>2?arguments[2]:void 0;if(console.log("\ud83d\udd0a [GoogleTTS] speak() appel\xe9:",{text:e.substring(0,50),lang:t,voice:r||"non sp\xe9cifi\xe9e",isGoogleTTSAvailable:a,voiceType:r?r.includes("Neural2")?"Google Cloud TTS":"Browser Voice":"undefined"}),e){"speechSynthesis"in window&&window.speechSynthesis.cancel(),c.current&&(c.current.pause(),c.current.currentTime=0,c.current=null),await new Promise(e=>setTimeout(e,50)),s(null),o(!0);try{if(a){console.log("[GoogleTTS] Utilisation de Google Cloud TTS avec voix:",r||"d\xe9faut");const i=await Dh.synthesize({text:e,lang:t,voice:r,rate:1,pitch:0});console.log("[GoogleTTS] Audio g\xe9n\xe9r\xe9 avec succ\xe8s, URL:",i.substring(0,50)+"...");const a=new Audio(i);c.current=a,a.onloadeddata=()=>{console.log("[GoogleTTS] Audio charg\xe9, lecture..."),o(!1),n(!0)},a.onended=()=>{console.log("[GoogleTTS] Lecture termin\xe9e"),n(!1)},a.onerror=e=>{console.error("[GoogleTTS] Erreur lecture audio:",e),s("Erreur lors de la lecture audio"),n(!1),o(!1)},await a.play()}else{if(console.log("\u26a0\ufe0f [GoogleTTS] Fallback vers Web Speech API (backend non disponible)"),o(!1),!("speechSynthesis"in window))throw new Error("Web Speech API non support\xe9e");const i=new SpeechSynthesisUtterance(e);if(i.lang=t,console.log("[GoogleTTS] Param\xe8tres initiaux:",{voice:r,lang:t,textLength:e.length}),r){const e=r.includes("Neural2")||r.includes("en-")?Fh(r,t):window.speechSynthesis.getVoices().find(e=>e.name===r);if(e){i.voice=e,console.log("[GoogleTTS] Voix s\xe9lectionn\xe9e pour Web Speech API:",e.name);const t=r&&"string"===typeof r&&(r.includes("Neural")||r.includes("en-US")||r.includes("en-GB"));if(console.log("[GoogleTTS] V\xe9rification voix Neural:",{voice:r,isNeuralVoice:t,type:typeof r}),t){const t=r.split("").reduce((e,t)=>e+t.charCodeAt(0),0);let n;console.log("[GoogleTTS] Hash calcul\xe9 pour la voix:",{voice:r,hash:t}),r.includes("-F")||r.includes("-A")||r.includes("-C")?(n=1.2+t%10*.05,console.log("[GoogleTTS] Voix f\xe9minine d\xe9tect\xe9e")):r.includes("-D")||r.includes("-B")||r.includes("-I")?(n=.8-t%10*.03,console.log("[GoogleTTS] Voix masculine d\xe9tect\xe9e")):(n=1+t%10*.02-.1,console.log("[GoogleTTS] Voix neutre d\xe9tect\xe9e"));const o=1+t%7*.02-.06;i.pitch=n,i.rate=o,console.log("[GoogleTTS] \u2705 Param\xe8tres audio ajust\xe9s:",{browserVoice:e.name,googleVoice:r,pitch:n.toFixed(2),rate:o.toFixed(2),hash:t})}else console.warn("[GoogleTTS] \u26a0\ufe0f Voix non-Neural, pas d'ajustement de pitch/rate:",r)}else console.warn("[GoogleTTS] Voix non trouv\xe9e, utilisation de la voix par d\xe9faut")}else console.log("[GoogleTTS] Aucune voix sp\xe9cifi\xe9e, utilisation des param\xe8tres par d\xe9faut");i.onstart=()=>{console.log("[GoogleTTS] Web Speech API - Lecture d\xe9marr\xe9e"),n(!0),s(null)},i.onend=()=>{console.log("[GoogleTTS] Web Speech API - Lecture termin\xe9e"),n(!1)},i.onerror=e=>{if("interrupted"===e.error||"canceled"===e.error)return console.log("[GoogleTTS] Lecture interrompue/annul\xe9e (normal)"),n(!1),void s(null);console.error("[GoogleTTS] Web Speech API - Erreur:",e),s("Erreur: ".concat(e.error)),n(!1)},window.speechSynthesis.speak(i)}}catch(i){if(console.error("[GoogleTTS] Erreur:",i),a&&i.message&&!i.message.includes("Web Speech API")){if(console.warn("[GoogleTTS] Erreur Google TTS, basculement vers Web Speech API"),l(!1),"speechSynthesis"in window)try{const i=new SpeechSynthesisUtterance(e);if(i.lang=t,r){const e=r.includes("Neural2")||r.includes("en-")?Fh(r,t):window.speechSynthesis.getVoices().find(e=>e.name===r);e&&(i.voice=e,console.log("[GoogleTTS] Voix s\xe9lectionn\xe9e (fallback):",e.name))}return i.onstart=()=>{n(!0),s(null)},i.onend=()=>{n(!1)},i.onerror=e=>{if("interrupted"===e.error||"canceled"===e.error)return n(!1),void s(null);s("Erreur: ".concat(e.error)),n(!1)},window.speechSynthesis.speak(i),void o(!1)}catch(u){s((null===u||void 0===u?void 0:u.message)||"Erreur lors de la synthese vocale")}}else s(i.message||"Erreur lors de la synthese vocale");o(!1),n(!1)}}else s("Texte vide")},[a]);return{speak:u,stop:(0,e.useCallback)(()=>{c.current&&(c.current.pause(),c.current.currentTime=0,c.current=null),"speechSynthesis"in window&&window.speechSynthesis.cancel(),n(!1),o(!1)},[]),isSpeaking:t,isLoading:r,error:i,isGoogleTTSAvailable:a}},Bh=t=>{let{text:n,lang:r="en-US",title:o,showControls:i=!0,autoPlay:s=!1,voice:a}=t;const{speak:l,stop:c,isSpeaking:u,isLoading:d,error:h,isGoogleTTSAvailable:p}=zh(),[f,m]=e.useState(a||(r.startsWith("en-US")?"en-US-Neural2-F":"en-GB-Neural2-A"));e.useEffect(()=>{a&&a!==f&&(console.log("[AudioPlayer] Synchronisation avec voix externe:",a),m(a))},[a]),e.useEffect(()=>(s&&n&&l(n,r,f),()=>{c()}),[s]);return(0,$.jsxs)(le,{sx:{p:2,bgcolor:"primary.light",borderRadius:2,border:2,borderColor:"primary.main"},children:[o&&(0,$.jsx)(Ce,{variant:"h6",sx:{color:"white",mb:2},children:o}),(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,$.jsx)(fi,{sx:{fontSize:30,color:"white"}}),(0,$.jsx)(le,{sx:{flexGrow:1,p:2,bgcolor:"white",borderRadius:1},children:(0,$.jsx)(Ce,{variant:"body1",sx:{fontStyle:"italic"},children:n})}),(0,$.jsx)(jh,{title:u?"Arr\xeater":"\xc9couter",children:(0,$.jsx)(In,{onClick:()=>{console.log("\ud83c\udfb5 [AudioPlayer] handlePlay appel\xe9:",{isSpeaking:u,isLoading:d,voice:f,lang:r,textLength:n.length}),u||d?(console.log("\ud83c\udfb5 [AudioPlayer] Arr\xeat de la lecture"),c()):(console.log("\ud83c\udfb5 [AudioPlayer] D\xe9marrage lecture avec voix s\xe9lectionn\xe9e:",{voice:f,lang:r,textLength:n.length,textPreview:n.substring(0,50)}),l(n,r,f))},sx:{bgcolor:"white","&:hover":{bgcolor:"grey.200"},width:56,height:56},children:u?(0,$.jsx)(_h,{sx:{fontSize:28}}):(0,$.jsx)(Rh,{sx:{fontSize:28}})})})]}),h&&(0,$.jsx)(Ms,{severity:"error",sx:{mb:2},children:h}),(0,$.jsxs)(le,{sx:{display:"flex",gap:1,mb:2},children:[p?(0,$.jsx)(ys,{icon:(0,$.jsx)(Ph,{}),label:"Google Cloud TTS - Voix Neural",color:"success",size:"small"}):(0,$.jsx)(ys,{icon:(0,$.jsx)(Nh,{}),label:"Fallback: Web Speech API",color:"warning",size:"small"}),d&&(0,$.jsx)(ys,{label:"Chargement...",color:"info",size:"small"})]}),i&&(0,$.jsx)(le,{sx:{bgcolor:"white",p:2,borderRadius:1},children:(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,$.jsx)(Lh,{sx:{color:"text.secondary"}}),(0,$.jsxs)(Sa,{fullWidth:!0,size:"small",children:[(0,$.jsx)(La,{id:"voice-select-label",children:"Voix anglaise (Neural)"}),(0,$.jsx)(Rc,{labelId:"voice-select-label",value:f,label:"Voix anglaise (Neural)",onChange:e=>{const t=e.target.value;console.log("[AudioPlayer] Changement de voix:",{ancienne:f,nouvelle:t}),m(t)},disabled:u||d,children:[{name:"en-US-Neural2-A",label:"US Female - Emma",lang:"en-US"},{name:"en-US-Neural2-C",label:"US Female - Sarah",lang:"en-US"},{name:"en-US-Neural2-D",label:"US Male - David",lang:"en-US"},{name:"en-US-Neural2-F",label:"US Female - Michelle",lang:"en-US"},{name:"en-US-Neural2-I",label:"US Male - Alex",lang:"en-US"},{name:"en-GB-Neural2-A",label:"UK Female - Emma",lang:"en-GB"},{name:"en-GB-Neural2-B",label:"UK Male - George",lang:"en-GB"},{name:"en-GB-Neural2-C",label:"UK Female - Charlotte",lang:"en-GB"},{name:"en-GB-Neural2-D",label:"UK Male - Oliver",lang:"en-GB"}].map(e=>(0,$.jsx)(Fc,{value:e.name,children:e.label},e.name))})]})]})}),(0,$.jsxs)(Ce,{variant:"caption",sx:{display:"block",mt:1,color:"white"},children:["\ud83d\udca1 Cliquez sur le bouton lecture pour entendre le texte en anglais",i&&" \u2022 S\xe9lectionnez une voix Neural haute qualit\xe9",p&&" \u2022 Audio mis en cache pour lecture rapide"]})]})},Vh=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(null),[s,a]=(0,e.useState)("all"),[l,c]=(0,e.useState)("all"),[u,d]=(0,e.useState)(0),{addResponse:h}=us();(0,e.useEffect)(()=>{f()},[]);const p=e=>{if(!e.questions||0===e.questions.length)return!1;for(const t of e.questions){if(t.options){const e=[/^primary use of/i,/^alternative answer \d+$/i,/^incorrect statement [a-z]$/i,/^correct statement about/i,/^explanation about/i,/^other \d+$/i];for(const n of t.options)if(e.some(e=>e.test(n)))return!1}if("string"===typeof t.correctAnswer&&/^primary use of|^correct statement about|^explanation about/i.test(t.correctAnswer))return!1;if(t.explanation&&/^explanation about|^this is correct because/i.test(t.explanation))return!1;if(!t.text||t.text.trim().length<10)return!1}return!0},f=async()=>{try{const t=await fetch("/data/exercises/all_qcm_200.json");if(!t.ok)throw new Error("Erreur HTTP ".concat(t.status," pour all_qcm_200.json"));const r=await t.json(),o=await fetch("/data/exercises/all_cloze_200.json");if(!o.ok)throw new Error("Erreur HTTP ".concat(o.status," pour all_cloze_200.json"));const i=await o.json();let s=[];try{const e=await fetch("/corpus/listening/all_listening_100.json");if(e.ok){const t=await e.json();s=(t.texts||[]).map(e=>(e=>{if(!e.questions||0===e.questions.length)return null;const t=e.questions.map((t,n)=>({id:t.id||"q".concat(n+1),text:t.text,options:t.options||[],correctAnswer:t.correctAnswer,explanation:"This question tests your understanding of: ".concat(e.topic||"the listening text","."),grammarFocus:[],vocabularyFocus:[]}));return{id:e.id,type:"listening",level:e.level,domain:"ai",title:e.title,description:e.topic||"Listening exercise",content:e.transcript||"",questions:t,estimatedTime:Math.ceil((e.duration||120)/60),difficulty:3,audioUrl:e.audioFile?"/corpus/listening/".concat(e.audioFile):void 0,transcript:e.transcript,listeningData:e}})(e)).filter(e=>null!==e&&void 0!==e),console.log("\u2705 Charg\xe9 ".concat(s.length," exercices listening"))}}catch(e){console.warn("Erreur chargement listening:",e)}let a=[];try{const e=await fetch("/corpus/reading/all_reading_100.json");if(e.ok){const t=await e.json();a=(t.texts||[]).map(e=>(e=>{if(!e.questions||0===e.questions.length)return null;const t=e.questions.map((t,n)=>({id:t.id||"q".concat(n+1),text:t.text,options:t.options||[],correctAnswer:t.correctAnswer,explanation:"This question tests your understanding of: ".concat(e.topic||"the reading text","."),grammarFocus:[],vocabularyFocus:[]}));return{id:e.id,type:"reading",level:e.level,domain:"ai",title:e.title,description:e.topic||"Reading exercise",content:e.text||"",questions:t,estimatedTime:e.readingTime||5,difficulty:3,readingText:e.text,readingData:e}})(e)).filter(e=>null!==e&&void 0!==e),console.log("\u2705 Charg\xe9 ".concat(a.length," exercices reading"))}}catch(e){console.warn("Erreur chargement reading:",e)}const l=Array.isArray(r)?r:r.exercises||[],c=Array.isArray(i)?i:i.exercises||[],u=[...l,...c,...s,...a];console.log("\ud83d\udcda Total exercices charg\xe9s: ".concat(u.length," (").concat(l.length," QCM + ").concat(c.length," Cloze + ").concat(s.length," Listening + ").concat(a.length," Reading)"));const h=u.filter(e=>{if(!p(e))return!1;if(e.questions&&("listening"===e.type||"reading"===e.type))for(const t of e.questions)if(t.options){if(t.options.some(e=>/^other \d+$/i.test(e.trim())))return console.warn("\u26a0\ufe0f Exercice ".concat(e.id,' filtr\xe9 : contient des options placeholder "Other X"')),!1}return!0}),f=u.length-h.length;f>0&&(console.warn("\u26a0\ufe0f ".concat(f," exercices incomplets filtr\xe9s (contiennent des placeholders)")),d(f)),console.log("\u2705 Charg\xe9 ".concat(h.length," exercices complets \xe0 100% (").concat(f," incomplets filtr\xe9s)")),n(h)}catch(Ag){console.error("Erreur chargement exercices:",Ag);try{const e=await fetch("/data/exercises/qcm_exercises.json"),t=await fetch("/data/exercises/cloze_exercises.json"),r=await e.json(),o=await t.json(),i=[...r.exercises||[],...o.exercises||[]].filter(e=>p(e));console.log("\u2705 Charg\xe9 ".concat(i.length," exercices fallback complets")),n(i)}catch(t){console.error("Erreur chargement fallback:",t),n([])}}},m=t.filter(e=>{const t="all"===s||e.level===s,n="all"===l||e.type===l;return t&&n}),g=(0,e.useCallback)(e=>{var t;if(console.log("\ud83d\udd04 Clic sur exercice:",e.id,e.title),console.log("\ud83d\udccb Exercice complet:",e),console.log("\ud83d\udcdd Questions:",(null===(t=e.questions)||void 0===t?void 0:t.length)||0),!e||!e.id)return console.error("\u274c Erreur: exercice invalide",e),void alert("Erreur: exercice invalide");if(!e.questions||0===e.questions.length)return console.error("\u274c Erreur: l'exercice n'a pas de questions",e),void alert("Cet exercice n'a pas de questions disponibles. Veuillez choisir un autre exercice.");const n=(0,o.A)((0,o.A)({},e),{},{questions:[...e.questions]});console.log("\u2705 D\xe9finition de l'exercice s\xe9lectionn\xe9:",n.id),i(n)},[]),v=(e,t,n,o)=>{r&&h({exerciseId:r.id,questionId:e,answer:t,isCorrect:n,timeSpent:o,timestamp:new Date})},y=()=>{i(null)};return r?(console.log("\ud83c\udfaf Rendu de l'exercice s\xe9lectionn\xe9:",r.id,r.title),(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsx)(dn,{onClick:y,sx:{mb:3},variant:"outlined",children:"\u2190 Retour aux exercices"}),"qcm"===r.type?(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,children:r.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:3},children:r.description}),r.questions&&r.questions.length>0?r.questions.map(e=>(0,$.jsx)(_u,{question:e,onAnswer:(t,n,r)=>v(e.id,t,n,r)},e.id)):(0,$.jsx)(Ms,{severity:"error",children:"Aucune question disponible pour cet exercice."})]}):"cloze"===r.type?(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,children:r.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:3},children:r.description}),r.questions&&r.questions.length>0?r.questions.map(e=>(0,$.jsx)(Uu,{question:e,onAnswer:(t,n,r)=>v(e.id,t,n,r)},e.id)):(0,$.jsx)(Ms,{severity:"error",children:"Aucune question disponible pour cet exercice."})]}):"listening"===r.type?(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,children:r.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:3},children:r.description}),r.transcript&&(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Bh,{text:r.transcript,lang:"en-US",title:"Audio - \xc9coutez la transcription",showControls:!0,autoPlay:!1}),(0,$.jsx)(Ms,{severity:"info",sx:{mt:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Conseil :"})," Cliquez sur le bouton lecture dans le lecteur audio ci-dessus pour \xe9couter la transcription. La transcription compl\xe8te sera disponible apr\xe8s avoir r\xe9pondu aux questions."]})})]}),r.questions&&r.questions.length>0?(0,$.jsxs)($.Fragment,{children:[r.questions.map((e,t)=>(console.log("\ud83d\udcdd Question ".concat(t+1,":"),e),(0,$.jsx)(qu,{question:e,onAnswer:(t,n,r)=>v(e.id,t,n,r),audioUrl:void 0,transcript:void 0},e.id||"q".concat(t)))),r.transcript&&(0,$.jsxs)(le,{sx:{mt:4,p:3,bgcolor:"grey.100",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Transcription compl\xe8te"}),(0,$.jsx)(Ce,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.8},children:r.transcript})]})]}):(0,$.jsx)(Ms,{severity:"error",children:"Aucune question disponible pour cet exercice."})]}):"reading"===r.type?(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,children:r.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:3},children:r.description}),r.readingText||r.content?(0,$.jsxs)(le,{sx:{mb:3,p:3,bgcolor:"grey.50",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Texte \xe0 lire :"}),(0,$.jsx)(Ce,{variant:"body1",sx:{whiteSpace:"pre-wrap",lineHeight:1.8},children:r.readingText||r.content})]}):null,r.questions&&r.questions.length>0?r.questions.map(e=>(0,$.jsx)(Wu,{question:e,onAnswer:(t,n,r)=>v(e.id,t,n,r),text:void 0},e.id)):(0,$.jsx)(Ms,{severity:"error",children:"Aucune question disponible pour cet exercice."})]}):(0,$.jsxs)(Ms,{severity:"error",children:["Type d'exercice non support\xe9: ",r.type]})]})):(0,$.jsxs)(le,{sx:{p:3},children:[" ",u>0&&(0,$.jsx)(Ms,{severity:"warning",sx:{mb:3},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Note :"})," ",u," exercice(s) incomplet(s) ont \xe9t\xe9 automatiquement filtr\xe9s car ils contiennent des placeholders au lieu de contenu r\xe9el. Seuls les exercices complets sont affich\xe9s."]})}),0===t.length&&(0,$.jsx)(Ms,{severity:"error",sx:{mb:3},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Erreur :"})," Aucun exercice n'a pu \xeatre charg\xe9. V\xe9rifiez la console pour plus de d\xe9tails."]})}),(0,$.jsxs)(Ce,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:["Exercices disponibles",t.length>0&&(0,$.jsx)(ys,{label:"".concat(t.length," exercice(s) au total"),color:"primary",sx:{ml:2}})]}),(0,$.jsxs)(le,{sx:{display:"flex",gap:2,mb:4},children:[(0,$.jsxs)(Sa,{sx:{minWidth:200},children:[(0,$.jsx)(La,{children:"Niveau"}),(0,$.jsxs)(Rc,{value:s,label:"Niveau",onChange:e=>a(e.target.value),children:[(0,$.jsx)(Fc,{value:"all",children:"Tous les niveaux"}),(0,$.jsx)(Fc,{value:"A2",children:"A2"}),(0,$.jsx)(Fc,{value:"B1",children:"B1"}),(0,$.jsx)(Fc,{value:"B2",children:"B2"}),(0,$.jsx)(Fc,{value:"C1",children:"C1"})]})]}),(0,$.jsxs)(Sa,{sx:{minWidth:200},children:[(0,$.jsx)(La,{children:"Type"}),(0,$.jsxs)(Rc,{value:l,label:"Type",onChange:e=>c(e.target.value),children:[(0,$.jsx)(Fc,{value:"all",children:"Tous les types"}),(0,$.jsx)(Fc,{value:"qcm",children:"QCM"}),(0,$.jsx)(Fc,{value:"cloze",children:"Texte \xe0 trous"}),(0,$.jsx)(Fc,{value:"listening",children:"Listening (Compr\xe9hension orale)"}),(0,$.jsx)(Fc,{value:"reading",children:"Reading (Compr\xe9hension \xe9crite)"})]})]}),(0,$.jsx)(ys,{label:"".concat(m.length," exercice(s)"),color:"primary",sx:{ml:"auto",alignSelf:"center"}})]}),(0,$.jsx)(Ve,{container:!0,spacing:3,children:m.map(e=>(0,$.jsx)(Ve,{item:!0,xs:12,sm:6,md:4,children:(0,$.jsxs)(Ye,{elevation:3,sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,$.jsxs)(et,{sx:{flexGrow:1},children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,$.jsx)(ys,{label:e.level,color:"C1"===e.level?"error":"B2"===e.level?"warning":"B1"===e.level?"info":"success",size:"small"}),(0,$.jsx)(ys,{label:"qcm"===e.type?"QCM":"Texte \xe0 trous",variant:"outlined",size:"small"})]}),(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,sx:{minHeight:60},children:e.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:2,minHeight:40},children:e.description}),(0,$.jsxs)(le,{sx:{display:"flex",gap:2,mb:2},children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,$.jsx)(pi,{fontSize:"small",color:"action"}),(0,$.jsxs)(Ce,{variant:"caption",children:[e.questions.length," question(s)"]})]}),(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,$.jsx)(ca,{fontSize:"small",color:"action"}),(0,$.jsxs)(Ce,{variant:"caption",children:["~",e.estimatedTime," min"]})]}),(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,$.jsx)(ua,{fontSize:"small",color:"action"}),(0,$.jsxs)(Ce,{variant:"caption",children:["Niveau ",e.difficulty,"/5"]})]})]}),(0,$.jsx)(ys,{label:e.domain,size:"small",sx:{mt:1}})]}),(0,$.jsx)(le,{sx:{p:2,pt:0},children:(0,$.jsx)(dn,{variant:"contained",fullWidth:!0,type:"button",onClick:t=>{var n;t.preventDefault(),t.stopPropagation(),console.log("\ud83d\uddb1\ufe0f \xc9V\xc9NEMENT CLIC D\xc9TECT\xc9 pour:",e.id,e.title),console.log("\ud83d\udd0d Exercice au moment du clic:",{id:e.id,title:e.title,questionsCount:(null===(n=e.questions)||void 0===n?void 0:n.length)||0,type:e.type}),g(e)},onMouseDown:t=>{t.stopPropagation(),console.log("\ud83d\uddb1\ufe0f MouseDown d\xe9tect\xe9 pour:",e.id)},disabled:!e.questions||0===e.questions.length,sx:{cursor:e.questions&&e.questions.length>0?"pointer":"not-allowed","&:hover":{backgroundColor:e.questions&&e.questions.length>0?"primary.dark":"action.disabled"}},children:e.questions&&e.questions.length>0?"Commencer":"Indisponible"})})]})},e.id))}),0===m.length&&(0,$.jsxs)(le,{sx:{textAlign:"center",py:8},children:[(0,$.jsx)(Ce,{variant:"h6",color:"text.secondary",children:"Aucun exercice trouv\xe9 pour ces crit\xe8res"}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Essayez de changer les filtres"})]})]})};let Uh;function qh(){if(Uh)return Uh;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),Uh="reverse",e.scrollLeft>0?Uh="default":(e.scrollLeft=1,0===e.scrollLeft&&(Uh="negative")),document.body.removeChild(e),Uh}function Wh(e,t){const n=e.scrollLeft;if("rtl"!==t)return n;switch(qh()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function Hh(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}const Gh=["onChange"],Kh={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};const Qh=ui((0,$.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Xh=ui((0,$.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Yh(e){return re("MuiTabScrollButton",e)}const $h=oe("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Jh=["className","slots","slotProps","direction","orientation","disabled"],Zh=fe(en,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})(e=>{let{ownerState:t}=e;return(0,i.A)({width:40,flexShrink:0,opacity:.8,["&.".concat($h.disabled)]:{opacity:0}},"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:"rotate(".concat(t.isRtl?-90:90,"deg)")}})}),ep=e.forwardRef(function(e,t){var n,r;const o=be({props:e,name:"MuiTabScrollButton"}),{className:a,slots:l={},slotProps:c={},direction:u}=o,d=(0,s.A)(o,Jh),h=Tn(),p=(0,i.A)({isRtl:h},o),f=(e=>{const{classes:t,orientation:n,disabled:r}=e;return ce({root:["root",n,r&&"disabled"]},Yh,t)})(p),m=null!=(n=l.StartScrollButtonIcon)?n:Qh,g=null!=(r=l.EndScrollButtonIcon)?r:Xh,v=Dn({elementType:m,externalSlotProps:c.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p}),y=Dn({elementType:g,externalSlotProps:c.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p});return(0,$.jsx)(Zh,(0,i.A)({component:"div",className:W(f.root,a),ref:t,role:null,ownerState:p,tabIndex:null},d,{children:"left"===u?(0,$.jsx)(m,(0,i.A)({},v)):(0,$.jsx)(g,(0,i.A)({},y))}))});function tp(e){return re("MuiTabs",e)}const np=oe("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),rp=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],op=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,ip=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,sp=(e,t,n)=>{let r=!1,o=n(e,t);for(;o;){if(o===e.firstChild){if(r)return;r=!0}const t=o.disabled||"true"===o.getAttribute("aria-disabled");if(o.hasAttribute("tabindex")&&!t)return void o.focus();o=n(e,o)}},ap=fe("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(np.scrollButtons)]:t.scrollButtons},{["& .".concat(np.scrollButtons)]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(e=>{let{ownerState:t,theme:n}=e;return(0,i.A)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{["& .".concat(np.scrollButtons)]:{[n.breakpoints.down("sm")]:{display:"none"}}})}),lp=fe("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})(e=>{let{ownerState:t}=e;return(0,i.A)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})}),cp=fe("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})(e=>{let{ownerState:t}=e;return(0,i.A)({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})}),up=fe("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(e=>{let{ownerState:t,theme:n}=e;return(0,i.A)({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})}),dp=fe(function(t){const{onChange:n}=t,r=(0,s.A)(t,Gh),o=e.useRef(),a=e.useRef(null),l=()=>{o.current=a.current.offsetHeight-a.current.clientHeight};return Yr(()=>{const e=Tr(()=>{const e=o.current;l(),e!==o.current&&n(o.current)}),t=jr(a.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[n]),e.useEffect(()=>{l(),n(o.current)},[n]),(0,$.jsx)("div",(0,i.A)({style:Kh},r,{ref:a}))})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),hp={};const pp=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiTabs"}),o=je(),a=Tn(),{"aria-label":l,"aria-labelledby":c,action:u,centered:d=!1,children:h,className:p,component:f="div",allowScrollButtonsMobile:m=!1,indicatorColor:g="primary",onChange:v,orientation:y="horizontal",ScrollButtonComponent:b=ep,scrollButtons:x="auto",selectionFollowsFocus:w,slots:S={},slotProps:E={},TabIndicatorProps:k={},TabScrollButtonProps:I={},textColor:A="primary",value:C,variant:T="standard",visibleScrollbar:j=!1}=r,_=(0,s.A)(r,rp),R="scrollable"===T,P="vertical"===y,N=P?"scrollTop":"scrollLeft",L=P?"top":"left",O=P?"bottom":"right",M=P?"clientHeight":"clientWidth",D=P?"height":"width",F=(0,i.A)({},r,{component:f,allowScrollButtonsMobile:m,indicatorColor:g,orientation:y,vertical:P,scrollButtons:x,textColor:A,variant:T,visibleScrollbar:j,fixed:!R,hideScrollbar:R&&!j,scrollableX:R&&!P,scrollableY:R&&P,centered:d&&!R,scrollButtonsHideMobile:!m}),z=(e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:o,scrollableY:i,centered:s,scrollButtonsHideMobile:a,classes:l}=e;return ce({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",o&&"scrollableX",i&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},tp,l)})(F),B=Dn({elementType:S.StartScrollButtonIcon,externalSlotProps:E.startScrollButtonIcon,ownerState:F}),V=Dn({elementType:S.EndScrollButtonIcon,externalSlotProps:E.endScrollButtonIcon,ownerState:F});const[U,q]=e.useState(!1),[H,G]=e.useState(hp),[K,Q]=e.useState(!1),[X,Y]=e.useState(!1),[J,Z]=e.useState(!1),[ee,te]=e.useState({overflow:"hidden",scrollbarWidth:0}),ne=new Map,re=e.useRef(null),oe=e.useRef(null),ie=()=>{const e=re.current;let t,n;if(e){const n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollLeftNormalized:Wh(e,a?"rtl":"ltr"),scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(e&&!1!==C){const e=oe.current.children;if(e.length>0){const t=e[ne.get(C)];0,n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},se=st(()=>{const{tabsMeta:e,tabMeta:t}=ie();let n,r=0;if(P)n="top",t&&e&&(r=t.top-e.top+e.scrollTop);else if(n=a?"right":"left",t&&e){const o=a?e.scrollLeftNormalized+e.clientWidth-e.scrollWidth:e.scrollLeft;r=(a?-1:1)*(t[n]-e[n]+o)}const o={[n]:r,[D]:t?t[D]:0};if(isNaN(H[n])||isNaN(H[D]))G(o);else{const e=Math.abs(H[n]-o[n]),t=Math.abs(H[D]-o[D]);(e>=1||t>=1)&&G(o)}}),ae=function(e){let{animation:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const{ease:i=Hh,duration:s=300}=r;let a=null;const l=t[e];let c=!1;const u=()=>{c=!0},d=r=>{if(c)return void o(new Error("Animation cancelled"));null===a&&(a=r);const u=Math.min(1,(r-a)/s);t[e]=i(u)*(n-l)+l,u>=1?requestAnimationFrame(()=>{o(null)}):requestAnimationFrame(d)};l===n?o(new Error("Element already at target position")):requestAnimationFrame(d)}(N,re.current,e,{duration:o.transitions.duration.standard}):re.current[N]=e},le=e=>{let t=re.current[N];P?t+=e:(t+=e*(a?-1:1),t*=a&&"reverse"===qh()?-1:1),ae(t)},ue=()=>{const e=re.current[M];let t=0;const n=Array.from(oe.current.children);for(let r=0;r<n.length;r+=1){const o=n[r];if(t+o[M]>e){0===r&&(t=e);break}t+=o[M]}return t},de=()=>{le(-1*ue())},he=()=>{le(ue())},pe=e.useCallback(e=>{te({overflow:null,scrollbarWidth:e})},[]),fe=st(e=>{const{tabsMeta:t,tabMeta:n}=ie();if(n&&t)if(n[L]<t[L]){const r=t[N]+(n[L]-t[L]);ae(r,{animation:e})}else if(n[O]>t[O]){const r=t[N]+(n[O]-t[O]);ae(r,{animation:e})}}),me=st(()=>{R&&!1!==x&&Z(!J)});e.useEffect(()=>{const e=Tr(()=>{re.current&&se()});let t;const n=n=>{n.forEach(e=>{e.removedNodes.forEach(e=>{var n;null==(n=t)||n.unobserve(e)}),e.addedNodes.forEach(e=>{var n;null==(n=t)||n.observe(e)})}),e(),me()},r=jr(re.current);let o;return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e),Array.from(oe.current.children).forEach(e=>{t.observe(e)})),"undefined"!==typeof MutationObserver&&(o=new MutationObserver(n),o.observe(oe.current,{childList:!0})),()=>{var n,i;e.clear(),r.removeEventListener("resize",e),null==(n=o)||n.disconnect(),null==(i=t)||i.disconnect()}},[se,me]),e.useEffect(()=>{const e=Array.from(oe.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&R&&!1!==x){const n=e[0],r=e[t-1],o={root:re.current,threshold:.99},i=new IntersectionObserver(e=>{Q(!e[0].isIntersecting)},o);i.observe(n);const s=new IntersectionObserver(e=>{Y(!e[0].isIntersecting)},o);return s.observe(r),()=>{i.disconnect(),s.disconnect()}}},[R,x,J,null==h?void 0:h.length]),e.useEffect(()=>{q(!0)},[]),e.useEffect(()=>{se()}),e.useEffect(()=>{fe(hp!==H)},[fe,H]),e.useImperativeHandle(u,()=>({updateIndicator:se,updateScrollButtons:me}),[se,me]);const ge=(0,$.jsx)(up,(0,i.A)({},k,{className:W(z.indicator,k.className),ownerState:F,style:(0,i.A)({},H,k.style)}));let ve=0;const ye=e.Children.map(h,t=>{if(!e.isValidElement(t))return null;const n=void 0===t.props.value?ve:t.props.value;ne.set(n,ve);const r=n===C;return ve+=1,e.cloneElement(t,(0,i.A)({fullWidth:"fullWidth"===T,indicator:r&&!U&&ge,selected:r,selectionFollowsFocus:w,onChange:v,textColor:A,value:n},1!==ve||!1!==C||t.props.tabIndex?{}:{tabIndex:0}))}),xe=(()=>{const e={};e.scrollbarSizeListener=R?(0,$.jsx)(dp,{onChange:pe,className:W(z.scrollableX,z.hideScrollbar)}):null;const t=R&&("auto"===x&&(K||X)||!0===x);return e.scrollButtonStart=t?(0,$.jsx)(b,(0,i.A)({slots:{StartScrollButtonIcon:S.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:B},orientation:y,direction:a?"right":"left",onClick:de,disabled:!K},I,{className:W(z.scrollButtons,I.className)})):null,e.scrollButtonEnd=t?(0,$.jsx)(b,(0,i.A)({slots:{EndScrollButtonIcon:S.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:V},orientation:y,direction:a?"left":"right",onClick:he,disabled:!X},I,{className:W(z.scrollButtons,I.className)})):null,e})();return(0,$.jsxs)(ap,(0,i.A)({className:W(z.root,p),ownerState:F,ref:n,as:f},_,{children:[xe.scrollButtonStart,xe.scrollbarSizeListener,(0,$.jsxs)(lp,{className:z.scroller,ownerState:F,style:{overflow:ee.overflow,[P?"margin".concat(a?"Left":"Right"):"marginBottom"]:j?void 0:-ee.scrollbarWidth},ref:re,children:[(0,$.jsx)(cp,{"aria-label":l,"aria-labelledby":c,"aria-orientation":"vertical"===y?"vertical":null,className:z.flexContainer,ownerState:F,onKeyDown:e=>{const t=oe.current,n=Oa(t).activeElement;if("tab"!==n.getAttribute("role"))return;let r="horizontal"===y?"ArrowLeft":"ArrowUp",o="horizontal"===y?"ArrowRight":"ArrowDown";switch("horizontal"===y&&a&&(r="ArrowRight",o="ArrowLeft"),e.key){case r:e.preventDefault(),sp(t,n,ip);break;case o:e.preventDefault(),sp(t,n,op);break;case"Home":e.preventDefault(),sp(t,null,op);break;case"End":e.preventDefault(),sp(t,null,ip)}},ref:oe,role:"tablist",children:ye}),U&&ge]}),xe.scrollButtonEnd]}))}),fp=pp;function mp(e){return re("MuiTab",e)}const gp=oe("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),vp=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],yp=fe(en,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t["textColor".concat(we(n.textColor))],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{["& .".concat(gp.iconWrapper)]:t.iconWrapper}]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},n.label&&{flexDirection:"top"===n.iconPosition||"bottom"===n.iconPosition?"column":"row"},{lineHeight:1.25},n.icon&&n.label&&{minHeight:72,paddingTop:9,paddingBottom:9,["& > .".concat(gp.iconWrapper)]:(0,i.A)({},"top"===n.iconPosition&&{marginBottom:6},"bottom"===n.iconPosition&&{marginTop:6},"start"===n.iconPosition&&{marginRight:t.spacing(1)},"end"===n.iconPosition&&{marginLeft:t.spacing(1)})},"inherit"===n.textColor&&{color:"inherit",opacity:.6,["&.".concat(gp.selected)]:{opacity:1},["&.".concat(gp.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"primary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,["&.".concat(gp.selected)]:{color:(t.vars||t).palette.primary.main},["&.".concat(gp.disabled)]:{color:(t.vars||t).palette.text.disabled}},"secondary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,["&.".concat(gp.selected)]:{color:(t.vars||t).palette.secondary.main},["&.".concat(gp.disabled)]:{color:(t.vars||t).palette.text.disabled}},n.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},n.wrapped&&{fontSize:t.typography.pxToRem(12)})}),bp=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiTab"}),{className:o,disabled:a=!1,disableFocusRipple:l=!1,fullWidth:c,icon:u,iconPosition:d="top",indicator:h,label:p,onChange:f,onClick:m,onFocus:g,selected:v,selectionFollowsFocus:y,textColor:b="inherit",value:x,wrapped:w=!1}=r,S=(0,s.A)(r,vp),E=(0,i.A)({},r,{disabled:a,disableFocusRipple:l,selected:v,icon:!!u,iconPosition:d,label:!!p,fullWidth:c,textColor:b,wrapped:w}),k=(e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:o,icon:i,label:s,selected:a,disabled:l}=e;return ce({root:["root",i&&s&&"labelIcon","textColor".concat(we(n)),r&&"fullWidth",o&&"wrapped",a&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]},mp,t)})(E),I=u&&p&&e.isValidElement(u)?e.cloneElement(u,{className:W(k.iconWrapper,u.props.className)}):u;return(0,$.jsxs)(yp,(0,i.A)({focusRipple:!l,className:W(k.root,o),ref:n,role:"tab","aria-selected":v,disabled:a,onClick:e=>{!v&&f&&f(e,x),m&&m(e)},onFocus:e=>{y&&!v&&f&&f(e,x),g&&g(e)},ownerState:E,tabIndex:v?0:-1},S,{children:["top"===d||"start"===d?(0,$.jsxs)(e.Fragment,{children:[I,p]}):(0,$.jsxs)(e.Fragment,{children:[p,I]}),h]}))});function xp(e){return re("MuiCircularProgress",e)}oe("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var wp,Sp,Ep,kp;const Ip=["className","color","disableShrink","size","style","thickness","value","variant"];let Ap,Cp,Tp,jp;const _p=44,Rp=(0,_t.i7)(Ap||(Ap=wp||(wp=xt(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),Pp=(0,_t.i7)(Cp||(Cp=Sp||(Sp=xt(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),Np=fe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat(we(n.color))]]}})(e=>{let{ownerState:t,theme:n}=e;return(0,i.A)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,_t.AH)(Tp||(Tp=Ep||(Ep=xt(["\n      animation: "," 1.4s linear infinite;\n    "]))),Rp)}),Lp=fe("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Op=fe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat(we(n.variant))],n.disableShrink&&t.circleDisableShrink]}})(e=>{let{ownerState:t,theme:n}=e;return(0,i.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,_t.AH)(jp||(jp=kp||(kp=xt(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),Pp)}),Mp=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:a=!1,size:l=40,style:c,thickness:u=3.6,value:d=0,variant:h="indeterminate"}=n,p=(0,s.A)(n,Ip),f=(0,i.A)({},n,{color:o,disableShrink:a,size:l,thickness:u,value:d,variant:h}),m=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e;return ce({root:["root",n,"color".concat(we(r))],svg:["svg"],circle:["circle","circle".concat(we(n)),o&&"circleDisableShrink"]},xp,t)})(f),g={},v={},y={};if("determinate"===h){const e=2*Math.PI*((_p-u)/2);g.strokeDasharray=e.toFixed(3),y["aria-valuenow"]=Math.round(d),g.strokeDashoffset="".concat(((100-d)/100*e).toFixed(3),"px"),v.transform="rotate(-90deg)"}return(0,$.jsx)(Np,(0,i.A)({className:W(m.root,r),style:(0,i.A)({width:l,height:l},v,c),ownerState:f,ref:t,role:"progressbar"},y,p,{children:(0,$.jsx)(Lp,{className:m.svg,ownerState:f,viewBox:"".concat(22," ").concat(22," ").concat(_p," ").concat(_p),children:(0,$.jsx)(Op,{className:m.circle,style:g,ownerState:f,cx:_p,cy:_p,r:(_p-u)/2,fill:"none",strokeWidth:u})})}))}),Dp=Mp,Fp=ui((0,$.jsx)("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"}),"Mic"),zp=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Bp=fe("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,p.X4)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})},e=>{let{ownerState:t}=e;return(0,i.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})},e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}})},e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}})},e=>{let{ownerState:t}=e;return(0,i.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})}),Vp=fe("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})}),Up=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiDivider"}),{absolute:r=!1,children:o,className:a,component:l=(o?"div":"hr"),flexItem:c=!1,light:u=!1,orientation:d="horizontal",role:h=("hr"!==l?"separator":void 0),textAlign:p="center",variant:f="fullWidth"}=n,m=(0,s.A)(n,zp),g=(0,i.A)({},n,{absolute:r,component:l,flexItem:c,light:u,orientation:d,role:h,textAlign:p,variant:f}),v=(e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:i,orientation:s,textAlign:a,variant:l}=e;return ce({root:["root",t&&"absolute",l,i&&"light","vertical"===s&&"vertical",o&&"flexItem",n&&"withChildren",n&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]},Pc,r)})(g);return(0,$.jsx)(Bp,(0,i.A)({as:l,className:W(v.root,a),role:h,ref:t,ownerState:g},m,{children:o?(0,$.jsx)(Vp,{className:v.wrapper,ownerState:g,children:o}):null}))});Up.muiSkipListHighlight=!0;const qp=Up;const Wp=new class{constructor(){this.apiEndpoint="/api/speech-to-text"}async blobToBase64(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{const e=r.result.split(",")[1];t(e)},r.onerror=n,r.readAsDataURL(e)})}detectAudioEncoding(e){return e.includes("webm")?"WEBM_OPUS":e.includes("mp3")?"MP3":e.includes("wav")?"LINEAR16":e.includes("ogg")?"OGG_OPUS":"WEBM_OPUS"}async transcribe(e){const{audioBlob:t,lang:n="en-US",sampleRate:r=48e3}=e;console.log("[STT] Transcription demand\xe9e avec:",{blobSize:t.size,mimeType:t.type,lang:n,sampleRate:r});try{const e=await this.blobToBase64(t),o=this.detectAudioEncoding(t.type),i={audioContent:e,languageCode:n,sampleRateHertz:r,encoding:o};console.log("[STT] Requ\xeate envoy\xe9e au backend:",{languageCode:n,sampleRateHertz:r,encoding:o,audioSize:e.length});const s=await fetch(this.apiEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!s.ok){const e=await s.json();throw new Error(e.message||"STT API error: ".concat(s.status))}const a=await s.json();return console.log("[STT] Transcription r\xe9ussie:",{transcript:a.transcript,confidence:a.confidence}),{success:!0,transcript:a.transcript||"",confidence:a.confidence||0,words:a.words||[]}}catch(Ag){return console.error("[STT] Erreur lors de la transcription:",Ag),{success:!1,transcript:"",confidence:0,error:Ag instanceof Error?Ag.message:"Erreur inconnue"}}}async getLanguages(){try{const e=await fetch("".concat(this.apiEndpoint,"/languages"));if(!e.ok)throw new Error("Languages API error: ".concat(e.status));return(await e.json()).languages||[]}catch(Ag){return console.error("[STT] Erreur r\xe9cup\xe9ration langues:",Ag),[]}}async recordAudio(e){try{const t=await navigator.mediaDevices.getUserMedia({audio:!0}),n=new MediaRecorder(t,{mimeType:"audio/webm;codecs=opus"}),r=[];return new Promise((o,i)=>{n.ondataavailable=e=>{e.data.size>0&&r.push(e.data)},n.onstop=()=>{const e=new Blob(r,{type:"audio/webm;codecs=opus"});t.getTracks().forEach(e=>e.stop()),o(e)},n.onerror=e=>{t.getTracks().forEach(e=>e.stop()),i(e)},n.start(),e&&setTimeout(()=>{"recording"===n.state&&n.stop()},e),n.stopRecording=()=>{"recording"===n.state&&n.stop()}})}catch(Ag){return console.error("[STT] Erreur lors de l'enregistrement:",Ag),null}}},Hp=t=>{let{exercise:n,onComplete:r}=t;const[o,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)(!1),[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(null),[h,p]=(0,e.useState)(null),[f,m]=(0,e.useState)(0),g=(0,e.useRef)(null),v=(0,e.useRef)([]),y=(0,e.useRef)(null),b=(0,e.useRef)(null),x=Ki.Ii.isNativePlatform(),w=(0,e.useCallback)(async()=>{try{p(null),c(""),d(null),v.current=[],m(0);const e=x?{audio:!0}:{audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:48e3}},t=await navigator.mediaDevices.getUserMedia(e);b.current=t;let n="audio/webm;codecs=opus";x&&(MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?n="audio/webm;codecs=opus":MediaRecorder.isTypeSupported("audio/webm")?n="audio/webm":MediaRecorder.isTypeSupported("audio/mp4")?n="audio/mp4":console.warn("[SpeakingExercise] Aucun format pr\xe9f\xe9r\xe9 support\xe9, utilisation du format par d\xe9faut"));const r=MediaRecorder.isTypeSupported(n)?new MediaRecorder(t,{mimeType:n}):new MediaRecorder(t);g.current=r,r.ondataavailable=e=>{e.data.size>0&&v.current.push(e.data)},r.onstop=async()=>{t.getTracks().forEach(e=>e.stop()),await E()},r.start(),i(!0),y.current=setInterval(()=>{m(e=>e+1)},1e3)}catch(e){console.error("[SpeakingExercise] Erreur d\xe9marrage enregistrement:",e),p("NotAllowedError"===e.name?"Permission microphone refus\xe9e. Veuillez autoriser l'acc\xe8s.":"Erreur lors du d\xe9marrage de l'enregistrement.")}},[]),S=(0,e.useCallback)(()=>{g.current&&o&&(g.current.stop(),i(!1),y.current&&(clearInterval(y.current),y.current=null))},[o]),E=(0,e.useCallback)(async()=>{a(!0),p(null);try{const e=v.current[0],t=(null===e||void 0===e?void 0:e.type)||"audio/webm;codecs=opus",o=new Blob(v.current,{type:t});console.log("[SpeakingExercise] Audio enregistr\xe9:",{size:o.size,type:o.type});const i=await Wp.transcribe({audioBlob:o,lang:"en-US",sampleRate:48e3});if(!i.success||!i.transcript)throw new Error(i.error||"Aucune transcription disponible. R\xe9essayez.");c(i.transcript),console.log("[SpeakingExercise] Transcription:",i.transcript);const s=await fetch("/api/speaking-agent/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:i.transcript,confidence:i.confidence/100,targetLevel:n.level,expectedSentence:n.targetSentence})});if(!s.ok)throw new Error("Erreur lors de l'analyse");const a=await s.json();if(!a.success)throw new Error(a.message||"Erreur lors de l'analyse");d(a),r&&r(a),console.log("[SpeakingExercise] Analyse compl\xe8te:",a)}catch(e){console.error("[SpeakingExercise] Erreur traitement:",e),p(e.message||"Erreur lors du traitement de l'audio")}finally{a(!1)}},[n.level,n.targetSentence,r]),k=(0,e.useCallback)(()=>{S(),c(""),d(null),p(null),m(0),v.current=[]},[S]);e.useEffect(()=>()=>{y.current&&clearInterval(y.current),b.current&&b.current.getTracks().forEach(e=>e.stop())},[]);return(0,$.jsx)(Ye,{sx:{maxWidth:800,mx:"auto",mt:3},children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,children:n.title}),(0,$.jsxs)(le,{sx:{mb:2},children:[(0,$.jsx)(ys,{label:"Niveau ".concat(n.level),color:"primary",size:"small",sx:{mr:1}}),(0,$.jsx)(ys,{label:n.type,color:"secondary",size:"small",sx:{mr:1}}),n.focusAreas.map((e,t)=>(0,$.jsx)(ys,{label:e,size:"small",variant:"outlined",sx:{mr:1,mb:1}},t))]}),(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,sx:{mb:3},children:n.prompt}),n.targetSentence&&(0,$.jsx)(Ms,{severity:"info",sx:{mb:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Phrase cible :"})," ",n.targetSentence]})}),(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[!o&&!s&&(0,$.jsx)(dn,{variant:"contained",color:"primary",startIcon:(0,$.jsx)(Fp,{}),onClick:w,size:"large",children:"Commencer l'enregistrement"}),o&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(dn,{variant:"contained",color:"error",startIcon:(0,$.jsx)(_h,{}),onClick:S,size:"large",children:["Arr\xeater (",(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))})(f),")"]}),(0,$.jsx)(Dp,{size:24})]}),s&&(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,$.jsx)(Dp,{size:24}),(0,$.jsx)(Ce,{variant:"body2",children:"Traitement en cours (transcription + analyse)..."})]}),(l||u)&&(0,$.jsx)(dn,{variant:"outlined",onClick:k,children:"R\xe9initialiser"})]}),h&&(0,$.jsx)(Ms,{severity:"error",sx:{mb:2},children:h}),l&&(0,$.jsxs)(Ye,{variant:"outlined",sx:{mb:2,p:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:"Transcription :"}),(0,$.jsx)(Ce,{variant:"body1",children:l})]}),u&&(0,$.jsxs)(le,{children:[(0,$.jsx)(qp,{sx:{my:2}}),(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Scores"}),(0,$.jsxs)(le,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[(0,$.jsxs)(le,{sx:{flex:1,minWidth:150},children:[(0,$.jsx)(Ce,{variant:"caption",children:"Score global"}),(0,$.jsx)(ia,{variant:"determinate",value:u.score,sx:{height:8,borderRadius:1}}),(0,$.jsxs)(Ce,{variant:"body2",children:[u.score,"%"]})]}),(0,$.jsxs)(le,{sx:{flex:1,minWidth:150},children:[(0,$.jsx)(Ce,{variant:"caption",children:"Grammaire"}),(0,$.jsx)(ia,{variant:"determinate",value:u.grammarScore,color:"primary",sx:{height:8,borderRadius:1}}),(0,$.jsxs)(Ce,{variant:"body2",children:[u.grammarScore,"%"]})]}),(0,$.jsxs)(le,{sx:{flex:1,minWidth:150},children:[(0,$.jsx)(Ce,{variant:"caption",children:"Prononciation"}),(0,$.jsx)(ia,{variant:"determinate",value:u.pronunciationScore,color:"secondary",sx:{height:8,borderRadius:1}}),(0,$.jsxs)(Ce,{variant:"body2",children:[u.pronunciationScore,"%"]})]}),(0,$.jsxs)(le,{sx:{flex:1,minWidth:150},children:[(0,$.jsx)(Ce,{variant:"caption",children:"Fluidit\xe9"}),(0,$.jsx)(ia,{variant:"determinate",value:u.fluencyScore,color:"success",sx:{height:8,borderRadius:1}}),(0,$.jsxs)(Ce,{variant:"body2",children:[u.fluencyScore,"%"]})]})]})]}),u.correctedSentence&&(0,$.jsxs)(Ms,{severity:"info",sx:{mb:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:"Phrase corrig\xe9e :"}),(0,$.jsx)(Ce,{variant:"body1",children:u.correctedSentence})]}),(0,$.jsx)(Ms,{severity:u.score>=75?"success":u.score>=50?"warning":"error",sx:{mb:2},children:(0,$.jsx)(Ce,{variant:"body1",children:u.feedback})}),u.errors.length>0&&(0,$.jsxs)(le,{sx:{mb:2},children:[(0,$.jsxs)(Ce,{variant:"h6",gutterBottom:!0,children:["Erreurs d\xe9tect\xe9es (",u.errors.length,")"]}),(0,$.jsx)(Qr,{children:u.errors.map((e,t)=>(0,$.jsx)(co,{alignItems:"flex-start",children:(0,$.jsx)(xo,{primary:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body2",component:"span",sx:{textDecoration:"line-through",color:"error.main",mr:1},children:e.original}),(0,$.jsxs)(Ce,{variant:"body2",component:"span",sx:{color:"success.main"},children:["\u2192 ",e.corrected]}),(0,$.jsx)(ys,{label:e.severity,size:"small",color:"high"===e.severity?"error":"medium"===e.severity?"warning":"default",sx:{ml:1}})]}),primaryTypographyProps:{component:"div"},secondary:(0,$.jsxs)(le,{sx:{mt:1},children:[(0,$.jsx)(Ce,{variant:"body2",children:e.explanation}),e.exceptions&&e.exceptions.length>0&&(0,$.jsxs)(le,{sx:{mt:1},children:[(0,$.jsx)(Ce,{variant:"caption",color:"text.secondary",children:"Exceptions :"}),(0,$.jsx)(Qr,{dense:!0,children:e.exceptions.map((e,t)=>(0,$.jsx)(co,{children:(0,$.jsxs)(Ce,{variant:"caption",children:["\u2022 ",e]})},t))})]})]}),secondaryTypographyProps:{component:"div"}})},t))})]}),u.recommendations.length>0&&(0,$.jsxs)(le,{sx:{mb:2},children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Recommandations"}),(0,$.jsx)(Qr,{dense:!0,children:u.recommendations.map((e,t)=>(0,$.jsx)(co,{children:(0,$.jsx)(xo,{primary:e})},t))})]}),u.suggestedExercises.length>0&&(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Exercices sugg\xe9r\xe9s"}),(0,$.jsx)(Qr,{children:u.suggestedExercises.map((e,t)=>(0,$.jsx)(co,{children:(0,$.jsx)(xo,{primary:e.title,secondary:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"caption",display:"block",children:e.prompt}),(0,$.jsxs)(le,{sx:{mt:1},children:[(0,$.jsx)(ys,{label:e.level,size:"small",sx:{mr:1}}),(0,$.jsx)(ys,{label:e.type,size:"small"})]})]}),secondaryTypographyProps:{component:"div"}})},t))})]})]})]})})},Gp=()=>{const[t,n]=(0,e.useState)("B1"),[r,o]=(0,e.useState)([]),[i,s]=(0,e.useState)(null),[a,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(null);(0,e.useEffect)(()=>{(async e=>{l(!0),u(null);try{const t=await fetch("/api/speaking-agent/exercises",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({level:e,count:10})});if(!t.ok)throw new Error("Erreur lors du chargement des exercices");const n=await t.json();if(!n.success)throw new Error(n.message||"Erreur lors du chargement");o(n.exercises||[])}catch(t){console.error("[SpeakingExerciseList] Erreur:",t),u(t.message||"Erreur lors du chargement des exercices")}finally{l(!1)}})(t)},[t]);const d=e=>{console.log("[SpeakingExerciseList] Exercice compl\xe9t\xe9:",e)};return i?(0,$.jsxs)(le,{children:[(0,$.jsx)(dn,{onClick:()=>s(null),sx:{mb:2},variant:"outlined",children:"\u2190 Retour \xe0 la liste"}),(0,$.jsx)(Hp,{exercise:i,onComplete:d})]}):(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,children:"Exercices de Speaking"}),(0,$.jsx)(Ce,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Pratiquez votre expression orale avec des exercices adapt\xe9s \xe0 votre niveau. L'agent IA analysera votre prononciation, grammaire et fluidit\xe9."}),(0,$.jsx)(le,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:(0,$.jsxs)(fp,{value:t,onChange:(e,t)=>{n(t),s(null)},"aria-label":"Niveaux de langue",children:[(0,$.jsx)(bp,{label:"A2",value:"A2"}),(0,$.jsx)(bp,{label:"B1",value:"B1"}),(0,$.jsx)(bp,{label:"B2",value:"B2"}),(0,$.jsx)(bp,{label:"C1",value:"C1"})]})}),c&&(0,$.jsx)(Ms,{severity:"error",sx:{mb:2},children:c}),a?(0,$.jsx)(le,{sx:{display:"flex",justifyContent:"center",p:4},children:(0,$.jsx)(Dp,{})}):0===r.length?(0,$.jsxs)(Ms,{severity:"info",children:["Aucun exercice disponible pour le niveau ",t,". Veuillez r\xe9essayer plus tard."]}):(0,$.jsx)(Ve,{container:!0,spacing:3,children:r.map(e=>(0,$.jsx)(Ve,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{sx:{height:"100%",display:"flex",flexDirection:"column",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:4}},onClick:()=>(e=>{s(e)})(e),children:(0,$.jsxs)(et,{sx:{flexGrow:1},children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[(0,$.jsx)(Ce,{variant:"h6",component:"h3",children:e.title}),(0,$.jsx)(ys,{label:e.level,color:"primary",size:"small"})]}),(0,$.jsxs)(le,{sx:{mb:2},children:[(0,$.jsx)(ys,{label:e.type,size:"small",color:"secondary",sx:{mr:1}}),(0,$.jsx)(ys,{label:"".concat(e.duration,"s"),size:"small",variant:"outlined"})]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,children:e.prompt}),e.focusAreas.length>0&&(0,$.jsx)(le,{sx:{mt:2},children:e.focusAreas.map((e,t)=>(0,$.jsx)(ys,{label:e,size:"small",variant:"outlined",sx:{mr:.5,mb:.5}},t))}),(0,$.jsx)(dn,{variant:"contained",startIcon:(0,$.jsx)(Fp,{}),fullWidth:!0,sx:{mt:2},children:"Commencer l'exercice"})]})})},e.id))})]})};function Kp(e){return re("MuiToggleButtonGroup",e)}const Qp=oe("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]);const Xp=e.createContext({});const Yp=e.createContext(void 0);function $p(e){return re("MuiToggleButton",e)}const Jp=oe("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Zp=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],ef=fe("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(Qp.grouped)]:t.grouped},{["& .".concat(Qp.grouped)]:t["grouped".concat(we(n.orientation))]},{["& .".concat(Qp.firstButton)]:t.firstButton},{["& .".concat(Qp.lastButton)]:t.lastButton},{["& .".concat(Qp.middleButton)]:t.middleButton},t.root,"vertical"===n.orientation&&t.vertical,n.fullWidth&&t.fullWidth]}})(e=>{let{ownerState:t,theme:n}=e;return(0,i.A)({display:"inline-flex",borderRadius:(n.vars||n).shape.borderRadius},"vertical"===t.orientation&&{flexDirection:"column"},t.fullWidth&&{width:"100%"},{["& .".concat(Qp.grouped)]:(0,i.A)({},"horizontal"===t.orientation?{["&.".concat(Qp.selected," + .").concat(Qp.grouped,".").concat(Qp.selected)]:{borderLeft:0,marginLeft:0}}:{["&.".concat(Qp.selected," + .").concat(Qp.grouped,".").concat(Qp.selected)]:{borderTop:0,marginTop:0}})},"horizontal"===t.orientation?{["& .".concat(Qp.firstButton,",& .").concat(Qp.middleButton)]:{borderTopRightRadius:0,borderBottomRightRadius:0},["& .".concat(Qp.lastButton,",& .").concat(Qp.middleButton)]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{["& .".concat(Qp.firstButton,",& .").concat(Qp.middleButton)]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},["& .".concat(Qp.lastButton,",& .").concat(Qp.middleButton)]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},"horizontal"===t.orientation?{["& .".concat(Qp.lastButton,".").concat(Jp.disabled,",& .").concat(Qp.middleButton,".").concat(Jp.disabled)]:{borderLeft:"1px solid transparent"}}:{["& .".concat(Qp.lastButton,".").concat(Jp.disabled,",& .").concat(Qp.middleButton,".").concat(Jp.disabled)]:{borderTop:"1px solid transparent"}})}),tf=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiToggleButtonGroup"}),{children:o,className:a,color:l="standard",disabled:c=!1,exclusive:u=!1,fullWidth:d=!1,onChange:h,orientation:p="horizontal",size:f="medium",value:m}=r,g=(0,s.A)(r,Zp),v=(0,i.A)({},r,{disabled:c,fullWidth:d,orientation:p,size:f}),y=(e=>{const{classes:t,orientation:n,fullWidth:r,disabled:o}=e;return ce({root:["root","vertical"===n&&"vertical",r&&"fullWidth"],grouped:["grouped","grouped".concat(we(n)),o&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]},Kp,t)})(v),b=e.useCallback((e,t)=>{if(!h)return;const n=m&&m.indexOf(t);let r;m&&n>=0?(r=m.slice(),r.splice(n,1)):r=m?m.concat(t):[t],h(e,r)},[h,m]),x=e.useCallback((e,t)=>{h&&h(e,m===t?null:t)},[h,m]),w=e.useMemo(()=>({className:y.grouped,onChange:u?x:b,value:m,size:f,fullWidth:d,color:l,disabled:c}),[y.grouped,u,x,b,m,f,d,l,c]),S=function(t){return e.Children.toArray(t).filter(t=>e.isValidElement(t))}(o),E=S.length,k=e=>{const t=0===e,n=e===E-1;return t&&n?"":t?y.firstButton:n?y.lastButton:y.middleButton};return(0,$.jsx)(ef,(0,i.A)({role:"group",className:W(y.root,a),ref:n,ownerState:v},g,{children:(0,$.jsx)(Xp.Provider,{value:w,children:S.map((e,t)=>(0,$.jsx)(Yp.Provider,{value:k(t),children:e},t))})}))});var nf=n(1188);function rf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,nf.A)(e,t,n)}function of(e){if(e.type)return e;if("#"===e.charAt(0))return of(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,a.A)(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,a.A)(10,r))}else o=o.split(",");return o=o.map(e=>parseFloat(e)),{type:n,values:o,colorSpace:r}}function sf(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function af(e,t){return e=of(e),t=rf(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,sf(e)}function lf(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}const cf=["value"],uf=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],df=fe(en,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["size".concat(we(n.size))]]}})(e=>{let t,{theme:n,ownerState:r}=e,o="standard"===r.color?n.palette.text.primary:n.palette[r.color].main;return n.vars&&(o="standard"===r.color?n.vars.palette.text.primary:n.vars.palette[r.color].main,t="standard"===r.color?n.vars.palette.text.primaryChannel:n.vars.palette[r.color].mainChannel),(0,i.A)({},n.typography.button,{borderRadius:(n.vars||n).shape.borderRadius,padding:11,border:"1px solid ".concat((n.vars||n).palette.divider),color:(n.vars||n).palette.action.active},r.fullWidth&&{width:"100%"},{["&.".concat(Jp.disabled)]:{color:(n.vars||n).palette.action.disabled,border:"1px solid ".concat((n.vars||n).palette.action.disabledBackground)},"&:hover":{textDecoration:"none",backgroundColor:n.vars?"rgba(".concat(n.vars.palette.text.primaryChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):af(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(Jp.selected)]:{color:o,backgroundColor:n.vars?"rgba(".concat(t," / ").concat(n.vars.palette.action.selectedOpacity,")"):af(o,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?"rgba(".concat(t," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):af(o,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(t," / ").concat(n.vars.palette.action.selectedOpacity,")"):af(o,n.palette.action.selectedOpacity)}}}},"small"===r.size&&{padding:7,fontSize:n.typography.pxToRem(13)},"large"===r.size&&{padding:15,fontSize:n.typography.pxToRem(15)})}),hf=e.forwardRef(function(t,n){const r=e.useContext(Xp),{value:o}=r,a=(0,s.A)(r,cf),l=e.useContext(Yp),c=be({props:me((0,i.A)({},a,{selected:lf(t.value,o)}),t),name:"MuiToggleButton"}),{children:u,className:d,color:h="standard",disabled:p=!1,disableFocusRipple:f=!1,fullWidth:m=!1,onChange:g,onClick:v,selected:y,size:b="medium",value:x}=c,w=(0,s.A)(c,uf),S=(0,i.A)({},c,{color:h,disabled:p,disableFocusRipple:f,fullWidth:m,size:b}),E=(e=>{const{classes:t,fullWidth:n,selected:r,disabled:o,size:i,color:s}=e;return ce({root:["root",r&&"selected",o&&"disabled",n&&"fullWidth","size".concat(we(i)),s]},$p,t)})(S),k=l||"";return(0,$.jsx)(df,(0,i.A)({className:W(a.className,E.root,d,k),disabled:p,focusRipple:!f,ref:n,onClick:e=>{v&&(v(e,x),e.defaultPrevented)||g&&g(e,x)},onChange:g,value:x,ownerState:S,"aria-pressed":y},w,{children:u}))}),pf=ui((0,$.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups"),ff=ui((0,$.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m7.46 7.12-2.78 1.15c-.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78c2.1.8 3.77 2.47 4.58 4.57M12 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3M9.13 4.54l1.17 2.78c-1.38.5-2.47 1.59-2.98 2.97L4.54 9.13c.81-2.11 2.48-3.78 4.59-4.59M4.54 14.87l2.78-1.15c.51 1.38 1.59 2.46 2.97 2.96l-1.17 2.78c-2.1-.81-3.77-2.48-4.58-4.59m10.34 4.59-1.15-2.78c1.37-.51 2.45-1.59 2.95-2.97l2.78 1.17c-.81 2.1-2.48 3.77-4.58 4.58"}),"Support"),mf=ui((0,$.jsx)("path",{d:"m5.2494 8.0688 2.83-2.8269 14.1343 14.15-2.83 2.8269zm4.2363-4.2415 2.828-2.8289 5.6577 5.656-2.828 2.8289zM.9989 12.3147l2.8284-2.8285 5.6569 5.6569-2.8285 2.8284zM1 21h12v2H1z"}),"Gavel"),gf=[{id:"meeting_a2_1",level:"A2",category:"team_meeting",title:"D\xe9marrer une r\xe9union",scenario:"Vous devez ouvrir une r\xe9union d'\xe9quipe hebdomadaire.",prompt:"Dites bonjour \xe0 l'\xe9quipe, remerciez-les d'\xeatre pr\xe9sents et annoncez l'objectif principal de la r\xe9union.",targetPhrases:["Hello everyone, thank you for joining.","The main objective today is to...","Let's start with a quick round of introductions."],duration:30,difficulty:1,focusAreas:["greetings","meeting introduction","basic phrases"],tips:["Parlez clairement et lentement","Utilisez des phrases courtes","Souriez pour mettre l'\xe9quipe \xe0 l'aise"]},{id:"meeting_a2_2",level:"A2",category:"client_support",title:"Expliquer un probl\xe8me simple",scenario:"Un client signale que son application ne d\xe9marre pas.",prompt:"Expliquez que vous comprenez le probl\xe8me et que vous allez l'aider.",targetPhrases:["I understand the problem.","Let me help you with that.","Could you tell me when the problem started?"],duration:30,difficulty:1,focusAreas:["problem description","customer service","simple questions"],tips:["Montrez de l'empathie","Posez des questions simples","Confirmez votre compr\xe9hension"]},{id:"meeting_a2_3",level:"A2",category:"team_meeting",title:"Demander une clarification",scenario:"Votre coll\xe8gue parle d'un module mais vous n'\xeates pas s\xfbr de comprendre.",prompt:"Demandez poliment \xe0 votre coll\xe8gue de clarifier de quel module il parle.",targetPhrases:["Sorry, could you say that again?","I didn't quite understand.","Could you clarify which module you mean?"],duration:20,difficulty:1,focusAreas:["asking for clarification","polite requests","active listening"],tips:["N'ayez pas peur de demander","Utilisez 'sorry' ou 'excuse me' pour \xeatre poli","Reformulez pour v\xe9rifier"]},{id:"meeting_b1_1",level:"B1",category:"problem_solving",title:"Identifier la cause d'un probl\xe8me",scenario:"Votre \xe9quipe discute d'un bug en production. Il faut trouver la cause.",prompt:"Proposez d'analyser les logs et sugg\xe9rez que le probl\xe8me pourrait venir de la derni\xe8re mise \xe0 jour.",targetPhrases:["Let's try to identify the root cause of the issue.","Have you noticed any errors in the logs?","The issue seems to come from the latest update."],duration:45,difficulty:2,focusAreas:["problem analysis","technical vocabulary","cause and effect"],tips:["Utilisez des connecteurs logiques (because, so, therefore)","Restez factuel et technique","Proposez des hypoth\xe8ses avec 'might be', 'could be'"]},{id:"meeting_b1_2",level:"B1",category:"client_support",title:"Donner le contexte d'un probl\xe8me",scenario:"Le client rapporte un comportement anormal de l'application.",prompt:"Expliquez que vous avez bien compris le probl\xe8me et donnez le contexte technique : le probl\xe8me est apparu apr\xe8s la mise \xe0 jour et affecte le module d'importation.",targetPhrases:["We're facing a performance issue in the import module.","The client reported an unexpected behavior.","The problem seems to come from the latest update."],duration:45,difficulty:2,focusAreas:["context explanation","technical description","client communication"],tips:["Structurez votre explication (Quoi ? Quand ? O\xf9 ?)","Utilisez un vocabulaire technique appropri\xe9","Rassurez le client sur la prise en charge"]},{id:"meeting_b1_3",level:"B1",category:"decision_making",title:"Proposer des solutions",scenario:"L'\xe9quipe cherche comment r\xe9soudre une fuite m\xe9moire.",prompt:"Proposez trois options : red\xe9marrer le service, d\xe9ployer un correctif temporaire, ou revenir \xe0 la version pr\xe9c\xe9dente.",targetPhrases:["Here are a few possible approaches to fix the issue.","I suggest restarting the service and monitoring the behavior.","Another option would be to roll back to the previous version."],duration:60,difficulty:2,focusAreas:["suggesting solutions","conditional structures","technical options"],tips:["Pr\xe9sentez plusieurs options","Expliquez les avantages/inconv\xe9nients","Utilisez 'I suggest...', 'We could...', 'Another option would be...'"]},{id:"meeting_b2_1",level:"B2",category:"team_meeting",title:"G\xe9rer un d\xe9saccord technique",scenario:"Un coll\xe8gue propose une solution que vous trouvez risqu\xe9e. Vous devez exprimer votre d\xe9saccord de mani\xe8re diplomatique.",prompt:"Exprimez que vous comprenez son point de vue, mais proposez une approche alternative plus s\xfbre en expliquant les risques potentiels.",targetPhrases:["I understand your point of view, but here's another approach.","Let's stay focused on the technical facts.","I'm concerned about the potential impact on production."],duration:60,difficulty:3,focusAreas:["diplomatic disagreement","risk assessment","alternative proposals"],tips:["Commencez par valider le point de vue de l'autre","Utilisez des formules diplomatiques ('however', 'on the other hand')","Appuyez votre argument avec des faits techniques"]},{id:"meeting_b2_2",level:"B2",category:"client_support",title:"Expliquer une architecture complexe",scenario:"Le client veut comprendre pourquoi le syst\xe8me est lent pendant les pics de charge.",prompt:"Expliquez l'architecture actuelle, identifiez le goulot d'\xe9tranglement (bottleneck), et proposez une solution de scaling horizontal avec load balancing.",targetPhrases:["Our current architecture leverages a single-server model.","The bottleneck appears to be at the database level.","I suggest implementing horizontal scaling with load balancing.","This approach would improve performance during peak hours."],duration:90,difficulty:3,focusAreas:["architecture explanation","performance analysis","technical proposals"],tips:["Utilisez des sch\xe9mas ou des diagrammes si possible","Simplifiez les concepts techniques pour le client","Donnez des exemples concrets"]},{id:"meeting_b2_3",level:"B2",category:"problem_solving",title:"Analyser une panne r\xe9seau",scenario:"Le syst\xe8me est inaccessible pour certains utilisateurs. Vous devez mener l'investigation.",prompt:"Analysez la situation : v\xe9rifiez les logs, testez la connectivit\xe9 r\xe9seau, identifiez les utilisateurs affect\xe9s, et proposez un plan d'action avec des priorit\xe9s.",targetPhrases:["Let's start by checking the network connectivity.","It might be related to the firewall configuration.","We need to prioritize restoring service for critical users.","I'll coordinate with the infrastructure team."],duration:90,difficulty:3,focusAreas:["incident management","troubleshooting","coordination"],tips:["Suivez une m\xe9thodologie structur\xe9e (Observe \u2192 Analyze \u2192 Act)","Communiquez clairement les priorit\xe9s","Coordonnez avec les autres \xe9quipes"]},{id:"meeting_c1_1",level:"C1",category:"team_meeting",title:"Faciliter une r\xe9union d'architecture critique",scenario:"Vous animez une r\xe9union pour d\xe9cider de la migration vers une architecture microservices. Il y a des opinions divergentes.",prompt:"Facilitez la discussion : pr\xe9sentez les enjeux, donnez la parole \xe0 chaque partie, synth\xe9tisez les arguments, et guidez l'\xe9quipe vers un consensus en tenant compte des contraintes techniques, budg\xe9taires et de timeline.",targetPhrases:["Let's evaluate the trade-offs between monolithic and microservices architectures.","I'd like to hear everyone's perspective on this critical decision.","While I appreciate the technical benefits, we must consider the operational complexity.","To reach a consensus, let's focus on our core requirements and constraints."],duration:120,difficulty:5,focusAreas:["meeting facilitation","consensus building","strategic thinking"],tips:["Restez neutre en tant que facilitateur","Reformulez les arguments pour assurer la compr\xe9hension","Guidez vers des d\xe9cisions bas\xe9es sur des crit\xe8res objectifs"]},{id:"meeting_c1_2",level:"C1",category:"client_support",title:"G\xe9rer une escalade client avec impact business",scenario:"Un client majeur menace de r\xe9silier le contrat suite \xe0 des probl\xe8mes de performance r\xe9currents. Vous devez g\xe9rer la situation.",prompt:"Menez la r\xe9union de crise : reconnaissez les probl\xe8mes rencontr\xe9s, pr\xe9sentez l'analyse des causes profondes, d\xe9taillez le plan d'action correctif avec timelines, proposez des compensations, et restaurez la confiance.",targetPhrases:["First, I want to acknowledge the impact these issues have had on your operations.","We've conducted a thorough root cause analysis and identified three key factors.","Here's our comprehensive remediation plan with specific milestones and accountability.","To demonstrate our commitment, we're proposing the following compensatory measures.","I'd like to schedule weekly checkpoints to ensure transparency throughout the resolution."],duration:120,difficulty:5,focusAreas:["crisis management","stakeholder communication","commitment restoration"],tips:["Montrez de l'empathie sans faire d'excuses vagues","Soyez transparent sur les causes et les solutions","Engagez-vous sur des r\xe9sultats mesurables","Proposez une gouvernance claire du suivi"]},{id:"meeting_c1_3",level:"C1",category:"decision_making",title:"Pr\xe9senter une strat\xe9gie MLOps \xe0 des stakeholders",scenario:"Vous devez convaincre les stakeholders (CTO, CFO, Product Manager) d'investir dans une plateforme MLOps.",prompt:"Pr\xe9sentez la strat\xe9gie : contexte business, probl\xe8mes actuels (dette technique ML, time-to-market, reproductibilit\xe9), b\xe9n\xe9fices attendus (ROI, scalabilit\xe9, gouvernance), architecture propos\xe9e, roadmap de d\xe9ploiement, et budget. G\xe9rez les questions et objections.",targetPhrases:["Our current ML deployment process is manual and error-prone, resulting in significant technical debt.","Implementing a MLOps platform would reduce our model deployment time from weeks to days.","The proposed architecture integrates CI/CD pipelines, model versioning, and automated monitoring.","Based on industry benchmarks, we anticipate a 200% ROI within 18 months.","Regarding your concern about upfront costs, let me break down the phased implementation approach."],duration:120,difficulty:5,focusAreas:["strategic presentation","business case","stakeholder management","technical leadership"],tips:["Adaptez votre discours \xe0 chaque stakeholder (technique vs business)","Quantifiez les b\xe9n\xe9fices (temps, co\xfbts, qualit\xe9)","Anticipez les objections et pr\xe9parez des r\xe9ponses","Utilisez des analogies pour vulgariser les concepts complexes"]},{id:"meeting_c1_4",level:"C1",category:"problem_solving",title:"Mener un post-mortem d'incident majeur",scenario:"Suite \xe0 une panne de 4 heures affectant tous les utilisateurs, vous animez la r\xe9union de post-mortem avec toutes les \xe9quipes impliqu\xe9es.",prompt:"Facilitez le post-mortem : \xe9tablissez un timeline des \xe9v\xe9nements, identifiez les causes techniques et organisationnelles, analysez pourquoi les m\xe9canismes de pr\xe9vention ont \xe9chou\xe9, d\xe9finissez des actions correctives avec responsables et deadlines, et cr\xe9ez une culture d'apprentissage sans bl\xe2me.",targetPhrases:["This post-mortem is about learning, not blaming. Let's focus on improving our systems.","Let's reconstruct the timeline to understand the cascade of failures.","While the immediate cause was X, the underlying issue was a gap in our monitoring.","I'm proposing we implement chaos engineering practices to prevent similar incidents.","Each action item needs a clear owner and a realistic deadline. Let's assign responsibilities now."],duration:120,difficulty:5,focusAreas:["incident analysis","blameless culture","systemic thinking","continuous improvement"],tips:["Cr\xe9ez un environnement psychologiquement s\xfbr","Cherchez les causes syst\xe9miques, pas les coupables","Documentez tout pour la m\xe9moire organisationnelle","Transformez chaque incident en opportunit\xe9 d'apprentissage"]}],vf=()=>{const[t,n]=(0,e.useState)("B1"),[r,o]=(0,e.useState)("all"),[i,s]=(0,e.useState)(null),a=e=>{console.log("[MeetingSpeakingExercise] Exercice compl\xe9t\xe9:",e)},l=gf.filter(e=>{const n=e.level===t,o="all"===r||e.category===r;return n&&o}),c=[{id:"all",label:"Tous",icon:(0,$.jsx)(Fp,{})},{id:"team_meeting",label:"R\xe9union d'\xe9quipe",icon:(0,$.jsx)(pf,{})},{id:"client_support",label:"Support client",icon:(0,$.jsx)(ff,{})},{id:"problem_solving",label:"R\xe9solution de probl\xe8mes",icon:(0,$.jsx)(mi,{})},{id:"decision_making",label:"Prise de d\xe9cision",icon:(0,$.jsx)(mf,{})}];return i?(0,$.jsxs)(le,{children:[(0,$.jsx)(dn,{onClick:()=>s(null),sx:{mb:2},variant:"outlined",children:"\u2190 Retour \xe0 la liste"}),(0,$.jsx)(Hp,{exercise:{id:i.id,level:i.level,type:"fluency",title:i.title,prompt:"**Sc\xe9nario** : ".concat(i.scenario,"\n\n**Votre mission** : ").concat(i.prompt),duration:i.duration,difficulty:i.difficulty,focusAreas:i.focusAreas},onComplete:a})]}):(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,children:"Exercices de Speaking - R\xe9unions IT"}),(0,$.jsx)(Ce,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Pratiquez votre anglais technique dans des situations r\xe9elles de r\xe9unions : support client, r\xe9unions d'\xe9quipe, r\xe9solution de probl\xe8mes et prises de d\xe9cision."}),(0,$.jsx)(Ms,{severity:"info",sx:{mb:3},children:(0,$.jsxs)(Ce,{variant:"body2",children:["\ud83d\udca1 ",(0,$.jsx)("strong",{children:"Conseils"})," : \xc9coutez votre enregistrement, notez les phrases cl\xe9s, et r\xe9essayez jusqu'\xe0 \xeatre \xe0 l'aise. Les phrases cibles sont affich\xe9es apr\xe8s chaque exercice."]})}),(0,$.jsx)(le,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:(0,$.jsxs)(fp,{value:t,onChange:(e,t)=>{n(t),s(null)},"aria-label":"Niveaux de langue",children:[(0,$.jsx)(bp,{label:"A2",value:"A2"}),(0,$.jsx)(bp,{label:"B1",value:"B1"}),(0,$.jsx)(bp,{label:"B2",value:"B2"}),(0,$.jsx)(bp,{label:"C1",value:"C1"})]})}),(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"subtitle1",gutterBottom:!0,children:"Cat\xe9gorie"}),(0,$.jsx)(tf,{value:r,exclusive:!0,onChange:(e,t)=>{null!==t&&o(t)},"aria-label":"Cat\xe9gorie d'exercice",sx:{flexWrap:"wrap"},children:c.map(e=>(0,$.jsxs)(hf,{value:e.id,children:[e.icon,(0,$.jsx)(le,{sx:{ml:1},children:e.label})]},e.id))})]}),0===l.length?(0,$.jsxs)(Ms,{severity:"info",children:["Aucun exercice disponible pour le niveau ",t," dans cette cat\xe9gorie."]}):(0,$.jsx)(Ve,{container:!0,spacing:3,children:l.map(e=>(0,$.jsx)(Ve,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{sx:{height:"100%",display:"flex",flexDirection:"column",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:4}},onClick:()=>(e=>{s(e)})(e),children:(0,$.jsxs)(et,{sx:{flexGrow:1},children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[(0,$.jsx)(Ce,{variant:"h6",component:"h3",children:e.title}),(0,$.jsx)(ys,{label:e.level,color:"primary",size:"small"})]}),(0,$.jsxs)(le,{sx:{mb:2},children:[(0,$.jsx)(ys,{label:"team_meeting"===e.category?"R\xe9union d'\xe9quipe":"client_support"===e.category?"Support client":"problem_solving"===e.category?"R\xe9solution de probl\xe8mes":"Prise de d\xe9cision",size:"small",color:"secondary",sx:{mr:1}}),(0,$.jsx)(ys,{label:"".concat(e.duration,"s"),size:"small",variant:"outlined"})]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,sx:{fontStyle:"italic"},children:[(0,$.jsx)("strong",{children:"Sc\xe9nario :"})," ",e.scenario]}),e.focusAreas.length>0&&(0,$.jsxs)(le,{sx:{mt:2},children:[(0,$.jsx)(Ce,{variant:"caption",color:"text.secondary",children:"Focus :"}),(0,$.jsx)(le,{sx:{mt:.5},children:e.focusAreas.map((e,t)=>(0,$.jsx)(ys,{label:e,size:"small",variant:"outlined",sx:{mr:.5,mb:.5}},t))})]}),e.targetPhrases.length>0&&(0,$.jsxs)(le,{sx:{mt:2,p:1,bgcolor:"grey.100",borderRadius:1},children:[(0,$.jsx)(Ce,{variant:"caption",color:"text.secondary",children:"Phrases cl\xe9s \xe0 utiliser :"}),e.targetPhrases.slice(0,2).map((e,t)=>(0,$.jsxs)(Ce,{variant:"caption",display:"block",sx:{mt:.5},children:["\u2022 ",e]},t)),e.targetPhrases.length>2&&(0,$.jsxs)(Ce,{variant:"caption",color:"text.secondary",sx:{fontStyle:"italic"},children:["+",e.targetPhrases.length-2," autres..."]})]}),(0,$.jsx)(dn,{variant:"contained",startIcon:(0,$.jsx)(Fp,{}),fullWidth:!0,sx:{mt:2},children:"Commencer l'exercice"})]})})},e.id))})]})},yf=ui((0,$.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9v7c0 1.1.9 2 2 2h4v-8H5v-1c0-3.87 3.13-7 7-7s7 3.13 7 7v1h-4v8h4c1.1 0 2-.9 2-2v-7c0-4.97-4.03-9-9-9"}),"Headphones"),bf=ui((0,$.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var xf;!function(e){e[e.Flush=0]="Flush",e[e.Add=1]="Add"}(xf||(xf={}));const wf=(0,Ki.F3)("TextToSpeech",{web:()=>n.e(8).then(n.bind(n,5008)).then(e=>new e.TextToSpeechWeb)});"speechSynthesis"in window&&window.speechSynthesis;const Sf=()=>/Android/i.test(navigator.userAgent),Ef=()=>Ki.Ii.isNativePlatform(),kf=()=>{const[t,n]=(0,e.useState)(!1),[r,o]=(0,e.useState)(!1),i="undefined"!==typeof window&&"speechSynthesis"in window||Ef(),[s,a]=(0,e.useState)([]),[l,c]=(0,e.useState)(null),[u,d]=(0,e.useState)(1),[h,p]=(0,e.useState)(1),[f,m]=(0,e.useState)(1),[g,v]=(0,e.useState)(()=>i?null:"La synth\xe8se vocale n'est pas support\xe9e sur votre appareil."),y=(0,e.useRef)(null),b=(0,e.useRef)(!1),x=(0,e.useRef)(null);(0,e.useEffect)(()=>{if(console.log("\ud83d\udd0d [useTextToSpeech] useEffect - V\xe9rification support:",{isSupported:i,isNative:Ef(),hasWindow:"undefined"!==typeof window,hasSpeechSynthesis:"undefined"!==typeof window&&"speechSynthesis"in window}),i){const e="undefined"!==typeof window&&"speechSynthesis"in window;if(console.log("\ud83d\udd0d [useTextToSpeech] checkWebSupported:",e),Ef()&&!e){console.log("\u23f3 [useTextToSpeech] Plateforme native d\xe9tect\xe9e, attente de speechSynthesis...");let e=0;const t=50,n=setInterval(()=>{e++;const r="undefined"!==typeof window&&"speechSynthesis"in window;if(console.log("\ud83d\udd0d [useTextToSpeech] Tentative ".concat(e,"/").concat(t,":"),{hasAPI:r,userAgent:"undefined"!==typeof navigator?navigator.userAgent:"N/A"}),r){console.log("\u2705 [useTextToSpeech] speechSynthesis maintenant disponible!"),clearInterval(n);const e=()=>{try{const e=window.speechSynthesis.getVoices();if(console.log("\ud83d\udce2 [useTextToSpeech] ".concat(e.length," voix disponibles")),e.length>0){b.current=!0;const t=e.map(e=>({name:e.name,lang:e.lang,default:e.default}));a(t);let n=e.find(e=>e.lang.startsWith("en-")&&e.localService&&e.name.toLowerCase().includes("google"));n||(n=e.find(e=>e.lang.startsWith("en-"))),n?(console.log("\u2705 [useTextToSpeech] Voix anglaise s\xe9lectionn\xe9e:",n.name),c(n),x.current=n):e.length>0&&(console.log("\u26a0\ufe0f [useTextToSpeech] Utilisation de la premi\xe8re voix disponible:",e[0].name),c(e[0]),x.current=e[0])}else console.warn("\u26a0\ufe0f [useTextToSpeech] Aucune voix disponible")}catch(e){console.error("\u274c [useTextToSpeech] Erreur lors du chargement des voix:",e)}};e(),window.speechSynthesis.onvoiceschanged&&(window.speechSynthesis.onvoiceschanged=e)}else e>=t&&(console.error("\u274c [useTextToSpeech] speechSynthesis non disponible apr\xe8s",t,"tentatives"),clearInterval(n),v("La synth\xe8se vocale n'est pas disponible sur cet appareil Android."))},100);return()=>{clearInterval(n)}}const t=()=>{if("undefined"!==typeof window&&"speechSynthesis"in window)try{const e=window.speechSynthesis.getVoices();if(console.log("\ud83d\udce2 [useTextToSpeech] loadVoices: ".concat(e.length," voix trouv\xe9es")),0===e.length&&!b.current)return console.log("\u23f3 [useTextToSpeech] Aucune voix encore, r\xe9essai dans 100ms..."),void setTimeout(t,100);b.current=!0;const n=e.map(e=>({name:e.name,lang:e.lang,default:e.default}));console.log("\u2705 [useTextToSpeech] Voix charg\xe9es:",n.length),a(n);let r=e.find(e=>("en-US"===e.lang||"en-GB"===e.lang)&&e.localService&&!e.name.toLowerCase().includes("french")&&(e.name.includes("Google")||e.name.includes("Microsoft")||e.name.includes("Natural")));r||(r=e.find(e=>("en-US"===e.lang||"en-GB"===e.lang)&&e.localService&&!e.name.toLowerCase().includes("french"))),r||(r=e.find(e=>e.lang.startsWith("en-")&&e.localService&&!e.name.toLowerCase().includes("french"))),r||(r=e.find(e=>e.lang.startsWith("en-")&&!e.name.toLowerCase().includes("french")&&(e.name.includes("Google")||e.name.includes("Microsoft")))),r||(r=e.find(e=>e.lang.startsWith("en-")&&!e.name.toLowerCase().includes("french"))),r?(console.log("\u2705 [useTextToSpeech] Voix anglaise s\xe9lectionn\xe9e:",r.name,r.lang,"Local:",r.localService),c(r),x.current=r):e.length>0&&(console.log("\u26a0\ufe0f [useTextToSpeech] Utilisation de la premi\xe8re voix disponible:",e[0].name),c(e[0]),x.current=e[0])}catch(e){console.error("\u274c [useTextToSpeech] Erreur dans loadVoices:",e)}else console.warn("\u26a0\ufe0f [useTextToSpeech] loadVoices: speechSynthesis non disponible")};if(console.log("\ud83d\udd04 [useTextToSpeech] Chargement initial des voix..."),t(),window.speechSynthesis.onvoiceschanged&&(window.speechSynthesis.onvoiceschanged=()=>{console.log("\ud83d\udd04 [useTextToSpeech] onvoiceschanged d\xe9clench\xe9"),t()}),Sf()){const e=setInterval(()=>{window.speechSynthesis.speaking&&(window.speechSynthesis.pause(),window.speechSynthesis.resume())},1e4);return()=>{clearInterval(e),window.speechSynthesis.cancel()}}return()=>{window.speechSynthesis.cancel()}}},[]);const w=(0,e.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if(console.log("\ud83d\udd0a [useTextToSpeech] D\xe9but speak:",{text:e.substring(0,50)+"...",lang:t,isSupported:i,isNative:Ef(),hasWindow:"undefined"!==typeof window,hasSpeechSynthesis:"undefined"!==typeof window&&"speechSynthesis"in window}),!i||!e){const e=i?"Texte vide.":"Synth\xe8se vocale non support\xe9e.";return console.error("\u274c [useTextToSpeech]",e),void v(e)}if(Ef()){console.log("\ud83d\udcf1 [useTextToSpeech] Utilisation du plugin Capacitor natif");try{n(!0),o(!1),v(null),await wf.speak({text:e,lang:t,rate:u,pitch:h,volume:f,category:"ambient"}),console.log("\u2705 [useTextToSpeech] Synth\xe8se vocale native termin\xe9e"),n(!1),o(!1)}catch(l){console.error("\u274c [useTextToSpeech] Erreur synth\xe8se native:",l),v("Erreur de synth\xe8se vocale: ".concat(l.message||"Inconnue")),n(!1),o(!1)}return}if("undefined"===typeof window||!("speechSynthesis"in window)){if(console.warn("\u26a0\ufe0f [useTextToSpeech] speechSynthesis non disponible imm\xe9diatement"),!Ef())return console.error("\u274c [useTextToSpeech] Synth\xe8se vocale non support\xe9e sur cette plateforme"),void v("Synth\xe8se vocale non support\xe9e sur cette plateforme.");{console.log("\u23f3 [useTextToSpeech] Tentative d'activation de l'API sur plateforme native...");let e=0;const t=6,n=[100,200,300,500,1e3,2e3];for(;e<t;){if(await new Promise(t=>setTimeout(t,n[e])),e++,"undefined"!==typeof window&&"speechSynthesis"in window){console.log("\u2705 [useTextToSpeech] speechSynthesis disponible apr\xe8s ".concat(e," tentative(s)"));break}console.log("\u23f3 [useTextToSpeech] Tentative ".concat(e,"/").concat(t,"..."))}if("undefined"===typeof window||!("speechSynthesis"in window))return console.error("\u274c [useTextToSpeech] speechSynthesis toujours non disponible apr\xe8s toutes les tentatives"),void v("La synth\xe8se vocale n'est pas disponible sur cet appareil Android. L'API peut n\xe9cessiter une mise \xe0 jour du syst\xe8me ou n'est pas support\xe9e par votre version d'Android.")}}try{if("undefined"!==typeof window&&window.speechSynthesis){const e=window.speechSynthesis.getVoices();console.log("\u2705 [useTextToSpeech] API fonctionnelle, ".concat(e.length," voix disponible(s)"))}}catch(l){console.warn("\u26a0\ufe0f [useTextToSpeech] Erreur lors du test de l'API:",l)}console.log("\ud83d\uded1 [useTextToSpeech] Arr\xeat de toute lecture en cours...");try{window.speechSynthesis.cancel(),console.log("\u2705 [useTextToSpeech] Lecture pr\xe9c\xe9dente annul\xe9e")}catch(l){console.warn("\u26a0\ufe0f [useTextToSpeech] Erreur lors de l'annulation:",l)}Sf()&&(console.log("\u23f3 [useTextToSpeech] D\xe9lai Android (50ms)..."),await new Promise(e=>setTimeout(e,50))),console.log("\ud83d\udcdd [useTextToSpeech] Cr\xe9ation de l'utterance...");const r=new SpeechSynthesisUtterance(e);y.current=r,console.log("\u2705 [useTextToSpeech] Utterance cr\xe9\xe9e");const s=x.current;if(s?(r.voice=s,console.log("\ud83c\udfa4 [useTextToSpeech] Voix utilis\xe9e:",s.name,s.lang)):console.warn("\u26a0\ufe0f [useTextToSpeech] Aucune voix sp\xe9cifique s\xe9lectionn\xe9e, utilisation de la voix par d\xe9faut"),r.lang=t,r.rate=u,r.pitch=h,r.volume=f,Sf()&&e.length>200){const r=e.match(/[^.!?]+[.!?]+/g)||[e];for(let e=0;e<r.length;e++){const i=new SpeechSynthesisUtterance(r[e]);i.voice=x.current,i.lang=t,i.rate=u,i.pitch=h,i.volume=f,0===e&&(i.onstart=()=>{n(!0),o(!1),v(null)}),e===r.length-1&&(i.onend=()=>{n(!1),o(!1)}),i.onerror=e=>{console.error("Erreur de synth\xe8se vocale:",e),v("Erreur de synth\xe8se: ".concat(e.error)),n(!1),o(!1)},window.speechSynthesis.speak(i)}return}r.onstart=()=>{n(!0),o(!1),v(null)},r.onend=()=>{n(!1),o(!1)},r.onerror=e=>{var t;console.error("\u274c [useTextToSpeech] Erreur de synth\xe8se vocale:",{error:e.error,type:e.type,charIndex:e.charIndex,charLength:e.charLength,utterance:{text:r.text.substring(0,50),lang:r.lang,voice:null===(t=r.voice)||void 0===t?void 0:t.name}});let i="Erreur de synth\xe8se vocale.";switch(e.error){case"network":i="Erreur r\xe9seau lors de la synth\xe8se vocale.";break;case"synthesis-failed":i="\xc9chec de la synth\xe8se vocale. V\xe9rifiez que les voix sont install\xe9es sur votre appareil.";break;case"audio-busy":i="Audio occup\xe9. R\xe9essayez.";break;case"not-allowed":i="Permission audio refus\xe9e. V\xe9rifiez les param\xe8tres de l'application.";break;case"interrupted":i="Synth\xe8se vocale interrompue.";break;case"canceled":i="Synth\xe8se vocale annul\xe9e.";break;default:i="Erreur: ".concat(e.error)}console.error("\u274c [useTextToSpeech] Message d'erreur:",i),v(i),n(!1),o(!1)},r.onpause=()=>{o(!0)},r.onresume=()=>{o(!1)};try{var a;console.log("\ud83c\udfa4 [useTextToSpeech] Lancement de la synth\xe8se vocale...",{textLength:e.length,lang:r.lang,rate:r.rate,pitch:r.pitch,volume:r.volume,voiceName:(null===(a=r.voice)||void 0===a?void 0:a.name)||"d\xe9faut"}),window.speechSynthesis.speak(r),console.log("\u2705 [useTextToSpeech] speak() appel\xe9 avec succ\xe8s"),setTimeout(()=>{window.speechSynthesis.speaking?(console.log("\u2705 [useTextToSpeech] La lecture a d\xe9marr\xe9 (v\xe9rification diff\xe9r\xe9e)"),n(!0)):console.warn("\u26a0\ufe0f [useTextToSpeech] La lecture ne semble pas avoir d\xe9marr\xe9")},100)}catch(l){console.error("\u274c [useTextToSpeech] Erreur lors du lancement:",{error:l,message:l.message,stack:l.stack}),v("Impossible de lancer la synth\xe8se vocale."),n(!1)}},[i,u,h,f]),S=(0,e.useCallback)(async()=>{if(i)try{Ef()?(await wf.stop(),console.log("\u2705 [useTextToSpeech] Stop natif")):window.speechSynthesis.cancel(),n(!1),o(!1),v(null)}catch(e){console.error("Error stopping speech:",e)}},[i]),E=(0,e.useCallback)(()=>{if(i)try{Ef()?console.warn("\u26a0\ufe0f [useTextToSpeech] Pause non support\xe9e sur le plugin natif"):(window.speechSynthesis.pause(),o(!0))}catch(e){console.error("Error pausing speech:",e)}},[i]),k=(0,e.useCallback)(()=>{if(i)try{Ef()?console.warn("\u26a0\ufe0f [useTextToSpeech] Resume non support\xe9 sur le plugin natif"):(window.speechSynthesis.resume(),o(!1))}catch(e){console.error("Error resuming speech:",e)}},[i]),I=(0,e.useCallback)(e=>{if(console.log("\ud83c\udfa4 [useTextToSpeech] setVoice appel\xe9 avec:",e),"undefined"===typeof window||!("speechSynthesis"in window))return console.error("\u274c [useTextToSpeech] speechSynthesis non disponible"),void v("Synth\xe8se vocale non disponible.");const t=window.speechSynthesis.getVoices();console.log("\ud83d\udce2 [useTextToSpeech] Voix disponibles:",t.length);const n=t.find(t=>t.name===e);n?(console.log("\u2705 [useTextToSpeech] Voix trouv\xe9e et s\xe9lectionn\xe9e:",n.name,n.lang),c(n),x.current=n,v(null)):(console.error("\u274c [useTextToSpeech] Voix non trouv\xe9e:",e),v("Voix non trouv\xe9e."))},[]);return{speak:w,stop:S,pause:E,resume:k,isSpeaking:t,isPaused:r,isSupported:i,voices:s,setVoice:I,setRate:d,setPitch:p,setVolume:m,error:g}},If=[{id:"l1",section:"listening",question:"Listen to the audio: 'The system was deployed yesterday.' What tense is used?",audioText:"The system was deployed yesterday.",options:["Present Simple","Past Simple","Present Perfect","Past Perfect"],correctAnswer:"Past Simple",level:"B1",points:1},{id:"l2",section:"listening",question:"Listen: 'We have been working on this project for three months.' What does this indicate?",audioText:"We have been working on this project for three months.",options:["The project is finished","The project started in the past and continues now","The project will start in three months","The project lasted only three months"],correctAnswer:"The project started in the past and continues now",level:"B2",points:2},{id:"l3",section:"listening",question:"Listen: 'The vulnerability could have been prevented.' What is the meaning?",audioText:"The vulnerability could have been prevented.",options:["It was prevented","It will be prevented","It was possible to prevent it but it wasn't done","It cannot be prevented"],correctAnswer:"It was possible to prevent it but it wasn't done",level:"C1",points:3},{id:"l4",section:"listening",question:"Listen: 'By implementing CI/CD, deployment time has decreased significantly.' What happened?",audioText:"By implementing CI/CD, deployment time has decreased significantly.",options:["Deployment takes more time now","Deployment time stayed the same","Deployment became much faster","CI/CD was not implemented"],correctAnswer:"Deployment became much faster",level:"B2",points:2},{id:"l5",section:"listening",question:"Listen: 'Had the team followed best practices, the security breach would not have occurred.' What does this mean?",audioText:"Had the team followed best practices, the security breach would not have occurred.",options:["The team followed best practices","The team didn't follow best practices and there was a breach","There was no security breach","Best practices are not important"],correctAnswer:"The team didn't follow best practices and there was a breach",level:"C1",points:3},{id:"l6",section:"listening",question:"Listen: 'The application is being tested by the QA team.' What is the current status?",audioText:"The application is being tested by the QA team.",options:["Testing is complete","Testing will start soon","Testing is happening right now","Testing was cancelled"],correctAnswer:"Testing is happening right now",level:"B2",points:2},{id:"r1",section:"reading",question:"What is the main topic of this text?",readingText:"Technical debt occurs when developers choose quick solutions over better approaches. While these shortcuts save time initially, they accumulate interest in the form of increased maintenance costs and reduced code quality. Managing technical debt requires regular refactoring and prioritization.",options:["Quick coding techniques","Managing shortcuts in software development","Cost reduction strategies","Code quality standards"],correctAnswer:"Managing shortcuts in software development",level:"B2",points:2},{id:"r2",section:"reading",question:"According to the text, what is the consequence of technical debt?",readingText:"Technical debt occurs when developers choose quick solutions over better approaches. While these shortcuts save time initially, they accumulate interest in the form of increased maintenance costs and reduced code quality. Managing technical debt requires regular refactoring and prioritization.",options:["Faster development","Better code quality","Increased maintenance costs","No consequences"],correctAnswer:"Increased maintenance costs",level:"B2",points:2},{id:"r3",section:"reading",question:"What does RAG stand for in AI systems?",readingText:"Retrieval-Augmented Generation (RAG) is an AI framework that combines the power of large language models with external knowledge retrieval. Rather than relying solely on pre-trained knowledge, RAG systems query a database or document corpus to retrieve relevant information, which is then used to generate more accurate and contextually appropriate responses.",options:["Rapid Application Generation","Retrieval-Augmented Generation","Random Access Gateway","Real-time Analytics Generator"],correctAnswer:"Retrieval-Augmented Generation",level:"C1",points:3},{id:"r4",section:"reading",question:"How does RAG improve AI responses?",readingText:"Retrieval-Augmented Generation (RAG) is an AI framework that combines the power of large language models with external knowledge retrieval. Rather than relying solely on pre-trained knowledge, RAG systems query a database or document corpus to retrieve relevant information, which is then used to generate more accurate and contextually appropriate responses.",options:["By using only pre-trained data","By accessing external knowledge sources","By generating random responses","By reducing computation time"],correctAnswer:"By accessing external knowledge sources",level:"C1",points:3},{id:"r5",section:"reading",question:"What is the primary purpose of MLOps?",readingText:"MLOps (Machine Learning Operations) applies DevOps principles to machine learning workflows. It encompasses the practices, tools, and cultural philosophies necessary to deploy, monitor, and maintain ML models in production. Key aspects include automated testing, continuous integration/continuous deployment (CI/CD), model versioning, and performance monitoring.",options:["To replace DevOps engineers","To deploy and maintain ML models in production","To train machine learning models","To reduce computational costs"],correctAnswer:"To deploy and maintain ML models in production",level:"B2",points:2},{id:"r6",section:"reading",question:"Which is NOT mentioned as a key aspect of MLOps?",readingText:"MLOps (Machine Learning Operations) applies DevOps principles to machine learning workflows. It encompasses the practices, tools, and cultural philosophies necessary to deploy, monitor, and maintain ML models in production. Key aspects include automated testing, continuous integration/continuous deployment (CI/CD), model versioning, and performance monitoring.",options:["Automated testing","Model versioning","Manual deployment","Performance monitoring"],correctAnswer:"Manual deployment",level:"B2",points:2},{id:"w1",section:"writing",question:"Complete the sentence: The bug ___ fixed by the developer yesterday.",correctAnswer:["was"],level:"B1",points:1},{id:"w2",section:"writing",question:"Complete: We have ___ implementing microservices for two years.",correctAnswer:["been"],level:"B2",points:2},{id:"w3",section:"writing",question:"Complete: Technical debt accumulates when teams choose quick solutions ___ of better approaches.",correctAnswer:["instead"],level:"B2",points:2},{id:"w4",section:"writing",question:"Complete: Had the team ___ the security audit, the breach would not have occurred.",correctAnswer:["conducted","performed","done","completed"],level:"C1",points:3},{id:"w5",section:"writing",question:"Complete: Not only ___ the system more secure, but it also improved performance.",correctAnswer:["did it make","did we make"],level:"C1",points:3},{id:"w6",section:"writing",question:"Complete: The application ___ currently ___ tested by the QA team.",correctAnswer:["is being"],level:"B2",points:2}],Af=(e,t)=>({l1:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Past Simple (Pass\xe9 simple)"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["Le ",(0,$.jsx)("strong",{children:"Past Simple"})," est utilis\xe9 pour d\xe9crire une action termin\xe9e dans le pass\xe9, souvent accompagn\xe9e d'un indicateur de temps pr\xe9cis."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 Forme affirmative : Sujet + verbe-ed (ou verbe irr\xe9gulier)",(0,$.jsx)("br",{}),'\u2022 Exemple : "The system ',(0,$.jsx)("strong",{children:"was deployed"}),' yesterday."',(0,$.jsx)("br",{}),"\u2022 Indicateurs : yesterday, last week, in 2020, ago"]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"\u26a0\ufe0f Attention :"}),' "was deployed" est \xe0 la voix passive. Voix active \xe9quivalente : "They deployed the system yesterday."']}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Autres exemples :"}),(0,$.jsx)("br",{}),'\u2022 "I worked on this project last month."',(0,$.jsx)("br",{}),'\u2022 "The bug was fixed two days ago."',(0,$.jsx)("br",{}),'\u2022 "She tested the application yesterday."']})]}),l2:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Present Perfect Continuous"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["Le ",(0,$.jsx)("strong",{children:"Present Perfect Continuous"})," exprime une action qui a commenc\xe9 dans le pass\xe9 et qui continue jusqu'\xe0 maintenant, avec emphase sur la dur\xe9e."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 Have/Has + been + verbe-ing",(0,$.jsx)("br",{}),'\u2022 Exemple : "We ',(0,$.jsx)("strong",{children:"have been working"}),' for three months."',(0,$.jsx)("br",{}),"\u2022 Indicateurs : for (dur\xe9e), since (point de d\xe9part)"]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"Diff\xe9rence avec Present Perfect Simple :"}),(0,$.jsx)("br",{}),"\u2022 Perfect Continuous : emphase sur la dur\xe9e/continuit\xe9",(0,$.jsx)("br",{}),"\u2022 Perfect Simple : emphase sur le r\xe9sultat/ach\xe8vement",(0,$.jsx)("br",{}),'Exemple : "I have been reading" (je lis encore) vs "I have read" (j\'ai fini)']}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Autres exemples :"}),(0,$.jsx)("br",{}),'\u2022 "She has been learning English for 5 years."',(0,$.jsx)("br",{}),'\u2022 "They have been developing this feature since January."',(0,$.jsx)("br",{}),'\u2022 "The server has been running continuously."']})]}),l3:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Modal Perfect (Could have + past participle)"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:'"Could have + past participle"'})," exprime une possibilit\xe9 dans le pass\xe9 qui ne s'est pas r\xe9alis\xe9e (regret, reproche, ou constat)."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 Modal (could/should/would) + have + past participle",(0,$.jsx)("br",{}),'\u2022 Exemple : "The vulnerability ',(0,$.jsx)("strong",{children:"could have been prevented"}),'."',(0,$.jsx)("br",{}),"\u2022 Signification : C'\xe9tait possible de le pr\xe9venir, mais \xe7a n'a pas \xe9t\xe9 fait."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"Autres modaux au pass\xe9 :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Should have :"})," obligation non respect\xe9e (reproche)",(0,$.jsx)("br",{}),'\xa0\xa0"You should have tested the code."',(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Would have :"})," conditionnel pass\xe9",(0,$.jsx)("br",{}),'\xa0\xa0"I would have fixed it if I had known."',(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Must have :"})," d\xe9duction logique sur le pass\xe9",(0,$.jsx)("br",{}),'\xa0\xa0"He must have forgotten the meeting."']}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Exemples IT :"}),(0,$.jsx)("br",{}),'\u2022 "The data breach could have been prevented with proper encryption."',(0,$.jsx)("br",{}),'\u2022 "The deployment should have been tested in staging first."',(0,$.jsx)("br",{}),'\u2022 "The bug would have been caught if we had unit tests."']})]}),l4:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Present Perfect + Cause/Effect"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["Le ",(0,$.jsx)("strong",{children:"Present Perfect"}),' est utilis\xe9 ici pour montrer un r\xe9sultat pr\xe9sent d\'une action pass\xe9e. "By implementing" (g\xe9rondif) exprime le moyen/la cause.']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 By + verb-ing (moyen) \u2192 r\xe9sultat",(0,$.jsx)("br",{}),'\u2022 Exemple : "',(0,$.jsx)("strong",{children:"By implementing"})," CI/CD, time ",(0,$.jsx)("strong",{children:"has decreased"}),'."',(0,$.jsx)("br",{}),'\u2022 "By" = "en faisant", "gr\xe2ce \xe0"']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"Vocabulaire cl\xe9 :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Significantly :"})," de mani\xe8re significative",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Decrease :"})," diminuer (\u2260 increase : augmenter)",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Deployment :"})," d\xe9ploiement, mise en production"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Expressions similaires :"}),(0,$.jsx)("br",{}),'\u2022 "By using automation, we have improved efficiency."',(0,$.jsx)("br",{}),'\u2022 "Through refactoring, code quality has increased."',(0,$.jsx)("br",{}),'\u2022 "Thanks to monitoring, downtime has reduced."']})]}),l5:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Third Conditional (Inversion)"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["Le ",(0,$.jsx)("strong",{children:"Third Conditional"}),' exprime une situation hypoth\xe9tique dans le pass\xe9 et son r\xe9sultat irr\xe9el. L\'inversion avec "Had" rend la phrase plus formelle.']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure classique :"}),(0,$.jsx)("br",{}),"\u2022 If + past perfect \u2192 would have + past participle",(0,$.jsx)("br",{}),'\u2022 "If the team ',(0,$.jsx)("strong",{children:"had followed"})," practices, breach ",(0,$.jsx)("strong",{children:"would not have occurred"}),'."']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"warning.light",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure avec inversion (formelle) :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Had + sujet + past participle"})," \u2192 would have + past participle",(0,$.jsx)("br",{}),'\u2022 "',(0,$.jsx)("strong",{children:"Had the team followed"}),' practices, breach would not have occurred."',(0,$.jsx)("br",{}),'\u2022 Note : "If" dispara\xeet, "had" passe en t\xeate']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"Signification :"})," L'\xe9quipe n'a PAS suivi les bonnes pratiques, et en cons\xe9quence, la faille de s\xe9curit\xe9 s'est produite."]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Autres exemples avec inversion :"}),(0,$.jsx)("br",{}),'\u2022 "Had I known, I would have acted differently."',(0,$.jsx)("br",{}),'\u2022 "Had they tested properly, the bug would have been caught."',(0,$.jsx)("br",{}),'\u2022 "Had we deployed earlier, the deadline would have been met."']})]}),l6:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Present Continuous Passive"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["Le ",(0,$.jsx)("strong",{children:"Present Continuous Passive"})," d\xe9crit une action en cours de r\xe9alisation au moment pr\xe9sent, \xe0 la voix passive (l'agent n'est pas l'acteur principal)."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 Is/Are + being + past participle",(0,$.jsx)("br",{}),'\u2022 Exemple : "The application ',(0,$.jsx)("strong",{children:"is being tested"}),' by the QA team."',(0,$.jsx)("br",{}),'\u2022 Forme active : "The QA team is testing the application."']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"Quand l'utiliser :"}),(0,$.jsx)("br",{}),"\u2022 Action en cours maintenant",(0,$.jsx)("br",{}),"\u2022 Focus sur l'objet de l'action (pas l'agent)",(0,$.jsx)("br",{}),"\u2022 Processus temporaire"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Exemples IT :"}),(0,$.jsx)("br",{}),'\u2022 "The code is being reviewed by senior developers."',(0,$.jsx)("br",{}),'\u2022 "New features are being developed right now."',(0,$.jsx)("br",{}),'\u2022 "The database is being migrated to the cloud."',(0,$.jsx)("br",{}),'\u2022 "Security patches are being deployed across all servers."']})]}),r1:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"Compr\xe9hension \xe9crite : Id\xe9e principale"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["Le texte parle de la ",(0,$.jsx)("strong",{children:"dette technique"})," : des solutions rapides qui cr\xe9ent des probl\xe8mes \xe0 long terme."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Vocabulaire cl\xe9 :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Technical debt :"})," dette technique",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Shortcuts :"})," raccourcis, solutions rapides",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Accumulate interest :"})," accumuler des int\xe9r\xeats (m\xe9taphore financi\xe8re)",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Maintenance costs :"})," co\xfbts de maintenance"]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"Expressions courantes IT :"}),(0,$.jsx)("br",{}),'\u2022 "Quick and dirty solution" = solution rapide mais de mauvaise qualit\xe9',(0,$.jsx)("br",{}),'\u2022 "Cut corners" = prendre des raccourcis',(0,$.jsx)("br",{}),'\u2022 "Pay down technical debt" = rembourser la dette technique',(0,$.jsx)("br",{}),'\u2022 "Code smells" = signes de mauvaise qualit\xe9 de code']})]}),r2:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"Compr\xe9hension : Cause et cons\xe9quence"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["Le texte explique que la dette technique ",(0,$.jsx)("strong",{children:"augmente les co\xfbts de maintenance"}),"."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Mots de liaison cause/cons\xe9quence :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Because / Since / As :"})," parce que",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Therefore / Thus / Hence :"})," donc, par cons\xe9quent",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"As a result / Consequently :"})," en cons\xe9quence",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Due to / Owing to :"})," en raison de"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Exemple :"}),' "Due to technical debt, maintenance costs increased."']})]}),r3:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"Acronyme : RAG (Retrieval-Augmented Generation)"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"RAG"})," est un framework d'IA qui combine g\xe9n\xe9ration de texte et recherche d'informations externes pour des r\xe9ponses plus pr\xe9cises."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Vocabulaire technique IA :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Framework :"})," cadre de travail, infrastructure",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Retrieval :"})," r\xe9cup\xe9ration, recherche",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Augmented :"})," augment\xe9, am\xe9lior\xe9",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Query :"})," requ\xeate, interrogation",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Corpus :"})," ensemble de documents"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Autres acronymes IA courants :"}),(0,$.jsx)("br",{}),"\u2022 LLM: Large Language Model",(0,$.jsx)("br",{}),"\u2022 NLP: Natural Language Processing",(0,$.jsx)("br",{}),"\u2022 MLOps: Machine Learning Operations",(0,$.jsx)("br",{}),"\u2022 API: Application Programming Interface"]})]}),r4:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"Compr\xe9hension : M\xe9canisme de fonctionnement"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["RAG am\xe9liore les r\xe9ponses en ",(0,$.jsx)("strong",{children:"acc\xe9dant \xe0 des sources de connaissances externes"}),", pas seulement aux donn\xe9es pr\xe9-entra\xeen\xe9es."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:'Expression : "Rather than"'}),(0,$.jsx)("br",{}),'\u2022 Signification : "plut\xf4t que", "au lieu de"',(0,$.jsx)("br",{}),'\u2022 Exemple : "Rather than relying on memory, it queries a database."',(0,$.jsx)("br",{}),"\u2022 Synonymes : instead of, in lieu of"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Expressions de comparaison :"}),(0,$.jsx)("br",{}),'\u2022 "Unlike X, Y does..." = Contrairement \xe0 X, Y fait...',(0,$.jsx)("br",{}),'\u2022 "Whereas X is limited, Y can..." = Alors que X est limit\xe9, Y peut...',(0,$.jsx)("br",{}),'\u2022 "In contrast to X, Y..." = Par opposition \xe0 X, Y...']})]}),r5:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"MLOps : Machine Learning Operations"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["MLOps applique les principes DevOps au machine learning pour ",(0,$.jsx)("strong",{children:"d\xe9ployer et maintenir des mod\xe8les en production"}),"."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Vocabulaire MLOps :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Deploy :"})," d\xe9ployer, mettre en production",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Monitor :"})," surveiller, monitorer",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Maintain :"})," maintenir, entretenir",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Pipeline :"})," cha\xeene de traitement automatis\xe9e",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Versioning :"})," gestion des versions"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Concepts MLOps cl\xe9s :"}),(0,$.jsx)("br",{}),"\u2022 Model training pipeline",(0,$.jsx)("br",{}),"\u2022 Continuous Integration / Continuous Deployment (CI/CD)",(0,$.jsx)("br",{}),"\u2022 Model monitoring and drift detection",(0,$.jsx)("br",{}),"\u2022 A/B testing for models"]})]}),r6:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"Compr\xe9hension : D\xe9tails du texte"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["Le texte mentionne automated testing, CI/CD, model versioning, et performance monitoring, mais PAS le ",(0,$.jsx)("strong",{children:"d\xe9ploiement manuel"}),"."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Astuce lecture :"}),(0,$.jsx)("br",{}),'\u2022 Questions "NOT mentioned" = attention redoubl\xe9e',(0,$.jsx)("br",{}),"\u2022 Scanner le texte pour chaque option",(0,$.jsx)("br",{}),"\u2022 \xc9liminer les options pr\xe9sentes",(0,$.jsx)("br",{}),"\u2022 La r\xe9ponse est celle qui n'appara\xeet PAS"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Mots de n\xe9gation en anglais :"}),(0,$.jsx)("br",{}),"\u2022 Which is NOT...",(0,$.jsx)("br",{}),"\u2022 Except for...",(0,$.jsx)("br",{}),"\u2022 All of the following EXCEPT...",(0,$.jsx)("br",{}),"\u2022 Neither... nor..."]})]}),w1:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Passive Voice (Past Simple)"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:['"The bug ',(0,$.jsx)("strong",{children:"was"}),' fixed" est \xe0 la voix passive au pass\xe9 simple.']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure voix passive :"}),(0,$.jsx)("br",{}),"\u2022 Be (conjugu\xe9) + past participle",(0,$.jsx)("br",{}),"\u2022 Pass\xe9 simple : was/were + past participle",(0,$.jsx)("br",{}),'\u2022 Exemple : "was fixed", "were tested", "was deployed"']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"Quand utiliser la voix passive :"}),(0,$.jsx)("br",{}),"\u2022 Agent inconnu ou non important",(0,$.jsx)("br",{}),"\u2022 Focus sur l'objet, pas l'agent",(0,$.jsx)("br",{}),"\u2022 Style formel/technique"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Exemples IT :"}),(0,$.jsx)("br",{}),'\u2022 "The code was reviewed by the team."',(0,$.jsx)("br",{}),'\u2022 "The server was restarted at midnight."',(0,$.jsx)("br",{}),'\u2022 "All tests were passed successfully."']})]}),w2:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Present Perfect Continuous"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:['"We have ',(0,$.jsx)("strong",{children:"been"}),' implementing" exprime une action commenc\xe9e dans le pass\xe9 et qui continue.']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 Have/Has + been + verb-ing",(0,$.jsx)("br",{}),'\u2022 Exemple : "have been implementing"',(0,$.jsx)("br",{}),'\u2022 Indicateur temporel : "for two years" (dur\xe9e)']}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"\u26a0\ufe0f Erreurs courantes :"}),(0,$.jsx)("br",{}),'\u2022 \u274c "have implementing" \u2192 \u2705 "have been implementing"',(0,$.jsx)("br",{}),'\u2022 \u274c "have been implement" \u2192 \u2705 "have been implementing"',(0,$.jsx)("br",{}),'\u2022 \u274c "has been implementing" (avec "we") \u2192 \u2705 "have been implementing"']})]}),w3:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:'Expression : "instead of"'})}),(0,$.jsx)(Ce,{variant:"body2",paragraph:!0,children:'"Instead of" = au lieu de, \xe0 la place de'}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 Instead of + noun/gerund",(0,$.jsx)("br",{}),'\u2022 Exemple : "instead of better approaches"',(0,$.jsx)("br",{}),'\u2022 Avec verbe : "instead of using" (g\xe9rondif)']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"\u26a0\ufe0f Ne pas confondre :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Instead of :"})," au lieu de (+ nom/g\xe9rondif)",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Instead :"}),' \xe0 la place (seul, sans "of")',(0,$.jsx)("br",{}),'Exemple : "I didn\'t go; I stayed home instead."']}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Expressions similaires :"}),(0,$.jsx)("br",{}),'\u2022 "Rather than" = plut\xf4t que',(0,$.jsx)("br",{}),'\u2022 "In place of" = \xe0 la place de',(0,$.jsx)("br",{}),'\u2022 "As an alternative to" = comme alternative \xe0']})]}),w4:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Third Conditional (Past Perfect)"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:['"Had the team ',(0,$.jsx)("strong",{children:"conducted"})," the audit\" = Si l'\xe9quipe avait effectu\xe9 l'audit"]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Verbes accept\xe9s :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"conducted"})," (mener, effectuer) - le plus courant",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"performed"})," (r\xe9aliser, effectuer)",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"done"})," (faire) - moins formel",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"completed"})," (compl\xe9ter, achever)"]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:'Collocations avec "audit" :'}),(0,$.jsx)("br",{}),"\u2022 Conduct an audit (le plus fr\xe9quent)",(0,$.jsx)("br",{}),"\u2022 Perform an audit",(0,$.jsx)("br",{}),"\u2022 Carry out an audit",(0,$.jsx)("br",{}),"\u2022 Complete an audit"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Autres exemples :"}),(0,$.jsx)("br",{}),'\u2022 "Had we conducted a code review..."',(0,$.jsx)("br",{}),'\u2022 "Had they performed load testing..."',(0,$.jsx)("br",{}),'\u2022 "Had the team completed the migration..."']})]}),w5:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Inversion (Emphase)"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:['"Not only ',(0,$.jsx)("strong",{children:"did it make"}),"\" est une structure d'inversion pour l'emphase."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 Not only + auxiliaire + sujet + verbe de base",(0,$.jsx)("br",{}),'\u2022 Exemple : "Not only ',(0,$.jsx)("strong",{children:"did it make"}),' the system more secure"',(0,$.jsx)("br",{}),'\u2022 Normal : "It not only made the system more secure"']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"warning.light",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:'\u26a0\ufe0f Apr\xe8s "not only" en d\xe9but de phrase :'}),(0,$.jsx)("br",{}),"\u2022 L'ordre sujet-verbe s'inverse",(0,$.jsx)("br",{}),"\u2022 On ajoute un auxiliaire (do/does/did)",(0,$.jsx)("br",{}),"\u2022 Niveau C1 - Structure formelle"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Autres structures similaires :"}),(0,$.jsx)("br",{}),'\u2022 "Never have I seen..." (jamais je n\'ai vu...)',(0,$.jsx)("br",{}),'\u2022 "Rarely does he..." (rarement il...)',(0,$.jsx)("br",{}),'\u2022 "Seldom do we..." (rarement nous...)',(0,$.jsx)("br",{}),"\u2022 \"Only then did I realize...\" (c'est alors que j'ai r\xe9alis\xe9...)"]})]}),w6:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Present Continuous Passive"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:['"The application ',(0,$.jsx)("strong",{children:"is being"}),' tested" exprime une action passive en cours.']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 Is/Are + being + past participle",(0,$.jsx)("br",{}),'\u2022 Exemple : "',(0,$.jsx)("strong",{children:"is being"}),' tested"',(0,$.jsx)("br",{}),'\u2022 Note : deux mots n\xe9cessaires ("is" + "being")']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"\u26a0\ufe0f Erreurs fr\xe9quentes :"}),(0,$.jsx)("br",{}),'\u2022 \u274c "is tested" \u2192 pr\xe9sent simple passif (pas en cours)',(0,$.jsx)("br",{}),'\u2022 \u274c "is testing" \u2192 pr\xe9sent continu actif (mauvaise voix)',(0,$.jsx)("br",{}),'\u2022 \u274c "has been tested" \u2192 present perfect (action termin\xe9e)',(0,$.jsx)("br",{}),'\u2022 \u2705 "is being tested" \u2192 pr\xe9sent continu passif (action en cours)']}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Exemples IT :"}),(0,$.jsx)("br",{}),'\u2022 "The code is being reviewed right now."',(0,$.jsx)("br",{}),'\u2022 "New features are being developed as we speak."',(0,$.jsx)("br",{}),'\u2022 "The database is being migrated this week."']})]})}[e.id]||(0,$.jsx)(Ce,{variant:"body2",children:"Explication \xe0 venir pour cette question."})),Cf=t=>{var n;let{onComplete:r}=t;const[i,s]=(0,e.useState)("listening"),[a,l]=(0,e.useState)(0),[c,u]=(0,e.useState)({}),[d,h]=(0,e.useState)(!1),[p,f]=(0,e.useState)(null),[m,g]=(0,e.useState)(!1),{user:v,setUser:y}=us(),{speak:b,stop:x,isSpeaking:w,isSupported:S}=kf(),E=If.filter(e=>e.section===i),k=E[a],I=If.length,A=Object.keys(c).length,C=A/I*100,T=(e,t)=>{u(n=>(0,o.A)((0,o.A)({},n),{},{[e]:t}))},j=()=>{let e=0,t=0;If.forEach(n=>{var r;t+=n.points;const o=null===(r=c[n.id])||void 0===r?void 0:r.toLowerCase().trim();Array.isArray(n.correctAnswer)?n.correctAnswer.some(e=>o===e.toLowerCase())&&(e+=n.points):o===n.correctAnswer.toLowerCase()&&(e+=n.points)});const n=e/t*100;let r;r=n>=80?"C1":n>=65?"B2":n>=45?"B1":"A2",f(r),h(!0),v&&y((0,o.A)((0,o.A)({},v),{},{currentLevel:r,lastActivity:new Date}))},_=void 0!==c[null===k||void 0===k?void 0:k.id];return m&&d&&p?(0,$.jsxs)(le,{sx:{p:3,maxWidth:1200,mx:"auto"},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:"\ud83d\udcdd Correction d\xe9taill\xe9e de l'\xe9valuation"}),(0,$.jsx)(Ms,{severity:"info",sx:{mb:3},children:(0,$.jsx)(Ce,{variant:"body2",children:"Voici la correction compl\xe8te avec explications grammaticales, exemples et exceptions. Prenez le temps de bien comprendre chaque point."})}),If.map((e,t)=>{const n=(e=>{var t;const n=null===(t=c[e.id])||void 0===t?void 0:t.toLowerCase().trim();return Array.isArray(e.correctAnswer)?e.correctAnswer.some(e=>n===e.toLowerCase()):n===e.correctAnswer.toLowerCase()})(e),r=c[e.id],o=Array.isArray(e.correctAnswer)?e.correctAnswer[0]:e.correctAnswer;return(0,$.jsx)(Ye,{sx:{mb:3,border:2,borderColor:n?"success.main":"error.main"},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,$.jsx)(ys,{label:"Question ".concat(t+1),color:n?"success":"error"}),(0,$.jsx)(ys,{label:e.section.toUpperCase(),size:"small"}),(0,$.jsx)(ys,{label:"Niveau ".concat(e.level),size:"small",variant:"outlined"}),n?(0,$.jsx)(ha,{color:"success"}):(0,$.jsxs)(le,{sx:{color:"error.main",display:"flex",alignItems:"center",gap:.5},children:["\u274c ",(0,$.jsx)(Ce,{variant:"body2",children:"Incorrect"})]})]}),(0,$.jsx)(Ce,{variant:"h6",sx:{mb:2},children:e.question}),e.audioText&&(0,$.jsx)(le,{sx:{mb:2,p:2,bgcolor:"grey.100",borderRadius:1},children:(0,$.jsxs)(Ce,{variant:"body2",sx:{fontStyle:"italic"},children:['\ud83d\udd0a Texte audio : "',e.audioText,'"']})}),e.readingText&&(0,$.jsx)(le,{sx:{mb:2,p:2,bgcolor:"grey.100",borderRadius:1},children:(0,$.jsx)(Ce,{variant:"body2",children:e.readingText})}),(0,$.jsx)(le,{sx:{mb:3},children:(0,$.jsxs)(Ve,{container:!0,spacing:2,children:[(0,$.jsx)(Ve,{item:!0,xs:12,md:6,children:(0,$.jsxs)(le,{sx:{p:2,bgcolor:n?"success.light":"error.light",borderRadius:1},children:[(0,$.jsx)(Ce,{variant:"subtitle2",sx:{color:n?"success.dark":"error.dark",mb:1},children:n?"\u2705 Votre r\xe9ponse (correcte)":"\u274c Votre r\xe9ponse"}),(0,$.jsx)(Ce,{variant:"body1",sx:{fontWeight:"bold"},children:r||"(non r\xe9pondu)"})]})}),!n&&(0,$.jsx)(Ve,{item:!0,xs:12,md:6,children:(0,$.jsxs)(le,{sx:{p:2,bgcolor:"success.light",borderRadius:1},children:[(0,$.jsx)(Ce,{variant:"subtitle2",sx:{color:"success.dark",mb:1},children:"\u2705 R\xe9ponse correcte"}),(0,$.jsx)(Ce,{variant:"body1",sx:{fontWeight:"bold"},children:o}),Array.isArray(e.correctAnswer)&&e.correctAnswer.length>1&&(0,$.jsxs)(Ce,{variant:"caption",display:"block",sx:{mt:1},children:["Autres r\xe9ponses accept\xe9es : ",e.correctAnswer.slice(1).join(", ")]})]})})]})}),(0,$.jsxs)(le,{sx:{p:3,bgcolor:"primary.light",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"h6",sx:{color:"white",mb:2},children:"\ud83d\udcda Explication grammaticale"}),(0,$.jsx)(le,{sx:{p:2,bgcolor:"white",borderRadius:1},children:Af(e)})]})]})},e.id)}),(0,$.jsxs)(le,{sx:{display:"flex",gap:2,justifyContent:"center",mt:4},children:[(0,$.jsx)(dn,{variant:"outlined",onClick:()=>g(!1),children:"Retour au r\xe9sultat"}),(0,$.jsx)(dn,{variant:"contained",onClick:r,children:"Terminer et continuer"})]})]}):d&&p?(0,$.jsx)(le,{sx:{p:3,maxWidth:800,mx:"auto"},children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{sx:{textAlign:"center",py:6},children:[(0,$.jsx)(ha,{sx:{fontSize:80,color:"success.main",mb:3}}),(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,children:"\xc9valuation compl\xe8te termin\xe9e !"}),(0,$.jsxs)(le,{sx:{my:4,p:3,bgcolor:"primary.light",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"h5",sx:{color:"white",mb:1},children:"Votre niveau estim\xe9 :"}),(0,$.jsx)(Ce,{variant:"h2",sx:{color:"white",fontWeight:"bold"},children:p})]}),(0,$.jsxs)(Ms,{severity:"info",sx:{mb:3,textAlign:"left"},children:[(0,$.jsx)(Ce,{variant:"body2",sx:{mb:2},children:(0,$.jsx)("strong",{children:"R\xe9sultats d\xe9taill\xe9s :"})}),(0,$.jsxs)(le,{sx:{display:"flex",gap:2,justifyContent:"space-around"},children:[(0,$.jsxs)(le,{children:[(0,$.jsx)(yf,{sx:{verticalAlign:"middle",mr:.5}}),(0,$.jsxs)(Ce,{variant:"caption",children:["Listening: ",If.filter(e=>{var t;return"listening"===e.section&&(null===(t=c[e.id])||void 0===t?void 0:t.toLowerCase())===(Array.isArray(e.correctAnswer)?e.correctAnswer[0]:e.correctAnswer).toLowerCase()}).length,"/6"]})]}),(0,$.jsxs)(le,{children:[(0,$.jsx)(aa,{sx:{verticalAlign:"middle",mr:.5}}),(0,$.jsxs)(Ce,{variant:"caption",children:["Reading: ",If.filter(e=>{var t;return"reading"===e.section&&(null===(t=c[e.id])||void 0===t?void 0:t.toLowerCase())===(Array.isArray(e.correctAnswer)?e.correctAnswer[0]:e.correctAnswer).toLowerCase()}).length,"/6"]})]}),(0,$.jsxs)(le,{children:[(0,$.jsx)(bf,{sx:{verticalAlign:"middle",mr:.5}}),(0,$.jsxs)(Ce,{variant:"caption",children:["Writing: ",If.filter(e=>"writing"===e.section&&Array.isArray(e.correctAnswer)&&e.correctAnswer.some(t=>{var n;return(null===(n=c[e.id])||void 0===n?void 0:n.toLowerCase().trim())===t.toLowerCase()})).length,"/6"]})]})]})]}),(0,$.jsx)(Ce,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Les exercices seront adapt\xe9s \xe0 votre niveau. Vous pouvez commencer d\xe8s maintenant !"}),(0,$.jsxs)(le,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[(0,$.jsx)(dn,{variant:"outlined",size:"large",onClick:()=>g(!0),children:"\ud83d\udcdd Voir la correction d\xe9taill\xe9e"}),(0,$.jsx)(dn,{variant:"contained",size:"large",onClick:r,children:"Commencer les exercices"})]})]})})}):(0,$.jsxs)(le,{sx:{p:3,maxWidth:1e3,mx:"auto"},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,sx:{mb:2},children:"\xc9valuation compl\xe8te de niveau"}),(0,$.jsxs)(Ms,{severity:"info",sx:{mb:3},children:["Cette \xe9valuation comporte 18 questions r\xe9parties en 3 sections :",(0,$.jsx)("strong",{children:" Listening (compr\xe9hension orale)"}),",",(0,$.jsx)("strong",{children:" Reading (compr\xe9hension \xe9crite)"}),", et",(0,$.jsx)("strong",{children:" Writing (expression \xe9crite)"}),"."]}),(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:["Progression globale : ",A,"/",I," questions"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"primary",children:[Math.round(C),"%"]})]}),(0,$.jsx)(ia,{variant:"determinate",value:C,sx:{height:8,borderRadius:1}})]}),(0,$.jsxs)(le,{sx:{display:"flex",gap:2,mb:4},children:[(0,$.jsx)(ys,{icon:(0,$.jsx)(yf,{}),label:"Listening",color:"listening"===i?"primary":"default",variant:"listening"===i?"filled":"outlined"}),(0,$.jsx)(ys,{icon:(0,$.jsx)(aa,{}),label:"Reading",color:"reading"===i?"primary":"default",variant:"reading"===i?"filled":"outlined"}),(0,$.jsx)(ys,{icon:(0,$.jsx)(bf,{}),label:"Writing",color:"writing"===i?"primary":"default",variant:"writing"===i?"filled":"outlined"})]}),(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsxs)(Ce,{variant:"overline",color:"text.secondary",children:[i.toUpperCase()," - Question ",a+1," / ",E.length]}),"listening"===i&&k.audioText&&(0,$.jsxs)(le,{sx:{my:2,p:3,bgcolor:"primary.light",borderRadius:2,border:2,borderColor:"primary.main"},children:[!S&&(0,$.jsx)(Ms,{severity:"warning",sx:{mb:2},children:"Votre navigateur ne supporte pas la synth\xe8se vocale. Veuillez utiliser Chrome, Edge ou Safari."}),(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,$.jsx)(fi,{sx:{fontSize:40,color:"white"}}),(0,$.jsx)(Ce,{variant:"h6",sx:{color:"white",flexGrow:1},children:"Section d'\xe9coute"}),(0,$.jsx)(jh,{title:w?"Arr\xeater":"\xc9couter",children:(0,$.jsx)("span",{children:(0,$.jsx)(In,{onClick:()=>{return e=k.audioText,void(w?x():b(e,"en-US"));var e},disabled:!S,sx:{bgcolor:"white","&:hover":{bgcolor:"grey.200"},width:60,height:60},children:w?(0,$.jsx)(_h,{sx:{fontSize:30}}):(0,$.jsx)(Rh,{sx:{fontSize:30}})})})})]}),(0,$.jsx)(le,{sx:{p:2,bgcolor:"white",borderRadius:1},children:(0,$.jsxs)(Ce,{variant:"body1",sx:{fontStyle:"italic",color:"text.primary"},children:['"',k.audioText,'"']})}),(0,$.jsx)(Ce,{variant:"caption",sx:{display:"block",mt:1,color:"white"},children:"\ud83d\udca1 Cliquez sur le bouton lecture pour entendre le texte en anglais"})]}),"reading"===i&&k.readingText&&(0,$.jsx)(le,{sx:{my:2,p:3,bgcolor:"grey.50",borderRadius:2,border:1,borderColor:"grey.300"},children:(0,$.jsx)(Ce,{variant:"body1",sx:{lineHeight:1.8},children:k.readingText})}),(0,$.jsx)(Ce,{variant:"h6",sx:{mt:2,mb:3},children:k.question}),"writing"===i?(0,$.jsx)(Vu,{fullWidth:!0,variant:"outlined",placeholder:"Entrez votre r\xe9ponse ici...",value:c[k.id]||"",onChange:e=>T(k.id,e.target.value),multiline:!1,sx:{mb:2}}):(0,$.jsx)(Sa,{component:"fieldset",fullWidth:!0,children:(0,$.jsx)(Kc,{value:c[k.id]||"",onChange:e=>T(k.id,e.target.value),children:null===(n=k.options)||void 0===n?void 0:n.map((e,t)=>(0,$.jsx)(lu,{value:e,control:(0,$.jsx)(Cu,{}),label:e,sx:{p:2,mb:1,border:1,borderColor:"grey.300",borderRadius:2,"&:hover":{bgcolor:"grey.50"}}},t))})})]}),(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[(0,$.jsx)(dn,{onClick:()=>{a>0?l(e=>e-1):"reading"===i?(s("listening"),l(If.filter(e=>"listening"===e.section).length-1)):"writing"===i&&(s("reading"),l(If.filter(e=>"reading"===e.section).length-1))},disabled:"listening"===i&&0===a,children:"Pr\xe9c\xe9dent"}),(0,$.jsx)(dn,{variant:"contained",onClick:()=>{a<E.length-1?l(e=>e+1):"listening"===i?(s("reading"),l(0)):"reading"===i?(s("writing"),l(0)):j()},disabled:!_,children:"writing"===i&&a===E.length-1?"Terminer l'\xe9valuation":"Suivant"})]})]})})]})};function Tf(e){return re("MuiDialog",e)}const jf=oe("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const _f=e.createContext({}),Rf=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Pf=fe(ur,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Nf=fe(Ar,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Lf=fe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t["scroll".concat(we(n.scroll))]]}})(e=>{let{ownerState:t}=e;return(0,i.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})}),Of=fe(Ge,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["scrollPaper".concat(we(n.scroll))],t["paperWidth".concat(we(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(jf.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit),["&.".concat(jf.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(jf.paperScrollBody)]:{margin:0,maxWidth:"100%"}})}),Mf=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiDialog"}),o=je(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":c,BackdropComponent:u,BackdropProps:d,children:h,className:p,disableEscapeKeyDown:f=!1,fullScreen:m=!1,fullWidth:g=!1,maxWidth:v="sm",onBackdropClick:y,onClick:b,onClose:x,open:w,PaperComponent:S=Ge,PaperProps:E={},scroll:k="paper",TransitionComponent:I=sr,transitionDuration:A=a,TransitionProps:C}=r,T=(0,s.A)(r,Rf),j=(0,i.A)({},r,{disableEscapeKeyDown:f,fullScreen:m,fullWidth:g,maxWidth:v,scroll:k}),_=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e;return ce({root:["root"],container:["container","scroll".concat(we(n))],paper:["paper","paperScroll".concat(we(n)),"paperWidth".concat(we(String(r))),o&&"paperFullWidth",i&&"paperFullScreen"]},Tf,t)})(j),R=e.useRef(),P=Go(c),N=e.useMemo(()=>({titleId:P}),[P]);return(0,$.jsx)(Nf,(0,i.A)({className:W(_.root,p),closeAfterTransition:!0,components:{Backdrop:Pf},componentsProps:{backdrop:(0,i.A)({transitionDuration:A,as:u},d)},disableEscapeKeyDown:f,onClose:x,open:w,ref:n,onClick:e=>{b&&b(e),R.current&&(R.current=null,y&&y(e),x&&x(e,"backdropClick"))},ownerState:j},T,{children:(0,$.jsx)(I,(0,i.A)({appear:!0,in:w,timeout:A,role:"presentation"},C,{children:(0,$.jsx)(Lf,{className:W(_.container),onMouseDown:e=>{R.current=e.target===e.currentTarget},ownerState:j,children:(0,$.jsx)(Of,(0,i.A)({as:S,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":P},E,{className:W(_.paper,E.className),ownerState:j,children:(0,$.jsx)(_f.Provider,{value:N,children:h})}))})}))}))}),Df=Mf;function Ff(e){return re("MuiDialogTitle",e)}const zf=oe("MuiDialogTitle",["root"]),Bf=["className","id"],Vf=fe(Ce,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Uf=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiDialogTitle"}),{className:o,id:a}=r,l=(0,s.A)(r,Bf),c=r,u=(e=>{const{classes:t}=e;return ce({root:["root"]},Ff,t)})(c),{titleId:d=a}=e.useContext(_f);return(0,$.jsx)(Vf,(0,i.A)({component:"h2",className:W(u.root,o),ownerState:c,ref:n,variant:"h6",id:null!=a?a:d},l))});function qf(e){return re("MuiDialogContent",e)}oe("MuiDialogContent",["root","dividers"]);const Wf=["className","dividers"],Hf=fe("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:{[".".concat(zf.root," + &")]:{paddingTop:0}})}),Gf=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiDialogContent"}),{className:r,dividers:o=!1}=n,a=(0,s.A)(n,Wf),l=(0,i.A)({},n,{dividers:o}),c=(e=>{const{classes:t,dividers:n}=e;return ce({root:["root",n&&"dividers"]},qf,t)})(l);return(0,$.jsx)(Hf,(0,i.A)({className:W(c.root,r),ownerState:l,ref:t},a))});function Kf(e){return re("MuiDialogActions",e)}oe("MuiDialogActions",["root","spacing"]);const Qf=["className","disableSpacing"],Xf=fe("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(e=>{let{ownerState:t}=e;return(0,i.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})}),Yf=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:o=!1}=n,a=(0,s.A)(n,Qf),l=(0,i.A)({},n,{disableSpacing:o}),c=(e=>{const{classes:t,disableSpacing:n}=e;return ce({root:["root",!n&&"spacing"]},Kf,t)})(l);return(0,$.jsx)(Xf,(0,i.A)({className:W(c.root,r),ownerState:l,ref:t},a))}),$f=ui((0,$.jsx)("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline"),Jf=ui((0,$.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),Zf=ui((0,$.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove"),em=t=>{let{onNavigate:n}=t;const{user:r,responses:i}=us(),[s,a]=(0,e.useState)(0),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(null),[h,p]=(0,e.useState)(!0),[f,m]=(0,e.useState)([]),[g,v]=(0,e.useState)(new Set),y=(e,t)=>{const n=t.filter(t=>t.exerciseLevel===e);if(0===n.length)return 0;const r=n.filter(e=>e.isCorrect).length;return Math.round(r/n.length*100)},b=(0,e.useMemo)(()=>{if(!r)return[];const e=(e=>{if(0===e.length)return{overallScore:0,grammarScore:0,vocabularyScore:0,weakAreas:[],strongAreas:[],recommendedExercises:[]};const t=e.filter(e=>e.isCorrect).length,n=Math.round(t/e.length*100),r=e.filter(e=>!e.isCorrect),o=[];r.length>.3*e.length&&o.push("Grammaire g\xe9n\xe9rale"),r.length>.4*e.length&&o.push("Vocabulaire technique"),r.length>.5*e.length&&o.push("Compr\xe9hension globale");const i=[];return n>=80&&i.push("Compr\xe9hension globale"),n>=90&&i.push("Ma\xeetrise technique"),{overallScore:n,grammarScore:n,vocabularyScore:n,weakAreas:o,strongAreas:i,recommendedExercises:["qcm_001","cloze_001"]}})(i);return e.weakAreas.map(e=>({area:e,severity:"moderate",occurrences:i.filter(e=>!e.isCorrect).length,recommendedExercises:10}))},[r,i,s]),x=(0,e.useMemo)(()=>{if(!r)return[];const e=[],t=r.currentLevel,n=r.targetLevel;if(e.push({id:"consolidate",title:"Consolider le niveau ".concat(t),description:"Ma\xeetriser les fondamentaux de votre niveau actuel",priority:"high",targetLevel:t,estimatedWeeks:2,progress:y(t,i),exerciseTypes:["qcm","cloze"],domains:["ai","angular","devops"],completed:!1}),b.length>0&&e.push({id:"weaknesses",title:"Am\xe9liorer les points faibles",description:"Travailler sur : ".concat(b.map(e=>e.area).join(", ")),priority:"high",targetLevel:t,estimatedWeeks:3,progress:0,exerciseTypes:["cloze","writing"],domains:["ai","devops"],completed:!1}),"C1"!==t){const n=(e=>{const t=["A2","B1","B2","C1"],n=t.indexOf(e);return t[Math.min(n+1,t.length-1)]})(t);e.push({id:"next_level",title:"Progresser vers le niveau ".concat(n),description:"Introduction aux concepts du niveau sup\xe9rieur",priority:"medium",targetLevel:n,estimatedWeeks:4,progress:0,exerciseTypes:["qcm","reading"],domains:["ai","cybersecurity"],completed:!1})}return e.push({id:"exam_prep",title:"Pr\xe9paration TOEIC/TOEFL",description:"Entra\xeenement cibl\xe9 pour le niveau ".concat(n),priority:"low",targetLevel:n,estimatedWeeks:6,progress:0,exerciseTypes:["listening","reading"],domains:["ai","devops","cybersecurity"],completed:!1}),e.filter(e=>!g.has(e.id)).map(e=>f.find(t=>t.id===e.id)||e)},[r,i,s,b,f,g]),w=(0,e.useCallback)(e=>{console.log("\ud83d\udd04 Clic sur 'Commencer' pour l'objectif:",e.id,e.title),console.log("\ud83d\udccb Objectif complet:",e),e.completed?console.warn("\u26a0\ufe0f Objectif d\xe9j\xe0 compl\xe9t\xe9"):n?(console.log("\u2705 Navigation vers la vue exercices avec filtres:",{level:e.targetLevel,types:e.exerciseTypes,domains:e.domains}),localStorage.setItem("goalFilters",JSON.stringify({level:e.targetLevel,types:e.exerciseTypes,domains:e.domains,goalId:e.id})),n("exercises")):(console.error("\u274c Erreur: onNavigate non d\xe9fini"),window.location.hash="#exercises")},[n]),S=e=>{switch(e){case"critical":return"error";case"moderate":return"warning";case"minor":return"info";default:return"default"}},E=e=>{switch(e){case"high":return"error";case"medium":return"warning";case"low":return"info";default:return"default"}};return r?(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,$.jsx)(Ce,{variant:"h4",children:"Programme d'apprentissage adaptatif"}),(0,$.jsxs)(le,{sx:{display:"flex",gap:2},children:[(0,$.jsx)(jh,{title:"R\xe9actualiser le programme",children:(0,$.jsx)(dn,{startIcon:(0,$.jsx)(sa,{}),onClick:()=>{a(e=>e+1),m([]),v(new Set)},variant:"outlined",children:"Actualiser"})}),(0,$.jsx)(ys,{label:h?"Adaptation auto : ON":"Adaptation auto : OFF",color:h?"success":"default",onClick:()=>p(!h),sx:{cursor:"pointer"}})]})]}),(0,$.jsx)(Ms,{severity:"info",sx:{mb:3},children:(0,$.jsx)(Ce,{variant:"body2",children:"Ce programme s'adapte automatiquement en fonction de vos r\xe9ponses aux exercices. Vous pouvez le modifier \xe0 tout moment en cliquant sur les boutons d'\xe9dition."})}),(0,$.jsx)(Ye,{sx:{mb:3,bgcolor:"primary.light"},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,$.jsx)($f,{sx:{fontSize:40,color:"white"}}),(0,$.jsxs)(le,{sx:{flexGrow:1},children:[(0,$.jsxs)(Ce,{variant:"h6",sx:{color:"white"},children:["Niveau actuel : ",r.currentLevel]}),(0,$.jsxs)(Ce,{variant:"body2",sx:{color:"white",opacity:.9},children:["Objectif : ",r.targetLevel," \u2022 ",i.length," exercices compl\xe9t\xe9s"]})]})]}),(0,$.jsx)(ia,{variant:"determinate",value:y(r.currentLevel,i),sx:{height:8,borderRadius:1,bgcolor:"rgba(255,255,255,0.3)"}})]})}),b.length>0&&(0,$.jsx)(Ye,{sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(Ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$.jsx)(Jf,{color:"warning"}),"Points \xe0 am\xe9liorer"]}),(0,$.jsx)(Ve,{container:!0,spacing:2,children:b.map((e,t)=>(0,$.jsx)(Ve,{item:!0,xs:12,sm:6,md:4,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{children:[(0,$.jsx)(ys,{label:e.severity,color:S(e.severity),size:"small",sx:{mb:1}}),(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:e.area}),(0,$.jsxs)(Ce,{variant:"caption",color:"text.secondary",children:[e.occurrences," erreurs \u2022 ",e.recommendedExercises," exercices recommand\xe9s"]})]})})},t))})]})}),(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,sx:{mb:2},children:"Vos objectifs d'apprentissage"}),(0,$.jsx)(Ve,{container:!0,spacing:3,children:x.map(e=>(0,$.jsx)(Ve,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{elevation:3,sx:{height:"100%"},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,$.jsx)(ys,{label:e.priority,color:E(e.priority),size:"small"}),(0,$.jsxs)(le,{children:[(0,$.jsx)(In,{size:"small",onClick:()=>(e=>{d(e),c(!0)})(e),children:(0,$.jsx)(bf,{fontSize:"small"})}),(0,$.jsx)(In,{size:"small",onClick:()=>{return t=e.id,void v(e=>new Set(e).add(t));var t},children:(0,$.jsx)(Zf,{fontSize:"small"})})]})]}),(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:e.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),(0,$.jsxs)(le,{sx:{mb:2},children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,$.jsx)(Ce,{variant:"caption",color:"text.secondary",children:"Progression"}),(0,$.jsxs)(Ce,{variant:"caption",color:"primary",children:[e.progress,"%"]})]}),(0,$.jsx)(ia,{variant:"determinate",value:e.progress,sx:{height:6,borderRadius:1}})]}),(0,$.jsxs)(le,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:[(0,$.jsx)(ys,{label:"Niveau ".concat(e.targetLevel),size:"small",variant:"outlined"}),(0,$.jsx)(ys,{label:"~".concat(e.estimatedWeeks," semaines"),size:"small",variant:"outlined"})]}),(0,$.jsx)(le,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:2},children:e.exerciseTypes.map((e,t)=>(0,$.jsx)(ys,{label:e,size:"small"},t))}),(0,$.jsx)(dn,{variant:"contained",fullWidth:!0,startIcon:(0,$.jsx)(Rh,{}),disabled:e.completed,type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("\ud83d\uddb1\ufe0f \xc9V\xc9NEMENT CLIC D\xc9TECT\xc9 pour l'objectif:",e.id,e.title),w(e)},onMouseDown:t=>{t.stopPropagation(),console.log("\ud83d\uddb1\ufe0f MouseDown d\xe9tect\xe9 pour l'objectif:",e.id)},sx:{cursor:e.completed?"not-allowed":"pointer","&:hover":{backgroundColor:e.completed?"action.disabled":"primary.dark"}},children:e.completed?"Compl\xe9t\xe9":"Commencer"})]})})},e.id))}),(0,$.jsxs)(Df,{open:l,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[(0,$.jsx)(Uf,{children:"Modifier l'objectif"}),(0,$.jsx)(Gf,{children:u&&(0,$.jsxs)(le,{sx:{pt:2,display:"flex",flexDirection:"column",gap:2},children:[(0,$.jsx)(Vu,{label:"Titre",fullWidth:!0,value:u.title,onChange:e=>d((0,o.A)((0,o.A)({},u),{},{title:e.target.value}))}),(0,$.jsx)(Vu,{label:"Description",fullWidth:!0,multiline:!0,rows:3,value:u.description,onChange:e=>d((0,o.A)((0,o.A)({},u),{},{description:e.target.value}))}),(0,$.jsxs)(Sa,{fullWidth:!0,children:[(0,$.jsx)(La,{children:"Priorit\xe9"}),(0,$.jsxs)(Rc,{value:u.priority,label:"Priorit\xe9",onChange:e=>d((0,o.A)((0,o.A)({},u),{},{priority:e.target.value})),children:[(0,$.jsx)(Fc,{value:"high",children:"Haute"}),(0,$.jsx)(Fc,{value:"medium",children:"Moyenne"}),(0,$.jsx)(Fc,{value:"low",children:"Basse"})]})]}),(0,$.jsx)(Vu,{label:"Dur\xe9e estim\xe9e (semaines)",type:"number",fullWidth:!0,value:u.estimatedWeeks,onChange:e=>d((0,o.A)((0,o.A)({},u),{},{estimatedWeeks:parseInt(e.target.value)||0}))})]})}),(0,$.jsxs)(Yf,{children:[(0,$.jsx)(dn,{onClick:()=>c(!1),children:"Annuler"}),(0,$.jsx)(dn,{onClick:()=>{u&&(m(e=>e.find(e=>e.id===u.id)?e.map(e=>e.id===u.id?u:e):[...e,u]),c(!1),d(null))},variant:"contained",children:"Enregistrer"})]})]})]}):(0,$.jsx)(Ms,{severity:"info",children:"Veuillez d'abord compl\xe9ter l'\xe9valuation de niveau."})};function tm(e){return re("MuiInputAdornment",e)}const nm=oe("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var rm;const om=["children","className","component","disablePointerEvents","disableTypography","position","variant"],im=fe("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat(we(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{["&.".concat(nm.positionStart,"&:not(.").concat(nm.hiddenLabel,")")]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})}),sm=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiInputAdornment"}),{children:o,className:a,component:l="div",disablePointerEvents:c=!1,disableTypography:u=!1,position:d,variant:h}=r,p=(0,s.A)(r,om),f=ka()||{};let m=h;h&&f.variant,f&&!m&&(m=f.variant);const g=(0,i.A)({},r,{hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:c,position:d,variant:m}),v=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:s}=e;return ce({root:["root",n&&"disablePointerEvents",o&&"position".concat(we(o)),s,r&&"hiddenLabel",i&&"size".concat(we(i))]},tm,t)})(g);return(0,$.jsx)(ya.Provider,{value:null,children:(0,$.jsx)(im,(0,i.A)({as:l,ownerState:g,className:W(v.root,a),ref:n},p,{children:"string"!==typeof o||u?(0,$.jsxs)(e.Fragment,{children:["start"===d?rm||(rm=(0,$.jsx)("span",{className:"notranslate",children:"\u200b"})):null,o]}):(0,$.jsx)(Ce,{color:"text.secondary",children:o})}))})});function am(e){return re("MuiLink",e)}const lm=oe("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var cm=n(7162);const um={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},dm=e=>{let{theme:t,ownerState:n}=e;const r=(e=>um[e]||e)(n.color),o=(0,cm.Yn)(t,"palette.".concat(r),!1)||n.color,i=(0,cm.Yn)(t,"palette.".concat(r,"Channel"));return"vars"in t&&i?"rgba(".concat(i," / 0.4)"):(0,p.X4)(o,.4)},hm=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],pm=fe(Ce,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["underline".concat(we(n.underline))],"button"===n.component&&t.button]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,i.A)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:dm({theme:t,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(lm.focusVisible)]:{outline:"auto"}})}),fm=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiLink"}),{className:o,color:a="primary",component:l="a",onBlur:c,onFocus:u,TypographyClasses:d,underline:h="always",variant:p="inherit",sx:f}=r,m=(0,s.A)(r,hm),{isFocusVisibleRef:g,onBlur:v,onFocus:y,ref:b}=bt(),[x,w]=e.useState(!1),S=rt(n,b),E=(0,i.A)({},r,{color:a,component:l,focusVisible:x,underline:h,variant:p}),k=(e=>{const{classes:t,component:n,focusVisible:r,underline:o}=e;return ce({root:["root","underline".concat(we(o)),"button"===n&&"button",r&&"focusVisible"]},am,t)})(E);return(0,$.jsx)(pm,(0,i.A)({color:a,className:W(k.root,o),classes:d,component:l,onBlur:e=>{v(e),!1===g.current&&w(!1),c&&c(e)},onFocus:e=>{y(e),!0===g.current&&w(!0),u&&u(e)},ref:S,ownerState:E,variant:p,sx:[...Object.keys(um).includes(a)?[]:[{color:a}],...Array.isArray(f)?f:[f]]},m))}),mm=ui((0,$.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),gm=ui((0,$.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock"),vm=ui((0,$.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),ym=ui((0,$.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var bm=n(1079);const xm=t=>{let{onSuccess:n,onSwitchToSignup:r,onSwitchToForgotPassword:o}=t;const[i,s]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(""),[p,f]=(0,e.useState)(!1);return(0,$.jsx)(le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100"},children:(0,$.jsx)(Ye,{sx:{maxWidth:450,width:"100%",m:2},children:(0,$.jsxs)(et,{sx:{p:4},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3,fontWeight:"bold"},children:"\ud83c\udf93 AI English Trainer"}),(0,$.jsx)(Ce,{variant:"body1",color:"text.secondary",align:"center",sx:{mb:3},children:"Connectez-vous pour acc\xe9der \xe0 votre programme d'apprentissage"}),d&&(0,$.jsx)(Ms,{severity:"error",sx:{mb:2},children:d}),(0,$.jsxs)(le,{component:"form",onSubmit:async e=>{e.preventDefault(),h(""),f(!0);try{const e=await(0,bm.Lx)(i,a);if(e.success&&e.user){var t;const r=e.user,o={id:r.uid,email:r.email||"",name:r.displayName||(null===(t=r.email)||void 0===t?void 0:t.split("@")[0])||"Utilisateur",emailVerified:r.emailVerified,currentLevel:"B1",targetLevel:"C1",createdAt:(new Date).toISOString(),lastLogin:(new Date).toISOString()},i=await r.getIdToken();localStorage.setItem("token",i),localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("firebaseUser",JSON.stringify({uid:r.uid,email:r.email,displayName:r.displayName})),n(i,o)}else h(e.message||"Erreur de connexion")}catch(r){console.error("Erreur de connexion Firebase:",r);let e="Erreur de connexion. V\xe9rifiez vos identifiants.";if(r.code)switch(r.code){case"auth/user-not-found":e="Aucun compte trouv\xe9 avec cet email. Cr\xe9ez un compte pour commencer.";break;case"auth/wrong-password":e="Mot de passe incorrect.";break;case"auth/invalid-credential":e="Email ou mot de passe incorrect. V\xe9rifiez vos identifiants ou cr\xe9ez un compte.";break;case"auth/invalid-email":e="Adresse email invalide.";break;case"auth/user-disabled":e="Ce compte a \xe9t\xe9 d\xe9sactiv\xe9.";break;case"auth/too-many-requests":e="Trop de tentatives. Veuillez r\xe9essayer plus tard.";break;case"auth/network-request-failed":e="Erreur r\xe9seau. V\xe9rifiez votre connexion internet.";break;default:e=r.message||"Erreur de connexion. Veuillez r\xe9essayer."}else r.message&&(e=r.message);h(e)}finally{f(!1)}},children:[(0,$.jsx)(Vu,{fullWidth:!0,label:"Email",type:"email",value:i,onChange:e=>s(e.target.value),margin:"normal",required:!0,autoComplete:"email",InputProps:{startAdornment:(0,$.jsx)(sm,{position:"start",children:(0,$.jsx)(mm,{})})}}),(0,$.jsx)(Vu,{fullWidth:!0,label:"Mot de passe",type:c?"text":"password",value:a,onChange:e=>l(e.target.value),margin:"normal",required:!0,autoComplete:"current-password",InputProps:{startAdornment:(0,$.jsx)(sm,{position:"start",children:(0,$.jsx)(gm,{})}),endAdornment:(0,$.jsx)(sm,{position:"end",children:(0,$.jsx)(In,{onClick:()=>u(!c),edge:"end",children:c?(0,$.jsx)(vm,{}):(0,$.jsx)(ym,{})})})}}),(0,$.jsx)(dn,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2,py:1.5},disabled:p,children:p?(0,$.jsx)(Dp,{size:24}):"Se connecter"}),(0,$.jsxs)(le,{sx:{textAlign:"center",mt:2},children:[(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Pas encore de compte ?"," ",(0,$.jsx)(fm,{component:"button",variant:"body2",onClick:r,sx:{cursor:"pointer"},children:"S'inscrire"})]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:(0,$.jsx)(fm,{component:"button",variant:"body2",onClick:o,sx:{cursor:"pointer"},children:"Mot de passe oubli\xe9 ?"})})]})]})]})})})},wm=ui((0,$.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),Sm=e=>{let{email:t,onSwitchToLogin:n,onResendEmail:r}=e;return(0,$.jsx)(le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,$.jsx)(Ye,{sx:{maxWidth:600,width:"100%",m:2},children:(0,$.jsxs)(et,{sx:{p:4},children:[(0,$.jsxs)(le,{sx:{textAlign:"center",mb:3},children:[(0,$.jsx)(mm,{sx:{fontSize:64,color:"primary.main",mb:2}}),(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold"},children:"\ud83d\udce7 V\xe9rifiez votre email"})]}),(0,$.jsxs)(Ms,{severity:"info",sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"body1",gutterBottom:!0,children:(0,$.jsx)("strong",{children:"Inscription r\xe9ussie !"})}),(0,$.jsxs)(Ce,{variant:"body2",children:["Un email de v\xe9rification a \xe9t\xe9 envoy\xe9 \xe0 : ",(0,$.jsx)("strong",{children:t})]})]}),(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:"Pour activer votre compte, veuillez :"}),(0,$.jsxs)(le,{component:"ol",sx:{pl:3},children:[(0,$.jsx)("li",{children:(0,$.jsx)(Ce,{variant:"body2",paragraph:!0,children:"Ouvrir votre bo\xeete de r\xe9ception (et le dossier spam si n\xe9cessaire)"})}),(0,$.jsx)("li",{children:(0,$.jsx)(Ce,{variant:"body2",paragraph:!0,children:"Cliquer sur le lien de v\xe9rification dans l'email"})}),(0,$.jsx)("li",{children:(0,$.jsx)(Ce,{variant:"body2",paragraph:!0,children:"Vous serez automatiquement connect\xe9 apr\xe8s v\xe9rification"})})]})]}),r&&(0,$.jsxs)(le,{sx:{mb:3,textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Vous n'avez pas re\xe7u l'email ?"}),(0,$.jsx)(dn,{variant:"outlined",onClick:r,sx:{mb:2},children:"Renvoyer l'email de v\xe9rification"})]}),(0,$.jsxs)(le,{sx:{textAlign:"center",mt:3},children:[(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"D\xe9j\xe0 v\xe9rifi\xe9 votre email ?"}),(0,$.jsx)(dn,{variant:"text",onClick:n,sx:{textTransform:"none"},children:"Me connecter"})]}),(0,$.jsx)(le,{sx:{mt:3,textAlign:"center"},children:(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[(0,$.jsx)("strong",{children:"Note :"})," Le lien de v\xe9rification expire dans 24 heures."]})})]})})})},Em=t=>{let{onSuccess:n,onSwitchToLogin:r}=t;const[o,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(""),[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(""),[h,p]=(0,e.useState)(""),[f,m]=(0,e.useState)(!1),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(""),[x,w]=(0,e.useState)(!1),[S,E]=(0,e.useState)(!1),[k,I]=(0,e.useState)("");e.useEffect(()=>{y&&console.log("\u2705 Erreur dans le state:",y)},[y]);return S?(0,$.jsx)(Sm,{email:k||l,onSwitchToLogin:r,onResendEmail:async()=>{console.log("Renvoyer l'email de v\xe9rification \xe0:",k||l)}}):(0,$.jsx)(le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,$.jsx)(Ye,{sx:{maxWidth:600,width:"100%",m:2},children:(0,$.jsxs)(et,{sx:{p:4},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3,fontWeight:"bold"},children:"\ud83c\udf93 Cr\xe9er un compte"}),(0,$.jsx)(Ce,{variant:"body1",color:"text.secondary",align:"center",sx:{mb:3},children:"Commencez votre parcours vers l'anglais C1"}),y&&(0,$.jsx)(le,{children:(0,$.jsxs)(Ms,{severity:"error",sx:{mb:2,width:"100%",visibility:"visible",opacity:1},onClose:()=>b(""),children:[(0,$.jsx)("strong",{children:"Erreur :"})," ",y]})}),(0,$.jsxs)(le,{component:"form",onSubmit:async e=>{if(e.preventDefault(),e.stopPropagation(),x)return;b("");const t=u.length<8?"Le mot de passe doit contenir au moins 8 caract\xe8res":/(?=.*[a-z])/.test(u)?/(?=.*[A-Z])/.test(u)?/(?=.*\d)/.test(u)?/(?=.*[@$!%*?&])/.test(u)?u!==h?"Les mots de passe ne correspondent pas":"":"Le mot de passe doit contenir au moins un caract\xe8re sp\xe9cial (@$!%*?&)":"Le mot de passe doit contenir au moins un chiffre":"Le mot de passe doit contenir au moins une majuscule":"Le mot de passe doit contenir au moins une minuscule";if(t)b(t);else{w(!0);try{const e="".concat(o," ").concat(s).trim()||l.split("@")[0],t=await(0,bm.DY)(l,u,e);if(t.success&&t.user){const n=t.user;I(l),E(!0),b("");const r={id:n.uid,email:n.email,name:e,firstName:o,lastName:s,emailVerified:!1,currentLevel:"B1",targetLevel:"C1",createdAt:(new Date).toISOString()};localStorage.setItem("pendingUser",JSON.stringify(r)),localStorage.setItem("firebaseUser",JSON.stringify({uid:n.uid,email:n.email,displayName:e}))}else b(t.message||"Erreur d'inscription")}catch(n){console.error("Erreur inscription Firebase:",n);let e="Erreur d'inscription. Veuillez r\xe9essayer.";if(n.code)switch(n.code){case"auth/email-already-in-use":e="Un compte existe d\xe9j\xe0 avec cet email. Essayez de vous connecter.";break;case"auth/invalid-email":e="Adresse email invalide.";break;case"auth/weak-password":e="Le mot de passe est trop faible. Utilisez au moins 6 caract\xe8res.";break;case"auth/operation-not-allowed":e="L'inscription par email/mot de passe n'est pas activ\xe9e. Contactez l'administrateur.";break;case"auth/network-request-failed":e="Erreur r\xe9seau. V\xe9rifiez votre connexion internet.";break;default:e=n.message||"Erreur d'inscription. Veuillez r\xe9essayer."}else n.message&&(e=n.message);b(e)}finally{w(!1)}}},children:[(0,$.jsxs)(Ve,{container:!0,spacing:2,children:[(0,$.jsx)(Ve,{item:!0,xs:12,sm:6,children:(0,$.jsx)(Vu,{fullWidth:!0,label:"Pr\xe9nom",value:o,onChange:e=>i(e.target.value),margin:"normal",InputProps:{startAdornment:(0,$.jsx)(sm,{position:"start",children:(0,$.jsx)(wm,{})})}})}),(0,$.jsx)(Ve,{item:!0,xs:12,sm:6,children:(0,$.jsx)(Vu,{fullWidth:!0,label:"Nom",value:s,onChange:e=>a(e.target.value),margin:"normal",InputProps:{startAdornment:(0,$.jsx)(sm,{position:"start",children:(0,$.jsx)(wm,{})})}})})]}),(0,$.jsx)(Vu,{fullWidth:!0,label:"Email",type:"email",value:l,onChange:e=>c(e.target.value),margin:"normal",required:!0,InputProps:{startAdornment:(0,$.jsx)(sm,{position:"start",children:(0,$.jsx)(mm,{})})}}),(0,$.jsx)(Vu,{fullWidth:!0,label:"Mot de passe",type:f?"text":"password",value:u,onChange:e=>d(e.target.value),margin:"normal",required:!0,helperText:"Min. 8 caract\xe8res, 1 majuscule, 1 chiffre, 1 caract\xe8re sp\xe9cial",InputProps:{startAdornment:(0,$.jsx)(sm,{position:"start",children:(0,$.jsx)(gm,{})}),endAdornment:(0,$.jsx)(sm,{position:"end",children:(0,$.jsx)(In,{onClick:()=>m(!f),edge:"end",children:f?(0,$.jsx)(vm,{}):(0,$.jsx)(ym,{})})})}}),(0,$.jsx)(Vu,{fullWidth:!0,label:"Confirmer le mot de passe",type:g?"text":"password",value:h,onChange:e=>p(e.target.value),margin:"normal",required:!0,InputProps:{startAdornment:(0,$.jsx)(sm,{position:"start",children:(0,$.jsx)(gm,{})}),endAdornment:(0,$.jsx)(sm,{position:"end",children:(0,$.jsx)(In,{onClick:()=>v(!g),edge:"end",children:g?(0,$.jsx)(vm,{}):(0,$.jsx)(ym,{})})})}}),(0,$.jsx)(dn,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2,py:1.5},disabled:x,children:x?(0,$.jsx)(Dp,{size:24}):"S'inscrire"}),(0,$.jsx)(le,{sx:{textAlign:"center",mt:2},children:(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:["D\xe9j\xe0 un compte ?"," ",(0,$.jsx)(fm,{component:"button",variant:"body2",onClick:r,sx:{cursor:"pointer"},children:"Se connecter"})]})})]})]})})})},km=t=>{let{onSwitchToLogin:n,onSuccess:r}=t;const[o,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(""),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(""),[h,p]=(0,e.useState)(!1);return(0,$.jsx)(le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,$.jsx)(Ye,{sx:{maxWidth:500,width:"100%",m:2},children:(0,$.jsxs)(et,{sx:{p:4},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3,fontWeight:"bold"},children:"\ud83d\udd12 R\xe9initialisation de mot de passe"}),s&&(0,$.jsx)(Ms,{severity:"error",sx:{mb:2},children:s}),u&&(0,$.jsx)(Ms,{severity:"success",sx:{mb:2},children:u}),h?(0,$.jsxs)(le,{sx:{textAlign:"center"},children:[(0,$.jsx)(ha,{sx:{fontSize:64,color:"success.main",mb:2}}),(0,$.jsxs)(Ce,{variant:"body1",color:"text.secondary",sx:{mb:2},children:["Un email de r\xe9initialisation a \xe9t\xe9 envoy\xe9 \xe0 ",(0,$.jsx)("strong",{children:o})]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Cliquez sur le lien dans l'email pour r\xe9initialiser votre mot de passe. Le lien est valide pendant 1 heure."}),(0,$.jsx)(dn,{fullWidth:!0,variant:"outlined",onClick:()=>{p(!1),i(""),d("")},sx:{mb:2},children:"Envoyer un autre email"}),(0,$.jsx)(dn,{fullWidth:!0,variant:"text",onClick:n,children:"Retour \xe0 la connexion"})]}):(0,$.jsxs)(le,{component:"form",onSubmit:async e=>{e.preventDefault(),a(""),d(""),c(!0);try{const e=await(0,bm.xw)(o);e.success?(d("Un email de r\xe9initialisation a \xe9t\xe9 envoy\xe9. V\xe9rifiez votre bo\xeete de r\xe9ception et cliquez sur le lien pour r\xe9initialiser votre mot de passe."),p(!0)):a(e.message||"Erreur lors de la demande de r\xe9initialisation")}catch(t){console.error("Erreur r\xe9initialisation Firebase:",t);let e="Erreur lors de la demande de r\xe9initialisation.";if(t.code)switch(t.code){case"auth/user-not-found":return d("Si cet email existe, un lien de r\xe9initialisation a \xe9t\xe9 envoy\xe9. V\xe9rifiez votre bo\xeete de r\xe9ception."),p(!0),void c(!1);case"auth/invalid-email":e="Adresse email invalide.";break;case"auth/network-request-failed":e="Erreur r\xe9seau. V\xe9rifiez votre connexion internet.";break;default:e=t.message||"Erreur lors de la demande de r\xe9initialisation."}else t.message&&(e=t.message);a(e)}finally{c(!1)}},children:[(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Entrez votre adresse email. Nous vous enverrons un lien pour r\xe9initialiser votre mot de passe."}),(0,$.jsx)(Vu,{fullWidth:!0,label:"Email",type:"email",value:o,onChange:e=>i(e.target.value),margin:"normal",required:!0,disabled:l,InputProps:{startAdornment:(0,$.jsx)(mm,{sx:{mr:1,color:"text.secondary"}})}}),(0,$.jsx)(dn,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2,py:1.5},disabled:l,children:l?(0,$.jsx)(Dp,{size:24}):"Envoyer le lien de r\xe9initialisation"}),(0,$.jsx)(le,{sx:{textAlign:"center",mt:2},children:(0,$.jsx)(fm,{component:"button",variant:"body2",onClick:n,sx:{cursor:"pointer"},children:"Retour \xe0 la connexion"})})]})]})})})},Im=ui((0,$.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),Am=t=>{let{onSuccess:n,onSwitchToLogin:r}=t;const{login:o}=us(),[i,s]=(0,e.useState)("loading"),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{if(d||"loading"!==i)return;(async()=>{h(!0);try{const t=new URLSearchParams(window.location.search),r=t.get("mode"),i=t.get("oobCode");if(!i){const e=Zi.j2.currentUser;if(e&&e.emailVerified)return s("success"),void l("Votre email est d\xe9j\xe0 v\xe9rifi\xe9. Vous \xeates connect\xe9.");if(e&&!e.emailVerified){try{await(0,wi.gA)(e),s("error"),u("Un nouvel email de v\xe9rification a \xe9t\xe9 envoy\xe9. V\xe9rifiez votre bo\xeete de r\xe9ception.")}catch(c){s("error"),u("Erreur lors de l'envoi de l'email de v\xe9rification. Veuillez r\xe9essayer.")}return}return s("error"),void u("Lien de v\xe9rification invalide. Veuillez vous connecter ou demander un nouveau lien.")}if("verifyEmail"===r&&i)try{await(0,wi.sB)(Zi.j2,i),await(0,wi.sv)(Zi.j2,i);const t=Zi.j2.currentUser;if(t){await t.reload();const r=await Ji.get($i.PENDING_USER),i=await Ji.get($i.FIREBASE_USER);if(r||i){var e;const i=r||{id:t.uid,email:t.email,name:t.displayName||(null===(e=t.email)||void 0===e?void 0:e.split("@")[0])||"Utilisateur",emailVerified:!0,currentLevel:"B1",targetLevel:"C1",createdAt:(new Date).toISOString()},s=await t.getIdToken();await Ji.setMultiple({[$i.TOKEN]:s,[$i.USER]:i,[$i.FIREBASE_USER]:{uid:t.uid,email:t.email,displayName:t.displayName}}),await Ji.remove($i.PENDING_USER),o&&await o(s,i),n&&n(s,i)}s("success"),l("Email v\xe9rifi\xe9 avec succ\xe8s ! Vous \xeates maintenant connect\xe9.")}else s("error"),u("Aucun utilisateur connect\xe9. Veuillez vous connecter.")}catch(c){console.error("Erreur v\xe9rification email Firebase:",c);let t="Le lien de v\xe9rification est invalide ou a expir\xe9.";"auth/invalid-action-code"===c.code?t="Le lien de v\xe9rification est invalide ou a d\xe9j\xe0 \xe9t\xe9 utilis\xe9.":"auth/expired-action-code"===c.code?t="Le lien de v\xe9rification a expir\xe9. Veuillez demander un nouveau lien.":"auth/user-disabled"===c.code&&(t="Ce compte a \xe9t\xe9 d\xe9sactiv\xe9. Contactez l'administrateur."),s("error"),u(t)}else s("error"),u("Lien de v\xe9rification invalide.")}catch(t){console.error("Erreur v\xe9rification email:",t),s("error"),u(t.message||"Une erreur est survenue lors de la v\xe9rification. Veuillez r\xe9essayer.")}finally{h(!1)}})()},[o,n,d,i]),"loading"===i?(0,$.jsx)(le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100"},children:(0,$.jsx)(Ye,{sx:{maxWidth:500,width:"100%",m:2},children:(0,$.jsxs)(et,{sx:{p:4,textAlign:"center"},children:[(0,$.jsx)(Dp,{sx:{mb:3}}),(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"V\xe9rification de votre email..."}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:"Veuillez patienter"})]})})}):"success"===i?(0,$.jsx)(le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,$.jsx)(Ye,{sx:{maxWidth:500,width:"100%",m:2},children:(0,$.jsxs)(et,{sx:{p:4,textAlign:"center"},children:[(0,$.jsx)(ha,{sx:{fontSize:64,color:"success.main",mb:2}}),(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",mb:2},children:"\u2705 Email v\xe9rifi\xe9 !"}),(0,$.jsx)(Ms,{severity:"success",sx:{mb:3},children:a||"Votre email a \xe9t\xe9 v\xe9rifi\xe9 avec succ\xe8s. Vous pouvez maintenant utiliser toutes les fonctionnalit\xe9s de l'application."}),r&&(0,$.jsx)(dn,{variant:"contained",size:"large",onClick:r,sx:{mt:2},children:"Continuer"})]})})}):(0,$.jsx)(le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,$.jsx)(Ye,{sx:{maxWidth:500,width:"100%",m:2},children:(0,$.jsxs)(et,{sx:{p:4,textAlign:"center"},children:[(0,$.jsx)(Im,{sx:{fontSize:64,color:"error.main",mb:2}}),(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",mb:2},children:"\u274c Erreur de v\xe9rification"}),(0,$.jsx)(Ms,{severity:"error",sx:{mb:3},children:c||"Le lien de v\xe9rification est invalide ou a expir\xe9."}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Que pouvez-vous faire ?"}),(0,$.jsxs)(le,{sx:{display:"flex",flexDirection:"column",gap:2},children:[r&&(0,$.jsx)(dn,{variant:"contained",onClick:r,children:"Me connecter"}),(0,$.jsx)(dn,{variant:"outlined",onClick:()=>window.location.href="/signup",children:"R\xe9essayer l'inscription"})]})]})})})};function Cm(e){return re("MuiStepper",e)}oe("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const Tm=e.createContext({});const jm=Tm,_m=e.createContext({});const Rm=_m;function Pm(e){return re("MuiStepConnector",e)}oe("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const Nm=["className"],Lm=fe("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(e=>{let{ownerState:t}=e;return(0,i.A)({flex:"1 1 auto"},"vertical"===t.orientation&&{marginLeft:12},t.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})}),Om=fe("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.line,t["line".concat(we(n.orientation))]]}})(e=>{let{ownerState:t,theme:n}=e;const r="light"===n.palette.mode?n.palette.grey[400]:n.palette.grey[600];return(0,i.A)({display:"block",borderColor:n.vars?n.vars.palette.StepConnector.border:r},"horizontal"===t.orientation&&{borderTopStyle:"solid",borderTopWidth:1},"vertical"===t.orientation&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),Mm=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiStepConnector"}),{className:o}=r,a=(0,s.A)(r,Nm),{alternativeLabel:l,orientation:c="horizontal"}=e.useContext(jm),{active:u,disabled:d,completed:h}=e.useContext(Rm),p=(0,i.A)({},r,{alternativeLabel:l,orientation:c,active:u,completed:h,disabled:d}),f=(e=>{const{classes:t,orientation:n,alternativeLabel:r,active:o,completed:i,disabled:s}=e;return ce({root:["root",n,r&&"alternativeLabel",o&&"active",i&&"completed",s&&"disabled"],line:["line","line".concat(we(n))]},Pm,t)})(p);return(0,$.jsx)(Lm,(0,i.A)({className:W(f.root,o),ref:n,ownerState:p},a,{children:(0,$.jsx)(Om,{className:f.line,ownerState:p})}))}),Dm=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],Fm=fe("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.nonLinear&&t.nonLinear]}})(e=>{let{ownerState:t}=e;return(0,i.A)({display:"flex"},"horizontal"===t.orientation&&{flexDirection:"row",alignItems:"center"},"vertical"===t.orientation&&{flexDirection:"column"},t.alternativeLabel&&{alignItems:"flex-start"})}),zm=(0,$.jsx)(Mm,{}),Bm=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiStepper"}),{activeStep:o=0,alternativeLabel:a=!1,children:l,className:c,component:u="div",connector:d=zm,nonLinear:h=!1,orientation:p="horizontal"}=r,f=(0,s.A)(r,Dm),m=(0,i.A)({},r,{nonLinear:h,alternativeLabel:a,orientation:p,component:u}),g=(e=>{const{orientation:t,nonLinear:n,alternativeLabel:r,classes:o}=e;return ce({root:["root",t,n&&"nonLinear",r&&"alternativeLabel"]},Cm,o)})(m),v=e.Children.toArray(l).filter(Boolean),y=v.map((t,n)=>e.cloneElement(t,(0,i.A)({index:n,last:n+1===v.length},t.props))),b=e.useMemo(()=>({activeStep:o,alternativeLabel:a,connector:d,nonLinear:h,orientation:p}),[o,a,d,h,p]);return(0,$.jsx)(jm.Provider,{value:b,children:(0,$.jsx)(Fm,(0,i.A)({as:u,ownerState:m,className:W(g.root,c),ref:n},f,{children:y}))})});function Vm(e){return re("MuiStep",e)}oe("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const Um=["active","children","className","component","completed","disabled","expanded","index","last"],qm=fe("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(e=>{let{ownerState:t}=e;return(0,i.A)({},"horizontal"===t.orientation&&{paddingLeft:8,paddingRight:8},t.alternativeLabel&&{flex:1,position:"relative"})}),Wm=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiStep"}),{active:o,children:a,className:l,component:c="div",completed:u,disabled:d,expanded:h=!1,index:p,last:f}=r,m=(0,s.A)(r,Um),{activeStep:g,connector:v,alternativeLabel:y,orientation:b,nonLinear:x}=e.useContext(jm);let[w=!1,S=!1,E=!1]=[o,u,d];g===p?w=void 0===o||o:!x&&g>p?S=void 0===u||u:!x&&g<p&&(E=void 0===d||d);const k=e.useMemo(()=>({index:p,last:f,expanded:h,icon:p+1,active:w,completed:S,disabled:E}),[p,f,h,w,S,E]),I=(0,i.A)({},r,{active:w,orientation:b,alternativeLabel:y,completed:S,disabled:E,expanded:h,component:c}),A=(e=>{const{classes:t,orientation:n,alternativeLabel:r,completed:o}=e;return ce({root:["root",n,r&&"alternativeLabel",o&&"completed"]},Vm,t)})(I),C=(0,$.jsxs)(qm,(0,i.A)({as:c,className:W(A.root,l),ref:n,ownerState:I},m,{children:[v&&y&&0!==p?v:null,a]}));return(0,$.jsx)(Rm.Provider,{value:k,children:v&&!y&&0!==p?(0,$.jsxs)(e.Fragment,{children:[v,C]}):C})}),Hm=ui((0,$.jsx)("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),Gm=ui((0,$.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function Km(e){return re("MuiStepIcon",e)}const Qm=oe("MuiStepIcon",["root","active","completed","error","text"]);var Xm;const Ym=["active","className","completed","error","icon"],$m=fe(ci,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,t)=>t.root})(e=>{let{theme:t}=e;return{display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:(t.vars||t).palette.text.disabled,["&.".concat(Qm.completed)]:{color:(t.vars||t).palette.primary.main},["&.".concat(Qm.active)]:{color:(t.vars||t).palette.primary.main},["&.".concat(Qm.error)]:{color:(t.vars||t).palette.error.main}}}),Jm=fe("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,t)=>t.text})(e=>{let{theme:t}=e;return{fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily}}),Zm=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiStepIcon"}),{active:r=!1,className:o,completed:a=!1,error:l=!1,icon:c}=n,u=(0,s.A)(n,Ym),d=(0,i.A)({},n,{active:r,completed:a,error:l}),h=(e=>{const{classes:t,active:n,completed:r,error:o}=e;return ce({root:["root",n&&"active",r&&"completed",o&&"error"],text:["text"]},Km,t)})(d);if("number"===typeof c||"string"===typeof c){const e=W(o,h.root);return l?(0,$.jsx)($m,(0,i.A)({as:Gm,className:e,ref:t,ownerState:d},u)):a?(0,$.jsx)($m,(0,i.A)({as:Hm,className:e,ref:t,ownerState:d},u)):(0,$.jsxs)($m,(0,i.A)({className:e,ref:t,ownerState:d},u,{children:[Xm||(Xm=(0,$.jsx)("circle",{cx:"12",cy:"12",r:"12"})),(0,$.jsx)(Jm,{className:h.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:d,children:c})]}))}return c});function eg(e){return re("MuiStepLabel",e)}const tg=oe("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),ng=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],rg=fe("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation]]}})(e=>{let{ownerState:t}=e;return(0,i.A)({display:"flex",alignItems:"center",["&.".concat(tg.alternativeLabel)]:{flexDirection:"column"},["&.".concat(tg.disabled)]:{cursor:"default"}},"vertical"===t.orientation&&{textAlign:"left",padding:"8px 0"})}),og=fe("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,t)=>t.label})(e=>{let{theme:t}=e;return(0,i.A)({},t.typography.body2,{display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),["&.".concat(tg.active)]:{color:(t.vars||t).palette.text.primary,fontWeight:500},["&.".concat(tg.completed)]:{color:(t.vars||t).palette.text.primary,fontWeight:500},["&.".concat(tg.alternativeLabel)]:{marginTop:16},["&.".concat(tg.error)]:{color:(t.vars||t).palette.error.main}})}),ig=fe("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,t)=>t.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,["&.".concat(tg.alternativeLabel)]:{paddingRight:0}})),sg=fe("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(e=>{let{theme:t}=e;return{width:"100%",color:(t.vars||t).palette.text.secondary,["&.".concat(tg.alternativeLabel)]:{textAlign:"center"}}}),ag=e.forwardRef(function(t,n){var r;const o=be({props:t,name:"MuiStepLabel"}),{children:a,className:l,componentsProps:c={},error:u=!1,icon:d,optional:h,slotProps:p={},StepIconComponent:f,StepIconProps:m}=o,g=(0,s.A)(o,ng),{alternativeLabel:v,orientation:y}=e.useContext(jm),{active:b,disabled:x,completed:w,icon:S}=e.useContext(Rm),E=d||S;let k=f;E&&!k&&(k=Zm);const I=(0,i.A)({},o,{active:b,alternativeLabel:v,completed:w,disabled:x,error:u,orientation:y}),A=(e=>{const{classes:t,orientation:n,active:r,completed:o,error:i,disabled:s,alternativeLabel:a}=e;return ce({root:["root",n,i&&"error",s&&"disabled",a&&"alternativeLabel"],label:["label",r&&"active",o&&"completed",i&&"error",s&&"disabled",a&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",o&&"completed",i&&"error",s&&"disabled",a&&"alternativeLabel"],labelContainer:["labelContainer",a&&"alternativeLabel"]},eg,t)})(I),C=null!=(r=p.label)?r:c.label;return(0,$.jsxs)(rg,(0,i.A)({className:W(A.root,l),ref:n,ownerState:I},g,{children:[E||k?(0,$.jsx)(ig,{className:A.iconContainer,ownerState:I,children:(0,$.jsx)(k,(0,i.A)({completed:w,active:b,error:u,icon:E},m))}):null,(0,$.jsxs)(sg,{className:A.labelContainer,ownerState:I,children:[a?(0,$.jsx)(og,(0,i.A)({ownerState:I},C,{className:W(A.label,null==C?void 0:C.className),children:a})):null,h]})]}))});ag.muiName="StepLabel";const lg=ag,cg=ui((0,$.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),ug=e=>{const{level:t,isCorrect:n,correctAnswer:r,grammarFocus:o,customExplanation:i,userAnswer:s}=e,a={A1:{present_simple:{rule:"Present Simple (Pr\xe9sent simple)",explanation:"Le pr\xe9sent simple est utilis\xe9 pour parler de choses qui sont toujours vraies, de faits g\xe9n\xe9raux, ou d'actions qui se r\xe9p\xe8tent r\xe9guli\xe8rement. C'est la base de la communication en anglais.",structure:"Structure affirmative :\n\u2022 I/You/We/They + verbe base\n\u2022 He/She/It + verbe + 's' ou 'es'\n\nStructure interrogative :\n\u2022 Do/Does + sujet + verbe base\n\u2022 Exemple : 'Do you work?' / 'Does she work?'\n\nStructure n\xe9gative :\n\u2022 Don't/Doesn't + verbe base\n\u2022 Exemple : 'I don't work' / 'She doesn't work'",examples:["I am a developer. (Je suis d\xe9veloppeur)","She writes code every day. (Elle \xe9crit du code tous les jours)","We use computers at work. (Nous utilisons des ordinateurs au travail)","The server runs 24/7. (Le serveur fonctionne 24/7)","Do you understand? (Comprenez-vous ?)"],commonMistakes:["\u274c 'I is a developer' \u2192 \u2705 'I am a developer' (am avec I, is avec he/she/it)","\u274c 'she work every day' \u2192 \u2705 'she works every day' (ajouter 's' \xe0 la 3e personne)","\u274c 'they is working' \u2192 \u2705 'they are working' (are avec we/you/they)","\u274c 'Does you work?' \u2192 \u2705 'Do you work?' (do avec you/we/they)"],tips:["Pour la 3e personne du singulier (he, she, it), ajoutez toujours 's' ou 'es' au verbe","R\xe8gles d'ajout de 's' : verbe normal + 's', verbe finissant par -s/-sh/-ch/-x/-o + 'es'","Les verbes irr\xe9guliers 'be' et 'have' ont leurs propres formes","Utilisez 'am' avec 'I', 'is' avec 'he/she/it', 'are' avec 'we/you/they'","Pour les questions, utilisez 'do' avec I/you/we/they et 'does' avec he/she/it"],vocabulary:[{word:"developer",definition:"d\xe9veloppeur, d\xe9veloppeuse"},{word:"work",definition:"travail, travailler"},{word:"code",definition:"code (informatique)"},{word:"computer",definition:"ordinateur"},{word:"server",definition:"serveur"}]},present_continuous:{rule:"Present Continuous (Pr\xe9sent continu)",explanation:"Le pr\xe9sent continu exprime une action en cours au moment pr\xe9sent ou une action temporaire.",structure:"Structure affirmative :\n\u2022 I am + verb-ing\n\u2022 He/She/It is + verb-ing\n\u2022 You/We/They are + verb-ing\n\nStructure interrogative :\n\u2022 Am/Is/Are + sujet + verb-ing\n\u2022 Exemple : 'Are you working?' / 'Is she coding?'\n\nStructure n\xe9gative :\n\u2022 Am/Is/Are + not + verb-ing\n\u2022 Exemple : 'I am not working' / 'She isn't coding'",examples:["I am working on a project. (Je travaille sur un projet)","She is writing code now. (Elle \xe9crit du code maintenant)","We are testing the application. (Nous testons l'application)","Are you debugging? (\xcates-vous en train de d\xe9boguer ?)"],commonMistakes:["\u274c 'I work now' \u2192 \u2705 'I am working now' (action en cours)","\u274c 'She write code' \u2192 \u2705 'She is writing code' (pr\xe9sent continu)","\u274c 'They are work' \u2192 \u2705 'They are working' (verbe-ing requis)"],tips:["Utilisez le pr\xe9sent continu pour les actions en cours","Forme : be (am/is/are) + verbe-ing","Indicateurs temporels : now, at the moment, currently"],vocabulary:[{word:"to work",definition:"travailler"},{word:"to code",definition:"coder, programmer"},{word:"to test",definition:"tester"},{word:"now",definition:"maintenant"}]},articles:{rule:"Articles (a/an/the)",explanation:"Les articles d\xe9finissent ou g\xe9n\xe9ralisent les noms.",structure:"Articles ind\xe9finis :\n\u2022 a + nom commen\xe7ant par consonne : 'a developer', 'a computer'\n\u2022 an + nom commen\xe7ant par voyelle : 'an application', 'an error'\n\nArticle d\xe9fini :\n\u2022 the + nom sp\xe9cifique : 'the project', 'the code'\n\nPas d'article :\n\u2022 Noms pluriels g\xe9n\xe9raux : 'developers', 'computers'",examples:["I am a developer. (Je suis d\xe9veloppeur)","She is an engineer. (Elle est ing\xe9nieur)","The code is working. (Le code fonctionne)","Developers use computers. (Les d\xe9veloppeurs utilisent des ordinateurs)"],commonMistakes:["\u274c 'I am developer' \u2192 \u2705 'I am a developer' (article requis)","\u274c 'an computer' \u2192 \u2705 'a computer' (consonne)","\u274c 'the developers' (g\xe9n\xe9ral) \u2192 \u2705 'developers' (pas d'article)"],tips:["Utilisez 'a' avant une consonne, 'an' avant une voyelle","Utilisez 'the' pour quelque chose de sp\xe9cifique","Pas d'article pour les pluriels g\xe9n\xe9raux"],vocabulary:[{word:"a",definition:"un, une (article ind\xe9fini)"},{word:"an",definition:"un, une (article ind\xe9fini devant voyelle)"},{word:"the",definition:"le, la, les (article d\xe9fini)"}]},basic_vocabulary:{rule:"Vocabulaire de base IT",explanation:"Mots et expressions essentielles pour parler de votre travail dans l'informatique.",structure:"Vocabulaire technique de base",vocabulary:[{word:"developer",definition:"d\xe9veloppeur, d\xe9veloppeuse"},{word:"programmer",definition:"programmeur, programmeuse"},{word:"computer",definition:"ordinateur"},{word:"code",definition:"code (informatique)"},{word:"software",definition:"logiciel"},{word:"application",definition:"application"},{word:"work",definition:"travail, travailler"},{word:"project",definition:"projet"}],examples:["I am a developer. (Je suis d\xe9veloppeur)","I write code. (J'\xe9cris du code)","I use a computer. (J'utilise un ordinateur)","This is my project. (C'est mon projet)"],tips:["M\xe9morisez le vocabulaire technique de votre domaine","Pratiquez en utilisant ces mots dans des phrases simples","Les mots techniques sont souvent similaires en fran\xe7ais et en anglais"]},technical_vocabulary:{rule:"Vocabulaire technique A1",explanation:"Vocabulaire technique de base pour d\xe9buter en IT.",vocabulary:[{word:"computer",definition:"ordinateur"},{word:"keyboard",definition:"clavier"},{word:"screen",definition:"\xe9cran"},{word:"mouse",definition:"souris"},{word:"internet",definition:"internet"},{word:"website",definition:"site web"}],examples:["I use a computer. (J'utilise un ordinateur)","The screen is large. (L'\xe9cran est grand)","I browse the internet. (Je navigue sur internet)"]}},A2:{present_perfect:{rule:"Present Perfect (Pr\xe9sent parfait)",explanation:"Le pr\xe9sent parfait exprime une action commenc\xe9e dans le pass\xe9 et qui continue maintenant, une action r\xe9cente avec un r\xe9sultat pr\xe9sent, ou une exp\xe9rience de vie. Il fait le lien entre le pass\xe9 et le pr\xe9sent.",structure:"Structure affirmative :\n\u2022 I/You/We/They + have + past participle\n\u2022 He/She/It + has + past participle\n\nStructure interrogative :\n\u2022 Have/Has + sujet + past participle\n\u2022 Exemple : 'Have you finished?' / 'Has she arrived?'\n\nStructure n\xe9gative :\n\u2022 Haven't/Hasn't + past participle\n\u2022 Exemple : 'I haven't finished' / 'She hasn't arrived'\n\nIndicateurs temporels :\n\u2022 For + dur\xe9e : 'for two years', 'for a long time'\n\u2022 Since + point de d\xe9part : 'since 2020', 'since Monday'\n\u2022 Already, yet, just, ever, never",examples:["I have worked here for two years. (Je travaille ici depuis deux ans)","She has learned English. (Elle a appris l'anglais - r\xe9sultat pr\xe9sent)","We have finished the project. (Nous avons fini le projet - action r\xe9cente)","Have you seen this bug? (Avez-vous vu ce bug ?)","The system has been running since this morning. (Le syst\xe8me fonctionne depuis ce matin)"],commonMistakes:["\u274c 'I have went' \u2192 \u2705 'I have gone' (toujours past participle avec have/has)","\u274c 'she have done' \u2192 \u2705 'she has done' (has avec he/she/it)","\u274c 'I work here for 2 years' \u2192 \u2705 'I have worked here for 2 years' (action continue)","\u274c 'I finished the code yesterday' (\u2705 correct si action termin\xe9e) vs 'I have finished the code' (\u2705 correct si r\xe9sultat pr\xe9sent)"],tips:["Utilisez 'for' pour une dur\xe9e : 'for 2 years', 'for a week'","Utilisez 'since' pour un point de d\xe9part : 'since 2020', 'since Monday'","Le present perfect met l'accent sur le r\xe9sultat pr\xe9sent, le past simple sur l'action pass\xe9e","Les verbes irr\xe9guliers : go \u2192 gone, see \u2192 seen, do \u2192 done, write \u2192 written"],vocabulary:[{word:"to finish",definition:"finir, terminer"},{word:"to deploy",definition:"d\xe9ployer, mettre en production"},{word:"to complete",definition:"compl\xe9ter, achever"},{word:"already",definition:"d\xe9j\xe0"},{word:"yet",definition:"encore, toujours (n\xe9gatif/question)"}]},past_simple:{rule:"Past Simple (Pass\xe9 simple)",explanation:"Le pass\xe9 simple d\xe9crit une action termin\xe9e dans le pass\xe9, \xe0 un moment pr\xe9cis. Il est souvent accompagn\xe9 d'indicateurs temporels pr\xe9cis.",structure:"Structure affirmative :\n\u2022 Sujet + verbe-ed (verbes r\xe9guliers)\n\u2022 Sujet + forme irr\xe9guli\xe8re (verbes irr\xe9guliers)\n\nVerbes r\xe9guliers : work \u2192 worked, test \u2192 tested\nVerbes irr\xe9guliers : go \u2192 went, see \u2192 saw, do \u2192 did\n\nStructure interrogative :\n\u2022 Did + sujet + verbe base\n\u2022 Exemple : 'Did you work yesterday?'\n\nStructure n\xe9gative :\n\u2022 Didn't + verbe base\n\u2022 Exemple : 'I didn't work yesterday'\n\nIndicateurs temporels : yesterday, last week, in 2020, ago, when",examples:["I worked on this project yesterday. (J'ai travaill\xe9 sur ce projet hier)","The application was deployed last week. (L'application a \xe9t\xe9 d\xe9ploy\xe9e la semaine derni\xe8re)","She tested the code two days ago. (Elle a test\xe9 le code il y a deux jours)","Did you fix the bug? (Avez-vous corrig\xe9 le bug ?)","We didn't finish on time. (Nous n'avons pas termin\xe9 \xe0 temps)"],commonMistakes:["\u274c 'I work yesterday' \u2192 \u2705 'I worked yesterday' (toujours pass\xe9 avec indicateur temporel)","\u274c 'was deploy' \u2192 \u2705 'was deployed' (past participle dans la voix passive)","\u274c 'Did you worked?' \u2192 \u2705 'Did you work?' (verbe base apr\xe8s did)","\u274c 'I didn't went' \u2192 \u2705 'I didn't go' (verbe base apr\xe8s didn't)"],tips:["Les verbes r\xe9guliers prennent '-ed' au pass\xe9 : work \u2192 worked, test \u2192 tested","Les verbes irr\xe9guliers ont leur propre forme : go \u2192 went, see \u2192 saw, do \u2192 did","Apr\xe8s 'did' ou 'didn't', utilisez toujours le verbe \xe0 la base (sans -ed)","Utilisez le pass\xe9 simple avec des indicateurs temporels pr\xe9cis : yesterday, last week, in 2020"],vocabulary:[{word:"yesterday",definition:"hier"},{word:"last week",definition:"la semaine derni\xe8re"},{word:"ago",definition:"il y a"},{word:"when",definition:"quand (indicateur de temps)"},{word:"to deploy",definition:"d\xe9ployer"}]},future_simple:{rule:"Future Simple (Futur simple)",explanation:"Le futur simple exprime une action future ou une d\xe9cision prise au moment de parler.",structure:"Structure affirmative :\n\u2022 Will + verbe base\n\u2022 Exemple : 'I will work' / 'She will code'\n\nStructure interrogative :\n\u2022 Will + sujet + verbe base\n\u2022 Exemple : 'Will you work?' / 'Will she code?'\n\nStructure n\xe9gative :\n\u2022 Won't + verbe base\n\u2022 Exemple : 'I won't work' / 'She won't code'\n\nForme contract\xe9e : 'll pour will, won't pour will not",examples:["I will deploy the code tomorrow. (Je d\xe9ploierai le code demain)","She will test the application. (Elle testera l'application)","Will you finish on time? (Finirez-vous \xe0 temps ?)","We won't release this version. (Nous ne publierons pas cette version)"],commonMistakes:["\u274c 'I will to work' \u2192 \u2705 'I will work' (pas de 'to' apr\xe8s will)","\u274c 'She will works' \u2192 \u2705 'She will work' (verbe base)","\u274c 'I will working' \u2192 \u2705 'I will work' (verbe base, pas -ing)"],tips:["Will + verbe base (pas de -s, pas de -ing, pas de to)","Utilisez will pour d\xe9cisions spontan\xe9es ou pr\xe9dictions","Forme contract\xe9e : I'll, you'll, he'll, she'll, we'll, they'll"],vocabulary:[{word:"tomorrow",definition:"demain"},{word:"next week",definition:"la semaine prochaine"},{word:"will",definition:"verbe auxiliaire du futur"},{word:"to deploy",definition:"d\xe9ployer"}]},past_continuous:{rule:"Past Continuous (Pass\xe9 continu)",explanation:"Le pass\xe9 continu exprime une action en cours \xe0 un moment pr\xe9cis du pass\xe9.",structure:"Structure affirmative :\n\u2022 I/He/She/It was + verb-ing\n\u2022 You/We/They were + verb-ing\n\nStructure interrogative :\n\u2022 Was/Were + sujet + verb-ing\n\u2022 Exemple : 'Were you working?'\n\nStructure n\xe9gative :\n\u2022 Wasn't/Weren't + verb-ing\n\u2022 Exemple : 'I wasn't working'",examples:["I was coding when the bug appeared. (Je codais quand le bug est apparu)","They were testing the application yesterday. (Ils testaient l'application hier)","Was she working on the project? (Travaillait-elle sur le projet ?)"],commonMistakes:["\u274c 'I was work' \u2192 \u2705 'I was working' (verbe-ing requis)","\u274c 'They was working' \u2192 \u2705 'They were working' (were avec they/we/you)","\u274c 'I were coding' \u2192 \u2705 'I was coding' (was avec I/he/she/it)"],tips:["Utilisez was avec I/he/she/it, were avec you/we/they","Toujours verbe-ing apr\xe8s was/were","Souvent utilis\xe9 avec 'when' ou 'while'"],vocabulary:[{word:"was",definition:"\xe9tait, \xe9tais (pass\xe9 de be)"},{word:"were",definition:"\xe9tiez, \xe9taient (pass\xe9 de be)"},{word:"when",definition:"quand"},{word:"while",definition:"pendant que"}]},comparative_superlative:{rule:"Comparative and Superlative (Comparatif et Superlatif)",explanation:"Le comparatif compare deux \xe9l\xe9ments, le superlatif identifie le plus/moins.",structure:"Comparatif :\n\u2022 Court : adjective + -er + than : 'faster than'\n\u2022 Long : more + adjective + than : 'more efficient than'\n\nSuperlatif :\n\u2022 Court : the + adjective + -est : 'the fastest'\n\u2022 Long : the + most + adjective : 'the most efficient'\n\nExceptions : good \u2192 better/best, bad \u2192 worse/worst",examples:["This code is faster than the old one. (Ce code est plus rapide que l'ancien)","She is the most experienced developer. (Elle est la d\xe9veloppeuse la plus exp\xe9riment\xe9e)","The new version is better. (La nouvelle version est meilleure)"],commonMistakes:["\u274c 'more fast' \u2192 \u2705 'faster' (adjectif court)","\u274c 'the most fast' \u2192 \u2705 'the fastest' (adjectif court)","\u274c 'gooder' \u2192 \u2705 'better' (exception)"],tips:["Adjectifs courts (1-2 syllabes) : +er/+est","Adjectifs longs (3+ syllabes) : more/most","Exceptions importantes : good/better/best, bad/worse/worst"],vocabulary:[{word:"faster",definition:"plus rapide"},{word:"better",definition:"meilleur"},{word:"more efficient",definition:"plus efficace"},{word:"the most",definition:"le plus"}]}},B1:{conditional:{rule:"Conditional (Conditionnel)",explanation:"Le conditionnel exprime une situation hypoth\xe9tique ou une possibilit\xe9.",structure:"If + pr\xe9sent \u2192 futur\n\u2022 'If I have time, I will help' (Si j'ai le temps, j'aiderai)",examples:["If I have time, I will help you.","If you need help, I can assist you.","If the test passes, we can deploy."],commonMistakes:["\u274c 'If I will have' \u2192 \u2705 'If I have'","\u274c 'If you will need' \u2192 \u2705 'If you need'"],tips:["Dans la clause 'if', utilisez le pr\xe9sent, pas le futur","Le futur va dans la clause principale"]},passive_voice:{rule:"Passive Voice (Voix passive)",explanation:"La voix passive met l'accent sur l'action, pas sur qui la fait.",structure:"Be (conjugu\xe9) + past participle\n\u2022 'The code was reviewed' (le code a \xe9t\xe9 r\xe9vis\xe9)\n\u2022 'The app is tested' (l'app est test\xe9e)",examples:["The code was reviewed by the team.","The application is tested regularly.","The bug was fixed yesterday."],commonMistakes:["\u274c 'was review' \u2192 \u2705 'was reviewed'","\u274c 'is testing' \u2192 \u2705 'is tested'"],tips:["Utilisez la voix passive quand l'agent n'est pas important","Toujours utiliser le past participle (verbe-ed ou irr\xe9gulier)","Forme : be (conjugu\xe9) + past participle"],vocabulary:[{word:"to review",definition:"r\xe9viser, examiner"},{word:"to test",definition:"tester"},{word:"to fix",definition:"corriger, r\xe9parer"},{word:"by",definition:"par (agent dans la voix passive)"}]},past_perfect:{rule:"Past Perfect (Plus-que-parfait)",explanation:"Le past perfect exprime une action termin\xe9e avant une autre action dans le pass\xe9.",structure:"Structure affirmative :\n\u2022 Had + past participle\n\u2022 Exemple : 'I had finished' / 'She had deployed'\n\nStructure interrogative :\n\u2022 Had + sujet + past participle\n\u2022 Exemple : 'Had you finished?'\n\nStructure n\xe9gative :\n\u2022 Hadn't + past participle\n\u2022 Exemple : 'I hadn't finished'\n\nUsage : Action 1 (past perfect) \u2192 Action 2 (past simple)",examples:["I had finished the code before the meeting. (J'avais fini le code avant la r\xe9union)","She had tested the application when the bug appeared. (Elle avait test\xe9 l'application quand le bug est apparu)","Had you deployed before the deadline? (Aviez-vous d\xe9ploy\xe9 avant la date limite ?)"],commonMistakes:["\u274c 'I had finish' \u2192 \u2705 'I had finished' (past participle requis)","\u274c 'I have finished yesterday' \u2192 \u2705 'I had finished yesterday' (pass\xe9 avant pass\xe9)","\u274c 'She had deploy' \u2192 \u2705 'She had deployed' (past participle)"],tips:["Toujours past participle apr\xe8s had","Utilisez le past perfect pour l'action la plus ancienne","Indicateurs : before, after, when, by the time"],vocabulary:[{word:"before",definition:"avant"},{word:"after",definition:"apr\xe8s"},{word:"by the time",definition:"au moment o\xf9"},{word:"already",definition:"d\xe9j\xe0"}]},second_conditional:{rule:"Second Conditional (Conditionnel type 2)",explanation:"Le second conditional exprime une situation hypoth\xe9tique irr\xe9elle au pr\xe9sent ou futur.",structure:"Structure :\n\u2022 If + past simple \u2192 would/could/might + verbe base\n\u2022 Exemple : 'If I had time, I would help'\n\nInversion formelle :\n\u2022 Were + sujet \u2192 would + verbe base\n\u2022 Exemple : 'Were I you, I would test' (Si j'\xe9tais vous)",examples:["If I had more time, I would write better code. (Si j'avais plus de temps, j'\xe9crirais un meilleur code)","If she were here, she could help. (Si elle \xe9tait l\xe0, elle pourrait aider)","I would deploy if the tests passed. (Je d\xe9ploierais si les tests passaient)"],commonMistakes:["\u274c 'If I would have time' \u2192 \u2705 'If I had time' (pas de would dans la clause if)","\u274c 'If I was you' \u2192 \u2705 'If I were you' (were avec tous les sujets formel)","\u274c 'I would to help' \u2192 \u2705 'I would help' (pas de to apr\xe8s would)"],tips:["If + past simple (pas de would dans la clause if)","Would/could/might + verbe base (pas de to)","Utilis\xe9 pour situations irr\xe9elles ou hypoth\xe9tiques"],vocabulary:[{word:"would",definition:"conditionnel : je ferais"},{word:"could",definition:"pourrait"},{word:"might",definition:"pourrait (possibilit\xe9)"}]},modal_verbs:{rule:"Modal Verbs (Verbes modaux)",explanation:"Les verbes modaux expriment capacit\xe9, permission, obligation, possibilit\xe9.",structure:"Structure : Modal + verbe base (sans 'to')\n\nModaux principaux :\n\u2022 Can : capacit\xe9/permission\n\u2022 Could : capacit\xe9 pass\xe9e/politesse\n\u2022 Must : obligation forte\n\u2022 Should : conseil/obligation faible\n\u2022 May/Might : possibilit\xe9",examples:["I can code in Python. (Je peux coder en Python)","You should test the code. (Vous devriez tester le code)","We must fix this bug. (Nous devons corriger ce bug)","She could help if needed. (Elle pourrait aider si n\xe9cessaire)"],commonMistakes:["\u274c 'I can to code' \u2192 \u2705 'I can code' (pas de to apr\xe8s modal)","\u274c 'She can codes' \u2192 \u2705 'She can code' (verbe base)","\u274c 'You must to test' \u2192 \u2705 'You must test' (pas de to)"],tips:["Toujours verbe base apr\xe8s modaux (pas de -s, pas de -ing, pas de to)","Can = capacit\xe9/permission, Must = obligation forte, Should = conseil","Pas de -s \xe0 la 3e personne avec les modaux"],vocabulary:[{word:"can",definition:"pouvoir (capacit\xe9/permission)"},{word:"must",definition:"devoir (obligation forte)"},{word:"should",definition:"devoir (conseil)"},{word:"could",definition:"pourrait (capacit\xe9 pass\xe9e/politesse)"}]},technical_vocabulary:{rule:"Vocabulaire technique B1",explanation:"Vocabulaire technique interm\xe9diaire pour l'informatique.",vocabulary:[{word:"database",definition:"base de donn\xe9es"},{word:"framework",definition:"framework, cadre de travail"},{word:"API",definition:"Interface de Programmation Applicative"},{word:"backend",definition:"backend, c\xf4t\xe9 serveur"},{word:"frontend",definition:"frontend, c\xf4t\xe9 client"}],examples:["The database stores user data. (La base de donn\xe9es stocke les donn\xe9es utilisateur)","This framework is popular. (Ce framework est populaire)","The API is well documented. (L'API est bien document\xe9e)"]}},B2:{present_perfect_continuous:{rule:"Present Perfect Continuous",explanation:"Exprime une action commenc\xe9e dans le pass\xe9 et qui continue jusqu'\xe0 maintenant, avec emphase sur la dur\xe9e.",structure:"Have/Has + been + verbe-ing\n\u2022 'I have been working' (je travaille depuis...)\n\u2022 'She has been learning' (elle apprend depuis...)",examples:["I have been working on this project for three months.","She has been learning English for five years.","We have been developing this feature since January."],commonMistakes:["\u274c 'have been work' \u2192 \u2705 'have been working'","\u274c 'has been learn' \u2192 \u2705 'has been learning'"],tips:["Emphase sur la dur\xe9e/continuit\xe9","Utilisez 'for' pour une dur\xe9e, 'since' pour un point de d\xe9part"]},modal_perfect:{rule:"Modal Perfect (Could have / Should have)",explanation:"Exprime une possibilit\xe9 ou obligation dans le pass\xe9 qui ne s'est pas r\xe9alis\xe9e.",structure:"Modal + have + past participle\n\u2022 'could have been' (aurait pu \xeatre)\n\u2022 'should have done' (aurait d\xfb faire)",examples:["The vulnerability could have been prevented.","You should have tested the code first.","The bug would have been caught with better tests."],commonMistakes:["\u274c 'could has been' \u2192 \u2705 'could have been'","\u274c 'should has done' \u2192 \u2705 'should have done'"],tips:["Toujours utiliser 'have', pas 'has', apr\xe8s les modaux","Signifie 'c'\xe9tait possible, mais \xe7a n'a pas \xe9t\xe9 fait'","Could have = aurait pu, Should have = aurait d\xfb, Would have = aurait fait"],vocabulary:[{word:"could have",definition:"aurait pu"},{word:"should have",definition:"aurait d\xfb"},{word:"would have",definition:"aurait fait"},{word:"might have",definition:"aurait pu (possibilit\xe9 faible)"}]},past_perfect_continuous:{rule:"Past Perfect Continuous",explanation:"Exprime une action continue dans le pass\xe9 qui s'est termin\xe9e avant une autre action pass\xe9e.",structure:"Structure :\n\u2022 Had been + verb-ing\n\u2022 Exemple : 'I had been working' / 'She had been coding'\n\nUsage : Action continue (had been -ing) \u2192 Action 2 (past simple)",examples:["I had been coding for hours when the bug appeared. (Je codais depuis des heures quand le bug est apparu)","She had been testing the application when it crashed. (Elle testait l'application quand elle a plant\xe9)","We had been working on this feature for weeks before we released it. (Nous travaillions sur cette fonctionnalit\xe9 depuis des semaines avant de la publier)"],commonMistakes:["\u274c 'I had been work' \u2192 \u2705 'I had been working' (verbe-ing requis)","\u274c 'She had be coding' \u2192 \u2705 'She had been coding' (had + been)","\u274c 'They had being working' \u2192 \u2705 'They had been working' (had been)"],tips:["Structure : had + been + verb-ing","Emphase sur la dur\xe9e d'une action pass\xe9e","Utilis\xe9 avec 'for' (dur\xe9e) ou 'when' (moment)"],vocabulary:[{word:"for",definition:"depuis (dur\xe9e)"},{word:"when",definition:"quand"},{word:"before",definition:"avant"}]},reported_speech:{rule:"Reported Speech (Discours indirect)",explanation:"Le discours indirect rapporte ce que quelqu'un a dit sans citer ses mots exacts.",structure:"Changements de temps :\n\u2022 Present \u2192 Past : 'I work' \u2192 'He said he worked'\n\u2022 Will \u2192 Would : 'I will help' \u2192 'She said she would help'\n\u2022 Can \u2192 Could : 'I can code' \u2192 'He said he could code'\n\nVerbes introducteurs : said, told, asked, explained",examples:["He said he was working on the project. (Il a dit qu'il travaillait sur le projet)","She told me she had fixed the bug. (Elle m'a dit qu'elle avait corrig\xe9 le bug)","They asked if we could help. (Ils ont demand\xe9 si nous pouvions aider)"],commonMistakes:["\u274c 'He said he is working' \u2192 \u2705 'He said he was working' (backshift du temps)","\u274c 'She said me' \u2192 \u2705 'She told me' (told avec objet, said sans objet)","\u274c 'They asked me if did I help' \u2192 \u2705 'They asked me if I could help' (ordre normal)"],tips:["Faites le 'backshift' des temps (pr\xe9sent \u2192 pass\xe9)","Utilisez 'told' avec un objet, 'said' sans objet","Ordre normal apr\xe8s 'if' ou 'whether' dans les questions indirectes"],vocabulary:[{word:"said",definition:"a dit"},{word:"told",definition:"a dit \xe0 (avec objet)"},{word:"asked",definition:"a demand\xe9"},{word:"explained",definition:"a expliqu\xe9"}]},relative_clauses:{rule:"Relative Clauses (Propositions relatives)",explanation:"Les propositions relatives ajoutent des informations sur un nom en utilisant qui, que, o\xf9, dont.",structure:"Pronoms relatifs :\n\u2022 Who : personnes (sujet) : 'the developer who wrote this'\n\u2022 Which : choses (sujet/objet) : 'the code which runs'\n\u2022 That : personnes/choses (sujet/objet) : 'the bug that appeared'\n\u2022 Where : lieux : 'the office where I work'\n\u2022 Whose : possession : 'the developer whose code is clean'",examples:["The developer who wrote this code is experienced. (Le d\xe9veloppeur qui a \xe9crit ce code est exp\xe9riment\xe9)","This is the bug that caused the crash. (C'est le bug qui a caus\xe9 le crash)","The office where we work is modern. (Le bureau o\xf9 nous travaillons est moderne)"],commonMistakes:["\u274c 'The developer which wrote' \u2192 \u2705 'The developer who wrote' (who pour personnes)","\u274c 'The code who runs' \u2192 \u2705 'The code which/that runs' (which/that pour choses)","\u274c 'The bug who appeared' \u2192 \u2705 'The bug that/which appeared' (that/which pour choses)"],tips:["Who pour personnes (sujet), whom pour personnes (objet formel)","Which/that pour choses (sujet ou objet)","Where pour lieux, whose pour possession"],vocabulary:[{word:"who",definition:"qui (personnes)"},{word:"which",definition:"qui, que (choses)"},{word:"that",definition:"qui, que (personnes/choses)"},{word:"where",definition:"o\xf9 (lieux)"}]},technical_vocabulary:{rule:"Vocabulaire technique B2",explanation:"Vocabulaire sp\xe9cialis\xe9 avanc\xe9 pour les technologies IT.",vocabulary:[{word:"technical debt",definition:"dette technique"},{word:"deployment",definition:"d\xe9ploiement"},{word:"infrastructure",definition:"infrastructure"},{word:"automation",definition:"automatisation"},{word:"scalability",definition:"scalabilit\xe9"},{word:"microservices",definition:"microservices"}],examples:["Technical debt accumulates over time. (La dette technique s'accumule avec le temps)","The deployment was successful. (Le d\xe9ploiement a r\xe9ussi)","Infrastructure as Code automates provisioning. (L'Infrastructure as Code automatise le provisionnement)"]}},C1:{third_conditional:{rule:"Third Conditional (Conditionnel pass\xe9)",explanation:"Exprime une situation hypoth\xe9tique dans le pass\xe9 et son r\xe9sultat irr\xe9el. L'inversion avec 'Had' rend la phrase plus formelle.",structure:"Had + sujet + past participle \u2192 would have + past participle\n\u2022 'Had I known, I would have acted' (Si j'avais su, j'aurais agi)",examples:["Had the team followed best practices, the breach would not have occurred.","Had I known about the bug, I would have fixed it immediately.","Had we tested properly, the issue would have been caught."],commonMistakes:["\u274c 'If had I known' \u2192 \u2705 'Had I known' (pas de 'if')","\u274c 'would has been' \u2192 \u2705 'would have been'"],tips:["Forme formelle : 'Had' en d\xe9but de phrase (sans 'if')","Niveau C1 - Structure avanc\xe9e","Exprime un regret ou une hypoth\xe8se irr\xe9elle"],exceptions:["La forme avec 'If' est aussi correcte mais moins formelle","'If the team had followed' est \xe9quivalent mais moins \xe9l\xe9gant"]},inversion:{rule:"Inversion (Emphase)",explanation:"L'inversion de l'ordre sujet-verbe est utilis\xe9e pour mettre l'emphase, particuli\xe8rement apr\xe8s des expressions n\xe9gatives ou restrictives.",structure:"Expression restrictive + auxiliaire + sujet + verbe de base\n\u2022 'Not only did it make' (non seulement cela a rendu...)\n\u2022 'Never have I seen' (jamais je n'ai vu...)",examples:["Not only did it make the system more secure, but it also improved performance.","Never have I seen such efficient code.","Rarely do we encounter such issues.","Only then did I realize the problem."],commonMistakes:["\u274c 'Not only it made' \u2192 \u2705 'Not only did it make'","\u274c 'Never I have seen' \u2192 \u2705 'Never have I seen'"],tips:["Niveau C1 - Structure tr\xe8s formelle","Ajoutez un auxiliaire (do/does/did, have/has) apr\xe8s l'expression restrictive","Utilis\xe9 dans l'\xe9crit formel et le discours acad\xe9mique"],exceptions:["L'inversion est optionnelle avec certaines expressions","Peut \xeatre omise dans le langage informel"]},mixed_conditionals:{rule:"Mixed Conditionals (Conditionnels mixtes)",explanation:"Les conditionnels mixtes combinent diff\xe9rents temps pour exprimer des situations complexes reliant pass\xe9 et pr\xe9sent.",structure:"Type 1 : If + past perfect \u2192 would + verbe base\n\u2022 'If I had studied more, I would be better now'\n\nType 2 : If + past simple \u2192 would have + past participle\n\u2022 'If I were you, I would have tested first'",examples:["If I had fixed the bug earlier, the system would be working now. (Si j'avais corrig\xe9 le bug plus t\xf4t, le syst\xe8me fonctionnerait maintenant)","If I were more experienced, I would have caught that error. (Si j'\xe9tais plus exp\xe9riment\xe9, j'aurais attrap\xe9 cette erreur)","If we had deployed yesterday, we wouldn't have this problem today. (Si nous avions d\xe9ploy\xe9 hier, nous n'aurions pas ce probl\xe8me aujourd'hui)"],commonMistakes:["\u274c 'If I had fixed, I would be fixing' \u2192 \u2705 'If I had fixed, I would be' (temps coh\xe9rents)","\u274c 'If I were, I would have be' \u2192 \u2705 'If I were, I would have been' (past participle)"],tips:["Combinez past perfect (action pass\xe9e) avec would + base (situation pr\xe9sente)","Ou combinez past simple (situation pr\xe9sente) avec would have (action pass\xe9e)","Exprime des liens entre pass\xe9 et pr\xe9sent"],exceptions:["Ces structures sont plus rares que les conditionnels standards","Utilis\xe9es principalement dans le langage formel"]},subjunctive:{rule:"Subjunctive Mood (Subjonctif)",explanation:"Le subjonctif exprime des souhaits, des suggestions ou des situations hypoth\xe9tiques, particuli\xe8rement dans des contextes formels.",structure:"Structure :\n\u2022 It is important/recommended that + sujet + verbe base\n\u2022 I suggest/recommend that + sujet + verbe base\n\u2022 If I were you... (pas 'was')\n\nNote : Le verbe au subjonctif reste \xe0 la base, m\xeame \xe0 la 3e personne",examples:["It is important that the code be tested. (Il est important que le code soit test\xe9)","I recommend that he review the code. (Je recommande qu'il r\xe9vise le code)","If I were you, I would deploy. (Si j'\xe9tais vous, je d\xe9ploierais)","I suggest that she fix the bug. (Je sugg\xe8re qu'elle corrige le bug)"],commonMistakes:["\u274c 'It is important that he tests' \u2192 \u2705 'It is important that he test' (subjonctif)","\u274c 'If I was you' \u2192 \u2705 'If I were you' (were au subjonctif)","\u274c 'I recommend that she reviews' \u2192 \u2705 'I recommend that she review' (subjonctif)"],tips:["Verbe base m\xeame \xe0 la 3e personne au subjonctif","Were (pas was) pour tous les sujets avec 'if I were'","Utilis\xe9 apr\xe8s : suggest, recommend, important, essential, necessary"],exceptions:["Le subjonctif est souvent remplac\xe9 par l'indicatif dans le langage informel","Plus courant en anglais am\xe9ricain qu'en anglais britannique"]},advanced_modals:{rule:"Advanced Modal Verbs (Modaux avanc\xe9s)",explanation:"Utilisation avanc\xe9e des modaux pour exprimer des nuances subtiles de possibilit\xe9, obligation et probabilit\xe9.",structure:"Modaux de probabilit\xe9 :\n\u2022 Must : tr\xe8s probable (d\xe9duction)\n\u2022 Might/May : possible\n\u2022 Could : possible mais incertain\n\nModaux pass\xe9s :\n\u2022 Must have + past participle : tr\xe8s probable au pass\xe9\n\u2022 Might/May/Could have + past participle : possible au pass\xe9",examples:["The server must be down. (Le serveur doit \xeatre en panne - d\xe9duction)","She might have forgotten the meeting. (Elle a peut-\xeatre oubli\xe9 la r\xe9union)","This could be a serious bug. (Cela pourrait \xeatre un bug s\xe9rieux)","He must have fixed the code. (Il a d\xfb corriger le code - d\xe9duction pass\xe9e)"],commonMistakes:["\u274c 'She must have forget' \u2192 \u2705 'She must have forgotten' (past participle)","\u274c 'It must be a bug, I'm not sure' \u2192 \u2705 'It might be a bug' (must = certitude)","\u274c 'He can have done' \u2192 \u2705 'He could have done' (can n'a pas de pass\xe9)"],tips:["Must = tr\xe8s probable/d\xe9duction logique","Might/May = possible (might moins certain que may)","Could = possible mais moins probable que might","Must have + past participle pour d\xe9duction pass\xe9e"],exceptions:["Must pour obligation : 'You must test the code'","Must have pour d\xe9duction : 'He must have left' (il a d\xfb partir)"]},advanced_technical_vocabulary:{rule:"Vocabulaire technique avanc\xe9 C1",explanation:"Vocabulaire sp\xe9cialis\xe9 tr\xe8s avanc\xe9 et concepts complexes en IT, IA et DevOps.",vocabulary:[{word:"retrieval-augmented generation",definition:"g\xe9n\xe9ration augment\xe9e par r\xe9cup\xe9ration (RAG)"},{word:"microservices architecture",definition:"architecture microservices"},{word:"fault isolation",definition:"isolation des pannes"},{word:"observability",definition:"observabilit\xe9"},{word:"model drift",definition:"d\xe9rive du mod\xe8le"},{word:"distributed systems",definition:"syst\xe8mes distribu\xe9s"},{word:"event-driven architecture",definition:"architecture orient\xe9e \xe9v\xe9nements"}],examples:["RAG systems combine retrieval with generation. (Les syst\xe8mes RAG combinent r\xe9cup\xe9ration et g\xe9n\xe9ration)","Microservices improve fault isolation. (Les microservices am\xe9liorent l'isolation des pannes)","Observability provides deep insights into system behavior. (L'observabilit\xe9 fournit des insights profonds sur le comportement du syst\xe8me)"]}}},l=(null===o||void 0===o?void 0:o[0])||"basic_vocabulary",c=a[t]||a.B2,u=c[l]||c.basic_vocabulary,d=i?"".concat(i,"\n\n").concat(u.explanation):u.explanation;return(0,$.jsxs)(le,{sx:{mt:2},children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[s?n?(0,$.jsx)(ys,{icon:(0,$.jsx)(ha,{}),label:"Bonne r\xe9ponse \u2705",color:"success"}):(0,$.jsx)(ys,{icon:(0,$.jsx)(Im,{}),label:"R\xe9ponse incorrecte \u274c",color:"error"}):(0,$.jsx)(ys,{icon:(0,$.jsx)(cg,{}),label:"Correction d\xe9taill\xe9e \ud83d\udca1",color:"info"}),(0,$.jsx)(ys,{icon:(0,$.jsx)(pi,{}),label:"Niveau ".concat(t),variant:"outlined"})]}),(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,sx:{fontWeight:"bold",fontSize:"1.1rem"},children:u.rule}),(0,$.jsx)(Ce,{variant:"body2",paragraph:!0,children:d}),u.structure&&(0,$.jsx)(le,{sx:{bgcolor:"grey.100",p:2,borderRadius:1,mb:2},children:(0,$.jsxs)(Ce,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",fontFamily:"monospace"},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),u.structure]})}),u.vocabulary&&u.vocabulary.length>0&&(0,$.jsxs)(le,{sx:{mb:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:(0,$.jsx)("strong",{children:"Vocabulaire :"})}),u.vocabulary.map((e,t)=>(0,$.jsx)(le,{sx:{mb:1},children:(0,$.jsxs)(Ce,{variant:"body2",children:["\u2022 ",(0,$.jsx)("strong",{children:e.word})," : ",e.definition]})},t))]}),u.examples&&u.examples.length>0&&(0,$.jsxs)(le,{sx:{mb:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:(0,$.jsx)("strong",{children:"Exemples :"})}),u.examples.map((e,t)=>(0,$.jsxs)(Ce,{variant:"body2",sx:{mb:.5,fontStyle:"italic"},children:['\u2022 "',e,'"']},t))]}),u.commonMistakes&&u.commonMistakes.length>0&&(0,$.jsxs)(le,{sx:{mb:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:(0,$.jsx)("strong",{children:"\u26a0\ufe0f Erreurs fr\xe9quentes :"})}),u.commonMistakes.map((e,t)=>(0,$.jsx)(Ce,{variant:"body2",sx:{mb:.5},children:e},t))]}),u.tips&&u.tips.length>0&&(0,$.jsxs)(le,{sx:{mb:2,bgcolor:"info.light",p:2,borderRadius:1},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:(0,$.jsx)("strong",{children:"\ud83d\udca1 Conseils :"})}),u.tips.map((e,t)=>(0,$.jsxs)(Ce,{variant:"body2",sx:{mb:.5},children:["\u2022 ",e]},t))]}),u.exceptions&&u.exceptions.length>0&&(0,$.jsxs)(le,{sx:{mb:2,bgcolor:"warning.light",p:2,borderRadius:1},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:(0,$.jsx)("strong",{children:"\u26a0\ufe0f Exceptions ou cas particuliers :"})}),u.exceptions.map((e,t)=>(0,$.jsxs)(Ce,{variant:"body2",sx:{mb:.5},children:["\u2022 ",e]},t))]}),(0,$.jsxs)(le,{sx:{mt:2,bgcolor:n&&s?"success.light":s?"error.light":"info.light",p:2,borderRadius:1},children:[(0,$.jsxs)(Ce,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:"bold",color:n&&s?"success.dark":"text.primary"},children:[(0,$.jsx)("strong",{children:"\u2705 Bonne r\xe9ponse :"}),' "',r,'"']}),s&&(0,$.jsxs)(Ce,{variant:"subtitle2",gutterBottom:!0,sx:{mt:1},children:[(0,$.jsx)("strong",{children:"Votre r\xe9ponse :"}),' "',s,'"',n?(0,$.jsx)(ys,{label:"\u2705 Correcte",color:"success",size:"small",sx:{ml:1}}):(0,$.jsx)(ys,{label:"\u274c Incorrecte",color:"error",size:"small",sx:{ml:1}})]}),!s&&(0,$.jsx)(Ce,{variant:"body2",sx:{mt:1,fontStyle:"italic"},children:"\ud83d\udca1 Aucune r\xe9ponse fournie. Voici la bonne r\xe9ponse avec les explications d\xe9taill\xe9es ci-dessus."})]})]})},dg=t=>{let{testId:n="toeic_b2",level:r,onComplete:i}=t;const[s,a]=(0,e.useState)(null),[l,c]=(0,e.useState)(0),[u,d]=(0,e.useState)(0),[h,p]=(0,e.useState)({}),[f,m]=(0,e.useState)({grammar:0,listening:0,total:0}),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(!1),[x]=(0,e.useState)(()=>Date.now()),[w,S]=(0,e.useState)(0),{speak:E,isSpeaking:k,stop:I}=kf(),{addResponse:A}=us();(0,e.useEffect)(()=>{(async()=>{try{const e=await fetch("/data/toeic_toefl/toeic_all_levels.json"),t=await e.json();let o;o=r?t.tests.find(e=>e.level===r):t.tests.find(e=>e.id===n),o||(o=t.tests[0]),a(o)}catch(Ag){console.error("Erreur chargement test TOEIC:",Ag)}})()},[n,r]),(0,e.useEffect)(()=>{if(!g&&s){const e=setInterval(()=>{S(Math.floor((Date.now()-x)/1e3))},1e3);return()=>clearInterval(e)}},[g,x,s]);const C=null===s||void 0===s?void 0:s.sections[l],T=null===C||void 0===C?void 0:C.questions[u],j=(null===s||void 0===s?void 0:s.sections.reduce((e,t)=>e+t.questions.length,0))||0,_=Object.keys(h).length,R=j>0?_/j*100:0,P=()=>{if(!s)return;let e=0,t=0;s.sections.forEach(n=>{n.questions.forEach(r=>{const o=h[r.id];o&&o.toLowerCase().trim()===r.correctAnswer.toLowerCase().trim()&&("grammar"===n.id?e+=r.points:"listening"===n.id&&(t+=r.points))})});const n=e+t,r={grammar:e,listening:t,total:n};m(r),v(!0);const a=e/s.sections[0].points*100,l=t/s.sections[1].points*100,c=n/s.totalPoints*100;let u;u=c>=85&&a>=70&&l>=80?"C1":c>=70&&a>=60&&l>=70?"B2":c>=50&&a>=50&&l>=50?"B1":"A2",i&&i((0,o.A)((0,o.A)({},r),{},{level:u}))};if(!s)return(0,$.jsx)(le,{sx:{p:3,textAlign:"center"},children:(0,$.jsx)(Ce,{variant:"h6",children:"Chargement du test TOEIC..."})});if(g){const e=f.grammar/s.sections[0].points*100,t=f.listening/s.sections[1].points*100,n=f.total/s.totalPoints*100;let r;return r=n>=85&&e>=70&&t>=80?"C1":n>=70&&e>=60&&t>=70?"B2":n>=50&&e>=50&&t>=50?"B1":"A2",(0,$.jsx)(le,{sx:{p:3},children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\u2705 Vos r\xe9sultats sont pr\xeats"}),(0,$.jsxs)(Ve,{container:!0,spacing:3,sx:{mb:3},children:[(0,$.jsx)(Ve,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"h6",color:"primary",gutterBottom:!0,children:"GRAMMAIRE"}),(0,$.jsxs)(Ce,{variant:"h3",color:"primary",children:[f.grammar," / ",s.sections[0].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[e.toFixed(1),"%"]})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"h6",color:"success.main",gutterBottom:!0,children:"COMPREHENSION AUDIO"}),(0,$.jsxs)(Ce,{variant:"h3",color:"success.main",children:[f.listening," / ",s.sections[1].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[t.toFixed(1),"%"]})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"h6",color:"secondary.main",gutterBottom:!0,children:"TOTAL"}),(0,$.jsxs)(Ce,{variant:"h3",color:"secondary.main",children:[f.total," / ",s.totalPoints," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[n.toFixed(1),"%"]})]})})})]}),(0,$.jsx)(Ye,{sx:{bgcolor:"primary.light",mb:3},children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,children:"NIVEAU DE LANGUE"}),(0,$.jsx)(ys,{label:r,color:"primary",sx:{fontSize:"2rem",height:"auto",py:2,px:3}})]})}),(0,$.jsxs)(le,{sx:{textAlign:"center"},children:[(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,children:["Temps total: ",Math.floor(w/60)," min ",w%60," sec"]}),(0,$.jsx)(dn,{variant:"contained",color:"primary",onClick:()=>b(!0),sx:{mt:2},children:"Voir les analyses d\xe9taill\xe9es"})]})]})})})}if(y&&s)return(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsx)(dn,{variant:"text",onClick:()=>b(!1),sx:{mb:2},children:"\u2190 Retour aux r\xe9sultats"}),(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\ud83d\udcca Analyses de Compr\xe9hension D\xe9taill\xe9es"}),(0,$.jsxs)(Ce,{variant:"h6",gutterBottom:!0,sx:{mb:2},children:["Test : ",s.title]}),s.sections.map((e,t)=>(0,$.jsxs)(le,{sx:{mb:4},children:[(0,$.jsx)(qp,{sx:{mb:2}}),(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,sx:{mb:2},children:e.name}),e.questions.map((t,n)=>{const r=h[t.id],o=!(!r||!t.correctAnswer)&&r.toLowerCase().trim()===t.correctAnswer.toLowerCase().trim();return(0,$.jsx)(Ye,{variant:"outlined",sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,$.jsx)(ys,{label:"Question ".concat(n+1),color:o?"success":"error",variant:o?"filled":"outlined"}),(0,$.jsx)(ys,{label:"".concat(t.points," points"),variant:"outlined"})]}),(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:t.text}),"listening"===e.type&&t.audioText&&(0,$.jsx)(Ms,{severity:"info",sx:{mb:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Audio :"})," ",t.audioText]})}),t.options&&(0,$.jsxs)(le,{sx:{mb:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:"Options :"}),t.options.map((e,n)=>(0,$.jsxs)(Ce,{variant:"body2",sx:{p:1,mb:.5,bgcolor:e===t.correctAnswer?"success.light":e!==r||o?"grey.50":"error.light",borderRadius:1},children:[e===t.correctAnswer&&"\u2705 ",e===r&&!o&&"\u274c ",e]},n))]}),ug({questionId:t.id,level:t.level||s.level||"B2",isCorrect:!!r&&o,questionText:t.text,userAnswer:r||"",correctAnswer:t.correctAnswer,grammarFocus:t.grammarFocus,vocabularyFocus:t.vocabularyFocus,customExplanation:t.explanation})]})},t.id)})]},e.id))]})})]});const N=T&&void 0!==h[T.id];return(0,$.jsx)(le,{sx:{p:3},children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,children:s.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:s.description})]}),(0,$.jsxs)(le,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[(0,$.jsx)(ia,{variant:"determinate",value:R,sx:{flexGrow:1,height:8,borderRadius:4}}),(0,$.jsxs)(Ce,{variant:"body2",children:[_," / ",j]}),(0,$.jsx)(ys,{icon:(0,$.jsx)(ca,{}),label:"".concat(Math.floor(w/60),":").concat(String(w%60).padStart(2,"0")),color:"primary"})]}),(0,$.jsx)(Bm,{activeStep:l,sx:{mb:3},children:s.sections.map((e,t)=>(0,$.jsx)(Wm,{children:(0,$.jsx)(lg,{children:e.name})},e.id))}),T&&(0,$.jsx)(Ye,{variant:"outlined",sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,$.jsx)(ys,{icon:"listening"===(null===C||void 0===C?void 0:C.type)?(0,$.jsx)(yf,{}):(0,$.jsx)(aa,{}),label:"Question ".concat(u+1," / ").concat(C.questions.length),color:"primary"}),(0,$.jsx)(ys,{label:"".concat(T.points," points"),variant:"outlined"})]}),"listening"===(null===C||void 0===C?void 0:C.type)&&T.audioText&&(0,$.jsxs)(le,{sx:{mb:3,textAlign:"center"},children:[(0,$.jsx)(dn,{variant:"outlined",startIcon:k?(0,$.jsx)(_h,{}):(0,$.jsx)(yf,{}),onClick:()=>{null!==T&&void 0!==T&&T.audioText&&(k?I():E(T.audioText))},sx:{mb:2},children:k?"Arr\xeater l'audio":"\xc9couter la question"}),T.audioText&&(0,$.jsx)(Ms,{severity:"info",sx:{mt:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Audio :"})," ",T.audioText]})})]}),(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,sx:{mb:3},children:T.text}),(0,$.jsx)(Sa,{component:"fieldset",fullWidth:!0,children:(0,$.jsx)(Kc,{value:h[T.id]||"",onChange:e=>{return t=T.id,n=e.target.value,void p(e=>(0,o.A)((0,o.A)({},e),{},{[t]:n}));var t,n},children:T.options.map((e,t)=>(0,$.jsx)(lu,{value:e,control:(0,$.jsx)(Cu,{}),label:e,sx:{p:2,mb:1,border:1,borderColor:"grey.300",borderRadius:2,"&:hover":{bgcolor:"grey.50"}}},t))})})]})}),(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,$.jsx)(dn,{variant:"outlined",onClick:()=>{if(u>0)d(e=>e-1);else if(l>0){c(e=>e-1);const e=s.sections[l-1];d(e.questions.length-1)}},disabled:0===l&&0===u,children:"Pr\xe9c\xe9dent"}),(0,$.jsx)(dn,{variant:"contained",onClick:()=>{T&&u<C.questions.length-1?d(e=>e+1):l<s.sections.length-1?(c(e=>e+1),d(0)):P()},disabled:!N,endIcon:_===j?(0,$.jsx)(ha,{}):void 0,children:_===j?"Terminer le test":"Suivant"})]})]})})})},hg=t=>{let{testId:n="toefl_c1",level:r,onComplete:i}=t;const[s,a]=(0,e.useState)(null),[l,c]=(0,e.useState)(0),[u,d]=(0,e.useState)(0),[h,p]=(0,e.useState)({}),[f,m]=(0,e.useState)({reading:0,listening:0,writing:0,total:0}),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(!1),[x]=(0,e.useState)(()=>Date.now()),[w,S]=(0,e.useState)(0),{speak:E,isSpeaking:k,stop:I}=kf(),{addResponse:A}=us();(0,e.useEffect)(()=>{(async()=>{try{const e=await fetch("/data/toeic_toefl/toefl_all_levels.json"),t=await e.json();let o;o=r?t.tests.find(e=>e.level===r):t.tests.find(e=>e.id===n),o||(o=t.tests[0]),a(o)}catch(Ag){console.error("Erreur chargement test TOEFL:",Ag)}})()},[n,r]),(0,e.useEffect)(()=>{if(!g&&s){const e=setInterval(()=>{S(Math.floor((Date.now()-x)/1e3))},1e3);return()=>clearInterval(e)}},[g,x,s]);const C=null===s||void 0===s?void 0:s.sections[l],T=null===C||void 0===C?void 0:C.questions[u],j=(null===s||void 0===s?void 0:s.sections.reduce((e,t)=>e+t.questions.length,0))||0,_=Object.keys(h).length,R=j>0?_/j*100:0,P=(e,t)=>{p(n=>(0,o.A)((0,o.A)({},n),{},{[e]:t}))},N=()=>{if(!s)return;let e=0,t=0,n=0;s.sections.forEach(r=>{r.questions.forEach(o=>{const i=h[o.id];"essay"===o.type?i&&i.length>50&&(n+=.7*o.points):i&&o.correctAnswer&&i.toLowerCase().trim()===o.correctAnswer.toLowerCase().trim()&&("reading"===r.id?e+=o.points:"listening"===r.id&&(t+=o.points))})});const r=e+t+n,a={reading:e,listening:t,writing:n,total:r};m(a),v(!0);const l=r/s.totalPoints*100;let c;c=l>=85?"C1":l>=70?"B2":l>=50?"B1":"A2",i&&i((0,o.A)((0,o.A)({},a),{},{level:c}))};if(!s)return(0,$.jsx)(le,{sx:{p:3,textAlign:"center"},children:(0,$.jsx)(Ce,{variant:"h6",children:"Chargement du test TOEFL..."})});if(g){const e=f.reading/s.sections[0].points*100,t=f.listening/s.sections[1].points*100,n=f.writing/s.sections[2].points*100,r=f.total/s.totalPoints*100;let o;return o=r>=85?"C1":r>=70?"B2":r>=50?"B1":"A2",(0,$.jsx)(le,{sx:{p:3},children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\u2705 Vos r\xe9sultats sont pr\xeats"}),(0,$.jsxs)(Ve,{container:!0,spacing:3,sx:{mb:3},children:[(0,$.jsx)(Ve,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"h6",color:"primary",gutterBottom:!0,children:"READING"}),(0,$.jsxs)(Ce,{variant:"h3",color:"primary",children:[f.reading.toFixed(1)," / ",s.sections[0].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[e.toFixed(1),"%"]})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"h6",color:"success.main",gutterBottom:!0,children:"LISTENING"}),(0,$.jsxs)(Ce,{variant:"h3",color:"success.main",children:[f.listening.toFixed(1)," / ",s.sections[1].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[t.toFixed(1),"%"]})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"h6",color:"secondary.main",gutterBottom:!0,children:"WRITING"}),(0,$.jsxs)(Ce,{variant:"h3",color:"secondary.main",children:[f.writing.toFixed(1)," / ",s.sections[2].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[n.toFixed(1),"%"]})]})})})]}),(0,$.jsx)(Ye,{sx:{bgcolor:"primary.light",mb:3},children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsxs)(Ce,{variant:"h5",gutterBottom:!0,children:["TOTAL: ",f.total.toFixed(1)," / ",s.totalPoints," pts"]}),(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,children:"NIVEAU DE LANGUE"}),(0,$.jsx)(ys,{label:o,color:"primary",sx:{fontSize:"2rem",height:"auto",py:2,px:3}})]})}),(0,$.jsx)(le,{sx:{textAlign:"center"},children:(0,$.jsx)(dn,{variant:"contained",color:"primary",onClick:()=>b(!0),sx:{mt:2},children:"Voir les analyses d\xe9taill\xe9es"})})]})})})}if(y&&s)return(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsx)(dn,{variant:"text",onClick:()=>b(!1),sx:{mb:2},children:"\u2190 Retour aux r\xe9sultats"}),(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\ud83d\udcca Analyses de Compr\xe9hension D\xe9taill\xe9es"}),(0,$.jsxs)(Ce,{variant:"h6",gutterBottom:!0,sx:{mb:2},children:["Test : ",s.title]}),s.sections.map((e,t)=>(0,$.jsxs)(le,{sx:{mb:4},children:[(0,$.jsx)(qp,{sx:{mb:2}}),(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,sx:{mb:2},children:e.name}),e.questions.map((t,n)=>{const r=h[t.id],o="essay"===t.type?!!(r&&r.length>50):!(!r||!t.correctAnswer||r.toLowerCase().trim()!==t.correctAnswer.toLowerCase().trim());return(0,$.jsx)(Ye,{variant:"outlined",sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,$.jsx)(ys,{label:"Question ".concat(n+1),color:o?"success":"error",variant:o?"filled":"outlined"}),(0,$.jsx)(ys,{label:"".concat(t.points," points"),variant:"outlined"})]}),(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:t.text}),"listening"===e.type&&t.audioText&&(0,$.jsx)(Ms,{severity:"info",sx:{mb:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Audio :"})," ",t.audioText]})}),t.options&&(0,$.jsxs)(le,{sx:{mb:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:"Options :"}),t.options.map((e,n)=>(0,$.jsxs)(Ce,{variant:"body2",sx:{p:1,mb:.5,bgcolor:e===t.correctAnswer?"success.light":e!==r||o?"grey.50":"error.light",borderRadius:1},children:[e===t.correctAnswer&&"\u2705 ",e===r&&!o&&"\u274c ",e]},n))]}),"essay"!==t.type&&ug({questionId:t.id,level:t.level||s.level||"C1",isCorrect:!!r&&o,questionText:t.text,userAnswer:r||"",correctAnswer:t.correctAnswer||"",grammarFocus:t.grammarFocus,vocabularyFocus:t.vocabularyFocus,customExplanation:t.explanation}),"essay"===t.type&&r&&(0,$.jsxs)(le,{sx:{mt:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:(0,$.jsx)("strong",{children:"Votre r\xe9ponse :"})}),(0,$.jsx)(Ce,{variant:"body2",sx:{mb:2,p:2,bgcolor:"grey.50",borderRadius:1},children:r}),(0,$.jsx)(Ms,{severity:"info",children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Explication :"})," ",t.explanation]})})]})]})},t.id)})]},e.id))]})})]});const L=T&&("essay"===T.type?h[T.id]&&h[T.id].length>50:void 0!==h[T.id]);return(0,$.jsx)(le,{sx:{p:3},children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,children:s.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:s.description})]}),(0,$.jsxs)(le,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[(0,$.jsx)(ia,{variant:"determinate",value:R,sx:{flexGrow:1,height:8,borderRadius:4}}),(0,$.jsxs)(Ce,{variant:"body2",children:[_," / ",j]}),(0,$.jsx)(ys,{icon:(0,$.jsx)(ca,{}),label:"".concat(Math.floor(w/60),":").concat(String(w%60).padStart(2,"0")),color:"primary"})]}),(0,$.jsx)(Bm,{activeStep:l,sx:{mb:3},children:s.sections.map((e,t)=>(0,$.jsx)(Wm,{children:(0,$.jsx)(lg,{children:e.name})},e.id))}),T&&(0,$.jsx)(Ye,{variant:"outlined",sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,$.jsx)(ys,{icon:"listening"===(null===C||void 0===C?void 0:C.type)?(0,$.jsx)(yf,{}):"writing"===(null===C||void 0===C?void 0:C.type)?(0,$.jsx)(bf,{}):(0,$.jsx)(aa,{}),label:"Question ".concat(u+1," / ").concat(C.questions.length),color:"primary"}),(0,$.jsx)(ys,{label:"".concat(T.points," points"),variant:"outlined"})]}),"listening"===(null===C||void 0===C?void 0:C.type)&&T.audioText&&(0,$.jsxs)(le,{sx:{mb:3,textAlign:"center"},children:[(0,$.jsx)(dn,{variant:"outlined",startIcon:k?(0,$.jsx)(_h,{}):(0,$.jsx)(yf,{}),onClick:()=>{null!==T&&void 0!==T&&T.audioText&&(k?I():E(T.audioText))},sx:{mb:2},children:k?"Arr\xeater l'audio":"\xc9couter la question"}),T.audioText&&(0,$.jsx)(Ms,{severity:"info",sx:{mt:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Audio :"})," ",T.audioText]})})]}),(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,sx:{mb:3},children:T.text}),"essay"===T.type?(0,$.jsx)(Vu,{fullWidth:!0,multiline:!0,rows:8,placeholder:"\xc9crivez votre r\xe9ponse ici (minimum 100 mots recommand\xe9)...",value:h[T.id]||"",onChange:e=>P(T.id,e.target.value),sx:{mb:2}}):T.options?(0,$.jsx)(Sa,{component:"fieldset",fullWidth:!0,children:(0,$.jsx)(Kc,{value:h[T.id]||"",onChange:e=>P(T.id,e.target.value),children:T.options.map((e,t)=>(0,$.jsx)(lu,{value:e,control:(0,$.jsx)(Cu,{}),label:e,sx:{p:2,mb:1,border:1,borderColor:"grey.300",borderRadius:2,"&:hover":{bgcolor:"grey.50"}}},t))})}):null]})}),(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,$.jsx)(dn,{variant:"outlined",onClick:()=>{if(u>0)d(e=>e-1);else if(l>0){c(e=>e-1);const e=s.sections[l-1];d(e.questions.length-1)}},disabled:0===l&&0===u,children:"Pr\xe9c\xe9dent"}),(0,$.jsx)(dn,{variant:"contained",onClick:()=>{T&&u<C.questions.length-1?d(e=>e+1):l<s.sections.length-1?(c(e=>e+1),d(0)):N()},disabled:!L,children:_===j?"Terminer le test":"Suivant"})]})]})})})},pg=()=>/Android/i.test(navigator.userAgent),fg=()=>window.isSecureContext||"https:"===window.location.protocol||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,mg=t=>{let{testId:n="efset_b2",level:r,onComplete:i}=t;const[s,a]=(0,e.useState)(null),[l,c]=(0,e.useState)(0),[u,d]=(0,e.useState)(0),[h,p]=(0,e.useState)("B2"),[f,m]=(0,e.useState)({}),[g,v]=(0,e.useState)({reading:0,listening:0,writing:0,speaking:0,total:0}),[y,b]=(0,e.useState)(!1),[x,w]=(0,e.useState)(!1),[S]=(0,e.useState)(()=>Date.now()),[E,k]=(0,e.useState)(0),{speak:I,isSpeaking:A,stop:C}=kf(),{transcript:T,listening:j,startListening:_,stopListening:R}=(()=>{const t="undefined"!==typeof window&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window)&&fg(),[n,r]=(0,e.useState)(""),[o,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)(0),[l,c]=(0,e.useState)(()=>t?null:fg()?"Votre navigateur ne supporte pas la reconnaissance vocale.":"HTTPS requis pour la reconnaissance vocale. Veuillez utiliser une connexion s\xe9curis\xe9e."),[u,d]=(0,e.useState)(!1),h=(0,e.useRef)(null),p=(0,e.useRef)(null),f=(0,e.useCallback)(async()=>{try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(e=>e.stop()),d(!0),c(null),!0}catch(e){return console.error("Microphone permission error:",e),"NotAllowedError"===e.name||"PermissionDeniedError"===e.name?c("Permission microphone refus\xe9e. Veuillez autoriser l'acc\xe8s au microphone."):"NotFoundError"===e.name?c("Aucun microphone d\xe9tect\xe9 sur votre appareil."):c("Erreur d'acc\xe8s au microphone."),d(!1),!1}},[]);(0,e.useEffect)(()=>{if(!t)return;const e=new(window.SpeechRecognition||window.webkitSpeechRecognition);return e.continuous=!0,e.interimResults=!0,e.lang="en-US",e.maxAlternatives=1,pg()&&(e.continuous=!1),e.onresult=t=>{let n="",i="";for(let e=t.resultIndex;e<t.results.length;e++){const r=t.results[e][0].transcript;if(t.results[e].isFinal){i+=r+" ";const n=t.results[e][0].confidence;a(n?Math.round(100*n):80)}else n+=r}r(e=>{const t=e+i;return n?t+n:t}),pg()&&i&&o&&(p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{try{e.start()}catch(t){}},300))},e.onerror=e=>{switch(console.error("Speech recognition error:",e.error),e.error){case"network":c("Erreur r\xe9seau. V\xe9rifiez votre connexion Internet.");break;case"not-allowed":c("Permission microphone refus\xe9e."),d(!1);break;case"no-speech":c("Aucune parole d\xe9tect\xe9e. R\xe9essayez.");break;case"audio-capture":c("Impossible d'acc\xe9der au microphone.");break;case"aborted":break;default:c("Erreur de reconnaissance: ".concat(e.error))}i(!1)},e.onstart=()=>{c(null),i(!0)},e.onend=()=>{i(!1),p.current&&clearTimeout(p.current)},h.current=e,()=>{if(h.current)try{h.current.stop()}catch(e){}p.current&&clearTimeout(p.current)}},[t,o]);const m=(0,e.useCallback)(async()=>{if(h.current&&!o&&await f())try{try{h.current.stop()}catch(e){}await new Promise(e=>setTimeout(e,100)),h.current.start(),i(!0),c(null)}catch(l){if(console.error("Error starting recognition:",l),"InvalidStateError"===l.name)try{h.current.stop(),setTimeout(()=>{h.current.start()},200)}catch(e){c("Impossible de d\xe9marrer la reconnaissance vocale.")}else c("Erreur lors du d\xe9marrage de la reconnaissance vocale.");i(!1)}},[o,f]),g=(0,e.useCallback)(()=>{if(h.current&&o)try{h.current.stop(),i(!1)}catch(l){console.error("Error stopping recognition:",l)}p.current&&(clearTimeout(p.current),p.current=null)},[o]),v=(0,e.useCallback)(()=>{r(""),a(0),c(null)},[]);return{transcript:n,listening:o,startListening:m,stopListening:g,resetTranscript:v,browserSupportsSpeechRecognition:t,confidence:s,error:l,permissionGranted:u}})(),{addResponse:P}=us();(0,e.useEffect)(()=>{(async()=>{try{var e;const t=await fetch("/data/toeic_toefl/efset_all_levels.json"),o=await t.json();let i;i=r?o.tests.find(e=>e.level===r):o.tests.find(e=>e.id===n),i||(i=o.tests[0]),a(i),null!==(e=i.sections[0])&&void 0!==e&&e.initialLevel?p(i.sections[0].initialLevel):i.level&&p(i.level)}catch(Ag){console.error("Erreur chargement test EF SET:",Ag)}})()},[n,r]),(0,e.useEffect)(()=>{if(!y&&s){const e=setInterval(()=>{k(Math.floor((Date.now()-S)/1e3))},1e3);return()=>clearInterval(e)}},[y,S,s]);const N=(()=>{if(!s)return[];const e=s.sections[l];return e.adaptive?e.questions.filter(e=>e.level===h):e.questions})(),L=null===s||void 0===s?void 0:s.sections[l],O=N[u],M=(null===s||void 0===s?void 0:s.sections.reduce((e,t)=>t.adaptive?e+t.questions.length/2:e+t.questions.length,0))||0,D=Object.keys(f).length,F=M>0?D/M*100:0,z=(e,t)=>{if(m(n=>(0,o.A)((0,o.A)({},n),{},{[e]:t})),O&&O.options){var n;const e=t.toLowerCase().trim()===(null===(n=O.correctAnswer)||void 0===n?void 0:n.toLowerCase().trim());null!==L&&void 0!==L&&L.adaptive&&(e&&O.nextLevel?p(O.nextLevel):!e&&O.wrongLevel&&p(O.wrongLevel))}},B=()=>{if(!s)return;let e=0,t=0,n=0,r=0;s.sections.forEach(o=>{o.questions.forEach(i=>{const s=f[i.id];"essay"===i.type||"speaking"===i.type?s&&s.length>50&&("writing"===o.id?n+=.7*i.points:"speaking"===o.id&&(r+=.7*i.points)):s&&i.correctAnswer&&s.toLowerCase().trim()===i.correctAnswer.toLowerCase().trim()&&("reading"===o.id?e+=i.points:"listening"===o.id&&(t+=i.points))})});const a=e+t+n+r,l={reading:e,listening:t,writing:n,speaking:r,total:a};v(l),b(!0);const c=a/s.totalPoints*100;let u;u=c>=85?"C1":c>=70?"B2":c>=50?"B1":"A2",i&&i((0,o.A)((0,o.A)({},l),{},{level:u}))};if(!s)return(0,$.jsx)(le,{sx:{p:3,textAlign:"center"},children:(0,$.jsx)(Ce,{variant:"h6",children:"Chargement du test EF SET..."})});if(y){const e=g.reading/s.sections[0].points*100,t=g.listening/s.sections[1].points*100,n=g.writing/s.sections[2].points*100,r=g.speaking/s.sections[3].points*100,o=g.total/s.totalPoints*100;let i;return i=o>=85?"C1":o>=70?"B2":o>=50?"B1":"A2",(0,$.jsx)(le,{sx:{p:3},children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\u2705 Vos r\xe9sultats sont pr\xeats"}),(0,$.jsx)(Ce,{variant:"h6",align:"center",color:"text.secondary",sx:{mb:4},children:"Test EF SET - 4 Comp\xe9tences"}),(0,$.jsxs)(Ve,{container:!0,spacing:3,sx:{mb:3},children:[(0,$.jsx)(Ve,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(aa,{sx:{fontSize:40,color:"primary.main",mb:1}}),(0,$.jsx)(Ce,{variant:"h6",color:"primary",gutterBottom:!0,children:"READING"}),(0,$.jsxs)(Ce,{variant:"h3",color:"primary",children:[g.reading.toFixed(1)," / ",s.sections[0].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[e.toFixed(1),"%"]})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(yf,{sx:{fontSize:40,color:"success.main",mb:1}}),(0,$.jsx)(Ce,{variant:"h6",color:"success.main",gutterBottom:!0,children:"LISTENING"}),(0,$.jsxs)(Ce,{variant:"h3",color:"success.main",children:[g.listening.toFixed(1)," / ",s.sections[1].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[t.toFixed(1),"%"]})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(bf,{sx:{fontSize:40,color:"secondary.main",mb:1}}),(0,$.jsx)(Ce,{variant:"h6",color:"secondary.main",gutterBottom:!0,children:"WRITING"}),(0,$.jsxs)(Ce,{variant:"h3",color:"secondary.main",children:[g.writing.toFixed(1)," / ",s.sections[2].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[n.toFixed(1),"%"]})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Fp,{sx:{fontSize:40,color:"warning.main",mb:1}}),(0,$.jsx)(Ce,{variant:"h6",color:"warning.main",gutterBottom:!0,children:"SPEAKING"}),(0,$.jsxs)(Ce,{variant:"h3",color:"warning.main",children:[g.speaking.toFixed(1)," / ",s.sections[3].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[r.toFixed(1),"%"]})]})})})]}),(0,$.jsx)(Ye,{sx:{bgcolor:"primary.light",mb:3},children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,children:"NIVEAU CECR"}),(0,$.jsx)(ys,{label:i,color:"primary",sx:{fontSize:"2rem",height:"auto",py:2,px:3}}),(0,$.jsxs)(Ce,{variant:"h6",sx:{mt:2},children:["Total: ",g.total.toFixed(1)," / ",s.totalPoints," pts (",o.toFixed(1),"%)"]})]})}),(0,$.jsx)(le,{sx:{textAlign:"center"},children:(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,children:["Temps total: ",Math.floor(E/60)," min ",E%60," sec"]})})]})})})}const V=O&&("essay"===O.type||"speaking"===O.type?f[O.id]&&f[O.id].length>50:void 0!==f[O.id]);return(0,$.jsx)(le,{sx:{p:3},children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,children:s.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:s.description}),(null===L||void 0===L?void 0:L.adaptive)&&(0,$.jsx)(ys,{label:"Niveau actuel: ".concat(h),color:"info",sx:{mt:1}})]}),(0,$.jsxs)(le,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[(0,$.jsx)(ia,{variant:"determinate",value:F,sx:{flexGrow:1,height:8,borderRadius:4}}),(0,$.jsxs)(Ce,{variant:"body2",children:[D," / ~",Math.round(M)]}),(0,$.jsx)(ys,{icon:(0,$.jsx)(ca,{}),label:"".concat(Math.floor(E/60),":").concat(String(E%60).padStart(2,"0")),color:"primary"})]}),(0,$.jsx)(Bm,{activeStep:l,sx:{mb:3},children:s.sections.map((e,t)=>(0,$.jsx)(Wm,{children:(0,$.jsx)(lg,{children:e.name})},e.id))}),O&&(0,$.jsx)(Ye,{variant:"outlined",sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,$.jsx)(ys,{icon:"listening"===(null===L||void 0===L?void 0:L.type)?(0,$.jsx)(yf,{}):"writing"===(null===L||void 0===L?void 0:L.type)?(0,$.jsx)(bf,{}):"speaking"===(null===L||void 0===L?void 0:L.type)?(0,$.jsx)(Fp,{}):(0,$.jsx)(aa,{}),label:"Question ".concat(u+1," / ").concat(N.length),color:"primary"}),(0,$.jsx)(ys,{label:"".concat(O.points," points (").concat(O.level,")"),variant:"outlined"})]}),"listening"===(null===L||void 0===L?void 0:L.type)&&O.audioText&&(0,$.jsxs)(le,{sx:{mb:3,textAlign:"center"},children:[(0,$.jsx)(dn,{variant:"outlined",startIcon:A?(0,$.jsx)(_h,{}):(0,$.jsx)(yf,{}),onClick:()=>{null!==O&&void 0!==O&&O.audioText&&(A?C():I(O.audioText))},sx:{mb:2},children:A?"Arr\xeater l'audio":"\xc9couter la question"}),O.audioText&&(0,$.jsx)(Ms,{severity:"info",sx:{mt:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Audio :"})," ",O.audioText]})})]}),(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,sx:{mb:3},children:O.text}),"essay"===O.type?(0,$.jsx)(Vu,{fullWidth:!0,multiline:!0,rows:8,placeholder:"\xc9crivez votre r\xe9ponse ici (minimum 150 mots recommand\xe9)...",value:f[O.id]||"",onChange:e=>z(O.id,e.target.value),sx:{mb:2}}):"speaking"===O.type?(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(dn,{variant:j?"contained":"outlined",startIcon:(0,$.jsx)(Fp,{}),onClick:()=>{j?R():_()},sx:{mb:2},color:j?"error":"primary",children:j?"Arr\xeater l'enregistrement":"Commencer \xe0 parler"}),T&&(0,$.jsx)(Ms,{severity:"info",sx:{mt:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Transcription :"})," ",T]})}),O.audioText&&(0,$.jsx)(Ms,{severity:"info",sx:{mt:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Consigne :"})," ",O.audioText]})})]}):O.options?(0,$.jsx)(Sa,{component:"fieldset",fullWidth:!0,children:(0,$.jsx)(Kc,{value:f[O.id]||"",onChange:e=>z(O.id,e.target.value),children:O.options.map((e,t)=>(0,$.jsx)(lu,{value:e,control:(0,$.jsx)(Cu,{}),label:e,sx:{p:2,mb:1,border:1,borderColor:"grey.300",borderRadius:2,"&:hover":{bgcolor:"grey.50"}}},t))})}):null]})}),(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,$.jsx)(dn,{variant:"outlined",onClick:()=>{if(u>0)d(e=>e-1);else if(l>0){c(e=>e-1);const e=s.sections[l-1],t=e.adaptive?e.questions.filter(e=>e.level===h):e.questions;d(t.length-1)}},disabled:0===l&&0===u,children:"Pr\xe9c\xe9dent"}),(0,$.jsx)(dn,{variant:"contained",onClick:()=>{if(O&&u<N.length-1)d(e=>e+1);else if(l<s.sections.length-1){c(e=>e+1),d(0);const e=s.sections[l+1];e.initialLevel&&p(e.initialLevel)}else B()},disabled:!V,children:D>=M?"Terminer le test":"Suivant"})]})]})})})},gg=["A1","A2","B1","B2","C1"],vg={A1:"D\xe9butant - Compr\xe9hension et expression basiques",A2:"\xc9l\xe9mentaire - Communication simple sur des sujets familiers",B1:"Interm\xe9diaire - Communication dans des situations quotidiennes",B2:"Interm\xe9diaire sup\xe9rieur - Communication fluide sur des sujets complexes",C1:"Avanc\xe9 - Expression fluide et pr\xe9cise sur des sujets techniques"},yg={efset:"EF SET",toeic:"TOEIC",toefl:"TOEFL"},bg=t=>{let{testType:n,onSelectLevel:r,onCancel:o}=t;const[i,s]=(0,e.useState)("");return(0,$.jsxs)(Df,{open:!0,onClose:o,maxWidth:"md",fullWidth:!0,children:[(0,$.jsx)(Uf,{children:(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,$.jsx)(mi,{sx:{fontSize:32,color:"primary.main"}}),(0,$.jsxs)(Ce,{variant:"h5",children:["Choisir le niveau de test ",yg[n]]})]})}),(0,$.jsxs)(Gf,{children:[(0,$.jsx)(le,{sx:{mb:3},children:(0,$.jsxs)(Ce,{variant:"body1",color:"text.secondary",paragraph:!0,children:["S\xe9lectionnez le niveau CECR pour le test ",yg[n],". Le test sera adapt\xe9 \xe0 ce niveau."]})}),(0,$.jsxs)(Sa,{fullWidth:!0,sx:{mb:3},children:[(0,$.jsx)(La,{id:"level-select-label",children:"Niveau CECR"}),(0,$.jsx)(Rc,{labelId:"level-select-label",id:"level-select",value:i,label:"Niveau CECR",onChange:e=>s(e.target.value),children:gg.map(e=>(0,$.jsx)(Fc,{value:e,children:(0,$.jsxs)(le,{children:[(0,$.jsxs)(Ce,{variant:"body1",fontWeight:"bold",children:["Niveau ",e]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:vg[e]})]})},e))})]}),i&&(0,$.jsx)(Ye,{variant:"outlined",sx:{bgcolor:"grey.50"},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(Ce,{variant:"h6",gutterBottom:!0,children:["Niveau ",i," s\xe9lectionn\xe9"]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:vg[i]})]})}),(0,$.jsxs)(le,{sx:{mt:3},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:"Niveaux disponibles :"}),(0,$.jsx)(le,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:gg.map(e=>(0,$.jsx)(ys,{label:"".concat(e," - ").concat(vg[e].split(" - ")[1]),onClick:()=>s(e),color:i===e?"primary":"default",variant:i===e?"filled":"outlined"},e))})]})]}),(0,$.jsxs)(Yf,{children:[o&&(0,$.jsx)(dn,{onClick:o,color:"inherit",children:"Annuler"}),(0,$.jsxs)(dn,{onClick:()=>{i&&r(i)},variant:"contained",disabled:!i,children:["Commencer le test niveau ",i]})]})]})},xg=()=>{console.log("=".repeat(50)),console.log("\ud83d\ude80 V\xe9rification de l'initialisation"),console.log("=".repeat(50));const e=(console.log("\ud83d\udd0d V\xe9rification de l'initialisation Firebase..."),Ai?console.log("\u2705 Firebase App initialis\xe9"):console.warn("\u26a0\ufe0f Firebase App non initialis\xe9 (variables d'environnement manquantes)"),Ci?console.log("\u2705 Firestore initialis\xe9"):console.warn("\u26a0\ufe0f Firestore non initialis\xe9"),{app:!!Ai,db:!!Ci}),t=(()=>{console.log("\ud83d\udd0d V\xe9rification de la plateforme Capacitor...");const e=Ki.Ii.getPlatform(),t=Ki.Ii.isNativePlatform();return console.log("\ud83d\udcf1 Plateforme: ".concat(e)),console.log("\ud83d\udcf1 Native: ".concat(t?"Oui":"Non")),{platform:e,isNative:t}})();return console.log("=".repeat(50)),{firebase:e,capacitor:t}},wg=U({palette:{primary:{main:"#1976d2"},secondary:{main:"#dc004e"},success:{main:"#2e7d32"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h4:{fontWeight:600,fontSize:"clamp(1.5rem, 5vw, 2.125rem)"},h5:{fontWeight:600,fontSize:"clamp(1.25rem, 4vw, 1.5rem)"},h6:{fontWeight:500,fontSize:"clamp(1rem, 3vw, 1.25rem)"},body1:{fontSize:"clamp(0.875rem, 2vw, 1rem)"},button:{textTransform:"none",fontSize:"clamp(0.875rem, 2.5vw, 1rem)"}},components:{MuiButton:{styleOverrides:{root:{minHeight:44,minWidth:44,borderRadius:8,padding:"10px 20px","@media (hover: none)":{"&:active":{transform:"scale(0.98)",transition:"transform 0.1s"}}},sizeLarge:{minHeight:56,padding:"14px 28px",fontSize:"1.1rem"}}},MuiIconButton:{styleOverrides:{root:{minHeight:44,minWidth:44,padding:12}}},MuiTextField:{defaultProps:{variant:"outlined"},styleOverrides:{root:{"& .MuiInputBase-input":{fontSize:"clamp(0.875rem, 2vw, 1rem)",padding:"14px"}}}},MuiCard:{styleOverrides:{root:{borderRadius:12,"@media (max-width: 600px)":{boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}}},MuiChip:{styleOverrides:{root:{minHeight:32,fontSize:"clamp(0.75rem, 2vw, 0.875rem)"}}},MuiDrawer:{styleOverrides:{paper:{"@media (max-width: 600px)":{width:"75vw",maxWidth:280}}}}},breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}}),Sg=()=>{const{isAuthenticated:t,login:n,logout:r,user:i}=us(),[s,a]=(0,e.useState)("dashboard"),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(null),[h,p]=(0,e.useState)(null),[f,m]=(0,e.useState)(!1),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(()=>!localStorage.getItem("levelAssessed"));e.useEffect(()=>{xg()},[]);if(window.location.pathname.includes("/verify-email/"))return(0,$.jsx)(Am,{onSuccess:(e,t)=>{n(e,t)},onSwitchToLogin:()=>{window.location.href="/"}});if(!t)return g?(0,$.jsx)(km,{onSwitchToLogin:()=>v(!1),onSuccess:()=>{v(!1)}}):f?(0,$.jsx)(Em,{onSuccess:(e,t)=>{n(e,t),m(!1)},onSwitchToLogin:()=>m(!1)}):(0,$.jsx)(xm,{onSuccess:(e,t)=>{n(e,t)},onSwitchToSignup:()=>m(!0),onSwitchToForgotPassword:()=>v(!0)});const x=[{id:"dashboard",label:"Tableau de bord",icon:(0,$.jsx)(di,{})},{id:"learning",label:"Mon Programme",icon:(0,$.jsx)(hi,{})},{id:"exercises",label:"Exercices",icon:(0,$.jsx)(pi,{})},{id:"speaking",label:"Speaking",icon:(0,$.jsx)(fi,{})},{id:"meetings",label:"R\xe9unions IT",icon:(0,$.jsx)(mi,{})},{id:"progress",label:"Progression",icon:(0,$.jsx)(hi,{})},{id:"tests",label:"Tests TOEIC/TOEFL",icon:(0,$.jsx)(mi,{})}],w=()=>{localStorage.setItem("levelAssessed","true"),b(!1),a("learning")},S=()=>{localStorage.removeItem("levelAssessed"),b(!0)},E=e=>{a(e)},k=e=>{p(e);const t=u;d(null),"efset"===t?a("efset"):"toeic"===t?a("toeic"):"toefl"===t&&a("toefl")};return(0,$.jsxs)(le,{sx:{display:"flex",minHeight:"100vh"},children:[(0,$.jsx)(gn,{position:"fixed",sx:{zIndex:e=>e.zIndex.drawer+1,paddingTop:{xs:"env(safe-area-inset-top, 24px)",sm:"env(safe-area-inset-top, 0px)"},"@media (max-width: 600px)":{paddingTop:"max(env(safe-area-inset-top, 0px), 24px)"}},children:(0,$.jsxs)(xn,{sx:{minHeight:{xs:"56px !important",sm:"64px !important"}},children:[(0,$.jsx)(In,{color:"inherit",edge:"start",onClick:()=>c(!l),sx:{mr:2,display:{sm:"none"}},children:(0,$.jsx)(gi,{})}),(0,$.jsx)(fi,{sx:{mr:2}}),(0,$.jsx)(Ce,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:"AI English Trainer for IT Professionals"}),i&&(0,$.jsx)(Ce,{variant:"body2",sx:{mr:2,fontStyle:"italic"},children:i.name}),(0,$.jsx)(Ce,{variant:"body2",sx:{mr:2,fontStyle:"italic"},children:"B2 \u2192 C1"}),(0,$.jsx)(In,{color:"inherit",onClick:r,title:"D\xe9connexion",children:(0,$.jsx)(vi,{})})]})}),(0,$.jsx)(qr,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box",mt:{xs:"calc(64px + env(safe-area-inset-top, 24px))",sm:8}}},children:(0,$.jsx)(Qr,{children:x.map(e=>(0,$.jsxs)(co,{button:!0,selected:s===e.id,onClick:()=>a(e.id),sx:{"&.Mui-selected":{bgcolor:"primary.light",color:"primary.main","&:hover":{bgcolor:"primary.light"}}},children:[(0,$.jsx)(mo,{sx:{color:s===e.id?"primary.main":"inherit"},children:e.icon}),(0,$.jsx)(xo,{primary:e.label})]},e.id))})}),(0,$.jsx)(qr,{variant:"temporary",open:l,onClose:()=>c(!1),sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,boxSizing:"border-box",mt:{xs:"calc(64px + env(safe-area-inset-top, 24px))",sm:8}}},children:(0,$.jsx)(Qr,{children:x.map(e=>(0,$.jsxs)(co,{button:!0,selected:s===e.id,onClick:()=>{a(e.id),c(!1)},children:[(0,$.jsx)(mo,{children:e.icon}),(0,$.jsx)(xo,{primary:e.label})]},e.id))})}),(0,$.jsx)(le,{component:"main",sx:{flexGrow:1,mt:{xs:"calc(64px + env(safe-area-inset-top, 24px))",sm:8},bgcolor:"grey.50"},children:(0,$.jsx)(zo,{maxWidth:"xl",children:(()=>{if(y)return(0,$.jsx)(Cf,{onComplete:w});if(u&&!h)return(0,$.jsx)(bg,{testType:u,onSelectLevel:k,onCancel:()=>{d(null),a("tests")}});switch(s){case"dashboard":default:return(0,$.jsx)(da,{onStartAssessment:S,onNavigate:E});case"learning":return(0,$.jsx)(em,{onNavigate:E});case"progress":return(0,$.jsx)(ma,{});case"exercises":return(0,$.jsx)(Vh,{});case"speaking":return(0,$.jsx)(Gp,{});case"meetings":return(0,$.jsx)(vf,{});case"tests":return(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"Tests d'\xc9valuation"}),(0,$.jsxs)(Ve,{container:!0,spacing:3,children:[(0,$.jsx)(Ve,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"EF SET - 4 Skills"}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Test adaptatif complet inspir\xe9 d'EF SET : Reading, Listening, Writing, Speaking (90 min)."}),(0,$.jsx)(dn,{variant:"contained",fullWidth:!0,color:"primary",onClick:()=>d("efset"),children:"Passer le test EF SET"})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Test TOEIC"}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Testez votre niveau d'anglais avec un test TOEIC complet (Grammaire + Compr\xe9hension audio)."}),(0,$.jsx)(dn,{variant:"contained",fullWidth:!0,onClick:()=>d("toeic"),children:"Passer le test TOEIC"})]})})}),(0,$.jsx)(Ve,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Test TOEFL"}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Testez votre niveau d'anglais avec un test TOEFL avanc\xe9 (Reading + Listening + Writing)."}),(0,$.jsx)(dn,{variant:"contained",fullWidth:!0,onClick:()=>d("toefl"),children:"Passer le test TOEFL"})]})})})]})]});case"efset":return(0,$.jsxs)(le,{sx:{p:0},children:[(0,$.jsx)(dn,{variant:"text",onClick:()=>a("tests"),sx:{mb:2},children:"\u2190 Retour aux tests"}),(0,$.jsx)(mg,{level:h||void 0,onComplete:e=>{if(i){const t=(0,o.A)((0,o.A)({},i),{},{currentLevel:e.level,lastActivity:new Date});localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("efsetResults",JSON.stringify(e)),localStorage.setItem("lastTestType","efset"),window.location.reload()}setTimeout(()=>a("tests"),5010)}})]});case"toeic":return(0,$.jsxs)(le,{sx:{p:0},children:[(0,$.jsx)(dn,{variant:"text",onClick:()=>a("tests"),sx:{mb:2},children:"\u2190 Retour aux tests"}),(0,$.jsx)(dg,{level:h||void 0,onComplete:e=>{if(i){const t=(0,o.A)((0,o.A)({},i),{},{currentLevel:e.level,lastActivity:new Date});localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("toeicResults",JSON.stringify(e)),localStorage.setItem("lastTestType","toeic"),window.location.reload()}p(null),setTimeout(()=>a("tests"),5010)}})]});case"toefl":return(0,$.jsxs)(le,{sx:{p:0},children:[(0,$.jsx)(dn,{variant:"text",onClick:()=>a("tests"),sx:{mb:2},children:"\u2190 Retour aux tests"}),(0,$.jsx)(hg,{level:h||void 0,onComplete:e=>{if(i){const t=(0,o.A)((0,o.A)({},i),{},{currentLevel:e.level,lastActivity:new Date});localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("toeflResults",JSON.stringify(e)),localStorage.setItem("lastTestType","toefl"),window.location.reload()}p(null),setTimeout(()=>a("tests"),5010)}})]})}})()})})]})},Eg=()=>(0,$.jsxs)(ei,{theme:wg,children:[(0,$.jsx)(oi,{}),(0,$.jsx)(cs,{children:(0,$.jsx)(Sg,{})})]});class kg extends e.Component{constructor(e){super(e),this.handleReload=()=>{try{localStorage.clear()}catch(e){console.error("Impossible de vider localStorage:",e)}window.location.reload()},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){console.error("\u274c Erreur captur\xe9e par ErrorBoundary:",e),console.error("\ud83d\udccb Info:",t),this.setState({error:e,errorInfo:t}),"undefined"!==typeof window.Capacitor&&console.error("Erreur sur Capacitor/Android:",e.message)}render(){return this.state.hasError?(0,$.jsx)(le,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",p:3,bgcolor:"#f5f5f5"},children:(0,$.jsxs)(Ge,{elevation:3,sx:{p:4,maxWidth:600,textAlign:"center"},children:[(0,$.jsx)(Im,{sx:{fontSize:64,color:"error.main",mb:2}}),(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,color:"error",children:"Une erreur est survenue"}),(0,$.jsx)(Ce,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"L'application a rencontr\xe9 un probl\xe8me. Veuillez r\xe9essayer."}),this.state.error&&(0,$.jsx)(Ge,{variant:"outlined",sx:{p:2,mb:3,bgcolor:"#fff3f3",textAlign:"left",maxHeight:200,overflow:"auto"},children:(0,$.jsxs)(Ce,{variant:"caption",component:"pre",sx:{whiteSpace:"pre-wrap"},children:[this.state.error.toString(),this.state.errorInfo&&"\n\n".concat(this.state.errorInfo.componentStack)]})}),(0,$.jsx)(dn,{variant:"contained",color:"primary",onClick:this.handleReload,size:"large",children:"Recharger l'application"})]})}):this.props.children}}const Ig=e=>{const t="string"===typeof e?e:e.message,n="string"===typeof e?"":e.stack||"";return[/Extension context invalidated/i,/chrome-extension:/i,/moz-extension:/i,/Cannot access contents of/i,/The message port closed/i,/Receiving end does not exist/i].some(e=>e.test(t)||e.test(n))};window.addEventListener("error",e=>!Ig(e.error||e.message)||(e.preventDefault(),!1)),window.addEventListener("unhandledrejection",e=>{const t=e.reason;t&&(Ig(t)||"string"===typeof t&&Ig(t))&&e.preventDefault()});r.createRoot(document.getElementById("root")).render((0,$.jsx)(e.StrictMode,{children:(0,$.jsx)(kg,{children:(0,$.jsx)(Eg,{})})}))})()})();
//# sourceMappingURL=main.10fdca7b.js.map