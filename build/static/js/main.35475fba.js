/*! For license information please see main.35475fba.js.LICENSE.txt */
(()=>{var e={83:(e,t,n)=>{"use strict";n.d(t,{j2:()=>Ve});var r=n(7064),i=n(8557),o=n(6667),s=n(6068),a=n(2555),l=n(1150),c=n(2965),u=n(1776),d=n(9606),h=n(2799);const p="@firebase/installations",f="0.6.19",m=1e4,g="w:".concat(f),v="FIS_v2",y=36e5,b={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},x=new u.FA("installations","Installations",b);function w(e){return e instanceof u.g&&e.code.includes("request-failed")}function S(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function k(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function E(e,t){const n=(await t.json()).error;return x.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function I(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function A(e,t){let{refreshToken:n}=t;const r=I(e);return r.append("Authorization",function(e){return"".concat(v," ").concat(e)}(n)),r}async function C(e){const t=await e();return t.status>=500&&t.status<600?e():t}function T(e){return new Promise(t=>{setTimeout(t,e)})}const j=/^[cdef][\w-]{21}$/;function _(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return j.test(t)?t:""}catch(e){return""}}function R(e){return"".concat(e.appName,"!").concat(e.appId)}const P=new Map;function N(e,t){const n=R(e);O(n,t),function(e,t){const n=M();n&&n.postMessage({key:e,fid:t});D()}(n,t)}function O(e,t){const n=P.get(e);if(n)for(const r of n)r(t)}let L=null;function M(){return!L&&"BroadcastChannel"in self&&(L=new BroadcastChannel("[Firebase] FID Change"),L.onmessage=e=>{O(e.data.key,e.data.fid)}),L}function D(){0===P.size&&L&&(L.close(),L=null)}const F="firebase-installations-store";let z=null;function V(){return z||(z=(0,h.P2)("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(F)}})),z}async function B(e,t){const n=R(e),r=(await V()).transaction(F,"readwrite"),i=r.objectStore(F),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||N(e,t.fid),t}async function U(e){const t=R(e),n=(await V()).transaction(F,"readwrite");await n.objectStore(F).delete(t),await n.done}async function q(e,t){const n=R(e),r=(await V()).transaction(F,"readwrite"),i=r.objectStore(F),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||N(e,s.fid),s}async function W(e){let t;const n=await q(e.appConfig,n=>{const r=function(e){const t=e||{fid:_(),registrationStatus:0};return G(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(x.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=S(n),s=I(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:v,appId:n.appId,sdkVersion:g},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await C(()=>fetch(o,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:k(e.authToken)}}throw await E("Create Installation",u)}(e,t);return B(e.appConfig,n)}catch(n){throw w(n)&&409===n.customData.serverCode?await U(e.appConfig):await B(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:H(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function H(e){let t=await K(e.appConfig);for(;1===t.registrationStatus;)await T(100),t=await K(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await W(e);return n||t}return t}function K(e){return q(e,e=>{if(!e)throw x.create("installation-not-found");return G(e)})}function G(e){return 1===(t=e).registrationStatus&&t.registrationTime+m<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Q(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(S(e),"/").concat(n,"/authTokens:generate")}(n,t),o=A(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const a={installation:{sdkVersion:g,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(a)},c=await C(()=>fetch(i,l));if(c.ok){return k(await c.json())}throw await E("Generate Auth Token",c)}async function X(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await q(e.appConfig,r=>{if(!$(r))throw x.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+y}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Y(e.appConfig);for(;1===n.authToken.requestStatus;)await T(100),n=await Y(e.appConfig);const r=n.authToken;return 0===r.requestStatus?X(e,t):r}(e,n),r;{if(!navigator.onLine)throw x.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return(0,a.A)((0,a.A)({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await Q(e,t),r=(0,a.A)((0,a.A)({},t),{},{authToken:n});return await B(e.appConfig,r),n}catch(n){if(!w(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=(0,a.A)((0,a.A)({},t),{},{authToken:{requestStatus:0}});await B(e.appConfig,n)}else await U(e.appConfig);throw n}}(e,n),n}});return t?await t:r.authToken}function Y(e){return q(e,e=>{if(!$(e))throw x.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+m<Date.now()?(0,a.A)((0,a.A)({},e),{},{authToken:{requestStatus:0}}):e;var n})}function $(e){return void 0!==e&&2===e.registrationStatus}async function J(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await W(e);t&&await t}(n);return(await X(n,t)).token}function Z(e){return x.create("missing-app-config-values",{valueName:e})}const ee="installations",te=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Z("App Configuration");if(!e.name)throw Z("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Z(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:(0,l.j6)(t,"heartbeat"),_delete:()=>Promise.resolve()}},ne=e=>{const t=e.getProvider("app").getImmediate(),n=(0,l.j6)(t,ee).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await W(t);return r?r.catch(console.error):X(t).catch(console.error),n.fid}(n),getToken:e=>J(n,e)}};(0,l.om)(new d.uA(ee,te,"PUBLIC")),(0,l.om)(new d.uA("installations-internal",ne,"PRIVATE")),(0,l.KO)(p,f),(0,l.KO)(p,f,"esm2020");const re="analytics",ie="https://www.googletagmanager.com/gtag/js",oe=new c.Vy("@firebase/analytics"),se={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ae=new u.FA("analytics","Analytics",se);function le(e){if(!e.startsWith(ie)){const t=ae.create("invalid-gtag-resource",{gtagURL:e});return oe.warn(t.message),""}return e}function ce(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function ue(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:le}),r=document.createElement("script"),i="".concat(ie,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function de(e,t,n,r){return async function(i){try{for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if("event"===i){const[r,i]=s;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await ce(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(o){oe.error(o)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=s;await async function(e,t,n,r,i,o){const s=r[i];try{if(s)await t[s];else{const e=(await ce(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(a){oe.error(a)}e("config",i,o)}(e,t,n,r,i,o)}else if("consent"===i){const[t,n]=s;e("consent",t,n)}else if("get"===i){const[t,n,r]=s;e("get",t,n,r)}else if("set"===i){const[t]=s;e("set",t)}else e(i,...s)}catch(l){oe.error(l)}}}const he=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function pe(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function fe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw ae.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw ae.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ge;return setTimeout(async()=>{a.abort()},void 0!==n?n:6e4),me({appId:r,apiKey:i,measurementId:o},s,a,t)}async function me(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:he;const{appId:s,measurementId:a}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(ae.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(c){if(a)return oe.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:s,measurementId:a};throw c}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:pe(n)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),o=await fetch(i,r);if(200!==o.status&&304!==o.status){let e="";try{var s;const t=await o.json();null!==(s=t.error)&&void 0!==s&&s.message&&(e=t.error.message)}catch(a){}throw ae.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return o.deleteThrottleMetadata(s),t}catch(c){var l;const t=c;if(!function(e){if(!(e instanceof u.g)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(o.deleteThrottleMetadata(s),a)return oe.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:s,measurementId:a};throw c}const r=503===Number(null===t||void 0===t||null===(l=t.customData)||void 0===l?void 0:l.httpStatus)?(0,u.p9)(i,o.intervalMillis,30):(0,u.p9)(i,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+r,backoffCount:i+1};return o.setThrottleMetadata(s,d),oe.debug("Calling attemptFetch again in ".concat(r," millis")),me(e,d,n,o)}}class ge{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let ve,ye;function be(e){ye=e}function xe(e){ve=e}async function we(e,t,n,r,i,o,s){var a;const l=fe(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&oe.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>oe.error(e)),t.push(l);const c=async function(){if(!(0,u.zW)())return oe.warn(ae.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,u.eX)()}catch(e){return oe.warn(ae.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[d,h]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ie)&&n.src.includes(e))return n;return null})(o)||ue(o,d.measurementId),ye&&(i("consent","default",ye),be(void 0)),i("js",new Date);const p=null!==(a=null===s||void 0===s?void 0:s.config)&&void 0!==a?a:{};return p.origin="firebase",p.update=!0,null!=h&&(p.firebase_id=h),i("config",d.measurementId,p),ve&&(i("set",ve),xe(void 0)),d.measurementId}class Se{constructor(e){this.app=e}_delete(){return delete ke[this.app.options.appId],Promise.resolve()}}let ke={},Ee=[];const Ie={};let Ae,Ce,Te="dataLayer",je="gtag",_e=!1;function Re(e,t,n){!function(){const e=[];if((0,u.sr)()&&e.push("This is a browser extension environment."),(0,u.dM)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=ae.create("invalid-analytics-context",{errorInfo:t});oe.warn(n.message)}}();const r=e.options.appId;if(!r)throw ae.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ae.create("no-api-key");oe.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ke[r])throw ae.create("already-exists",{id:r});if(!_e){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Te);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=de(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(ke,Ee,Ie,Te,je);Ce=e,Ae=t,_e=!0}ke[r]=we(e,Ee,Ie,t,Ae,Te,n);return new Se(e)}function Pe(e,t,n){e=(0,u.Ku)(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties.".concat(e)]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(Ce,ke[e.app.options.appId],t,n).catch(e=>oe.error(e))}function Ne(e,t,n,r){e=(0,u.Ku)(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,(0,a.A)((0,a.A)({},r),{},{send_to:i}))}}(Ce,ke[e.app.options.appId],t,n,r).catch(e=>oe.error(e))}const Oe="@firebase/analytics",Le="0.10.19";(0,l.om)(new d.uA(re,(e,t)=>{let{options:n}=t;return Re(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),(0,l.om)(new d.uA("analytics-internal",function(e){try{const t=e.getProvider(re).getImmediate();return{logEvent:(e,n,r)=>Ne(t,e,n,r),setUserProperties:(e,n)=>Pe(t,e,n)}}catch(t){throw ae.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,l.KO)(Oe,Le),(0,l.KO)(Oe,Le,"esm2020");var Me=n(3069);const De="undefined"!==typeof window.Capacitor,Fe={apiKey:"AIzaSyA4VxXsU3yI3GedYREVkUIOgHo8NU1DUsw",authDomain:"ia-project-91c03.firebaseapp.com",projectId:"ia-project-91c03",storageBucket:"ia-project-91c03.firebasestorage.app",messagingSenderId:"764765123671",appId:"1:764765123671:web:c6861709d1a881fcfe1f12",measurementId:Me.x.measurementId};let ze;Fe.apiKey&&Fe.projectId||console.error("\u274c Configuration Firebase manquante. V\xe9rifiez vos variables d'environnement ou le fichier firebaseConfig.generated.ts");try{ze=(0,r.Wp)(Fe),console.log("\u2705 Firebase initialis\xe9 avec succ\xe8s")}catch(qe){throw console.error("\u274c Erreur lors de l'initialisation Firebase:",qe),qe}const Ve=(0,i.xI)(ze),Be=(0,o.aU)(ze);(0,s.c7)(ze);De||"undefined"===typeof window||(0,i.oM)(Ve,i.F0).catch(e=>{console.warn("Erreur lors de la configuration de la persistance Auth:",e)}),"undefined"!==typeof window&&(0,o.ol)(Be).then(()=>{console.log("\u2705 Cache Firestore offline activ\xe9")}).catch(e=>{"failed-precondition"===e.code?console.warn("\u26a0\ufe0f Plusieurs onglets ouverts. Le cache offline est d\xe9j\xe0 activ\xe9 dans un autre onglet."):"unimplemented"===e.code?console.warn("\u26a0\ufe0f Le cache offline n'est pas disponible sur cette plateforme."):console.error("\u274c Erreur lors de l'activation du cache Firestore:",e)});let Ue=null;"undefined"!==typeof window&&(Ue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,l.Sx)();e=(0,u.Ku)(e);const t=(0,l.j6)(e,re);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,l.j6)(e,re);if(n.isInitialized()){const e=n.getImmediate();if((0,u.bD)(t,n.getOptions()))return e;throw ae.create("already-initialized")}return n.initialize({options:t})}(e)}(ze))},219:(e,t,n)=>{"use strict";var r=n(3763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7868)},528:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case u:case d:case f:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case a:return e;default:return t}}case r:return t}}}t.vM=c,t.lD=h},579:(e,t,n)=>{"use strict";e.exports=n(1153)},869:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(5043);var r=n(3290),i=n(579);function o(e){const{styles:t,defaultTheme:n={}}=e,o="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,i.jsx)(r.mL,{styles:o})}},918:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},1079:(e,t,n)=>{"use strict";n.d(t,{DY:()=>o,Lx:()=>s,logoutUser:()=>a,xw:()=>l});var r=n(8557),i=n(83);const o=async(e,t,n)=>{try{const o=await(0,r.eJ)(i.j2,e,t);return n&&await(0,r.r7)(o.user,{displayName:n}),await(0,r.gA)(o.user),{success:!0,user:o.user,message:"Registration successful. Please check your email for verification."}}catch(o){return console.error("Registration error:",o),{success:!1,error:o.code,message:c(o.code)}}},s=async(e,t)=>{try{return{success:!0,user:(await(0,r.x9)(i.j2,e,t)).user}}catch(n){return console.error("Login error:",n),{success:!1,error:n.code,message:c(n.code)}}},a=async()=>{try{return await(0,r.CI)(i.j2),{success:!0,message:"Logout successful"}}catch(e){return console.error("Logout error:",e),{success:!1,error:e.code,message:c(e.code)}}},l=async e=>{try{return await(0,r.J1)(i.j2,e),{success:!0,message:"Password reset email sent. Please check your inbox."}}catch(t){return console.error("Password reset error:",t),{success:!1,error:t.code,message:c(t.code)}}},c=e=>({"auth/email-already-in-use":"Cet email est d\xe9j\xe0 enregistr\xe9.","auth/invalid-email":"Adresse email invalide.","auth/operation-not-allowed":"Op\xe9ration non autoris\xe9e. Contactez le support.","auth/weak-password":"Le mot de passe est trop faible. Utilisez au moins 6 caract\xe8res.","auth/user-disabled":"Ce compte a \xe9t\xe9 d\xe9sactiv\xe9.","auth/user-not-found":"Aucun compte trouv\xe9 avec cet email.","auth/wrong-password":"Mot de passe incorrect.","auth/invalid-credential":"Email ou mot de passe incorrect. V\xe9rifiez vos identifiants ou cr\xe9ez un compte.","auth/invalid-verification-code":"Code de v\xe9rification invalide.","auth/invalid-verification-id":"ID de v\xe9rification invalide.","auth/too-many-requests":"Trop de tentatives. Veuillez r\xe9essayer plus tard.","auth/network-request-failed":"Erreur r\xe9seau. V\xe9rifiez votre connexion internet.","auth/popup-closed-by-user":"La fen\xeatre de connexion a \xe9t\xe9 ferm\xe9e.","auth/cancelled-popup-request":"Une seule demande de connexion est autoris\xe9e \xe0 la fois."}[e]||"Une erreur est survenue. Veuillez r\xe9essayer.")},1150:(e,t,n)=>{"use strict";n.d(t,{KO:()=>Z,MF:()=>Y,Sx:()=>J,Wp:()=>$,j6:()=>H,om:()=>W,xZ:()=>K});var r=n(2555),i=n(9606),o=n(2965),s=n(1776),a=n(2799);class l{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const c="@firebase/app",u="0.14.5",d=new o.Vy("@firebase/app"),h="@firebase/app-compat",p="@firebase/analytics-compat",f="@firebase/analytics",m="@firebase/app-check-compat",g="@firebase/app-check",v="@firebase/auth",y="@firebase/auth-compat",b="@firebase/database",x="@firebase/data-connect",w="@firebase/database-compat",S="@firebase/functions",k="@firebase/functions-compat",E="@firebase/installations",I="@firebase/installations-compat",A="@firebase/messaging",C="@firebase/messaging-compat",T="@firebase/performance",j="@firebase/performance-compat",_="@firebase/remote-config",R="@firebase/remote-config-compat",P="@firebase/storage",N="@firebase/storage-compat",O="@firebase/firestore",L="@firebase/ai",M="@firebase/firestore-compat",D="firebase",F="[DEFAULT]",z={[c]:"fire-core",[h]:"fire-core-compat",[f]:"fire-analytics",[p]:"fire-analytics-compat",[g]:"fire-app-check",[m]:"fire-app-check-compat",[v]:"fire-auth",[y]:"fire-auth-compat",[b]:"fire-rtdb",[x]:"fire-data-connect",[w]:"fire-rtdb-compat",[S]:"fire-fn",[k]:"fire-fn-compat",[E]:"fire-iid",[I]:"fire-iid-compat",[A]:"fire-fcm",[C]:"fire-fcm-compat",[T]:"fire-perf",[j]:"fire-perf-compat",[_]:"fire-rc",[R]:"fire-rc-compat",[P]:"fire-gcs",[N]:"fire-gcs-compat",[O]:"fire-fst",[M]:"fire-fst-compat",[L]:"fire-vertex","fire-js":"fire-js",[D]:"fire-js-all"},V=new Map,B=new Map,U=new Map;function q(e,t){try{e.container.addComponent(t)}catch(n){d.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function W(e){const t=e.name;if(U.has(t))return d.debug("There were multiple attempts to register component ".concat(t,".")),!1;U.set(t,e);for(const n of V.values())q(n,e);for(const n of B.values())q(n,e);return!0}function H(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function K(e){return null!==e&&void 0!==e&&void 0!==e.settings}const G={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Q=new s.FA("app","Firebase",G);class X{constructor(e,t,n){this._isDeleted=!1,this._options=(0,r.A)({},e),this._config=(0,r.A)({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Q.create("app-deleted",{appName:this._name})}}const Y="12.5.0";function $(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const o=(0,r.A)({name:F,automaticDataCollectionEnabled:!0},t),a=o.name;if("string"!==typeof a||!a)throw Q.create("bad-app-name",{appName:String(a)});if(n||(n=(0,s.T9)()),!n)throw Q.create("no-options");const l=V.get(a);if(l){if((0,s.bD)(n,l.options)&&(0,s.bD)(o,l.config))return l;throw Q.create("duplicate-app",{appName:a})}const c=new i.h1(a);for(const r of U.values())c.addComponent(r);const u=new X(n,o,c);return V.set(a,u),u}function J(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;const t=V.get(e);if(!t&&e===F&&(0,s.T9)())return $();if(!t)throw Q.create("no-app",{appName:e});return t}function Z(e,t,n){var r;let o=null!==(r=z[e])&&void 0!==r?r:e;n&&(o+="-".concat(n));const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void d.warn(e.join(" "))}W(new i.uA("".concat(o,"-version"),()=>({library:o,version:t}),"VERSION"))}const ee="firebase-heartbeat-store";let te=null;function ne(){return te||(te=(0,a.P2)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ee)}catch(n){console.warn(n)}}}).catch(e=>{throw Q.create("idb-open",{originalErrorMessage:e.message})})),te}async function re(e,t){try{const n=(await ne()).transaction(ee,"readwrite"),r=n.objectStore(ee);await r.put(t,ie(e)),await n.done}catch(n){if(n instanceof s.g)d.warn(n.message);else{const e=Q.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});d.warn(e.message)}}}function ie(e){return"".concat(e.name,"!").concat(e.options.appId)}class oe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ae(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=se();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){d.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=se(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),le(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),le(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return d.warn(t),""}}}function se(){return(new Date).toISOString().substring(0,10)}class ae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ne()).transaction(ee),n=await t.objectStore(ee).get(ie(e));return await t.done,n}catch(t){if(t instanceof s.g)d.warn(t.message);else{const e=Q.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});d.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function le(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var ce;ce="",W(new i.uA("platform-logger",e=>new l(e),"PRIVATE")),W(new i.uA("heartbeat",e=>new oe(e),"PRIVATE")),Z(c,u,ce),Z(c,u,"esm2020"),Z("fire-js","")},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},1188:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},1722:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>i,sk:()=>o});function r(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},o=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}},1776:(e,t,n)=>{"use strict";n.d(t,{cY:()=>m,FA:()=>L,g:()=>O,dM:()=>N,u:()=>l,Uj:()=>a,p9:()=>Y,Fy:()=>y,tD:()=>q,bD:()=>F,hp:()=>U,T9:()=>p,Tj:()=>d,yU:()=>h,XA:()=>f,mS:()=>c,Ku:()=>$,ZQ:()=>S,sr:()=>A,zJ:()=>g,c1:()=>I,Im:()=>D,lT:()=>T,zW:()=>R,jZ:()=>k,lV:()=>C,nr:()=>j,Ov:()=>_,gE:()=>v,Am:()=>V,I9:()=>B,P1:()=>w,eX:()=>P});var r=n(2555);const i=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==l)throw new s;const c=t<<2|o>>4;if(r.push(c),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==l){const e=a<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=i(e);return o.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return o.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const u=()=>{try{return c().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:5001/api",REACT_APP_FIREBASE_API_KEY:"AIzaSyA4VxXsU3yI3GedYREVkUIOgHo8NU1DUsw",REACT_APP_FIREBASE_APP_ID:"1:764765123671:web:c6861709d1a881fcfe1f12",REACT_APP_FIREBASE_AUTH_DOMAIN:"ia-project-91c03.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"764765123671",REACT_APP_FIREBASE_PROJECT_ID:"ia-project-91c03",REACT_APP_FIREBASE_STORAGE_BUCKET:"ia-project-91c03.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},d=e=>{var t;return null===(t=u())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},h=e=>{const t=d(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},p=()=>{var e;return null===(e=u())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=u())||void 0===t?void 0:t["_".concat(e)]};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function v(e){return(await fetch(e,{credentials:"include"})).ok}function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=(0,r.A)({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(s)),""].join(".")}const b={};let x=!1;function w(e,t){if("undefined"===typeof window||"undefined"===typeof document||!g(window.location.host)||b[e]===t||b[e]||x)return;function n(e){return"__firebase__banner__".concat(e)}b[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(b))b[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{x=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function S(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function k(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function E(){var e;const t=null===(e=u())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function I(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function A(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function C(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function T(){const e=S();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function j(){return!E()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _(){return!E()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function R(){try{return"object"===typeof indexedDB}catch(e){return!1}}function P(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function N(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class O extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,O.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,L.prototype.create)}}class L{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(M,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new O(n,o,t)}}const M=/\{\$([^}]+)}/g;function D(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function F(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(z(n)&&z(o)){if(!F(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function z(e){return null!==e&&"object"===typeof e}function V(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function B(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function U(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function q(e,t){const n=new W(e,t);return n.subscribe.bind(n)}class W{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=H),void 0===r.error&&(r.error=H),void 0===r.complete&&(r.complete=H);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H(){}const K=1e3,G=2,Q=144e5,X=.5;function Y(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:K)*Math.pow(t,e),r=Math.round(X*n*(Math.random()-.5)*2);return Math.min(Q,n+r)}function $(e){return e&&e._delegate?e._delegate:e}},2374:(e,t,n)=>{"use strict";t.A=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(5043)),i=n(3174);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(i.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},2555:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>a})},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,D=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case I:return"Profiler";case E:return"StrictMode";case j:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function Ie(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function Ae(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Te(e,t){return e(t)}function je(){}var _e=!1;function Re(e,t,n){if(_e)return e(t,n);_e=!0;try{return Te(e,t,n)}finally{_e=!1,(null!==ke||null!==Ee)&&(je(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ne=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Ne=!1}function Le(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,De=null,Fe=!1,ze=null,Ve={onError:function(e){Me=!0,De=e}};function Be(e,t,n,r,i,o,s,a,l){Me=!1,De=null,Le.apply(Ve,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,kt,Et,It,At=!1,Ct=[],Tt=null,jt=null,_t=null,Rt=new Map,Pt=new Map,Nt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=yi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){At=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==jt&&Ft(jt)&&(jt=null),null!==_t&&Ft(_t)&&(_t=null),Rt.forEach(zt),Pt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==jt&&Bt(jt,e),null!==_t&&Bt(_t,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Nt.shift()}var qt=x.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Kt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Gt(e,t,n,r){if(Wt){var i=Xt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return jt=Mt(jt,e,t,n,r,i),!0;case"mouseover":return _t=Mt(_t,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,Mt(Rt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Xt(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=D({},cn,{view:0,detail:0}),hn=on(dn),pn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=on(pn),mn=on(D({},pn,{dataTransfer:0})),gn=on(D({},dn,{relatedTarget:0})),vn=on(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),xn=on(D({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function In(){return En}var An=D({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(An),Tn=on(D({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=on(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),_n=on(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=D({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Rn),Nn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Dn=u&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ae(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Xn(e){if(G(xi(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function or(e,t){if("click"===e)return Xn(t)}function sr(e,t){if("input"===e||"change"===e)return Xn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Er={};function Ir(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Ar=Ir("animationend"),Cr=Ir("animationiteration"),Tr=Ir("animationstart"),jr=Ir("transitionend"),_r=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){_r.set(e,t),l(t,[e])}for(var Nr=0;Nr<Rr.length;Nr++){var Or=Rr[Nr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Ar,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=De;Me=!1,De=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Dr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Dr(i,a,c),o=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Br]){e[Br]=!0,s.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Re(function(){var r=o,i=we(n),s=[];e:{var a=_r.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Ar:case Cr:case Tr:l=vn;break;case jr:l=_n;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Pe(f,h))&&u.push(Hr(f,m,p)))),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[fi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:xi(l),p=null==c?a:xi(c),(a=new u(m,f+"leave",l,n,i)).target=d,a.relatedTarget=p,m=null,yi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Gr(p))f++;for(p=0,m=h;m;m=Gr(m))p++;for(;0<f-p;)u=Gr(u),f--;for(;0<p-f;)h=Gr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==d&&Qr(s,d,c,u,!0)}if("select"===(l=(a=r?xi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(Wn(a))if($n)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?xi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(s,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Un=!0)),0<(v=Kr(r,b)).length&&(b=new xn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Jt=$t=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Fr(s,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Pe(n,o))&&s.unshift(Hr(n,l,a)):i||null!=(l=Pe(n,o))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[pi]||null}var Si=[],ki=-1;function Ei(e){return{current:e}}function Ii(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function Ai(e,t){ki++,Si[ki]=e.current,e.current=t}var Ci={},Ti=Ei(Ci),ji=Ei(!1),_i=Ci;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){Ii(ji),Ii(Ti)}function Oi(e,t,n){if(Ti.current!==Ci)throw Error(o(168));Ai(Ti,t),Ai(ji,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return D({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,_i=Ti.current,Ai(Ti,e),Ai(ji,ji.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,_i),r.__reactInternalMemoizedMergedChildContext=e,Ii(ji),Ii(Ti),Ai(Ti,e)):Ii(ji),Ai(ji,n)}var Fi=null,zi=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function Ui(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Ui),i}finally{bt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Xi=null,Yi=1,$i="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=$i,Gi[Qi++]=Xi,Xi=e;var r=Yi;e=$i;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yi=1<<32-st(t)+i|n<<i|r,$i=o+e}else Yi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Xi;)Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ci(e.nextSibling)}function fo(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=x.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case P:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=f(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),io&&Ji(i,m),c}function g(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return io&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=f(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),io&&Ji(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===k){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&bo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=vo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===k?((o=Lc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Oc(s.type,s.key,s.props,null,r.mode,l)).ref=vo(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(s,r.mode,l)).return=r,r=o}return a(r);case P:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(L(s))return g(r,o,s,l);yo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Dc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var wo=xo(!0),So=xo(!1),ko=Ei(null),Eo=null,Io=null,Ao=null;function Co(){Ao=Io=Eo=null}function To(e){var t=ko.current;Ii(ko),e._currentValue=t}function jo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _o(e,t){Eo=e,Ao=Io=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ro(e){var t=e._currentValue;if(Ao!==e)if(e={context:e,memoizedValue:t,next:null},null===Io){if(null===Eo)throw Error(o(308));Io=e,Eo.dependencies={lanes:0,firstContext:e}}else Io=Io.next=e;return t}var Po=null;function No(e){null===Po?Po=[e]:Po.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,No(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,No(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function Bo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=D({},d,h);break e;case 2:Mo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=d}}function Wo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},Ko=Ei(Ho),Go=Ei(Ho),Qo=Ei(Ho);function Xo(e){if(e===Ho)throw Error(o(174));return e}function Yo(e,t){switch(Ai(Qo,t),Ai(Go,e),Ai(Ko,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Ko),Ai(Ko,t)}function $o(){Ii(Ko),Ii(Go),Ii(Qo)}function Jo(e){Xo(Qo.current);var t=Xo(Ko.current),n=le(t,e.type);t!==n&&(Ai(Go,e),Ai(Ko,n))}function Zo(e){Go.current===e&&(Ii(Ko),Ii(Go))}var es=Ei(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=x.ReactCurrentDispatcher,os=x.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,ps=0;function fs(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,i),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(ds)}if(is.current=Js,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(o(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function xs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Ml|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ks(){}function Es(e,t){var n=as,r=bs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,Ms(Cs.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Rs(9,As.bind(null,n,r,i,t),void 0,null),null===jl)throw Error(o(349));0!==(30&ss)||Is(n,t,i)}return i}function Is(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function As(e,t,n,r){t.value=n,t.getSnapshot=r,Ts(t)&&js(e)}function Cs(e,t,n){return n(function(){Ts(t)&&js(e)})}function Ts(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function js(e){var t=Lo(e,1);null!==t&&nc(t,e,1,-1)}function _s(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,as,e),[t.memoizedState,e]}function Rs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ps(){return bs().memoizedState}function Ns(e,t,n,r){var i=ys();as.flags|=e,i.memoizedState=Rs(1|t,n,void 0,void 0===r?null:r)}function Os(e,t,n,r){var i=bs();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&ms(r,s.deps))return void(i.memoizedState=Rs(t,n,o,r))}as.flags|=e,i.memoizedState=Rs(1|t,n,o,r)}function Ls(e,t){return Ns(8390656,8,e,t)}function Ms(e,t){return Os(2048,8,e,t)}function Ds(e,t){return Os(4,2,e,t)}function Fs(e,t){return Os(4,4,e,t)}function zs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4,4,zs.bind(null,t,e),n)}function Bs(){}function Us(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Ml|=n,e.baseState=!0),t)}function Hs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{bt=n,os.transition=r}}function Ks(){return bs().memoizedState}function Gs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(e))Ys(t,n);else if(null!==(n=Oo(e,t,n,r))){nc(n,e,r,ec()),$s(n,t,r)}}function Qs(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))Ys(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,No(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Oo(e,t,i,r))&&(nc(n,e,r,i=ec()),$s(n,t,r))}}function Xs(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ys(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $s(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Js={readContext:Ro,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Zs={readContext:Ro,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Ro,useEffect:Ls,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ns(4194308,4,zs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ns(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:_s,useDebugValue:Bs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=_s(!1),t=e[0];return e=Hs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=ys();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===jl)throw Error(o(349));0!==(30&ss)||Is(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ls(Cs.bind(null,r,s,e),[e]),r.flags|=2048,Rs(9,As.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=jl.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ro,useCallback:Us,useContext:Ro,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Ds,useLayoutEffect:Fs,useMemo:qs,useReducer:ws,useRef:Ps,useState:function(){return ws(xs)},useDebugValue:Bs,useDeferredValue:function(e){return Ws(bs(),ls.memoizedState,e)},useTransition:function(){return[ws(xs)[0],bs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Es,useId:Ks,unstable_isNewReconciler:!1},ta={readContext:Ro,useCallback:Us,useContext:Ro,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Ds,useLayoutEffect:Fs,useMemo:qs,useReducer:Ss,useRef:Ps,useState:function(){return Ss(xs)},useDebugValue:Bs,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Ws(t,ls.memoizedState,e)},useTransition:function(){return[Ss(xs)[0],bs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Es,useId:Ks,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=zo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nc(t,e,i,r),Bo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=zo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nc(t,e,i,r),Bo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=zo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vo(e,i,r))&&(nc(t,e,r,n),Bo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=Ro(o):(i=Pi(t)?_i:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Do(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ro(o):(o=Pi(t)?_i:Ti.current,i.context=Ri(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=zo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),da(0,t)},n}function fa(e,t,n){(n=zo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zo(-1,1)).tag=2,Vo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=x.ReactCurrentOwner,ba=!1;function xa(e,t,n,r){t.child=null===e?So(t,null,n,r):wo(t,e.child,n,r)}function wa(e,t,n,r,i){n=n.render;var o=t.ref;return _o(t,i),r=gs(e,t,n,r,o,i),n=vs(),null===e||ba?(io&&n&&eo(t),t.flags|=1,xa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ka(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Nc(o,r)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Aa(e,t,n,r,i)}function Ea(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Nl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Nl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ai(Nl,Pl),Pl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ai(Nl,Pl),Pl|=r;return xa(e,t,i,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Aa(e,t,n,r,i){var o=Pi(n)?_i:Ti.current;return o=Ri(t,o),_o(t,i),n=gs(e,t,n,r,o,i),r=vs(),null===e||ba?(io&&r&&eo(t),t.flags|=1,xa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Ca(e,t,n,r,i){if(Pi(n)){var o=!0;Mi(t)}else o=!1;if(_o(t,i),null===t.stateNode)qa(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ro(c):c=Ri(t,c=Pi(n)?_i:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Mo=!1;var h=t.memoizedState;s.state=h,qo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||ji.current||Mo?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Mo||oa(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ro(l):l=Ri(t,l=Pi(n)?_i:Ti.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),Mo=!1,h=t.memoizedState,s.state=h,qo(t,r,s,i);var f=t.memoizedState;a!==d||h!==f||ji.current||Mo?("function"===typeof p&&(ra(t,n,p,r),f=t.memoizedState),(c=Mo||oa(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,o,i)}function Ta(e,t,n,r,i,o){Ia(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Di(t,n,!1),Wa(e,t,o);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,a,o)):xa(e,t,a,o),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function ja(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Yo(e,t.containerInfo)}function _a(e,t,n,r,i){return fo(),mo(i),t.flags|=256,xa(e,t,n,r),t.child}var Ra,Pa,Na,Oa,La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Da(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ai(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=La,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(s=Lc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&wo(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=La,s);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=jl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Lo(e,i),nc(r,e,i,-1))}return mc(),za(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=$i,Gi[Qi++]=Xi,Yi=e.id,$i=e.overflow,Xi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Nc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Nc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Nc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&mo(r),wo(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),jo(e.return,t,n)}function Ba(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ua(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,o);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Pi(t.type)&&Ni(),Ka(t),null;case 3:return r=t.stateNode,$o(),Ii(ji),Ii(Ti),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Pa(e,t),Ka(t),null;case 5:Zo(t);var i=Xo(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Na(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=Xo(Ko.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[pi]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)zr(Lr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":ie(r,s),zr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)zr(Lr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=D({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&zr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Xo(Qo.current),Xo(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ka(t),null;case 13:if(Ii(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return $o(),Pa(e,t),null===e&&Ur(t.stateNode.containerInfo),Ka(t),null;case 10:return To(t.type._context),Ka(t),null;case 19:if(Ii(es),null===(s=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>Ul&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ka(t),null}else 2*$e()-s.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=es.current,Ai(es,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $o(),Ii(ji),Ii(Ti),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ii(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(es),null;case 4:return $o(),null;case 10:return To(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Na=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xo(Ko.current);var o,s=null;switch(n){case"input":i=X(e,i),r=X(e,r),s=[];break;case"select":i=D({},i,{value:void 0}),r=D({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Oa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,Ya=!1,$a="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ec(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,hl(e,t,n),Ya=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));pl(s,a,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ec(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&$(i,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(i,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[pi]=s}catch(g){Ec(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Ec(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=$e())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||d,ml(t,e),Ya=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(f=(p=Ja).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Za(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==f?(f.return=p,Ja=f):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){Ec(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Xa;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Xa;var c=Ya;if(Xa=s,(Ya=l)&&!c)for(Ja=i;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Sl(i):null!==l?(l.return=s,Ja=l):Sl(i);for(;null!==o;)Ja=o,bl(o,t,n),o=o.sibling;Ja=i,Xa=a,Ya=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ja=o):xl(e)}}function xl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(o(163))}Ya||512&t.flags&&il(t)}catch(p){Ec(t,t.return,p)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function wl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Sl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var o=t.return;try{il(t)}catch(l){Ec(t,o,l)}break;case 5:var s=t.return;try{il(t)}catch(l){Ec(t,s,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var kl,El=Math.ceil,Il=x.ReactCurrentDispatcher,Al=x.ReactCurrentOwner,Cl=x.ReactCurrentBatchConfig,Tl=0,jl=null,_l=null,Rl=0,Pl=0,Nl=Ei(0),Ol=0,Ll=null,Ml=0,Dl=0,Fl=0,zl=null,Vl=null,Bl=0,Ul=1/0,ql=null,Wl=!1,Hl=null,Kl=null,Gl=!1,Ql=null,Xl=0,Yl=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Tl)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Rl?Rl&-Rl:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,$l=null,Error(o(185));vt(e,n,r),0!==(2&Tl)&&e===jl||(e===jl&&(0===(2&Tl)&&(Dl|=n),4===Ol&&ac(e,Rl)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Ul=$e()+500,zi&&Ui()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===jl?Rl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){zi=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),si(function(){0===(6&Tl)&&Ui()}),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===jl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tl;Tl|=2;var s=fc();for(jl===e&&Rl===t||(ql=null,Ul=$e()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}Co(),Il.current=s,Tl=i,null!==_l?t=0:(jl=null,Rl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ll,hc(e,0),ac(e,r),rc(e,$e()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=ft(e))&&(r=s,t=oc(e,s))),1===t))throw n=Ll,hc(e,0),ac(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Vl,ql);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Bl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vl,ql),t);break}wc(e,Vl,ql);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vl,ql),r);break}wc(e,Vl,ql);break;default:throw Error(o(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&sc(t)),e}function sc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function ac(e,t){for(t&=~Fl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ll,hc(e,0),ac(e,t),rc(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vl,ql),rc(e,$e()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Ul=$e()+500,zi&&Ui())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Tl)&&Sc();var t=Tl;Tl|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Tl=t))&&Ui()}}function dc(){Pl=Nl.current,Ii(Nl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==_l)for(n=_l.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:$o(),Ii(ji),Ii(Ti),rs();break;case 5:Zo(r);break;case 4:$o();break;case 13:case 19:Ii(es);break;case 10:To(r.type._context);break;case 22:case 23:dc()}n=n.return}if(jl=e,_l=e=Nc(e.current,null),Rl=Pl=t,Ol=0,Ll=null,Fl=Dl=Ml=0,Vl=zl=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Po=null}return e}function pc(e,t){for(;;){var n=_l;try{if(Co(),is.current=Js,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,Al.current=null,null===n||null===n.return){Ol=1,Ll=t,_l=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ga(a);if(null!==f){f.flags&=-257,va(f,a,l,0,t),1&f.mode&&ma(s,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mo(ca(c,l));break e}}s=c=ca(c,l),4!==Ol&&(Ol=2),null===zl?zl=[s]:zl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Uo(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Uo(s,fa(s,l,t));break e}}s=s.return}while(null!==s)}xc(n)}catch(x){t=x,_l===n&&null!==n&&(_l=n=n.return);continue}break}}function fc(){var e=Il.current;return Il.current=Js,null===e?Js:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===jl||0===(268435455&Ml)&&0===(268435455&Dl)||ac(jl,Rl)}function gc(e,t){var n=Tl;Tl|=2;var r=fc();for(jl===e&&Rl===t||(ql=null,hc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(Co(),Tl=n,Il.current=r,null!==_l)throw Error(o(261));return jl=null,Rl=0,Ol}function vc(){for(;null!==_l;)bc(_l)}function yc(){for(;null!==_l&&!Xe();)bc(_l)}function bc(e){var t=kl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?xc(e):_l=t,Al.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Pl)))return void(_l=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(_l=n);if(null===e)return Ol=6,void(_l=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(_l=t);_l=t=e}while(null!==t);0===Ol&&(Ol=5)}function wc(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===jl&&(_l=jl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,jc(tt,function(){return Sc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cl.transition,Cl.transition=null;var a=bt;bt=1;var l=Tl;Tl|=4,Al.current=null,function(e,t){if(ei=Wt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=a),p===s&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ti),Wt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ye(),Tl=l,bt=a,Cl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Xl=i),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Xl)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===$l?Yl++:(Yl=0,$l=e):Yl=0,Ui()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function Sc(){if(null!==Ql){var e=xt(Xl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Xl=0,0!==(6&Tl))throw Error(o(331));var i=Tl;for(Tl|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var p=(d=Ja).sibling,f=d.return;if(ol(d),d===u){Ja=null;break}if(null!==p){p.return=f,Ja=p;break}Ja=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var b=e.current;for(Ja=b;null!==Ja;){var x=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==x)x.return=a,Ja=x;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Ec(l,l.return,S)}if(l===a){Ja=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ja=w;break e}Ja=l.return}}if(Tl=i,Ui(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function kc(e,t,n){e=Vo(e,t=pa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Vo(t,e=fa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Rl&n)===n&&(4===Ol||3===Ol&&(130023424&Rl)===Rl&&500>$e()-Bl?hc(e,0):Fl|=n),rc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Lo(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ac(e,n)}function jc(e,t){return Ge(e,t)}function _c(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new _c(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Pc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Lc(n.children,i,s,t);case E:a=8,i|=8;break;case I:return(e=Rc(12,n,t,2|i)).elementType=I,e.lanes=s,e;case j:return(e=Rc(13,n,t,i)).elementType=j,e.lanes=s,e;case _:return(e=Rc(19,n,t,i)).elementType=_,e.lanes=s,e;case N:return Mc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:a=10;break e;case C:a=9;break e;case T:a=11;break e;case R:a=14;break e;case P:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Rc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,s,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Rc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),e}function Bc(e){if(!e)return Ci;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Uc(e,t,n,r,i,o,s,a,l){return(e=Vc(n,r,!0,e,0,o,0,a,l)).context=Bc(null),n=e.current,(o=zo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Vo(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vo(i,t,s))&&(nc(e,i,s,o),Bo(e,i,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ji.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:ja(t),fo();break;case 5:Jo(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(ko,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Da(e,t,n):(Ai(es,1&es.current),null!==(e=Wa(e,t,n))?e.sibling:null);Ai(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ua(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Ea(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=Ri(t,Ti.current);_o(t,n),i=gs(null,t,r,e,i,n);var s=vs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Do(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ta(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),xa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=na(r,e),i){case 0:t=Aa(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(ja(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Fo(e,t),qo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=_a(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=_a(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){t=Wa(e,t,n);break e}xa(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ia(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Da(e,t,n);case 4:return Yo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ai(ko,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!ji.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=zo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),jo(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),jo(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_o(t,n),r=r(i=Ro(i)),t.flags|=1,xa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Sa(e,t,r,i=na(r.type,i),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),qa(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,_o(t,n),sa(t,r,i),la(t,r,i,n),Ta(null,t,r,!0,e,n);case 19:return Ua(e,t,n);case 22:return Ea(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Wc(s);a.call(e)}}qc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(s);o.call(e)}}var s=Uc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[fi]=s.current,Ur(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fi]=l.current,Ur(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,i,r);return Wc(s)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[fi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,$e()),0===(6&Tl)&&(Ul=$e()+500,Ui()))}break;case 13:uc(function(){var t=Lo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Lo(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Et=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,je=uc;var eu={usingClientEntryPoint:!1,Events:[bi,xi,wi,Ae,Ce,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,i,0,s,a),e[fi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[fi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2799:(e,t,n)=>{"use strict";n.d(t,{P2:()=>v});var r=n(2555);const i=(e,t)=>t.some(t=>e instanceof t);let o,s;const a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return l.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function p(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(g(this),n),m(a.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(e.apply(g(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(g(this),t,...r);return c.set(o,t.sort?t.sort():[t]),m(o)}}function f(e){return"function"===typeof e?p(e):(e instanceof IDBTransaction&&function(e){if(l.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});l.set(e,t)}(e),i(e,o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e)}function m(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(m(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&a.set(t,e)}).catch(()=>{}),d.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=f(e);return t!==e&&(u.set(e,t),d.set(t,e)),t}const g=e=>d.get(e);function v(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=m(s);return r&&s.addEventListener("upgradeneeded",e=>{r(m(s.result),e.oldVersion,e.newVersion,m(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}const y=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],x=new Map;function w(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(x.get(t))return x.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!y.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return x.set(t,o),o}h=(e=>(0,r.A)((0,r.A)({},e),{},{get:(t,n,r)=>w(t,n)||e.get(t,n,r),has:(t,n)=>!!w(t,n)||e.has(t,n)}))(h)},2965:(e,t,n)=>{"use strict";n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=a[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class c{constructor(e){this.name=e,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},3069:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});const r={apiKey:"AIzaSyA4VxXsU3yI3GedYREVkUIOgHo8NU1DUsw",authDomain:"ia-project-91c03.firebaseapp.com",projectId:"ia-project-91c03",storageBucket:"ia-project-91c03.firebasestorage.app",messagingSenderId:"764765123671",appId:"1:764765123671:web:c6861709d1a881fcfe1f12",measurementId:""}},3174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>S.A,StyledEngineProvider:()=>w,ThemeContext:()=>i.T,css:()=>v.AH,default:()=>k,internal_processStyles:()=>E,internal_serializeStyles:()=>A,keyframes:()=>v.i7});var r=n(8168),i=n(9369),o=n(6598),s=n(9436),a=n(1722),l=n(5043),c=n(918),u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,d=(0,c.A)(function(e){return u.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),h=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?d:h},f=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,a.SF)(t,n,r),(0,s.s)(function(){return(0,a.sk)(t,n,r)}),null},g=function e(t,n){var s,c,u=t.__emotion_real===t,d=u&&t.__emotion_base||t;void 0!==n&&(s=n.label,c=n.target);var h=f(t,n,u),g=h||p(d),v=!g("as");return function(){var y=arguments,b=u&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==s&&b.push("label:"+s+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{var x=y[0];b.push(x[0]);for(var w=y.length,S=1;S<w;S++)b.push(y[S],x[S])}var k=(0,i.w)(function(e,t,n){var r=v&&e.as||d,s="",u=[],f=e;if(null==e.theme){for(var y in f={},e)f[y]=e[y];f.theme=l.useContext(i.T)}"string"===typeof e.className?s=(0,a.Rk)(t.registered,u,e.className):null!=e.className&&(s=e.className+" ");var x=(0,o.J)(b.concat(u),t.registered,f);s+=t.key+"-"+x.name,void 0!==c&&(s+=" "+c);var w=v&&void 0===h?p(r):g,S={};for(var k in e)v&&"as"===k||w(k)&&(S[k]=e[k]);return S.className=s,n&&(S.ref=n),l.createElement(l.Fragment,null,l.createElement(m,{cache:t,serialized:x,isStringTag:"string"===typeof r}),l.createElement(r,S))});return k.displayName=void 0!==s?s:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",k.defaultProps=t.defaultProps,k.__emotion_real=k,k.__emotion_base=d,k.__emotion_styles=b,k.__emotion_forwardProp=h,Object.defineProperty(k,"toString",{value:function(){return"."+c}}),k.withComponent=function(t,i){return e(t,(0,r.A)({},n,i,{shouldForwardProp:f(k,i,!0)})).apply(void 0,b)},k}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){g[e]=g(e)});var v=n(3290),y=n(3803),b=n(579);const x=new Map;function w(e){const{injectFirst:t,enableCssLayer:n,children:r}=e,o=l.useMemo(()=>{const e="".concat(t,"-").concat(n);if("object"===typeof document&&x.has(e))return x.get(e);const r=function(e,t){const n=(0,y.A)({key:"css",prepend:e});if(t){const e=n.insert;n.insert=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n[1].styles.match(/^@layer\s+[^{]*$/)||(n[1].styles="@layer mui {".concat(n[1].styles,"}")),e(...n)}}return n}(t,n);return x.set(e,r),r},[t,n]);return t||n?(0,b.jsx)(i.C,{value:o,children:r}):r}var S=n(869);function k(e,t){return g(e,t)}const E=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},I=[];function A(e){return I[0]=e,(0,o.J)(I)}},3234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>i.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>o.A});var r=n(8812),i=n(8698),o=n(7758)},3290:(e,t,n)=>{"use strict";n.d(t,{AH:()=>u,i7:()=>d,mL:()=>c});var r=n(9369),i=n(5043),o=n(1722),s=n(9436),a=n(6598),l=(n(3803),n(219),function(e,t){var n=arguments;if(null==t||!r.h.call(t,"css"))return i.createElement.apply(void 0,n);var o=n.length,s=new Array(o);s[0]=r.E,s[1]=(0,r.c)(e,t);for(var a=2;a<o;a++)s[a]=n[a];return i.createElement.apply(null,s)});!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(l||(l={}));var c=(0,r.w)(function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,i.useContext(r.T)),c=i.useRef();return(0,s.i)(function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),c.current=[n,r],function(){n.flush()}},[t]),(0,s.i)(function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,o.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}},[t,l.name]),null});function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}function d(){var e=u.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},3382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>o});var r=n(528);const i=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function o(e){const t="".concat(e).match(i);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||o(e)||t}function a(e,t,n){const r=s(t);return e.displayName||(""!==r?"".concat(n,"(").concat(r,")"):n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.vM:return a(e,e.render,"ForwardRef");case r.lD:return a(e,e.type,"memo");default:return}}}},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},3803:(e,t,n)=>{"use strict";n.d(t,{A:()=>ie});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),i=Math.abs,o=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function p(e){return e.length}function f(e,t){return t.push(e),e}var m=1,g=1,v=0,y=0,b=0,x="";function w(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:m,column:g,length:s,return:""}}function S(e,t){return s(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function k(){return b=y>0?u(x,--y):0,g--,10===b&&(g=1,m--),b}function E(){return b=y<v?u(x,y++):0,g++,10===b&&(g=1,m++),b}function I(){return u(x,y)}function A(){return y}function C(e,t){return d(x,e,t)}function T(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function j(e){return m=g=1,v=h(x=e),y=0,[]}function _(e){return x="",e}function R(e){return a(C(y-1,O(91===e?e+2:40===e?e+1:e)))}function P(e){for(;(b=I())&&b<33;)E();return T(e)>2||T(b)>3?"":" "}function N(e,t){for(;--t&&E()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return C(e,A()+(t<6&&32==I()&&32==E()))}function O(e){for(;E();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&O(b);break;case 40:41===e&&O(e);break;case 92:E()}return y}function L(e,t){for(;E()&&e+b!==57&&(e+b!==84||47!==I()););return"/*"+C(t,y-1)+"*"+o(47===e?e:E())}function M(e){for(;!T(I());)E();return C(e,y)}var D="-ms-",F="-moz-",z="-webkit-",V="comm",B="rule",U="decl",q="@keyframes";function W(e,t){for(var n="",r=p(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function H(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case U:return e.return=e.return||e.value;case V:return"";case q:return e.return=e.value+"{"+W(e.children,r)+"}";case B:e.value=e.props.join(",")}return h(n=W(e.children,r))?e.return=e.value+"{"+n+"}":""}function K(e){return _(G("",null,null,null,[""],e=j(e),0,[0],e))}function G(e,t,n,r,i,s,a,d,p){for(var m=0,g=0,v=a,y=0,b=0,x=0,w=1,S=1,C=1,T=0,j="",_=i,O=s,D=r,F=j;S;)switch(x=T,T=E()){case 40:if(108!=x&&58==u(F,v-1)){-1!=c(F+=l(R(T),"&","&\f"),"&\f")&&(C=-1);break}case 34:case 39:case 91:F+=R(T);break;case 9:case 10:case 13:case 32:F+=P(x);break;case 92:F+=N(A()-1,7);continue;case 47:switch(I()){case 42:case 47:f(X(L(E(),A()),t,n),p);break;default:F+="/"}break;case 123*w:d[m++]=h(F)*C;case 125*w:case 59:case 0:switch(T){case 0:case 125:S=0;case 59+g:-1==C&&(F=l(F,/\f/g,"")),b>0&&h(F)-v&&f(b>32?Y(F+";",r,n,v-1):Y(l(F," ","")+";",r,n,v-2),p);break;case 59:F+=";";default:if(f(D=Q(F,t,n,m,g,i,d,j,_=[],O=[],v),s),123===T)if(0===g)G(F,t,D,D,_,s,v,d,O);else switch(99===y&&110===u(F,3)?100:y){case 100:case 108:case 109:case 115:G(e,D,D,r&&f(Q(e,D,D,0,0,i,d,j,i,_=[],v),O),i,O,v,d,r?_:O);break;default:G(F,D,D,D,[""],O,0,d,O)}}m=g=b=0,w=C=1,j=F="",v=a;break;case 58:v=1+h(F),b=x;default:if(w<1)if(123==T)--w;else if(125==T&&0==w++&&125==k())continue;switch(F+=o(T),T*w){case 38:C=g>0?1:(F+="\f",-1);break;case 44:d[m++]=(h(F)-1)*C,C=1;break;case 64:45===I()&&(F+=R(E())),y=I(),g=v=h(j=F+=M(A())),T++;break;case 45:45===x&&2==h(F)&&(w=0)}}return s}function Q(e,t,n,r,o,s,c,u,h,f,m){for(var g=o-1,v=0===o?s:[""],y=p(v),b=0,x=0,S=0;b<r;++b)for(var k=0,E=d(e,g+1,g=i(x=c[b])),I=e;k<y;++k)(I=a(x>0?v[k]+" "+E:l(E,/&\f/g,v[k])))&&(h[S++]=I);return w(e,t,n,0===o?B:u,h,f,m)}function X(e,t,n){return w(e,t,n,V,o(b),d(e,2,-2),0)}function Y(e,t,n,r){return w(e,t,n,U,d(e,0,r),d(e,r+1,-1),r)}var $=function(e,t,n){for(var r=0,i=0;r=i,i=I(),38===r&&12===i&&(t[n]=1),!T(i);)E();return C(e,y)},J=function(e,t){return _(function(e,t){var n=-1,r=44;do{switch(T(r)){case 0:38===r&&12===I()&&(t[n]=1),e[n]+=$(y-1,t,n);break;case 2:e[n]+=R(r);break;case 4:if(44===r){e[++n]=58===I()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=E());return e}(j(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!r){Z.set(e,!0);for(var i=[],o=J(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return z+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return z+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return z+e+F+e+D+e+e;case 6828:case 4268:return z+e+D+e+e;case 6165:return z+e+D+"flex-"+e+e;case 5187:return z+e+l(e,/(\w+).+(:[^]+)/,z+"box-$1$2"+D+"flex-$1$2")+e;case 5443:return z+e+D+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return z+e+D+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return z+e+D+l(e,"shrink","negative")+e;case 5292:return z+e+D+l(e,"basis","preferred-size")+e;case 6060:return z+"box-"+l(e,"-grow","")+z+e+D+l(e,"grow","positive")+e;case 4554:return z+l(e,/([^-])(transform)/g,"$1"+z+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,z+"$1"),/(image-set)/,z+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,z+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,z+"box-pack:$3"+D+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+z+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,z+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+z+"$2-$3$1"+F+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+z)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+z+(45===u(e,14)?"inline-":"")+"box$3$1"+z+"$2$3$1"+D+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return z+e+D+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return z+e+D+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return z+e+D+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return z+e+D+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case U:e.return=ne(e.value,e.length);break;case q:return W([S(e,{value:l(e.value,"@","@"+z)})],r);case B:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([S(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return W([S(e,{props:[l(t,/:(plac\w+)/,":"+z+"input-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,D+"input-$1")]})],r)}return""})}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var i,o,s=e.stylisPlugins||re,a={},l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)});var c,u,d=[H,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=p(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([ee,te].concat(s,d));o=function(e,t,n,r){c=n,W(K(e?e+"{"+t.styles+"}":t.styles),h),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new r({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return f.sheet.hydrate(l),f}},3815:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9172);const i=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:k.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+T(l,0):o,w(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),j(s,t,i,"",function(e){return e})):null!=s&&(A(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+T(a=e[c],c);l+=j(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=j(a=a.value,t,i,u=o+T(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},N={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:N,ReactCurrentOwner:k};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,n){_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _(e,function(){t++}),t},toArray:function(e){return _(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4853:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8587),i=n(8168);const o=["values","unit","step"],s=e=>{const t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>(0,i.A)({},e,{[t.key]:t.val}),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,r.A)(e,o),c=s(t),u=Object.keys(c);function d(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function h(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-a/100).concat(n,")")}function p(e,r){const i=u.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof t[u[i]]?t[u[i]]:r)-a/100).concat(n,")")}return(0,i.A)({keys:u,values:c,up:d,down:h,between:p,only:function(e){return u.indexOf(e)+1<u.length?p(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):p(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===v)},t.typeOf=w},4989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>i.A,unstable_applyStyles:()=>o.A});var r=n(8280),i=n(4853),o=n(9703)},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5403:(e,t,n)=>{"use strict";var r;n.d(t,{E_:()=>l,F3:()=>a,Ii:()=>s}),function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(r||(r={}));class i extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const o=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},o=n.Plugins=n.Plugins||{},s=()=>null!==t?t.name:(e=>{var t,n;return(null===e||void 0===e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null===e||void 0===e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e),a=e=>{var t;return null===(t=n.PluginHeaders)||void 0===t?void 0:t.find(t=>t.name===e)},l=new Map;return n.convertFileSrc||(n.convertFileSrc=e=>e),n.getPlatform=s,n.handleError=t=>e.console.error(t),n.isNativePlatform=()=>"web"!==s(),n.isPluginAvailable=e=>{const t=l.get(e);return!!(null===t||void 0===t?void 0:t.platforms.has(s()))||!!a(e)},n.registerPlugin=function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u=l.get(e);if(u)return console.warn('Capacitor plugin "'.concat(e,'" already registered. Cannot register plugins twice.')),u.proxy;const d=s(),h=a(e);let p;const f=o=>{let s;const a=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];const f=(async()=>(!p&&d in c?p=p="function"===typeof c[d]?await c[d]():c[d]:null!==t&&!p&&"web"in c&&(p=p="function"===typeof c.web?await c.web():c.web),p))().then(t=>{const a=((t,o)=>{var s,a;if(!h){if(t)return null===(a=t[o])||void 0===a?void 0:a.bind(t);throw new i('"'.concat(e,'" plugin is not implemented on ').concat(d),r.Unimplemented)}{const r=null===h||void 0===h?void 0:h.methods.find(e=>o===e.name);if(r)return"promise"===r.rtype?t=>n.nativePromise(e,o.toString(),t):(t,r)=>n.nativeCallback(e,o.toString(),t,r);if(t)return null===(s=t[o])||void 0===s?void 0:s.bind(t)}})(t,o);if(a){const e=a(...l);return s=null===e||void 0===e?void 0:e.remove,e}throw new i('"'.concat(e,".").concat(o,'()" is not implemented on ').concat(d),r.Unimplemented)});return"addListener"===o&&(f.remove=async()=>s()),f};return a.toString=()=>"".concat(o.toString(),"() { [capacitor code] }"),Object.defineProperty(a,"name",{value:o,writable:!1,configurable:!1}),a},m=f("addListener"),g=f("removeListener"),v=(e,t)=>{const n=m({eventName:e},t),r=async()=>{const r=await n;g({eventName:e,callbackId:r},t)},i=new Promise(e=>n.then(()=>e({remove:r})));return i.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await r()},i},y=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return h?v:m;case"removeListener":return g;default:return f(t)}}});return o[e]=y,l.set(e,{name:e,proxy:y,platforms:new Set([...Object.keys(c),...h?[d]:[]])}),y},n.Exception=i,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},s=(e=>e.Capacitor=o(e))("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}),a=s.registerPlugin;class l{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r),n&&this.sendRetainedArgumentsForEvent(e);return Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const r=this.listeners[e];if(r)r.forEach(e=>e(t));else if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}}hasListeners(e){var t;return!!(null===(t=this.listeners[e])||void 0===t?void 0:t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not implemented";return new s.Exception(e,r.Unimplemented)}unavailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not available";return new s.Exception(e,r.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const r=n.indexOf(t);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(t=>{this.notifyListeners(e,t)}))}}const c=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),u=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class d extends l{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(e=>{if(e.length<=0)return;let[n,r]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=u(n).trim(),r=u(r).trim(),t[n]=r}),t}async setCookie(e){try{const t=c(e.key),n=c(e.value),r="; expires=".concat((e.expires||"").replace("expires=","")),i=(e.path||"/").replace("path=",""),o=null!=e.url&&e.url.length>0?"domain=".concat(e.url):"";document.cookie="".concat(t,"=").concat(n||"").concat(r,"; path=").concat(i,"; ").concat(o,";")}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie="".concat(e.key,"=; Max-Age=0")}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat((new Date).toUTCString(),";path=/"))}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}a("CapacitorCookies",{web:()=>new d});const h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object.assign({method:e.method||"GET",headers:e.headers},t),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.keys(e);return Object.keys(e).map(e=>e.toLocaleLowerCase()).reduce((n,r,i)=>(n[r]=e[t[i]],n),{})}(e.headers),i=r["content-type"]||"";if("string"===typeof e.data)n.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,r]of Object.entries(e.data||{}))t.set(n,r);n.body=t.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach((e,n)=>{t.append(n,e)});else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const r=new Headers(n.headers);r.delete("content-type"),n.headers=r}else(i.includes("application/json")||"object"===typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class p extends l{async request(e){const t=h(e,e.webFetchExtra),n=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?Object.entries(e).reduce((e,n)=>{const[r,i]=n;let o,s;return Array.isArray(i)?(s="",i.forEach(e=>{o=t?encodeURIComponent(e):e,s+="".concat(r,"=").concat(o,"&")}),s.slice(0,-1)):(o=t?encodeURIComponent(i):i,s="".concat(r,"=").concat(o)),"".concat(e,"&").concat(s)},"").substr(1):null}(e.params,e.shouldEncodeUrlParams),r=n?"".concat(e.url,"?").concat(n):e.url,i=await fetch(r,t),o=i.headers.get("content-type")||"";let s,a,{responseType:l="text"}=i.ok?e:{};switch(o.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":a=await i.blob(),s=await(async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const e=r.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},r.onerror=e=>n(e),r.readAsDataURL(e)}))(a);break;case"json":s=await i.json();break;default:s=await i.text()}const c={};return i.headers.forEach((e,t)=>{c[t]=e}),{data:s,headers:c,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}a("CapacitorHttp",{web:()=>new p})},6068:(e,t,n)=>{"use strict";n.d(t,{c7:()=>R});var r=n(1150),i=n(1776),o=n(9606);const s="firebasestorage.googleapis.com",a="storageBucket";class l extends i.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(d(e),"Firebase Storage: ".concat(t," (").concat(d(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,l.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return d(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var c,u;function d(e){return"storage/"+e}function h(){return new l(c.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function p(){return new l(c.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f(){return new l(c.CANCELED,"User canceled the upload/download.")}function m(e){return new l(c.INVALID_ARGUMENT,e)}function g(){return new l(c.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(c||(c={}));class v{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=v.makeFromUrl(e,t)}catch(i){return new v(e,"")}if(""===n.path)return n;throw r=e,new l(c.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===s?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let s=0;s<u.length;s++){const t=u[s],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new v(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new l(c.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class y{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function b(e,t,n,r){if(r<t)throw m("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw m("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function x(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function w(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(u||(u={}));class S{constructor(e,t,n,r,i,o,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new k(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===u.NO_ERROR,i=n.getStatus();if(!t||w(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===u.ABORT;return void e(!1,new k(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new k(o,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(o){r(o)}else if(null!==i){const e=h();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?g():f())}else{r(p())}};this.canceled_?t(0,new k(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(p,l())},t)}function h(){o&&clearTimeout(o)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let f=!1;function m(e){f||(f=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class k{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function E(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class I{constructor(e,t){this._service=e,this._location=t instanceof v?t:v.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new I(e,t)}get root(){const e=new v(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return E(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new v(this._location.bucket,e);return new I(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new l(c.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function A(e,t){const n=null===t||void 0===t?void 0:t[a];return null==n?null:v.makeFromBucketSpec(n,e)}class C{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=s,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?v.makeFromBucketSpec(r,this._host):A(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=v.makeFromBucketSpec(this._url,e):this._bucket=A(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){b("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){b("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new I(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new y(g());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=x(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new S(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s,a)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const T="@firebase/storage",j="0.14.0",_="storage";function R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,i.Ku)(e);const n=(0,r.j6)(e,_).getImmediate({identifier:t}),o=(0,i.yU)("storage");return o&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const o=(0,i.zJ)(t);o&&((0,i.gE)("https://".concat(e.host,"/b")),(0,i.P1)("Storage",!0)),e._isUsingEmulator=!0,e._protocol=o?"https":"http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken="string"===typeof s?s:(0,i.Fy)(s,e.app.options.projectId))}(e,t,n,r)}(n,...o),n}function P(e,t){let{instanceIdentifier:n}=t;const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new C(i,o,s,n,r.MF)}(0,r.om)(new o.uA(_,P,"PUBLIC").setMultipleInstances(!0)),(0,r.KO)(T,j,""),(0,r.KO)(T,j,"esm2020")},6531:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(1188)},6598:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=n(918),o=!1,s=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},u=(0,i.A)(function(e){return l(e)?e:e.replace(s,"-$&").toLowerCase()}),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,function(e,t,n){return f={name:t,styles:n,next:f},t})}return 1===r[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},h="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function p(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return f={name:i.name,styles:i.styles,next:f},i.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)f={name:a.name,styles:a.styles,next:f},a=a.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=p(e,t,n[i])+";";else for(var s in n){var a=n[s];if("object"!==typeof a){var l=a;null!=t&&void 0!==t[l]?r+=s+"{"+t[l]+"}":c(l)&&(r+=u(s)+":"+d(s,l)+";")}else{if("NO_COMPONENT_SELECTOR"===s&&o)throw new Error(h);if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var f=p(e,t,a);switch(s){case"animation":case"animationName":r+=u(s)+":"+f+";";break;default:r+=s+"{"+f+"}"}}else for(var m=0;m<a.length;m++)c(a[m])&&(r+=u(s)+":"+d(s,a[m])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var l=f,m=n(e);return f=l,p(e,t,m)}}var g=n;if(null==t)return g;var v=t[g];return void 0!==v?v:g}var f,m=/label:\s*([^\s;{]+)\s*(;|$)/g;function g(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";f=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=p(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++){if(i+=p(n,t,e[s]),r)i+=o[s]}m.lastIndex=0;for(var a,l="";null!==(a=m.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:f}}},6667:(e,t,n)=>{"use strict";n.d(t,{Dc:()=>be,rJ:()=>Wu,H9:()=>Hu,ol:()=>Zu,x7:()=>$d,GG:()=>Zd,aU:()=>Yu,AB:()=>Vd,My:()=>Fd,P:()=>Nd,BN:()=>eh,mZ:()=>th,_M:()=>Ld});var r,i,o=n(2555),s=n(1150),a=n(9606),l=n(2965),c=n(1776),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},d={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let o,s=e.g[3];o=t+(s^n&(i^s))+r[0]+3614090360&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[3]+3250441966&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[4]+4118548399&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[7]+4249261313&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[8]+1770035416&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[11]+2304563134&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[12]+1804603682&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[15]+1236535329&4294967295,o=t+(i^s&((n=i+(o<<22&4294967295|o>>>10))^i))+r[1]+4129170786&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[0]+3921069994&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[5]+3593408605&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[4]+3889429448&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[9]+568446438&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[8]+1163531501&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[13]+2850285829&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[12]+2368359562&4294967295,o=t+((n=i+(o<<20&4294967295|o>>>12))^i^s)+r[5]+4294588738&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[14]+4259657740&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[1]+2763975236&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[10]+3200236656&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[13]+681279174&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[6]+76029189&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[9]+3654602809&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[2]+3299628645&4294967295,o=t+(i^((n=i+(o<<23&4294967295|o>>>9))|~s))+r[0]+4096336452&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[5]+4237533241&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[12]+1700485571&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[1]+2240044497&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[8]+1873313359&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[13]+1309151649&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[4]+4149444226&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function o(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let o=this.h,s=0;for(;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var s={};function a(e){return-128<=e&&e<128?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new o([0|e],e<0?-1:0)}):new o([0|e],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(e<0)return m(l(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}var c=a(0),u=a(1),h=a(16777216);function p(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function f(e){return-1==e.h}function m(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(u)}function g(e,t){return e.add(m(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(p(t))throw Error("division by zero");if(p(e))return new y(c,c);if(f(e))return t=b(m(e),t),new y(m(t.g),m(t.h));if(f(t))return t=b(e,m(t)),new y(m(t.g),t.h);if(e.g.length>30){if(f(e)||f(t))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=t;r.l(e)<=0;)n=x(n),r=x(r);var i=w(n,1),o=w(r,1);for(r=w(r,2),n=w(n,2);!p(r);){var s=o.add(r);s.l(e)<=0&&(i=i.add(n),o=s),r=w(r,1),n=w(n,1)}return t=g(e,i.j(t)),new y(i,t)}for(i=c;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),s=(o=l(n)).j(t);f(s)||s.l(e)>0;)s=(o=l(n-=r)).j(t);p(o)&&(o=u),i=i.add(o),e=g(e,s)}return new y(i,e)}function x(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function w(e,t){const n=t>>5;t%=32;const r=e.g.length-n,i=[];for(let o=0;o<r;o++)i[o]=t>0?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new o(i,e.h)}(e=o.prototype).m=function(){if(f(this))return-m(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(p(this))return"0";if(f(this))return"-"+m(this).toString(e);const t=l(Math.pow(e,6));var n=this;let r="";for(;;){const i=b(n,t).g;let o=(((n=g(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(p(n=i))return o+r;for(;o.length<6;)o="0"+o;r=o+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return f(e=g(this,e))?-1:p(e)?0:1},e.abs=function(){return f(this)?m(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let r=0;for(let i=0;i<=t;i++){let t=r+(65535&this.i(i))+(65535&e.i(i)),o=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=o>>>16,t&=65535,o&=65535,n[i]=o<<16|t}return new o(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(p(this)||p(e))return c;if(f(this))return f(e)?m(this).j(m(e)):m(m(this).j(e));if(f(e))return m(this.j(m(e)));if(this.l(h)<0&&e.l(h)<0)return l(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){const i=this.i(r)>>>16,o=65535&this.i(r),s=e.i(t)>>>16,a=65535&e.i(t);n[2*r+2*t]+=o*a,v(n,2*r+2*t),n[2*r+2*t+1]+=i*a,v(n,2*r+2*t+1),n[2*r+2*t+1]+=o*s,v(n,2*r+2*t+1),n[2*r+2*t+2]+=i*s,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new o(n,0)},e.B=function(e){return b(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,i=d.Md5=t,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return m(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=l(Math.pow(n,8));let i=c;for(let s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s);const e=parseInt(t.substring(s,s+o),n);o<8?(o=l(Math.pow(n,o)),i=i.j(o).add(l(e))):(i=i.j(r),i=i.add(l(e)))}return i},r=d.Integer=o}).apply("undefined"!==typeof u?u:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var h,p,f,m,g,v,y,b,x="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof x&&x];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},o=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function S(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function E(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function I(e){o.setTimeout(()=>{throw e},0)}function A(){var e=R;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T,e=>e.reset());class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let j,_=!1,R=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=Promise.resolve(void 0);j=()=>{e.then(N)}};function N(){for(var e;e=A();){try{e.h.call(e.g)}catch(n){I(n)}var t=C;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}_=!1}function O(){this.u=this.u,this.C=this.C}function L(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},L.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(n){}return e}();function D(e){return/^[\s\xa0]*$/.test(e)}function F(e,t){L.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(F,L),F.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),V=0;function B(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++V,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function q(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function W(e){const t={};for(const n in e)t[n]=e[n];return t}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<H.length;t++)n=H[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function G(e){this.src=e,this.g={},this.h=0}function Q(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=o>=0)&&Array.prototype.splice.call(i,o,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function X(e,t,n,r){for(let i=0;i<e.length;++i){const o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}G.prototype.add=function(e,t,n,r,i){const o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);const s=X(e,t,r,i);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new B(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Y="closure_lm_"+(1e6*Math.random()|0),$={};function J(e,t,n,r,i){if(r&&r.once)return ee(e,t,n,r,i);if(Array.isArray(t)){for(let o=0;o<t.length;o++)J(e,t[o],n,r,i);return null}return n=le(n),e&&e[z]?e.J(t,n,s(r)?!!r.capture:!!r,i):Z(e,t,n,!1,r,i)}function Z(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");const a=s(i)?!!i.capture:!!i;let l=se(e);if(l||(e[Y]=l=new G(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=oe;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ie(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ee(e,t,n,r,i){if(Array.isArray(t)){for(let o=0;o<t.length;o++)ee(e,t[o],n,r,i);return null}return n=le(n),e&&e[z]?e.K(t,n,s(r)?!!r.capture:!!r,i):Z(e,t,n,!0,r,i)}function te(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)te(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=le(n),e&&e[z]?(e=e.i,(o=String(t).toString())in e.g&&((n=X(t=e.g[o],n,r,i))>-1&&(U(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[o],e.h--)))):e&&(e=se(e))&&(t=e.g[t.toString()],e=-1,t&&(e=X(t,n,r,i)),(n=e>-1?t[e]:null)&&re(n))}function re(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[z])Q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ie(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=se(t))?(Q(n,e),0==n.h&&(n.src=null,t[Y]=null)):U(e)}}}function ie(e){return e in $?$[e]:$[e]="on"+e}function oe(e,t){if(e.da)e=!0;else{t=new F(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&re(e),e=n.call(r,t)}return e}function se(e){return(e=e[Y])instanceof G?e:null}var ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(e){return"function"===typeof e?e:(e[ae]||(e[ae]=function(t){return e.handleEvent(t)}),e[ae])}function ce(){O.call(this),this.i=new G(this),this.M=this,this.G=null}function ue(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new L(t,e);else if(t instanceof L)t.target=t.target||e;else{var i=t;K(t=new L(r,e),i)}let o,s;if(i=!0,n)for(s=n.length-1;s>=0;s--)o=t.g=n[s],i=de(o,r,!0,t)&&i;if(o=t.g=e,i=de(o,r,!0,t)&&i,i=de(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=de(o,r,!1,t)&&i}function de(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let o=0;o<t.length;++o){const s=t[o];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&Q(e.i,s),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function he(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,he(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(ce,O),ce.prototype[z]=!0,ce.prototype.removeEventListener=function(e,t,n,r){te(this,e,t,n,r)},ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)U(n[e]);delete e.g[t],e.h--}}this.G=null},ce.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ce.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class pe extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:he(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fe(e){O.call(this),this.h=e,this.g={}}u(fe,O);var me=[];function ge(e){q(e.g,function(e,t){this.g.hasOwnProperty(t)&&re(e)},e),e.g={}}fe.prototype.N=function(){fe.Z.N.call(this),ge(this)},fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ve=o.JSON.stringify,ye=o.JSON.parse,be=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function xe(){}function we(){}var Se={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){L.call(this,"d")}function Ee(){L.call(this,"c")}u(ke,L),u(Ee,L);var Ie={},Ae=null;function Ce(){return Ae=Ae||new ce}function Te(e){L.call(this,Ie.Ia,e)}function je(e){const t=Ce();ue(t,new Te(t))}function _e(e,t){L.call(this,Ie.STAT_EVENT,e),this.stat=t}function Re(e){const t=Ce();ue(t,new _e(t,e))}function Pe(e,t){L.call(this,Ie.Ja,e),this.size=t}function Ne(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function Oe(){this.g=!0}function Le(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const o=JSON.parse(t);if(o)for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var n=o[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return ve(o)}catch(o){return t}}(e,n)+(r?" "+r:"")})}Ie.Ia="serverreachability",u(Te,L),Ie.STAT_EVENT="statevent",u(_e,L),Ie.Ja="timingevent",u(Pe,L),Oe.prototype.ua=function(){this.g=!1},Oe.prototype.info=function(){};var Me,De={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function ze(){}function Ve(e){return encodeURIComponent(String(e))}function Be(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ue(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new fe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}u(ze,xe),ze.prototype.g=function(){return new XMLHttpRequest},Me=new ze;var We={},He={};function Ke(e,t,n){e.M=1,e.A=vt(ht(t)),e.u=n,e.R=!0,Ge(e,null)}function Ge(e,t){e.F=Date.now(),Ye(e),e.B=ht(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),Rt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new qe,e.g=yn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new pe(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(me[0]=i.toString()),i=me);for(let o=0;o<i.length;o++){const e=J(n,i[o],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?W(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),je(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o){var s="",a=o.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Qe(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Xe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?He:(n=Number(t.substring(n,r)),isNaN(n)?We:(r+=1)+n>t.length?He:(t=t.slice(r,r+n),e.C=r+n,t))}function Ye(e){e.T=Date.now()+e.H,$e(e,e.H)}function $e(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Ne(l(e.aa,e),t)}function Je(e){e.D&&(o.clearTimeout(e.D),e.D=null)}function Ze(e){0==e.j.I||e.K||pn(e.j,e)}function et(e){Je(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ge(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function tt(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||st(n.h,e)))if(!e.L&&st(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;hn(n),tn(n)}cn(n),Re(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Ne(l(n.Va,n),6e3));ot(n.h)<=1&&n.ta&&(n.ta=void 0)}else mn(n,11)}else if((e.L||n.g==e)&&hn(n),!D(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(at(o,o.h),o.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,gt(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=vn(r,r.L?r.ba:null,r.W),s.L){lt(r.h,s);var a=s,c=r.O;c&&(a.H=c),a.D&&(Je(a),Ye(a)),r.g=s}else ln(r);n.i.length>0&&rn(n)}else"stop"!=l[0]&&"close"!=l[0]||mn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?mn(n,7):en(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}je()}catch(u){}}Ue.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Yt(e)?t.j():this.Y(e)},Ue.prototype.Y=function(e){try{if(e==this.g)e:{const l=Yt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||4!=l||7==c||je(),Je(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Qe(e))return e.g.la();const t=$t(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Yt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return et(e),Ze(e),"";e.h.i=new o.TextDecoder}for(let o=0;o<r;o++)e.h.h=!0,n+=e.h.i.decode(t[o],{stream:!(i&&o==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,Re(12),et(this),Ze(this);break e}Le(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Xe(this,n),t==He){4==l&&(this.m=4,Re(14),e=!1),Le(this.i,this.l,null,"[Incomplete Response]");break}if(t==We){this.m=4,Re(15),Le(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Le(this.i,this.l,t,null),tt(this,t)}if(Qe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,Re(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),un(a),a.P=!0,Re(11))}}else Le(this.i,this.l,n,"[Invalid Chunked Response]"),et(this),Ze(this)}else Le(this.i,this.l,n,null),tt(this,n);4==l&&et(this),this.o&&!this.K&&(4==l?pn(this.j,this):(this.o=!1,Ye(this)))}else(function(e){const t={};e=(e.g&&Yt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(D(e[r]))continue;var n=Be(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),et(this),Ze(this)}}}catch(ne){}},Ue.prototype.cancel=function(){this.K=!0,et(this)},Ue.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(je(),Re(17)),et(this),this.m=2,Ze(this)):$e(this,this.T-e)};var nt=class{constructor(e,t){this.g=e,this.map=t}};function rt(e){this.l=e||10,o.PerformanceNavigationTiming?e=(e=o.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function it(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ot(e){return e.h?1:e.g?e.g.size:0}function st(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function at(e,t){e.g?e.g.add(t):e.h=t}function lt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ct(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return S(e.i)}rt.prototype.cancel=function(){if(this.i=ct(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ut=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dt(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof dt?(this.l=e.l,pt(this,e.j),this.o=e.o,this.g=e.g,ft(this,e.u),this.h=e.h,mt(this,Pt(e.i)),this.m=e.m):e&&(t=String(e).match(ut))?(this.l=!1,pt(this,t[1]||"",!0),this.o=yt(t[2]||""),this.g=yt(t[3]||"",!0),ft(this,t[4]),this.h=yt(t[5]||"",!0),mt(this,t[6]||"",!0),this.m=yt(t[7]||"")):(this.l=!1,this.i=new At(null,this.l))}function ht(e){return new dt(e)}function pt(e,t,n){e.j=n?yt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ft(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function mt(e,t,n){t instanceof At?(e.i=t,function(e,t){t&&!e.j&&(Ct(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(Tt(this,t),Rt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=bt(t,Et)),e.i=new At(t,e.l))}function gt(e,t,n){e.i.set(t,n)}function vt(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function yt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dt.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(bt(t,wt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(bt(t,wt,!0),"@"),e.push(Ve(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bt(n,"/"==n.charAt(0)?kt:St,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",bt(n,It)),e.join("")},dt.prototype.resolve=function(e){const t=ht(this);let n=!!e.j;n?pt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)ft(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?mt(t,Pt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var wt=/[#\/\?@]/g,St=/[#\?:]/g,kt=/[#\?]/g,Et=/[#\?@]/g,It=/#/g;function At(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ct(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,o=null;r>=0?(i=e[n].substring(0,r),o=e[n].substring(r+1)):i=e[n],t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Tt(e,t){Ct(e),t=Nt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function jt(e,t){return Ct(e),t=Nt(e,t),e.g.has(t)}function _t(e,t){Ct(e);let n=[];if("string"===typeof t)jt(e,t)&&(n=n.concat(e.g.get(Nt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function Rt(e,t,n){Tt(e,t),n.length>0&&(e.i=null,e.g.set(Nt(e,t),S(n)),e.h+=n.length)}function Pt(e){const t=new At;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Nt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ot(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Lt(){this.g=new be}function Mt(e){this.i=e.Sb||null,this.h=e.ab||!1}function Dt(e,t){ce.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Ft(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function zt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Vt(e)}function Vt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Bt(e){let t="";return q(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Ut(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Bt(n),"string"===typeof e?null!=n&&Ve(n):gt(e,t,n))}function qt(e){ce.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=At.prototype).add=function(e,t){Ct(this),this.i=null,e=Nt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Ct(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return Ct(this),this.i=null,jt(this,e=Nt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=_t(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ve(n);n=_t(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ve(n[t])),e.push(r)}}return this.i=e.join("&")},u(Mt,xe),Mt.prototype.g=function(){return new Dt(this.i,this.h)},u(Dt,ce),(e=Dt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Vt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,zt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vt(this)),this.g&&(this.readyState=3,Vt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ft(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zt(this):Vt(this),3==this.readyState&&Ft(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,zt(this))},e.Na=function(e){this.g&&(this.response=e,zt(this))},e.ga=function(){this.g&&zt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(qt,ce);var Wt=/^https?$/i,Ht=["POST","PUT"];function Kt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Gt(e),Xt(e)}function Gt(e){e.A||(e.A=!0,ue(e,"complete"),ue(e,"error"))}function Qt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Yt(e))setTimeout(e.Ca.bind(e),0);else if(ue(e,"readystatechange"),4==Yt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(ut)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!Wt.test(t?t.toLowerCase():"")}n=r}if(n)ue(e,"complete"),ue(e,"success");else{e.o=6;try{var s=Yt(e)>2?e.g.statusText:""}catch(a){s=""}e.l=s+" ["+e.ca()+"]",Gt(e)}}finally{Xt(e)}}}function Xt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||ue(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Yt(e){return e.g?e.g.readyState:0}function $t(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Jt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zt(e){this.za=0,this.i=[],this.j=new Oe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Jt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Jt("baseRetryDelayMs",5e3,e),this.Za=Jt("retryDelaySeedMs",1e4,e),this.Ta=Jt("forwardChannelMaxRetries",2,e),this.va=Jt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new rt(e&&e.concurrentRequestLimit),this.Ba=new Lt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function en(e){if(nn(e),3==e.I){var t=e.V++,n=ht(e.J);if(gt(n,"SID",e.M),gt(n,"RID",t),gt(n,"TYPE","terminate"),sn(e,n),(t=new Ue(e,e.j,t)).M=2,t.A=vt(ht(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&o.Image&&((new Image).src=t.A,n=!0),n||(t.g=yn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Ye(t)}gn(e)}function tn(e){e.g&&(un(e),e.g.cancel(),e.g=null)}function nn(e){tn(e),e.v&&(o.clearTimeout(e.v),e.v=null),hn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&o.clearTimeout(e.m),e.m=null)}function rn(e){if(!it(e.h)&&!e.m){e.m=!0;var t=e.Ea;j||P(),_||(j(),_=!0),R.add(t,e),e.D=0}}function on(e,t){var n;n=t?t.l:e.V++;const r=ht(e.J);gt(r,"SID",e.M),gt(r,"RID",n),gt(r,"AID",e.K),sn(e,r),e.u&&e.o&&Ut(r,e.u,e.o),n=new Ue(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=an(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),at(e.h,n),Ke(n,r,t)}function sn(e,t){e.H&&q(e.H,function(e,n){gt(t,n,e)}),e.l&&q({},function(e,n){gt(t,n,e)})}function an(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var o=i[c].g;const n=i[c].map;if((o-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{o="req"+o+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;s(n)&&(r=ve(n)),e.push(o+t+"="+encodeURIComponent(r))}}catch(k){throw e.push(o+"type="+encodeURIComponent("_badmap")),k}}catch(k){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function ln(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;j||P(),_||(j(),_=!0),R.add(t,e),e.A=0}}function cn(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=Ne(l(e.Da,e),fn(e,e.A)),e.A++,!0)}function un(e){null!=e.B&&(o.clearTimeout(e.B),e.B=null)}function dn(e){e.g=new Ue(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=ht(e.na);gt(t,"RID","rpc"),gt(t,"SID",e.M),gt(t,"AID",e.K),gt(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&gt(t,"TO",e.ia),gt(t,"TYPE","xmlhttp"),sn(e,t),e.u&&e.o&&Ut(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=vt(ht(t)),n.u=null,n.R=!0,Ge(n,e)}function hn(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function pn(e,t){var n=null;if(e.g==t){hn(e),un(e),e.g=null;var r=2}else{if(!st(e.h,t))return;n=t.G,lt(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;ue(r=Ce(),new Pe(r,n)),rn(e)}else ln(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(ot(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=Ne(l(e.Ea,e,t),fn(e,e.D)),e.D++,!0))}(e,t)||2==r&&cn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:mn(e,5);break;case 4:mn(e,10);break;case 3:mn(e,6);break;default:mn(e,2)}}function fn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function mn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new dt(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||pt(r,"https"),vt(r),t?function(e,t){const n=new Oe;if(o.Image){const r=new Image;r.onload=c(Ot,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Ot,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Ot,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Ot,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Oe;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ot(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Ot(0,0,!0,t):Ot(0,0,!1,t)}).catch(()=>{clearTimeout(r),Ot(0,0,!1,t)})}(r.toString(),n)}else Re(2);e.I=0,e.l&&e.l.pa(t),gn(e),nn(e)}function gn(e){if(e.I=0,e.ja=[],e.l){const t=ct(e.h);0==t.length&&0==e.i.length||(E(e.ja,t),E(e.ja,e.i),e.h.i.length=0,S(e.i),e.i.length=0),e.l.oa()}}function vn(e,t,n){var r=n instanceof dt?ht(n):new dt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ft(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new dt(null);r&&pt(e,r),t&&(e.g=t),i&&ft(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&gt(r,n,t),gt(r,"VER",e.ka),sn(e,r),r}function yn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new qt(new Mt({ab:n})):new qt(e.ma)).Fa(e.L),t}function bn(){}function xn(){}function wn(e,t){ce.call(this),this.g=new Zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!D(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!D(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new En(this)}function Sn(e){ke.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kn(){Ee.call(this),this.status=1}function En(e){this.g=e}(e=qt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Me.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Kt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(Ht,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){Kt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,ue(this,"complete"),ue(this,"abort"),Xt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),qt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Qt(this):this.Xa())},e.Xa=function(){Qt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Yt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ye(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){Re(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=vn(this,null,this.W),rn(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ue(this,this.j,e);let o=this.o;if(this.U&&(o?(o=W(o),K(o,this.U)):o=this.U),null!==this.u||this.R||(i.J=o,o=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=an(this,i,t),gt(n=ht(this.J),"RID",e),gt(n,"CVER",22),this.G&&gt(n,"X-HTTP-Session-Id",this.G),sn(this,n),o&&(this.R?t="headers="+Ve(Bt(o))+"&"+t:this.u&&Ut(n,this.u,o)),at(this.h,i),this.Ra&&gt(n,"TYPE","init"),this.S?(gt(n,"$req",t),gt(n,"SID","null"),i.U=!0,Ke(i,n,null)):Ke(i,n,t),this.I=2}}else 3==this.I&&(e?on(this,e):0==this.i.length||it(this.h)||on(this))},e.Da=function(){if(this.v=null,dn(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Ne(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),tn(this),dn(this))},e.Va=function(){null!=this.C&&(this.C=null,tn(this),cn(this),Re(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},xn.prototype.g=function(e,t){return new wn(e,t)},u(wn,ce),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){en(this.g)},wn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ve(e),e=n);t.i.push(new nt(t.Ya++,e)),3==t.I&&rn(t)},wn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,wn.Z.N.call(this)},u(Sn,ke),u(kn,Ee),u(En,bn),En.prototype.ra=function(){ue(this.g,"a")},En.prototype.qa=function(e){ue(this.g,new Sn(e))},En.prototype.pa=function(e){ue(this.g,new kn)},En.prototype.oa=function(){ue(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,b=w.createWebChannelTransport=function(){return new xn},y=w.getStatEventTarget=function(){return Ce()},v=w.Event=Ie,g=w.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,m=w.ErrorCode=De,Fe.COMPLETE="complete",f=w.EventType=Fe,we.EventType=Se,Se.OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",ce.prototype.listen=ce.prototype.J,p=w.WebChannel=we,w.FetchXmlHttpFactory=Mt,qt.prototype.listenOnce=qt.prototype.K,qt.prototype.getLastError=qt.prototype.Ha,qt.prototype.getLastErrorCode=qt.prototype.ya,qt.prototype.getStatus=qt.prototype.ca,qt.prototype.getResponseJson=qt.prototype.La,qt.prototype.getResponseText=qt.prototype.la,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Fa,h=w.XhrIo=qt}).apply("undefined"!==typeof x?x:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const S="@firebase/firestore",k="4.9.2";class E{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}E.UNAUTHENTICATED=new E(null),E.GOOGLE_CREDENTIALS=new E("google-credentials-uid"),E.FIRST_PARTY=new E("first-party-uid"),E.MOCK_USER=new E("mock-user");let I="12.3.0";const A=new l.Vy("@firebase/firestore");function C(){return A.logLevel}function T(e){if(A.logLevel<=l.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(R);A.debug("Firestore (".concat(I,"): ").concat(e),...i)}}function j(e){if(A.logLevel<=l.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(R);A.error("Firestore (".concat(I,"): ").concat(e),...i)}}function _(e){if(A.logLevel<=l.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(R);A.warn("Firestore (".concat(I,"): ").concat(e),...i)}}function R(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function P(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,N(e,r,n)}function N(e,t,n){let r="FIRESTORE (".concat(I,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw j(r),new Error(r)}function O(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||N(t,i,r)}function L(e,t){return e}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends c.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class F{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class z{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(E.UNAUTHENTICATED))}shutdown(){}}class B{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class U{constructor(e){this.t=e,this.currentUser=E.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){O(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new F;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new F,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new F)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(O("string"==typeof t.accessToken,31837,{l:t}),new z(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return O(null===e||"string"==typeof e,2055,{h:e}),new E(e)}}class q{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=E.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class W{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new q(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(E.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,s.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){O(void 0===this.o,3512);const n=e=>{null!=e.error&&T("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,T("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new H(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(O("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new H(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function G(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Q{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=G(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function X(e,t){return e<t?-1:e>t?1:0}function Y(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Z(n)===Z(i)?X(n,i):Z(n)?1:-1}return X(e.length,t.length)}const $=55296,J=57343;function Z(e){const t=e.charCodeAt(0);return t>=$&&t<=J}function ee(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function te(e){return e+"\0"}const ne="__name__";class re{constructor(e,t,n){void 0===t?t=0:t>e.length&&P(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&P(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===re.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof re?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=re.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return X(e.length,t.length)}static compareSegments(e,t){const n=re.isNumericId(e),r=re.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?re.extractNumericId(e).compare(re.extractNumericId(t)):Y(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class ie extends re{construct(e,t,n){return new ie(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new D(M.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new ie(e)}static emptyPath(){return new ie([])}}const oe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class se extends re{construct(e,t,n){return new se(e,t,n)}static isValidIdentifier(e){return oe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),se.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ne}static keyField(){return new se([ne])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new D(M.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new D(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new D(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new D(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new se(t)}static emptyPath(){return new se([])}}class ae{constructor(e){this.path=e}static fromPath(e){return new ae(ie.fromString(e))}static fromName(e){return new ae(ie.fromString(e).popFirst(5))}static empty(){return new ae(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ie.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ie.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new ie(e.slice()))}}function le(e,t,n){if(!n)throw new D(M.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ce(e){if(!ae.isDocumentKey(e))throw new D(M.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ue(e){if(ae.isDocumentKey(e))throw new D(M.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function de(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function he(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":P(12329,{type:typeof e})}function pe(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new D(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=he(e);throw new D(M.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function fe(e,t){if(t<=0)throw new D(M.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function me(e,t){const n={typeString:e};return t&&(n.value=t),n}function ge(e,t){if(!de(e))throw new D(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(i&&typeof s!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==o&&s!==o.value){n="Expected '".concat(r,"' field to equal '").concat(o.value,"'");break}}if(n)throw new D(M.INVALID_ARGUMENT,n);return!0}const ve=-62135596800,ye=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ye);return new be(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new D(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new D(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ve)throw new D(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ye}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ge(e,be._jsonSchema))return new be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ve;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}be._jsonSchemaVersion="firestore/timestamp/1.0",be._jsonSchema={type:me("string",be._jsonSchemaVersion),seconds:me("number"),nanoseconds:me("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new be(0,0))}static max(){return new xe(new be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const we=-1;class Se{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function ke(e){return e.fields.find(e=>2===e.kind)}function Ee(e){return e.fields.filter(e=>2!==e.kind)}Se.UNKNOWN_ID=-1;class Ie{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ae{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ae(0,je.min())}}function Ce(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(1e9===r?new be(n+1,0):new be(n,r));return new je(i,ae.empty(),t)}function Te(e){return new je(e.readTime,e.key,we)}class je{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new je(xe.min(),ae.empty(),we)}static max(){return new je(xe.max(),ae.empty(),we)}}function _e(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ae.comparator(e.documentKey,t.documentKey),0!==n?n:X(e.largestBatchId,t.largestBatchId))}const Re="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Ne(e){if(e.code!==M.FAILED_PRECONDITION||e.message!==Re)throw e;T("LocalStore","Unexpectedly lost primary lease")}class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&P(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Oe((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Oe?t:Oe.resolve(t)}catch(e){return Oe.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.reject(t)}static resolve(e){return new Oe((t,n)=>{t(e)})}static reject(e){return new Oe((t,n)=>{n(e)})}static waitFor(e){return new Oe((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=Oe.resolve(!1);for(const n of e)t=t.next(e=>e?Oe.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Oe((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{o[l]=e,++s,s===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new Oe((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}const Le="SimpleDb";class Me{static open(e,t,n,r){try{return new Me(t,e.transaction(r,n))}catch(e){throw new Ve(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new F,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Ve(e,t.error)):this.S.resolve()},this.transaction.onerror=t=>{const n=He(t.target.error);this.S.reject(new Ve(e,n))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(T(Le,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ue(t)}}class De{static delete(e){return T(Le,"Removing database:",e),qe((0,c.mS)().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!(0,c.zW)())return!1;if(De.F())return!0;const e=(0,c.ZQ)(),t=De.M(e),n=0<t&&t<10,r=Fe(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static F(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.N=n,this.B=null,12.2===De.M((0,c.ZQ)())&&j("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(T(Le,"Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Ve(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new D(M.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new D(M.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Ve(e,r))},r.onupgradeneeded=e=>{T(Le,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.N.k(t,r.transaction,e.oldVersion,this.version).next(()=>{T(Le,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=e=>this.q(e)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.L(e);const t=Me.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next(e=>(t.C(),e)).catch(e=>(t.abort(e),Oe.reject(e))).toPromise();return o.catch(()=>{}),await t.D,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(T(Le,"Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Fe(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class ze{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return qe(this.U.delete())}}class Ve extends D{constructor(e,t){super(M.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Be(e){return"IndexedDbTransactionError"===e.name}class Ue{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(T(Le,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(T(Le,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),qe(n)}add(e){return T(Le,"ADD",this.store.name,e,e),qe(this.store.add(e))}get(e){return qe(this.store.get(e)).next(t=>(void 0===t&&(t=null),T(Le,"GET",this.store.name,e,t),t))}delete(e){return T(Le,"DELETE",this.store.name,e),qe(this.store.delete(e))}count(){return T(Le,"COUNT",this.store.name),qe(this.store.count())}J(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Oe((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{const e=this.cursor(n),t=[];return this.H(e,(e,n)=>{t.push(n)}).next(()=>t)}}Y(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Oe((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}Z(e,t){T(Le,"DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const r=this.cursor(n);return this.H(r,(e,t,n)=>n.delete())}ee(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.H(r,t)}te(e){const t=this.cursor({});return new Oe((n,r)=>{t.onerror=e=>{const t=He(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}H(e,t){const n=[];return new Oe((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new ze(i),s=t(i.primaryKey,i.value,o);if(s instanceof Oe){const e=s.catch(e=>(o.done(),Oe.reject(e)));n.push(e)}o.isDone?r():null===o.G?i.continue():i.continue(o.G)}}).next(()=>Oe.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function qe(e){return new Oe((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=He(e.target.error);n(t)}})}let We=!1;function He(e){const t=De.M((0,c.ZQ)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new D("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return We||(We=!0,setTimeout(()=>{throw e},0)),e}}return e}const Ke="IndexBackfiller";class Ge{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}re(e){T(Ke,"Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const e=await this.ne.ie();T(Ke,"Documents written: ".concat(e))}catch(e){Be(e)?T(Ke,"Ignoring IndexedDB error during index backfill: ",e):await Ne(e)}await this.re(6e4)})}}class Qe{constructor(e,t){this.localStore=e,this.persistence=t}async ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){const n=new Set;let r=t,i=!0;return Oe.doWhile(()=>!0===i&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return T(Ke,"Processing collection: ".concat(t)),this.oe(e,t,r).next(e=>{r-=e,n.add(t)});i=!1})).next(()=>t-r)}oe(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this._e(r,n)).next(n=>(T(Ke,"Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>i.size)}))}_e(e,t){let n=e;return t.changes.forEach((e,t)=>{const r=Te(t);_e(r,n)>0&&(n=r)}),new je(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Xe{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xe.ce=-1;const Ye=-1;function $e(e){return null==e}function Je(e){return 0===e&&1/e==-1/0}function Ze(e){return"number"==typeof e&&Number.isInteger(e)&&!Je(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const et="\x01";function tt(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=rt(t)),t=nt(e.get(n),t);return rt(t)}function nt(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case et:n+="\x01\x11";break;default:n+=t}}return n}function rt(e){return e+et+"\x01"}function it(e){const t=e.length;if(O(t>=2,64408,{path:e}),2===t)return O(e.charAt(0)===et&&"\x01"===e.charAt(1),56145,{path:e}),ie.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf(et,o);switch((t<0||t>n)&&P(50515,{path:e}),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:P(61167,{path:e})}o=t+2}return new ie(r)}const ot="remoteDocuments",st="owner",at="owner",lt="mutationQueues",ct="mutations",ut="batchId",dt="userMutationsIndex",ht=["userId","batchId"];function pt(e,t){return[e,tt(t)]}function ft(e,t,n){return[e,tt(t),n]}const mt={},gt="documentMutations",vt="remoteDocumentsV14",yt=["prefixPath","collectionGroup","readTime","documentId"],bt="documentKeyIndex",xt=["prefixPath","collectionGroup","documentId"],wt="collectionGroupIndex",St=["collectionGroup","readTime","prefixPath","documentId"],kt="remoteDocumentGlobal",Et="remoteDocumentGlobalKey",It="targets",At="queryTargetsIndex",Ct=["canonicalId","targetId"],Tt="targetDocuments",jt=["targetId","path"],_t="documentTargetsIndex",Rt=["path","targetId"],Pt="targetGlobalKey",Nt="targetGlobal",Ot="collectionParents",Lt=["collectionId","parent"],Mt="clientMetadata",Dt="bundles",Ft="namedQueries",zt="indexConfiguration",Vt="collectionGroupIndex",Bt="indexState",Ut=["indexId","uid"],qt="sequenceNumberIndex",Wt=["uid","sequenceNumber"],Ht="indexEntries",Kt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Gt="documentKeyIndex",Qt=["indexId","uid","orderedDocumentKey"],Xt="documentOverlays",Yt=["userId","collectionPath","documentId"],$t="collectionPathOverlayIndex",Jt=["userId","collectionPath","largestBatchId"],Zt="collectionGroupOverlayIndex",en=["userId","collectionGroup","largestBatchId"],tn="globals",nn=[lt,ct,gt,ot,It,st,Nt,Tt,Mt,kt,Ot,Dt,Ft],rn=[...nn,Xt],on=[lt,ct,gt,vt,It,st,Nt,Tt,Mt,kt,Ot,Dt,Ft,Xt],sn=on,an=[...sn,zt,Bt,Ht],ln=an,cn=[...an,tn],un=cn;class dn extends Pe{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function hn(e,t){const n=L(e);return De.O(n.le,t)}function pn(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fn(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function mn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class gn{constructor(e,t){this.comparator=e,this.root=t||yn.EMPTY}insert(e,t){return new gn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vn(this.root,e,this.comparator,!1)}getReverseIterator(){return new vn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vn(this.root,e,this.comparator,!0)}}class vn{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:yn.RED,this.left=null!=r?r:yn.EMPTY,this.right=null!=i?i:yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new yn(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return yn.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw P(43730,{key:this.key,value:this.value});if(this.right.isRed())throw P(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw P(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1,yn.EMPTY=new class{constructor(){this.size=0}get key(){throw P(57766)}get value(){throw P(16141)}get color(){throw P(16727)}get left(){throw P(29726)}get right(){throw P(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bn{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xn(this.data.getIterator())}getIteratorFrom(e){return new xn(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof bn))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class xn{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wn(e){return e.hasNext()?e.getNext():void 0}class Sn{constructor(e){this.fields=e,e.sort(se.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new bn(se.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ee(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class kn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class En{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new kn("Invalid base64 string: "+e):e}}(e);return new En(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new En(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const In=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function An(e){if(O(!!e,39018),"string"==typeof e){let t=0;const n=In.exec(e);if(O(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Cn(e.seconds),nanos:Cn(e.nanos)}}function Cn(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Tn(e){return"string"==typeof e?En.fromBase64String(e):En.fromUint8Array(e)}const jn="server_timestamp",_n="__type__",Rn="__previous_value__",Pn="__local_write_time__";function Nn(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[_n])||void 0===t?void 0:t.stringValue)===jn}function On(e){const t=e.mapValue.fields[Rn];return Nn(t)?On(t):t}function Ln(e){const t=An(e.mapValue.fields[Pn].timestampValue);return new be(t.seconds,t.nanos)}class Mn{constructor(e,t,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const Dn="(default)";class Fn{constructor(e,t){this.projectId=e,this.database=t||Dn}static empty(){return new Fn("","")}get isDefaultDatabase(){return this.database===Dn}isEqual(e){return e instanceof Fn&&e.projectId===this.projectId&&e.database===this.database}}const zn="__type__",Vn="__max__",Bn={mapValue:{fields:{__type__:{stringValue:Vn}}}},Un="__vector__",qn="value",Wn={nullValue:"NULL_VALUE"};function Hn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Nn(e)?4:lr(e)?9007199254740991:sr(e)?10:11:P(28295,{value:e})}function Kn(e,t){if(e===t)return!0;const n=Hn(e);if(n!==Hn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ln(e).isEqual(Ln(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=An(e.timestampValue),r=An(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Tn(e.bytesValue).isEqual(Tn(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Cn(e.geoPointValue.latitude)===Cn(t.geoPointValue.latitude)&&Cn(e.geoPointValue.longitude)===Cn(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Cn(e.integerValue)===Cn(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Cn(e.doubleValue),r=Cn(t.doubleValue);return n===r?Je(n)===Je(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ee(e.arrayValue.values||[],t.arrayValue.values||[],Kn);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(pn(n)!==pn(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Kn(n[i],r[i])))return!1;return!0}(e,t);default:return P(52216,{left:e})}}function Gn(e,t){return void 0!==(e.values||[]).find(e=>Kn(e,t))}function Qn(e,t){if(e===t)return 0;const n=Hn(e),r=Hn(t);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Cn(e.integerValue||e.doubleValue),r=Cn(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Xn(e.timestampValue,t.timestampValue);case 4:return Xn(Ln(e),Ln(t));case 5:return Y(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Tn(e),r=Tn(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=X(n[i],r[i]);if(0!==e)return e}return X(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=X(Cn(e.latitude),Cn(t.latitude));return 0!==n?n:X(Cn(e.longitude),Cn(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Yn(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const s=e.fields||{},a=t.fields||{},l=null===(n=s[qn])||void 0===n?void 0:n.arrayValue,c=null===(r=a[qn])||void 0===r?void 0:r.arrayValue,u=X((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(o=c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Yn(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Bn.mapValue&&t===Bn.mapValue)return 0;if(e===Bn.mapValue)return 1;if(t===Bn.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Y(r[s],o[s]);if(0!==e)return e;const t=Qn(n[r[s]],i[o[s]]);if(0!==t)return t}return X(r.length,o.length)}(e.mapValue,t.mapValue);default:throw P(23264,{he:n})}}function Xn(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return X(e,t);const n=An(e),r=An(t),i=X(n.seconds,r.seconds);return 0!==i?i:X(n.nanos,r.nanos)}function Yn(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Qn(n[i],r[i]);if(e)return e}return X(n.length,r.length)}function $n(e){return Jn(e)}function Jn(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=An(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Tn(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ae.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Jn(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Jn(e.fields[i]));return n+"}"}(e.mapValue):P(61005,{value:e})}function Zn(e){switch(Hn(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=On(e);return t?16+Zn(t):16;case 5:return 2*e.stringValue.length;case 6:return Tn(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Zn(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return fn(e.fields,(e,n)=>{t+=e.length+Zn(n)}),t}(e.mapValue);default:throw P(13486,{value:e})}}function er(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function tr(e){return!!e&&"integerValue"in e}function nr(e){return!!e&&"arrayValue"in e}function rr(e){return!!e&&"nullValue"in e}function ir(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function or(e){return!!e&&"mapValue"in e}function sr(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[zn])||void 0===t?void 0:t.stringValue)===Un}function ar(e){if(e.geoPointValue)return{geoPointValue:(0,o.A)({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:(0,o.A)({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return fn(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ar(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ar(e.arrayValue.values[n]);return t}return(0,o.A)({},e)}function lr(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Vn}const cr={mapValue:{fields:{[zn]:{stringValue:Un},[qn]:{arrayValue:{}}}}};function ur(e){return"nullValue"in e?Wn:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?er(Fn.empty(),ae.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?sr(e)?cr:{mapValue:{}}:P(35942,{value:e})}function dr(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?er(Fn.empty(),ae.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?cr:"mapValue"in e?sr(e)?{mapValue:{}}:Bn:P(61959,{value:e})}function hr(e,t){const n=Qn(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function pr(e,t){const n=Qn(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!or(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ar(t)}setAll(e){let t=se.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ar(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());or(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];or(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){fn(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new fr(ar(this.value))}}function mr(e){const t=[];return fn(e.fields,(e,n)=>{const r=new se([e]);if(or(n)){const e=mr(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Sn(t)}class gr{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new gr(e,0,xe.min(),xe.min(),xe.min(),fr.empty(),0)}static newFoundDocument(e,t,n,r){return new gr(e,1,t,xe.min(),n,r,0)}static newNoDocument(e,t){return new gr(e,2,t,xe.min(),xe.min(),fr.empty(),0)}static newUnknownDocument(e,t){return new gr(e,3,t,xe.min(),xe.min(),fr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class vr{constructor(e,t){this.position=e,this.inclusive=t}}function yr(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?ae.comparator(ae.fromName(s.referenceValue),n.key):Qn(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function br(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Kn(e.position[n],t.position[n]))return!1;return!0}class xr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function wr(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Sr{}class kr extends Sr{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Nr(e,t,n):"array-contains"===t?new Dr(e,n):"in"===t?new Fr(e,n):"not-in"===t?new zr(e,n):"array-contains-any"===t?new Vr(e,n):new kr(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Or(e,n):new Lr(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Qn(t,this.value)):null!==t&&Hn(this.value)===Hn(t)&&this.matchesComparison(Qn(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends Sr{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Er(e,t)}matches(e){return Ir(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ir(e){return"and"===e.op}function Ar(e){return"or"===e.op}function Cr(e){return Tr(e)&&Ir(e)}function Tr(e){for(const t of e.filters)if(t instanceof Er)return!1;return!0}function jr(e){if(e instanceof kr)return e.field.canonicalString()+e.op.toString()+$n(e.value);if(Cr(e))return e.filters.map(e=>jr(e)).join(",");{const t=e.filters.map(e=>jr(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function _r(e,t){return e instanceof kr?function(e,t){return t instanceof kr&&e.op===t.op&&e.field.isEqual(t.field)&&Kn(e.value,t.value)}(e,t):e instanceof Er?function(e,t){return t instanceof Er&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&_r(n,t.filters[r]),!0)}(e,t):void P(19439)}function Rr(e,t){const n=e.filters.concat(t);return Er.create(n,e.op)}function Pr(e){return e instanceof kr?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat($n(e.value))}(e):e instanceof Er?function(e){return e.op.toString()+" {"+e.getFilters().map(Pr).join(" ,")+"}"}(e):"Filter"}class Nr extends kr{constructor(e,t,n){super(e,t,n),this.key=ae.fromName(n.referenceValue)}matches(e){const t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class Or extends kr{constructor(e,t){super(e,"in",t),this.keys=Mr("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Lr extends kr{constructor(e,t){super(e,"not-in",t),this.keys=Mr("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Mr(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ae.fromName(e.referenceValue))}class Dr extends kr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nr(t)&&Gn(t.arrayValue,this.value)}}class Fr extends kr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gn(this.value.arrayValue,t)}}class zr extends kr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Gn(this.value.arrayValue,t)}}class Vr extends kr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nr(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Gn(this.value.arrayValue,e))}}class Br{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Te=null}}function Ur(e){return new Br(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function qr(e){const t=L(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>jr(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),$e(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>$n(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>$n(e)).join(",")),t.Te=e}return t.Te}function Wr(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!wr(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!_r(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!br(e.startAt,t.startAt)&&br(e.endAt,t.endAt)}function Hr(e){return ae.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Kr(e,t){return e.filters.filter(e=>e instanceof kr&&e.field.isEqual(t))}function Gr(e,t,n){let r=Wn,i=!0;for(const o of Kr(e,t)){let e=Wn,t=!0;switch(o.op){case"<":case"<=":e=ur(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Wn}hr({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];hr({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Qr(e,t,n){let r=Bn,i=!0;for(const o of Kr(e,t)){let e=Bn,t=!0;switch(o.op){case">=":case">":e=dr(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Bn}pr({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];pr({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Xr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Yr(e,t,n,r,i,o,s,a){return new Xr(e,t,n,r,i,o,s,a)}function $r(e){return new Xr(e)}function Jr(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Zr(e){return null!==e.collectionGroup}function ei(e){const t=L(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new bn(se.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new xr(r,n))}),e.has(se.keyField().canonicalString())||t.Ie.push(new xr(se.keyField(),n))}return t.Ie}function ti(e){const t=L(e);return t.Ee||(t.Ee=ni(t,ei(e))),t.Ee}function ni(e,t){if("F"===e.limitType)return Ur(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new xr(e.field,t)});const n=e.endAt?new vr(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new vr(e.startAt.position,e.startAt.inclusive):null;return Ur(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ri(e,t){const n=e.filters.concat([t]);return new Xr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ii(e,t,n){return new Xr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function oi(e,t){return Wr(ti(e),ti(t))&&e.limitType===t.limitType}function si(e){return"".concat(qr(ti(e)),"|lt:").concat(e.limitType)}function ai(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Pr(e)).join(", "),"]")),$e(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>$n(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>$n(e)).join(",")),"Target(".concat(t,")")}(ti(e)),"; limitType=").concat(e.limitType,")")}function li(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ae.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ei(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=yr(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ei(e),t))&&!(e.endAt&&!function(e,t,n){const r=yr(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ei(e),t))}(e,t)}function ci(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ui(e){return(t,n)=>{let r=!1;for(const i of ei(e)){const e=di(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function di(e,t,n){const r=e.field.isKeyField()?ae.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Qn(r,i):P(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return P(19790,{direction:e.dir})}}class hi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){fn(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return mn(this.inner)}size(){return this.innerSize}}const pi=new gn(ae.comparator);function fi(){return pi}const mi=new gn(ae.comparator);function gi(){let e=mi;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function vi(e){let t=mi;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function yi(){return xi()}function bi(){return xi()}function xi(){return new hi(e=>e.toString(),(e,t)=>e.isEqual(t))}const wi=new gn(ae.comparator),Si=new bn(ae.comparator);function ki(){let e=Si;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Ei=new bn(X);function Ii(){return Ei}function Ai(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Je(t)?"-0":t}}function Ci(e){return{integerValue:""+e}}function Ti(e,t){return Ze(t)?Ci(t):Ai(e,t)}class ji{constructor(){this._=void 0}}function _i(e,t,n){return e instanceof Ni?function(e,t){const n={fields:{[_n]:{stringValue:jn},[Pn]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Nn(t)&&(t=On(t)),t&&(n.fields[Rn]=t),{mapValue:n}}(n,t):e instanceof Oi?Li(e,t):e instanceof Mi?Di(e,t):function(e,t){const n=Pi(e,t),r=zi(n)+zi(e.Ae);return tr(n)&&tr(e.Ae)?Ci(r):Ai(e.serializer,r)}(e,t)}function Ri(e,t,n){return e instanceof Oi?Li(e,t):e instanceof Mi?Di(e,t):n}function Pi(e,t){return e instanceof Fi?function(e){return tr(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ni extends ji{}class Oi extends ji{constructor(e){super(),this.elements=e}}function Li(e,t){const n=Vi(t);for(const r of e.elements)n.some(e=>Kn(e,r))||n.push(r);return{arrayValue:{values:n}}}class Mi extends ji{constructor(e){super(),this.elements=e}}function Di(e,t){let n=Vi(t);for(const r of e.elements)n=n.filter(e=>!Kn(e,r));return{arrayValue:{values:n}}}class Fi extends ji{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function zi(e){return Cn(e.integerValue||e.doubleValue)}function Vi(e){return nr(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Bi{constructor(e,t){this.field=e,this.transform=t}}class Ui{constructor(e,t){this.version=e,this.transformResults=t}}class qi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qi}static exists(e){return new qi(void 0,e)}static updateTime(e){return new qi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wi(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Hi{}function Ki(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new no(e.key,qi.none()):new $i(e.key,e.data,qi.none());{const n=e.data,r=fr.empty();let i=new bn(se.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ji(e.key,r,new Sn(i.toArray()),qi.none())}}function Gi(e,t,n){e instanceof $i?function(e,t,n){const r=e.value.clone(),i=eo(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ji?function(e,t,n){if(!Wi(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=eo(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Zi(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Qi(e,t,n,r){return e instanceof $i?function(e,t,n,r){if(!Wi(e.precondition,t))return n;const i=e.value.clone(),o=to(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ji?function(e,t,n,r){if(!Wi(e.precondition,t))return n;const i=to(e.fieldTransforms,r,t),o=t.data;return o.setAll(Zi(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Wi(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Xi(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Pi(r.transform,e||null);null!=i&&(null===n&&(n=fr.empty()),n.set(r.field,i))}return n||null}function Yi(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ee(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Oi&&t instanceof Oi||e instanceof Mi&&t instanceof Mi?ee(e.elements,t.elements,Kn):e instanceof Fi&&t instanceof Fi?Kn(e.Ae,t.Ae):e instanceof Ni&&t instanceof Ni}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $i extends Hi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ji extends Hi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Zi(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function eo(e,t,n){const r=new Map;O(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Ri(s,a,n[i]))}return r}function to(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,_i(e,o,t))}return r}class no extends Hi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ro extends Hi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class io{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Gi(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Qi(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Qi(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=bi();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Ki(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(xe.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ki())}isEqual(e){return this.batchId===e.batchId&&ee(this.mutations,e.mutations,(e,t)=>Yi(e,t))&&ee(this.baseMutations,e.baseMutations,(e,t)=>Yi(e,t))}}class oo{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){O(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=wi;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new oo(e,t,n,r)}}class so{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ao{constructor(e,t){this.count=e,this.unchangedNames=t}}var lo,co;function uo(e){switch(e){case M.OK:return P(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return P(15467,{code:e})}}function ho(e){if(void 0===e)return j("GRPC error has no .code"),M.UNKNOWN;switch(e){case lo.OK:return M.OK;case lo.CANCELLED:return M.CANCELLED;case lo.UNKNOWN:return M.UNKNOWN;case lo.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case lo.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case lo.INTERNAL:return M.INTERNAL;case lo.UNAVAILABLE:return M.UNAVAILABLE;case lo.UNAUTHENTICATED:return M.UNAUTHENTICATED;case lo.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case lo.NOT_FOUND:return M.NOT_FOUND;case lo.ALREADY_EXISTS:return M.ALREADY_EXISTS;case lo.PERMISSION_DENIED:return M.PERMISSION_DENIED;case lo.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case lo.ABORTED:return M.ABORTED;case lo.OUT_OF_RANGE:return M.OUT_OF_RANGE;case lo.UNIMPLEMENTED:return M.UNIMPLEMENTED;case lo.DATA_LOSS:return M.DATA_LOSS;default:return P(39323,{code:e})}}(co=lo||(lo={}))[co.OK=0]="OK",co[co.CANCELLED=1]="CANCELLED",co[co.UNKNOWN=2]="UNKNOWN",co[co.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",co[co.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",co[co.NOT_FOUND=5]="NOT_FOUND",co[co.ALREADY_EXISTS=6]="ALREADY_EXISTS",co[co.PERMISSION_DENIED=7]="PERMISSION_DENIED",co[co.UNAUTHENTICATED=16]="UNAUTHENTICATED",co[co.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",co[co.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",co[co.ABORTED=10]="ABORTED",co[co.OUT_OF_RANGE=11]="OUT_OF_RANGE",co[co.UNIMPLEMENTED=12]="UNIMPLEMENTED",co[co.INTERNAL=13]="INTERNAL",co[co.UNAVAILABLE=14]="UNAVAILABLE",co[co.DATA_LOSS=15]="DATA_LOSS";let po=null;function fo(){return new TextEncoder}const mo=new r([4294967295,4294967295],0);function go(e){const t=fo().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function vo(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new r([n,i],0),new r([o,s],0)]}class yo{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new bo("Invalid padding: ".concat(t));if(n<0)throw new bo("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new bo("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new bo("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=r.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(mo)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=go(e),[n,r]=vo(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new yo(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.ge)return;const t=go(e),[n,r]=vo(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xo{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,wo.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new xo(xe.min(),r,new gn(X),fi(),ki())}}class wo{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new wo(n,t,ki(),ki(),ki())}}class So{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class ko{constructor(e,t){this.targetId=e,this.Ce=t}}class Eo{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:En.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Io{constructor(){this.ve=0,this.Fe=To(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ki(),t=ki(),n=ki();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:P(38017,{changeType:i})}}),new wo(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=To()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,O(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ao{constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.Je=Co(),this.He=Co(),this.Ye=new gn(X)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:P(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const o=r.target;if(Hr(o))if(0===n){const e=new ae(o.path);this.et(t,e,gr.newNoDocument(e,xe.min()))}else O(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),o=n?this.ct(n,e,r):1;if(0!==o){this.it(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=po)||void 0===i||i.lt(function(e,t,n,r,i){var o,s,a,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(o=null===d||void 0===d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(s=null===d||void 0===d||null===(a=d.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==s?s:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,o))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Tn(n).toUint8Array()}catch(e){if(e instanceof kn)return _("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new yo(o,r,i)}catch(e){return _(e instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&Hr(i.target)){const t=new ae(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,gr.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=ki();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new xo(e,t,this.Ye,this.je,n);return this.je=fi(),this.Je=Co(),this.He=Co(),this.Ye=new gn(X),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Io,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new bn(X),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new bn(X),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Io),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Co(){return new gn(ae.comparator)}function To(){return new gn(ae.comparator)}const jo={asc:"ASCENDING",desc:"DESCENDING"},_o={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ro={and:"AND",or:"OR"};class Po{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function No(e,t){return e.useProto3Json||$e(t)?t:{value:t}}function Oo(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Lo(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Mo(e,t){return Oo(e,t.toTimestamp())}function Do(e){return O(!!e,49232),xe.fromTimestamp(function(e){const t=An(e);return new be(t.seconds,t.nanos)}(e))}function Fo(e,t){return zo(e,t).canonicalString()}function zo(e,t){const n=function(e){return new ie(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Vo(e){const t=ie.fromString(e);return O(ls(t),10190,{key:t.toString()}),t}function Bo(e,t){return Fo(e.databaseId,t.path)}function Uo(e,t){const n=Vo(t);if(n.get(1)!==e.databaseId.projectId)throw new D(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new D(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ae(Ko(n))}function qo(e,t){return Fo(e.databaseId,t)}function Wo(e){const t=Vo(e);return 4===t.length?ie.emptyPath():Ko(t)}function Ho(e){return new ie(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ko(e){return O(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Go(e,t,n){return{name:Bo(e,t),fields:n.value.mapValue.fields}}function Qo(e,t,n){const r=Uo(e,t.name),i=Do(t.updateTime),o=t.createTime?Do(t.createTime):xe.min(),s=new fr({mapValue:{fields:t.fields}}),a=gr.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Xo(e,t){let n;if(t instanceof $i)n={update:Go(e,t.key,t.value)};else if(t instanceof no)n={delete:Bo(e,t.key)};else if(t instanceof Ji)n={update:Go(e,t.key,t.data),updateMask:as(t.fieldMask)};else{if(!(t instanceof ro))return P(16599,{Vt:t.type});n={verify:Bo(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Ni)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Oi)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Mi)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Fi)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw P(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Mo(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:P(27497)}(e,t.precondition)),n}function Yo(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?qi.updateTime(Do(e.updateTime)):void 0!==e.exists?qi.exists(e.exists):qi.none()}(t.currentDocument):qi.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;if("setToServerValue"in t)O("REQUEST_TIME"===t.setToServerValue,16630,{proto:t}),n=new Ni;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Oi(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Mi(e)}else"increment"in t?n=new Fi(e,t.increment):P(16584,{proto:t});const r=se.fromServerFormat(t.fieldPath);return new Bi(r,n)}(e,t)):[];if(t.update){t.update.name;const i=Uo(e,t.update.name),o=new fr({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Sn(t.map(e=>se.fromServerFormat(e)))}(t.updateMask);return new Ji(i,o,e,n,r)}return new $i(i,o,n,r)}if(t.delete){const r=Uo(e,t.delete);return new no(r,n)}if(t.verify){const r=Uo(e,t.verify);return new ro(r,n)}return P(1463,{proto:t})}function $o(e,t){return{documents:[qo(e,t.path)]}}function Jo(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qo(e,i);const o=function(e){if(0!==e.length)return ss(Er.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:is(e.field),direction:ts(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=No(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Zo(e){let t=Wo(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){O(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=es(e);return t instanceof Er&&Cr(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new xr(os(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,$e(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new vr(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new vr(n,t)}(n.endAt)),Yr(t,i,s,o,a,"F",l,c)}function es(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=os(e.unaryFilter.field);return kr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=os(e.unaryFilter.field);return kr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=os(e.unaryFilter.field);return kr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=os(e.unaryFilter.field);return kr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return P(61313);default:return P(60726)}}(e):void 0!==e.fieldFilter?function(e){return kr.create(os(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return P(58110);default:return P(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Er.create(e.compositeFilter.filters.map(e=>es(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return P(1026)}}(e.compositeFilter.op))}(e):P(30097,{filter:e})}function ts(e){return jo[e]}function ns(e){return _o[e]}function rs(e){return Ro[e]}function is(e){return{fieldPath:e.canonicalString()}}function os(e){return se.fromServerFormat(e.fieldPath)}function ss(e){return e instanceof kr?function(e){if("=="===e.op){if(ir(e.value))return{unaryFilter:{field:is(e.field),op:"IS_NAN"}};if(rr(e.value))return{unaryFilter:{field:is(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ir(e.value))return{unaryFilter:{field:is(e.field),op:"IS_NOT_NAN"}};if(rr(e.value))return{unaryFilter:{field:is(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:is(e.field),op:ns(e.op),value:e.value}}}(e):e instanceof Er?function(e){const t=e.getFilters().map(e=>ss(e));return 1===t.length?t[0]:{compositeFilter:{op:rs(e.op),filters:t}}}(e):P(54877,{filter:e})}function as(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ls(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class cs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xe.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:xe.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:En.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class us{constructor(e){this.yt=e}}function ds(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:hs(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Bo(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Oo(e,t.version.toTimestamp()),createTime:Oo(e,t.createTime.toTimestamp())}}(e.yt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ps(t.version)};else{if(!t.isUnknownDocument())return P(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:ps(t.version)}}return r}function hs(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ps(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function fs(e){const t=new be(e.seconds,e.nanoseconds);return xe.fromTimestamp(t)}function ms(e,t){const n=(t.baseMutations||[]).map(t=>Yo(e.yt,t));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map(t=>Yo(e.yt,t)),i=be.fromMillis(t.localWriteTimeMs);return new io(t.batchId,i,n,r)}function gs(e){const t=fs(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?fs(e.lastLimboFreeSnapshotVersion):xe.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){const t=e.documents.length;return O(1===t,1966,{count:t}),ti($r(Wo(e.documents[0])))}(e.query):function(e){return ti(Zo(e))}(e.query),new cs(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,En.fromBase64String(e.resumeToken))}function vs(e,t){const n=ps(t.snapshotVersion),r=ps(t.lastLimboFreeSnapshotVersion);let i;i=Hr(t.target)?$o(e.yt,t.target):Jo(e.yt,t.target).ft;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:qr(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ys(e){const t=Zo({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ii(t,t.limit,"L"):t}function bs(e,t){return new so(t.largestBatchId,Yo(e.yt,t.overlayMutation))}function xs(e,t){const n=t.path.lastSegment();return[e,tt(t.path.popLast()),n]}function ws(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:ps(r.readTime),documentKey:tt(r.documentKey.path),largestBatchId:r.largestBatchId}}class Ss{getBundleMetadata(e,t){return ks(e).get(t).next(e=>{if(e)return function(e){return{id:e.bundleId,createTime:fs(e.createTime),version:e.version}}(e)})}saveBundleMetadata(e,t){return ks(e).put(function(e){return{bundleId:e.id,createTime:ps(Do(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Es(e).get(t).next(e=>{if(e)return function(e){return{name:e.name,query:ys(e.bundledQuery),readTime:fs(e.readTime)}}(e)})}saveNamedQuery(e,t){return Es(e).put(function(e){return{name:e.name,readTime:ps(Do(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function ks(e){return hn(e,Dt)}function Es(e){return hn(e,Ft)}class Is{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const n=t.uid||"";return new Is(e,n)}getOverlay(e,t){return As(e).get(xs(this.userId,t)).next(e=>e?bs(this.serializer,e):null)}getOverlays(e,t){const n=yi();return Oe.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){const r=[];return n.forEach((n,i)=>{const o=new so(t,i);r.push(this.St(e,o))}),Oe.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(tt(e.getCollectionPath())));const i=[];return r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(As(e).Z($t,r))}),Oe.waitFor(i)}getOverlaysForCollection(e,t,n){const r=yi(),i=tt(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return As(e).J($t,o).next(e=>{for(const t of e){const e=bs(this.serializer,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const i=yi();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return As(e).ee({index:Zt,range:s},(e,t,n)=>{const s=bs(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()}).next(()=>i)}St(e,t){return As(e).put(function(e,t,n){const[r,i,o]=xs(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Xo(e.yt,n.mutation)}}(this.serializer,this.userId,t))}}function As(e){return hn(e,Xt)}class Cs{bt(e){return hn(e,tn)}getSessionToken(e){return this.bt(e).get("sessionToken").next(e=>{const t=null===e||void 0===e?void 0:e.value;return t?En.fromUint8Array(t):En.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Ts{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Cn(e.integerValue));else if("doubleValue"in e){const n=Cn(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Je(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=An(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Tn(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?lr(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):sr(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):P(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=qn,o=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Cn(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),ae.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ts.Kt=new Ts;const js=255;function _s(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function Rs(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=_s(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}class Ps{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Gt(n.value),n=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Ht()}Yt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Gt(e);else if(e<2048)this.Gt(960|e>>>6),this.Gt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Gt(480|e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e);else{const e=t.codePointAt(0);this.Gt(240|e>>>18),this.Gt(128|63&e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e)}}this.zt()}Zt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Jt(e);else if(e<2048)this.Jt(960|e>>>6),this.Jt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Jt(480|e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e);else{const e=t.codePointAt(0);this.Jt(240|e>>>18),this.Jt(128|63&e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e)}}this.Ht()}Xt(e){const t=this.en(e),n=Rs(t);this.tn(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}nn(e){const t=this.en(e),n=Rs(t);this.tn(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}rn(){this.sn(js),this.sn(255)}_n(){this.an(js),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Gt(e){const t=255&e;0===t?(this.sn(0),this.sn(255)):t===js?(this.sn(js),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;0===t?(this.an(0),this.an(255)):t===js?(this.an(js),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Ns{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Os{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Ls{constructor(){this.cn=new Ps,this.ln=new Ns(this.cn),this.hn=new Os(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return 0===e?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ms{constructor(e,t,n,r){this.Tn=e,this.In=t,this.En=n,this.dn=r}An(){const e=this.dn.length,t=0===e||255===this.dn[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.dn,0),t!==e?n.set([0],this.dn.length):++n[n.length-1],new Ms(this.Tn,this.In,this.En,n)}Rn(e,t,n){return{indexId:this.Tn,uid:e,arrayValue:zs(this.En),directionalValue:zs(this.dn),orderedDocumentKey:zs(t),documentKey:n.path.toArray()}}Vn(e,t,n){const r=this.Rn(e,t,n);return[r.indexId,r.uid,r.arrayValue,r.directionalValue,r.orderedDocumentKey,r.documentKey]}}function Ds(e,t){let n=e.Tn-t.Tn;return 0!==n?n:(n=Fs(e.En,t.En),0!==n?n:(n=Fs(e.dn,t.dn),0!==n?n:ae.comparator(e.In,t.In)))}function Fs(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}function zs(e){return(0,c.Ov)()?function(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(e):e}function Vs(e){return"string"!=typeof e?e:function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e)}class Bs{constructor(e){this.mn=new bn((e,t)=>se.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const e=t;e.isInequality()?this.mn=this.mn.add(e):this.gn.push(e)}}get pn(){return this.mn.size>1}yn(e){if(O(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=ke(e);if(void 0!==t&&!this.wn(t))return!1;const n=Ee(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.wn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.mn.size>0){const e=this.mn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.Sn(e,t)||!this.bn(this.fn[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.fn.length||!this.bn(this.fn[o++],e))return!1}return!0}Dn(){if(this.pn)return null;let e=new bn(se.comparator);const t=[];for(const n of this.gn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Ie(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Ie(n.field,0))}for(const n of this.fn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Ie(n.field,"asc"===n.dir?0:1)));return new Se(Se.UNKNOWN_ID,this.collectionId,t,Ae.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Us(e){if(O(e instanceof kr||e instanceof Er,20012),e instanceof kr){if(e instanceof Fr){var t;const n=(null===(t=e.value.arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(t=>kr.create(e.field,"==",t)))||[];return Er.create(n,"or")}return e}const n=e.filters.map(e=>Us(e));return Er.create(n,e.op)}function qs(e){if(0===e.getFilters().length)return[];const t=Gs(Us(e));return O(Ks(t),7391),Ws(t)||Hs(t)?[t]:t.getFilters()}function Ws(e){return e instanceof kr}function Hs(e){return e instanceof Er&&Cr(e)}function Ks(e){return Ws(e)||Hs(e)||function(e){if(e instanceof Er&&Ar(e)){for(const t of e.getFilters())if(!Ws(t)&&!Hs(t))return!1;return!0}return!1}(e)}function Gs(e){if(O(e instanceof kr||e instanceof Er,34018),e instanceof kr)return e;if(1===e.filters.length)return Gs(e.filters[0]);const t=e.filters.map(e=>Gs(e));let n=Er.create(t,e.op);return n=Ys(n),Ks(n)?n:(O(n instanceof Er,64498),O(Ir(n),40251),O(n.filters.length>1,57927),n.filters.reduce((e,t)=>Qs(e,t)))}function Qs(e,t){let n;return O(e instanceof kr||e instanceof Er,38388),O(t instanceof kr||t instanceof Er,25473),n=e instanceof kr?t instanceof kr?function(e,t){return Er.create([e,t],"and")}(e,t):Xs(e,t):t instanceof kr?Xs(t,e):function(e,t){if(O(e.filters.length>0&&t.filters.length>0,48005),Ir(e)&&Ir(t))return Rr(e,t.getFilters());const n=Ar(e)?e:t,r=Ar(e)?t:e,i=n.filters.map(e=>Qs(e,r));return Er.create(i,"or")}(e,t),Ys(n)}function Xs(e,t){if(Ir(t))return Rr(t,e.getFilters());{const n=t.filters.map(t=>Qs(e,t));return Er.create(n,"or")}}function Ys(e){if(O(e instanceof kr||e instanceof Er,11850),e instanceof kr)return e;const t=e.getFilters();if(1===t.length)return Ys(t[0]);if(Tr(e))return e;const n=t.map(e=>Ys(e)),r=[];return n.forEach(t=>{t instanceof kr?r.push(t):t instanceof Er&&(t.op===e.op?r.push(...t.filters):r.push(t))}),1===r.length?r[0]:Er.create(r,e.op)}class $s{constructor(){this.Cn=new Js}addToCollectionParentIndex(e,t){return this.Cn.add(t),Oe.resolve()}getCollectionParents(e,t){return Oe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Oe.resolve()}deleteFieldIndex(e,t){return Oe.resolve()}deleteAllFieldIndexes(e){return Oe.resolve()}createTargetIndexes(e,t){return Oe.resolve()}getDocumentsMatchingTarget(e,t){return Oe.resolve(null)}getIndexType(e,t){return Oe.resolve(0)}getFieldIndexes(e,t){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,t){return Oe.resolve(je.min())}getMinOffsetFromCollectionGroup(e,t){return Oe.resolve(je.min())}updateCollectionGroup(e,t,n){return Oe.resolve()}updateIndexEntries(e,t){return Oe.resolve()}}class Js{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bn(ie.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new bn(ie.comparator)).toArray()}}const Zs="IndexedDbIndexManager",ea=new Uint8Array(0);class ta{constructor(e,t){this.databaseId=t,this.vn=new Js,this.Fn=new hi(e=>qr(e),(e,t)=>Wr(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.vn.add(t)});const i={collectionId:n,parent:tt(r)};return na(e).put(i)}return Oe.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[te(t),""],!1,!0);return na(e).J(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(it(r.parent))}return n})}addFieldIndex(e,t){const n=ia(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=oa(e);return i.next(e=>{n.put(ws(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){const n=ia(e),r=oa(e),i=ra(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=ia(e),n=ra(e),r=oa(e);return t.Z().next(()=>n.Z()).next(()=>r.Z())}createTargetIndexes(e,t){return Oe.forEach(this.Mn(t),t=>this.getIndexType(e,t).next(n=>{if(0===n||1===n){const n=new Bs(t).Dn();if(null!=n)return this.addFieldIndex(e,n)}}))}getDocumentsMatchingTarget(e,t){const n=ra(e);let r=!0;const i=new Map;return Oe.forEach(this.Mn(t),t=>this.xn(e,t).next(e=>{r&&(r=!!e),i.set(t,e)})).next(()=>{if(r){let e=ki();const r=[];return Oe.forEach(i,(i,o)=>{T(Zs,"Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map(e=>"".concat(e.fieldPath,":").concat(e.kind)).join(","))}(i)," to execute ").concat(qr(t)));const s=function(e,t){const n=ke(t);if(void 0===n)return null;for(const r of Kr(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of Ee(t))for(const t of Kr(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Ee(t)){const t=0===i.kind?Gr(e,i.fieldPath,e.startAt):Qr(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new vr(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of Ee(t)){const t=0===i.kind?Qr(e,i.fieldPath,e.endAt):Gr(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new vr(n,r)}(o,i),u=this.On(i,o,l),d=this.On(i,o,c),h=this.Nn(i,o,a),p=this.Bn(i.indexId,s,u,l.inclusive,d,c.inclusive,h);return Oe.forEach(p,i=>n.Y(i,t.limit).next(t=>{t.forEach(t=>{const n=ae.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return Oe.resolve(null)})}Mn(e){let t=this.Fn.get(e);return t||(t=0===e.filters.length?[e]:qs(Er.create(e.filters,"and")).map(t=>Ur(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,t),t)}Bn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.Ln(t[u/l]):ea,d=this.kn(e,a,n[u%l],r),h=this.qn(e,a,i[u%l],o),p=s.map(t=>this.kn(e,a,t,!0));c.push(...this.createRange(d,h,p))}return c}kn(e,t,n,r){const i=new Ms(e,ae.empty(),t,n);return r?i:i.An()}qn(e,t,n,r){const i=new Ms(e,ae.empty(),t,n);return r?i.An():i}xn(e,t){const n=new Bs(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(const r of e)n.yn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t})}getIndexType(e,t){let n=2;const r=this.Mn(t);return Oe.forEach(r,t=>this.xn(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new bn(se.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n)}Qn(e,t){const n=new Ls;for(const r of Ee(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Pn(r.kind);Ts.Kt.Dt(e,i)}return n.un()}Ln(e){const t=new Ls;return Ts.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const n=new Ls;return Ts.Kt.Dt(er(this.databaseId,t),n.Pn(function(e){const t=Ee(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.un()}Nn(e,t,n){if(null===n)return[];let r=[];r.push(new Ls);let i=0;for(const o of Ee(e)){const e=n[i++];for(const n of r)if(this.Un(t,o.fieldPath)&&nr(e))r=this.Kn(r,o,e);else{const t=n.Pn(o.kind);Ts.Kt.Dt(e,t)}}return this.Wn(r)}On(e,t,n){return this.Nn(e,t,n.position)}Wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].un();return t}Kn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Ls;n.seed(e.un()),Ts.Kt.Dt(o,n.Pn(t.kind)),i.push(n)}return i}Un(e,t){return!!e.filters.find(e=>e instanceof kr&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=ia(e),r=oa(e);return(t?n.J(Vt,IDBKeyRange.bound(t,t)):n.J()).next(e=>{const t=[];return Oe.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new Ae(t.sequenceNumber,new je(fs(t.readTime),new ae(it(t.documentKey)),t.largestBatchId)):Ae.empty(),r=e.fields.map(e=>{let[t,n]=e;return new Ie(se.fromServerFormat(t),n)});return new Se(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:X(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=ia(e),i=oa(e);return this.Gn(e).next(e=>r.J(Vt,IDBKeyRange.bound(t,t)).next(t=>Oe.forEach(t,t=>i.put(ws(t.indexId,this.uid,e,n)))))}updateIndexEntries(e,t){const n=new Map;return Oe.forEach(t,(t,r)=>{const i=n.get(t.collectionGroup);return(i?Oe.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(n.set(t.collectionGroup,i),Oe.forEach(i,n=>this.zn(e,t,n).next(t=>{const i=this.jn(r,n);return t.isEqual(i)?Oe.resolve():this.Jn(e,r,n,t,i)}))))})}Hn(e,t,n,r){return ra(e).put(r.Rn(this.uid,this.$n(n,t.key),t.key))}Yn(e,t,n,r){return ra(e).delete(r.Vn(this.uid,this.$n(n,t.key),t.key))}zn(e,t,n){const r=ra(e);let i=new bn(Ds);return r.ee({index:Gt,range:IDBKeyRange.only([n.indexId,this.uid,zs(this.$n(n,t))])},(e,r)=>{i=i.add(new Ms(n.indexId,t,Vs(r.arrayValue),Vs(r.directionalValue)))}).next(()=>i)}jn(e,t){let n=new bn(Ds);const r=this.Qn(t,e);if(null==r)return n;const i=ke(t);if(null!=i){const o=e.data.field(i.fieldPath);if(nr(o))for(const i of o.arrayValue.values||[])n=n.add(new Ms(t.indexId,e.key,this.Ln(i),r))}else n=n.add(new Ms(t.indexId,e.key,ea,r));return n}Jn(e,t,n,r,i){T(Zs,"Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=wn(o),l=wn(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=wn(s)):t?(i(a),a=wn(o)):(a=wn(o),l=wn(s))}}(r,i,Ds,r=>{o.push(this.Hn(e,t,n,r))},r=>{o.push(this.Yn(e,t,n,r))}),Oe.waitFor(o)}Gn(e){let t=1;return oa(e).ee({index:qt,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>Ds(e,t)).filter((e,t,n)=>!t||0!==Ds(e,n[t-1]));const r=[];r.push(e);for(const o of n){const n=Ds(o,e),i=Ds(o,t);if(0===n)r[0]=e.An();else if(n>0&&i<0)r.push(o),r.push(o.An());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Zn(r[o],r[o+1]))return[];const e=r[o].Vn(this.uid,ea,ae.empty()),t=r[o+1].Vn(this.uid,ea,ae.empty());i.push(IDBKeyRange.bound(e,t))}return i}Zn(e,t){return Ds(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(sa)}getMinOffset(e,t){return Oe.mapArray(this.Mn(t),t=>this.xn(e,t).next(e=>e||P(44426))).next(sa)}}function na(e){return hn(e,Ot)}function ra(e){return hn(e,Ht)}function ia(e){return hn(e,zt)}function oa(e){return hn(e,Bt)}function sa(e){O(0!==e.length,28825);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;_e(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new je(t.readTime,t.documentKey,n)}const aa={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},la=41943040;class ca{static withCacheSize(e){return new ca(e,ca.DEFAULT_COLLECTION_PERCENTILE,ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function ua(e,t,n){const r=e.store(ct),i=e.store(gt),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.ee({range:s},(e,t,n)=>(a++,n.delete()));o.push(l.next(()=>{O(1===a,47070,{batchId:n.batchId})}));const c=[];for(const u of n.mutations){const e=ft(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return Oe.waitFor(o).next(()=>c)}function da(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw P(14731);t=e.noDocument}return JSON.stringify(t).length}ca.DEFAULT_COLLECTION_PERCENTILE=10,ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ca.DEFAULT=new ca(la,ca.DEFAULT_COLLECTION_PERCENTILE,ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ca.DISABLED=new ca(-1,0,0);class ha{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Xn={}}static wt(e,t,n,r){O(""!==e.uid,64387);const i=e.isAuthenticated()?e.uid:"";return new ha(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fa(e).ee({index:dt,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=ma(e),o=fa(e);return o.add({}).next(s=>{O("number"==typeof s,49019);const a=new io(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map(t=>Xo(e.yt,t)),i=n.mutations.map(t=>Xo(e.yt,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new bn((e,t)=>X(e.canonicalString(),t.canonicalString()));for(const e of r){const t=ft(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,mt))}return u.forEach(t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Xn[s]=a.keys()}),Oe.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return fa(e).get(t).next(e=>e?(O(e.userId===this.userId,48,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),ms(this.serializer,e)):null)}er(e,t){return this.Xn[t]?Oe.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Xn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return fa(e).ee({index:dt,range:r},(e,t,r)=>{t.userId===this.userId&&(O(t.batchId>=n,47524,{tr:n}),i=ms(this.serializer,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=Ye;return fa(e).ee({index:dt,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ye],[this.userId,Number.POSITIVE_INFINITY]);return fa(e).J(dt,t).next(e=>e.map(e=>ms(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=pt(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return ma(e).ee({range:r},(n,r,o)=>{const[s,a,l]=n,c=it(a);if(s===this.userId&&t.path.isEqual(c))return fa(e).get(l).next(e=>{if(!e)throw P(61480,{nr:n,batchId:l});O(e.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:e.userId,batchId:l}),i.push(ms(this.serializer,e))});o.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new bn(X);const r=[];return t.forEach(t=>{const i=pt(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=ma(e).ee({range:o},(e,r,i)=>{const[o,s,a]=e,l=it(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()});r.push(s)}),Oe.waitFor(r).next(()=>this.rr(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=pt(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new bn(X);return ma(e).ee({range:o},(e,t,i)=>{const[o,a,l]=e,c=it(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):i.done()}).next(()=>this.rr(e,s))}rr(e,t){const n=[],r=[];return t.forEach(t=>{r.push(fa(e).get(t).next(e=>{if(null===e)throw P(35274,{batchId:t});O(e.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),n.push(ms(this.serializer,e))}))}),Oe.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return ua(e.le,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.ir(t.batchId)}),Oe.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Oe.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return ma(e).ee({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=it(e[1]);r.push(t)}else n.done()}).next(()=>{O(0===r.length,56720,{sr:r.map(e=>e.canonicalString())})})})}containsKey(e,t){return pa(e,this.userId,t)}_r(e){return ga(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:Ye,lastStreamToken:""})}}function pa(e,t,n){const r=pt(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return ma(e).ee({range:o,X:!0},(e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()}).next(()=>s)}function fa(e){return hn(e,ct)}function ma(e){return hn(e,gt)}function ga(e){return hn(e,lt)}class va{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new va(0)}static cr(){return new va(-1)}}class ya{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next(t=>{const n=new va(t.highestTargetId);return t.highestTargetId=n.next(),this.hr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(e=>xe.fromTimestamp(new be(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.lr(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.hr(e,r)))}addTargetData(e,t){return this.Pr(e,t).next(()=>this.lr(e).next(n=>(n.targetCount+=1,this.Tr(t,n),this.hr(e,n))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ba(e).delete(t.targetId)).next(()=>this.lr(e)).next(t=>(O(t.targetCount>0,8065),t.targetCount-=1,this.hr(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return ba(e).ee((o,s)=>{const a=gs(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>Oe.waitFor(i)).next(()=>r)}forEachTarget(e,t){return ba(e).ee((e,n)=>{const r=gs(n);t(r)})}lr(e){return xa(e).get(Pt).next(e=>(O(null!==e,2888),e))}hr(e,t){return xa(e).put(Pt,t)}Pr(e,t){return ba(e).put(vs(this.serializer,t))}Tr(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.lr(e).next(e=>e.targetCount)}getTargetData(e,t){const n=qr(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return ba(e).ee({range:r,index:At},(e,n,r)=>{const o=gs(n);Wr(t,o.target)&&(i=o,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=wa(e);return t.forEach(t=>{const o=tt(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))}),Oe.waitFor(r)}removeMatchingKeys(e,t,n){const r=wa(e);return Oe.forEach(t,t=>{const i=tt(t.path);return Oe.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=wa(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=wa(e);let i=ki();return r.ee({range:n,X:!0},(e,t,n)=>{const r=it(e[1]),o=new ae(r);i=i.add(o)}).next(()=>i)}containsKey(e,t){const n=tt(t.path),r=IDBKeyRange.bound([n],[te(n)],!1,!0);let i=0;return wa(e).ee({index:_t,X:!0,range:r},(e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())}).next(()=>i>0)}At(e,t){return ba(e).get(t).next(e=>e?gs(e):null)}}function ba(e){return hn(e,It)}function xa(e){return hn(e,Nt)}function wa(e){return hn(e,Tt)}const Sa="LruGarbageCollector",ka=1048576;function Ea(e,t){let[n,r]=e,[i,o]=t;const s=X(n,i);return 0===s?X(r,o):s}class Ia{constructor(e){this.Ir=e,this.buffer=new bn(Ea),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Ea(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Aa{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){T(Sa,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Be(e)?T(Sa,"Ignoring IndexedDB error during garbage collection: ",e):await Ne(e)}await this.Vr(3e5)})}}class Ca{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Oe.resolve(Xe.ce);const n=new Ia(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; disabled"),Oe.resolve(aa)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),aa):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,o,s,a,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(T("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),C()<=l.$b.DEBUG&&T("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-a)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),Oe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Ta(e,t){return new Ca(e,t)}class ja{constructor(e,t){this.db=e,this.garbageCollector=Ta(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,(e,n)=>t(n))}addReference(e,t,n){return _a(e,n)}removeReference(e,t,n){return _a(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return _a(e,t)}br(e,t){return function(e,t){let n=!1;return ga(e).te(r=>pa(e,r,t).next(e=>(e&&(n=!0),Oe.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Sr(e,(o,s)=>{if(s<=t){const t=this.br(e,o).next(t=>{if(!t)return i++,n.getEntry(e,o).next(()=>(n.removeEntry(o,xe.min()),wa(e).delete(function(e){return[0,tt(e.path)]}(o))))});r.push(t)}}).next(()=>Oe.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return _a(e,t)}Sr(e,t){const n=wa(e);let r,i=Xe.ce;return n.ee({index:_t},(e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==Xe.ce&&t(new ae(it(r)),i),i=l,r=a):i=Xe.ce}).next(()=>{i!==Xe.ce&&t(new ae(it(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _a(e,t){return wa(e).put(function(e,t){return{targetId:0,path:tt(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Ra{constructor(){this.changes=new hi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Oe.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pa{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Ma(e).put(n)}removeEntry(e,t,n){return Ma(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],hs(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Dr(e,n)))}getEntry(e,t){let n=gr.newInvalidDocument(t);return Ma(e).ee({index:bt,range:IDBKeyRange.only(Da(t))},(e,r)=>{n=this.Cr(t,r)}).next(()=>n)}vr(e,t){let n={size:0,document:gr.newInvalidDocument(t)};return Ma(e).ee({index:bt,range:IDBKeyRange.only(Da(t))},(e,r)=>{n={document:this.Cr(t,r),size:da(r)}}).next(()=>n)}getEntries(e,t){let n=fi();return this.Fr(e,t,(e,t)=>{const r=this.Cr(e,t);n=n.insert(e,r)}).next(()=>n)}Mr(e,t){let n=fi(),r=new gn(ae.comparator);return this.Fr(e,t,(e,t)=>{const i=this.Cr(e,t);n=n.insert(e,i),r=r.insert(e,da(t))}).next(()=>({documents:n,Or:r}))}Fr(e,t,n){if(t.isEmpty())return Oe.resolve();let r=new bn(za);t.forEach(e=>r=r.add(e));const i=IDBKeyRange.bound(Da(r.first()),Da(r.last())),o=r.getIterator();let s=o.getNext();return Ma(e).ee({index:bt,range:i},(e,t,r)=>{const i=ae.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&za(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.j(Da(s)):r.done()}).next(()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),hs(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ma(e).J(IDBKeyRange.bound(s,a,!0)).next(e=>{null===i||void 0===i||i.incrementDocumentReadCount(e.length);let n=fi();for(const i of e){const e=this.Cr(ae.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(li(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,r){let i=fi();const o=Fa(t,n),s=Fa(t,je.max());return Ma(e).ee({index:wt,range:IDBKeyRange.bound(o,s,!0)},(e,t,n)=>{const o=this.Cr(ae.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()}).next(()=>i)}newChangeBuffer(e){return new Oa(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return La(e).get(Et).next(e=>(O(!!e,20021),e))}Dr(e,t){return La(e).put(Et,t)}Cr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Qo(e.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=ae.fromSegments(t.noDocument.path),r=fs(t.noDocument.readTime);n=gr.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return P(56709);{const e=ae.fromSegments(t.unknownDocument.path),r=fs(t.unknownDocument.version);n=gr.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new be(e[0],e[1]);return xe.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(xe.min()))return e}return gr.newInvalidDocument(e)}}function Na(e){return new Pa(e)}class Oa extends Ra{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new hi(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new bn((e,t)=>X(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,o)=>{const s=this.Br.get(i);if(t.push(this.Nr.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=ds(this.Nr.serializer,o);r=r.add(i.path.popLast());const l=da(a);n+=l-s.size,t.push(this.Nr.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=ds(this.Nr.serializer,o.convertToNoDocument(xe.min()));t.push(this.Nr.addEntry(e,i,n))}}),r.forEach(n=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.Nr.updateMetadata(e,n)),Oe.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next(e=>(this.Br.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next(e=>{let{documents:t,Or:n}=e;return n.forEach((e,n)=>{this.Br.set(e,{size:n,readTime:t.get(e).readTime})}),t})}}function La(e){return hn(e,kt)}function Ma(e){return hn(e,vt)}function Da(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Fa(e,t){const n=t.documentKey.path.toArray();return[e,hs(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function za(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=X(n[o],r[o]),i)return i;return i=X(n.length,r.length),i||(i=X(n[n.length-2],r[r.length-2]),i||X(n[n.length-1],r[r.length-1]))}class Va{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ba{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Qi(n.mutation,e,Sn.empty(),be.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ki()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ki();const r=yi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=gi();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=yi();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ki()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=fi();const o=xi(),s=xi();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Ji)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Qi(s.mutation,t,s.mutation.getFieldMask(),be.now())):o.set(t.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new Va(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=xi();let r=new gn((e,t)=>e-t),i=ki();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Sn.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||ki()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=bi();l.forEach(e=>{if(!i.has(e)){const r=Ki(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Oe.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ae.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Zr(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Oe.resolve(yi());let s=we,a=i;return o.next(t=>Oe.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Oe.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,ki())).next(e=>({batchId:s,changes:vi(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(e=>{let t=gi();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=gi();return this.indexManager.getCollectionParents(e,i).next(s=>Oe.forEach(s,s=>{const a=function(e,t){return new Xr(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,gr.newInvalidDocument(r)))});let n=gi();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&Qi(o.mutation,r,Sn.empty(),be.now()),li(t,r)&&(n=n.insert(e,r))}),n})}}class Ua{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Oe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Do(e.createTime)}}(t)),Oe.resolve()}getNamedQuery(e,t){return Oe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:ys(e.bundledQuery),readTime:Do(e.readTime)}}(t)),Oe.resolve()}}class qa{constructor(){this.overlays=new gn(ae.comparator),this.qr=new Map}getOverlay(e,t){return Oe.resolve(this.overlays.get(t))}getOverlays(e,t){const n=yi();return Oe.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Oe.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Oe.resolve()}getOverlaysForCollection(e,t,n){const r=yi(),i=t.length+1,o=new ae(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Oe.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new gn((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=yi(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=yi(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return Oe.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new so(t,n));let i=this.qr.get(t);void 0===i&&(i=ki(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class Wa{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return Oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Oe.resolve()}}class Ha{constructor(){this.Qr=new bn(Ka.$r),this.Ur=new bn(Ka.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Ka(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Ka(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new ae(new ie([])),n=new Ka(t,e),r=new Ka(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ae(new ie([])),n=new Ka(t,e),r=new Ka(t,e+1);let i=ki();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Ka(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ka{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ae.comparator(e.key,t.key)||X(e.Yr,t.Yr)}static Kr(e,t){return X(e.Yr,t.Yr)||ae.comparator(e.key,t.key)}}class Ga{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new bn(Ka.$r)}checkEmpty(e){return Oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new io(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Zr=this.Zr.add(new Ka(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Oe.resolve(o)}lookupMutationBatch(e,t){return Oe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Oe.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(0===this.mutationQueue.length?Ye:this.tr-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ka(t,0),r=new Ka(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Oe.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new bn(X);return t.forEach(e=>{const t=new Ka(e,0),r=new Ka(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Oe.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ae.isDocumentKey(i)||(i=i.child(""));const o=new Ka(new ae(i),0);let s=new bn(X);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},o),Oe.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){O(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Oe.forEach(t.mutations,r=>{const i=new Ka(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Ka(t,0),r=this.Zr.firstAfterOrEqual(n);return Oe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Oe.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Qa{constructor(e){this.ri=e,this.docs=new gn(ae.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Oe.resolve(n?n.document.mutableCopy():gr.newInvalidDocument(t))}getEntries(e,t){let n=fi();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():gr.newInvalidDocument(e))}),Oe.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=fi();const o=t.path,s=new ae(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||_e(Te(s),n)<=0||(r.has(s.key)||li(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Oe.resolve(i)}getAllFromCollectionGroup(e,t,n,r){P(9500)}ii(e,t){return Oe.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Xa(this)}getSize(e){return Oe.resolve(this.size)}}class Xa extends Ra{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Oe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Ya{constructor(e){this.persistence=e,this.si=new hi(e=>qr(e),Wr),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Ha,this.targetCount=0,this.ai=va.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Oe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new va(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Oe.resolve()}updateTargetData(e,t){return this.Pr(t),Oe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),Oe.waitFor(i).next(()=>r)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Oe.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Oe.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Oe.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Oe.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Oe.resolve(n)}containsKey(e,t){return Oe.resolve(this._i.containsKey(t))}}class $a{constructor(e,t){this.ui={},this.overlays={},this.ci=new Xe(0),this.li=!1,this.li=!0,this.hi=new Wa,this.referenceDelegate=e(this),this.Pi=new Ya(this),this.indexManager=new $s,this.remoteDocumentCache=function(e){return new Qa(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new us(t),this.Ii=new Ua(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qa,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Ga(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){T("MemoryPersistence","Starting transaction:",e);const r=new Ja(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Oe.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Ja extends Pe{constructor(e){super(),this.currentSequenceNumber=e}}class Za{constructor(e){this.persistence=e,this.Ri=new Ha,this.Vi=null}static mi(e){return new Za(e)}get fi(){if(this.Vi)return this.Vi;throw P(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Oe.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Oe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Oe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.fi,n=>{const r=ae.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,xe.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Oe.or([()=>Oe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class el{constructor(e,t){this.persistence=e,this.pi=new hi(e=>tt(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Ta(this,t)}static mi(e,t){return new el(e,t)}Ei(){}di(e){return Oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Oe.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Oe.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,xe.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Oe.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Oe.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Oe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Oe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zn(e.data.value)),t}br(e,t,n){return Oe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Oe.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tl{constructor(e){this.serializer=e}k(e,t,n,r){const i=new Me("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(st)}(e),function(e){e.createObjectStore(lt,{keyPath:"userId"});e.createObjectStore(ct,{keyPath:ut,autoIncrement:!0}).createIndex(dt,ht,{unique:!0}),e.createObjectStore(gt)}(e),nl(e),function(e){e.createObjectStore(ot)}(e));let o=Oe.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Tt),e.deleteObjectStore(It),e.deleteObjectStore(Nt)}(e),nl(e)),o=o.next(()=>function(e){const t=e.store(Nt),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xe.min().toTimestamp(),targetCount:0};return t.put(Pt,n)}(i))),n<4&&r>=4&&(0!==n&&(o=o.next(()=>function(e,t){return t.store(ct).J().next(n=>{e.deleteObjectStore(ct),e.createObjectStore(ct,{keyPath:ut,autoIncrement:!0}).createIndex(dt,ht,{unique:!0});const r=t.store(ct),i=n.map(e=>r.put(e));return Oe.waitFor(i)})}(e,i))),o=o.next(()=>{!function(e){e.createObjectStore(Mt,{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(o=o.next(()=>this.yi(i))),n<6&&r>=6&&(o=o.next(()=>(function(e){e.createObjectStore(kt)}(e),this.wi(i)))),n<7&&r>=7&&(o=o.next(()=>this.Si(i))),n<8&&r>=8&&(o=o.next(()=>this.bi(e,i))),n<9&&r>=9&&(o=o.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(o=o.next(()=>this.Di(i))),n<11&&r>=11&&(o=o.next(()=>{!function(e){e.createObjectStore(Dt,{keyPath:"bundleId"})}(e),function(e){e.createObjectStore(Ft,{keyPath:"name"})}(e)})),n<12&&r>=12&&(o=o.next(()=>{!function(e){const t=e.createObjectStore(Xt,{keyPath:Yt});t.createIndex($t,Jt,{unique:!1}),t.createIndex(Zt,en,{unique:!1})}(e)})),n<13&&r>=13&&(o=o.next(()=>function(e){const t=e.createObjectStore(vt,{keyPath:yt});t.createIndex(bt,xt),t.createIndex(wt,St)}(e)).next(()=>this.Ci(e,i)).next(()=>e.deleteObjectStore(ot))),n<14&&r>=14&&(o=o.next(()=>this.Fi(e,i))),n<15&&r>=15&&(o=o.next(()=>function(e){e.createObjectStore(zt,{keyPath:"indexId",autoIncrement:!0}).createIndex(Vt,"collectionGroup",{unique:!1});e.createObjectStore(Bt,{keyPath:Ut}).createIndex(qt,Wt,{unique:!1});e.createObjectStore(Ht,{keyPath:Kt}).createIndex(Gt,Qt,{unique:!1})}(e))),n<16&&r>=16&&(o=o.next(()=>{t.objectStore(Bt).clear()}).next(()=>{t.objectStore(Ht).clear()})),n<17&&r>=17&&(o=o.next(()=>{!function(e){e.createObjectStore(tn,{keyPath:"name"})}(e)})),n<18&&r>=18&&(0,c.Ov)()&&(o=o.next(()=>{t.objectStore(Bt).clear()}).next(()=>{t.objectStore(Ht).clear()})),o}wi(e){let t=0;return e.store(ot).ee((e,n)=>{t+=da(n)}).next(()=>{const n={byteSize:t};return e.store(kt).put(Et,n)})}yi(e){const t=e.store(lt),n=e.store(ct);return t.J().next(t=>Oe.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,Ye],[t.userId,t.lastAcknowledgedBatchId]);return n.J(dt,r).next(n=>Oe.forEach(n,n=>{O(n.userId===t.userId,18650,"Cannot process batch from unexpected user",{batchId:n.batchId});const r=ms(this.serializer,n);return ua(e,t.userId,r).next(()=>{})}))}))}Si(e){const t=e.store(Tt),n=e.store(ot);return e.store(Nt).get(Pt).next(e=>{const r=[];return n.ee((n,i)=>{const o=new ie(n),s=function(e){return[0,tt(e)]}(o);r.push(t.get(s).next(n=>n?Oe.resolve():(n=>t.put({targetId:0,path:tt(n),sequenceNumber:e.highestListenSequenceNumber}))(o)))}).next(()=>Oe.waitFor(r))})}bi(e,t){e.createObjectStore(Ot,{keyPath:Lt});const n=t.store(Ot),r=new Js,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:tt(r)})}};return t.store(ot).ee({X:!0},(e,t)=>{const n=new ie(e);return i(n.popLast())}).next(()=>t.store(gt).ee({X:!0},(e,t)=>{let[n,r,o]=e;const s=it(r);return i(s.popLast())}))}Di(e){const t=e.store(It);return t.ee((e,n)=>{const r=gs(n),i=vs(this.serializer,r);return t.put(i)})}Ci(e,t){const n=t.store(ot),r=[];return n.ee((e,n)=>{const i=t.store(vt),o=function(e){return e.document?new ae(ie.fromString(e.document.name).popFirst(5)):e.noDocument?ae.fromSegments(e.noDocument.path):e.unknownDocument?ae.fromSegments(e.unknownDocument.path):P(36783)}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))}).next(()=>Oe.waitFor(r))}Fi(e,t){const n=t.store(ct),r=Na(this.serializer),i=new $a(Za.mi,this.serializer.yt);return n.J().next(e=>{const n=new Map;return e.forEach(e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:ki();ms(this.serializer,e).keys().forEach(e=>r=r.add(e)),n.set(e.userId,r)}),Oe.forEach(n,(e,n)=>{const o=new E(n),s=Is.wt(this.serializer,o),a=i.getIndexManager(o),l=ha.wt(o,this.serializer,a,i.referenceDelegate);return new Ba(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new dn(t,Xe.ce),e).next()})})}}function nl(e){e.createObjectStore(Tt,{keyPath:jt}).createIndex(_t,Rt,{unique:!0}),e.createObjectStore(It,{keyPath:"targetId"}).createIndex(At,Ct,{unique:!0}),e.createObjectStore(Nt)}const rl="IndexedDbPersistence",il=18e5,ol=5e3,sl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",al="main";class ll{constructor(e,t,n,r,i,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:18;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Mi=i,this.window=o,this.document=s,this.xi=l,this.Oi=c,this.Ni=u,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=e=>Promise.resolve(),!ll.v())throw new D(M.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ja(this,r),this.$i=t+al,this.serializer=new us(a),this.Ui=new De(this.$i,this.Ni,new tl(this.serializer)),this.hi=new Cs,this.Pi=new ya(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Na(this.serializer),this.Ii=new Ss,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,!1===c&&j(rl,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new D(M.FAILED_PRECONDITION,sl);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new Xe(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ul(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(e=>{e||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(t=>this.isPrimary&&!t?this.Zi(e).next(()=>!1):!!t&&this.Xi(e).next(()=>!0))).catch(e=>{if(Be(e))return T(rl,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return T(rl,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return cl(e).get(at).next(e=>Oe.resolve(this.es(e)))}ts(e){return ul(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,il)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=hn(e,Mt);return t.J().next(e=>{const n=this.ss(e,il),r=e.filter(e=>-1===n.indexOf(e));return Oe.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Oe.resolve(!0):cl(e).get(at).next(t=>{if(null!==t&&this.rs(t.leaseTimestampMs,ol)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new D(M.FAILED_PRECONDITION,sl);return!1}}return!(!this.networkEnabled||!this.inForeground)||ul(e).J().next(e=>void 0===this.ss(e,ol).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&T(rl,"Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[st,Mt],e=>{const t=new dn(e,Xe.ce);return this.Zi(t).next(()=>this.ts(t))}),this.Ui.close(),this.Ps()}ss(e,t){return e.filter(e=>this.rs(e.updateTimeMs,t)&&!this.us(e.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>ul(e).J().next(e=>this.ss(e,il).map(e=>e.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return ha.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ta(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Is.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,n){T(rl,"Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 18===e?un:17===e?cn:16===e?ln:15===e?an:14===e?sn:13===e?on:12===e?rn:11===e?nn:void P(60245)}(this.Ni);let o;return this.Ui.runTransaction(e,r,i,r=>(o=new dn(r,this.ci?this.ci.next():Xe.ce),"readwrite-primary"===t?this.Hi(o).next(e=>!!e||this.Yi(o)).next(t=>{if(!t)throw j("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new D(M.FAILED_PRECONDITION,Re);return n(o)}).next(e=>this.Xi(o).next(()=>e)):this.Is(o).next(()=>n(o)))).then(e=>(o.raiseOnCommittedEvent(),e))}Is(e){return cl(e).get(at).next(e=>{if(null!==e&&this.rs(e.leaseTimestampMs,ol)&&!this.us(e.ownerId)&&!this.es(e)&&!(this.Oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new D(M.FAILED_PRECONDITION,sl)})}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cl(e).put(at,t)}static v(){return De.v()}Zi(e){const t=cl(e);return t.get(at).next(e=>this.es(e)?(T(rl,"Releasing primary lease."),t.delete(at)):Oe.resolve())}rs(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(j("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground="visible"===this.document.visibilityState)}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;(0,c.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{var t;const n=null!==(null===(t=this.Ki)||void 0===t?void 0:t.getItem(this._s(e)));return T(rl,"Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return j(rl,"Failed to get zombied client id.",e),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){j("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch(e){}}_s(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function cl(e){return hn(e,st)}function ul(e){return hn(e,Mt)}function dl(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class hl{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=ki(),r=ki();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new hl(e,t.fromCache,n,r)}}class pl{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fl{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(0,c.nr)()?8:Fe((0,c.ZQ)())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new pl;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(C()<=l.$b.DEBUG&&T("QueryEngine","SDK will not create cache indexes for query:",ai(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Oe.resolve()):(C()<=l.$b.DEBUG&&T("QueryEngine","Query:",ai(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(C()<=l.$b.DEBUG&&T("QueryEngine","The SDK decides to create cache indexes for query:",ai(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(t))):Oe.resolve())}ys(e,t){if(Jr(t))return Oe.resolve(null);let n=ti(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ii(t,null,"F"),n=ti(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=ki(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Ds(t,r);return this.Cs(t,o,i,n.readTime)?this.ys(e,ii(t,null,"F")):this.vs(e,o,t,n)}))})))}ws(e,t,n,r){return Jr(t)||r.isEqual(xe.min())?Oe.resolve(null):this.ps.getDocuments(e,n).next(i=>{const o=this.Ds(t,i);return this.Cs(t,o,n,r)?Oe.resolve(null):(C()<=l.$b.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ai(t)),this.vs(e,o,t,Ce(r,we)).next(e=>e))})}Ds(e,t){let n=new bn(ui(e));return t.forEach((t,r)=>{li(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return C()<=l.$b.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",ai(t)),this.ps.getDocumentsMatchingQuery(e,t,je.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const ml="LocalStore",gl=3e8;class vl{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new gn(X),this.xs=new hi(e=>qr(e),Wr),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ba(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function yl(e,t,n,r){return new vl(e,t,n,r)}async function bl(e,t){const n=L(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let s=ki();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:o}))})})}function xl(e){const t=L(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function wl(e,t,n){let r=ki(),i=ki();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=fi();return n.forEach((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(xe.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):T(ml,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),{ks:r,qs:i}})}function Sl(e,t){const n=L(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Ye),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function kl(e,t){const n=L(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,Oe.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new cs(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function El(e,t,n){const r=L(e),i=r.Ms.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Be(e))throw e;T(ml,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function Il(e,t,n){const r=L(e);let i=xe.min(),o=ki();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=L(e),i=r.xs.get(n);return void 0!==i?Oe.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,ti(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:xe.min(),n?o:ki())).next(e=>(Al(r,ci(t),e),{documents:e,Qs:o})))}function Al(e,t,n){let r=e.Os.get(t)||xe.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Cl{constructor(){this.activeTargetIds=Ii()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tl{constructor(){this.Mo=new Cl,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Cl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jl{Oo(e){}shutdown(){}}const _l="ConnectivityMonitor";class Rl{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){T(_l,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){T(_l,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Pl=null;function Nl(){return null===Pl?Pl=268435456+Math.round(2147483648*Math.random()):Pl++,"0x"+Pl.toString(16)}const Ol="RestConnection",Ll={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ml{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Dn?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const o=Nl(),s=this.zo(e,t.toUriEncodedString());T(Ol,"Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:l}=new URL(s),u=(0,c.zJ)(l);return this.Jo(e,s,a,n,u).then(t=>(T(Ol,"Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw _(Ol,"RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,i,o){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+I,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Ll[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Dl{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Fl="WebChannelConnection";class zl extends Ml{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const o=Nl();return new Promise((i,s)=>{const a=new h;a.setWithCredentials(!0),a.listenOnce(f.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case m.NO_ERROR:const n=a.getResponseJson();T(Fl,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(n)),i(n);break;case m.TIMEOUT:T(Fl,"RPC '".concat(e,"' ").concat(o," timed out")),s(new D(M.DEADLINE_EXCEEDED,"Request time out"));break;case m.HTTP_ERROR:const r=a.getStatus();if(T(Fl,"RPC '".concat(e,"' ").concat(o," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(t)>=0?t:M.UNKNOWN}(n.status);s(new D(e,n.message))}else s(new D(M.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new D(M.UNAVAILABLE,"Connection failed."));break;default:P(9055,{l_:e,streamId:o,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{T(Fl,"RPC '".concat(e,"' ").concat(o," completed."))}});const l=JSON.stringify(r);T(Fl,"RPC '".concat(e,"' ").concat(o," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Nl(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=b(),s=y(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");T(Fl,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);this.I_(u);let d=!1,h=!1;const f=new Dl({Yo:t=>{h?T(Fl,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(T(Fl,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),T(Fl,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(u,p.EventType.OPEN,()=>{h||(T(Fl,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),m(u,p.EventType.CLOSE,()=>{h||(h=!0,T(Fl,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),m(u,p.EventType.ERROR,t=>{h||(h=!0,_(Fl,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new D(M.UNAVAILABLE,"The operation could not be completed")))}),m(u,p.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];O(!!i,16349);const o=i,s=(null===o||void 0===o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){T(Fl,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=lo[e];if(void 0!==t)return ho(t)}(t),i=s.message;void 0===n&&(n=M.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.a_(new D(n,i)),u.close()}else T(Fl,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),m(s,v.STAT_EVENT,t=>{t.stat===g.PROXY?T(Fl,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===g.NOPROXY&&T(Fl,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Vl(){return"undefined"!=typeof window?window:null}function Bl(){return"undefined"!=typeof document?document:null}function Ul(e){return new Po(e,!0)}class ql{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&T("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Wl="PersistentStream";class Hl{constructor(e,t,n,r,i,o,s,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ql(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(j(t.toString()),j("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===M.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new D(M.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return T(Wl,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(T(Wl,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kl extends Hl{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:P(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(O(void 0===t||"string"==typeof t,58123),En.fromBase64String(t||"")):(O(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),En.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?M.UNKNOWN:ho(e.code);return new D(t,e.message||"")}(s);n=new Eo(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uo(e,r.document.name),o=Do(r.document.updateTime),s=r.document.createTime?Do(r.document.createTime):xe.min(),a=new fr({mapValue:{fields:r.document.fields}}),l=gr.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new So(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Uo(e,r.document),o=r.readTime?Do(r.readTime):xe.min(),s=gr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new So([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Uo(e,r.document),o=r.removedTargetIds||[];n=new So([],o,i,null)}else{if(!("filter"in t))return P(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new ao(r,i),s=e.targetId;n=new ko(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return xe.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?xe.min():t.readTime?Do(t.readTime):xe.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Ho(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Hr(r)?{documents:$o(e,r)}:{query:Jo(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Lo(e,t.resumeToken);const r=No(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(xe.min())>0){n.readTime=Oo(e,t.snapshotVersion.toTimestamp());const r=No(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Ho(this.serializer),t.removeTarget=e,this.q_(t)}}class Gl extends Hl{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return O(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,O(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){O(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(O(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Do(e.updateTime):Do(t);return n.isEqual(xe.min())&&(n=Do(t)),new Ui(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Do(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Ho(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Xo(this.serializer,e))};this.q_(t)}}class Ql{}class Xl extends Ql{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new D(M.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,s]=i;return this.connection.Go(e,zo(t,n),r,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new D(M.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[s,a]=o;return this.connection.Ho(e,zo(t,n),r,s,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new D(M.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Yl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(j(t),this.aa=!1):T("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const $l="RemoteStore";class Jl{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{ac(this)&&(T($l,"Restarting streams for network reachability change."),await async function(e){const t=L(e);t.Ea.add(4),await ec(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Zl(t)}(this))})}),this.Ra=new Yl(n,r)}}async function Zl(e){if(ac(e))for(const t of e.da)await t(!0)}async function ec(e){for(const t of e.da)await t(!1)}function tc(e,t){const n=L(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),sc(n)?oc(n):Ac(n).O_()&&rc(n,t))}function nc(e,t){const n=L(e),r=Ac(n);n.Ia.delete(t),r.O_()&&ic(n,t),0===n.Ia.size&&(r.O_()?r.L_():ac(n)&&n.Ra.set("Unknown"))}function rc(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xe.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ac(e).Y_(t)}function ic(e,t){e.Va.Ue(t),Ac(e).Z_(t)}function oc(e){e.Va=new Ao({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ac(e).start(),e.Ra.ua()}function sc(e){return ac(e)&&!Ac(e).x_()&&e.Ia.size>0}function ac(e){return 0===L(e).Ea.size}function lc(e){e.Va=void 0}async function cc(e){e.Ra.set("Online")}async function uc(e){e.Ia.forEach((t,n)=>{rc(e,t)})}async function dc(e,t){lc(e),sc(e)?(e.Ra.ha(t),oc(e)):e.Ra.set("Unknown")}async function hc(e,t,n){if(e.Ra.set("Online"),t instanceof Eo&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){T($l,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await pc(e,n)}else if(t instanceof So?e.Va.Ze(t):t instanceof ko?e.Va.st(t):e.Va.tt(t),!n.isEqual(xe.min()))try{const t=await xl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(En.EMPTY_BYTE_STRING,r.snapshotVersion)),ic(e,t);const i=new cs(r.target,t,n,r.sequenceNumber);rc(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){T($l,"Failed to raise snapshot:",t),await pc(e,t)}}async function pc(e,t,n){if(!Be(t))throw t;e.Ea.add(1),await ec(e),e.Ra.set("Offline"),n||(n=()=>xl(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{T($l,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Zl(e)})}function fc(e,t){return t().catch(n=>pc(e,n,t))}async function mc(e){const t=L(e),n=Cc(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ye;for(;gc(t);)try{const e=await Sl(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,vc(t,e)}catch(e){await pc(t,e)}yc(t)&&bc(t)}function gc(e){return ac(e)&&e.Ta.length<10}function vc(e,t){e.Ta.push(t);const n=Cc(e);n.O_()&&n.X_&&n.ea(t.mutations)}function yc(e){return ac(e)&&!Cc(e).x_()&&e.Ta.length>0}function bc(e){Cc(e).start()}async function xc(e){Cc(e).ra()}async function wc(e){const t=Cc(e);for(const n of e.Ta)t.ea(n.mutations)}async function Sc(e,t,n){const r=e.Ta.shift(),i=oo.from(r,t,n);await fc(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await mc(e)}async function kc(e,t){t&&Cc(e).X_&&await async function(e,t){if(function(e){return uo(e)&&e!==M.ABORTED}(t.code)){const n=e.Ta.shift();Cc(e).B_(),await fc(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await mc(e)}}(e,t),yc(e)&&bc(e)}async function Ec(e,t){const n=L(e);n.asyncQueue.verifyOperationInProgress(),T($l,"RemoteStore received new credentials");const r=ac(n);n.Ea.add(3),await ec(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Zl(n)}async function Ic(e,t){const n=L(e);t?(n.Ea.delete(2),await Zl(n)):t||(n.Ea.add(2),await ec(n),n.Ra.set("Unknown"))}function Ac(e){return e.ma||(e.ma=function(e,t,n){const r=L(e);return r.sa(),new Kl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:cc.bind(null,e),t_:uc.bind(null,e),r_:dc.bind(null,e),H_:hc.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),sc(e)?oc(e):e.Ra.set("Unknown")):(await e.ma.stop(),lc(e))})),e.ma}function Cc(e){return e.fa||(e.fa=function(e,t,n){const r=L(e);return r.sa(),new Gl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:xc.bind(null,e),r_:kc.bind(null,e),ta:wc.bind(null,e),na:Sc.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await mc(e)):(await e.fa.stop(),e.Ta.length>0&&(T($l,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Tc{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new F,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Tc(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jc(e,t){if(j("AsyncQueue","".concat(t,": ").concat(e)),Be(e))return new D(M.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class _c{static emptySet(e){return new _c(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ae.comparator(t.key,n.key):(e,t)=>ae.comparator(e.key,t.key),this.keyedMap=gi(),this.sortedSet=new gn(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _c))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new _c;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Rc{constructor(){this.ga=new gn(ae.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):P(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Pc{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new Pc(e,t,_c.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Nc{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Oc{constructor(){this.queries=Lc(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=L(e),r=n.queries;n.queries=Lc(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new D(M.ABORTED,"Firestore shutting down"))}}function Lc(){return new hi(e=>si(e),oi)}async function Mc(e,t){const n=L(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.ba()&&t.Da()&&(r=2):(o=new Nc,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=jc(e,"Initialization of query '".concat(ai(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Sa.push(t),t.va(n.onlineState),o.wa&&t.Fa(o.wa)&&Vc(n)}async function Dc(e,t){const n=L(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Sa.indexOf(t);e>=0&&(o.Sa.splice(e,1),0===o.Sa.length?i=t.Da()?0:1:!o.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Fc(e,t){const n=L(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Vc(n)}function zc(e,t,n){const r=L(e),i=r.queries.get(t);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(t)}function Vc(e){e.Ca.forEach(e=>{e.next()})}var Bc,Uc;(Uc=Bc||(Bc={})).Ma="default",Uc.Cache="cache";class qc{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Pc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bc.Cache}}class Wc{constructor(e){this.key=e}}class Hc{constructor(e){this.key=e}}class Kc{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ki(),this.mutatedKeys=ki(),this.eu=ui(e),this.tu=new _c(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Rc,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=li(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.su(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(s=!0)),p&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:o,iu:n,Cs:s,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==o.length||l?{snapshot:new Pc(this.query,e.tu,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rc,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ki(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Hc(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Wc(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=ki();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Pc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Gc="SyncEngine";class Qc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Xc{constructor(e){this.key=e,this.hu=!1}}class Yc{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new hi(e=>si(e),oi),this.Iu=new Map,this.Eu=new Set,this.du=new gn(ae.comparator),this.Au=new Map,this.Ru=new Ha,this.Vu={},this.mu=new Map,this.fu=va.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function $c(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=yu(e);let i;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Zc(r,t,n,!0),i}async function Jc(e,t){const n=yu(e);await Zc(n,t,!0,!1)}async function Zc(e,t,n,r){const i=await kl(e.localStore,ti(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await eu(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&tc(e.remoteStore,i),a}async function eu(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await Il(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return hu(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const o=await Il(e.localStore,t,!0),s=new Kc(t,o.Qs),a=s.ru(o.documents),l=wo.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);hu(e,n,c.au);const u=new Qc(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function tu(e,t,n){const r=L(e),i=r.Tu.get(t),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(e=>!oi(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await El(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&nc(r.remoteStore,i.targetId),uu(r,i.targetId)}).catch(Ne)):(uu(r,i.targetId),await El(r.localStore,i.targetId,!0))}async function nu(e,t){const n=L(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nc(n.remoteStore,r.targetId))}async function ru(e,t){const n=L(e);try{const e=await function(e,t){const n=L(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];t.targetChanges.forEach((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,o.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,o.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(En.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=gl||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&s.push(n.Pi.updateTargetData(e,c))});let a=fi(),l=ki();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(wl(e,o,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(xe.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return Oe.waitFor(s).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(O(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?O(r.hu,14607):e.removedDocuments.size>0&&(O(r.hu,42227),r.hu=!1))}),await mu(n,e,t)}catch(e){await Ne(e)}}function iu(e,t,n){const r=L(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=L(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Vc(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ou(e,t,n){const r=L(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),o=i&&i.key;if(o){let e=new gn(ae.comparator);e=e.insert(o,gr.newNoDocument(o,xe.min()));const n=ki().add(o),i=new xo(xe.min(),new Map,new gn(X),e,n);await ru(r,i),r.du=r.du.remove(o),r.Au.delete(t),fu(r)}else await El(r.localStore,t,!1).then(()=>uu(r,t,n)).catch(Ne)}async function su(e,t){const n=L(e),r=t.batch.batchId;try{const e=await function(e,t){const n=L(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Oe.resolve();return o.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);O(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ki();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);cu(n,r,null),lu(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mu(n,e)}catch(e){await Ne(e)}}async function au(e,t,n){const r=L(e);try{const e=await function(e,t){const n=L(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(O(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);cu(r,t,n),lu(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await mu(r,e)}catch(n){await Ne(n)}}function lu(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function cu(e,t,n){const r=L(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function uu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||du(e,t)})}function du(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(nc(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),fu(e))}function hu(e,t,n){for(const r of n)r instanceof Wc?(e.Ru.addReference(r.key,t),pu(e,r)):r instanceof Hc?(T(Gc,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||du(e,r.key)):P(19791,{wu:r})}function pu(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(T(Gc,"New document in limbo: "+n),e.Eu.add(r),fu(e))}function fu(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new ae(ie.fromString(t)),r=e.fu.next();e.Au.set(r,new Xc(n)),e.du=e.du.insert(n,r),tc(e.remoteStore,new cs(ti($r(n.path)),r,"TargetPurposeLimboResolution",Xe.ce))}}async function mu(e,t,n){const r=L(e),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{s.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=hl.As(a.targetId,e);o.push(t)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(e,t){const n=L(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Oe.forEach(t,t=>Oe.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Oe.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Be(e))throw e;T(ml,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,o))}async function gu(e,t){const n=L(e);if(!n.currentUser.isEqual(t)){T(Gc,"User change. New user:",t.toKey());const e=await bl(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new D(M.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await mu(n,e.Ls)}}function vu(e,t){const n=L(e),r=n.Au.get(t);if(r&&r.hu)return ki().add(r.key);{let e=ki();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function yu(e){const t=L(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ru.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vu.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ou.bind(null,t),t.Pu.H_=Fc.bind(null,t.eventManager),t.Pu.yu=zc.bind(null,t.eventManager),t}function bu(e){const t=L(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=su.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=au.bind(null,t),t}class xu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ul(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return yl(this.persistence,new fl,e.initialUser,this.serializer)}Cu(e){return new $a(Za.mi,this.serializer)}Du(e){return new Tl}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xu.provider={build:()=>new xu};class wu extends xu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){O(this.persistence.referenceDelegate instanceof el,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Aa(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?ca.withCacheSize(this.cacheSizeBytes):ca.DEFAULT;return new $a(e=>el.mi(e,t),this.serializer)}}class Su extends xu{constructor(e,t,n){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await bu(this.xu.syncEngine),await mc(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return yl(this.persistence,new fl,e.initialUser,this.serializer)}Fu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Aa(n,e.asyncQueue,t)}Mu(e,t){const n=new Qe(t,this.persistence);return new Ge(e.asyncQueue,n)}Cu(e){const t=dl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ca.withCacheSize(this.cacheSizeBytes):ca.DEFAULT;return new ll(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Vl(),Bl(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new Tl}}class ku{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>iu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=gu.bind(null,this.syncEngine),await Ic(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Oc}createDatastore(e){const t=Ul(e.databaseInfo.databaseId),n=function(e){return new zl(e)}(e.databaseInfo);return function(e,t,n,r){return new Xl(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Jl(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>iu(this.syncEngine,e,0),Rl.v()?new Rl:new jl)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Yc(e,t,n,r,i,o);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=L(e);T($l,"RemoteStore shutting down."),t.Ea.add(5),await ec(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}ku.provider={build:()=>new ku};class Eu{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):j("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Iu="FirestoreClient";class Au{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=E.UNAUTHENTICATED,this.clientId=Q.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{T(Iu,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(T(Iu,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new F;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=jc(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Cu(e,t){e.asyncQueue.verifyOperationInProgress(),T(Iu,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await bl(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Tu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ju(e);T(Iu,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Ec(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Ec(t.remoteStore,n)),e._onlineComponents=t}async function ju(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){T(Iu,"Using user provided OfflineComponentProvider");try{await Cu(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===M.FAILED_PRECONDITION||e.code===M.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;_("Error using user provided cache. Falling back to memory cache: "+n),await Cu(e,new xu)}}else T(Iu,"Using default OfflineComponentProvider"),await Cu(e,new wu(void 0));return e._offlineComponents}async function _u(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(T(Iu,"Using user provided OnlineComponentProvider"),await Tu(e,e._uninitializedComponentsProvider._online)):(T(Iu,"Using default OnlineComponentProvider"),await Tu(e,new ku))),e._onlineComponents}function Ru(e){return _u(e).then(e=>e.syncEngine)}async function Pu(e){const t=await _u(e),n=t.eventManager;return n.onListen=$c.bind(null,t.syncEngine),n.onUnlisten=tu.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Jc.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=nu.bind(null,t.syncEngine),n}function Nu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new F;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new Eu({next:a=>{o.Nu(),t.enqueueAndForget(()=>Dc(e,s));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new D(M.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new D(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new qc($r(n.path),o,{includeMetadataChanges:!0,qa:!0});return Mc(e,s)}(await Pu(e),e.asyncQueue,t,n,r)),r.promise}function Ou(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new F;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new Eu({next:n=>{o.Nu(),t.enqueueAndForget(()=>Dc(e,s)),n.fromCache&&"server"===r.source?i.reject(new D(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new qc(n,o,{includeMetadataChanges:!0,qa:!0});return Mc(e,s)}(await Pu(e),e.asyncQueue,t,n,r)),r.promise}function Lu(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Mu=new Map,Du="firestore.googleapis.com",Fu=!0;class zu{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Du,this.ssl=Fu}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Fu;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=la;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<ka)throw new D(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new D(M.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lu(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new D(M.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new D(M.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new D(M.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zu({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new D(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zu(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new V;switch(e.type){case"firstParty":return new W(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new D(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Mu.get(e);t&&(T("ComponentProvider","Removing Datastore"),Mu.delete(e),t.terminate())}(this),Promise.resolve()}}class Bu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Bu(this.firestore,e,this._query)}}class Uu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Uu(this.firestore,e,this._key)}toJSON(){return{type:Uu._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(ge(t,Uu._jsonSchema))return new Uu(e,n||null,new ae(ie.fromString(t.referencePath)))}}Uu._jsonSchemaVersion="firestore/documentReference/1.0",Uu._jsonSchema={type:me("string",Uu._jsonSchemaVersion),referencePath:me("string")};class qu extends Bu{constructor(e,t,n){super(e,t,$r(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Uu(this.firestore,null,new ae(e))}withConverter(e){return new qu(this.firestore,e,this._path)}}function Wu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,c.Ku)(e),le("collection","path",t),e instanceof Vu){const n=ie.fromString(t,...r);return ue(n),new qu(e,null,n)}{if(!(e instanceof Uu||e instanceof qu))throw new D(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ie.fromString(t,...r));return ue(n),new qu(e.firestore,null,n)}}function Hu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,c.Ku)(e),1===arguments.length&&(t=Q.newId()),le("doc","path",t),e instanceof Vu){const n=ie.fromString(t,...r);return ce(n),new Uu(e,null,new ae(n))}{if(!(e instanceof Uu||e instanceof qu))throw new D(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ie.fromString(t,...r));return ce(n),new Uu(e.firestore,e instanceof qu?e.converter:null,new ae(n))}}const Ku="AsyncQueue";class Gu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ql(this,"async_queue_retry"),this._c=()=>{const e=Bl();e&&T(Ku,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Bl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Bl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new F;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Be(e))throw e;T(Ku,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,j("INTERNAL UNHANDLED ERROR: ",Qu(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Tc.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&P(47125,{Pc:Qu(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Qu(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Xu extends Vu{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Gu,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gu(e),this._firestoreClient=void 0,await e}}}function Yu(e,t){const n="object"==typeof e?e:(0,s.Sx)(),r="string"==typeof e?e:t||Dn,i=(0,s.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,c.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=pe(e,Vu);const i=(0,c.zJ)(t),s=e._getSettings(),a=(0,o.A)((0,o.A)({},s),{},{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);i&&((0,c.gE)("https://".concat(l)),(0,c.P1)("Firestore",!0)),s.host!==Du&&s.host!==l&&_("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=(0,o.A)((0,o.A)({},s),{},{host:l,ssl:i,emulatorOptions:r});if(!(0,c.bD)(u,a)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=E.MOCK_USER;else{var d;t=(0,c.Fy)(r.mockUserToken,null===(d=e._app)||void 0===d?void 0:d.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new D(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new E(i)}e._authCredentials=new B(new z(t,n))}}(i,...e)}return i}function $u(e){if(e._terminated)throw new D(M.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Ju(e),e._firestoreClient}function Ju(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Mn(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Lu(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Au(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function Zu(e,t){_("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return ed(e,ku.provider,{build:e=>new Su(e,n.cacheSizeBytes,null===t||void 0===t?void 0:t.forceOwnership)}),Promise.resolve()}function ed(e,t,n){if((e=pe(e,Xu))._firestoreClient||e._terminated)throw new D(M.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new D(M.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},Ju(e)}class td{constructor(e){this._byteString=e}static fromBase64String(e){try{return new td(En.fromBase64String(e))}catch(e){throw new D(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new td(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:td._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ge(e,td._jsonSchema))return td.fromBase64String(e.bytes)}}td._jsonSchemaVersion="firestore/bytes/1.0",td._jsonSchema={type:me("string",td._jsonSchemaVersion),bytes:me("string")};class nd{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new D(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rd{constructor(e){this._methodName=e}}class id{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new D(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new D(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:id._jsonSchemaVersion}}static fromJSON(e){if(ge(e,id._jsonSchema))return new id(e.latitude,e.longitude)}}id._jsonSchemaVersion="firestore/geoPoint/1.0",id._jsonSchema={type:me("string",id._jsonSchemaVersion),latitude:me("number"),longitude:me("number")};class od{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:od._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ge(e,od._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new od(e.vectorValues);throw new D(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}od._jsonSchemaVersion="firestore/vectorValue/1.0",od._jsonSchema={type:me("string",od._jsonSchemaVersion),vectorValues:me("object")};const sd=/^__.*__$/;class ad{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms):new $i(e,this.data,t,this.fieldTransforms)}}class ld{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P(40011,{Ac:e})}}class ud{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ud((0,o.A)((0,o.A)({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Id(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(cd(this.Ac)&&sd.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dd{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ul(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ud({Ac:e,methodName:t,Dc:n,path:se.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hd(e){const t=e._freezeSettings(),n=Ul(e._databaseId);return new dd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pd(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(o.merge||o.mergeFields?2:0,t,n,i);wd("Data must be an object, but it was:",s,r);const a=bd(r,s);let l,c;if(o.merge)l=new Sn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Sd(t,r,n);if(!s.contains(i))throw new D(M.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Ad(e,i)||e.push(i)}l=new Sn(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new ad(new fr(a),l,c)}class fd extends rd{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fd}}function md(e,t,n,r){const i=e.Cc(1,t,n);wd("Data must be an object, but it was:",i,r);const o=[],s=fr.empty();fn(r,(e,r)=>{const a=Ed(t,e,n);r=(0,c.Ku)(r);const l=i.yc(a);if(r instanceof fd)o.push(a);else{const e=yd(r,l);null!=e&&(o.push(a),s.set(a,e))}});const a=new Sn(o);return new ld(s,a,i.fieldTransforms)}function gd(e,t,n,r,i,o){const s=e.Cc(1,t,n),a=[Sd(t,r,n)],l=[i];if(o.length%2!=0)throw new D(M.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let c=0;c<o.length;c+=2)a.push(Sd(t,o[c])),l.push(o[c+1]);const u=[],d=fr.empty();for(let p=a.length-1;p>=0;--p)if(!Ad(u,a[p])){const e=a[p];let t=l[p];t=(0,c.Ku)(t);const n=s.yc(e);if(t instanceof fd)u.push(e);else{const r=yd(t,n);null!=r&&(u.push(e),d.set(e,r))}}const h=new Sn(u);return new ld(d,h,s.fieldTransforms)}function vd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return yd(n,e.Cc(r?4:3,t))}function yd(e,t){if(xd(e=(0,c.Ku)(e)))return wd("Unsupported field value:",t,e),bd(e,t);if(e instanceof rd)return function(e,t){if(!cd(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=yd(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,c.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ti(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=be.fromDate(e);return{timestampValue:Oo(t.serializer,n)}}if(e instanceof be){const n=new be(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Oo(t.serializer,n)}}if(e instanceof id)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof td)return{bytesValue:Lo(t.serializer,e._byteString)};if(e instanceof Uu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Fo(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof od)return function(e,t){return{mapValue:{fields:{[zn]:{stringValue:Un},[qn]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Ai(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(he(e)))}(e,t)}function bd(e,t){const n={};return mn(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fn(e,(e,r)=>{const i=yd(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function xd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof be||e instanceof id||e instanceof td||e instanceof Uu||e instanceof rd||e instanceof od)}function wd(e,t,n){if(!xd(n)||!de(n)){const r=he(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Sd(e,t,n){if((t=(0,c.Ku)(t))instanceof nd)return t._internalPath;if("string"==typeof t)return Ed(e,t);throw Id("Field path arguments must be of type string or ",e,!1,void 0,n)}const kd=new RegExp("[~\\*/\\[\\]]");function Ed(e,t,n){if(t.search(kd)>=0)throw Id("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new nd(...t.split("."))._internalPath}catch(r){throw Id("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Id(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new D(M.INVALID_ARGUMENT,a+e+l)}function Ad(e,t){return e.some(e=>e.isEqual(t))}class Cd{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Uu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Td(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Td extends Cd{data(){return super.data()}}function jd(e,t){return"string"==typeof t?Ed(e,t):t instanceof nd?t._internalPath:t._delegate._internalPath}function _d(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new D(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rd{}class Pd extends Rd{}function Nd(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Rd&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Md).length,n=e.filter(e=>e instanceof Od).length;if(t>1||t>0&&n>0)throw new D(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Od extends Pd{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Od(e,t,n)}_apply(e){const t=this._parse(e);return qd(e._query,t),new Bu(e.firestore,e.converter,ri(e._query,t))}_parse(e){const t=hd(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new D(M.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Ud(s,o);const t=[];for(const n of s)t.push(Bd(r,e,n));a={arrayValue:{values:t}}}else a=Bd(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ud(s,o),a=vd(n,t,s,"in"===o||"not-in"===o);return kr.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Ld(e,t,n){const r=t,i=jd("where",e);return Od._create(i,r,n)}class Md extends Rd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Md(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)qd(n,i),n=ri(n,i)}(e._query,t),new Bu(e.firestore,e.converter,ri(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Dd extends Pd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Dd(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new D(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new D(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xr(t,n)}(e._query,this._field,this._direction);return new Bu(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Xr(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Fd(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=jd("orderBy",e);return Dd._create(n,t)}class zd extends Pd{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new zd(e,t,n)}_apply(e){return new Bu(e.firestore,e.converter,ii(e._query,this._limit,this._limitType))}}function Vd(e){return fe("limit",e),zd._create("limit",e,"F")}function Bd(e,t,n){if("string"==typeof(n=(0,c.Ku)(n))){if(""===n)throw new D(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zr(t)&&-1!==n.indexOf("/"))throw new D(M.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(ie.fromString(n));if(!ae.isDocumentKey(r))throw new D(M.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return er(e,new ae(r))}if(n instanceof Uu)return er(e,n._key);throw new D(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(he(n),"."))}function Ud(e,t){if(!Array.isArray(e)||0===e.length)throw new D(M.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function qd(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new D(M.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new D(M.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Wd{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Hn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw P(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return fn(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[qn].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>Cn(e.doubleValue));return new od(n)}convertGeoPoint(e){return new id(Cn(e.latitude),Cn(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=On(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ln(e));default:return null}}convertTimestamp(e){const t=An(e);return new be(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ie.fromString(e);O(ls(n),9688,{name:e});const r=new Fn(n.get(1),n.get(3)),i=new ae(n.popFirst(5));return r.isEqual(t)||j("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Hd(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Kd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gd extends Cd{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(jd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new D(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Gd._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Gd._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gd._jsonSchema={type:me("string",Gd._jsonSchemaVersion),bundleSource:me("string","DocumentSnapshot"),bundleName:me("string"),bundle:me("string")};class Qd extends Gd{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Xd{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Kd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Qd(this._firestore,this._userDataWriter,n.key,n,new Kd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new D(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Qd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Kd(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Qd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Kd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Yd(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new D(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Q.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Yd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P(61501,{type:e})}}function $d(e){e=pe(e,Uu);const t=pe(e.firestore,Xu);return Nu($u(t),e._key).then(n=>rh(t,e,n))}Xd._jsonSchemaVersion="firestore/querySnapshot/1.0",Xd._jsonSchema={type:me("string",Xd._jsonSchemaVersion),bundleSource:me("string","QuerySnapshot"),bundleName:me("string"),bundle:me("string")};class Jd extends Wd{constructor(e){super(),this.firestore=e}convertBytes(e){return new td(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Uu(this.firestore,null,t)}}function Zd(e){e=pe(e,Bu);const t=pe(e.firestore,Xu),n=$u(t),r=new Jd(t);return _d(e._query),Ou(n,e._query).then(n=>new Xd(t,r,e,n))}function eh(e,t,n){e=pe(e,Uu);const r=pe(e.firestore,Xu),i=Hd(e.converter,t,n);return nh(r,[pd(hd(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,qi.none())])}function th(e,t,n){e=pe(e,Uu);const r=pe(e.firestore,Xu),i=hd(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=(0,c.Ku)(t))||t instanceof nd?gd(i,"updateDoc",e._key,t,n,a):md(i,"updateDoc",e._key,t),nh(r,[o.toMutation(e._key,qi.exists(!0))])}function nh(e,t){return function(e,t){const n=new F;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=bu(e);try{const e=await function(e,t){const n=L(e),r=be.now(),i=t.reduce((e,t)=>e.add(t.key),ki());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=fi(),l=ki();return n.Ns.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{o=i;const s=[];for(const e of t){const t=Xi(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Ji(e.key,t,mr(t.value.mapValue),qi.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:vi(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new gn(X)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await mu(r,e.changes),await mc(r.remoteStore)}catch(e){const t=jc(e,"Failed to persist write");n.reject(t)}}(await Ru(e),t,n)),n.promise}($u(e),t)}function rh(e,t,n){const r=n.docs.get(t._key),i=new Jd(e);return new Gd(e,i,t._key,r,new Kd(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){I=e}(s.MF),(0,s.om)(new a.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Xu(new U(e.getProvider("auth-internal")),new K(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new D(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fn(e.options.projectId,t)}(s,r),s);return i=(0,o.A)({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),(0,s.KO)(S,k,e),(0,s.KO)(S,k,"esm2020")}()},7064:(e,t,n)=>{"use strict";n.d(t,{Wp:()=>r.Wp});var r=n(1150);(0,r.KO)("firebase","12.5.0","app")},7162:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>o});var r=n(7598),i=n(9751);function o(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=n)return n}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function s(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=o(e.theme,a)||{};return(0,i.NI)(e,c,e=>{let i=s(u,l,e);return e===i&&"string"===typeof e&&(i=s(u,l,"".concat(t).concat("default"===e?"":(0,r.A)(e)),e)),!1===n?i:{[n]:i}})};return c.propTypes={},c.filterProps=[t],c}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,N(S);else{var t=r(u);null!==t&&O(w,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(A),A=-1),f=!0;var o=p;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!j());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(w,d.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,I=null,A=-1,C=5,T=-1;function j(){return!(t.unstable_now()-T<C)}function _(){if(null!==I){var e=t.unstable_now();T=e;var n=!0;try{n=I(!0,e)}finally{n?k():(E=!1,I=null)}}else E=!1}if("function"===typeof b)k=function(){b(_)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=_,k=function(){P.postMessage(null)}}else k=function(){v(_,0)};function N(e){I=e,E||(E=!0,k())}function O(e,n){A=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(A),A=-1):g=!0,O(w,o-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,N(S))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7266:(e,t,n)=>{"use strict";var r=n(4994);t.X4=p,t.e$=f,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var i=r(n(457)),o=r(n(6531));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,o.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", "),")"):""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,i.default)(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,i.default)(10,r))}else o=o.split(",");return o=o.map(e=>parseFloat(e)),{type:n,values:o,colorSpace:r}}const c=e=>{const t=l(e);return t.values.slice(0,3).map((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?"".concat(e,"%"):e).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),u({type:a,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,u(e)}function f(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?f(e,t):m(e,t)}},7598:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7868);function i(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7758:(e,t,n)=>{"use strict";n.d(t,{A:()=>O});var r=n(8604),i=n(7162),o=n(3815);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>(t.filterProps.forEach(n=>{e[n]=t}),e),{}),i=e=>Object.keys(e).reduce((t,n)=>r[n]?(0,o.A)(t,r[n](e)):t,{});return i.propTypes={},i.filterProps=t.reduce((e,t)=>e.concat(t.filterProps),[]),i};var a=n(9751);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function c(e,t){return(0,i.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),p=c("borderBottom",l),f=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),b=c("borderLeftColor"),x=c("outline",l),w=c("outlineColor"),S=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};S.propTypes={},S.filterProps=["borderRadius"];s(u,d,h,p,f,m,g,v,y,b,S,x,w);const k=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};k.propTypes={},k.filterProps=["gap"];const E=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};E.propTypes={},E.filterProps=["columnGap"];const I=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};I.propTypes={},I.filterProps=["rowGap"];s(k,E,I,(0,i.Ay)({prop:"gridColumn"}),(0,i.Ay)({prop:"gridRow"}),(0,i.Ay)({prop:"gridAutoFlow"}),(0,i.Ay)({prop:"gridAutoColumns"}),(0,i.Ay)({prop:"gridAutoRows"}),(0,i.Ay)({prop:"gridTemplateColumns"}),(0,i.Ay)({prop:"gridTemplateRows"}),(0,i.Ay)({prop:"gridTemplateAreas"}),(0,i.Ay)({prop:"gridArea"}));function A(e,t){return"grey"===t?t:e}s((0,i.Ay)({prop:"color",themeKey:"palette",transform:A}),(0,i.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:A}),(0,i.Ay)({prop:"backgroundColor",themeKey:"palette",transform:A}));function C(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const T=(0,i.Ay)({prop:"width",transform:C}),j=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:C(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};j.filterProps=["maxWidth"];const _=(0,i.Ay)({prop:"minWidth",transform:C}),R=(0,i.Ay)({prop:"height",transform:C}),P=(0,i.Ay)({prop:"maxHeight",transform:C}),N=(0,i.Ay)({prop:"minHeight",transform:C}),O=((0,i.Ay)({prop:"size",cssProperty:"width",transform:C}),(0,i.Ay)({prop:"size",cssProperty:"height",transform:C}),s(T,j,_,R,P,N,(0,i.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:A},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:A},backgroundColor:{themeKey:"palette",transform:A},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:k},rowGap:{style:I},columnGap:{style:E},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:C},maxWidth:{style:j},minWidth:{transform:C},height:{transform:C},maxHeight:{transform:C},minHeight:{transform:C},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},7868:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},7918:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7598)},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8052:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=g,rootShouldForwardProp:r=f,slotShouldForwardProp:l=f}=e,u=e=>(0,c.default)((0,i.default)({},e,{theme:y((0,i.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));const{name:d,slot:p,skipVariantsResolver:m,skipSx:g,overridesResolver:w=b(v(p))}=c,S=(0,o.default)(c,h),k=d&&d.startsWith("Mui")||p?"components":"custom",E=void 0!==m?m:p&&"Root"!==p&&"root"!==p||!1,I=g||!1;let A=f;"Root"===p||"root"===p?A=r:p?A=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(A=void 0);const C=(0,s.default)(e,(0,i.default)({shouldForwardProp:A,label:undefined},S)),T=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>{const o=y({theme:r.theme,defaultTheme:n,themeId:t});return x(e,(0,i.default)({},r,{theme:o}),o.modularCssLayers?k:void 0)}:e,j=function(r){let o=T(r);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=a?a.map(T):[];d&&w&&c.push(e=>{const r=y((0,i.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const o=r.components[d].styleOverrides,s={};return Object.entries(o).forEach(t=>{let[n,o]=t;s[n]=x(o,(0,i.default)({},e,{theme:r}),r.modularCssLayers?"theme":void 0)}),w(e,s)}),d&&!E&&c.push(e=>{var r;const o=y((0,i.default)({},e,{defaultTheme:n,themeId:t}));return x({variants:null==o||null==(r=o.components)||null==(r=r[d])?void 0:r.variants},(0,i.default)({},e,{theme:o}),o.modularCssLayers?"theme":void 0)}),I||c.push(u);const h=c.length-a.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");o=[...r,...e],o.raw=[...r.raw,...e]}const p=C(o,...c);return e.muiName&&(p.muiName=e.muiName),p};return C.withConfig&&(j.withConfig=C.withConfig),j}};var i=r(n(4634)),o=r(n(4893)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(3174)),a=n(9482),l=(r(n(7918)),r(n(3382)),r(n(4989))),c=r(n(3234));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function m(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}const g=(0,l.default)(),v=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function y(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function b(e){return e?(t,n)=>n[e]:null}function x(e,t,n){let{ownerState:r}=t,a=(0,o.default)(t,u);const l="function"===typeof e?e((0,i.default)({ownerState:r},a)):e;if(Array.isArray(l))return l.flatMap(e=>x(e,(0,i.default)({ownerState:r},a),n));if(l&&"object"===typeof l&&Array.isArray(l.variants)){const{variants:e=[]}=l;let t=(0,o.default)(l,d);return e.forEach(e=>{let o=!0;if("function"===typeof e.props?o=e.props((0,i.default)({ownerState:r},a,r)):Object.keys(e.props).forEach(t=>{(null==r?void 0:r[t])!==e.props[t]&&a[t]!==e.props[t]&&(o=!1)}),o){Array.isArray(t)||(t=[t]);const o="function"===typeof e.style?e.style((0,i.default)({ownerState:r},a,r)):e.style;t.push(n?m((0,s.internal_serializeStyles)(o),n):o)}}),t}return n?m((0,s.internal_serializeStyles)(l),n):l}},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8280:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(8168),i=n(8587),o=n(9172),s=n(4853);const a={borderRadius:4};var l=n(8604);var c=n(8812),u=n(7758),d=n(9703);const h=["breakpoints","palette","spacing","shape"];const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:p,shape:f={}}=e,m=(0,i.A)(e,h),g=(0,s.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map(e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return n.mui=!0,n}(p);let y=(0,o.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:v,shape:(0,r.A)({},a,f)},m);y.applyStyles=d.A;for(var b=arguments.length,x=new Array(b>1?b-1:0),w=1;w<b;w++)x[w-1]=arguments[w];return y=x.reduce((e,t)=>(0,o.A)(e,t),y),y.unstable_sxConfig=(0,r.A)({},u.A,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},y}},8557:(e,t,n)=>{"use strict";n.d(t,{HF:()=>it,sv:()=>St,F0:()=>Lt,sB:()=>kt,eJ:()=>Et,xI:()=>er,hg:()=>jt,gA:()=>At,J1:()=>wt,oM:()=>Tt,x9:()=>It,df:()=>mn,CI:()=>_t,r7:()=>Ct});var r=n(8587);function i(e,t){if(null==e)return{};var n,i,o=(0,r.A)(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var o=n(2555),s=n(1150),a=n(1776),l=n(2965),c=n(9606);const u=["providerId"],d=["uid","auth","stsTokenManager"],h=["providerId","signInMethod"];function p(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f=p,m=new a.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),g=new l.Vy("@firebase/auth");function v(e){if(g.logLevel<=l.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];g.error("Auth (".concat(s.MF,"): ").concat(e),...n)}}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw k(e,...n)}function b(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return k(e,...n)}function x(e,t,n){const r=(0,o.A)((0,o.A)({},f()),{},{[t]:n});return new a.FA("auth","Firebase",r).create(t,{appName:e.name})}function w(e){return x(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&y(e,"argument-error"),x(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return m.create(e,...n)}function E(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw k(t,...r)}}function I(e){const t="INTERNAL ASSERTION FAILED: "+e;throw v(t),new Error(t)}function A(e,t){e||I(t)}function C(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function T(){return"http:"===j()||"https:"===j()}function j(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class _{constructor(e,t){this.shortDelay=e,this.longDelay=t,A(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,a.jZ)()||(0,a.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(T()||(0,a.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function R(e,t){A(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class P{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void I("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void I("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void I("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},O=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L=new _(3e4,6e4);function M(e,t){return e.tenantId&&!t.tenantId?(0,o.A)((0,o.A)({},t),{},{tenantId:e.tenantId}):t}async function D(e,t,n,r){return F(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const l=(0,a.Am)((0,o.A)({key:e.config.apiKey},s)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u=(0,o.A)({method:t,headers:c},i);return(0,a.c1)()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(u.credentials="include"),P.fetch()(await V(e,e.config.apiHost,n,l),u)})}async function F(e,t,n){e._canInitEmulator=!1;const r=(0,o.A)((0,o.A)({},N),t);try{const t=new U(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw q(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw q(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw q(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw q(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw x(e,a,s);y(e,a)}}catch(i){if(i instanceof a.g)throw i;y(e,"network-request-failed",{message:String(i)})}}async function z(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await D(e,t,n,r,i);return"mfaPendingCredential"in o&&y(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function V(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),o=e,s=o.config.emulator?R(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(O.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(s).toString()}return s}function B(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(b(this.auth,"network-request-failed")),L.get())})}}function q(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=b(e,t,r);return i.customData._tokenResponse=n,i}function W(e){return void 0!==e&&void 0!==e.enterprise}class H{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return B(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function K(e,t){return D(e,"GET","/v2/recaptchaConfig",M(e,t))}async function G(e,t){return D(e,"POST","/v1/accounts:lookup",t)}function Q(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function X(e){return 1e3*Number(e)}function Y(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return v("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,a.u)(n);return e?JSON.parse(e):(v("Failed to decode base64 JWT payload"),null)}catch(i){return v("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function $(e){const t=Y(e);return E(t,"internal-error"),E("undefined"!==typeof t.exp,"internal-error"),E("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function J(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof a.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Z{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ee{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Q(this.lastLoginAt),this.creationTime=Q(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function te(e){var t;const n=e.auth,r=await e.getIdToken(),i=await J(e,G(n,{idToken:r}));E(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?ne(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null!==a&&void 0!==a&&a.length),h=!!u&&d,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ee(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function ne(e){return e.map(e=>{let{providerId:t}=e,n=i(e,u);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class re{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){E(e.idToken,"internal-error"),E("undefined"!==typeof e.idToken,"internal-error"),E("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){E(0!==e.length,"internal-error");const t=$(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(E(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await F(e,{},async()=>{const n=(0,a.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await V(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:n};return e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),P.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new re;return n&&(E("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(E("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(E("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new re,this.toJSON())}_performRefresh(){return I("not implemented")}}function ie(e,t){E("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class oe{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,o=i(e,d);this.providerId="firebase",this.proactiveRefresh=new Z(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ee(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await J(this,this.stsTokenManager.getToken(this.auth,e));return E(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,a.Ku)(e),r=await n.getIdToken(t),i=Y(r);E(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Q(X(i.auth_time)),issuedAtTime:Q(X(i.iat)),expirationTime:Q(X(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,a.Ku)(e);await te(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(E(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>(0,o.A)({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new oe((0,o.A)((0,o.A)({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){E(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await te(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,s.xZ)(this.auth.app))return Promise.reject(w(this.auth));const e=await this.getIdToken();return await J(this,async function(e,t){return D(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return(0,o.A)((0,o.A)({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>(0,o.A)({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,l,c,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,p=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:x,isAnonymous:w,providerData:S,stsTokenManager:k}=t;E(b&&k,e,"internal-error");const I=re.fromJSON(this.name,k);E("string"===typeof b,e,"internal-error"),ie(d,e.name),ie(h,e.name),E("boolean"===typeof x,e,"internal-error"),E("boolean"===typeof w,e,"internal-error"),ie(p,e.name),ie(f,e.name),ie(m,e.name),ie(g,e.name),ie(v,e.name),ie(y,e.name);const A=new oe({uid:b,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:w,photoURL:f,phoneNumber:p,tenantId:m,stsTokenManager:I,createdAt:v,lastLoginAt:y});return S&&Array.isArray(S)&&(A.providerData=S.map(e=>(0,o.A)({},e))),g&&(A._redirectEventId=g),A}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new re;r.updateFromServerResponse(t);const i=new oe({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await te(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];E(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?ne(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),s=new re;s.updateFromIdToken(n);const a=new oe({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ee(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const se=new Map;function ae(e){A(e instanceof Function,"Expected a class definition");let t=se.get(e);return t?(A(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,se.set(e,t),t)}class le{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}le.type="NONE";const ce=le;function ue(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class de{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ue(this.userKey,r.apiKey,i),this.fullPersistenceKey=ue("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await G(this.auth,{idToken:e}).catch(()=>{});return t?oe._fromGetAccountInfoResponse(this.auth,t,e):null}return oe._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new de(ae(ce),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ae(ce);const o=ue(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"===typeof t){const r=await G(e,{idToken:t}).catch(()=>{});if(!r)break;n=await oe._fromGetAccountInfoResponse(e,r,t)}else n=oe._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(t){}})),new de(i,e,n)):new de(i,e,n)}}function he(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ge(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ye(t))return"Blackberry";if(be(t))return"Webos";if(fe(t))return"Safari";if((t.includes("chrome/")||me(t))&&!t.includes("edge/"))return"Chrome";if(ve(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/firefox\//i.test(e)}function fe(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/crios\//i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/iemobile/i.test(e)}function ve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/android/i.test(e)}function ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/blackberry/i.test(e)}function be(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/webos/i.test(e)}function xe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function we(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return xe(e)||ve(e)||be(e)||ye(e)||/windows phone/i.test(e)||ge(e)}function Se(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=he((0,a.ZQ)());break;case"Worker":t="".concat(he((0,a.ZQ)()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(s.MF,"/").concat(r)}class ke{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Ee{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ie{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ce(this),this.idTokenSubscription=new Ce(this),this.beforeStateQueue=new ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ae(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await de.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(o){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await G(this,{idToken:e}),n=await oe._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,s.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,o;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(o=n)||void 0===o?void 0:o._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==s||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return E(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await te(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,s.xZ)(this.app))return Promise.reject(w(this));const t=e?(0,a.Ku)(e):null;return t&&E(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&E(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,s.xZ)(this.app)?Promise.reject(w(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,s.xZ)(this.app)?Promise.reject(w(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ae(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return D(e,"GET","/v2/passwordPolicy",M(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ee(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new a.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return D(e,"POST","/v2/accounts:revokeToken",M(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ae(e)||this._popupRedirectResolver;E(t,this,"argument-error"),this.redirectPersistenceManager=await de.create(this,[ae(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(E(s,this,"internal-error"),s.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return E(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Se(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,s.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(g.logLevel<=l.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];g.warn("Auth (".concat(s.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ae(e){return(0,a.Ku)(e)}class Ce{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,a.tD)(e=>this.observer=e)}get next(){return E(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Te={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function je(e){return Te.loadJS(e)}function _e(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Re{constructor(){this.enterprise=new Pe}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Pe{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ne="NO_RECAPTCHA";class Oe{constructor(e){this.type="recaptcha-enterprise",this.auth=Ae(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;W(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ne)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Re).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{K(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new H(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&W(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Te.recaptchaEnterpriseScript;0!==t.length&&(t+=i),je(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Le(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Oe(e);let a;if(i)a=Ne;else try{a=await s.verify(n)}catch(c){a=await s.verify(n,!0)}const l=(0,o.A)({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in l){const e=l.phoneEnrollmentInfo.phoneNumber,t=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const e=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Me(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Le(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Le(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const i=await Le(e,t,n);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Le(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Le(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function De(e){const t=Ae(e),n=await K(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new H(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Oe(t).verify()}}function Fe(e,t,n){const r=Ae(e);E(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),o=ze(t),{host:s,port:l}=function(e){const t=ze(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ve(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ve(t)}}}(t),c=null===l?"":":".concat(l),u={url:"".concat(o,"//").concat(s).concat(c,"/")},d=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return E(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void E((0,a.bD)(u,r.config.emulator)&&(0,a.bD)(d,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,(0,a.zJ)(s)?((0,a.gE)("".concat(o,"//").concat(s).concat(c)),(0,a.P1)("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ze(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ve(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Be{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return I("not implemented")}_getIdTokenResponse(e){return I("not implemented")}_linkToIdToken(e,t){return I("not implemented")}_getReauthenticationResolver(e){return I("not implemented")}}async function Ue(e,t){return D(e,"POST","/v1/accounts:resetPassword",M(e,t))}async function qe(e,t){return D(e,"POST","/v1/accounts:signUp",t)}async function We(e,t){return z(e,"POST","/v1/accounts:signInWithPassword",M(e,t))}async function He(e,t){return D(e,"POST","/v1/accounts:sendOobCode",M(e,t))}async function Ke(e,t){return He(e,t)}class Ge extends Be{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ge(e,t,"password")}static _fromEmailAndCode(e,t){return new Ge(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Me(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",We,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return z(e,"POST","/v1/accounts:signInWithEmailLink",M(e,t))}(e,{email:this._email,oobCode:this._password});default:y(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Me(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return z(e,"POST","/v1/accounts:signInWithEmailLink",M(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:y(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Qe(e,t){return z(e,"POST","/v1/accounts:signInWithIdp",M(e,t))}class Xe extends Be{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):y("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,o=i(t,h);if(!n||!r)return null;const s=new Xe(n,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){return Qe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Qe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qe(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,a.Am)(t)}return e}}async function Ye(e,t){return D(e,"POST","/v1/accounts:sendVerificationCode",M(e,t))}const $e={USER_NOT_FOUND:"user-not-found"};class Je extends Be{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Je({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Je({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return z(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await z(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,t));if(n.temporaryProof)throw q(e,"account-exists-with-different-credential",n);return n}(e,(0,o.A)({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return z(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,(0,o.A)((0,o.A)({},t),{},{operation:"REAUTH"})),$e)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Je({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ze{constructor(e){var t,n,r,i,o,s;const l=(0,a.I9)((0,a.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);E(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(i=l.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=l.lang)&&void 0!==o?o:null,this.tenantId=null!==(s=l.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=(0,a.I9)((0,a.hp)(e)).link,n=t?(0,a.I9)((0,a.hp)(t)).deep_link_id:null,r=(0,a.I9)((0,a.hp)(e)).deep_link_id;return(r?(0,a.I9)((0,a.hp)(r)).link:null)||r||n||t||e}(e);try{return new Ze(t)}catch(n){return null}}}class et{constructor(){this.providerId=et.PROVIDER_ID}static credential(e,t){return Ge._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ze.parseLink(t);return E(n,"argument-error"),Ge._fromEmailAndCode(e,n.code,n.tenantId)}}et.PROVIDER_ID="password",et.EMAIL_PASSWORD_SIGN_IN_METHOD="password",et.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class tt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nt extends tt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class rt extends nt{constructor(){super("facebook.com")}static credential(e){return Xe._fromParams({providerId:rt.PROVIDER_ID,signInMethod:rt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rt.credentialFromTaggedObject(e)}static credentialFromError(e){return rt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return rt.credential(t.oauthAccessToken)}catch(n){return null}}}rt.FACEBOOK_SIGN_IN_METHOD="facebook.com",rt.PROVIDER_ID="facebook.com";class it extends nt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xe._fromParams({providerId:it.PROVIDER_ID,signInMethod:it.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return it.credentialFromTaggedObject(e)}static credentialFromError(e){return it.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return it.credential(n,r)}catch(i){return null}}}it.GOOGLE_SIGN_IN_METHOD="google.com",it.PROVIDER_ID="google.com";class ot extends nt{constructor(){super("github.com")}static credential(e){return Xe._fromParams({providerId:ot.PROVIDER_ID,signInMethod:ot.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ot.credentialFromTaggedObject(e)}static credentialFromError(e){return ot.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ot.credential(t.oauthAccessToken)}catch(n){return null}}}ot.GITHUB_SIGN_IN_METHOD="github.com",ot.PROVIDER_ID="github.com";class st extends nt{constructor(){super("twitter.com")}static credential(e,t){return Xe._fromParams({providerId:st.PROVIDER_ID,signInMethod:st.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return st.credentialFromTaggedObject(e)}static credentialFromError(e){return st.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return st.credential(n,r)}catch(i){return null}}}async function at(e,t){return z(e,"POST","/v1/accounts:signUp",M(e,t))}st.TWITTER_SIGN_IN_METHOD="twitter.com",st.PROVIDER_ID="twitter.com";class lt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await oe._fromIdTokenResponse(e,n,r),o=ct(n);return new lt({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ct(n);return new lt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ct(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ut extends a.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ut.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ut(e,t,n,r)}}function dt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ut._fromErrorAndOperation(e,n,t,r);throw n})}async function ht(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await J(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return lt._forOperation(e,"link",r)}async function pt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if((0,s.xZ)(r.app))return Promise.reject(w(r));const i="reauthenticate";try{const o=await J(e,dt(r,i,t,e),n);E(o.idToken,r,"internal-error");const s=Y(o.idToken);E(s,r,"internal-error");const{sub:a}=s;return E(e.uid===a,r,"user-mismatch"),lt._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&y(r,"user-mismatch"),o}}async function ft(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(w(e));const r="signIn",i=await dt(e,r,t),o=await lt._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function mt(e,t){return ft(Ae(e),t)}class gt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?vt._fromServerResponse(e,t):"totpInfo"in t?yt._fromServerResponse(e,t):y(e,"internal-error")}}class vt extends gt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new vt(t)}}class yt extends gt{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new yt(t)}}function bt(e,t,n){var r;E((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),E("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),E("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(E(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(E(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function xt(e){const t=Ae(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function wt(e,t,n){const r=Ae(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&bt(r,i,n),await Me(r,i,"getOobCode",Ke,"EMAIL_PASSWORD_PROVIDER")}async function St(e,t){await async function(e,t){return D(e,"POST","/v1/accounts:update",M(e,t))}((0,a.Ku)(e),{oobCode:t})}async function kt(e,t){const n=(0,a.Ku)(e),r=await Ue(n,{oobCode:t}),i=r.requestType;switch(E(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":E(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":E(r.mfaInfo,n,"internal-error");default:E(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=gt._fromServerResponse(Ae(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Et(e,t,n){if((0,s.xZ)(e.app))return Promise.reject(w(e));const r=Ae(e),i=Me(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",at,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&xt(e),t}),a=await lt._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function It(e,t,n){return(0,s.xZ)(e.app)?Promise.reject(w(e)):mt((0,a.Ku)(e),et.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&xt(e),t})}async function At(e,t){const n=(0,a.Ku)(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&bt(n.auth,r,t);const{email:i}=await async function(e,t){return He(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Ct(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=(0,a.Ku)(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await J(i,async function(e,t){return D(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const l=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});l&&(l.displayName=i.displayName,l.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}function Tt(e,t){return(0,a.Ku)(e).setPersistence(t)}function jt(e,t,n,r){return(0,a.Ku)(e).onAuthStateChanged(t,n,r)}function _t(e){return(0,a.Ku)(e).signOut()}function Rt(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:start",M(e,t))}new WeakMap;const Pt="__sak";class Nt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pt,"1"),this.storage.removeItem(Pt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ot extends Nt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=we(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,a.lT)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ot.type="LOCAL";const Lt=Ot;function Mt(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Dt(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Ft{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Dt(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Mt(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Dt(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Dt(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Mt(n);const i=setInterval(()=>{const e=Mt(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Ft.type="COOKIE";class zt extends Nt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zt.type="SESSION";const Vt=zt;class Bt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Bt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(null===o||void 0===o||!o.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Bt.receivers=[];class qt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const l=Ut("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Wt(){return window}function Ht(){return"undefined"!==typeof Wt().WorkerGlobalScope&&"function"===typeof Wt().importScripts}const Kt="firebaseLocalStorageDb",Gt="firebaseLocalStorage",Qt="fbase_key";class Xt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yt(e,t){return e.transaction([Gt],t?"readwrite":"readonly").objectStore(Gt)}function $t(){const e=indexedDB.open(Kt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Gt,{keyPath:Qt})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Gt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Kt);return new Xt(e).toPromise()}(),t(await $t()))})})}async function Jt(e,t,n){const r=Yt(e,!0).put({[Qt]:t,value:n});return new Xt(r).toPromise()}function Zt(e,t){const n=Yt(e,!0).delete(t);return new Xt(n).toPromise()}class en{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await $t()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ht()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bt._getInstance(Ht()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new qt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $t();return await Jt(e,Pt,"1"),await Zt(e,Pt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jt(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Yt(e,!1).get(t),r=await new Xt(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Zt(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Yt(e,!1).getAll();return new Xt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}en.type="LOCAL";const tn=en;function nn(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:start",M(e,t))}_e("rcb"),new _(3e4,6e4);const rn="recaptcha";async function on(e,t,n){if(!e._getRecaptchaConfig())try{await De(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){E("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Me(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ne){E((null===n||void 0===n?void 0:n.type)===rn,e,"argument-error");return Rt(e,await sn(e,t,n))}return Rt(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;E("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;E(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Me(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ne){E((null===n||void 0===n?void 0:n.type)===rn,e,"argument-error");return nn(e,await sn(e,t,n))}return nn(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Me(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Ne){E((null===n||void 0===n?void 0:n.type)===rn,e,"argument-error");return Ye(e,await sn(e,t,n))}return Ye(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function sn(e,t,n){E(n.type===rn,e,"argument-error");const r=await n.verify();E("string"===typeof r,e,"argument-error");const i=(0,o.A)({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class an{constructor(e){this.providerId=an.PROVIDER_ID,this.auth=Ae(e)}verifyPhoneNumber(e,t){return on(this.auth,e,(0,a.Ku)(t))}static credential(e,t){return Je._fromVerification(e,t)}static credentialFromResult(e){const t=e;return an.credentialFromTaggedObject(t)}static credentialFromError(e){return an.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Je._fromTokenResponse(n,r):null}}function ln(e,t){return t?ae(t):(E(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}an.PROVIDER_ID="phone",an.PHONE_SIGN_IN_METHOD="phone";class cn extends Be{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qe(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qe(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qe(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function un(e){return ft(e.auth,new cn(e),e.bypassAuthState)}function dn(e){const{auth:t,user:n}=e;return E(n,t,"internal-error"),pt(n,new cn(e),e.bypassAuthState)}async function hn(e){const{auth:t,user:n}=e;return E(n,t,"internal-error"),ht(n,new cn(e),e.bypassAuthState)}class pn{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return un;case"linkViaPopup":case"linkViaRedirect":return hn;case"reauthViaPopup":case"reauthViaRedirect":return dn;default:y(this.auth,"internal-error")}}resolve(e){A(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){A(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fn=new _(2e3,1e4);async function mn(e,t,n){if((0,s.xZ)(e.app))return Promise.reject(b(e,"operation-not-supported-in-this-environment"));const r=Ae(e);S(e,t,tt);const i=ln(r,n);return new gn(r,"signInViaPopup",t,i).executeNotNull()}class gn extends pn{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,gn.currentPopupAction&&gn.currentPopupAction.cancel(),gn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return E(e,this.auth,"internal-error"),e}async onExecution(){A(1===this.filter.length,"Popup operations only handle one event");const e=Ut();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(b(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(b(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(b(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,fn.get())};e()}}gn.currentPopupAction=null;const vn=new Map;class yn extends pn{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=vn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=wn(t),r=xn(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}vn.set(this.auth._key(),e)}return this.bypassAuthState||vn.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function bn(e,t){vn.set(e._key(),t)}function xn(e){return ae(e._redirectPersistence)}function wn(e){return ue("pendingRedirect",e.config.apiKey,e.name)}async function Sn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(w(e));const r=Ae(e),i=ln(r,t),o=new yn(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class kn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return In(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!In(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(b(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(En(e))}saveEventToCache(e){this.cachedEventUids.add(En(e)),this.lastProcessedEventTime=Date.now()}}function En(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function In(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const An=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cn=/^https?/;async function Tn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return D(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(jn(r))return}catch(n){}y(e,"unauthorized-domain")}function jn(e){const t=C(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Cn.test(n))return!1;if(An.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const _n=new _(3e4,6e4);function Rn(){const e=Wt().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Pn(e){return new Promise((t,n)=>{var r,i;function o(){Rn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Rn(),n(b(e,"network-request-failed"))},timeout:_n.get()})}if(null!==(r=Wt().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Wt().gapi)||void 0===i||!i.load){const t=_e("iframefcb");return Wt()[t]=()=>{gapi.load?o():n(b(e,"network-request-failed"))},je("".concat(Te.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw Nn=null,e})}let Nn=null;const On=new _(5e3,15e3),Ln={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dn(e){const t=e.config;E(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?R(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:s.MF},i=Mn.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat((0,a.Am)(r).slice(1))}async function Fn(e){const t=await function(e){return Nn=Nn||Pn(e),Nn}(e),n=Wt().gapi;return E(n,e,"internal-error"),t.open({where:document.body,url:Dn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ln,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=b(e,"network-request-failed"),o=Wt().setTimeout(()=>{r(i)},On.get());function s(){Wt().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const zn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Bn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=(0,o.A)((0,o.A)({},zn),{},{width:r.toString(),height:i.toString(),top:s,left:l}),d=(0,a.ZQ)().toLowerCase();n&&(c=me(d)?"_blank":n),pe(d)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return xe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(d)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new Vn(null);const p=window.open(t||"",c,h);E(p,e,"popup-blocked");try{p.focus()}catch(f){}return new Vn(p)}const Un="__/auth/handler",qn="emulator/auth/handler",Wn=encodeURIComponent("fac");async function Hn(e,t,n,r,i,o){E(e.config.authDomain,e,"auth-domain-config-required"),E(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:s.MF,eventId:i};if(t instanceof tt){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,a.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))l[e]=t}if(t instanceof nt){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];const u=await e._getAppCheckToken(),d=u?"#".concat(Wn,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Un);return R(t,qn)}(e),"?").concat((0,a.Am)(c).slice(1)).concat(d)}const Kn="webStorageSupport";const Gn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vt,this._completeRedirectFn=Sn,this._overrideRedirectResult=bn}async _openPopup(e,t,n,r){var i;A(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Bn(e,await Hn(e,t,n,C(),r),Ut())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Wt().location.href=e}(await Hn(e,t,n,C(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(A(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Fn(e),n=new kn(e);return t.register("authEvent",t=>{E(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kn,{type:Kn},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Kn];void 0!==i&&t(!!i),y(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Tn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return we()||fe()||xe()}};var Qn="@firebase/auth",Xn="1.11.1";class Yn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){E(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const $n=(0,a.XA)("authIdTokenMaxAge")||300;let Jn=null;const Zn=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$n)return;const i=null===n||void 0===n?void 0:n.token;Jn!==i&&(Jn=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.Sx)();const t=(0,s.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,s.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,a.bD)(r,null!==t&&void 0!==t?t:{}))return e;y(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Gn,persistence:[tn,Lt,Vt]}),r=(0,a.XA)("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=Zn(e.toString());!function(e,t,n){(0,a.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,a.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const i=(0,a.Tj)("auth");return i&&Fe(n,"http://".concat(i)),n}var tr;Te={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=b("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},tr="Browser",(0,s.om)(new c.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;E(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:tr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Se(tr)},c=new Ie(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ae);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,s.om)(new c.uA("auth-internal",e=>(e=>new Yn(e))(Ae(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.KO)(Qn,Xn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(tr)),(0,s.KO)(Qn,Xn,"esm2020")},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},8604:(e,t,n)=>{"use strict";n.d(t,{LX:()=>f,MA:()=>p,_W:()=>m,Lc:()=>y,Ms:()=>b});var r=n(9751),i=n(7162),o=n(3815);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}(e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],i=a[n]||"";return Array.isArray(i)?i.map(e=>r+e):[r+i]}),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function p(e,t,n,r){var o;const s=null!=(o=(0,i.Yn)(e,t,!1))?o:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function f(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,i){if(-1===t.indexOf(n))return null;const o=function(e,t){return n=>e.reduce((e,r)=>(e[r]=m(t,n),e),{})}(c(n),i),s=e[n];return(0,r.NI)(e,s,o)}function v(e,t){const n=f(e.theme);return Object.keys(e).map(r=>g(e,t,r,n)).reduce(o.A,{})}function y(e){return v(e,u)}function b(e){return v(e,d)}function x(e){return v(e,h)}y.propTypes={},y.filterProps=u,b.propTypes={},b.filterProps=d,x.propTypes={},x.filterProps=h},8698:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),i=n(8587),o=n(9172),s=n(7758);const a=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach(t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]}),r};function c(e){const{sx:t}=e,n=(0,i.A)(e,a),{systemProps:s,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[s,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,o.Q)(e)?(0,r.A)({},s,e):s}:(0,r.A)({},s,t),(0,r.A)({},c,{sx:u})}},8812:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(7598),i=n(3815),o=n(7162),s=n(9751),a=n(7758);function l(){function e(e,t,n,i){const a={[e]:t,theme:n},l=i[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const p=(0,o.Yn)(n,u)||{};if(h)return h(a);return(0,s.NI)(a,t,t=>{let n=(0,o.BO)(p,d,t);return t===n&&"string"===typeof t&&(n=(0,o.BO)(p,d,"".concat(e).concat("default"===t?"":(0,r.A)(t)),t)),!1===c?n:{[c]:n}})}return function t(n){var r;const{sx:o,theme:l={},nested:c}=n||{};if(!o)return null;const u=null!=(r=l.unstable_sxConfig)?r:a.A;function d(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const o=(0,s.EU)(l.breakpoints),a=Object.keys(o);let d=o;return Object.keys(r).forEach(n=>{const o=(a=r[n],c=l,"function"===typeof a?a(c):a);var a,c;if(null!==o&&void 0!==o)if("object"===typeof o)if(u[n])d=(0,i.A)(d,e(n,o,l,u));else{const e=(0,s.NI)({theme:l},o,e=>({[n]:e}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>e.concat(Object.keys(t)),[]),i=new Set(r);return t.every(e=>i.size===Object.keys(e).length)}(e,o)?d=(0,i.A)(d,e):d[n]=t({sx:o,theme:l,nested:!0})}else d=(0,i.A)(d,e(n,o,l,u))}),!c&&l.modularCssLayers?{"@layer sx":(0,s.vf)(a,d)}:(0,s.vf)(a,d)}return Array.isArray(o)?o.map(d):d(o)}}const c=l();c.filterProps=["sx"];const u=c},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9172:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,Q:()=>o});var r=n(8168),i=n(5043);function o(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function s(e){if(i.isValidElement(e)||!o(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=s(e[n])}),t}function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const l=n.clone?(0,r.A)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach(r=>{i.isValidElement(t[r])?l[r]=t[r]:o(t[r])&&Object.prototype.hasOwnProperty.call(e,r)&&o(e[r])?l[r]=a(e[r],t[r],n):n.clone?l[r]=o(t[r])?s(t[r]):t[r]:l[r]=t[r]}),l}},9369:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,E:()=>g,T:()=>d,c:()=>f,h:()=>h,w:()=>u});var r=n(5043),i=n(3803),o=n(1722),s=n(6598),a=n(9436),l=r.createContext("undefined"!==typeof HTMLElement?(0,i.A)({key:"css"}):null),c=l.Provider,u=function(e){return(0,r.forwardRef)(function(t,n){var i=(0,r.useContext)(l);return e(t,i,n)})},d=r.createContext({});var h={}.hasOwnProperty,p="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=function(e,t){var n={};for(var r in t)h.call(t,r)&&(n[r]=t[r]);return n[p]=e,n},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,o.SF)(t,n,r),(0,a.s)(function(){return(0,o.sk)(t,n,r)}),null},g=u(function(e,t,n){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var a=e[p],l=[i],c="";"string"===typeof e.className?c=(0,o.Rk)(t.registered,l,e.className):null!=e.className&&(c=e.className+" ");var u=(0,s.J)(l,void 0,r.useContext(d));c+=t.key+"-"+u.name;var f={};for(var g in e)h.call(e,g)&&"css"!==g&&g!==p&&(f[g]=e[g]);return f.className=c,n&&(f.ref=n),r.createElement(r.Fragment,null,r.createElement(m,{cache:t,serialized:u,isStringTag:"string"===typeof a}),r.createElement(a,f))})},9436:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a,s:()=>s});var i=n(5043),o=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,s=o||function(e){return e()},a=o||i.useLayoutEffect},9482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(9172)},9606:(e,t,n)=>{"use strict";n.d(t,{h1:()=>a,uA:()=>i});var r=n(1776);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===o?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},9703:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},9751:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>s,iZ:()=>c,kW:()=>u,vf:()=>l,zu:()=>i});var r=n(9172);const i={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(i[e],"px)")};function s(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||o;return t.reduce((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r),{})}if("object"===typeof t){const e=r.breakpoints||o;return Object.keys(t).reduce((r,o)=>{if(-1!==Object.keys(e.values||i).indexOf(o)){r[e.up(o)]=n(t[o],o)}else{const e=o;r[e]=t[e]}return r},{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce((t,n)=>(t[e.up(n)]={},t),{}))||{}}function l(e,t){return e.reduce((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e},t)}function c(e){const t=a(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];const s=[t,...i].reduce((e,t)=>(0,r.A)(e,t),{});return l(Object.keys(t),s)}function u(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((t,r)=>{r<e.length&&(n[t]=!0)}):r.forEach(t=>{null!=e[t]&&(n[t]=!0)}),n}(t,n),o=Object.keys(i);if(0===o.length)return t;let s;return o.reduce((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e),{})}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".6014e6a9.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="ai-english-trainer-it:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,o,[s,a,l]=r,c=0;if(s.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkai_english_trainer_it=self.webpackChunkai_english_trainer_it||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(5043),t=n.t(e,2),r=n(4391),i=n(2555),o=n(8168),s=n(8587),a=n(7868),l=n(9172),c=n(7758),u=n(8812),d=n(8280);function h(e,t){return(0,o.A)({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var p=n(7266);const f={black:"#000",white:"#fff"},m={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},g={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},v={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},y={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},b={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},x={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},w={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},S=["mode","contrastThreshold","tonalOffset"],k={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},E={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function I(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,p.a)(e.main,i):"dark"===t&&(e.dark=(0,p.e$)(e.main,o)))}function A(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=(0,s.A)(e,S),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b[200],light:b[50],dark:b[400]}:{main:b[700],light:b[400],dark:b[800]}}(t),u=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[500],light:g[300],dark:g[700]}}(t),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[500],light:v[300],dark:v[700]}:{main:v[700],light:v[400],dark:v[800]}}(t),h=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:x[400],light:x[300],dark:x[700]}:{main:x[700],light:x[500],dark:x[900]}}(t),A=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:w[400],light:w[300],dark:w[700]}:{main:w[800],light:w[500],dark:w[900]}}(t),C=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:"#ed6c02",light:y[500],dark:y[900]}}(t);function T(e){return(0,p.eM)(e,E.text.primary)>=n?E.text.primary:k.text.primary}const j=e=>{let{color:t,name:n,mainShade:i=500,lightShade:s=300,darkShade:l=700}=e;if(t=(0,o.A)({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error((0,a.A)(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error((0,a.A)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return I(t,"light",s,r),I(t,"dark",l,r),t.contrastText||(t.contrastText=T(t.main)),t},_={dark:E,light:k};return(0,l.A)((0,o.A)({common:(0,o.A)({},f),mode:t,primary:j({color:c,name:"primary"}),secondary:j({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:j({color:d,name:"error"}),warning:j({color:C,name:"warning"}),info:j({color:h,name:"info"}),success:j({color:A,name:"success"}),grey:m,contrastThreshold:n,getContrastText:T,augmentColor:j,tonalOffset:r},_[t]),i)}const C=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const T={textTransform:"uppercase"},j='"Roboto", "Helvetica", "Arial", sans-serif';function _(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=j,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:c=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:p,pxToRem:f}=n,m=(0,s.A)(n,C);const g=i/14,v=f||(e=>"".concat(e/h*g,"rem")),y=(e,t,n,i,s)=>{return(0,o.A)({fontFamily:r,fontWeight:e,fontSize:v(t),lineHeight:n},r===j?{letterSpacing:"".concat((a=i/t,Math.round(1e5*a)/1e5),"em")}:{},s,p);var a},b={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(c,48,1.167,0),h4:y(c,34,1.235,.25),h5:y(c,24,1.334,0),h6:y(u,20,1.6,.15),subtitle1:y(c,16,1.75,.15),subtitle2:y(u,14,1.57,.1),body1:y(c,16,1.5,.15),body2:y(c,14,1.43,.15),button:y(u,14,1.75,.4,T),caption:y(c,12,1.66,.4),overline:y(c,12,2.66,1,T),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,l.A)((0,o.A)({htmlFontSize:h,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:c,fontWeightMedium:u,fontWeightBold:d},b),m,{clone:!1})}function R(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const P=["none",R(0,2,1,-1,0,1,1,0,0,1,3,0),R(0,3,1,-2,0,2,2,0,0,1,5,0),R(0,3,3,-2,0,3,4,0,0,1,8,0),R(0,2,4,-1,0,4,5,0,0,1,10,0),R(0,3,5,-1,0,5,8,0,0,1,14,0),R(0,3,5,-1,0,6,10,0,0,1,18,0),R(0,4,5,-2,0,7,10,1,0,2,16,1),R(0,5,5,-3,0,8,10,1,0,3,14,2),R(0,5,6,-3,0,9,12,1,0,3,16,2),R(0,6,6,-3,0,10,14,1,0,4,18,3),R(0,6,7,-4,0,11,15,1,0,4,20,3),R(0,7,8,-4,0,12,17,2,0,5,22,4),R(0,7,8,-4,0,13,19,2,0,5,24,4),R(0,7,9,-4,0,14,21,2,0,5,26,4),R(0,8,9,-5,0,15,22,2,0,6,28,5),R(0,8,10,-5,0,16,24,2,0,6,30,5),R(0,8,11,-5,0,17,26,2,0,6,32,5),R(0,9,11,-5,0,18,28,2,0,7,34,6),R(0,9,12,-6,0,19,29,2,0,7,36,6),R(0,10,13,-6,0,20,31,3,0,8,38,7),R(0,10,13,-6,0,21,33,3,0,8,40,7),R(0,10,14,-6,0,22,35,3,0,8,42,7),R(0,11,14,-7,0,23,36,3,0,9,44,8),R(0,11,15,-7,0,24,38,3,0,9,46,8)],N=["duration","easing","delay"],O={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},L={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function M(e){return"".concat(Math.round(e),"ms")}function D(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function F(e){const t=(0,o.A)({},O,e.easing),n=(0,o.A)({},L,e.duration);return(0,o.A)({getAutoHeightDuration:D,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:a=0}=r;(0,s.A)(r,N);return(Array.isArray(e)?e:[e]).map(e=>"".concat(e," ").concat("string"===typeof i?i:M(i)," ").concat(o," ").concat("string"===typeof a?a:M(a))).join(",")}},e,{easing:t,duration:n})}const z={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},V=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function B(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:i={}}=e,p=(0,s.A)(e,V);if(e.vars&&void 0===e.generateCssVars)throw new Error((0,a.A)(18));const f=A(n),m=(0,d.A)(e);let g=(0,l.A)(m,{mixins:h(m.breakpoints,t),palette:f,shadows:P.slice(),typography:_(f,i),transitions:F(r),zIndex:(0,o.A)({},z)});g=(0,l.A)(g,p);for(var v=arguments.length,y=new Array(v>1?v-1:0),b=1;b<v;b++)y[b-1]=arguments[b];return g=y.reduce((e,t)=>(0,l.A)(e,t),g),g.unstable_sxConfig=(0,o.A)({},c.A,null==p?void 0:p.unstable_sxConfig),g.unstable_sx=function(e){return(0,u.A)({sx:e,theme:this})},g}const U=B;function q(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=q(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const W=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=q(e))&&(r&&(r+=" "),r+=t);return r};var H=n(3174),K=n(8698),G=n(9369);const Q=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=e.useContext(G.T);return n&&(r=n,0!==Object.keys(r).length)?n:t;var r},X=(0,d.A)();const Y=function(){return Q(arguments.length>0&&void 0!==arguments[0]?arguments[0]:X)};var $=n(579);const J=["className","component"];const Z=e=>e,ee=(()=>{let e=Z;return{configure(t){e=t},generate:t=>e(t),reset(){e=Z}}})(),te="$$material",ne={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function re(e,t){const n=ne[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(ee.generate(e),"-").concat(t)}function ie(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach(t=>{r[t]=re(e,t,n)}),r}const oe=ie("MuiBox",["root"]),se=U(),ae=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:i="MuiBox-root",generateClassName:a}=t,l=(0,H.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(u.A),c=e.forwardRef(function(e,t){const c=Y(r),u=(0,K.A)(e),{className:d,component:h="div"}=u,p=(0,s.A)(u,J);return(0,$.jsx)(l,(0,o.A)({as:h,ref:t,className:W(d,a?a(i):i),theme:n&&c[n]||c},p))});return c}({themeId:te,defaultTheme:se,defaultClassName:oe.root,generateClassName:ee.generate}),le=ae;function ce(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e},[]).join(" ")}),r}var ue=n(8052);const de=U();const he=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},pe=e=>he(e)&&"classes"!==e,fe=(0,ue.Ay)({themeId:te,defaultTheme:de,rootShouldForwardProp:pe});function me(e,t){const n=(0,o.A)({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=(0,o.A)({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},s=t[r];n[r]={},s&&Object.keys(s)?i&&Object.keys(i)?(n[r]=(0,o.A)({},s),Object.keys(i).forEach(e=>{n[r][e]=me(i[e],s[e])})):n[r]=s:n[r]=i}else void 0===n[r]&&(n[r]=e[r])}),n}const ge=e.createContext(void 0);function ve(t){let{props:n,name:r}=t;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?me(i.defaultProps,r):i.styleOverrides||i.variants?r:me(i,r)}({props:n,name:r,theme:{components:e.useContext(ge)}})}const ye=function(e){let{value:t,children:n}=e;return(0,$.jsx)(ge.Provider,{value:t,children:n})};function be(e){return ve(e)}var xe=n(7598);const we=xe.A;function Se(e){return re("MuiTypography",e)}ie("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const ke=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Ee=fe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(we(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})}),Ie={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ae={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ce=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiTypography"}),r=(e=>Ae[e]||e)(n.color),i=(0,K.A)((0,o.A)({},n,{color:r})),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:d=!1,paragraph:h=!1,variant:p="body1",variantMapping:f=Ie}=i,m=(0,s.A)(i,ke),g=(0,o.A)({},i,{align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:d,paragraph:h,variant:p,variantMapping:f}),v=c||(h?"p":f[p]||Ie[p])||"span",y=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e;return ce({root:["root",o,"inherit"!==e.align&&"align".concat(we(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},Se,s)})(g);return(0,$.jsx)(Ee,(0,o.A)({as:v,ref:t,ownerState:g,className:W(y.root,l)},m))});var Te=n(9751);function je(){const e=Y(de);return e[te]||e}const _e=e.createContext();function Re(e){return re("MuiGrid",e)}const Pe=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Ne=ie("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map(e=>"spacing-xs-".concat(e)),...["column-reverse","column","row-reverse","row"].map(e=>"direction-xs-".concat(e)),...["nowrap","wrap-reverse","wrap"].map(e=>"wrap-xs-".concat(e)),...Pe.map(e=>"grid-xs-".concat(e)),...Pe.map(e=>"grid-sm-".concat(e)),...Pe.map(e=>"grid-md-".concat(e)),...Pe.map(e=>"grid-lg-".concat(e)),...Pe.map(e=>"grid-xl-".concat(e))]),Oe=Ne,Le=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Me(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function De(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach(e=>{""===r&&0!==n[e]&&(r=e)});const i=Object.keys(t).sort((e,n)=>t[e]-t[n]);return i.slice(0,i.indexOf(r))}const Fe=fe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach(t=>{const i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])}),r}(s,c,t));const d=[];return c.forEach(e=>{const r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])}),[t.root,r&&t.container,o&&t.item,l&&t.zeroMinWidth,...u,"row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==a&&t["wrap-xs-".concat(String(a))],...d]}})(e=>{let{ownerState:t}=e;return(0,o.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})},function(e){let{theme:t,ownerState:n}=e;const r=(0,Te.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,Te.NI)({theme:t},r,e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(Oe.item)]={maxWidth:"none"}),t})},function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,Te.kW)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=De({breakpoints:t.breakpoints.values,values:e})),o=(0,Te.NI)({theme:t},e,(e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{marginTop:"-".concat(Me(o)),["& > .".concat(Oe.item)]:{paddingTop:Me(o)}}:null!=(i=n)&&i.includes(r)?{}:{marginTop:0,["& > .".concat(Oe.item)]:{paddingTop:0}}})}return o},function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,Te.kW)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=De({breakpoints:t.breakpoints.values,values:e})),o=(0,Te.NI)({theme:t},e,(e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{width:"calc(100% + ".concat(Me(o),")"),marginLeft:"-".concat(Me(o)),["& > .".concat(Oe.item)]:{paddingLeft:Me(o)}}:null!=(i=n)&&i.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat(Oe.item)]:{paddingLeft:0}}})}return o},function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce((e,i)=>{let s={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=(0,Te.kW)({values:r.columns,breakpoints:n.breakpoints.values}),l="object"===typeof a?a[i]:a;if(void 0===l||null===l)return e;const c="".concat(Math.round(t/l*1e8)/1e6,"%");let u={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(c," + ").concat(Me(e),")");u={flexBasis:t,maxWidth:t}}}s=(0,o.A)({flexBasis:c,flexGrow:0,maxWidth:c},u)}return 0===n.breakpoints.values[i]?Object.assign(e,s):e[n.breakpoints.up(i)]=s,e},{})});const ze=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach(t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}}),n}(o,l));const u=[];l.forEach(t=>{const n=e[t];n&&u.push("grid-".concat(t,"-").concat(String(n)))});return ce({root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==s&&"wrap-xs-".concat(String(s)),...u]},Re,t)},Ve=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiGrid"}),{breakpoints:i}=je(),a=(0,K.A)(r),{className:l,columns:c,columnSpacing:u,component:d="div",container:h=!1,direction:p="row",item:f=!1,rowSpacing:m,spacing:g=0,wrap:v="wrap",zeroMinWidth:y=!1}=a,b=(0,s.A)(a,Le),x=m||g,w=u||g,S=e.useContext(_e),k=h?c||12:S,E={},I=(0,o.A)({},b);i.keys.forEach(e=>{null!=b[e]&&(E[e]=b[e],delete I[e])});const A=(0,o.A)({},a,{columns:k,container:h,direction:p,item:f,rowSpacing:x,columnSpacing:w,wrap:v,zeroMinWidth:y,spacing:g},E,{breakpoints:i.keys}),C=ze(A);return(0,$.jsx)(_e.Provider,{value:k,children:(0,$.jsx)(Fe,(0,o.A)({ownerState:A,className:W(C.root,l),as:d,ref:n},I))})});const Be=Ve,Ue=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function qe(e){return re("MuiPaper",e)}ie("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const We=["className","component","elevation","square","variant"],He=fe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})(e=>{let{theme:t,ownerState:n}=e;var r;return(0,o.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&(0,o.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,p.X4)("#fff",Ue(n.elevation)),", ").concat((0,p.X4)("#fff",Ue(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))}),Ke=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:a=1,square:l=!1,variant:c="elevation"}=n,u=(0,s.A)(n,We),d=(0,o.A)({},n,{component:i,elevation:a,square:l,variant:c}),h=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return ce({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},qe,i)})(d);return(0,$.jsx)(He,(0,o.A)({as:i,ownerState:d,className:W(h.root,r),ref:t},u))});function Ge(e){return re("MuiCard",e)}ie("MuiCard",["root"]);const Qe=["className","raised"],Xe=fe(Ke,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Ye=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiCard"}),{className:r,raised:i=!1}=n,a=(0,s.A)(n,Qe),l=(0,o.A)({},n,{raised:i}),c=(e=>{const{classes:t}=e;return ce({root:["root"]},Ge,t)})(l);return(0,$.jsx)(Xe,(0,o.A)({className:W(c.root,r),elevation:i?8:void 0,ref:t,ownerState:l},a))});function $e(e){return re("MuiCardContent",e)}ie("MuiCardContent",["root"]);const Je=["className","component"],Ze=fe("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),et=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiCardContent"}),{className:r,component:i="div"}=n,a=(0,s.A)(n,Je),l=(0,o.A)({},n,{component:i}),c=(e=>{const{classes:t}=e;return ce({root:["root"]},$e,t)})(l);return(0,$.jsx)(Ze,(0,o.A)({as:i,className:W(c.root,r),ownerState:l,ref:t},a))});function tt(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function nt(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useMemo(()=>n.every(e=>null==e)?null:e=>{n.forEach(t=>{tt(t,e)})},n)}const rt=nt,it="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;const ot=function(t){const n=e.useRef(t);return it(()=>{n.current=t}),e.useRef(function(){return(0,n.current)(...arguments)}).current},st=ot,at={};const lt=[];class ct{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new ct}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function ut(){const t=function(t,n){const r=e.useRef(at);return r.current===at&&(r.current=t(n)),r}(ct.create).current;var n;return n=t.disposeEffect,e.useEffect(n,lt),t}let dt=!0,ht=!1;const pt=new ct,ft={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function mt(e){e.metaKey||e.altKey||e.ctrlKey||(dt=!0)}function gt(){dt=!1}function vt(){"hidden"===this.visibilityState&&ht&&(dt=!0)}function yt(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return dt||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!ft[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function bt(){const t=e.useCallback(e=>{null!=e&&function(e){e.addEventListener("keydown",mt,!0),e.addEventListener("mousedown",gt,!0),e.addEventListener("pointerdown",gt,!0),e.addEventListener("touchstart",gt,!0),e.addEventListener("visibilitychange",vt,!0)}(e.ownerDocument)},[]),n=e.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!yt(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(ht=!0,pt.start(100,()=>{ht=!1}),n.current=!1,!0)},ref:t}}const xt=bt;function wt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function St(e,t){return St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},St(e,t)}function kt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,St(e,t)}const Et=e.createContext(null);function It(t,n){var r=Object.create(null);return t&&e.Children.map(t,function(e){return e}).forEach(function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)}),r}function At(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Ct(t,n,r){var i=It(t.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(n,i);return Object.keys(o).forEach(function(s){var a=o[s];if((0,e.isValidElement)(a)){var l=s in n,c=s in i,u=n[s],d=(0,e.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,e.isValidElement)(u)&&(o[s]=(0,e.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:At(a,"exit",t),enter:At(a,"enter",t)})):o[s]=(0,e.cloneElement)(a,{in:!1}):o[s]=(0,e.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:At(a,"exit",t),enter:At(a,"enter",t)})}}),o}var Tt=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},jt=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}kt(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,o=n.children,s=n.handleExited;return{children:n.firstRender?(r=t,i=s,It(r.children,function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:At(t,"appear",r),enter:At(t,"enter",r),exit:At(t,"exit",r)})})):Ct(t,o,s),firstRender:!1}},r.handleExited=function(e,t){var n=It(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=(0,o.A)({},t.children);return delete n[e.key],{children:n}}))},r.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=(0,s.A)(t,["component","childFactory"]),o=this.state.contextValue,a=Tt(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(Et.Provider,{value:o},a):e.createElement(Et.Provider,{value:o},e.createElement(n,i,a))},n}(e.Component);jt.propTypes={},jt.defaultProps={component:"div",childFactory:function(e){return e}};const _t=jt;var Rt=n(3290);const Pt=function(t){const{className:n,classes:r,pulsate:i=!1,rippleX:o,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=t,[d,h]=e.useState(!1),p=W(n,r.ripple,r.rippleVisible,i&&r.ripplePulsate),f={width:a,height:a,top:-a/2+s,left:-a/2+o},m=W(r.child,d&&r.childLeaving,i&&r.childPulsate);return l||d||h(!0),e.useEffect(()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}},[c,l,u]),(0,$.jsx)("span",{className:p,style:f,children:(0,$.jsx)("span",{className:m})})};const Nt=ie("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var Ot,Lt,Mt,Dt;const Ft=["center","classes","className"];let zt,Vt,Bt,Ut;const qt=(0,Rt.i7)(zt||(zt=Ot||(Ot=wt(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Wt=(0,Rt.i7)(Vt||(Vt=Lt||(Lt=wt(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Ht=(0,Rt.i7)(Bt||(Bt=Mt||(Mt=wt(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Kt=fe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Gt=fe(Pt,{name:"MuiTouchRipple",slot:"Ripple"})(Ut||(Ut=Dt||(Dt=wt(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Nt.rippleVisible,qt,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},Nt.ripplePulsate,e=>{let{theme:t}=e;return t.transitions.duration.shorter},Nt.child,Nt.childLeaving,Wt,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},Nt.childPulsate,Ht,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),Qt=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:a={},className:l}=r,c=(0,s.A)(r,Ft),[u,d]=e.useState([]),h=e.useRef(0),p=e.useRef(null);e.useEffect(()=>{p.current&&(p.current(),p.current=null)},[u]);const f=e.useRef(!1),m=ut(),g=e.useRef(null),v=e.useRef(null),y=e.useCallback(e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:o}=e;d(e=>[...e,(0,$.jsx)(Gt,{classes:{ripple:W(a.ripple,Nt.ripple),rippleVisible:W(a.rippleVisible,Nt.rippleVisible),ripplePulsate:W(a.ripplePulsate,Nt.ripplePulsate),child:W(a.child,Nt.child),childLeaving:W(a.childLeaving,Nt.childLeaving),childPulsate:W(a.childPulsate,Nt.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},h.current)]),h.current+=1,p.current=o},[a]),b=e.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=i||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&f.current)return void(f.current=!1);"touchstart"===(null==e?void 0:e.type)&&(f.current=!0);const a=s?null:v.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===g.current&&(g.current=()=>{y({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},m.start(80,()=>{g.current&&(g.current(),g.current=null)})):y({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},[i,y,m]),x=e.useCallback(()=>{b({},{pulsate:!0})},[b]),w=e.useCallback((e,t)=>{if(m.clear(),"touchend"===(null==e?void 0:e.type)&&g.current)return g.current(),g.current=null,void m.start(0,()=>{w(e,t)});g.current=null,d(e=>e.length>0?e.slice(1):e),p.current=t},[m]);return e.useImperativeHandle(n,()=>({pulsate:x,start:b,stop:w}),[x,b,w]),(0,$.jsx)(Kt,(0,o.A)({className:W(Nt.root,a.root,l),ref:v},c,{children:(0,$.jsx)(_t,{component:null,exit:!0,children:u})}))}),Xt=Qt;function Yt(e){return re("MuiButtonBase",e)}const $t=ie("MuiButtonBase",["root","disabled","focusVisible"]),Jt=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Zt=fe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat($t.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),en=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:a=!1,children:l,className:c,component:u="button",disabled:d=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:f=!1,LinkComponent:m="a",onBlur:g,onClick:v,onContextMenu:y,onDragLeave:b,onFocus:x,onFocusVisible:w,onKeyDown:S,onKeyUp:k,onMouseDown:E,onMouseLeave:I,onMouseUp:A,onTouchEnd:C,onTouchMove:T,onTouchStart:j,tabIndex:_=0,TouchRippleProps:R,touchRippleRef:P,type:N}=r,O=(0,s.A)(r,Jt),L=e.useRef(null),M=e.useRef(null),D=rt(M,P),{isFocusVisibleRef:F,onFocus:z,onBlur:V,ref:B}=xt(),[U,q]=e.useState(!1);d&&U&&q(!1),e.useImperativeHandle(i,()=>({focusVisible:()=>{q(!0),L.current.focus()}}),[]);const[H,K]=e.useState(!1);e.useEffect(()=>{K(!0)},[]);const G=H&&!h&&!d;function Q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;return st(r=>{t&&t(r);return!n&&M.current&&M.current[e](r),!0})}e.useEffect(()=>{U&&f&&!h&&H&&M.current.pulsate()},[h,f,U,H]);const X=Q("start",E),Y=Q("stop",y),J=Q("stop",b),Z=Q("stop",A),ee=Q("stop",e=>{U&&e.preventDefault(),I&&I(e)}),te=Q("start",j),ne=Q("stop",C),re=Q("stop",T),ie=Q("stop",e=>{V(e),!1===F.current&&q(!1),g&&g(e)},!1),oe=st(e=>{L.current||(L.current=e.currentTarget),z(e),!0===F.current&&(q(!0),w&&w(e)),x&&x(e)}),se=()=>{const e=L.current;return u&&"button"!==u&&!("A"===e.tagName&&e.href)},ae=e.useRef(!1),le=st(e=>{f&&!ae.current&&U&&M.current&&" "===e.key&&(ae.current=!0,M.current.stop(e,()=>{M.current.start(e)})),e.target===e.currentTarget&&se()&&" "===e.key&&e.preventDefault(),S&&S(e),e.target===e.currentTarget&&se()&&"Enter"===e.key&&!d&&(e.preventDefault(),v&&v(e))}),ue=st(e=>{f&&" "===e.key&&M.current&&U&&!e.defaultPrevented&&(ae.current=!1,M.current.stop(e,()=>{M.current.pulsate(e)})),k&&k(e),v&&e.target===e.currentTarget&&se()&&" "===e.key&&!e.defaultPrevented&&v(e)});let de=u;"button"===de&&(O.href||O.to)&&(de=m);const he={};"button"===de?(he.type=void 0===N?"button":N,he.disabled=d):(O.href||O.to||(he.role="button"),d&&(he["aria-disabled"]=d));const pe=rt(n,B,L);const fe=(0,o.A)({},r,{centerRipple:a,component:u,disabled:d,disableRipple:h,disableTouchRipple:p,focusRipple:f,tabIndex:_,focusVisible:U}),me=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=ce({root:["root",t&&"disabled",n&&"focusVisible"]},Yt,i);return n&&r&&(o.root+=" ".concat(r)),o})(fe);return(0,$.jsxs)(Zt,(0,o.A)({as:de,className:W(me.root,c),ownerState:fe,onBlur:ie,onClick:v,onContextMenu:Y,onFocus:oe,onKeyDown:le,onKeyUp:ue,onMouseDown:X,onMouseLeave:ee,onMouseUp:Z,onDragLeave:J,onTouchEnd:ne,onTouchMove:re,onTouchStart:te,ref:pe,tabIndex:d?-1:_,type:N},he,O,{children:[l,G?(0,$.jsx)(Xt,(0,o.A)({ref:D,center:a},R)):null]}))}),tn=en;function nn(e){return re("MuiButton",e)}const rn=ie("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const on=e.createContext({});const sn=e.createContext(void 0),an=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],ln=e=>(0,o.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),cn=fe(tn,{shouldForwardProp:e=>pe(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(we(n.color))],t["size".concat(we(n.size))],t["".concat(n.variant,"Size").concat(we(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(e=>{let{theme:t,ownerState:n}=e;var r,i;const s="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],a="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,o.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,o.A)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,p.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,p.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,p.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,o.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(rn.focusVisible)]:(0,o.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(rn.disabled)]:(0,o.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat((0,p.X4)(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:s,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})},e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(rn.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(rn.disabled)]:{boxShadow:"none"}}}),un=fe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat(we(n.size))]]}})(e=>{let{ownerState:t}=e;return(0,o.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},ln(t))}),dn=fe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat(we(n.size))]]}})(e=>{let{ownerState:t}=e;return(0,o.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},ln(t))}),hn=e.forwardRef(function(t,n){const r=e.useContext(on),i=e.useContext(sn),a=be({props:me(r,t),name:"MuiButton"}),{children:l,color:c="primary",component:u="button",className:d,disabled:h=!1,disableElevation:p=!1,disableFocusRipple:f=!1,endIcon:m,focusVisibleClassName:g,fullWidth:v=!1,size:y="medium",startIcon:b,type:x,variant:w="text"}=a,S=(0,s.A)(a,an),k=(0,o.A)({},a,{color:c,component:u,disabled:h,disableElevation:p,disableFocusRipple:f,fullWidth:v,size:y,type:x,variant:w}),E=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:s,classes:a}=e,l=ce({root:["root",s,"".concat(s).concat(we(t)),"size".concat(we(i)),"".concat(s,"Size").concat(we(i)),"color".concat(we(t)),n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat(we(i))],endIcon:["icon","endIcon","iconSize".concat(we(i))]},nn,a);return(0,o.A)({},a,l)})(k),I=b&&(0,$.jsx)(un,{className:E.startIcon,ownerState:k,children:b}),A=m&&(0,$.jsx)(dn,{className:E.endIcon,ownerState:k,children:m}),C=i||"";return(0,$.jsxs)(cn,(0,o.A)({ownerState:k,className:W(r.className,E.root,d,C),component:u,disabled:h,focusRipple:!f,focusVisibleClassName:W(E.focusVisible,g),ref:n,type:x},S,{classes:E,children:[I,l,A]}))});function pn(e){return re("MuiAppBar",e)}ie("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const fn=["className","color","enableColorOnDark","position"],mn=(e,t)=>e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t,gn=fe(Ke,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat(we(n.position))],t["color".concat(we(n.color))]]}})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,o.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,o.A)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,o.A)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,o.A)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:mn(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:mn(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:mn(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:mn(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},!["inherit","transparent"].includes(n.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),vn=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiAppBar"}),{className:r,color:i="primary",enableColorOnDark:a=!1,position:l="fixed"}=n,c=(0,s.A)(n,fn),u=(0,o.A)({},n,{color:i,position:l,enableColorOnDark:a}),d=(e=>{const{color:t,position:n,classes:r}=e;return ce({root:["root","color".concat(we(t)),"position".concat(we(n))]},pn,r)})(u);return(0,$.jsx)(gn,(0,o.A)({square:!0,component:"header",ownerState:u,elevation:4,className:W(d.root,r,"fixed"===l&&"mui-fixed"),ref:t},c))});function yn(e){return re("MuiToolbar",e)}ie("MuiToolbar",["root","gutters","regular","dense"]);const bn=["className","component","disableGutters","variant"],xn=fe("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})},e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar}),wn=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiToolbar"}),{className:r,component:i="div",disableGutters:a=!1,variant:l="regular"}=n,c=(0,s.A)(n,bn),u=(0,o.A)({},n,{component:i,disableGutters:a,variant:l}),d=(e=>{const{classes:t,disableGutters:n,variant:r}=e;return ce({root:["root",!n&&"gutters",r]},yn,t)})(u);return(0,$.jsx)(xn,(0,o.A)({as:i,className:W(d.root,r),ref:t,ownerState:u},c))});function Sn(e){return re("MuiIconButton",e)}const kn=ie("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),En=["edge","children","className","color","disabled","disableFocusRipple","size"],In=fe(tn,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat(we(n.color))],n.edge&&t["edge".concat(we(n.edge))],t["size".concat(we(n.size))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,p.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})},e=>{let{theme:t,ownerState:n}=e;var r;const i=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,o.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,o.A)({color:null==i?void 0:i.main},!n.disableRipple&&{"&:hover":(0,o.A)({},i&&{backgroundColor:t.vars?"rgba(".concat(i.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,p.X4)(i.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(kn.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),An=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:a,color:l="default",disabled:c=!1,disableFocusRipple:u=!1,size:d="medium"}=n,h=(0,s.A)(n,En),p=(0,o.A)({},n,{edge:r,color:l,disabled:c,disableFocusRipple:u,size:d}),f=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e;return ce({root:["root",n&&"disabled","default"!==r&&"color".concat(we(r)),i&&"edge".concat(we(i)),"size".concat(we(o))]},Sn,t)})(p);return(0,$.jsx)(In,(0,o.A)({className:W(f.root,a),centerRipple:!0,focusRipple:!u,disabled:c,ref:t},h,{ownerState:p,children:i}))}),Cn=["value"],Tn=e.createContext();const jn=()=>{const t=e.useContext(Tn);return null!=t&&t},_n=function(e){let{value:t}=e,n=(0,s.A)(e,Cn);return(0,$.jsx)(Tn.Provider,(0,o.A)({value:null==t||t},n))};const Rn=function(e){return"string"===typeof e};const Pn=function(e,t,n){return void 0===e||Rn(e)?t:(0,o.A)({},t,{ownerState:(0,o.A)({},t.ownerState,n)})};const Nn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)).forEach(t=>{n[t]=e[t]}),n};const On=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])).forEach(n=>{t[n]=e[n]}),t};const Ln=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const e=W(null==n?void 0:n.className,s,null==i?void 0:i.className,null==r?void 0:r.className),t=(0,o.A)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),a=(0,o.A)({},n,i,r);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=Nn((0,o.A)({},i,r)),l=On(r),c=On(i),u=t(a),d=W(null==u?void 0:u.className,null==n?void 0:n.className,s,null==i?void 0:i.className,null==r?void 0:r.className),h=(0,o.A)({},null==u?void 0:u.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),p=(0,o.A)({},u,n,c,l);return d.length>0&&(p.className=d),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:u.ref}};const Mn=function(e,t,n){return"function"===typeof e?e(t,n):e},Dn=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const Fn=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:a=!1}=e,l=(0,s.A)(e,Dn),c=a?{}:Mn(r,i),{props:u,internalRef:d}=Ln((0,o.A)({},l,{externalSlotProps:c})),h=nt(d,null==c?void 0:c.ref,null==(t=e.additionalProps)?void 0:t.ref);return Pn(n,(0,o.A)({},u,{ref:h}),i)};function zn(t){var n;return parseInt(e.version,10)>=19?(null==t||null==(n=t.props)?void 0:n.ref)||null:(null==t?void 0:t.ref)||null}function Vn(e){return e&&e.ownerDocument||document}const Bn=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Un(e){const t=[],n=[];return Array.from(e.querySelectorAll(Bn)).forEach((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))}),n.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function qn(){return!0}const Wn=function(t){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:s=Un,isEnabled:a=qn,open:l}=t,c=e.useRef(!1),u=e.useRef(null),d=e.useRef(null),h=e.useRef(null),p=e.useRef(null),f=e.useRef(!1),m=e.useRef(null),g=nt(zn(n),m),v=e.useRef(null);e.useEffect(()=>{l&&m.current&&(f.current=!r)},[r,l]),e.useEffect(()=>{if(!l||!m.current)return;const e=Vn(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}},[l]),e.useEffect(()=>{if(!l||!m.current)return;const e=Vn(m.current),t=t=>{v.current=t,!i&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(i&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){var r,o;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=v.current)?void 0:o.key)),t=n[0],i=n[n.length-1];"string"!==typeof t&&"string"!==typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval(()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()},50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}},[r,i,o,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,$.jsxs)(e.Fragment,{children:[(0,$.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),e.cloneElement(n,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,p.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,$.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})};var Hn=n(7950);const Kn=e.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[s,a]=e.useState(null),l=nt(e.isValidElement(r)?zn(r):null,n);if(it(()=>{o||a(function(e){return"function"===typeof e?e():e}(i)||document.body)},[i,o]),it(()=>{if(s&&!o)return tt(n,s),()=>{tt(n,null)}},[n,s,o]),o){if(e.isValidElement(r)){const t={ref:l};return e.cloneElement(r,t)}return(0,$.jsx)(e.Fragment,{children:r})}return(0,$.jsx)(e.Fragment,{children:s?Hn.createPortal(r,s):s})}),Gn=!1;var Qn="unmounted",Xn="exited",Yn="entering",$n="entered",Jn="exiting",Zn=function(t){function n(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=Xn,r.appearStatus=Yn):i=$n:i=e.unmountOnExit||e.mountOnEnter?Qn:Xn,r.state={status:i},r.nextCallback=null,r}kt(n,t),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Qn?{status:Xn}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Yn&&n!==$n&&(t=Yn):n!==Yn&&n!==$n||(t=Jn)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Yn){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Hn.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Xn&&this.setState({status:Qn})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Hn.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||Gn?this.safeSetState({status:$n},function(){t.props.onEntered(o)}):(this.props.onEnter(o,s),this.safeSetState({status:Yn},function(){t.props.onEntering(o,s),t.onTransitionEnd(l,function(){t.safeSetState({status:$n},function(){t.props.onEntered(o,s)})})}))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Hn.findDOMNode(this);t&&!Gn?(this.props.onExit(r),this.safeSetState({status:Jn},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:Xn},function(){e.props.onExited(r)})})})):this.safeSetState({status:Xn},function(){e.props.onExited(r)})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Hn.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===Qn)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,s.A)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Et.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},n}(e.Component);function er(){}Zn.contextType=Et,Zn.propTypes={},Zn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:er,onEntering:er,onEntered:er,onExit:er,onExiting:er,onExited:er},Zn.UNMOUNTED=Qn,Zn.EXITED=Xn,Zn.ENTERING=Yn,Zn.ENTERED=$n,Zn.EXITING=Jn;const tr=Zn,nr=e=>e.scrollTop;function rr(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}const ir=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],or={entering:{opacity:1},entered:{opacity:1}},sr=e.forwardRef(function(t,n){const r=je(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:l=!0,children:c,easing:u,in:d,onEnter:h,onEntered:p,onEntering:f,onExit:m,onExited:g,onExiting:v,style:y,timeout:b=i,TransitionComponent:x=tr}=t,w=(0,s.A)(t,ir),S=e.useRef(null),k=rt(S,zn(c),n),E=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},I=E(f),A=E((e,t)=>{nr(e);const n=rr({style:y,timeout:b,easing:u},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)}),C=E(p),T=E(v),j=E(e=>{const t=rr({style:y,timeout:b,easing:u},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)}),_=E(g);return(0,$.jsx)(x,(0,o.A)({appear:l,in:d,nodeRef:S,onEnter:A,onEntered:C,onEntering:I,onExit:j,onExited:_,onExiting:T,addEndListener:e=>{a&&a(S.current,e)},timeout:b},w,{children:(t,n)=>e.cloneElement(c,(0,o.A)({style:(0,o.A)({opacity:0,visibility:"exited"!==t||d?void 0:"hidden"},or[t],y,c.props.style),ref:k},n))}))}),ar=sr;function lr(e){return re("MuiBackdrop",e)}ie("MuiBackdrop",["root","invisible"]);const cr=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],ur=fe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(e=>{let{ownerState:t}=e;return(0,o.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})}),dr=e.forwardRef(function(e,t){var n,r,i;const a=be({props:e,name:"MuiBackdrop"}),{children:l,className:c,component:u="div",components:d={},componentsProps:h={},invisible:p=!1,open:f,slotProps:m={},slots:g={},TransitionComponent:v=ar,transitionDuration:y}=a,b=(0,s.A)(a,cr),x=(0,o.A)({},a,{component:u,invisible:p}),w=(e=>{const{classes:t,invisible:n}=e;return ce({root:["root",n&&"invisible"]},lr,t)})(x),S=null!=(n=m.root)?n:h.root;return(0,$.jsx)(v,(0,o.A)({in:f,timeout:y},b,{children:(0,$.jsx)(ur,(0,o.A)({"aria-hidden":!0},S,{as:null!=(r=null!=(i=g.root)?i:d.Root)?r:u,className:W(w.root,c,null==S?void 0:S.className),ownerState:(0,o.A)({},x,null==S?void 0:S.ownerState),classes:w,ref:t,children:l}))}))});function hr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)},()=>{})}function pr(e){return Vn(e).defaultView||window}function fr(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function mr(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function gr(e){return parseInt(pr(e).getComputedStyle(e).paddingRight,10)||0}function vr(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&mr(e,i)})}function yr(e,t){let n=-1;return e.some((e,r)=>!!t(e)&&(n=r,!0)),n}function br(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=Vn(e);return t.body===e?pr(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=fr(Vn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(gr(r)+e,"px");const t=Vn(r).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(gr(t)+e,"px")})}let e;if(r.parentNode instanceof DocumentFragment)e=Vn(r).body;else{const t=r.parentElement,n=pr(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach(e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)})}}const xr=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&mr(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);vr(t,e.mount,e.modalRef,r,!0);const i=yr(this.containers,e=>e.container===t);return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=yr(this.containers,t=>-1!==t.modals.indexOf(e)),r=this.containers[n];r.restore||(r.restore=br(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=yr(this.containers,t=>-1!==t.modals.indexOf(e)),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&mr(e.modalRef,t),vr(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&mr(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const wr=function(t){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,manager:s=xr,closeAfterTransition:a=!1,onTransitionEnter:l,onTransitionExited:c,children:u,onClose:d,open:h,rootRef:p}=t,f=e.useRef({}),m=e.useRef(null),g=e.useRef(null),v=nt(g,p),[y,b]=e.useState(!h),x=function(e){return!!e&&e.props.hasOwnProperty("in")}(u);let w=!0;"false"!==t["aria-hidden"]&&!1!==t["aria-hidden"]||(w=!1);const S=()=>(f.current.modalRef=g.current,f.current.mount=m.current,f.current),k=()=>{s.mount(S(),{disableScrollLock:i}),g.current&&(g.current.scrollTop=0)},E=ot(()=>{const e=function(e){return"function"===typeof e?e():e}(n)||Vn(m.current).body;s.add(S(),e),g.current&&k()}),I=e.useCallback(()=>s.isTopModal(S()),[s]),A=ot(e=>{m.current=e,e&&(h&&I()?k():g.current&&mr(g.current,w))}),C=e.useCallback(()=>{s.remove(S(),w)},[w,s]);e.useEffect(()=>()=>{C()},[C]),e.useEffect(()=>{h?E():x&&a||C()},[h,C,x,a,E]);const T=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&I()&&(r||(t.stopPropagation(),d&&d(t,"escapeKeyDown")))},j=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Nn(t);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,o.A)({},n,e);return(0,o.A)({role:"presentation"},r,{onKeyDown:T(r),ref:v})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.A)({"aria-hidden":!0},e,{onClick:j(e),open:h})},getTransitionProps:()=>({onEnter:hr(()=>{b(!1),l&&l()},null==u?void 0:u.props.onEnter),onExited:hr(()=>{b(!0),c&&c(),a&&C()},null==u?void 0:u.props.onExited)}),rootRef:v,portalRef:A,isTopModal:I,exited:y,hasTransition:x}};function Sr(e){return re("MuiModal",e)}ie("MuiModal",["root","hidden","backdrop"]);const kr=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Er=fe("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})}),Ir=fe(dr,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Ar=e.forwardRef(function(t,n){var r,i,a,l,c,u;const d=be({name:"MuiModal",props:t}),{BackdropComponent:h=Ir,BackdropProps:p,className:f,closeAfterTransition:m=!1,children:g,container:v,component:y,components:b={},componentsProps:x={},disableAutoFocus:w=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:k=!1,disablePortal:E=!1,disableRestoreFocus:I=!1,disableScrollLock:A=!1,hideBackdrop:C=!1,keepMounted:T=!1,onBackdropClick:j,open:_,slotProps:R,slots:P}=d,N=(0,s.A)(d,kr),O=(0,o.A)({},d,{closeAfterTransition:m,disableAutoFocus:w,disableEnforceFocus:S,disableEscapeKeyDown:k,disablePortal:E,disableRestoreFocus:I,disableScrollLock:A,hideBackdrop:C,keepMounted:T}),{getRootProps:L,getBackdropProps:M,getTransitionProps:D,portalRef:F,isTopModal:z,exited:V,hasTransition:B}=wr((0,o.A)({},O,{rootRef:n})),U=(0,o.A)({},O,{exited:V}),q=(e=>{const{open:t,exited:n,classes:r}=e;return ce({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Sr,r)})(U),H={};if(void 0===g.props.tabIndex&&(H.tabIndex="-1"),B){const{onEnter:e,onExited:t}=D();H.onEnter=e,H.onExited=t}const K=null!=(r=null!=(i=null==P?void 0:P.root)?i:b.Root)?r:Er,G=null!=(a=null!=(l=null==P?void 0:P.backdrop)?l:b.Backdrop)?a:h,Q=null!=(c=null==R?void 0:R.root)?c:x.root,X=null!=(u=null==R?void 0:R.backdrop)?u:x.backdrop,Y=Fn({elementType:K,externalSlotProps:Q,externalForwardedProps:N,getSlotProps:L,additionalProps:{ref:n,as:y},ownerState:U,className:W(f,null==Q?void 0:Q.className,null==q?void 0:q.root,!U.open&&U.exited&&(null==q?void 0:q.hidden))}),J=Fn({elementType:G,externalSlotProps:X,additionalProps:p,getSlotProps:e=>M((0,o.A)({},e,{onClick:t=>{j&&j(t),null!=e&&e.onClick&&e.onClick(t)}})),className:W(null==X?void 0:X.className,null==p?void 0:p.className,null==q?void 0:q.backdrop),ownerState:U});return T||_||B&&!V?(0,$.jsx)(Kn,{ref:F,container:v,disablePortal:E,children:(0,$.jsxs)(K,(0,o.A)({},Y,{children:[!C&&h?(0,$.jsx)(G,(0,o.A)({},J)):null,(0,$.jsx)(Wn,{disableEnforceFocus:S,disableAutoFocus:w,disableRestoreFocus:I,isEnabled:z,open:_,children:e.cloneElement(g,H)})]}))}):null}),Cr=Ar;function Tr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout(()=>{e.apply(this,i)},n)}return r.clear=()=>{clearTimeout(t)},r}const jr=Tr,_r=pr,Rr=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Pr(e,t,n){var r;const i=function(e,t,n){const r=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=_r(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const e=o.getComputedStyle(t);s=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let a=0,l=0;if(s&&"none"!==s&&"string"===typeof s){const e=s.split("(")[1].split(")")[0].split(",");a=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?"translateX(".concat(i?i.right+a-r.left:o.innerWidth+a-r.left,"px)"):"right"===e?"translateX(-".concat(i?r.right-i.left-a:r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(i?i.bottom+l-r.top:o.innerHeight+l-r.top,"px)"):"translateY(-".concat(i?r.top-i.top+r.height-l:r.top+r.height-l,"px)")}(e,t,"function"===typeof(r=n)?r():r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const Nr=e.forwardRef(function(t,n){const r=je(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:l,appear:c=!0,children:u,container:d,direction:h="down",easing:p=i,in:f,onEnter:m,onEntered:g,onEntering:v,onExit:y,onExited:b,onExiting:x,style:w,timeout:S=a,TransitionComponent:k=tr}=t,E=(0,s.A)(t,Rr),I=e.useRef(null),A=rt(zn(u),I,n),C=e=>t=>{e&&(void 0===t?e(I.current):e(I.current,t))},T=C((e,t)=>{Pr(h,e,d),nr(e),m&&m(e,t)}),j=C((e,t)=>{const n=rr({timeout:S,style:w,easing:p},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",(0,o.A)({},n)),e.style.transition=r.transitions.create("transform",(0,o.A)({},n)),e.style.webkitTransform="none",e.style.transform="none",v&&v(e,t)}),_=C(g),R=C(x),P=C(e=>{const t=rr({timeout:S,style:w,easing:p},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),Pr(h,e,d),y&&y(e)}),N=C(e=>{e.style.webkitTransition="",e.style.transition="",b&&b(e)}),O=e.useCallback(()=>{I.current&&Pr(h,I.current,d)},[h,d]);return e.useEffect(()=>{if(f||"down"===h||"right"===h)return;const e=jr(()=>{I.current&&Pr(h,I.current,d)}),t=_r(I.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[h,f,d]),e.useEffect(()=>{f||O()},[f,O]),(0,$.jsx)(k,(0,o.A)({nodeRef:I,onEnter:T,onEntered:_,onEntering:j,onExit:P,onExited:N,onExiting:R,addEndListener:e=>{l&&l(I.current,e)},appear:c,in:f,timeout:S},E,{children:(t,n)=>e.cloneElement(u,(0,o.A)({ref:A,style:(0,o.A)({visibility:"exited"!==t||f?void 0:"hidden"},w,u.props.style)},n))}))}),Or=Nr;function Lr(e){return re("MuiDrawer",e)}ie("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Mr=["BackdropProps"],Dr=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Fr=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},zr=fe(Cr,{name:"MuiDrawer",slot:"Root",overridesResolver:Fr})(e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}}),Vr=fe("div",{shouldForwardProp:pe,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Fr})({flex:"0 0 auto"}),Br=fe(Ke,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["paperAnchor".concat(we(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat(we(n.anchor))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:"1px solid ".concat((t.vars||t).palette.divider)},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider)},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:"1px solid ".concat((t.vars||t).palette.divider)})}),Ur={left:"right",right:"left",top:"down",bottom:"up"};const qr=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiDrawer"}),i=je(),a=jn(),l={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:c="left",BackdropProps:u,children:d,className:h,elevation:p=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:m}={},onClose:g,open:v=!1,PaperProps:y={},SlideProps:b,TransitionComponent:x=Or,transitionDuration:w=l,variant:S="temporary"}=r,k=(0,s.A)(r.ModalProps,Mr),E=(0,s.A)(r,Dr),I=e.useRef(!1);e.useEffect(()=>{I.current=!0},[]);const A=function(e,t){let{direction:n}=e;return"rtl"===n&&function(e){return-1!==["left","right"].indexOf(e)}(t)?Ur[t]:t}({direction:a?"rtl":"ltr"},c),C=c,T=(0,o.A)({},r,{anchor:C,elevation:p,open:v,variant:S},E),j=(e=>{const{classes:t,anchor:n,variant:r}=e;return ce({root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(we(n)),"temporary"!==r&&"paperAnchorDocked".concat(we(n))]},Lr,t)})(T),_=(0,$.jsx)(Br,(0,o.A)({elevation:"temporary"===S?p:0,square:!0},y,{className:W(j.paper,y.className),ownerState:T,children:d}));if("permanent"===S)return(0,$.jsx)(Vr,(0,o.A)({className:W(j.root,j.docked,h),ownerState:T,ref:n},E,{children:_}));const R=(0,$.jsx)(x,(0,o.A)({in:v,direction:Ur[A],timeout:w,appear:I.current},b,{children:_}));return"persistent"===S?(0,$.jsx)(Vr,(0,o.A)({className:W(j.root,j.docked,h),ownerState:T,ref:n},E,{children:R})):(0,$.jsx)(zr,(0,o.A)({BackdropProps:(0,o.A)({},u,m,{transitionDuration:w}),className:W(j.root,j.modal,h),open:v,ownerState:T,onClose:g,hideBackdrop:f,ref:n},E,k,{children:R}))}),Wr=qr;const Hr=e.createContext({});function Kr(e){return re("MuiList",e)}ie("MuiList",["root","padding","dense","subheader"]);const Gr=["children","className","component","dense","disablePadding","subheader"],Qr=fe("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(e=>{let{ownerState:t}=e;return(0,o.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})}),Xr=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiList"}),{children:i,className:a,component:l="ul",dense:c=!1,disablePadding:u=!1,subheader:d}=r,h=(0,s.A)(r,Gr),p=e.useMemo(()=>({dense:c}),[c]),f=(0,o.A)({},r,{component:l,dense:c,disablePadding:u}),m=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return ce({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Kr,t)})(f);return(0,$.jsx)(Hr.Provider,{value:p,children:(0,$.jsxs)(Qr,(0,o.A)({as:l,className:W(m.root,a),ref:n,ownerState:f},h,{children:[d,i]}))})});const Yr=function(t,n){var r,i;return e.isValidElement(t)&&-1!==n.indexOf(null!=(r=t.type.muiName)?r:null==(i=t.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)},$r=it;function Jr(e){return re("MuiListItem",e)}const Zr=ie("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);const ei=ie("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function ti(e){return re("MuiListItemSecondaryAction",e)}ie("MuiListItemSecondaryAction",["root","disableGutters"]);const ni=["className"],ri=fe("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(e=>{let{ownerState:t}=e;return(0,o.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})}),ii=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiListItemSecondaryAction"}),{className:i}=r,a=(0,s.A)(r,ni),l=e.useContext(Hr),c=(0,o.A)({},r,{disableGutters:l.disableGutters}),u=(e=>{const{disableGutters:t,classes:n}=e;return ce({root:["root",t&&"disableGutters"]},ti,n)})(c);return(0,$.jsx)(ri,(0,o.A)({className:W(u.root,i),ownerState:c,ref:n},a))});ii.muiName="ListItemSecondaryAction";const oi=ii,si=["className"],ai=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],li=fe("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,o.A)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{["& > .".concat(ei.root)]:{paddingRight:48}},{["&.".concat(Zr.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(Zr.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,p.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(Zr.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,p.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(Zr.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(Zr.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,p.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,p.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})}),ci=fe("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),ui=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiListItem"}),{alignItems:i="center",autoFocus:a=!1,button:l=!1,children:c,className:u,component:d,components:h={},componentsProps:p={},ContainerComponent:f="li",ContainerProps:{className:m}={},dense:g=!1,disabled:v=!1,disableGutters:y=!1,disablePadding:b=!1,divider:x=!1,focusVisibleClassName:w,secondaryAction:S,selected:k=!1,slotProps:E={},slots:I={}}=r,A=(0,s.A)(r.ContainerProps,si),C=(0,s.A)(r,ai),T=e.useContext(Hr),j=e.useMemo(()=>({dense:g||T.dense||!1,alignItems:i,disableGutters:y}),[i,T.dense,g,y]),_=e.useRef(null);$r(()=>{a&&_.current&&_.current.focus()},[a]);const R=e.Children.toArray(c),P=R.length&&Yr(R[R.length-1],["ListItemSecondaryAction"]),N=(0,o.A)({},r,{alignItems:i,autoFocus:a,button:l,dense:j.dense,disabled:v,disableGutters:y,disablePadding:b,divider:x,hasSecondaryAction:P,selected:k}),O=(e=>{const{alignItems:t,button:n,classes:r,dense:i,disabled:o,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=e;return ce({root:["root",i&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",o&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},Jr,r)})(N),L=rt(_,n),M=I.root||h.Root||li,D=E.root||p.root||{},F=(0,o.A)({className:W(O.root,D.className,u),disabled:v},C);let z=d||"li";return l&&(F.component=d||"div",F.focusVisibleClassName=W(Zr.focusVisible,w),z=tn),P?(z=F.component||d?z:"div","li"===f&&("li"===z?z="div":"li"===F.component&&(F.component="div")),(0,$.jsx)(Hr.Provider,{value:j,children:(0,$.jsxs)(ci,(0,o.A)({as:f,className:W(O.container,m),ref:L,ownerState:N},A,{children:[(0,$.jsx)(M,(0,o.A)({},D,!Rn(M)&&{as:z,ownerState:(0,o.A)({},N,D.ownerState)},F,{children:R})),R.pop()]}))})):(0,$.jsx)(Hr.Provider,{value:j,children:(0,$.jsxs)(M,(0,o.A)({},D,{as:z,ref:L},!Rn(M)&&{ownerState:(0,o.A)({},N,D.ownerState)},F,{children:[R,S&&(0,$.jsx)(oi,{children:S})]}))})});function di(e){return re("MuiListItemIcon",e)}const hi=ie("MuiListItemIcon",["root","alignItemsFlexStart"]),pi=["className"],fi=fe("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})}),mi=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiListItemIcon"}),{className:i}=r,a=(0,s.A)(r,pi),l=e.useContext(Hr),c=(0,o.A)({},r,{alignItems:l.alignItems}),u=(e=>{const{alignItems:t,classes:n}=e;return ce({root:["root","flex-start"===t&&"alignItemsFlexStart"]},di,n)})(c);return(0,$.jsx)(fi,(0,o.A)({className:W(u.root,i),ownerState:c,ref:n},a))});function gi(e){return re("MuiListItemText",e)}const vi=ie("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),yi=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],bi=fe("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(vi.primary)]:t.primary},{["& .".concat(vi.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(e=>{let{ownerState:t}=e;return(0,o.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})}),xi=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiListItemText"}),{children:i,className:a,disableTypography:l=!1,inset:c=!1,primary:u,primaryTypographyProps:d,secondary:h,secondaryTypographyProps:p}=r,f=(0,s.A)(r,yi),{dense:m}=e.useContext(Hr);let g=null!=u?u:i,v=h;const y=(0,o.A)({},r,{disableTypography:l,inset:c,primary:!!g,secondary:!!v,dense:m}),b=(e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return ce({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},gi,t)})(y);return null==g||g.type===Ce||l||(g=(0,$.jsx)(Ce,(0,o.A)({variant:m?"body2":"body1",className:b.primary,component:null!=d&&d.variant?void 0:"span",display:"block"},d,{children:g}))),null==v||v.type===Ce||l||(v=(0,$.jsx)(Ce,(0,o.A)({variant:"body2",className:b.secondary,color:"text.secondary",display:"block"},p,{children:v}))),(0,$.jsxs)(bi,(0,o.A)({className:W(b.root,a),ownerState:y,ref:n},f,{children:[g,v]}))});function wi(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,o=Y(r);i&&(o=o[i]||o);const s=function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?me(t.components[n].defaultProps,r):r}({theme:o,name:n,props:t});return s}const Si=["ownerState"],ki=["variants"],Ei=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Ii(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function Ai(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}const Ci=(0,d.A)(),Ti=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function ji(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function _i(e){return e?(t,n)=>n[e]:null}function Ri(e,t,n){let{ownerState:r}=t,i=(0,s.A)(t,Si);const a="function"===typeof e?e((0,o.A)({ownerState:r},i)):e;if(Array.isArray(a))return a.flatMap(e=>Ri(e,(0,o.A)({ownerState:r},i),n));if(a&&"object"===typeof a&&Array.isArray(a.variants)){const{variants:e=[]}=a;let t=(0,s.A)(a,ki);return e.forEach(e=>{let s=!0;if("function"===typeof e.props?s=e.props((0,o.A)({ownerState:r},i,r)):Object.keys(e.props).forEach(t=>{(null==r?void 0:r[t])!==e.props[t]&&i[t]!==e.props[t]&&(s=!1)}),s){Array.isArray(t)||(t=[t]);const s="function"===typeof e.style?e.style((0,o.A)({ownerState:r},i,r)):e.style;t.push(n?Ai((0,H.internal_serializeStyles)(s),n):s)}}),t}return n?Ai((0,H.internal_serializeStyles)(a),n):a}const Pi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=Ci,rootShouldForwardProp:r=Ii,slotShouldForwardProp:i=Ii}=e,a=e=>(0,u.A)((0,o.A)({},e,{theme:ji((0,o.A)({},e,{defaultTheme:n,themeId:t}))}));return a.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,H.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));const{name:u,slot:d,skipVariantsResolver:h,skipSx:p,overridesResolver:f=_i(Ti(d))}=c,m=(0,s.A)(c,Ei),g=u&&u.startsWith("Mui")||d?"components":"custom",v=void 0!==h?h:d&&"Root"!==d&&"root"!==d||!1,y=p||!1;let b=Ii;"Root"===d||"root"===d?b=r:d?b=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(b=void 0);const x=(0,H.default)(e,(0,o.A)({shouldForwardProp:b,label:undefined},m)),w=e=>"function"===typeof e&&e.__emotion_real!==e||(0,l.Q)(e)?r=>{const i=ji({theme:r.theme,defaultTheme:n,themeId:t});return Ri(e,(0,o.A)({},r,{theme:i}),i.modularCssLayers?g:void 0)}:e,S=function(r){let i=w(r);for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];const d=l?l.map(w):[];u&&f&&d.push(e=>{const r=ji((0,o.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[u]||!r.components[u].styleOverrides)return null;const i=r.components[u].styleOverrides,s={};return Object.entries(i).forEach(t=>{let[n,i]=t;s[n]=Ri(i,(0,o.A)({},e,{theme:r}),r.modularCssLayers?"theme":void 0)}),f(e,s)}),u&&!v&&d.push(e=>{var r;const i=ji((0,o.A)({},e,{defaultTheme:n,themeId:t}));return Ri({variants:null==i||null==(r=i.components)||null==(r=r[u])?void 0:r.variants},(0,o.A)({},e,{theme:i}),i.modularCssLayers?"theme":void 0)}),y||d.push(a);const h=d.length-l.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const p=x(i,...d);return e.muiName&&(p.muiName=e.muiName),p};return x.withConfig&&(S.withConfig=x.withConfig),S}}(),Ni=Pi,Oi=["className","component","disableGutters","fixed","maxWidth","classes"],Li=(0,d.A)(),Mi=Ni("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,xe.A)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),Di=e=>wi({props:e,name:"MuiContainer",defaultTheme:Li});const Fi=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=Mi,useThemeProps:r=Di,componentName:i="MuiContainer"}=t,a=n(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})},e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce((e,n)=>{const r=n,i=t.breakpoints.values[r];return 0!==i&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(i).concat(t.breakpoints.unit)}),e},{})},e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}})}),l=e.forwardRef(function(e,t){const n=r(e),{className:l,component:c="div",disableGutters:u=!1,fixed:d=!1,maxWidth:h="lg"}=n,p=(0,s.A)(n,Oi),f=(0,o.A)({},n,{component:c,disableGutters:u,fixed:d,maxWidth:h}),m=((e,t)=>{const{classes:n,fixed:r,disableGutters:i,maxWidth:o}=e;return ce({root:["root",o&&"maxWidth".concat((0,xe.A)(String(o))),r&&"fixed",i&&"disableGutters"]},e=>re(t,e),n)})(f,i);return(0,$.jsx)(a,(0,o.A)({as:c,ownerState:f,className:W(m.root,l),ref:t},p))});return l}({createStyledComponent:fe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat(we(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>be({props:e,name:"MuiContainer"})}),zi=Fi;const Vi=e.createContext(null);function Bi(){return e.useContext(Vi)}const Ui="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const qi=function(t){const{children:n,theme:r}=t,i=Bi(),s=e.useMemo(()=>{const e=null===i?r:function(e,t){if("function"===typeof t)return t(e);return(0,o.A)({},e,t)}(i,r);return null!=e&&(e[Ui]=null!==i),e},[r,i]);return(0,$.jsx)(Vi.Provider,{value:s,children:n})};let Wi=0;const Hi=t["useId".toString()];function Ki(t){if(void 0!==Hi){const e=Hi();return null!=t?t:e}return function(t){const[n,r]=e.useState(t),i=t||n;return e.useEffect(()=>{null==n&&(Wi+=1,r("mui-".concat(Wi)))},[n]),i}(t)}var Gi=n(869);function Qi(e){const t=(0,H.internal_serializeStyles)(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles="@layer global{".concat(t.styles,"}")),t):e}const Xi=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=Y(r),o=n&&i[n]||i;let s="function"===typeof t?t(o):t;return o.modularCssLayers&&(s=Array.isArray(s)?s.map(e=>Qi("function"===typeof e?e(o):e)):Qi(s)),(0,$.jsx)(Gi.A,{styles:s})};const Yi={};function $i(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.useMemo(()=>{const e=t&&n[t]||n;if("function"===typeof r){const s=r(e),a=t?(0,o.A)({},n,{[t]:s}):s;return i?()=>a:a}return t?(0,o.A)({},n,{[t]:r}):(0,o.A)({},n,r)},[t,n,r,i])}const Ji=function(e){const{children:t,theme:n,themeId:r}=e,i=Q(Yi),o=Bi()||Yi,s=$i(r,i,n),a=$i(r,o,n,!0),l="rtl"===s.direction,c=function(e){const t=Q(),n=Ki()||"",{modularCssLayers:r}=e;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return i=r&&null===t?"string"===typeof r?r.replace(/mui(?!\.)/g,i):"@layer ".concat(i,";"):"",it(()=>{const e=document.querySelector("head");if(!e)return;const t=e.firstChild;if(i){var r;if(t&&null!=(r=t.hasAttribute)&&r.call(t,"data-mui-layer-order")&&t.getAttribute("data-mui-layer-order")===n)return;const o=document.createElement("style");o.setAttribute("data-mui-layer-order",n),o.textContent=i,e.prepend(o)}else{var o;null==(o=e.querySelector('style[data-mui-layer-order="'.concat(n,'"]')))||o.remove()}},[i,n]),i?(0,$.jsx)(Xi,{styles:i}):null}(s);return(0,$.jsx)(qi,{theme:a,children:(0,$.jsx)(G.T.Provider,{value:s,children:(0,$.jsx)(_n,{value:l,children:(0,$.jsxs)(ye,{value:null==s?void 0:s.components,children:[c,t]})})})})},Zi=["theme"];function eo(e){let{theme:t}=e,n=(0,s.A)(e,Zi);const r=t[te];let i=r||t;return"function"!==typeof t&&(r&&!r.vars?i=(0,o.A)({},r,{vars:null}):t&&!t.vars&&(i=(0,o.A)({},t,{vars:null}))),(0,$.jsx)(Ji,(0,o.A)({},n,{themeId:r?te:void 0,theme:i}))}const to=function(e){return(0,$.jsx)(Xi,(0,o.A)({},e,{defaultTheme:de,themeId:te}))},no=(e,t)=>(0,o.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),ro=e=>(0,o.A)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const io=function(t){const n=be({props:t,name:"MuiCssBaseline"}),{children:r,enableColorScheme:i=!1}=n;return(0,$.jsxs)(e.Fragment,{children:[(0,$.jsx)(to,{styles:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(t=>{let[n,i]=t;var o;r[e.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(o=i.palette)?void 0:o.mode}});let i=(0,o.A)({html:no(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,o.A)({margin:0},ro(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const s=null==(n=e.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return s&&(i=[i,s]),i}(e,i)}),r]})};function oo(e){return re("MuiSvgIcon",e)}ie("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const so=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],ao=fe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(we(n.color))],t["fontSize".concat(we(n.fontSize))]]}})(e=>{let{theme:t,ownerState:n}=e;var r,i,o,s,a,l,c,u,d,h,p,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[n.color])?void 0:p.main)?h:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}}),lo=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiSvgIcon"}),{children:i,className:a,color:l="inherit",component:c="svg",fontSize:u="medium",htmlColor:d,inheritViewBox:h=!1,titleAccess:p,viewBox:f="0 0 24 24"}=r,m=(0,s.A)(r,so),g=e.isValidElement(i)&&"svg"===i.type,v=(0,o.A)({},r,{color:l,component:c,fontSize:u,instanceFontSize:t.fontSize,inheritViewBox:h,viewBox:f,hasSvgAsChild:g}),y={};h||(y.viewBox=f);const b=(e=>{const{color:t,fontSize:n,classes:r}=e;return ce({root:["root","inherit"!==t&&"color".concat(we(t)),"fontSize".concat(we(n))]},oo,r)})(v);return(0,$.jsxs)(ao,(0,o.A)({as:c,className:W(b.root,a),focusable:"false",color:d,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:n},y,m,g&&i.props,{ownerState:v,children:[g?i.props.children:i,p?(0,$.jsx)("title",{children:p}):null]}))});lo.muiName="SvgIcon";const co=lo;function uo(t,n){function r(e,r){return(0,$.jsx)(co,(0,o.A)({"data-testid":"".concat(n,"Icon"),ref:r},e,{children:t}))}return r.muiName=co.muiName,e.memo(e.forwardRef(r))}const ho=uo((0,$.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),po=uo((0,$.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Assessment"),fo=uo((0,$.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),mo=uo([(0,$.jsx)("path",{d:"M13 8.57c-.79 0-1.43.64-1.43 1.43s.64 1.43 1.43 1.43 1.43-.64 1.43-1.43-.64-1.43-1.43-1.43"},"0"),(0,$.jsx)("path",{d:"M13 3C9.25 3 6.2 5.94 6.02 9.64L4.1 12.2c-.25.33-.01.8.4.8H6v3c0 1.1.9 2 2 2h1v3h7v-4.68c2.36-1.12 4-3.53 4-6.32 0-3.87-3.13-7-7-7m3 7c0 .13-.01.26-.02.39l.83.66c.08.06.1.16.05.25l-.8 1.39c-.05.09-.16.12-.24.09l-.99-.4c-.21.16-.43.29-.67.39L14 13.83c-.01.1-.1.17-.2.17h-1.6c-.1 0-.18-.07-.2-.17l-.15-1.06c-.25-.1-.47-.23-.68-.39l-.99.4c-.09.03-.2 0-.25-.09l-.8-1.39c-.05-.08-.03-.19.05-.25l.84-.66c-.01-.13-.02-.26-.02-.39s.02-.27.04-.39l-.85-.66c-.08-.06-.1-.16-.05-.26l.8-1.38c.05-.09.15-.12.24-.09l1 .4c.2-.15.43-.29.67-.39L12 6.17c.02-.1.1-.17.2-.17h1.6c.1 0 .18.07.2.17l.15 1.06c.24.1.46.23.67.39l1-.4c.09-.03.2 0 .24.09l.8 1.38c.05.09.03.2-.05.26l-.85.66c.03.12.04.25.04.39"},"1")],"Psychology"),go=uo((0,$.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),vo=uo((0,$.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"}),"VolumeUp"),yo=uo((0,$.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp");var bo,xo=n(6667),wo=n(7064),So=n(8557),ko=n(6068),Eo=n(3069);const Io="undefined"!==typeof window.Capacitor,Ao=Io?null===(bo=window.Capacitor)||void 0===bo?void 0:bo.getPlatform():"web";let Co=null,To=null,jo=null,_o=null;try{Co=(0,wo.Wp)(Eo.x),To=(0,xo.aU)(Co),jo=(0,So.xI)(Co),_o=(0,ko.c7)(Co),console.log("\u2705 Firebase initialis\xe9 avec succ\xe8s (".concat(Ao,")"))}catch(Hm){const e=Hm instanceof Error?Hm.message:String(Hm);console.error("\u274c Erreur Firebase (".concat(Ao,"):"),e),Io&&console.warn("Mode offline activ\xe9 pour Capacitor")}const Ro=()=>!!jo&&!!jo.currentUser,Po=e=>{if(!e)return null;const t=(0,i.A)({},e);return Object.keys(t).forEach(e=>{t[e]instanceof xo.Dc?t[e]=t[e].toDate():t[e]&&"object"===typeof t[e]&&!Array.isArray(t[e])&&(t[e]=Po(t[e]))}),t},No=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!To)return console.warn("Firestore n'est pas initialis\xe9"),[];try{const n=(0,xo.rJ)(To,e),r=t.length>0?(0,xo.P)(n,...t):(0,xo.P)(n),o=await(0,xo.GG)(r),s=[];return o.forEach(e=>{const t=e.data();s.push(Po((0,i.A)((0,i.A)({},t),{},{id:e.id})))}),s}catch(Hm){var n,r,o,s;if("unavailable"===Hm.code||"failed-precondition"===Hm.code||"permission-denied"===Hm.code||"unauthenticated"===Hm.code||null!==(n=Hm.message)&&void 0!==n&&n.includes("offline")||null!==(r=Hm.message)&&void 0!==r&&r.includes("network")||null!==(o=Hm.message)&&void 0!==o&&o.includes("permission")||null!==(s=Hm.message)&&void 0!==s&&s.includes("authenticated"))return[];throw console.error("Erreur lors de la r\xe9cup\xe9ration des documents ".concat(e,":"),Hm),Hm}},Oo=async(e,t,n)=>{if(To){if(Ro())try{const r=(0,xo.H9)(To,e,t);await(0,xo.BN)(r,(0,i.A)((0,i.A)({},n),{},{updatedAt:xo.Dc.now()}),{merge:!0})}catch(Hm){var r;throw"permission-denied"===Hm.code||null!==(r=Hm.message)&&void 0!==r&&r.includes("permission")?console.warn("Permission refus\xe9e pour ".concat(e,"/").concat(t,". L'utilisateur doit \xeatre authentifi\xe9.")):console.error("Erreur lors de la sauvegarde du document ".concat(e,"/").concat(t,":"),Hm),Hm}}else console.warn("Firestore n'est pas initialis\xe9")},Lo=async function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"asc",o=arguments.length>5?arguments[5]:void 0;const s=[(0,xo._M)(t,"==",n)];return r&&s.push((0,xo.My)(r,i)),o&&s.push((0,xo.AB)(o)),No(e,s)},Mo="users",Do=e=>({id:e.id,name:e.email||"".concat(e.firstName||""," ").concat(e.lastName||"").trim()||"Utilisateur",currentLevel:e.currentLevel,targetLevel:e.targetLevel,strengths:[],weaknesses:e.weaknesses||[],completedExercises:e.completedExercises||0,totalScore:e.totalScore||0,createdAt:e.createdAt,lastActivity:e.lastActivity||e.updatedAt}),Fo=async e=>{const t=await(async(e,t)=>{if(!To)return console.warn("Firestore n'est pas initialis\xe9"),null;try{const n=(0,xo.H9)(To,e,t),r=await(0,xo.x7)(n);if(r.exists()){const e=r.data();return Po((0,i.A)((0,i.A)({},e),{},{id:r.id}))}return null}catch(Hm){var n,r,o,s;if("unavailable"===Hm.code||"failed-precondition"===Hm.code||"permission-denied"===Hm.code||"unauthenticated"===Hm.code||null!==(n=Hm.message)&&void 0!==n&&n.includes("offline")||null!==(r=Hm.message)&&void 0!==r&&r.includes("network")||null!==(o=Hm.message)&&void 0!==o&&o.includes("permission")||null!==(s=Hm.message)&&void 0!==s&&s.includes("authenticated"))return null;throw console.error("Erreur lors de la r\xe9cup\xe9ration du document ".concat(e,"/").concat(t,":"),Hm),Hm}})(Mo,e);return t?Do(t):null},zo=async e=>{const t=(e=>({email:e.name,currentLevel:e.currentLevel,targetLevel:e.targetLevel,weaknesses:e.weaknesses,completedExercises:e.completedExercises,totalScore:e.totalScore,createdAt:e.createdAt,lastActivity:e.lastActivity}))(e);await Oo(Mo,e.id,(0,i.A)((0,i.A)({},t),{},{createdAt:e.createdAt||new Date,updatedAt:new Date}))},Vo=async(e,t)=>{const n={};t.currentLevel&&(n.currentLevel=t.currentLevel),t.targetLevel&&(n.targetLevel=t.targetLevel),t.weaknesses&&(n.weaknesses=t.weaknesses),void 0!==t.completedExercises&&(n.completedExercises=t.completedExercises),void 0!==t.totalScore&&(n.totalScore=t.totalScore),t.lastActivity&&(n.lastActivity=t.lastActivity),await(async(e,t,n)=>{if(To){if(Ro())try{const r=(0,xo.H9)(To,e,t);await(0,xo.mZ)(r,(0,i.A)((0,i.A)({},n),{},{updatedAt:xo.Dc.now()}))}catch(Hm){var r;throw"permission-denied"===Hm.code||null!==(r=Hm.message)&&void 0!==r&&r.includes("permission")?console.warn("Permission refus\xe9e pour ".concat(e,"/").concat(t,". L'utilisateur doit \xeatre authentifi\xe9.")):console.error("Erreur lors de la mise \xe0 jour du document ".concat(e,"/").concat(t,":"),Hm),Hm}}else console.warn("Firestore n'est pas initialis\xe9")})(Mo,e,n)},Bo="userProgress",Uo=e=>({exerciseId:e.exerciseId,questionId:e.questionId,answer:e.userAnswer,isCorrect:e.isCorrect,timeSpent:e.timeSpent,timestamp:e.completedAt}),qo=async(e,t)=>(await Lo(Bo,"userId",e,"completedAt","desc",t)).map(Uo),Wo=async(e,t,n,r,o,s)=>{const a="".concat(e,"_").concat(n,"_").concat(t.questionId,"_").concat(Date.now()),l=((e,t,n,r,i,o)=>({userId:e,exerciseId:n,exerciseType:r,questionId:t.questionId||t.exerciseId,userAnswer:t.answer,isCorrect:t.isCorrect,timeSpent:t.timeSpent,score:t.isCorrect?100:0,level:i,domain:o,completedAt:t.timestamp}))(e,t,n,r,o,s);return await Oo(Bo,a,(0,i.A)((0,i.A)({},l),{},{createdAt:new Date,updatedAt:new Date})),a},Ho="assessmentResults",Ko=async(e,t)=>await Lo(Ho,"userId",e,"completedAt","desc",t),Go=async e=>{const t="".concat(e.userId,"_").concat(e.assessmentType,"_").concat(Date.now()),n=(e=>({userId:e.userId,assessmentType:e.assessmentType,testType:e.testType,level:e.level,totalQuestions:e.totalQuestions,correctAnswers:e.correctAnswers,listeningScore:e.listeningScore,readingScore:e.readingScore,writingScore:e.writingScore,speakingScore:e.speakingScore,overallScore:e.overallScore,assessedLevel:e.assessedLevel,weakAreas:e.weakAreas,strongAreas:e.strongAreas,answers:e.answers,completedAt:new Date}))(e);return await Oo(Ho,t,(0,i.A)((0,i.A)({},n),{},{createdAt:new Date,updatedAt:new Date})),t};var Qo=n(5403);const Xo=(0,Qo.F3)("Preferences",{web:()=>n.e(828).then(n.bind(n,828)).then(e=>new e.PreferencesWeb)}),Yo="undefined"!==typeof window.Capacitor,$o=Yo?{get:async e=>{try{const{value:t}=await Xo.get({key:e});return t}catch(Hm){return console.error("Erreur lors de la lecture de ".concat(e,":"),Hm),null}},set:async(e,t)=>{try{await Xo.set({key:e,value:t})}catch(Hm){throw console.error("Erreur lors de l'\xe9criture de ".concat(e,":"),Hm),Hm}},remove:async e=>{try{await Xo.remove({key:e})}catch(Hm){throw console.error("Erreur lors de la suppression de ".concat(e,":"),Hm),Hm}},clear:async()=>{try{await Xo.clear()}catch(Hm){throw console.error("Erreur lors du nettoyage du stockage:",Hm),Hm}},keys:async()=>{try{const{keys:e}=await Xo.keys();return e}catch(Hm){return console.error("Erreur lors de la r\xe9cup\xe9ration des cl\xe9s:",Hm),[]}}}:{get:async e=>{try{return localStorage.getItem(e)}catch(Hm){return console.error("Erreur lors de la lecture de ".concat(e,":"),Hm),null}},set:async(e,t)=>{try{localStorage.setItem(e,t)}catch(Hm){if(console.error("Erreur lors de l'\xe9criture de ".concat(e,":"),Hm),Hm instanceof DOMException&&22===Hm.code)throw new Error("Quota de stockage d\xe9pass\xe9. Veuillez lib\xe9rer de l'espace.");throw Hm}},remove:async e=>{try{localStorage.removeItem(e)}catch(Hm){throw console.error("Erreur lors de la suppression de ".concat(e,":"),Hm),Hm}},clear:async()=>{try{localStorage.clear()}catch(Hm){throw console.error("Erreur lors du nettoyage du stockage:",Hm),Hm}},keys:async()=>{try{return Object.keys(localStorage)}catch(Hm){return console.error("Erreur lors de la r\xe9cup\xe9ration des cl\xe9s:",Hm),[]}}},Jo={TOKEN:"token",FIREBASE_USER:"firebaseUser",USER:"user",USER_PROFILE:"userProfile",PENDING_USER:"pendingUser",USER_RESPONSES:"userResponses",LEVEL_ASSESSED:"levelAssessed",EFSET_RESULTS:"efsetResults",TOEIC_RESULTS:"toeicResults",TOEFL_RESULTS:"toeflResults",LAST_TEST_TYPE:"lastTestType",SYNC_QUEUE:"syncQueue",LAST_SYNC:"lastSync",FIREBASE_AUTH_PERSISTENCE:"firebaseAuthPersistence"},Zo={get:async e=>{const t=await $o.get(e);if(null===t)return null;try{return JSON.parse(t)}catch(n){return t}},set:async(e,t)=>{const n="string"===typeof t?t:JSON.stringify(t);await $o.set(e,n)},remove:async e=>{await $o.remove(e)},clear:async()=>{await $o.clear()},keys:async()=>await $o.keys(),has:async e=>null!==await $o.get(e),getMultiple:async e=>{const t={};return await Promise.all(e.map(async e=>{t[e]=await Zo.get(e)})),t},setMultiple:async e=>{await Promise.all(Object.entries(e).map(e=>{let[t,n]=e;return Zo.set(t,n)}))},removeMultiple:async e=>{await Promise.all(e.map(e=>$o.remove(e)))},getSize:async()=>{if(Yo){const e=await $o.keys();let t=0;for(const n of e){const e=await $o.get(n);e&&(t+=n.length+e.length)}return t}{let e=0;for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n){const t=localStorage.getItem(n);t&&(e+=n.length+t.length)}}return e}}},es=3e5,ts=async e=>{try{const t=await ns();t.push(e),await Zo.set(Jo.SYNC_QUEUE,t)}catch(Hm){console.error("Erreur lors de l'ajout \xe0 la queue de synchronisation:",Hm)}},ns=async()=>{try{const e=await Zo.get(Jo.SYNC_QUEUE);return Array.isArray(e)?e:[]}catch(Hm){return console.error("Erreur lors de la r\xe9cup\xe9ration de la queue de synchronisation:",Hm),[]}},rs=async e=>{try{await Zo.setMultiple({[Jo.USER]:e,[Jo.USER_PROFILE]:e}),await ts({type:"user",action:"create",data:e,timestamp:Date.now()});try{await zo(e)}catch(Hm){var t;null!==(t=Hm.message)&&void 0!==t&&t.includes("non authentifi\xe9")||"permission-denied"===Hm.code?console.debug("Synchronisation utilisateur report\xe9e (utilisateur non authentifi\xe9)"):console.warn("Erreur lors de la synchronisation utilisateur avec Firestore:",Hm)}}catch(Hm){throw console.error("Erreur lors de la sauvegarde utilisateur:",Hm),Hm}},is=async()=>{const e=await ns();if(0===e.length)return;const t=[];for(const n of e)try{switch(n.type){case"user":"create"===n.action?await zo(n.data):"update"===n.action&&await Vo(n.data.userId,n.data.updates);break;case"progress":"create"===n.action&&await Wo(n.data.userId,n.data.progress,n.data.exerciseId,n.data.exerciseType,n.data.level,n.data.domain);break;case"assessment":"create"===n.action&&await Go(n.data)}t.push(n.timestamp)}catch(Hm){console.error("Erreur lors du traitement de l'\xe9l\xe9ment de synchronisation:",Hm)}if(t.length>0){const n=e.filter(e=>!t.includes(e.timestamp));0===n.length?await(async()=>{await Zo.remove(Jo.SYNC_QUEUE)})():await Zo.set(Jo.SYNC_QUEUE,n)}await Zo.set(Jo.LAST_SYNC,Date.now())},os=async e=>{try{const t=await Fo(e);t&&await Zo.setMultiple({[Jo.USER]:t,[Jo.USER_PROFILE]:t});const n=await qo(e);n.length>0&&await Zo.set(Jo.USER_RESPONSES,n);const r=await Ko(e),i={};r.forEach(e=>{const t=e.testType||e.assessmentType,n="efset"===t?Jo.EFSET_RESULTS:"toeic"===t?Jo.TOEIC_RESULTS:"toefl"===t?Jo.TOEFL_RESULTS:"".concat(t,"Results");i[n]=e}),Object.keys(i).length>0&&await Zo.setMultiple(i),await Zo.set(Jo.LAST_SYNC,Date.now())}catch(Hm){var t,n;if("unavailable"===Hm.code||"failed-precondition"===Hm.code||null!==(t=Hm.message)&&void 0!==t&&t.includes("offline")||null!==(n=Hm.message)&&void 0!==n&&n.includes("network"))return;"permission-denied"!==Hm.code&&console.error("Erreur lors de la synchronisation depuis Firestore:",Hm)}},ss=async()=>{const e=await Zo.get(Jo.LAST_SYNC);if(!e)return!0;return Date.now()-e>es},as=function(e){const t=setInterval(async()=>{await ss()&&(await is(),await os(e))},arguments.length>1&&void 0!==arguments[1]?arguments[1]:es);return()=>clearInterval(t)},ls=(0,e.createContext)(void 0),cs=t=>{let{children:r}=t;const[o,s]=(0,e.useState)(null),[a,l]=(0,e.useState)(null),[c,u]=(0,e.useState)([]),[d,h]=(0,e.useState)({totalExercises:0,completedExercises:0,averageScore:0,timeSpent:0,streakDays:0,levelProgress:{},domainProgress:{}}),p=(0,e.useRef)(null),[f,m]=(0,e.useState)(!1);(0,e.useEffect)(()=>{(async()=>{try{await(async()=>{if(Yo)try{const e=Object.values(Jo);let t=0;for(const n of e){const e=localStorage.getItem(n);e&&(await Zo.get(n)||(await Zo.set(n,e),t++))}t>0&&console.log("\u2705 Migration r\xe9ussie : ".concat(t," \xe9l\xe9ments migr\xe9s vers Capacitor Preferences"))}catch(Hm){console.error("Erreur lors de la migration:",Hm)}})(),m(!0)}catch(Hm){console.error("Erreur lors de la migration du stockage:",Hm),m(!0)}})()},[]),(0,e.useEffect)(()=>{if(!f)return;return(async()=>{try{const[n,r,o]=await Promise.all([Zo.get(Jo.TOKEN),Zo.get(Jo.USER),Zo.get(Jo.USER_RESPONSES)]);if(n&&r)try{const o="string"===typeof r?JSON.parse(r):r;l(n);const a={id:o.id||"user_".concat(Date.now()),name:"".concat(o.firstName||""," ").concat(o.lastName||"").trim()||o.email||"Utilisateur",currentLevel:o.currentLevel||"B1",targetLevel:o.targetLevel||"C1",strengths:[],weaknesses:o.weaknesses||[],completedExercises:0,totalScore:0,createdAt:o.createdAt?new Date(o.createdAt):new Date,lastActivity:o.lastLogin?new Date(o.lastLogin):new Date};if(s(a),await ss()&&a.id){try{await os(a.id);const e=await Zo.get(Jo.USER),t=await Zo.get(Jo.USER_RESPONSES);if(e){const t="string"===typeof e?JSON.parse(e):e;s((0,i.A)((0,i.A)((0,i.A)({},a),t),{},{createdAt:t.createdAt?new Date(t.createdAt):a.createdAt,lastActivity:t.lastActivity?new Date(t.lastActivity):a.lastActivity}))}t&&u(Array.isArray(t)?t:[])}catch(Hm){var e,t;"unavailable"===Hm.code||"failed-precondition"===Hm.code||null!==(e=Hm.message)&&void 0!==e&&e.includes("offline")||null!==(t=Hm.message)&&void 0!==t&&t.includes("network")||console.warn("Erreur lors de la synchronisation depuis Firestore:",Hm)}a.id&&!p.current&&(p.current=as(a.id))}}catch(Hm){console.error("Erreur chargement utilisateur:",Hm),await Zo.remove(Jo.TOKEN),await Zo.remove(Jo.USER)}o&&Array.isArray(o)&&u(o)}catch(Hm){console.error("Erreur lors du chargement des donn\xe9es:",Hm)}})(),()=>{p.current&&(p.current(),p.current=null)}},[f]),(0,e.useEffect)(()=>{o&&f&&(Zo.set(Jo.USER_PROFILE,o).catch(e=>{console.error("Erreur sauvegarde profil:",e)}),rs(o).catch(e=>{var t,n,r;"unavailable"===e.code||"failed-precondition"===e.code||"permission-denied"===e.code||null!==(t=e.message)&&void 0!==t&&t.includes("offline")||null!==(n=e.message)&&void 0!==n&&n.includes("network")||null!==(r=e.message)&&void 0!==r&&r.includes("non authentifi\xe9")||console.warn("Erreur lors de la synchronisation utilisateur:",e)}))},[o,f]),(0,e.useEffect)(()=>{f&&(Zo.set(Jo.USER_RESPONSES,c).catch(e=>{console.error("Erreur sauvegarde r\xe9ponses:",e)}),g())},[c,f]);const g=()=>{const e=new Set(c.map(e=>e.exerciseId)),t=c.filter(e=>e.isCorrect).length,n=c.length>0?t/c.length*100:0,r=c.reduce((e,t)=>e+t.timeSpent,0);h({totalExercises:e.size,completedExercises:e.size,averageScore:Math.round(100*n)/100,timeSpent:r,streakDays:v(),levelProgress:{},domainProgress:{}})},v=()=>{if(0===c.length)return 0;const e=c.map(e=>new Date(e.timestamp).toDateString()).filter((e,t,n)=>n.indexOf(e)===t).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime());let t=0,n=new Date;for(const r of e){const e=new Date(r);if(Math.floor((n.getTime()-e.getTime())/864e5)!==t)break;t++,n=e}return t},y=!!a&&!!o;return(0,$.jsx)(ls.Provider,{value:{user:o,token:a,isAuthenticated:y,login:async(e,t)=>{l(e),await Zo.setMultiple({[Jo.TOKEN]:e,[Jo.USER]:t});const n={id:t.id||"user_".concat(Date.now()),name:"".concat(t.firstName||""," ").concat(t.lastName||"").trim()||t.email||"Utilisateur",currentLevel:t.currentLevel||"B1",targetLevel:t.targetLevel||"C1",strengths:[],weaknesses:t.weaknesses||[],completedExercises:0,totalScore:0,createdAt:t.createdAt?new Date(t.createdAt):new Date,lastActivity:new Date};s(n);try{await rs(n),p.current&&p.current(),p.current=as(n.id)}catch(Hm){console.warn("Erreur lors de la synchronisation utilisateur:",Hm)}},logout:async()=>{p.current&&(p.current(),p.current=null);try{const{logoutUser:e}=await Promise.resolve().then(n.bind(n,1079));await e()}catch(Hm){console.warn("Erreur lors de la d\xe9connexion Firebase:",Hm)}l(null),s(null),await Zo.removeMultiple([Jo.TOKEN,Jo.USER,Jo.USER_PROFILE,Jo.USER_RESPONSES,Jo.LEVEL_ASSESSED,Jo.FIREBASE_USER,Jo.PENDING_USER])},setUser:s,responses:c,addResponse:async e=>{if(u(t=>[...t,e]),o){const t=(0,i.A)((0,i.A)({},o),{},{completedExercises:o.completedExercises+1,lastActivity:new Date});s(t);try{const t=e.exerciseId,n=t.split("_")[0]||"qcm",r=o.currentLevel;await(async(e,t,n,r,i,o)=>{try{const a=await Zo.get(Jo.USER_RESPONSES)||[];a.push(t),await Zo.set(Jo.USER_RESPONSES,a),await ts({type:"progress",action:"create",data:{userId:e,progress:t,exerciseId:n,exerciseType:r,level:i,domain:o},timestamp:Date.now()});try{await Wo(e,t,n,r,i,o)}catch(Hm){var s;null!==(s=Hm.message)&&void 0!==s&&s.includes("non authentifi\xe9")||"permission-denied"===Hm.code?console.debug("Synchronisation progression report\xe9e (utilisateur non authentifi\xe9)"):console.warn("Erreur lors de la synchronisation progression avec Firestore:",Hm)}}catch(Hm){throw console.error("Erreur lors de la sauvegarde progression:",Hm),Hm}})(o.id,e,t,n,r)}catch(Hm){console.warn("Erreur lors de la synchronisation progression:",Hm)}}},stats:d,updateStats:g},children:r})},us=()=>{const t=(0,e.useContext)(ls);if(!t)throw new Error("useUser must be used within a UserProvider");return t},ds=uo((0,$.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function hs(e){return re("MuiChip",e)}const ps=ie("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),fs=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],ms=fe("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{["& .".concat(ps.avatar)]:t.avatar},{["& .".concat(ps.avatar)]:t["avatar".concat(we(a))]},{["& .".concat(ps.avatar)]:t["avatarColor".concat(we(r))]},{["& .".concat(ps.icon)]:t.icon},{["& .".concat(ps.icon)]:t["icon".concat(we(a))]},{["& .".concat(ps.icon)]:t["iconColor".concat(we(i))]},{["& .".concat(ps.deleteIcon)]:t.deleteIcon},{["& .".concat(ps.deleteIcon)]:t["deleteIcon".concat(we(a))]},{["& .".concat(ps.deleteIcon)]:t["deleteIconColor".concat(we(r))]},{["& .".concat(ps.deleteIcon)]:t["deleteIcon".concat(we(l),"Color").concat(we(r))]},t.root,t["size".concat(we(a))],t["color".concat(we(r))],o&&t.clickable,o&&"default"!==r&&t["clickableColor".concat(we(r),")")],s&&t.deletable,s&&"default"!==r&&t["deletableColor".concat(we(r))],t[l],t["".concat(l).concat(we(r))]]}})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return(0,o.A)({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(ps.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(ps.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},["& .".concat(ps.avatarColorPrimary)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},["& .".concat(ps.avatarColorSecondary)]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},["& .".concat(ps.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},["& .".concat(ps.icon)]:(0,o.A)({marginLeft:5,marginRight:-6},"small"===n.size&&{fontSize:18,marginLeft:4,marginRight:-4},n.iconColor===n.color&&(0,o.A)({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},"default"!==n.color&&{color:"inherit"})),["& .".concat(ps.deleteIcon)]:(0,o.A)({WebkitTapHighlightColor:"transparent",color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.26)"):(0,p.X4)(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.4)"):(0,p.X4)(t.palette.text.primary,.4)}},"small"===n.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==n.color&&{color:t.vars?"rgba(".concat(t.vars.palette[n.color].contrastTextChannel," / 0.7)"):(0,p.X4)(t.palette[n.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].contrastText}})},"small"===n.size&&{height:24},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},n.onDelete&&{["&.".concat(ps.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,p.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},n.onDelete&&"default"!==n.color&&{["&.".concat(ps.focusVisible)]:{backgroundColor:(t.vars||t).palette[n.color].dark}})},e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},n.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,p.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},["&.".concat(ps.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,p.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},n.clickable&&"default"!==n.color&&{["&:hover, &.".concat(ps.focusVisible)]:{backgroundColor:(t.vars||t).palette[n.color].dark}})},e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},"outlined"===n.variant&&{backgroundColor:"transparent",border:t.vars?"1px solid ".concat(t.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]),["&.".concat(ps.clickable,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(ps.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["& .".concat(ps.avatar)]:{marginLeft:4},["& .".concat(ps.avatarSmall)]:{marginLeft:2},["& .".concat(ps.icon)]:{marginLeft:4},["& .".concat(ps.iconSmall)]:{marginLeft:2},["& .".concat(ps.deleteIcon)]:{marginRight:5},["& .".concat(ps.deleteIconSmall)]:{marginRight:3}},"outlined"===n.variant&&"default"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.7)"):(0,p.X4)(t.palette[n.color].main,.7)),["&.".concat(ps.clickable,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,p.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity)},["&.".concat(ps.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):(0,p.X4)(t.palette[n.color].main,t.palette.action.focusOpacity)},["& .".concat(ps.deleteIcon)]:{color:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.7)"):(0,p.X4)(t.palette[n.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].main}}})}),gs=fe("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t["label".concat(we(r))]]}})(e=>{let{ownerState:t}=e;return(0,o.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===t.variant&&{paddingLeft:11,paddingRight:11},"small"===t.size&&{paddingLeft:8,paddingRight:8},"small"===t.size&&"outlined"===t.variant&&{paddingLeft:7,paddingRight:7})});function vs(e){return"Backspace"===e.key||"Delete"===e.key}const ys=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiChip"}),{avatar:i,className:a,clickable:l,color:c="default",component:u,deleteIcon:d,disabled:h=!1,icon:p,label:f,onClick:m,onDelete:g,onKeyDown:v,onKeyUp:y,size:b="medium",variant:x="filled",tabIndex:w,skipFocusWhenDisabled:S=!1}=r,k=(0,s.A)(r,fs),E=e.useRef(null),I=rt(E,n),A=e=>{e.stopPropagation(),g&&g(e)},C=!(!1===l||!m)||l,T=C||g?tn:u||"div",j=(0,o.A)({},r,{component:T,disabled:h,size:b,color:c,iconColor:e.isValidElement(p)&&p.props.color||c,onDelete:!!g,clickable:C,variant:x}),_=(e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=e;return ce({root:["root",l,n&&"disabled","size".concat(we(r)),"color".concat(we(i)),a&&"clickable",a&&"clickableColor".concat(we(i)),s&&"deletable",s&&"deletableColor".concat(we(i)),"".concat(l).concat(we(i))],label:["label","label".concat(we(r))],avatar:["avatar","avatar".concat(we(r)),"avatarColor".concat(we(i))],icon:["icon","icon".concat(we(r)),"iconColor".concat(we(o))],deleteIcon:["deleteIcon","deleteIcon".concat(we(r)),"deleteIconColor".concat(we(i)),"deleteIcon".concat(we(l),"Color").concat(we(i))]},hs,t)})(j),R=T===tn?(0,o.A)({component:u||"div",focusVisibleClassName:_.focusVisible},g&&{disableRipple:!0}):{};let P=null;g&&(P=d&&e.isValidElement(d)?e.cloneElement(d,{className:W(d.props.className,_.deleteIcon),onClick:A}):(0,$.jsx)(ds,{className:W(_.deleteIcon),onClick:A}));let N=null;i&&e.isValidElement(i)&&(N=e.cloneElement(i,{className:W(_.avatar,i.props.className)}));let O=null;return p&&e.isValidElement(p)&&(O=e.cloneElement(p,{className:W(_.icon,p.props.className)})),(0,$.jsxs)(ms,(0,o.A)({as:T,className:W(_.root,a),disabled:!(!C||!h)||void 0,onClick:m,onKeyDown:e=>{e.currentTarget===e.target&&vs(e)&&e.preventDefault(),v&&v(e)},onKeyUp:e=>{e.currentTarget===e.target&&(g&&vs(e)?g(e):"Escape"===e.key&&E.current&&E.current.blur()),y&&y(e)},ref:I,tabIndex:S&&h?-1:w,ownerState:j},R,k,{children:[N||O,(0,$.jsx)(gs,{className:W(_.label),ownerState:j,children:f}),P]}))}),bs=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],xs=["component","slots","slotProps"],ws=["component"];function Ss(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:a,getSlotOwnerState:l,internalForwardedProps:c}=t,u=(0,s.A)(t,bs),{component:d,slots:h={[e]:void 0},slotProps:p={[e]:void 0}}=a,f=(0,s.A)(a,xs),m=h[e]||r,g=Mn(p[e],i),v=Ln((0,o.A)({className:n},u,{externalForwardedProps:"root"===e?f:void 0,externalSlotProps:g})),{props:{component:y},internalRef:b}=v,x=(0,s.A)(v.props,ws),w=nt(b,null==g?void 0:g.ref,t.ref),S=l?l(x):{},k=(0,o.A)({},i,S),E="root"===e?y||d:y,I=Pn(m,(0,o.A)({},"root"===e&&!d&&!h[e]&&c,"root"!==e&&!h[e]&&c,x,E&&{as:E},{ref:w}),k);return Object.keys(S).forEach(e=>{delete I[e]}),[m,I]}function ks(e){return re("MuiAlert",e)}const Es=ie("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Is=uo((0,$.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),As=uo((0,$.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Cs=uo((0,$.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Ts=uo((0,$.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),js=uo((0,$.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),_s=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Rs=fe(Ke,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(we(n.color||n.severity))]]}})(e=>{let{theme:t}=e;const n="light"===t.palette.mode?p.e$:p.a,r="light"===t.palette.mode?p.a:p.e$;return(0,o.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[i]=e;return{props:{colorSeverity:i,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(i,"Color")]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(i,"StandardBg")]:r(t.palette[i].light,.9),["& .".concat(Es.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(i,"IconColor")]}:{color:t.palette[i].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(r,"Color")]:n(t.palette[r].light,.6),border:"1px solid ".concat((t.vars||t).palette[r].light),["& .".concat(Es.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(r,"IconColor")]}:{color:t.palette[r].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.dark}).map(e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:(0,o.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(n,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(n,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}})]})}),Ps=fe("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Ns=fe("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Os=fe("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Ls={success:(0,$.jsx)(Is,{fontSize:"inherit"}),warning:(0,$.jsx)(As,{fontSize:"inherit"}),error:(0,$.jsx)(Cs,{fontSize:"inherit"}),info:(0,$.jsx)(Ts,{fontSize:"inherit"})},Ms=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiAlert"}),{action:r,children:i,className:a,closeText:l="Close",color:c,components:u={},componentsProps:d={},icon:h,iconMapping:p=Ls,onClose:f,role:m="alert",severity:g="success",slotProps:v={},slots:y={},variant:b="standard"}=n,x=(0,s.A)(n,_s),w=(0,o.A)({},n,{color:c,severity:g,variant:b,colorSeverity:c||g}),S=(e=>{const{variant:t,color:n,severity:r,classes:i}=e;return ce({root:["root","color".concat(we(n||r)),"".concat(t).concat(we(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]},ks,i)})(w),k={slots:(0,o.A)({closeButton:u.CloseButton,closeIcon:u.CloseIcon},y),slotProps:(0,o.A)({},d,v)},[E,I]=Ss("closeButton",{elementType:An,externalForwardedProps:k,ownerState:w}),[A,C]=Ss("closeIcon",{elementType:js,externalForwardedProps:k,ownerState:w});return(0,$.jsxs)(Rs,(0,o.A)({role:m,elevation:0,ownerState:w,className:W(S.root,a),ref:t},x,{children:[!1!==h?(0,$.jsx)(Ps,{ownerState:w,className:S.icon,children:h||p[g]||Ls[g]}):null,(0,$.jsx)(Ns,{ownerState:w,className:S.message,children:i}),null!=r?(0,$.jsx)(Os,{ownerState:w,className:S.action,children:r}):null,null==r&&f?(0,$.jsx)(Os,{ownerState:w,className:S.action,children:(0,$.jsx)(E,(0,o.A)({size:"small","aria-label":l,title:l,color:"inherit",onClick:f},I,{children:(0,$.jsx)(A,(0,o.A)({fontSize:"small"},C))}))}):null]}))});function Ds(e){return re("MuiLinearProgress",e)}ie("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var Fs,zs,Vs,Bs,Us,qs;const Ws=["className","color","value","valueBuffer","variant"];let Hs,Ks,Gs,Qs,Xs,Ys;const $s=(0,Rt.i7)(Hs||(Hs=Fs||(Fs=wt(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),Js=(0,Rt.i7)(Ks||(Ks=zs||(zs=wt(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),Zs=(0,Rt.i7)(Gs||(Gs=Vs||(Vs=wt(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),ea=(e,t)=>"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?(0,p.a)(e.palette[t].main,.62):(0,p.e$)(e.palette[t].main,.5),ta=fe("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat(we(n.color))],t[n.variant]]}})(e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:ea(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})}),na=fe("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t["dashedColor".concat(we(n.color))]]}})(e=>{let{ownerState:t,theme:n}=e;const r=ea(n,t.color);return(0,o.A)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},(0,Rt.AH)(Qs||(Qs=Bs||(Bs=wt(["\n    animation: "," 3s infinite linear;\n  "]))),Zs)),ra=fe("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat(we(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})(e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})},e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,Rt.AH)(Xs||(Xs=Us||(Us=wt(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),$s)}),ia=fe("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat(we(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})(e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:ea(n,t.color),transition:"transform .".concat(4,"s linear")})},e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,Rt.AH)(Ys||(Ys=qs||(qs=wt(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),Js)}),oa=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiLinearProgress"}),{className:r,color:i="primary",value:a,valueBuffer:l,variant:c="indeterminate"}=n,u=(0,s.A)(n,Ws),d=(0,o.A)({},n,{color:i,variant:c}),h=(e=>{const{classes:t,variant:n,color:r}=e;return ce({root:["root","color".concat(we(r)),n],dashed:["dashed","dashedColor".concat(we(r))],bar1:["bar","barColor".concat(we(r)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat(we(r)),"buffer"===n&&"color".concat(we(r)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]},Ds,t)})(d),p=jn(),f={},m={bar1:{},bar2:{}};if("determinate"===c||"buffer"===c)if(void 0!==a){f["aria-valuenow"]=Math.round(a),f["aria-valuemin"]=0,f["aria-valuemax"]=100;let e=a-100;p&&(e=-e),m.bar1.transform="translateX(".concat(e,"%)")}else 0;if("buffer"===c)if(void 0!==l){let e=(l||0)-100;p&&(e=-e),m.bar2.transform="translateX(".concat(e,"%)")}else 0;return(0,$.jsxs)(ta,(0,o.A)({className:W(h.root,r),ownerState:d,role:"progressbar"},f,{ref:t},u,{children:["buffer"===c?(0,$.jsx)(na,{className:h.dashed,ownerState:d}):null,(0,$.jsx)(ra,{className:h.bar1,ownerState:d,style:m.bar1}),"determinate"===c?null:(0,$.jsx)(ia,{className:h.bar2,ownerState:d,style:m.bar2})]}))}),sa=uo((0,$.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),aa=uo([(0,$.jsx)("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),(0,$.jsx)("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")],"MenuBook"),la=uo((0,$.jsx)("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"}),"EmojiEvents"),ca=uo((0,$.jsx)("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer"),ua=uo((0,$.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),da=e=>{let{onStartAssessment:t,onNavigate:n}=e;const{user:r,stats:i}=us();if(!r)return null;const o=Math.min(100,i.averageScore/85*100);return(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,$.jsx)(Ce,{variant:"h4",sx:{fontWeight:"bold"},children:"Tableau de bord"}),(0,$.jsx)(ys,{label:"Niveau ".concat(r.currentLevel," \u2192 Objectif ").concat(r.targetLevel),color:"primary",sx:{fontSize:"0.9rem",py:2}})]}),(0,$.jsx)(Ms,{severity:"info",action:(0,$.jsx)(hn,{color:"inherit",size:"small",startIcon:(0,$.jsx)(sa,{}),onClick:t,children:"Refaire"}),sx:{mb:3},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Conseil :"})," Vous pouvez refaire l'\xe9valuation de niveau \xe0 tout moment pour ajuster votre programme d'apprentissage en fonction de vos progr\xe8s."]})}),(0,$.jsxs)(Be,{container:!0,spacing:3,children:[(0,$.jsx)(Be,{item:!0,xs:12,md:6,lg:3,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(fo,{sx:{mr:1,color:"primary.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Niveau actuel"})]}),(0,$.jsx)(Ce,{variant:"h3",color:"primary",children:r.currentLevel}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:["Objectif: ",r.targetLevel]}),(0,$.jsx)(oa,{variant:"determinate",value:o,sx:{mt:2,height:8,borderRadius:4}})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:6,lg:3,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(aa,{sx:{mr:1,color:"success.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Exercices"})]}),(0,$.jsx)(Ce,{variant:"h3",color:"success.main",children:i.completedExercises}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:"exercices compl\xe9t\xe9s"})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:6,lg:3,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(la,{sx:{mr:1,color:"warning.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Score moyen"})]}),(0,$.jsxs)(Ce,{variant:"h3",color:"warning.main",children:[i.averageScore.toFixed(1),"%"]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:"sur tous les exercices"})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:6,lg:3,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(ca,{sx:{mr:1,color:"info.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Temps d'\xe9tude"})]}),(0,$.jsxs)(Ce,{variant:"h3",color:"info.main",children:[Math.floor(i.timeSpent/60),"h"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[i.streakDays," jours cons\xe9cutifs"]})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,sx:{height:"100%"},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(fo,{sx:{mr:1,color:"primary.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Exercices"})]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Acc\xe9dez \xe0 plus de 400 exercices (QCM et textes \xe0 trous) pour pratiquer votre anglais technique dans les domaines IT, IA, DevOps et Cybers\xe9curit\xe9."}),(0,$.jsx)(hn,{variant:"contained",fullWidth:!0,color:"primary",startIcon:(0,$.jsx)(fo,{}),onClick:()=>null===n||void 0===n?void 0:n("exercises"),sx:{mt:2},children:"Lancer les exercices"})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,sx:{height:"100%"},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(po,{sx:{mr:1,color:"primary.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"\xc9valuation de niveau"})]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Refaites l'\xe9valuation compl\xe8te (18 questions - Listening, Reading, Writing) pour mettre \xe0 jour votre niveau et adapter votre programme."}),(0,$.jsx)(hn,{variant:"outlined",fullWidth:!0,startIcon:(0,$.jsx)(sa,{}),onClick:t,sx:{mt:2},children:"Refaire l'\xe9valuation"})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,sx:{height:"100%"},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(ua,{sx:{mr:1,color:"success.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Programme adaptatif"})]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Consultez votre programme d'apprentissage personnalis\xe9 qui s'adapte automatiquement en fonction de vos performances et points faibles."}),(0,$.jsx)(hn,{variant:"contained",fullWidth:!0,color:"success",onClick:()=>null===n||void 0===n?void 0:n("learning"),sx:{mt:2},children:"Voir mon programme"})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(mo,{sx:{mr:1,color:"error.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Points \xe0 am\xe9liorer"})]}),(0,$.jsx)(le,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.weaknesses.length>0?r.weaknesses.map((e,t)=>(0,$.jsx)(ys,{label:e,color:"error",variant:"outlined",size:"small"},t)):(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:"Aucune faiblesse identifi\xe9e pour le moment"})})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(ua,{sx:{mr:1,color:"success.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Points forts"})]}),(0,$.jsx)(le,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.strengths.length>0?r.strengths.map((e,t)=>(0,$.jsx)(ys,{label:e,color:"success",variant:"outlined",size:"small"},t)):(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:"Compl\xe9tez des exercices pour identifier vos forces"})})]})})})]})]})},ha=uo((0,$.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),pa=e=>e.toLowerCase().match(/\b\w+\b/g)||[];const fa=new class{constructor(){this.GRAMMAR_KEYWORDS=["present_perfect","past_simple","future_continuous","conditional","passive_voice","relative_clauses","prepositions","articles","modal_verbs"],this.TECH_VOCAB=["technical_debt","memory_leak","ci_cd","mlops","rag_system","gdpr","ai_act","angular","devops","cybersecurity","vibe_coding","cursor","pipeline"]}analyzeProgress(e,t,n){const r=this.calculateGrammarScore(e,t),i=this.calculateVocabularyScore(e,t),o=(r+i)/2,s=this.identifyWeakAreas(e,t),a=this.identifyStrongAreas(e,t),l=this.recommendExercises(s,n),c=this.determineNextLevel(o,n.currentLevel);return{overallScore:Math.round(100*o)/100,grammarScore:Math.round(100*r)/100,vocabularyScore:Math.round(100*i)/100,weakAreas:s,strongAreas:a,recommendedExercises:l,nextLevel:c}}calculateGrammarScore(e,t){const n=e.filter(e=>{const n=t.find(t=>t.id===e.exerciseId);return null===n||void 0===n?void 0:n.questions.some(e=>e.grammarFocus&&e.grammarFocus.length>0)});if(0===n.length)return 0;const r=n.filter(e=>e.isCorrect).length;return r/n.length*100}calculateVocabularyScore(e,t){const n=e.filter(e=>{const n=t.find(t=>t.id===e.exerciseId);return null===n||void 0===n?void 0:n.questions.some(e=>e.vocabularyFocus&&e.vocabularyFocus.length>0)});if(0===n.length)return 0;const r=n.filter(e=>e.isCorrect).length;return r/n.length*100}identifyWeakAreas(e,t){const n=new Map;return e.forEach(e=>{if(!e.isCorrect){const r=t.find(t=>t.id===e.exerciseId),i=null===r||void 0===r?void 0:r.questions.find(t=>t.id===e.questionId);null!==i&&void 0!==i&&i.grammarFocus&&i.grammarFocus.forEach(e=>{n.set(e,(n.get(e)||0)+1)}),null!==i&&void 0!==i&&i.vocabularyFocus&&i.vocabularyFocus.forEach(e=>{n.set(e,(n.get(e)||0)+1)}),null!==r&&void 0!==r&&r.domain&&n.set(r.domain,(n.get(r.domain)||0)+1)}}),Array.from(n.entries()).sort((e,t)=>t[1]-e[1]).slice(0,5).map(e=>{let[t]=e;return t})}identifyStrongAreas(e,t){const n=new Map;return e.forEach(e=>{const r=t.find(t=>t.id===e.exerciseId),i=null===r||void 0===r?void 0:r.questions.find(t=>t.id===e.questionId);[...(null===i||void 0===i?void 0:i.grammarFocus)||[],...(null===i||void 0===i?void 0:i.vocabularyFocus)||[],null===r||void 0===r?void 0:r.domain].filter(Boolean).forEach(t=>{const r=n.get(t)||{correct:0,total:0};r.total+=1,e.isCorrect&&(r.correct+=1),n.set(t,r)})}),Array.from(n.entries()).filter(e=>{let[,t]=e;return t.total>=3&&t.correct/t.total>=.8}).sort((e,t)=>t[1].correct/t[1].total-e[1].correct/e[1].total).slice(0,5).map(e=>{let[t]=e;return t})}recommendExercises(e,t){const n=[];return e.forEach(e=>{this.GRAMMAR_KEYWORDS.includes(e)?n.push("grammar_".concat(e,"_").concat(t.currentLevel)):this.TECH_VOCAB.some(t=>e.includes(t))?n.push("vocab_".concat(e,"_").concat(t.currentLevel)):n.push("mixed_".concat(e,"_").concat(t.currentLevel))}),n.slice(0,3)}determineNextLevel(e,t){const n=["A2","B1","B2","C1"],r=n.indexOf(t);if(e>=85&&r<n.length-1)return n[r+1]}analyzeWrittenResponse(e,t,n){const r=pa(e.toLowerCase()),i=pa(t.toLowerCase()),o=this.calculateSimilarity(r,i),s=Math.max(0,Math.min(100,100*o));return{score:s,feedback:this.generateFeedback(s,n),suggestions:this.generateSuggestions(e,t,n)}}calculateSimilarity(e,t){const n=new Set(e),r=new Set(t),i=new Set([...n].filter(e=>r.has(e))),o=new Set([...n,...r]);return i.size/o.size}generateFeedback(e,t){return e>=90?"Excellent travail ! Votre r\xe9ponse d\xe9montre une ma\xeetrise solide des concepts.":e>=75?"Bonne r\xe9ponse ! Quelques points \xe0 am\xe9liorer sur : ".concat(t.join(", "),"."):e>=60?"R\xe9ponse correcte mais n\xe9cessite des am\xe9liorations. Concentrez-vous sur : ".concat(t.join(", "),"."):"R\xe9ponse \xe0 retravailler. Revoyez les r\xe8gles concernant : ".concat(t.join(", "),".")}generateSuggestions(e,t,n){const r=[];return e.length<.7*t.length&&r.push("Votre r\xe9ponse est trop courte. D\xe9veloppez davantage vos arguments."),!e.includes(".")&&t.includes(".")&&r.push("N'oubliez pas la ponctuation pour structurer vos phrases."),n.forEach(e=>{r.push("R\xe9visez les r\xe8gles de : ".concat(e))}),r.slice(0,3)}},ma=()=>{const{user:t,responses:n}=us(),r=(0,e.useMemo)(()=>t&&n.length>0?fa.analyzeProgress(n,[],t):null,[t,n]);return t&&r?(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"Analyse de progression"}),(0,$.jsxs)(Be,{container:!0,spacing:3,children:[(0,$.jsx)(Be,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Score global"}),(0,$.jsxs)(Ce,{variant:"h2",color:"primary",sx:{mb:2},children:[r.overallScore.toFixed(0),"%"]}),(0,$.jsx)(oa,{variant:"determinate",value:r.overallScore,sx:{height:10,borderRadius:5}})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Grammaire"}),(0,$.jsxs)(Ce,{variant:"h2",color:"success.main",sx:{mb:2},children:[r.grammarScore.toFixed(0),"%"]}),(0,$.jsx)(oa,{variant:"determinate",value:r.grammarScore,color:"success",sx:{height:10,borderRadius:5}})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Vocabulaire"}),(0,$.jsxs)(Ce,{variant:"h2",color:"info.main",sx:{mb:2},children:[r.vocabularyScore.toFixed(0),"%"]}),(0,$.jsx)(oa,{variant:"determinate",value:r.vocabularyScore,color:"info",sx:{height:10,borderRadius:5}})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(mo,{sx:{mr:1,color:"error.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Domaines \xe0 am\xe9liorer"})]}),(0,$.jsx)(le,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.weakAreas.length>0?r.weakAreas.map((e,t)=>(0,$.jsx)(ys,{label:e,color:"error",variant:"outlined",size:"medium"},t)):(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:"Aucun domaine faible identifi\xe9"})})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(ua,{sx:{mr:1,color:"success.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Points forts"})]}),(0,$.jsx)(le,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.strongAreas.length>0?r.strongAreas.map((e,t)=>(0,$.jsx)(ys,{label:e,color:"success",variant:"outlined",size:"medium"},t)):(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:"Continuez pour identifier vos forces"})})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(ha,{sx:{mr:1,color:"primary.main"}}),(0,$.jsx)(Ce,{variant:"h6",children:"Exercices recommand\xe9s"})]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Bas\xe9s sur votre analyse, voici les exercices qui vous aideront le plus :"}),(0,$.jsx)(le,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.recommendedExercises.map((e,t)=>(0,$.jsx)(ys,{label:e,color:"primary",variant:"filled",size:"medium"},t))})]})})}),r.nextLevel&&(0,$.jsx)(Be,{item:!0,xs:12,children:(0,$.jsx)(Ye,{elevation:3,sx:{bgcolor:"success.light"},children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,sx:{color:"success.contrastText"},children:"\ud83c\udf89 F\xe9licitations !"}),(0,$.jsxs)(Ce,{variant:"body1",sx:{color:"success.contrastText"},children:["Votre niveau actuel vous permet de passer au niveau ",(0,$.jsx)("strong",{children:r.nextLevel}),". Continuez votre excellent travail !"]})]})})})]})]}):(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,children:"Analyse de progression"}),(0,$.jsx)(Ce,{variant:"body1",color:"text.secondary",children:"Compl\xe9tez quelques exercices pour voir votre analyse de progression."})]})};function ga(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function va(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(ga(e.value)&&""!==e.value||t&&ga(e.defaultValue)&&""!==e.defaultValue)}const ya=e.createContext(void 0);function ba(e){return re("MuiFormControl",e)}ie("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const xa=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],wa=fe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,o.A)({},t.root,t["margin".concat(we(n.margin))],n.fullWidth&&t.fullWidth)}})(e=>{let{ownerState:t}=e;return(0,o.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})}),Sa=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiFormControl"}),{children:i,className:a,color:l="primary",component:c="div",disabled:u=!1,error:d=!1,focused:h,fullWidth:p=!1,hiddenLabel:f=!1,margin:m="none",required:g=!1,size:v="medium",variant:y="outlined"}=r,b=(0,s.A)(r,xa),x=(0,o.A)({},r,{color:l,component:c,disabled:u,error:d,fullWidth:p,hiddenLabel:f,margin:m,required:g,size:v,variant:y}),w=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return ce({root:["root","none"!==n&&"margin".concat(we(n)),r&&"fullWidth"]},ba,t)})(x),[S,k]=e.useState(()=>{let t=!1;return i&&e.Children.forEach(i,e=>{if(!Yr(e,["Input","Select"]))return;const n=Yr(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}),t}),[E,I]=e.useState(()=>{let t=!1;return i&&e.Children.forEach(i,e=>{Yr(e,["Input","Select"])&&(va(e.props,!0)||va(e.props.inputProps,!0))&&(t=!0)}),t}),[A,C]=e.useState(!1);u&&A&&C(!1);const T=void 0===h||u?A:h;let j;const _=e.useMemo(()=>({adornedStart:S,setAdornedStart:k,color:l,disabled:u,error:d,filled:E,focused:T,fullWidth:p,hiddenLabel:f,size:v,onBlur:()=>{C(!1)},onEmpty:()=>{I(!1)},onFilled:()=>{I(!0)},onFocus:()=>{C(!0)},registerEffect:j,required:g,variant:y}),[S,l,u,d,E,T,p,f,j,g,v,y]);return(0,$.jsx)(ya.Provider,{value:_,children:(0,$.jsx)(wa,(0,o.A)({as:c,ownerState:x,className:W(w.root,a),ref:n},b,{children:i}))})});function ka(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e),{})}function Ea(){return e.useContext(ya)}function Ia(e){return re("MuiFormLabel",e)}const Aa=ie("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Ca=["children","className","color","component","disabled","error","filled","focused","required"],Ta=fe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,o.A)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(Aa.focused)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(Aa.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(Aa.error)]:{color:(t.vars||t).palette.error.main}})}),ja=fe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(e=>{let{theme:t}=e;return{["&.".concat(Aa.error)]:{color:(t.vars||t).palette.error.main}}}),_a=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiFormLabel"}),{children:r,className:i,component:a="label"}=n,l=(0,s.A)(n,Ca),c=ka({props:n,muiFormControl:Ea(),states:["color","required","focused","disabled","error","filled"]}),u=(0,o.A)({},n,{color:c.color||"primary",component:a,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e;return ce({root:["root","color".concat(we(n)),i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]},Ia,t)})(u);return(0,$.jsxs)(Ta,(0,o.A)({as:a,ownerState:u,className:W(d.root,i),ref:t},l,{children:[r,c.required&&(0,$.jsxs)(ja,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:["\u2009","*"]})]}))});function Ra(e){return re("MuiInputLabel",e)}ie("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Pa=["disableAnimation","margin","shrink","variant","className"],Na=fe(_a,{shouldForwardProp:e=>pe(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(Aa.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,o.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,o.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,o.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))}),Oa=e.forwardRef(function(e,t){const n=be({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:i,className:a}=n,l=(0,s.A)(n,Pa),c=Ea();let u=i;"undefined"===typeof u&&c&&(u=c.filled||c.focused||c.adornedStart);const d=ka({props:n,muiFormControl:c,states:["size","variant","required","focused"]}),h=(0,o.A)({},n,{disableAnimation:r,formControl:c,shrink:u,size:d.size,variant:d.variant,required:d.required,focused:d.focused}),p=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:s,variant:a,required:l}=e,c=ce({root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&"normal"!==r&&"size".concat(we(r)),a],asterisk:[l&&"asterisk"]},Ra,t);return(0,o.A)({},t,c)})(h);return(0,$.jsx)(Na,(0,o.A)({"data-shrink":u,ownerState:h,ref:t,className:W(p.root,a)},l,{classes:p}))}),La=Vn,Ma=fr,Da=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Fa(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function za(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Va(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Ba(e,t,n,r,i,o){let s=!1,a=i(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&Va(a,o)&&!t)return a.focus(),!0;a=i(e,a,n)}return!1}const Ua=e.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:a=!1,children:l,className:c,disabledItemsFocusable:u=!1,disableListWrap:d=!1,onKeyDown:h,variant:p="selectedMenu"}=t,f=(0,s.A)(t,Da),m=e.useRef(null),g=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});$r(()=>{i&&m.current.focus()},[i]),e.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!m.current.style.width;if(e.clientHeight<m.current.clientHeight&&r){const t="".concat(Ma(La(e)),"px");m.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,m.current.style.width="calc(100% + ".concat(t,")")}return m.current}}),[]);const v=rt(m,n);let y=-1;e.Children.forEach(l,(t,n)=>{e.isValidElement(t)?(t.props.disabled||("selectedMenu"===p&&t.props.selected||-1===y)&&(y=n),y===n&&(t.props.disabled||t.props.muiSkipListHighlight||t.type.muiSkipListHighlight)&&(y+=1,y>=l.length&&(y=-1))):y===n&&(y+=1,y>=l.length&&(y=-1))});const b=e.Children.map(l,(t,n)=>{if(n===y){const n={};return a&&(n.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===p&&(n.tabIndex=0),e.cloneElement(t,n)}return t});return(0,$.jsx)(Xr,(0,o.A)({role:"menu",ref:v,className:c,onKeyDown:e=>{const t=m.current,n=e.key,r=La(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Ba(t,r,d,u,Fa);else if("ArrowUp"===n)e.preventDefault(),Ba(t,r,d,u,za);else if("Home"===n)e.preventDefault(),Ba(t,null,d,u,Fa);else if("End"===n)e.preventDefault(),Ba(t,null,d,u,za);else if(1===n.length){const i=g.current,o=n.toLowerCase(),s=performance.now();i.keys.length>0&&(s-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=s,i.keys.push(o);const a=r&&!i.repeating&&Va(r,i);i.previousKeyMatched&&(a||Ba(t,r,!1,u,Fa,i))?e.preventDefault():i.previousKeyMatched=!1}h&&h(e)},tabIndex:i?0:-1},f,{children:b}))}),qa=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Wa(e){return"scale(".concat(e,", ").concat(e**2,")")}const Ha={entering:{opacity:1,transform:Wa(1)},entered:{opacity:1,transform:"none"}},Ka="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ga=e.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:g,timeout:v="auto",TransitionComponent:y=tr}=t,b=(0,s.A)(t,qa),x=ut(),w=e.useRef(),S=je(),k=e.useRef(null),E=rt(k,zn(a),n),I=e=>t=>{if(e){const n=k.current;void 0===t?e(n):e(n,t)}},A=I(h),C=I((e,t)=>{nr(e);const{duration:n,delay:r,easing:i}=rr({style:g,timeout:v,easing:l},{mode:"enter"});let o;"auto"===v?(o=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=o):o=n,e.style.transition=[S.transitions.create("opacity",{duration:o,delay:r}),S.transitions.create("transform",{duration:Ka?o:.666*o,delay:r,easing:i})].join(","),u&&u(e,t)}),T=I(d),j=I(m),_=I(e=>{const{duration:t,delay:n,easing:r}=rr({style:g,timeout:v,easing:l},{mode:"exit"});let i;"auto"===v?(i=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=i):i=t,e.style.transition=[S.transitions.create("opacity",{duration:i,delay:n}),S.transitions.create("transform",{duration:Ka?i:.666*i,delay:Ka?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=Wa(.75),p&&p(e)}),R=I(f);return(0,$.jsx)(y,(0,o.A)({appear:i,in:c,nodeRef:k,onEnter:C,onEntered:T,onEntering:A,onExit:_,onExited:R,onExiting:j,addEndListener:e=>{"auto"===v&&x.start(w.current||0,e),r&&r(k.current,e)},timeout:"auto"===v?null:v},b,{children:(t,n)=>e.cloneElement(a,(0,o.A)({style:(0,o.A)({opacity:0,transform:Wa(.75),visibility:"exited"!==t||c?void 0:"hidden"},Ha[t],g,a.props.style),ref:E},n))}))});Ga.muiSupportAuto=!0;const Qa=Ga;function Xa(e){return re("MuiPopover",e)}ie("MuiPopover",["root","paper"]);const Ya=["onEntering"],$a=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Ja=["slotProps"];function Za(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function el(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function tl(e){return[e.horizontal,e.vertical].map(e=>"number"===typeof e?"".concat(e,"px"):e).join(" ")}function nl(e){return"function"===typeof e?e():e}const rl=fe(Cr,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),il=fe(Ke,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ol=e.forwardRef(function(t,n){var r,i,a;const l=be({props:t,name:"MuiPopover"}),{action:c,anchorEl:u,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:h,anchorReference:p="anchorEl",children:f,className:m,container:g,elevation:v=8,marginThreshold:y=16,open:b,PaperProps:x={},slots:w,slotProps:S,transformOrigin:k={vertical:"top",horizontal:"left"},TransitionComponent:E=Qa,transitionDuration:I="auto",TransitionProps:{onEntering:A}={},disableScrollLock:C=!1}=l,T=(0,s.A)(l.TransitionProps,Ya),j=(0,s.A)(l,$a),_=null!=(r=null==S?void 0:S.paper)?r:x,R=e.useRef(),P=rt(R,_.ref),N=(0,o.A)({},l,{anchorOrigin:d,anchorReference:p,elevation:v,marginThreshold:y,externalPaperSlotProps:_,transformOrigin:k,TransitionComponent:E,transitionDuration:I,TransitionProps:T}),O=(e=>{const{classes:t}=e;return ce({root:["root"],paper:["paper"]},Xa,t)})(N),L=e.useCallback(()=>{if("anchorPosition"===p)return h;const e=nl(u),t=(e&&1===e.nodeType?e:La(R.current).body).getBoundingClientRect();return{top:t.top+Za(t,d.vertical),left:t.left+el(t,d.horizontal)}},[u,d.horizontal,d.vertical,h,p]),M=e.useCallback(e=>({vertical:Za(e,k.vertical),horizontal:el(e,k.horizontal)}),[k.horizontal,k.vertical]),D=e.useCallback(e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=M(t);if("none"===p)return{top:null,left:null,transformOrigin:tl(n)};const r=L();let i=r.top-n.vertical,o=r.left-n.horizontal;const s=i+t.height,a=o+t.width,l=_r(nl(u)),c=l.innerHeight-y,d=l.innerWidth-y;if(null!==y&&i<y){const e=i-y;i-=e,n.vertical+=e}else if(null!==y&&s>c){const e=s-c;i-=e,n.vertical+=e}if(null!==y&&o<y){const e=o-y;o-=e,n.horizontal+=e}else if(a>d){const e=a-d;o-=e,n.horizontal+=e}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:tl(n)}},[u,p,L,M,y]),[F,z]=e.useState(b),V=e.useCallback(()=>{const e=R.current;if(!e)return;const t=D(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,z(!0)},[D]);e.useEffect(()=>(C&&window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V)),[u,C,V]);e.useEffect(()=>{b&&V()}),e.useImperativeHandle(c,()=>b?{updatePosition:()=>{V()}}:null,[b,V]),e.useEffect(()=>{if(!b)return;const e=jr(()=>{V()}),t=_r(u);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[u,b,V]);let B=I;"auto"!==I||E.muiSupportAuto||(B=void 0);const U=g||(u?La(nl(u)).body:void 0),q=null!=(i=null==w?void 0:w.root)?i:rl,H=null!=(a=null==w?void 0:w.paper)?a:il,K=Fn({elementType:H,externalSlotProps:(0,o.A)({},_,{style:F?_.style:(0,o.A)({},_.style,{opacity:0})}),additionalProps:{elevation:v,ref:P},ownerState:N,className:W(O.paper,null==_?void 0:_.className)}),G=Fn({elementType:q,externalSlotProps:(null==S?void 0:S.root)||{},externalForwardedProps:j,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:U,open:b},ownerState:N,className:W(O.root,m)}),{slotProps:Q}=G,X=(0,s.A)(G,Ja);return(0,$.jsx)(q,(0,o.A)({},X,!Rn(q)&&{slotProps:Q,disableScrollLock:C},{children:(0,$.jsx)(E,(0,o.A)({appear:!0,in:b,onEntering:(e,t)=>{A&&A(e,t),V()},onExited:()=>{z(!1)},timeout:B},T,{children:(0,$.jsx)(H,(0,o.A)({},K,{children:f}))}))}))}),sl=ol;function al(e){return re("MuiMenu",e)}ie("MuiMenu",["root","paper","list"]);const ll=["onEntering"],cl=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ul={vertical:"top",horizontal:"right"},dl={vertical:"top",horizontal:"left"},hl=fe(sl,{shouldForwardProp:e=>pe(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),pl=fe(il,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),fl=fe(Ua,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),ml=e.forwardRef(function(t,n){var r,i;const a=be({props:t,name:"MuiMenu"}),{autoFocus:l=!0,children:c,className:u,disableAutoFocusItem:d=!1,MenuListProps:h={},onClose:p,open:f,PaperProps:m={},PopoverClasses:g,transitionDuration:v="auto",TransitionProps:{onEntering:y}={},variant:b="selectedMenu",slots:x={},slotProps:w={}}=a,S=(0,s.A)(a.TransitionProps,ll),k=(0,s.A)(a,cl),E=jn(),I=(0,o.A)({},a,{autoFocus:l,disableAutoFocusItem:d,MenuListProps:h,onEntering:y,PaperProps:m,transitionDuration:v,TransitionProps:S,variant:b}),A=(e=>{const{classes:t}=e;return ce({root:["root"],paper:["paper"],list:["list"]},al,t)})(I),C=l&&!d&&f,T=e.useRef(null);let j=-1;e.Children.map(c,(t,n)=>{e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===b&&t.props.selected||-1===j)&&(j=n))});const _=null!=(r=x.paper)?r:pl,R=null!=(i=w.paper)?i:m,P=Fn({elementType:x.root,externalSlotProps:w.root,ownerState:I,className:[A.root,u]}),N=Fn({elementType:_,externalSlotProps:R,ownerState:I,className:A.paper});return(0,$.jsx)(hl,(0,o.A)({onClose:p,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?ul:dl,slots:{paper:_,root:x.root},slotProps:{root:P,paper:N},open:f,ref:n,transitionDuration:v,TransitionProps:(0,o.A)({onEntering:(e,t)=>{T.current&&T.current.adjustStyleForScrollbar(e,{direction:E?"rtl":"ltr"}),y&&y(e,t)}},S),ownerState:I},k,{classes:g,children:(0,$.jsx)(fl,(0,o.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),p&&p(e,"tabKeyDown"))},actions:T,autoFocus:l&&(-1===j||d),autoFocusItem:C,variant:b},h,{className:W(A.list,h.className),children:c}))}))});function gl(e){return re("MuiNativeSelect",e)}const vl=ie("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),yl=["className","disabled","error","IconComponent","inputRef","variant"],bl=e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,o.A)({},n.vars?{backgroundColor:"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(vl.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},xl=fe("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:pe,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(vl.multiple)]:t.multiple}]}})(bl),wl=e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,["&.".concat(vl.disabled)]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},Sl=fe("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(we(n.variant))],n.open&&t.iconOpen]}})(wl),kl=e.forwardRef(function(t,n){const{className:r,disabled:i,error:a,IconComponent:l,inputRef:c,variant:u="standard"}=t,d=(0,s.A)(t,yl),h=(0,o.A)({},t,{disabled:i,variant:u,error:a}),p=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e;return ce({select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon","icon".concat(we(n)),o&&"iconOpen",r&&"disabled"]},gl,t)})(h);return(0,$.jsxs)(e.Fragment,{children:[(0,$.jsx)(xl,(0,o.A)({ownerState:h,className:W(p.select,r),disabled:i,ref:c||n},d)),t.multiple?null:(0,$.jsx)(Sl,{as:l,ownerState:h,className:p.icon})]})});function El(t){let{controlled:n,default:r,name:i,state:o="value"}=t;const{current:s}=e.useRef(void 0!==n),[a,l]=e.useState(r);return[s?n:a,e.useCallback(e=>{s||l(e)},[])]}const Il=El;function Al(e){return re("MuiSelect",e)}const Cl=ie("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Tl;const jl=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],_l=fe("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(Cl.select)]:t.select},{["&.".concat(Cl.select)]:t[n.variant]},{["&.".concat(Cl.error)]:t.error},{["&.".concat(Cl.multiple)]:t.multiple}]}})(bl,{["&.".concat(Cl.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Rl=fe("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(we(n.variant))],n.open&&t.iconOpen]}})(wl),Pl=fe("input",{shouldForwardProp:e=>he(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Nl(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Ol(e){return null==e||"string"===typeof e&&!e.trim()}const Ll=e.forwardRef(function(t,n){var r;const{"aria-describedby":i,"aria-label":l,autoFocus:c,autoWidth:u,children:d,className:h,defaultOpen:p,defaultValue:f,disabled:m,displayEmpty:g,error:v=!1,IconComponent:y,inputRef:b,labelId:x,MenuProps:w={},multiple:S,name:k,onBlur:E,onChange:I,onClose:A,onFocus:C,onOpen:T,open:j,readOnly:_,renderValue:R,SelectDisplayProps:P={},tabIndex:N,value:O,variant:L="standard"}=t,M=(0,s.A)(t,jl),[D,F]=Il({controlled:O,default:f,name:"Select"}),[z,V]=Il({controlled:j,default:p,name:"Select"}),B=e.useRef(null),U=e.useRef(null),[q,H]=e.useState(null),{current:K}=e.useRef(null!=j),[G,Q]=e.useState(),X=rt(n,b),Y=e.useCallback(e=>{U.current=e,e&&H(e)},[]),J=null==q?void 0:q.parentNode;e.useImperativeHandle(X,()=>({focus:()=>{U.current.focus()},node:B.current,value:D}),[D]),e.useEffect(()=>{p&&z&&q&&!K&&(Q(u?null:J.clientWidth),U.current.focus())},[q,u]),e.useEffect(()=>{c&&U.current.focus()},[c]),e.useEffect(()=>{if(!x)return;const e=La(U.current).getElementById(x);if(e){const t=()=>{getSelection().isCollapsed&&U.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[x]);const Z=(e,t)=>{e?T&&T(t):A&&A(t),K||(Q(u?null:J.clientWidth),V(e))},ee=e.Children.toArray(d),te=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(S){n=Array.isArray(D)?D.slice():[];const t=D.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),D!==n&&(F(n),I)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:k}}),I(i,e)}S||Z(!1,t)}},ne=null!==q&&z;let re,ie;delete M["aria-invalid"];const oe=[];let se=!1,ae=!1;(va({value:D})||g)&&(R?re=R(D):se=!0);const le=ee.map(t=>{if(!e.isValidElement(t))return null;let n;if(S){if(!Array.isArray(D))throw new Error((0,a.A)(2));n=D.some(e=>Nl(e,t.props.value)),n&&se&&oe.push(t.props.children)}else n=Nl(D,t.props.value),n&&se&&(ie=t.props.children);return n&&(ae=!0),e.cloneElement(t,{"aria-selected":n?"true":"false",onClick:te(t),onKeyUp:e=>{" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:n,value:void 0,"data-value":t.props.value})});se&&(re=S?0===oe.length?null:oe.reduce((e,t,n)=>(e.push(t),n<oe.length-1&&e.push(", "),e),[]):ie);let ue,de=G;!u&&K&&q&&(de=J.clientWidth),ue="undefined"!==typeof N?N:m?null:0;const he=P.id||(k?"mui-component-select-".concat(k):void 0),pe=(0,o.A)({},t,{variant:L,value:D,open:ne,error:v}),fe=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e;return ce({select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon","icon".concat(we(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},Al,t)})(pe),me=(0,o.A)({},w.PaperProps,null==(r=w.slotProps)?void 0:r.paper),ge=Ki();return(0,$.jsxs)(e.Fragment,{children:[(0,$.jsx)(_l,(0,o.A)({ref:Y,tabIndex:ue,role:"combobox","aria-controls":ge,"aria-disabled":m?"true":void 0,"aria-expanded":ne?"true":"false","aria-haspopup":"listbox","aria-label":l,"aria-labelledby":[x,he].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:e=>{if(!_){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),Z(!0,e))}},onMouseDown:m||_?null:e=>{0===e.button&&(e.preventDefault(),U.current.focus(),Z(!0,e))},onBlur:e=>{!ne&&E&&(Object.defineProperty(e,"target",{writable:!0,value:{value:D,name:k}}),E(e))},onFocus:C},P,{ownerState:pe,className:W(P.className,fe.select,h),id:he,children:Ol(re)?Tl||(Tl=(0,$.jsx)("span",{className:"notranslate",children:"\u200b"})):re})),(0,$.jsx)(Pl,(0,o.A)({"aria-invalid":v,value:Array.isArray(D)?D.join(","):D,name:k,ref:B,"aria-hidden":!0,onChange:e=>{const t=ee.find(t=>t.props.value===e.target.value);void 0!==t&&(F(t.props.value),I&&I(e,t))},tabIndex:-1,disabled:m,className:fe.nativeInput,autoFocus:c,ownerState:pe},M)),(0,$.jsx)(Rl,{as:y,className:fe.icon,ownerState:pe}),(0,$.jsx)(ml,(0,o.A)({id:"menu-".concat(k||""),anchorEl:J,open:ne,onClose:e=>{Z(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:(0,o.A)({"aria-labelledby":x,role:"listbox","aria-multiselectable":S?"true":void 0,disableListWrap:!0,id:ge},w.MenuListProps),slotProps:(0,o.A)({},w.slotProps,{paper:(0,o.A)({},me,{style:(0,o.A)({minWidth:de},null!=me?me.style:null)})}),children:le}))]})}),Ml=uo((0,$.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Dl=["onChange","maxRows","minRows","style","value"];function Fl(e){return parseInt(e,10)||0}const zl={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function Vl(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const Bl=e.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:a=1,style:l,value:c}=t,u=(0,s.A)(t,Dl),{current:d}=e.useRef(null!=c),h=e.useRef(null),p=nt(n,h),f=e.useRef(null),m=e.useRef(null),g=e.useCallback(()=>{const e=h.current,n=m.current;if(!e||!n)return;const r=pr(e).getComputedStyle(e);if("0px"===r.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=r.width,n.value=e.value||t.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const o=r.boxSizing,s=Fl(r.paddingBottom)+Fl(r.paddingTop),l=Fl(r.borderBottomWidth)+Fl(r.borderTopWidth),c=n.scrollHeight;n.value="x";const u=n.scrollHeight;let d=c;a&&(d=Math.max(Number(a)*u,d)),i&&(d=Math.min(Number(i)*u,d)),d=Math.max(d,u);return{outerHeightStyle:d+("border-box"===o?s+l:0),overflowing:Math.abs(d-c)<=1}},[i,a,t.placeholder]),v=ot(()=>{const e=h.current,t=g();if(!e||!t||Vl(t))return!1;const n=t.outerHeightStyle;return null!=f.current&&f.current!==n}),y=e.useCallback(()=>{const e=h.current,t=g();if(!e||!t||Vl(t))return;const n=t.outerHeightStyle;f.current!==n&&(f.current=n,e.style.height="".concat(n,"px")),e.style.overflow=t.overflowing?"hidden":""},[g]),b=e.useRef(-1);it(()=>{const e=Tr(y),t=null==h?void 0:h.current;if(!t)return;const n=pr(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver(()=>{v()&&(r.unobserve(t),cancelAnimationFrame(b.current),y(),b.current=requestAnimationFrame(()=>{r.observe(t)}))}),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(b.current),n.removeEventListener("resize",e),r&&r.disconnect()}},[g,y,v]),it(()=>{y()});return(0,$.jsxs)(e.Fragment,{children:[(0,$.jsx)("textarea",(0,o.A)({value:c,onChange:e=>{d||y(),r&&r(e)},ref:p,rows:a,style:l},u)),(0,$.jsx)("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:m,tabIndex:-1,style:(0,o.A)({},zl,l,{paddingTop:0,paddingBottom:0})})]})}),Ul=Bl;function ql(e){return re("MuiInputBase",e)}const Wl=ie("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Hl=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Kl=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(we(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Gl=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Ql=fe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Kl})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(Wl.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,o.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})}),Xl=fe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Gl})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,i=(0,o.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),s={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,o.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(Wl.formControl," &")]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},["&.".concat(Wl.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})}),Yl=(0,$.jsx)(to,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),$l=e.forwardRef(function(t,n){var r;const i=be({props:t,name:"MuiInputBase"}),{"aria-describedby":l,autoComplete:c,autoFocus:u,className:d,components:h={},componentsProps:p={},defaultValue:f,disabled:m,disableInjectingGlobalStyles:g,endAdornment:v,fullWidth:y=!1,id:b,inputComponent:x="input",inputProps:w={},inputRef:S,maxRows:k,minRows:E,multiline:I=!1,name:A,onBlur:C,onChange:T,onClick:j,onFocus:_,onKeyDown:R,onKeyUp:P,placeholder:N,readOnly:O,renderSuffix:L,rows:M,slotProps:D={},slots:F={},startAdornment:z,type:V="text",value:B}=i,U=(0,s.A)(i,Hl),q=null!=w.value?w.value:B,{current:H}=e.useRef(null!=q),K=e.useRef(),G=e.useCallback(e=>{0},[]),Q=rt(K,S,w.ref,G),[X,Y]=e.useState(!1),J=Ea();const Z=ka({props:i,muiFormControl:J,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Z.focused=J?J.focused:X,e.useEffect(()=>{!J&&m&&X&&(Y(!1),C&&C())},[J,m,X,C]);const ee=J&&J.onFilled,te=J&&J.onEmpty,ne=e.useCallback(e=>{va(e)?ee&&ee():te&&te()},[ee,te]);$r(()=>{H&&ne({value:q})},[q,ne,H]);e.useEffect(()=>{ne(K.current)},[]);let re=x,ie=w;I&&"input"===re&&(ie=M?(0,o.A)({type:void 0,minRows:M,maxRows:M},ie):(0,o.A)({type:void 0,maxRows:k,minRows:E},ie),re=Ul);e.useEffect(()=>{J&&J.setAdornedStart(Boolean(z))},[J,z]);const oe=(0,o.A)({},i,{color:Z.color||"primary",disabled:Z.disabled,endAdornment:v,error:Z.error,focused:Z.focused,formControl:J,fullWidth:y,hiddenLabel:Z.hiddenLabel,multiline:I,size:Z.size,startAdornment:z,type:V}),se=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=e;return ce({root:["root","color".concat(we(n)),r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&"size".concat(we(h)),u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]},ql,t)})(oe),ae=F.root||h.Root||Ql,le=D.root||p.root||{},ue=F.input||h.Input||Xl;return ie=(0,o.A)({},ie,null!=(r=D.input)?r:p.input),(0,$.jsxs)(e.Fragment,{children:[!g&&Yl,(0,$.jsxs)(ae,(0,o.A)({},le,!Rn(ae)&&{ownerState:(0,o.A)({},oe,le.ownerState)},{ref:n,onClick:e=>{K.current&&e.currentTarget===e.target&&K.current.focus(),j&&j(e)}},U,{className:W(se.root,le.className,d,O&&"MuiInputBase-readOnly"),children:[z,(0,$.jsx)(ya.Provider,{value:null,children:(0,$.jsx)(ue,(0,o.A)({ownerState:oe,"aria-invalid":Z.error,"aria-describedby":l,autoComplete:c,autoFocus:u,defaultValue:f,disabled:Z.disabled,id:b,onAnimationStart:e=>{ne("mui-auto-fill-cancel"===e.animationName?K.current:{value:"x"})},name:A,placeholder:N,readOnly:O,required:Z.required,rows:M,value:q,onKeyDown:R,onKeyUp:P,type:V},ie,!Rn(ue)&&{as:re,ownerState:(0,o.A)({},oe,ie.ownerState)},{ref:Q,className:W(se.input,ie.className,O&&"MuiInputBase-readOnly"),onBlur:e=>{C&&C(e),w.onBlur&&w.onBlur(e),J&&J.onBlur?J.onBlur(e):Y(!1)},onChange:function(e){if(!H){const t=e.target||K.current;if(null==t)throw new Error((0,a.A)(1));ne({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];w.onChange&&w.onChange(e,...n),T&&T(e,...n)},onFocus:e=>{Z.disabled?e.stopPropagation():(_&&_(e),w.onFocus&&w.onFocus(e),J&&J.onFocus?J.onFocus(e):Y(!0))}}))}),v,L?L((0,o.A)({},Z,{startAdornment:z})):null]}))]})}),Jl=$l;function Zl(e){return re("MuiInput",e)}const ec=(0,o.A)({},Wl,ie("MuiInput",["root","underline","input"])),tc=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],nc=fe(Ql,{shouldForwardProp:e=>pe(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Kl(e,t),!n.disableUnderline&&t.underline]}})(e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r="rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")")),(0,o.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(ec.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(ec.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(ec.disabled,", .").concat(ec.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},["&.".concat(ec.disabled,":before")]:{borderBottomStyle:"dotted"}})}),rc=fe(Xl,{name:"MuiInput",slot:"Input",overridesResolver:Gl})({}),ic=e.forwardRef(function(e,t){var n,r,i,a;const c=be({props:e,name:"MuiInput"}),{disableUnderline:u,components:d={},componentsProps:h,fullWidth:p=!1,inputComponent:f="input",multiline:m=!1,slotProps:g,slots:v={},type:y="text"}=c,b=(0,s.A)(c,tc),x=(e=>{const{classes:t,disableUnderline:n}=e,r=ce({root:["root",!n&&"underline"],input:["input"]},Zl,t);return(0,o.A)({},t,r)})(c),w={root:{ownerState:{disableUnderline:u}}},S=(null!=g?g:h)?(0,l.A)(null!=g?g:h,w):w,k=null!=(n=null!=(r=v.root)?r:d.Root)?n:nc,E=null!=(i=null!=(a=v.input)?a:d.Input)?i:rc;return(0,$.jsx)(Jl,(0,o.A)({slots:{root:k,input:E},slotProps:S,fullWidth:p,inputComponent:f,multiline:m,ref:t,type:y},b,{classes:x}))});ic.muiName="Input";const oc=ic;function sc(e){return re("MuiFilledInput",e)}const ac=(0,o.A)({},Wl,ie("MuiFilledInput",["root","underline","input"])),lc=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],cc=fe(Ql,{shouldForwardProp:e=>pe(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Kl(e,t),!n.disableUnderline&&t.underline]}})(e=>{let{theme:t,ownerState:n}=e;var r;const i="light"===t.palette.mode,s=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",c=i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,o.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},["&.".concat(ac.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},["&.".concat(ac.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:c}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat(null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(ac.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(ac.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")"):s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(ac.disabled,", .").concat(ac.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(ac.disabled,":before")]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,o.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))}),uc=fe(Xl,{name:"MuiFilledInput",slot:"Input",overridesResolver:Gl})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})}),dc=e.forwardRef(function(e,t){var n,r,i,a;const c=be({props:e,name:"MuiFilledInput"}),{components:u={},componentsProps:d,fullWidth:h=!1,inputComponent:p="input",multiline:f=!1,slotProps:m,slots:g={},type:v="text"}=c,y=(0,s.A)(c,lc),b=(0,o.A)({},c,{fullWidth:h,inputComponent:p,multiline:f,type:v}),x=(e=>{const{classes:t,disableUnderline:n}=e,r=ce({root:["root",!n&&"underline"],input:["input"]},sc,t);return(0,o.A)({},t,r)})(c),w={root:{ownerState:b},input:{ownerState:b}},S=(null!=m?m:d)?(0,l.A)(w,null!=m?m:d):w,k=null!=(n=null!=(r=g.root)?r:u.Root)?n:cc,E=null!=(i=null!=(a=g.input)?a:u.Input)?i:uc;return(0,$.jsx)(Jl,(0,o.A)({slots:{root:k,input:E},componentsProps:S,fullWidth:h,inputComponent:p,multiline:f,ref:t,type:v},y,{classes:x}))});dc.muiName="Input";const hc=dc;var pc;const fc=["children","classes","className","label","notched"],mc=fe("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:pe})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),gc=fe("legend",{name:"MuiNotchedOutlined",shouldForwardProp:pe})(e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,o.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))});function vc(e){return re("MuiOutlinedInput",e)}const yc=(0,o.A)({},Wl,ie("MuiOutlinedInput",["root","notchedOutline","input"])),bc=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],xc=fe(Ql,{shouldForwardProp:e=>pe(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:Kl})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,o.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(yc.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(yc.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):r}},["&.".concat(yc.focused," .").concat(yc.notchedOutline)]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},["&.".concat(yc.error," .").concat(yc.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(yc.disabled," .").concat(yc.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,o.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))}),wc=fe(function(e){const{className:t,label:n,notched:r}=e,i=(0,s.A)(e,fc),a=null!=n&&""!==n,l=(0,o.A)({},e,{notched:r,withLabel:a});return(0,$.jsx)(mc,(0,o.A)({"aria-hidden":!0,className:t,ownerState:l},i,{children:(0,$.jsx)(gc,{ownerState:l,children:a?(0,$.jsx)("span",{children:n}):pc||(pc=(0,$.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))},{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}}),Sc=fe(Xl,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Gl})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})}),kc=e.forwardRef(function(t,n){var r,i,a,l,c;const u=be({props:t,name:"MuiOutlinedInput"}),{components:d={},fullWidth:h=!1,inputComponent:p="input",label:f,multiline:m=!1,notched:g,slots:v={},type:y="text"}=u,b=(0,s.A)(u,bc),x=(e=>{const{classes:t}=e,n=ce({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},vc,t);return(0,o.A)({},t,n)})(u),w=Ea(),S=ka({props:u,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),k=(0,o.A)({},u,{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:w,fullWidth:h,hiddenLabel:S.hiddenLabel,multiline:m,size:S.size,type:y}),E=null!=(r=null!=(i=v.root)?i:d.Root)?r:xc,I=null!=(a=null!=(l=v.input)?l:d.Input)?a:Sc;return(0,$.jsx)(Jl,(0,o.A)({slots:{root:E,input:I},renderSuffix:t=>(0,$.jsx)(wc,{ownerState:k,className:x.notchedOutline,label:null!=f&&""!==f&&S.required?c||(c=(0,$.jsxs)(e.Fragment,{children:[f,"\u2009","*"]})):f,notched:"undefined"!==typeof g?g:Boolean(t.startAdornment||t.filled||t.focused)}),fullWidth:h,inputComponent:p,multiline:m,ref:n,type:y},b,{classes:(0,o.A)({},x,{notchedOutline:null})}))});kc.muiName="Input";const Ec=kc,Ic=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Ac=["root"],Cc={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>pe(e)&&"variant"!==e,slot:"Root"},Tc=fe(oc,Cc)(""),jc=fe(Ec,Cc)(""),_c=fe(hc,Cc)(""),Rc=e.forwardRef(function(t,n){const r=be({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:a,classes:c={},className:u,defaultOpen:d=!1,displayEmpty:h=!1,IconComponent:p=Ml,id:f,input:m,inputProps:g,label:v,labelId:y,MenuProps:b,multiple:x=!1,native:w=!1,onClose:S,onOpen:k,open:E,renderValue:I,SelectDisplayProps:A,variant:C="outlined"}=r,T=(0,s.A)(r,Ic),j=w?kl:Ll,_=ka({props:r,muiFormControl:Ea(),states:["variant","error"]}),R=_.variant||C,P=(0,o.A)({},r,{variant:R,classes:c}),N=(e=>{const{classes:t}=e;return t})(P),O=(0,s.A)(N,Ac),L=m||{standard:(0,$.jsx)(Tc,{ownerState:P}),outlined:(0,$.jsx)(jc,{label:v,ownerState:P}),filled:(0,$.jsx)(_c,{ownerState:P})}[R],M=rt(n,zn(L));return(0,$.jsx)(e.Fragment,{children:e.cloneElement(L,(0,o.A)({inputComponent:j,inputProps:(0,o.A)({children:a,error:_.error,IconComponent:p,variant:R,type:void 0,multiple:x},w?{id:f}:{autoWidth:i,defaultOpen:d,displayEmpty:h,labelId:y,MenuProps:b,onClose:S,onOpen:k,open:E,renderValue:I,SelectDisplayProps:(0,o.A)({id:f},A)},g,{classes:g?(0,l.A)(O,g.classes):O},m?m.props.inputProps:{})},(x&&w||h)&&"outlined"===R?{notched:!0}:{},{ref:M,className:W(L.props.className,u,N.root)},!m&&{variant:R},T))})});Rc.muiName="Select";const Pc=Rc;function Nc(e){return re("MuiDivider",e)}const Oc=ie("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function Lc(e){return re("MuiMenuItem",e)}const Mc=ie("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Dc=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Fc=fe(tn,{shouldForwardProp:e=>pe(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(Mc.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,p.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(Mc.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,p.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(Mc.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,p.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,p.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(Mc.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(Mc.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(Oc.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(Oc.inset)]:{marginLeft:52},["& .".concat(vi.root)]:{marginTop:0,marginBottom:0},["& .".concat(vi.inset)]:{paddingLeft:36},["& .".concat(hi.root)]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,o.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(hi.root," svg")]:{fontSize:"1.25rem"}}))}),zc=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:a="li",dense:l=!1,divider:c=!1,disableGutters:u=!1,focusVisibleClassName:d,role:h="menuitem",tabIndex:p,className:f}=r,m=(0,s.A)(r,Dc),g=e.useContext(Hr),v=e.useMemo(()=>({dense:l||g.dense||!1,disableGutters:u}),[g.dense,l,u]),y=e.useRef(null);$r(()=>{i&&y.current&&y.current.focus()},[i]);const b=(0,o.A)({},r,{dense:v.dense,divider:c,disableGutters:u}),x=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:s,classes:a}=e,l=ce({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},Lc,a);return(0,o.A)({},a,l)})(r),w=rt(y,n);let S;return r.disabled||(S=void 0!==p?p:-1),(0,$.jsx)(Hr.Provider,{value:v,children:(0,$.jsx)(Fc,(0,o.A)({ref:w,role:h,tabIndex:S,component:a,focusVisibleClassName:W(x.focusVisible,d),className:W(x.root,f)},m,{ownerState:b,classes:x}))})});function Vc(e){return re("MuiFormGroup",e)}ie("MuiFormGroup",["root","row","error"]);const Bc=["className","row"],Uc=fe("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(e=>{let{ownerState:t}=e;return(0,o.A)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})}),qc=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiFormGroup"}),{className:r,row:i=!1}=n,a=(0,s.A)(n,Bc),l=ka({props:n,muiFormControl:Ea(),states:["error"]}),c=(0,o.A)({},n,{row:i,error:l.error}),u=(e=>{const{classes:t,row:n,error:r}=e;return ce({root:["root",n&&"row",r&&"error"]},Vc,t)})(c);return(0,$.jsx)(Uc,(0,o.A)({className:W(u.root,r),ownerState:c,ref:t},a))});function Wc(e){return re("MuiRadioGroup",e)}ie("MuiRadioGroup",["root","row","error"]);const Hc=e.createContext(void 0),Kc=Ki,Gc=["actions","children","className","defaultValue","name","onChange","value"],Qc=e.forwardRef(function(t,n){const{actions:r,children:i,className:a,defaultValue:l,name:c,onChange:u,value:d}=t,h=(0,s.A)(t,Gc),p=e.useRef(null),f=(e=>{const{classes:t,row:n,error:r}=e;return ce({root:["root",n&&"row",r&&"error"]},Wc,t)})(t),[m,g]=Il({controlled:d,default:l,name:"RadioGroup"});e.useImperativeHandle(r,()=>({focus:()=>{let e=p.current.querySelector("input:not(:disabled):checked");e||(e=p.current.querySelector("input:not(:disabled)")),e&&e.focus()}}),[]);const v=rt(n,p),y=Kc(c),b=e.useMemo(()=>({name:y,onChange(e){g(e.target.value),u&&u(e,e.target.value)},value:m}),[y,u,g,m]);return(0,$.jsx)(Hc.Provider,{value:b,children:(0,$.jsx)(qc,(0,o.A)({role:"radiogroup",ref:v,className:W(f.root,a)},h,{children:i}))})});var Xc=n(8604);const Yc=["component","direction","spacing","divider","children","className","useFlexGap"],$c=(0,d.A)(),Jc=Ni("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function Zc(e){return wi({props:e,name:"MuiStack",defaultTheme:$c})}function eu(t,n){const r=e.Children.toArray(t).filter(Boolean);return r.reduce((t,i,o)=>(t.push(i),o<r.length-1&&t.push(e.cloneElement(n,{key:"separator-".concat(o)})),t),[])}const tu=e=>{let{ownerState:t,theme:n}=e,r=(0,o.A)({display:"flex",flexDirection:"column"},(0,Te.NI)({theme:n},(0,Te.kW)({values:t.direction,breakpoints:n.breakpoints.values}),e=>({flexDirection:e})));if(t.spacing){const e=(0,Xc.LX)(n),i=Object.keys(n.breakpoints.values).reduce((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e),{}),o=(0,Te.kW)({values:t.direction,base:i}),s=(0,Te.kW)({values:t.spacing,base:i});"object"===typeof o&&Object.keys(o).forEach((e,t,n)=>{if(!o[e]){const r=t>0?o[n[t-1]]:"column";o[e]=r}});const a=(n,r)=>{return t.useFlexGap?{gap:(0,Xc._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((i=r?o[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i]))]:(0,Xc._W)(e,n)}};var i};r=(0,l.A)(r,(0,Te.NI)({theme:n},s,a))}return r=(0,Te.iZ)(n.breakpoints,r),r};const nu=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=Jc,useThemeProps:r=Zc,componentName:i="MuiStack"}=t,a=n(tu),l=e.forwardRef(function(e,t){const n=r(e),l=(0,K.A)(n),{component:c="div",direction:u="column",spacing:d=0,divider:h,children:p,className:f,useFlexGap:m=!1}=l,g=(0,s.A)(l,Yc),v={direction:u,spacing:d,useFlexGap:m},y=ce({root:["root"]},e=>re(i,e),{});return(0,$.jsx)(a,(0,o.A)({as:c,ownerState:v,ref:t,className:W(y.root,f)},g,{children:h?eu(p,h):p}))});return l}({createStyledComponent:fe("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>be({props:e,name:"MuiStack"})}),ru=nu;function iu(e){return re("MuiFormControlLabel",e)}const ou=ie("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),su=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],au=fe("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(ou.label)]:t.label},t.root,t["labelPlacement".concat(we(n.labelPlacement))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(ou.disabled)]:{cursor:"default"}},"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},{["& .".concat(ou.label)]:{["&.".concat(ou.disabled)]:{color:(t.vars||t).palette.text.disabled}}})}),lu=fe("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(e=>{let{theme:t}=e;return{["&.".concat(ou.error)]:{color:(t.vars||t).palette.error.main}}}),cu=e.forwardRef(function(t,n){var r,i;const a=be({props:t,name:"MuiFormControlLabel"}),{className:l,componentsProps:c={},control:u,disabled:d,disableTypography:h,label:p,labelPlacement:f="end",required:m,slotProps:g={}}=a,v=(0,s.A)(a,su),y=Ea(),b=null!=(r=null!=d?d:u.props.disabled)?r:null==y?void 0:y.disabled,x=null!=m?m:u.props.required,w={disabled:b,required:x};["checked","name","onChange","value","inputRef"].forEach(e=>{"undefined"===typeof u.props[e]&&"undefined"!==typeof a[e]&&(w[e]=a[e])});const S=ka({props:a,muiFormControl:y,states:["error"]}),k=(0,o.A)({},a,{disabled:b,labelPlacement:f,required:x,error:S.error}),E=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:o}=e;return ce({root:["root",n&&"disabled","labelPlacement".concat(we(r)),i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]},iu,t)})(k),I=null!=(i=g.typography)?i:c.typography;let A=p;return null==A||A.type===Ce||h||(A=(0,$.jsx)(Ce,(0,o.A)({component:"span"},I,{className:W(E.label,null==I?void 0:I.className),children:A}))),(0,$.jsxs)(au,(0,o.A)({className:W(E.root,l),ownerState:k,ref:n},v,{children:[e.cloneElement(u,w),x?(0,$.jsxs)(ru,{display:"block",children:[A,(0,$.jsxs)(lu,{ownerState:k,"aria-hidden":!0,className:E.asterisk,children:["\u2009","*"]})]}):A]}))});function uu(e){return re("PrivateSwitchBase",e)}ie("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const du=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],hu=fe(tn,{name:"MuiSwitchBase"})(e=>{let{ownerState:t}=e;return(0,o.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})}),pu=fe("input",{name:"MuiSwitchBase",shouldForwardProp:pe})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),fu=e.forwardRef(function(e,t){const{autoFocus:n,checked:r,checkedIcon:i,className:a,defaultChecked:l,disabled:c,disableFocusRipple:u=!1,edge:d=!1,icon:h,id:p,inputProps:f,inputRef:m,name:g,onBlur:v,onChange:y,onFocus:b,readOnly:x,required:w=!1,tabIndex:S,type:k,value:E}=e,I=(0,s.A)(e,du),[A,C]=Il({controlled:r,default:Boolean(l),name:"SwitchBase",state:"checked"}),T=Ea();let j=c;T&&"undefined"===typeof j&&(j=T.disabled);const _="checkbox"===k||"radio"===k,R=(0,o.A)({},e,{checked:A,disabled:j,disableFocusRipple:u,edge:d}),P=(e=>{const{classes:t,checked:n,disabled:r,edge:i}=e;return ce({root:["root",n&&"checked",r&&"disabled",i&&"edge".concat(we(i))],input:["input"]},uu,t)})(R);return(0,$.jsxs)(hu,(0,o.A)({component:"span",className:W(P.root,a),centerRipple:!0,focusRipple:!u,disabled:j,tabIndex:null,role:void 0,onFocus:e=>{b&&b(e),T&&T.onFocus&&T.onFocus(e)},onBlur:e=>{v&&v(e),T&&T.onBlur&&T.onBlur(e)},ownerState:R,ref:t},I,{children:[(0,$.jsx)(pu,(0,o.A)({autoFocus:n,checked:r,defaultChecked:l,className:P.input,disabled:j,id:_?p:void 0,name:g,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;C(t),y&&y(e,t)},readOnly:x,ref:m,required:w,ownerState:R,tabIndex:S,type:k},"checkbox"===k&&void 0===E?{}:{value:E},f)),A?i:h]}))}),mu=uo((0,$.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),gu=uo((0,$.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),vu=fe("span",{name:"MuiRadioButtonIcon",shouldForwardProp:pe})({position:"relative",display:"flex"}),yu=fe(mu,{name:"MuiRadioButtonIcon"})({transform:"scale(1)"}),bu=fe(gu,{name:"MuiRadioButtonIcon"})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})});const xu=function(e){const{checked:t=!1,classes:n={},fontSize:r}=e,i=(0,o.A)({},e,{checked:t});return(0,$.jsxs)(vu,{className:n.root,ownerState:i,children:[(0,$.jsx)(yu,{fontSize:r,className:n.background,ownerState:i}),(0,$.jsx)(bu,{fontSize:r,className:n.dot,ownerState:i})]})},wu=hr;function Su(e){return re("MuiRadio",e)}const ku=ie("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),Eu=["checked","checkedIcon","color","icon","name","onChange","size","className"],Iu=fe(fu,{shouldForwardProp:e=>pe(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"medium"!==n.size&&t["size".concat(we(n.size))],t["color".concat(we(n.color))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,p.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(ku.checked)]:{color:(t.vars||t).palette[n.color].main}},{["&.".concat(ku.disabled)]:{color:(t.vars||t).palette.action.disabled}})});const Au=(0,$.jsx)(xu,{checked:!0}),Cu=(0,$.jsx)(xu,{}),Tu=e.forwardRef(function(t,n){var r,i;const a=be({props:t,name:"MuiRadio"}),{checked:l,checkedIcon:c=Au,color:u="primary",icon:d=Cu,name:h,onChange:p,size:f="medium",className:m}=a,g=(0,s.A)(a,Eu),v=(0,o.A)({},a,{color:u,size:f}),y=(e=>{const{classes:t,color:n,size:r}=e,i={root:["root","color".concat(we(n)),"medium"!==r&&"size".concat(we(r))]};return(0,o.A)({},t,ce(i,Su,t))})(v),b=e.useContext(Hc);let x=l;const w=wu(p,b&&b.onChange);let S=h;var k,E;return b&&("undefined"===typeof x&&(k=b.value,x="object"===typeof(E=a.value)&&null!==E?k===E:String(k)===String(E)),"undefined"===typeof S&&(S=b.name)),(0,$.jsx)(Iu,(0,o.A)({type:"radio",icon:e.cloneElement(d,{fontSize:null!=(r=Cu.props.fontSize)?r:f}),checkedIcon:e.cloneElement(c,{fontSize:null!=(i=Au.props.fontSize)?i:f}),ownerState:v,classes:y,name:S,checked:x,onChange:w,ref:n,className:W(y.root,m)},g))}),ju=uo((0,$.jsx)("path",{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.3 3-3.4 3-5.7 0-3.9-3.1-7-7-7"}),"Lightbulb"),_u=uo((0,$.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),Ru=t=>{var n;let{question:r,onAnswer:i,showExplanation:o=!0}=t;const[s,a]=(0,e.useState)(""),[l,c]=(0,e.useState)(!1),[u]=(0,e.useState)(()=>Date.now()),d=l&&s===r.correctAnswer;l&&r.correctAnswer;return(0,$.jsx)(Ye,{elevation:3,sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:r.text}),r.grammarFocus&&r.grammarFocus.length>0&&(0,$.jsx)(le,{sx:{display:"flex",gap:1,mt:2,flexWrap:"wrap"},children:r.grammarFocus.map((e,t)=>(0,$.jsx)(ys,{label:e,size:"small",color:"primary",variant:"outlined",icon:(0,$.jsx)(ju,{})},t))})]}),(0,$.jsx)(Sa,{component:"fieldset",fullWidth:!0,disabled:l,children:(0,$.jsx)(Qc,{value:s,onChange:e=>a(e.target.value),children:null===(n=r.options)||void 0===n?void 0:n.map((e,t)=>(0,$.jsx)(cu,{value:e,control:(0,$.jsx)(Tu,{}),label:(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$.jsx)(Ce,{children:e}),l&&e===r.correctAnswer&&(0,$.jsx)(ha,{color:"success",fontSize:"small"}),l&&e===s&&e!==r.correctAnswer&&(0,$.jsx)(_u,{color:"error",fontSize:"small"})]}),sx:{p:2,mb:1,border:1,borderColor:l&&e===r.correctAnswer?"success.main":l&&e===s?"error.main":"grey.300",borderRadius:2,bgcolor:l&&e===r.correctAnswer?"success.light":l&&e===s?"error.light":"transparent"}},t))})}),!l&&(0,$.jsx)(hn,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{const e=s===r.correctAnswer,t=Math.floor((Date.now()-u)/1e3);c(!0),i(s,e,t)},disabled:!s,sx:{mt:3},children:"Valider la r\xe9ponse"}),l&&(0,$.jsxs)(le,{sx:{mt:3},children:[(0,$.jsx)(Ms,{severity:d?"success":"error",icon:d?(0,$.jsx)(ha,{}):(0,$.jsx)(_u,{}),children:(0,$.jsx)(Ce,{variant:"subtitle2",children:d?"Bonne r\xe9ponse !":"R\xe9ponse incorrecte"})}),o&&(0,$.jsxs)(le,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Explication :"}),(0,$.jsx)(Ce,{variant:"body2",children:r.explanation})]})]})]})})};function Pu(e){return re("MuiFormHelperText",e)}const Nu=ie("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Ou;const Lu=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Mu=fe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat(we(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(Nu.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(Nu.error)]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})}),Du=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:a="p"}=n,l=(0,s.A)(n,Lu),c=ka({props:n,muiFormControl:Ea(),states:["variant","size","disabled","error","filled","focused","required"]}),u=(0,o.A)({},n,{component:a,contained:"filled"===c.variant||"outlined"===c.variant,variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=e;return ce({root:["root",i&&"disabled",o&&"error",r&&"size".concat(we(r)),n&&"contained",a&&"focused",s&&"filled",l&&"required"]},Pu,t)})(u);return(0,$.jsx)(Mu,(0,o.A)({as:a,ownerState:u,className:W(d.root,i),ref:t},l,{children:" "===r?Ou||(Ou=(0,$.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))});function Fu(e){return re("MuiTextField",e)}ie("MuiTextField",["root"]);const zu=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Vu={standard:oc,filled:hc,outlined:Ec},Bu=fe(Sa,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Uu=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:a,className:l,color:c="primary",defaultValue:u,disabled:d=!1,error:h=!1,FormHelperTextProps:p,fullWidth:f=!1,helperText:m,id:g,InputLabelProps:v,inputProps:y,InputProps:b,inputRef:x,label:w,maxRows:S,minRows:k,multiline:E=!1,name:I,onBlur:A,onChange:C,onFocus:T,placeholder:j,required:_=!1,rows:R,select:P=!1,SelectProps:N,type:O,value:L,variant:M="outlined"}=n,D=(0,s.A)(n,zu),F=(0,o.A)({},n,{autoFocus:i,color:c,disabled:d,error:h,fullWidth:f,multiline:E,required:_,select:P,variant:M}),z=(e=>{const{classes:t}=e;return ce({root:["root"]},Fu,t)})(F);const V={};"outlined"===M&&(v&&"undefined"!==typeof v.shrink&&(V.notched=v.shrink),V.label=w),P&&(N&&N.native||(V.id=void 0),V["aria-describedby"]=void 0);const B=Ki(g),U=m&&B?"".concat(B,"-helper-text"):void 0,q=w&&B?"".concat(B,"-label"):void 0,H=Vu[M],K=(0,$.jsx)(H,(0,o.A)({"aria-describedby":U,autoComplete:r,autoFocus:i,defaultValue:u,fullWidth:f,multiline:E,name:I,rows:R,maxRows:S,minRows:k,type:O,value:L,id:B,inputRef:x,onBlur:A,onChange:C,onFocus:T,placeholder:j,inputProps:y},V,b));return(0,$.jsxs)(Bu,(0,o.A)({className:W(z.root,l),disabled:d,error:h,fullWidth:f,ref:t,required:_,color:c,variant:M,ownerState:F},D,{children:[null!=w&&""!==w&&(0,$.jsx)(Oa,(0,o.A)({htmlFor:B,id:q},v,{children:w})),P?(0,$.jsx)(Pc,(0,o.A)({"aria-describedby":U,id:B,labelId:q,value:L,input:K},N,{children:a})):K,m&&(0,$.jsx)(Du,(0,o.A)({id:U},p,{children:m}))]}))}),qu=t=>{let{question:n,onAnswer:r,showExplanation:i=!0}=t;const[o,s]=(0,e.useState)(""),[a,l]=(0,e.useState)(!1),[c]=(0,e.useState)(()=>Date.now()),u=a&&o.trim().toLowerCase()===(Array.isArray(n.correctAnswer)?n.correctAnswer[0]:n.correctAnswer).toLowerCase();return(0,$.jsx)(Ye,{elevation:3,sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Compl\xe9tez le texte \xe0 trous"}),n.grammarFocus&&n.grammarFocus.length>0&&(0,$.jsx)(le,{sx:{display:"flex",gap:1,mt:2,mb:3,flexWrap:"wrap"},children:n.grammarFocus.map((e,t)=>(0,$.jsx)(ys,{label:e,size:"small",color:"primary",variant:"outlined",icon:(0,$.jsx)(ju,{})},t))}),(0,$.jsx)(le,{sx:{p:3,bgcolor:"grey.50",borderRadius:2,fontSize:"1.1rem",lineHeight:2},children:(0,$.jsx)(Ce,{component:"div",variant:"body1",children:(t=>{const n=t.split("___");return n.map((t,r)=>(0,$.jsxs)(e.Fragment,{children:[t,r<n.length-1&&(0,$.jsx)(Uu,{size:"small",variant:"outlined",disabled:a,value:o,onChange:e=>s(e.target.value),sx:{mx:1,minWidth:150,"& .MuiOutlinedInput-root":{bgcolor:a?u?"success.light":"error.light":"white"}}})]},r))})(n.text)})})]}),!a&&(0,$.jsx)(hn,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{const e=Array.isArray(n.correctAnswer)?n.correctAnswer[0]:n.correctAnswer,t=o.trim().toLowerCase()===e.toLowerCase(),i=Math.floor((Date.now()-c)/1e3);l(!0),r(o,t,i)},disabled:!o.trim(),sx:{mt:3},children:"Valider la r\xe9ponse"}),a&&(0,$.jsxs)(le,{sx:{mt:3},children:[(0,$.jsxs)(Ms,{severity:u?"success":"error",icon:u?(0,$.jsx)(ha,{}):(0,$.jsx)(_u,{}),children:[(0,$.jsx)(Ce,{variant:"subtitle2",children:u?"Bonne r\xe9ponse !":"R\xe9ponse incorrecte"}),!u&&(0,$.jsxs)(Ce,{variant:"body2",sx:{mt:1},children:["La r\xe9ponse correcte \xe9tait : ",(0,$.jsx)("strong",{children:n.correctAnswer})]})]}),i&&(0,$.jsxs)(le,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Explication :"}),(0,$.jsx)(Ce,{variant:"body2",children:n.explanation})]})]})]})})},Wu=t=>{var n;let{question:r,onAnswer:i,audioUrl:o,transcript:s,showExplanation:a=!0}=t;const[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(!1),[h]=(0,e.useState)(()=>Date.now()),[p,f]=(0,e.useState)(!1),m=(0,e.useRef)(null),g=u&&l===r.correctAnswer;u&&r.correctAnswer;return(0,$.jsx)(Ye,{elevation:3,sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:r.text}),r.grammarFocus&&r.grammarFocus.length>0&&(0,$.jsx)(le,{sx:{display:"flex",gap:1,mt:2,flexWrap:"wrap"},children:r.grammarFocus.map((e,t)=>(0,$.jsx)(ys,{label:e,size:"small",color:"primary",variant:"outlined"},t))}),o&&(0,$.jsxs)(le,{sx:{mt:3,mb:2,p:2,bgcolor:"primary.light",borderRadius:2,border:2,borderColor:"primary.main"},children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,$.jsx)(Ce,{variant:"h6",sx:{color:"white",flexGrow:1},children:"Audio"}),(0,$.jsx)("audio",{ref:m,src:o,controls:!0,style:{flexGrow:1,maxWidth:"400px"},onPlay:()=>f(!0),onPause:()=>f(!1),onEnded:()=>f(!1)})]}),(0,$.jsx)(Ce,{variant:"caption",sx:{display:"block",mt:1,color:"white"},children:"\ud83d\udca1 \xc9coutez attentivement l'audio avant de r\xe9pondre"})]}),s&&!u&&(0,$.jsx)(Ms,{severity:"info",sx:{mt:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Conseil :"})," \xc9coutez l'audio attentivement. La transcription sera disponible apr\xe8s avoir r\xe9pondu."]})}),s&&u&&(0,$.jsxs)(le,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Transcription :"}),(0,$.jsx)(Ce,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:s})]})]}),(0,$.jsx)(Sa,{component:"fieldset",fullWidth:!0,disabled:u,children:(0,$.jsx)(Qc,{value:l,onChange:e=>c(e.target.value),children:null===(n=r.options)||void 0===n?void 0:n.map((e,t)=>(0,$.jsx)(cu,{value:e,control:(0,$.jsx)(Tu,{}),label:(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$.jsx)(Ce,{children:e}),u&&e===r.correctAnswer&&(0,$.jsx)(ha,{color:"success",fontSize:"small"}),u&&e===l&&e!==r.correctAnswer&&(0,$.jsx)(_u,{color:"error",fontSize:"small"})]}),sx:{p:2,mb:1,border:1,borderColor:u&&e===r.correctAnswer?"success.main":u&&e===l?"error.main":"grey.300",borderRadius:2,bgcolor:u&&e===r.correctAnswer?"success.light":u&&e===l?"error.light":"transparent"}},t))})}),!u&&(0,$.jsx)(hn,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{const e=l===r.correctAnswer,t=Math.floor((Date.now()-h)/1e3);d(!0),i(l,e,t)},disabled:!l,sx:{mt:3},children:"Valider la r\xe9ponse"}),u&&(0,$.jsxs)(le,{sx:{mt:3},children:[(0,$.jsx)(Ms,{severity:g?"success":"error",icon:g?(0,$.jsx)(ha,{}):(0,$.jsx)(_u,{}),children:(0,$.jsx)(Ce,{variant:"subtitle2",children:g?"Bonne r\xe9ponse !":"R\xe9ponse incorrecte"})}),a&&(0,$.jsxs)(le,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Explication :"}),(0,$.jsx)(Ce,{variant:"body2",children:r.explanation})]})]})]})})},Hu=t=>{var n;let{question:r,onAnswer:i,text:o,showExplanation:s=!0}=t;const[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(!1),[d]=(0,e.useState)(()=>Date.now()),h=c&&a===r.correctAnswer;c&&r.correctAnswer;return(0,$.jsx)(Ye,{elevation:3,sx:{mb:3},children:(0,$.jsxs)(et,{children:[o&&(0,$.jsx)(le,{sx:{mb:3,p:3,bgcolor:"grey.50",borderRadius:2},children:(0,$.jsx)(Ce,{variant:"body1",sx:{whiteSpace:"pre-wrap",lineHeight:1.8},children:o})}),(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:r.text}),r.grammarFocus&&r.grammarFocus.length>0&&(0,$.jsx)(le,{sx:{display:"flex",gap:1,mt:2,flexWrap:"wrap"},children:r.grammarFocus.map((e,t)=>(0,$.jsx)(ys,{label:e,size:"small",color:"primary",variant:"outlined"},t))})]}),(0,$.jsx)(Sa,{component:"fieldset",fullWidth:!0,disabled:c,children:(0,$.jsx)(Qc,{value:a,onChange:e=>l(e.target.value),children:null===(n=r.options)||void 0===n?void 0:n.map((e,t)=>(0,$.jsx)(cu,{value:e,control:(0,$.jsx)(Tu,{}),label:(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$.jsx)(Ce,{children:e}),c&&e===r.correctAnswer&&(0,$.jsx)(ha,{color:"success",fontSize:"small"}),c&&e===a&&e!==r.correctAnswer&&(0,$.jsx)(_u,{color:"error",fontSize:"small"})]}),sx:{p:2,mb:1,border:1,borderColor:c&&e===r.correctAnswer?"success.main":c&&e===a?"error.main":"grey.300",borderRadius:2,bgcolor:c&&e===r.correctAnswer?"success.light":c&&e===a?"error.light":"transparent"}},t))})}),!c&&(0,$.jsx)(hn,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{const e=a===r.correctAnswer,t=Math.floor((Date.now()-d)/1e3);u(!0),i(a,e,t)},disabled:!a,sx:{mt:3},children:"Valider la r\xe9ponse"}),c&&(0,$.jsxs)(le,{sx:{mt:3},children:[(0,$.jsx)(Ms,{severity:h?"success":"error",icon:h?(0,$.jsx)(ha,{}):(0,$.jsx)(_u,{}),children:(0,$.jsx)(Ce,{variant:"subtitle2",children:h?"Bonne r\xe9ponse !":"R\xe9ponse incorrecte"})}),s&&(0,$.jsxs)(le,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Explication :"}),(0,$.jsx)(Ce,{variant:"body2",children:r.explanation})]})]})]})})};var Ku=n(2374);function Gu(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Qu(e){return e instanceof Gu(e).Element||e instanceof Element}function Xu(e){return e instanceof Gu(e).HTMLElement||e instanceof HTMLElement}function Yu(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Gu(e).ShadowRoot||e instanceof ShadowRoot)}var $u=Math.max,Ju=Math.min,Zu=Math.round;function ed(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function td(){return!/^((?!chrome|android).)*safari/i.test(ed())}function nd(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Xu(e)&&(i=e.offsetWidth>0&&Zu(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Zu(r.height)/e.offsetHeight||1);var s=(Qu(e)?Gu(e):window).visualViewport,a=!td()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/i,c=(r.top+(a&&s?s.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function rd(e){var t=Gu(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function id(e){return e?(e.nodeName||"").toLowerCase():null}function od(e){return((Qu(e)?e.ownerDocument:e.document)||window.document).documentElement}function sd(e){return nd(od(e)).left+rd(e).scrollLeft}function ad(e){return Gu(e).getComputedStyle(e)}function ld(e){var t=ad(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function cd(e,t,n){void 0===n&&(n=!1);var r=Xu(t),i=Xu(t)&&function(e){var t=e.getBoundingClientRect(),n=Zu(t.width)/e.offsetWidth||1,r=Zu(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=od(t),s=nd(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==id(t)||ld(o))&&(a=function(e){return e!==Gu(e)&&Xu(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:rd(e);var t}(t)),Xu(t)?((l=nd(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=sd(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function ud(e){var t=nd(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function dd(e){return"html"===id(e)?e:e.assignedSlot||e.parentNode||(Yu(e)?e.host:null)||od(e)}function hd(e){return["html","body","#document"].indexOf(id(e))>=0?e.ownerDocument.body:Xu(e)&&ld(e)?e:hd(dd(e))}function pd(e,t){var n;void 0===t&&(t=[]);var r=hd(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Gu(r),s=i?[o].concat(o.visualViewport||[],ld(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(pd(dd(s)))}function fd(e){return["table","td","th"].indexOf(id(e))>=0}function md(e){return Xu(e)&&"fixed"!==ad(e).position?e.offsetParent:null}function gd(e){for(var t=Gu(e),n=md(e);n&&fd(n)&&"static"===ad(n).position;)n=md(n);return n&&("html"===id(n)||"body"===id(n)&&"static"===ad(n).position)?t:n||function(e){var t=/firefox/i.test(ed());if(/Trident/i.test(ed())&&Xu(e)&&"fixed"===ad(e).position)return null;var n=dd(e);for(Yu(n)&&(n=n.host);Xu(n)&&["html","body"].indexOf(id(n))<0;){var r=ad(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var vd="top",yd="bottom",bd="right",xd="left",wd="auto",Sd=[vd,yd,bd,xd],kd="start",Ed="end",Id="viewport",Ad="popper",Cd=Sd.reduce(function(e,t){return e.concat([t+"-"+kd,t+"-"+Ed])},[]),Td=[].concat(Sd,[wd]).reduce(function(e,t){return e.concat([t,t+"-"+kd,t+"-"+Ed])},[]),jd=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function _d(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||i(e)}),r}function Rd(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var Pd={placement:"bottom",modifiers:[],strategy:"absolute"};function Nd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function Od(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?Pd:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Pd,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:Qu(e)?pd(e):e.contextElement?pd(e.contextElement):[],popper:pd(t)};var u=function(e){var t=_d(e);return jd.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter(function(e){return e.enabled}),i.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var a=o({state:i,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}}),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(Nd(t,n)){i.rects={reference:cd(t,gd(n),"fixed"===i.options.strategy),popper:ud(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach(function(e){return i.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"===typeof s&&(i=s({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:Rd(function(){return new Promise(function(e){l.forceUpdate(),e(i)})}),destroy:function(){c(),a=!0}};if(!Nd(e,t))return l;function c(){s.forEach(function(e){return e()}),s=[]}return l.setOptions(n).then(function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)}),l}}var Ld={passive:!0};function Md(e){return e.split("-")[0]}function Dd(e){return e.split("-")[1]}function Fd(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function zd(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?Md(i):null,s=i?Dd(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case vd:t={x:a,y:n.y-r.height};break;case yd:t={x:a,y:n.y+n.height};break;case bd:t={x:n.x+n.width,y:l};break;case xd:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?Fd(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case kd:t[c]=t[c]-(n[u]/2-r[u]/2);break;case Ed:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var Vd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Bd(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,p=void 0===h?0:h,f=s.y,m=void 0===f?0:f,g="function"===typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=xd,x=vd,w=window;if(c){var S=gd(n),k="clientHeight",E="clientWidth";if(S===Gu(n)&&"static"!==ad(S=od(n)).position&&"absolute"===a&&(k="scrollHeight",E="scrollWidth"),i===vd||(i===xd||i===bd)&&o===Ed)x=yd,m-=(d&&S===w&&w.visualViewport?w.visualViewport.height:S[k])-r.height,m*=l?1:-1;if(i===xd||(i===vd||i===yd)&&o===Ed)b=bd,p-=(d&&S===w&&w.visualViewport?w.visualViewport.width:S[E])-r.width,p*=l?1:-1}var I,A=Object.assign({position:a},c&&Vd),C=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Zu(n*i)/i||0,y:Zu(r*i)/i||0}}({x:p,y:m},Gu(n)):{x:p,y:m};return p=C.x,m=C.y,l?Object.assign({},A,((I={})[x]=y?"0":"",I[b]=v?"0":"",I.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",I)):Object.assign({},A,((t={})[x]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const Ud={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];Xu(i)&&id(i)&&(Object.assign(i.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});Xu(r)&&id(r)&&(Object.assign(r.style,o),Object.keys(i).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]};const qd={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=Td.reduce(function(e,n){return e[n]=function(e,t,n){var r=Md(e),i=[xd,vd].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[xd,bd].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e},{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var Wd={left:"right",right:"left",bottom:"top",top:"bottom"};function Hd(e){return e.replace(/left|right|bottom|top/g,function(e){return Wd[e]})}var Kd={start:"end",end:"start"};function Gd(e){return e.replace(/start|end/g,function(e){return Kd[e]})}function Qd(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Yu(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Xd(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Yd(e,t,n){return t===Id?Xd(function(e,t){var n=Gu(e),r=od(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=td();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+sd(e),y:l}}(e,n)):Qu(t)?function(e,t){var n=nd(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Xd(function(e){var t,n=od(e),r=rd(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=$u(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=$u(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+sd(e),l=-r.scrollTop;return"rtl"===ad(i||n).direction&&(a+=$u(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(od(e)))}function $d(e,t,n,r){var i="clippingParents"===t?function(e){var t=pd(dd(e)),n=["absolute","fixed"].indexOf(ad(e).position)>=0&&Xu(e)?gd(e):e;return Qu(n)?t.filter(function(e){return Qu(e)&&Qd(e,n)&&"body"!==id(e)}):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(t,n){var i=Yd(e,n,r);return t.top=$u(i.top,t.top),t.right=Ju(i.right,t.right),t.bottom=Ju(i.bottom,t.bottom),t.left=$u(i.left,t.left),t},Yd(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Jd(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Zd(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function eh(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,u=void 0===c?Id:c,d=n.elementContext,h=void 0===d?Ad:d,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,v=Jd("number"!==typeof g?g:Zd(g,Sd)),y=h===Ad?"reference":Ad,b=e.rects.popper,x=e.elements[f?y:h],w=$d(Qu(x)?x:x.contextElement||od(e.elements.popper),l,u,s),S=nd(e.elements.reference),k=zd({reference:S,element:b,strategy:"absolute",placement:i}),E=Xd(Object.assign({},b,k)),I=h===Ad?E:S,A={top:w.top-I.top+v.top,bottom:I.bottom-w.bottom+v.bottom,left:w.left-I.left+v.left,right:I.right-w.right+v.right},C=e.modifiersData.offset;if(h===Ad&&C){var T=C[i];Object.keys(A).forEach(function(e){var t=[bd,yd].indexOf(e)>=0?1:-1,n=[vd,yd].indexOf(e)>=0?"y":"x";A[e]+=T[n]*t})}return A}function th(e,t,n){return $u(e,Ju(t,n))}const nh={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=eh(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Md(t.placement),y=Dd(t.placement),b=!y,x=Fd(v),w="x"===x?"y":"x",S=t.modifiersData.popperOffsets,k=t.rects.reference,E=t.rects.popper,I="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,A="number"===typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(S){if(o){var j,_="y"===x?vd:xd,R="y"===x?yd:bd,P="y"===x?"height":"width",N=S[x],O=N+g[_],L=N-g[R],M=p?-E[P]/2:0,D=y===kd?k[P]:E[P],F=y===kd?-E[P]:-k[P],z=t.elements.arrow,V=p&&z?ud(z):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=B[_],q=B[R],W=th(0,k[P],V[P]),H=b?k[P]/2-M-W-U-A.mainAxis:D-W-U-A.mainAxis,K=b?-k[P]/2+M+W+q+A.mainAxis:F+W+q+A.mainAxis,G=t.elements.arrow&&gd(t.elements.arrow),Q=G?"y"===x?G.clientTop||0:G.clientLeft||0:0,X=null!=(j=null==C?void 0:C[x])?j:0,Y=N+K-X,$=th(p?Ju(O,N+H-X-Q):O,N,p?$u(L,Y):L);S[x]=$,T[x]=$-N}if(a){var J,Z="x"===x?vd:xd,ee="x"===x?yd:bd,te=S[w],ne="y"===w?"height":"width",re=te+g[Z],ie=te-g[ee],oe=-1!==[vd,xd].indexOf(v),se=null!=(J=null==C?void 0:C[w])?J:0,ae=oe?re:te-k[ne]-E[ne]-se+A.altAxis,le=oe?te+k[ne]+E[ne]-se-A.altAxis:ie,ce=p&&oe?function(e,t,n){var r=th(e,t,n);return r>n?n:r}(ae,te,le):th(p?ae:re,te,p?le:ie);S[w]=ce,T[w]=ce-te}t.modifiersData[r]=T}},requiresIfExists:["offset"]};const rh={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Md(n.placement),l=Fd(a),c=[xd,bd].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return Jd("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Zd(e,Sd))}(i.padding,n),d=ud(o),h="y"===l?vd:xd,p="y"===l?yd:bd,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=gd(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,b=u[h],x=v-d[c]-u[p],w=v/2-d[c]/2+y,S=th(b,w,x),k=l;n.modifiersData[r]=((t={})[k]=S,t.centerOffset=S-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Qd(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ih(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function oh(e){return[vd,bd,yd,xd].some(function(t){return e[t]>=0})}var sh=Od({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=Gu(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(e){e.addEventListener("scroll",n.update,Ld)}),a&&l.addEventListener("resize",n.update,Ld),function(){o&&c.forEach(function(e){e.removeEventListener("scroll",n.update,Ld)}),a&&l.removeEventListener("resize",n.update,Ld)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=zd({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:Md(t.placement),variation:Dd(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Bd(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Bd(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Ud,qd,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=Md(g),y=l||(v===g||!f?[Hd(g)]:function(e){if(Md(e)===wd)return[];var t=Hd(e);return[Gd(e),t,Gd(t)]}(g)),b=[g].concat(y).reduce(function(e,n){return e.concat(Md(n)===wd?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Td:l,u=Dd(r),d=u?a?Cd:Cd.filter(function(e){return Dd(e)===u}):Sd,h=d.filter(function(e){return c.indexOf(e)>=0});0===h.length&&(h=d);var p=h.reduce(function(t,n){return t[n]=eh(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[Md(n)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)},[]),x=t.rects.reference,w=t.rects.popper,S=new Map,k=!0,E=b[0],I=0;I<b.length;I++){var A=b[I],C=Md(A),T=Dd(A)===kd,j=[vd,yd].indexOf(C)>=0,_=j?"width":"height",R=eh(t,{placement:A,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),P=j?T?bd:xd:T?yd:vd;x[_]>w[_]&&(P=Hd(P));var N=Hd(P),O=[];if(o&&O.push(R[C]<=0),a&&O.push(R[P]<=0,R[N]<=0),O.every(function(e){return e})){E=A,k=!1;break}S.set(A,O)}if(k)for(var L=function(e){var t=b.find(function(t){var n=S.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return E=t,"break"},M=f?3:1;M>0;M--){if("break"===L(M))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},nh,rh,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=eh(t,{elementContext:"reference"}),a=eh(t,{altBoundary:!0}),l=ih(s,r),c=ih(a,i,o),u=oh(l),d=oh(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});function ah(e){return re("MuiPopper",e)}ie("MuiPopper",["root"]);const lh=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],ch=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function uh(e){return"function"===typeof e?e():e}function dh(e){return void 0!==e.nodeType}const hh={},ph=e.forwardRef(function(t,n){var r;const{anchorEl:i,children:a,direction:l,disablePortal:c,modifiers:u,open:d,placement:h,popperOptions:p,popperRef:f,slotProps:m={},slots:g={},TransitionProps:v}=t,y=(0,s.A)(t,lh),b=e.useRef(null),x=nt(b,n),w=e.useRef(null),S=nt(w,f),k=e.useRef(S);it(()=>{k.current=S},[S]),e.useImperativeHandle(f,()=>w.current,[]);const E=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(h,l),[I,A]=e.useState(E),[C,T]=e.useState(uh(i));e.useEffect(()=>{w.current&&w.current.forceUpdate()}),e.useEffect(()=>{i&&T(uh(i))},[i]),it(()=>{if(!C||!d)return;let e=[{name:"preventOverflow",options:{altBoundary:c}},{name:"flip",options:{altBoundary:c}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;A(t.placement)}}];null!=u&&(e=e.concat(u)),p&&null!=p.modifiers&&(e=e.concat(p.modifiers));const t=sh(C,b.current,(0,o.A)({placement:E},p,{modifiers:e}));return k.current(t),()=>{t.destroy(),k.current(null)}},[C,c,u,d,p,E]);const j={placement:I};null!==v&&(j.TransitionProps=v);const _=(e=>{const{classes:t}=e;return ce({root:["root"]},ah,t)})(t),R=null!=(r=g.root)?r:"div",P=Fn({elementType:R,externalSlotProps:m.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:x},ownerState:t,className:_.root});return(0,$.jsx)(R,(0,o.A)({},P,{children:"function"===typeof a?a(j):a}))}),fh=e.forwardRef(function(t,n){const{anchorEl:r,children:i,container:a,direction:l="ltr",disablePortal:c=!1,keepMounted:u=!1,modifiers:d,open:h,placement:p="bottom",popperOptions:f=hh,popperRef:m,style:g,transition:v=!1,slotProps:y={},slots:b={}}=t,x=(0,s.A)(t,ch),[w,S]=e.useState(!0);if(!u&&!h&&(!v||w))return null;let k;if(a)k=a;else if(r){const e=uh(r);k=e&&dh(e)?Vn(e).body:Vn(null).body}const E=h||!u||v&&!w?void 0:"none",I=v?{in:h,onEnter:()=>{S(!1)},onExited:()=>{S(!0)}}:void 0;return(0,$.jsx)(Kn,{disablePortal:c,container:k,children:(0,$.jsx)(ph,(0,o.A)({anchorEl:r,direction:l,disablePortal:c,modifiers:d,ref:n,open:v?!w:h,placement:p,popperOptions:f,popperRef:m,slotProps:y,slots:b},x,{style:(0,o.A)({position:"fixed",top:0,left:0,display:E},g),TransitionProps:I,children:i}))})}),mh=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],gh=fe(fh,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),vh=e.forwardRef(function(e,t){var n;const r=(0,Ku.A)(),i=be({props:e,name:"MuiPopper"}),{anchorEl:a,component:l,components:c,componentsProps:u,container:d,disablePortal:h,keepMounted:p,modifiers:f,open:m,placement:g,popperOptions:v,popperRef:y,transition:b,slots:x,slotProps:w}=i,S=(0,s.A)(i,mh),k=null!=(n=null==x?void 0:x.root)?n:null==c?void 0:c.Root,E=(0,o.A)({anchorEl:a,container:d,disablePortal:h,keepMounted:p,modifiers:f,open:m,placement:g,popperOptions:v,popperRef:y,transition:b},S);return(0,$.jsx)(gh,(0,o.A)({as:l,direction:null==r?void 0:r.direction,slots:{root:k},slotProps:null!=w?w:u},E,{ref:t}))}),yh=vh;function bh(e){return re("MuiTooltip",e)}const xh=ie("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),wh=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const Sh=fe(yh,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(e=>{let{theme:t,ownerState:n,open:r}=e;return(0,o.A)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},n.arrow&&{['&[data-popper-placement*="bottom"] .'.concat(xh.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(xh.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(xh.arrow)]:(0,o.A)({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),['&[data-popper-placement*="left"] .'.concat(xh.arrow)]:(0,o.A)({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})}),kh=fe("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat(we(n.placement.split("-")[0]))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,p.X4)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:"".concat((r=16/14,Math.round(1e5*r)/1e5),"em"),fontWeight:t.typography.fontWeightRegular},{[".".concat(xh.popper,'[data-popper-placement*="left"] &')]:(0,o.A)({transformOrigin:"right center"},n.isRtl?(0,o.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,o.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[".".concat(xh.popper,'[data-popper-placement*="right"] &')]:(0,o.A)({transformOrigin:"left center"},n.isRtl?(0,o.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,o.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[".".concat(xh.popper,'[data-popper-placement*="top"] &')]:(0,o.A)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[".".concat(xh.popper,'[data-popper-placement*="bottom"] &')]:(0,o.A)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})});var r}),Eh=fe("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,p.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}});let Ih=!1;const Ah=new ct;let Ch={x:0,y:0};function Th(e,t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t&&t(n,...i),e(n,...i)}}const jh=e.forwardRef(function(t,n){var r,i,a,l,c,u,d,h,p,f,m,g,v,y,b,x,w,S,k;const E=be({props:t,name:"MuiTooltip"}),{arrow:I=!1,children:A,components:C={},componentsProps:T={},describeChild:j=!1,disableFocusListener:_=!1,disableHoverListener:R=!1,disableInteractive:P=!1,disableTouchListener:N=!1,enterDelay:O=100,enterNextDelay:L=0,enterTouchDelay:M=700,followCursor:D=!1,id:F,leaveDelay:z=0,leaveTouchDelay:V=1500,onClose:B,onOpen:U,open:q,placement:H="bottom",PopperComponent:K,PopperProps:G={},slotProps:Q={},slots:X={},title:Y,TransitionComponent:J=Qa,TransitionProps:Z}=E,ee=(0,s.A)(E,wh),te=e.isValidElement(A)?A:(0,$.jsx)("span",{children:A}),ne=je(),re=jn(),[ie,oe]=e.useState(),[se,ae]=e.useState(null),le=e.useRef(!1),ue=P||D,de=ut(),he=ut(),pe=ut(),fe=ut(),[me,ge]=Il({controlled:q,default:!1,name:"Tooltip",state:"open"});let ve=me;const ye=Kc(F),xe=e.useRef(),Se=st(()=>{void 0!==xe.current&&(document.body.style.WebkitUserSelect=xe.current,xe.current=void 0),fe.clear()});e.useEffect(()=>Se,[Se]);const ke=e=>{Ah.clear(),Ih=!0,ge(!0),U&&!ve&&U(e)},Ee=st(e=>{Ah.start(800+z,()=>{Ih=!1}),ge(!1),B&&ve&&B(e),de.start(ne.transitions.duration.shortest,()=>{le.current=!1})}),Ie=e=>{le.current&&"touchstart"!==e.type||(ie&&ie.removeAttribute("title"),he.clear(),pe.clear(),O||Ih&&L?he.start(Ih?L:O,()=>{ke(e)}):ke(e))},Ae=e=>{he.clear(),pe.start(z,()=>{Ee(e)})},{isFocusVisibleRef:Ce,onBlur:Te,onFocus:_e,ref:Re}=xt(),[,Pe]=e.useState(!1),Ne=e=>{Te(e),!1===Ce.current&&(Pe(!1),Ae(e))},Oe=e=>{ie||oe(e.currentTarget),_e(e),!0===Ce.current&&(Pe(!0),Ie(e))},Le=e=>{le.current=!0;const t=te.props;t.onTouchStart&&t.onTouchStart(e)},Me=e=>{Le(e),pe.clear(),de.clear(),Se(),xe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",fe.start(M,()=>{document.body.style.WebkitUserSelect=xe.current,Ie(e)})},De=e=>{te.props.onTouchEnd&&te.props.onTouchEnd(e),Se(),pe.start(V,()=>{Ee(e)})};e.useEffect(()=>{if(ve)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||Ee(e)}},[Ee,ve]);const Fe=rt(zn(te),Re,oe,n);Y||0===Y||(ve=!1);const ze=e.useRef(),Ve={},Be="string"===typeof Y;j?(Ve.title=ve||!Be||R?null:Y,Ve["aria-describedby"]=ve?ye:null):(Ve["aria-label"]=Be?Y:null,Ve["aria-labelledby"]=ve&&!Be?ye:null);const Ue=(0,o.A)({},Ve,ee,te.props,{className:W(ee.className,te.props.className),onTouchStart:Le,ref:Fe},D?{onMouseMove:e=>{const t=te.props;t.onMouseMove&&t.onMouseMove(e),Ch={x:e.clientX,y:e.clientY},ze.current&&ze.current.update()}}:{});const qe={};N||(Ue.onTouchStart=Me,Ue.onTouchEnd=De),R||(Ue.onMouseOver=Th(Ie,Ue.onMouseOver),Ue.onMouseLeave=Th(Ae,Ue.onMouseLeave),ue||(qe.onMouseOver=Ie,qe.onMouseLeave=Ae)),_||(Ue.onFocus=Th(Oe,Ue.onFocus),Ue.onBlur=Th(Ne,Ue.onBlur),ue||(qe.onFocus=Oe,qe.onBlur=Ne));const We=e.useMemo(()=>{var e;let t=[{name:"arrow",enabled:Boolean(se),options:{element:se,padding:4}}];return null!=(e=G.popperOptions)&&e.modifiers&&(t=t.concat(G.popperOptions.modifiers)),(0,o.A)({},G.popperOptions,{modifiers:t})},[se,G]),He=(0,o.A)({},E,{isRtl:re,arrow:I,disableInteractive:ue,placement:H,PopperComponentProp:K,touch:le.current}),Ke=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e;return ce({popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch","tooltipPlacement".concat(we(o.split("-")[0]))],arrow:["arrow"]},bh,t)})(He),Ge=null!=(r=null!=(i=X.popper)?i:C.Popper)?r:Sh,Qe=null!=(a=null!=(l=null!=(c=X.transition)?c:C.Transition)?l:J)?a:Qa,Xe=null!=(u=null!=(d=X.tooltip)?d:C.Tooltip)?u:kh,Ye=null!=(h=null!=(p=X.arrow)?p:C.Arrow)?h:Eh,$e=Pn(Ge,(0,o.A)({},G,null!=(f=Q.popper)?f:T.popper,{className:W(Ke.popper,null==G?void 0:G.className,null==(m=null!=(g=Q.popper)?g:T.popper)?void 0:m.className)}),He),Je=Pn(Qe,(0,o.A)({},Z,null!=(v=Q.transition)?v:T.transition),He),Ze=Pn(Xe,(0,o.A)({},null!=(y=Q.tooltip)?y:T.tooltip,{className:W(Ke.tooltip,null==(b=null!=(x=Q.tooltip)?x:T.tooltip)?void 0:b.className)}),He),et=Pn(Ye,(0,o.A)({},null!=(w=Q.arrow)?w:T.arrow,{className:W(Ke.arrow,null==(S=null!=(k=Q.arrow)?k:T.arrow)?void 0:S.className)}),He);return(0,$.jsxs)(e.Fragment,{children:[e.cloneElement(te,Ue),(0,$.jsx)(Ge,(0,o.A)({as:null!=K?K:yh,placement:H,anchorEl:D?{getBoundingClientRect:()=>({top:Ch.y,left:Ch.x,right:Ch.x,bottom:Ch.y,width:0,height:0})}:ie,popperRef:ze,open:!!ie&&ve,id:ye,transition:!0},qe,$e,{popperOptions:We,children:e=>{let{TransitionProps:t}=e;return(0,$.jsx)(Qe,(0,o.A)({timeout:ne.transitions.duration.shorter},t,Je,{children:(0,$.jsxs)(Xe,(0,o.A)({},Ze,{children:[Y,I?(0,$.jsx)(Ye,(0,o.A)({},et,{ref:ae})):null]}))}))}}))]})}),_h=jh;var Rh=n(1188);const Ph={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};const Nh=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;return e.length===t.length&&e.every((e,r)=>n(e,t[r]))};function Oh(e,t){return e-t}function Lh(e,t){var n;const{index:r}=null!=(n=e.reduce((e,n,r)=>{const i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e},null))?n:{};return r}function Mh(e,t){if(void 0!==t.current&&e.changedTouches){const n=e;for(let e=0;e<n.changedTouches.length;e+=1){const r=n.changedTouches[e];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Dh(e,t,n){return 100*(e-t)/(n-t)}function Fh(e,t,n){const r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){const t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}(t)))}function zh(e){let{values:t,newValue:n,index:r}=e;const i=t.slice();return i[r]=n,i.sort(Oh)}function Vh(e){let{sliderRef:t,activeIndex:n,setActive:r}=e;var i,o;const s=Vn(t.current);var a;null!=(i=t.current)&&i.contains(s.activeElement)&&Number(null==s||null==(o=s.activeElement)?void 0:o.getAttribute("data-index"))===n||(null==(a=t.current)||a.querySelector('[type="range"][data-index="'.concat(n,'"]')).focus());r&&r(n)}function Bh(e,t){return"number"===typeof e&&"number"===typeof t?e===t:"object"===typeof e&&"object"===typeof t&&Nh(e,t)}const Uh={horizontal:{offset:e=>({left:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},"horizontal-reverse":{offset:e=>({right:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},vertical:{offset:e=>({bottom:"".concat(e,"%")}),leap:e=>({height:"".concat(e,"%")})}},qh=e=>e;let Wh;function Hh(){return void 0===Wh&&(Wh="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),Wh}function Kh(t){const{"aria-labelledby":n,defaultValue:r,disabled:i=!1,disableSwap:s=!1,isRtl:a=!1,marks:l=!1,max:c=100,min:u=0,name:d,onChange:h,onChangeCommitted:p,orientation:f="horizontal",rootRef:m,scale:g=qh,step:v=1,shiftStep:y=10,tabIndex:b,value:x}=t,w=e.useRef(void 0),[S,k]=e.useState(-1),[E,I]=e.useState(-1),[A,C]=e.useState(!1),T=e.useRef(0),[j,_]=El({controlled:x,default:null!=r?r:u,name:"Slider"}),R=h&&((e,t,n)=>{const r=e.nativeEvent||e,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:t,name:d}}),h(i,t,n)}),P=Array.isArray(j);let N=P?j.slice().sort(Oh):[j];N=N.map(e=>null==e?u:(0,Rh.A)(e,u,c));const O=!0===l&&null!==v?[...Array(Math.floor((c-u)/v)+1)].map((e,t)=>({value:u+v*t})):l||[],L=O.map(e=>e.value),{isFocusVisibleRef:M,onBlur:D,onFocus:F,ref:z}=bt(),[V,B]=e.useState(-1),U=e.useRef(null),q=nt(z,U),W=nt(m,q),H=e=>t=>{var n;const r=Number(t.currentTarget.getAttribute("data-index"));F(t),!0===M.current&&B(r),I(r),null==e||null==(n=e.onFocus)||n.call(e,t)},K=e=>t=>{var n;D(t),!1===M.current&&B(-1),I(-1),null==e||null==(n=e.onBlur)||n.call(e,t)},G=(e,t)=>{const n=Number(e.currentTarget.getAttribute("data-index")),r=N[n],i=L.indexOf(r);let o=t;if(O&&null==v){const e=L[L.length-1];o=o>e?e:o<L[0]?L[0]:o<r?L[i-1]:L[i+1]}if(o=(0,Rh.A)(o,u,c),P){s&&(o=(0,Rh.A)(o,N[n-1]||-1/0,N[n+1]||1/0));const e=o;o=zh({values:N,newValue:o,index:n});let t=n;s||(t=o.indexOf(e)),Vh({sliderRef:U,activeIndex:t})}_(o),B(n),R&&!Bh(o,j)&&R(e,o,n),p&&p(e,o)},Q=e=>t=>{var n;if(null!==v){const e=Number(t.currentTarget.getAttribute("data-index")),n=N[e];let r=null;("ArrowLeft"===t.key||"ArrowDown"===t.key)&&t.shiftKey||"PageDown"===t.key?r=Math.max(n-y,u):(("ArrowRight"===t.key||"ArrowUp"===t.key)&&t.shiftKey||"PageUp"===t.key)&&(r=Math.min(n+y,c)),null!==r&&(G(t,r),t.preventDefault())}null==e||null==(n=e.onKeyDown)||n.call(e,t)};it(()=>{var e;i&&U.current.contains(document.activeElement)&&(null==(e=document.activeElement)||e.blur())},[i]),i&&-1!==S&&k(-1),i&&-1!==V&&B(-1);const X=e.useRef(void 0);let Y=f;a&&"horizontal"===f&&(Y+="-reverse");const $=e=>{let{finger:t,move:n=!1}=e;const{current:r}=U,{width:i,height:o,bottom:a,left:l}=r.getBoundingClientRect();let d,h;if(d=0===Y.indexOf("vertical")?(a-t.y)/o:(t.x-l)/i,-1!==Y.indexOf("-reverse")&&(d=1-d),h=function(e,t,n){return(n-t)*e+t}(d,u,c),v)h=Fh(h,v,u);else{const e=Lh(L,h);h=L[e]}h=(0,Rh.A)(h,u,c);let p=0;if(P){p=n?X.current:Lh(N,h),s&&(h=(0,Rh.A)(h,N[p-1]||-1/0,N[p+1]||1/0));const e=h;h=zh({values:N,newValue:h,index:p}),s&&n||(p=h.indexOf(e),X.current=p)}return{newValue:h,activeIndex:p}},J=ot(e=>{const t=Mh(e,w);if(!t)return;if(T.current+=1,"mousemove"===e.type&&0===e.buttons)return void Z(e);const{newValue:n,activeIndex:r}=$({finger:t,move:!0});Vh({sliderRef:U,activeIndex:r,setActive:k}),_(n),!A&&T.current>2&&C(!0),R&&!Bh(n,j)&&R(e,n,r)}),Z=ot(e=>{const t=Mh(e,w);if(C(!1),!t)return;const{newValue:n}=$({finger:t,move:!0});k(-1),"touchend"===e.type&&I(-1),p&&p(e,n),w.current=void 0,te()}),ee=ot(e=>{if(i)return;Hh()||e.preventDefault();const t=e.changedTouches[0];null!=t&&(w.current=t.identifier);const n=Mh(e,w);if(!1!==n){const{newValue:t,activeIndex:r}=$({finger:n});Vh({sliderRef:U,activeIndex:r,setActive:k}),_(t),R&&!Bh(t,j)&&R(e,t,r)}T.current=0;const r=Vn(U.current);r.addEventListener("touchmove",J,{passive:!0}),r.addEventListener("touchend",Z,{passive:!0})}),te=e.useCallback(()=>{const e=Vn(U.current);e.removeEventListener("mousemove",J),e.removeEventListener("mouseup",Z),e.removeEventListener("touchmove",J),e.removeEventListener("touchend",Z)},[Z,J]);e.useEffect(()=>{const{current:e}=U;return e.addEventListener("touchstart",ee,{passive:Hh()}),()=>{e.removeEventListener("touchstart",ee),te()}},[te,ee]),e.useEffect(()=>{i&&te()},[i,te]);const ne=Dh(P?N[0]:u,u,c),re=Dh(N[N.length-1],u,c)-ne,ie=e=>t=>{var n;null==(n=e.onMouseLeave)||n.call(e,t),I(-1)};return{active:S,axis:Y,axisProps:Uh,dragging:A,focusedThumbIndex:V,getHiddenInputProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r;const s=Nn(e),l={onChange:(h=s||{},e=>{var t;null==(t=h.onChange)||t.call(h,e),G(e,e.target.valueAsNumber)}),onFocus:H(s||{}),onBlur:K(s||{}),onKeyDown:Q(s||{})};var h;const p=(0,o.A)({},s,l);return(0,o.A)({tabIndex:b,"aria-labelledby":n,"aria-orientation":f,"aria-valuemax":g(c),"aria-valuemin":g(u),name:d,type:"range",min:t.min,max:t.max,step:null===t.step&&t.marks?"any":null!=(r=t.step)?r:void 0,disabled:i},e,p,{style:(0,o.A)({},Ph,{direction:a?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Nn(e),n={onMouseDown:(r=t||{},e=>{var t;if(null==(t=r.onMouseDown)||t.call(r,e),i)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const n=Mh(e,w);if(!1!==n){const{newValue:t,activeIndex:r}=$({finger:n});Vh({sliderRef:U,activeIndex:r,setActive:k}),_(t),R&&!Bh(t,j)&&R(e,t,r)}T.current=0;const o=Vn(U.current);o.addEventListener("mousemove",J,{passive:!0}),o.addEventListener("mouseup",Z)})};var r;const s=(0,o.A)({},t,n);return(0,o.A)({},e,{ref:W},s)},getThumbProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Nn(e),n={onMouseOver:(r=t||{},e=>{var t;null==(t=r.onMouseOver)||t.call(r,e);const n=Number(e.currentTarget.getAttribute("data-index"));I(n)}),onMouseLeave:ie(t||{})};var r;return(0,o.A)({},e,t,n)},marks:O,open:E,range:P,rootRef:W,trackLeap:re,trackOffset:ne,values:N,getThumbStyle:e=>({pointerEvents:-1!==S&&S!==e?"none":void 0})}}const Gh=e=>!e||!Rn(e);function Qh(e){return re("MuiSlider",e)}const Xh=ie("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);const Yh=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function $h(e){return e}const Jh=fe("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat(we(n.color))],"medium"!==n.size&&t["size".concat(we(n.size))],n.marked&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})(e=>{let{theme:t}=e;var n;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},["&.".concat(Xh.disabled)]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},["&.".concat(Xh.dragging)]:{["& .".concat(Xh.thumb,", & .").concat(Xh.track)]:{transition:"none"}},variants:[...Object.keys((null!=(n=t.vars)?n:t).palette).filter(e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main}).map(e=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),Zh=fe("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),ep=fe("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(e=>{let{theme:t}=e;var n;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys((null!=(n=t.vars)?n:t).palette).filter(e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main}).map(e=>({props:{color:e,track:"inverted"},style:(0,o.A)({},t.vars?{backgroundColor:t.vars.palette.Slider["".concat(e,"Track")],borderColor:t.vars.palette.Slider["".concat(e,"Track")]}:(0,o.A)({backgroundColor:(0,p.a)(t.palette[e].main,.62),borderColor:(0,p.a)(t.palette[e].main,.62)},t.applyStyles("dark",{backgroundColor:(0,p.e$)(t.palette[e].main,.5)}),t.applyStyles("dark",{borderColor:(0,p.e$)(t.palette[e].main,.5)})))}))]}}),tp=fe("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t["thumbColor".concat(we(n.color))],"medium"!==n.size&&t["thumbSize".concat(we(n.size))]]}})(e=>{let{theme:t}=e;var n;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},["&.".concat(Xh.disabled)]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.keys((null!=(n=t.vars)?n:t).palette).filter(e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main}).map(e=>({props:{color:e},style:{["&:hover, &.".concat(Xh.focusVisible)]:(0,o.A)({},t.vars?{boxShadow:"0px 0px 0px 8px rgba(".concat(t.vars.palette[e].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 8px ".concat((0,p.X4)(t.palette[e].main,.16))},{"@media (hover: none)":{boxShadow:"none"}}),["&.".concat(Xh.active)]:(0,o.A)({},t.vars?{boxShadow:"0px 0px 0px 14px rgba(".concat(t.vars.palette[e].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 14px ".concat((0,p.X4)(t.palette[e].main,.16))})}}))]}}),np=fe(function(t){const{children:n,className:r,value:i}=t,o=(e=>{const{open:t}=e;return{offset:W(t&&Xh.valueLabelOpen),circle:Xh.valueLabelCircle,label:Xh.valueLabelLabel}})(t);return n?e.cloneElement(n,{className:W(n.props.className)},(0,$.jsxs)(e.Fragment,{children:[n.props.children,(0,$.jsx)("span",{className:W(o.offset,r),"aria-hidden":!0,children:(0,$.jsx)("span",{className:o.circle,children:(0,$.jsx)("span",{className:o.label,children:i})})})]})):null},{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(e=>{let{theme:t}=e;return(0,o.A)({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},["&.".concat(Xh.valueLabelOpen)]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},["&.".concat(Xh.valueLabelOpen)]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})}),rp=fe("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>he(e)&&"markActive"!==e,overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})(e=>{let{theme:t}=e;return{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}}),ip=fe("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>he(e)&&"markLabelActive"!==e,overridesResolver:(e,t)=>t.markLabel})(e=>{let{theme:t}=e;return(0,o.A)({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})}),op=e=>{let{children:t}=e;return t},sp=e.forwardRef(function(t,n){var r,i,a,l,c,u,d,h,p,f,m,g,v,y,b,x,w,S,k,E,I,A,C,T;const j=be({props:t,name:"MuiSlider"}),_=jn(),{"aria-label":R,"aria-valuetext":P,"aria-labelledby":N,component:O="span",components:L={},componentsProps:M={},color:D="primary",classes:F,className:z,disableSwap:V=!1,disabled:B=!1,getAriaLabel:U,getAriaValueText:q,marks:H=!1,max:K=100,min:G=0,orientation:Q="horizontal",shiftStep:X=10,size:Y="medium",step:J=1,scale:Z=$h,slotProps:ee,slots:te,track:ne="normal",valueLabelDisplay:re="off",valueLabelFormat:ie=$h}=j,oe=(0,s.A)(j,Yh),se=(0,o.A)({},j,{isRtl:_,max:K,min:G,classes:F,disabled:B,disableSwap:V,orientation:Q,marks:H,color:D,size:Y,step:J,shiftStep:X,scale:Z,track:ne,valueLabelDisplay:re,valueLabelFormat:ie}),{axisProps:ae,getRootProps:le,getHiddenInputProps:ue,getThumbProps:de,open:he,active:pe,axis:fe,focusedThumbIndex:me,range:ge,dragging:ve,marks:ye,values:xe,trackOffset:Se,trackLeap:ke,getThumbStyle:Ee}=Kh((0,o.A)({},se,{rootRef:n}));se.marked=ye.length>0&&ye.some(e=>e.label),se.dragging=ve,se.focusedThumbIndex=me;const Ie=(e=>{const{disabled:t,dragging:n,marked:r,orientation:i,track:o,classes:s,color:a,size:l}=e;return ce({root:["root",t&&"disabled",n&&"dragging",r&&"marked","vertical"===i&&"vertical","inverted"===o&&"trackInverted",!1===o&&"trackFalse",a&&"color".concat(we(a)),l&&"size".concat(we(l))],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&"thumbSize".concat(we(l)),a&&"thumbColor".concat(we(a))],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]},Qh,s)})(se),Ae=null!=(r=null!=(i=null==te?void 0:te.root)?i:L.Root)?r:Jh,Ce=null!=(a=null!=(l=null==te?void 0:te.rail)?l:L.Rail)?a:Zh,Te=null!=(c=null!=(u=null==te?void 0:te.track)?u:L.Track)?c:ep,je=null!=(d=null!=(h=null==te?void 0:te.thumb)?h:L.Thumb)?d:tp,_e=null!=(p=null!=(f=null==te?void 0:te.valueLabel)?f:L.ValueLabel)?p:np,Re=null!=(m=null!=(g=null==te?void 0:te.mark)?g:L.Mark)?m:rp,Pe=null!=(v=null!=(y=null==te?void 0:te.markLabel)?y:L.MarkLabel)?v:ip,Ne=null!=(b=null!=(x=null==te?void 0:te.input)?x:L.Input)?b:"input",Oe=null!=(w=null==ee?void 0:ee.root)?w:M.root,Le=null!=(S=null==ee?void 0:ee.rail)?S:M.rail,Me=null!=(k=null==ee?void 0:ee.track)?k:M.track,De=null!=(E=null==ee?void 0:ee.thumb)?E:M.thumb,Fe=null!=(I=null==ee?void 0:ee.valueLabel)?I:M.valueLabel,ze=null!=(A=null==ee?void 0:ee.mark)?A:M.mark,Ve=null!=(C=null==ee?void 0:ee.markLabel)?C:M.markLabel,Be=null!=(T=null==ee?void 0:ee.input)?T:M.input,Ue=Fn({elementType:Ae,getSlotProps:le,externalSlotProps:Oe,externalForwardedProps:oe,additionalProps:(0,o.A)({},Gh(Ae)&&{as:O}),ownerState:(0,o.A)({},se,null==Oe?void 0:Oe.ownerState),className:[Ie.root,z]}),qe=Fn({elementType:Ce,externalSlotProps:Le,ownerState:se,className:Ie.rail}),We=Fn({elementType:Te,externalSlotProps:Me,additionalProps:{style:(0,o.A)({},ae[fe].offset(Se),ae[fe].leap(ke))},ownerState:(0,o.A)({},se,null==Me?void 0:Me.ownerState),className:Ie.track}),He=Fn({elementType:je,getSlotProps:de,externalSlotProps:De,ownerState:(0,o.A)({},se,null==De?void 0:De.ownerState),className:Ie.thumb}),Ke=Fn({elementType:_e,externalSlotProps:Fe,ownerState:(0,o.A)({},se,null==Fe?void 0:Fe.ownerState),className:Ie.valueLabel}),Ge=Fn({elementType:Re,externalSlotProps:ze,ownerState:se,className:Ie.mark}),Qe=Fn({elementType:Pe,externalSlotProps:Ve,ownerState:se,className:Ie.markLabel}),Xe=Fn({elementType:Ne,getSlotProps:ue,externalSlotProps:Be,ownerState:se});return(0,$.jsxs)(Ae,(0,o.A)({},Ue,{children:[(0,$.jsx)(Ce,(0,o.A)({},qe)),(0,$.jsx)(Te,(0,o.A)({},We)),ye.filter(e=>e.value>=G&&e.value<=K).map((t,n)=>{const r=Dh(t.value,G,K),i=ae[fe].offset(r);let s;return s=!1===ne?-1!==xe.indexOf(t.value):"normal"===ne&&(ge?t.value>=xe[0]&&t.value<=xe[xe.length-1]:t.value<=xe[0])||"inverted"===ne&&(ge?t.value<=xe[0]||t.value>=xe[xe.length-1]:t.value>=xe[0]),(0,$.jsxs)(e.Fragment,{children:[(0,$.jsx)(Re,(0,o.A)({"data-index":n},Ge,!Rn(Re)&&{markActive:s},{style:(0,o.A)({},i,Ge.style),className:W(Ge.className,s&&Ie.markActive)})),null!=t.label?(0,$.jsx)(Pe,(0,o.A)({"aria-hidden":!0,"data-index":n},Qe,!Rn(Pe)&&{markLabelActive:s},{style:(0,o.A)({},i,Qe.style),className:W(Ie.markLabel,Qe.className,s&&Ie.markLabelActive),children:t.label})):null]},n)}),xe.map((e,t)=>{const n=Dh(e,G,K),r=ae[fe].offset(n),i="off"===re?op:_e;return(0,$.jsx)(i,(0,o.A)({},!Rn(i)&&{valueLabelFormat:ie,valueLabelDisplay:re,value:"function"===typeof ie?ie(Z(e),t):ie,index:t,open:he===t||pe===t||"on"===re,disabled:B},Ke,{children:(0,$.jsx)(je,(0,o.A)({"data-index":t},He,{className:W(Ie.thumb,He.className,pe===t&&Ie.active,me===t&&Ie.focusVisible),style:(0,o.A)({},r,Ee(t),He.style),children:(0,$.jsx)(Ne,(0,o.A)({"data-index":t,"aria-label":U?U(t):R,"aria-valuenow":Z(e),"aria-labelledby":N,"aria-valuetext":q?q(Z(e),t):P,value:xe[t]},Xe))}))}),t)})]}))}),ap=sp,lp=uo((0,$.jsx)("path",{d:"M6 6h12v12H6z"}),"Stop"),cp=uo((0,$.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),up=uo((0,$.jsx)("path",{d:"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83"}),"Speed"),dp=()=>/Android/i.test(navigator.userAgent),hp=()=>{const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),o="undefined"!==typeof window&&"speechSynthesis"in window,[s,a]=(0,e.useState)([]),[l,c]=(0,e.useState)(null),[u,d]=(0,e.useState)(1),[h,p]=(0,e.useState)(1),[f,m]=(0,e.useState)(1),[g,v]=(0,e.useState)(()=>o?null:"La synth\xe8se vocale n'est pas support\xe9e sur votre appareil."),y=(0,e.useRef)(null),b=(0,e.useRef)(!1);(0,e.useEffect)(()=>{if(o){const e=()=>{const t=window.speechSynthesis.getVoices();if(0===t.length&&!b.current)return void setTimeout(e,100);b.current=!0;const n=t.map(e=>({name:e.name,lang:e.lang,default:e.default}));a(n);let r=t.find(e=>e.lang.startsWith("en-")&&e.localService&&e.name.toLowerCase().includes("google"));r||(r=t.find(e=>e.lang.startsWith("en-")&&(e.name.includes("Google")||e.name.includes("Microsoft")))),r||(r=t.find(e=>e.lang.startsWith("en-"))),r?c(r):t.length>0&&c(t[0])};if(e(),window.speechSynthesis.onvoiceschanged=e,dp()){const e=setInterval(()=>{window.speechSynthesis.speaking&&(window.speechSynthesis.pause(),window.speechSynthesis.resume())},1e4);return()=>{clearInterval(e),window.speechSynthesis.cancel()}}return()=>{window.speechSynthesis.cancel()}}},[]);const x=(0,e.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if(!o||!e)return void v("Synth\xe8se vocale non support\xe9e ou texte vide.");window.speechSynthesis.cancel(),dp()&&await new Promise(e=>setTimeout(e,50));const r=new SpeechSynthesisUtterance(e);if(y.current=r,l&&(r.voice=l),r.lang=t,r.rate=u,r.pitch=h,r.volume=f,dp()&&e.length>200){const r=e.match(/[^.!?]+[.!?]+/g)||[e];for(let e=0;e<r.length;e++){const o=new SpeechSynthesisUtterance(r[e]);o.voice=l,o.lang=t,o.rate=u,o.pitch=h,o.volume=f,0===e&&(o.onstart=()=>{n(!0),i(!1),v(null)}),e===r.length-1&&(o.onend=()=>{n(!1),i(!1)}),o.onerror=e=>{console.error("Erreur de synth\xe8se vocale:",e),v("Erreur de synth\xe8se: ".concat(e.error)),n(!1),i(!1)},window.speechSynthesis.speak(o)}return}r.onstart=()=>{n(!0),i(!1),v(null)},r.onend=()=>{n(!1),i(!1)},r.onerror=e=>{switch(console.error("Erreur de synth\xe8se vocale:",e),e.error){case"network":v("Erreur r\xe9seau lors de la synth\xe8se vocale.");break;case"synthesis-failed":v("\xc9chec de la synth\xe8se vocale.");break;case"audio-busy":v("Audio occup\xe9. R\xe9essayez.");break;case"not-allowed":v("Permission audio refus\xe9e.");break;default:v("Erreur: ".concat(e.error))}n(!1),i(!1)},r.onpause=()=>{i(!0)},r.onresume=()=>{i(!1)};try{window.speechSynthesis.speak(r)}catch(s){console.error("Error speaking:",s),v("Impossible de lancer la synth\xe8se vocale."),n(!1)}},[o,l,u,h,f]),w=(0,e.useCallback)(()=>{if(o)try{window.speechSynthesis.cancel(),n(!1),i(!1),v(null)}catch(e){console.error("Error stopping speech:",e)}},[o]),S=(0,e.useCallback)(()=>{if(o)try{window.speechSynthesis.pause(),i(!0)}catch(e){console.error("Error pausing speech:",e)}},[o]),k=(0,e.useCallback)(()=>{if(o)try{window.speechSynthesis.resume(),i(!1)}catch(e){console.error("Error resuming speech:",e)}},[o]),E=(0,e.useCallback)(e=>{const t=window.speechSynthesis.getVoices().find(t=>t.name===e);t?(c(t),v(null)):v("Voix non trouv\xe9e.")},[]);return{speak:x,stop:w,pause:S,resume:k,isSpeaking:t,isPaused:r,isSupported:o,voices:s,setVoice:E,setRate:d,setPitch:p,setVolume:m,error:g}},pp=()=>Qo.Ii.isNativePlatform(),fp=t=>{let{text:n,lang:r="en-US",title:i,showControls:o=!0,autoPlay:s=!1}=t;const{speak:a,stop:l,isSpeaking:c,isSupported:u,setRate:d,setVolume:h}=hp(),[p,f]=e.useState(1),[m,g]=e.useState(1);e.useEffect(()=>(s&&u&&n&&a(n,r),()=>{l()}),[s]);return u||pp()?(0,$.jsxs)(le,{sx:{p:2,bgcolor:"primary.light",borderRadius:2,border:2,borderColor:"primary.main"},children:[i&&(0,$.jsx)(Ce,{variant:"h6",sx:{color:"white",mb:2},children:i}),(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,$.jsx)(vo,{sx:{fontSize:30,color:"white"}}),(0,$.jsx)(le,{sx:{flexGrow:1,p:2,bgcolor:"white",borderRadius:1},children:(0,$.jsx)(Ce,{variant:"body1",sx:{fontStyle:"italic"},children:n})}),(0,$.jsx)(_h,{title:c?"Arr\xeater":"\xc9couter",children:(0,$.jsx)(An,{onClick:()=>{c?l():a(n,r)},sx:{bgcolor:"white","&:hover":{bgcolor:"grey.200"},width:56,height:56},children:c?(0,$.jsx)(lp,{sx:{fontSize:28}}):(0,$.jsx)(cp,{sx:{fontSize:28}})})})]}),o&&(0,$.jsxs)(le,{sx:{bgcolor:"white",p:2,borderRadius:1},children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,$.jsx)(up,{sx:{color:"text.secondary"}}),(0,$.jsxs)(Ce,{variant:"body2",sx:{minWidth:100},children:["Vitesse: ",p.toFixed(1),"x"]}),(0,$.jsx)(ap,{value:p,onChange:(e,t)=>{const n=t;f(n),d(n)},min:.5,max:2,step:.1,sx:{flexGrow:1},disabled:c})]}),(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,$.jsx)(vo,{sx:{color:"text.secondary"}}),(0,$.jsxs)(Ce,{variant:"body2",sx:{minWidth:100},children:["Volume: ",Math.round(100*m),"%"]}),(0,$.jsx)(ap,{value:m,onChange:(e,t)=>{const n=t;g(n),h(n)},min:0,max:1,step:.1,sx:{flexGrow:1},disabled:c})]})]}),(0,$.jsxs)(Ce,{variant:"caption",sx:{display:"block",mt:1,color:"white"},children:["\ud83d\udca1 Cliquez sur le bouton lecture pour entendre le texte en anglais",o&&" \u2022 Ajustez la vitesse et le volume selon vos besoins"]})]}):(0,$.jsx)(Ms,{severity:"warning",sx:{my:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:["Votre navigateur ne supporte pas la synth\xe8se vocale.",pp()?" La fonctionnalit\xe9 native sera utilis\xe9e sur mobile.":" Veuillez utiliser Chrome, Edge ou Safari."]})})},mp=()=>{const[t,n]=(0,e.useState)([]),[r,o]=(0,e.useState)(null),[s,a]=(0,e.useState)("all"),[l,c]=(0,e.useState)("all"),[u,d]=(0,e.useState)(0),{addResponse:h}=us();(0,e.useEffect)(()=>{f()},[]);const p=e=>{if(!e.questions||0===e.questions.length)return!1;for(const t of e.questions){if(t.options){const e=[/^primary use of/i,/^alternative answer \d+$/i,/^incorrect statement [a-z]$/i,/^correct statement about/i,/^explanation about/i,/^other \d+$/i];for(const n of t.options)if(e.some(e=>e.test(n)))return!1}if("string"===typeof t.correctAnswer&&/^primary use of|^correct statement about|^explanation about/i.test(t.correctAnswer))return!1;if(t.explanation&&/^explanation about|^this is correct because/i.test(t.explanation))return!1;if(!t.text||t.text.trim().length<10)return!1}return!0},f=async()=>{try{const t=await fetch("/data/exercises/all_qcm_200.json");if(!t.ok)throw new Error("Erreur HTTP ".concat(t.status," pour all_qcm_200.json"));const r=await t.json(),i=await fetch("/data/exercises/all_cloze_200.json");if(!i.ok)throw new Error("Erreur HTTP ".concat(i.status," pour all_cloze_200.json"));const o=await i.json();let s=[];try{const e=await fetch("/corpus/listening/all_listening_100.json");if(e.ok){const t=await e.json();s=(t.texts||[]).map(e=>(e=>{if(!e.questions||0===e.questions.length)return null;const t=e.questions.map((t,n)=>({id:t.id||"q".concat(n+1),text:t.text,options:t.options||[],correctAnswer:t.correctAnswer,explanation:"This question tests your understanding of: ".concat(e.topic||"the listening text","."),grammarFocus:[],vocabularyFocus:[]}));return{id:e.id,type:"listening",level:e.level,domain:"ai",title:e.title,description:e.topic||"Listening exercise",content:e.transcript||"",questions:t,estimatedTime:Math.ceil((e.duration||120)/60),difficulty:3,audioUrl:e.audioFile?"/corpus/listening/".concat(e.audioFile):void 0,transcript:e.transcript,listeningData:e}})(e)).filter(e=>null!==e&&void 0!==e),console.log("\u2705 Charg\xe9 ".concat(s.length," exercices listening"))}}catch(e){console.warn("Erreur chargement listening:",e)}let a=[];try{const e=await fetch("/corpus/reading/all_reading_100.json");if(e.ok){const t=await e.json();a=(t.texts||[]).map(e=>(e=>{if(!e.questions||0===e.questions.length)return null;const t=e.questions.map((t,n)=>({id:t.id||"q".concat(n+1),text:t.text,options:t.options||[],correctAnswer:t.correctAnswer,explanation:"This question tests your understanding of: ".concat(e.topic||"the reading text","."),grammarFocus:[],vocabularyFocus:[]}));return{id:e.id,type:"reading",level:e.level,domain:"ai",title:e.title,description:e.topic||"Reading exercise",content:e.text||"",questions:t,estimatedTime:e.readingTime||5,difficulty:3,readingText:e.text,readingData:e}})(e)).filter(e=>null!==e&&void 0!==e),console.log("\u2705 Charg\xe9 ".concat(a.length," exercices reading"))}}catch(e){console.warn("Erreur chargement reading:",e)}const l=Array.isArray(r)?r:r.exercises||[],c=Array.isArray(o)?o:o.exercises||[],u=[...l,...c,...s,...a];console.log("\ud83d\udcda Total exercices charg\xe9s: ".concat(u.length," (").concat(l.length," QCM + ").concat(c.length," Cloze + ").concat(s.length," Listening + ").concat(a.length," Reading)"));const h=u.filter(e=>{if(!p(e))return!1;if(e.questions&&("listening"===e.type||"reading"===e.type))for(const t of e.questions)if(t.options){if(t.options.some(e=>/^other \d+$/i.test(e.trim())))return console.warn("\u26a0\ufe0f Exercice ".concat(e.id,' filtr\xe9 : contient des options placeholder "Other X"')),!1}return!0}),f=u.length-h.length;f>0&&(console.warn("\u26a0\ufe0f ".concat(f," exercices incomplets filtr\xe9s (contiennent des placeholders)")),d(f)),console.log("\u2705 Charg\xe9 ".concat(h.length," exercices complets \xe0 100% (").concat(f," incomplets filtr\xe9s)")),n(h)}catch(Hm){console.error("Erreur chargement exercices:",Hm);try{const e=await fetch("/data/exercises/qcm_exercises.json"),t=await fetch("/data/exercises/cloze_exercises.json"),r=await e.json(),i=await t.json(),o=[...r.exercises||[],...i.exercises||[]].filter(e=>p(e));console.log("\u2705 Charg\xe9 ".concat(o.length," exercices fallback complets")),n(o)}catch(t){console.error("Erreur chargement fallback:",t),n([])}}},m=t.filter(e=>{const t="all"===s||e.level===s,n="all"===l||e.type===l;return t&&n}),g=(0,e.useCallback)(e=>{var t;if(console.log("\ud83d\udd04 Clic sur exercice:",e.id,e.title),console.log("\ud83d\udccb Exercice complet:",e),console.log("\ud83d\udcdd Questions:",(null===(t=e.questions)||void 0===t?void 0:t.length)||0),!e||!e.id)return console.error("\u274c Erreur: exercice invalide",e),void alert("Erreur: exercice invalide");if(!e.questions||0===e.questions.length)return console.error("\u274c Erreur: l'exercice n'a pas de questions",e),void alert("Cet exercice n'a pas de questions disponibles. Veuillez choisir un autre exercice.");const n=(0,i.A)((0,i.A)({},e),{},{questions:[...e.questions]});console.log("\u2705 D\xe9finition de l'exercice s\xe9lectionn\xe9:",n.id),o(n)},[]),v=(e,t,n,i)=>{r&&h({exerciseId:r.id,questionId:e,answer:t,isCorrect:n,timeSpent:i,timestamp:new Date})},y=()=>{o(null)};return r?(console.log("\ud83c\udfaf Rendu de l'exercice s\xe9lectionn\xe9:",r.id,r.title),(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsx)(hn,{onClick:y,sx:{mb:3},variant:"outlined",children:"\u2190 Retour aux exercices"}),"qcm"===r.type?(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,children:r.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:3},children:r.description}),r.questions&&r.questions.length>0?r.questions.map(e=>(0,$.jsx)(Ru,{question:e,onAnswer:(t,n,r)=>v(e.id,t,n,r)},e.id)):(0,$.jsx)(Ms,{severity:"error",children:"Aucune question disponible pour cet exercice."})]}):"cloze"===r.type?(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,children:r.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:3},children:r.description}),r.questions&&r.questions.length>0?r.questions.map(e=>(0,$.jsx)(qu,{question:e,onAnswer:(t,n,r)=>v(e.id,t,n,r)},e.id)):(0,$.jsx)(Ms,{severity:"error",children:"Aucune question disponible pour cet exercice."})]}):"listening"===r.type?(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,children:r.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:3},children:r.description}),r.transcript&&(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(fp,{text:r.transcript,lang:"en-US",title:"Audio - \xc9coutez la transcription",showControls:!0,autoPlay:!1}),(0,$.jsx)(Ms,{severity:"info",sx:{mt:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Conseil :"})," Cliquez sur le bouton lecture dans le lecteur audio ci-dessus pour \xe9couter la transcription. La transcription compl\xe8te sera disponible apr\xe8s avoir r\xe9pondu aux questions."]})})]}),r.questions&&r.questions.length>0?(0,$.jsxs)($.Fragment,{children:[r.questions.map((e,t)=>(console.log("\ud83d\udcdd Question ".concat(t+1,":"),e),(0,$.jsx)(Wu,{question:e,onAnswer:(t,n,r)=>v(e.id,t,n,r),audioUrl:void 0,transcript:void 0},e.id||"q".concat(t)))),r.transcript&&(0,$.jsxs)(le,{sx:{mt:4,p:3,bgcolor:"grey.100",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Transcription compl\xe8te"}),(0,$.jsx)(Ce,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.8},children:r.transcript})]})]}):(0,$.jsx)(Ms,{severity:"error",children:"Aucune question disponible pour cet exercice."})]}):"reading"===r.type?(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,children:r.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:3},children:r.description}),r.readingText||r.content?(0,$.jsxs)(le,{sx:{mb:3,p:3,bgcolor:"grey.50",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Texte \xe0 lire :"}),(0,$.jsx)(Ce,{variant:"body1",sx:{whiteSpace:"pre-wrap",lineHeight:1.8},children:r.readingText||r.content})]}):null,r.questions&&r.questions.length>0?r.questions.map(e=>(0,$.jsx)(Hu,{question:e,onAnswer:(t,n,r)=>v(e.id,t,n,r),text:void 0},e.id)):(0,$.jsx)(Ms,{severity:"error",children:"Aucune question disponible pour cet exercice."})]}):(0,$.jsxs)(Ms,{severity:"error",children:["Type d'exercice non support\xe9: ",r.type]})]})):(0,$.jsxs)(le,{sx:{p:3},children:[u>0&&(0,$.jsx)(Ms,{severity:"warning",sx:{mb:3},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Note :"})," ",u," exercice(s) incomplet(s) ont \xe9t\xe9 automatiquement filtr\xe9s car ils contiennent des placeholders au lieu de contenu r\xe9el. Seuls les exercices complets sont affich\xe9s."]})}),0===t.length&&(0,$.jsx)(Ms,{severity:"error",sx:{mb:3},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Erreur :"})," Aucun exercice n'a pu \xeatre charg\xe9. V\xe9rifiez la console pour plus de d\xe9tails."]})}),(0,$.jsxs)(Ce,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:["Exercices disponibles",t.length>0&&(0,$.jsx)(ys,{label:"".concat(t.length," exercice(s) au total"),color:"primary",sx:{ml:2}})]}),(0,$.jsxs)(le,{sx:{display:"flex",gap:2,mb:4},children:[(0,$.jsxs)(Sa,{sx:{minWidth:200},children:[(0,$.jsx)(Oa,{children:"Niveau"}),(0,$.jsxs)(Pc,{value:s,label:"Niveau",onChange:e=>a(e.target.value),children:[(0,$.jsx)(zc,{value:"all",children:"Tous les niveaux"}),(0,$.jsx)(zc,{value:"A2",children:"A2"}),(0,$.jsx)(zc,{value:"B1",children:"B1"}),(0,$.jsx)(zc,{value:"B2",children:"B2"}),(0,$.jsx)(zc,{value:"C1",children:"C1"})]})]}),(0,$.jsxs)(Sa,{sx:{minWidth:200},children:[(0,$.jsx)(Oa,{children:"Type"}),(0,$.jsxs)(Pc,{value:l,label:"Type",onChange:e=>c(e.target.value),children:[(0,$.jsx)(zc,{value:"all",children:"Tous les types"}),(0,$.jsx)(zc,{value:"qcm",children:"QCM"}),(0,$.jsx)(zc,{value:"cloze",children:"Texte \xe0 trous"}),(0,$.jsx)(zc,{value:"listening",children:"Listening (Compr\xe9hension orale)"}),(0,$.jsx)(zc,{value:"reading",children:"Reading (Compr\xe9hension \xe9crite)"})]})]}),(0,$.jsx)(ys,{label:"".concat(m.length," exercice(s)"),color:"primary",sx:{ml:"auto",alignSelf:"center"}})]}),(0,$.jsx)(Be,{container:!0,spacing:3,children:m.map(e=>(0,$.jsx)(Be,{item:!0,xs:12,sm:6,md:4,children:(0,$.jsxs)(Ye,{elevation:3,sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,$.jsxs)(et,{sx:{flexGrow:1},children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,$.jsx)(ys,{label:e.level,color:"C1"===e.level?"error":"B2"===e.level?"warning":"B1"===e.level?"info":"success",size:"small"}),(0,$.jsx)(ys,{label:"qcm"===e.type?"QCM":"Texte \xe0 trous",variant:"outlined",size:"small"})]}),(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,sx:{minHeight:60},children:e.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:2,minHeight:40},children:e.description}),(0,$.jsxs)(le,{sx:{display:"flex",gap:2,mb:2},children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,$.jsx)(fo,{fontSize:"small",color:"action"}),(0,$.jsxs)(Ce,{variant:"caption",children:[e.questions.length," question(s)"]})]}),(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,$.jsx)(ca,{fontSize:"small",color:"action"}),(0,$.jsxs)(Ce,{variant:"caption",children:["~",e.estimatedTime," min"]})]}),(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,$.jsx)(ua,{fontSize:"small",color:"action"}),(0,$.jsxs)(Ce,{variant:"caption",children:["Niveau ",e.difficulty,"/5"]})]})]}),(0,$.jsx)(ys,{label:e.domain,size:"small",sx:{mt:1}})]}),(0,$.jsx)(le,{sx:{p:2,pt:0},children:(0,$.jsx)(hn,{variant:"contained",fullWidth:!0,type:"button",onClick:t=>{var n;t.preventDefault(),t.stopPropagation(),console.log("\ud83d\uddb1\ufe0f \xc9V\xc9NEMENT CLIC D\xc9TECT\xc9 pour:",e.id,e.title),console.log("\ud83d\udd0d Exercice au moment du clic:",{id:e.id,title:e.title,questionsCount:(null===(n=e.questions)||void 0===n?void 0:n.length)||0,type:e.type}),g(e)},onMouseDown:t=>{t.stopPropagation(),console.log("\ud83d\uddb1\ufe0f MouseDown d\xe9tect\xe9 pour:",e.id)},disabled:!e.questions||0===e.questions.length,sx:{cursor:e.questions&&e.questions.length>0?"pointer":"not-allowed","&:hover":{backgroundColor:e.questions&&e.questions.length>0?"primary.dark":"action.disabled"}},children:e.questions&&e.questions.length>0?"Commencer":"Indisponible"})})]})},e.id))}),0===m.length&&(0,$.jsxs)(le,{sx:{textAlign:"center",py:8},children:[(0,$.jsx)(Ce,{variant:"h6",color:"text.secondary",children:"Aucun exercice trouv\xe9 pour ces crit\xe8res"}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Essayez de changer les filtres"})]})]})},gp=uo((0,$.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9v7c0 1.1.9 2 2 2h4v-8H5v-1c0-3.87 3.13-7 7-7s7 3.13 7 7v1h-4v8h4c1.1 0 2-.9 2-2v-7c0-4.97-4.03-9-9-9"}),"Headphones"),vp=uo((0,$.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),yp=[{id:"l1",section:"listening",question:"Listen to the audio: 'The system was deployed yesterday.' What tense is used?",audioText:"The system was deployed yesterday.",options:["Present Simple","Past Simple","Present Perfect","Past Perfect"],correctAnswer:"Past Simple",level:"B1",points:1},{id:"l2",section:"listening",question:"Listen: 'We have been working on this project for three months.' What does this indicate?",audioText:"We have been working on this project for three months.",options:["The project is finished","The project started in the past and continues now","The project will start in three months","The project lasted only three months"],correctAnswer:"The project started in the past and continues now",level:"B2",points:2},{id:"l3",section:"listening",question:"Listen: 'The vulnerability could have been prevented.' What is the meaning?",audioText:"The vulnerability could have been prevented.",options:["It was prevented","It will be prevented","It was possible to prevent it but it wasn't done","It cannot be prevented"],correctAnswer:"It was possible to prevent it but it wasn't done",level:"C1",points:3},{id:"l4",section:"listening",question:"Listen: 'By implementing CI/CD, deployment time has decreased significantly.' What happened?",audioText:"By implementing CI/CD, deployment time has decreased significantly.",options:["Deployment takes more time now","Deployment time stayed the same","Deployment became much faster","CI/CD was not implemented"],correctAnswer:"Deployment became much faster",level:"B2",points:2},{id:"l5",section:"listening",question:"Listen: 'Had the team followed best practices, the security breach would not have occurred.' What does this mean?",audioText:"Had the team followed best practices, the security breach would not have occurred.",options:["The team followed best practices","The team didn't follow best practices and there was a breach","There was no security breach","Best practices are not important"],correctAnswer:"The team didn't follow best practices and there was a breach",level:"C1",points:3},{id:"l6",section:"listening",question:"Listen: 'The application is being tested by the QA team.' What is the current status?",audioText:"The application is being tested by the QA team.",options:["Testing is complete","Testing will start soon","Testing is happening right now","Testing was cancelled"],correctAnswer:"Testing is happening right now",level:"B2",points:2},{id:"r1",section:"reading",question:"What is the main topic of this text?",readingText:"Technical debt occurs when developers choose quick solutions over better approaches. While these shortcuts save time initially, they accumulate interest in the form of increased maintenance costs and reduced code quality. Managing technical debt requires regular refactoring and prioritization.",options:["Quick coding techniques","Managing shortcuts in software development","Cost reduction strategies","Code quality standards"],correctAnswer:"Managing shortcuts in software development",level:"B2",points:2},{id:"r2",section:"reading",question:"According to the text, what is the consequence of technical debt?",readingText:"Technical debt occurs when developers choose quick solutions over better approaches. While these shortcuts save time initially, they accumulate interest in the form of increased maintenance costs and reduced code quality. Managing technical debt requires regular refactoring and prioritization.",options:["Faster development","Better code quality","Increased maintenance costs","No consequences"],correctAnswer:"Increased maintenance costs",level:"B2",points:2},{id:"r3",section:"reading",question:"What does RAG stand for in AI systems?",readingText:"Retrieval-Augmented Generation (RAG) is an AI framework that combines the power of large language models with external knowledge retrieval. Rather than relying solely on pre-trained knowledge, RAG systems query a database or document corpus to retrieve relevant information, which is then used to generate more accurate and contextually appropriate responses.",options:["Rapid Application Generation","Retrieval-Augmented Generation","Random Access Gateway","Real-time Analytics Generator"],correctAnswer:"Retrieval-Augmented Generation",level:"C1",points:3},{id:"r4",section:"reading",question:"How does RAG improve AI responses?",readingText:"Retrieval-Augmented Generation (RAG) is an AI framework that combines the power of large language models with external knowledge retrieval. Rather than relying solely on pre-trained knowledge, RAG systems query a database or document corpus to retrieve relevant information, which is then used to generate more accurate and contextually appropriate responses.",options:["By using only pre-trained data","By accessing external knowledge sources","By generating random responses","By reducing computation time"],correctAnswer:"By accessing external knowledge sources",level:"C1",points:3},{id:"r5",section:"reading",question:"What is the primary purpose of MLOps?",readingText:"MLOps (Machine Learning Operations) applies DevOps principles to machine learning workflows. It encompasses the practices, tools, and cultural philosophies necessary to deploy, monitor, and maintain ML models in production. Key aspects include automated testing, continuous integration/continuous deployment (CI/CD), model versioning, and performance monitoring.",options:["To replace DevOps engineers","To deploy and maintain ML models in production","To train machine learning models","To reduce computational costs"],correctAnswer:"To deploy and maintain ML models in production",level:"B2",points:2},{id:"r6",section:"reading",question:"Which is NOT mentioned as a key aspect of MLOps?",readingText:"MLOps (Machine Learning Operations) applies DevOps principles to machine learning workflows. It encompasses the practices, tools, and cultural philosophies necessary to deploy, monitor, and maintain ML models in production. Key aspects include automated testing, continuous integration/continuous deployment (CI/CD), model versioning, and performance monitoring.",options:["Automated testing","Model versioning","Manual deployment","Performance monitoring"],correctAnswer:"Manual deployment",level:"B2",points:2},{id:"w1",section:"writing",question:"Complete the sentence: The bug ___ fixed by the developer yesterday.",correctAnswer:["was"],level:"B1",points:1},{id:"w2",section:"writing",question:"Complete: We have ___ implementing microservices for two years.",correctAnswer:["been"],level:"B2",points:2},{id:"w3",section:"writing",question:"Complete: Technical debt accumulates when teams choose quick solutions ___ of better approaches.",correctAnswer:["instead"],level:"B2",points:2},{id:"w4",section:"writing",question:"Complete: Had the team ___ the security audit, the breach would not have occurred.",correctAnswer:["conducted","performed","done","completed"],level:"C1",points:3},{id:"w5",section:"writing",question:"Complete: Not only ___ the system more secure, but it also improved performance.",correctAnswer:["did it make","did we make"],level:"C1",points:3},{id:"w6",section:"writing",question:"Complete: The application ___ currently ___ tested by the QA team.",correctAnswer:["is being"],level:"B2",points:2}],bp=(e,t)=>({l1:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Past Simple (Pass\xe9 simple)"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["Le ",(0,$.jsx)("strong",{children:"Past Simple"})," est utilis\xe9 pour d\xe9crire une action termin\xe9e dans le pass\xe9, souvent accompagn\xe9e d'un indicateur de temps pr\xe9cis."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 Forme affirmative : Sujet + verbe-ed (ou verbe irr\xe9gulier)",(0,$.jsx)("br",{}),'\u2022 Exemple : "The system ',(0,$.jsx)("strong",{children:"was deployed"}),' yesterday."',(0,$.jsx)("br",{}),"\u2022 Indicateurs : yesterday, last week, in 2020, ago"]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"\u26a0\ufe0f Attention :"}),' "was deployed" est \xe0 la voix passive. Voix active \xe9quivalente : "They deployed the system yesterday."']}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Autres exemples :"}),(0,$.jsx)("br",{}),'\u2022 "I worked on this project last month."',(0,$.jsx)("br",{}),'\u2022 "The bug was fixed two days ago."',(0,$.jsx)("br",{}),'\u2022 "She tested the application yesterday."']})]}),l2:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Present Perfect Continuous"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["Le ",(0,$.jsx)("strong",{children:"Present Perfect Continuous"})," exprime une action qui a commenc\xe9 dans le pass\xe9 et qui continue jusqu'\xe0 maintenant, avec emphase sur la dur\xe9e."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 Have/Has + been + verbe-ing",(0,$.jsx)("br",{}),'\u2022 Exemple : "We ',(0,$.jsx)("strong",{children:"have been working"}),' for three months."',(0,$.jsx)("br",{}),"\u2022 Indicateurs : for (dur\xe9e), since (point de d\xe9part)"]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"Diff\xe9rence avec Present Perfect Simple :"}),(0,$.jsx)("br",{}),"\u2022 Perfect Continuous : emphase sur la dur\xe9e/continuit\xe9",(0,$.jsx)("br",{}),"\u2022 Perfect Simple : emphase sur le r\xe9sultat/ach\xe8vement",(0,$.jsx)("br",{}),'Exemple : "I have been reading" (je lis encore) vs "I have read" (j\'ai fini)']}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Autres exemples :"}),(0,$.jsx)("br",{}),'\u2022 "She has been learning English for 5 years."',(0,$.jsx)("br",{}),'\u2022 "They have been developing this feature since January."',(0,$.jsx)("br",{}),'\u2022 "The server has been running continuously."']})]}),l3:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Modal Perfect (Could have + past participle)"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:'"Could have + past participle"'})," exprime une possibilit\xe9 dans le pass\xe9 qui ne s'est pas r\xe9alis\xe9e (regret, reproche, ou constat)."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 Modal (could/should/would) + have + past participle",(0,$.jsx)("br",{}),'\u2022 Exemple : "The vulnerability ',(0,$.jsx)("strong",{children:"could have been prevented"}),'."',(0,$.jsx)("br",{}),"\u2022 Signification : C'\xe9tait possible de le pr\xe9venir, mais \xe7a n'a pas \xe9t\xe9 fait."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"Autres modaux au pass\xe9 :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Should have :"})," obligation non respect\xe9e (reproche)",(0,$.jsx)("br",{}),'\xa0\xa0"You should have tested the code."',(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Would have :"})," conditionnel pass\xe9",(0,$.jsx)("br",{}),'\xa0\xa0"I would have fixed it if I had known."',(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Must have :"})," d\xe9duction logique sur le pass\xe9",(0,$.jsx)("br",{}),'\xa0\xa0"He must have forgotten the meeting."']}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Exemples IT :"}),(0,$.jsx)("br",{}),'\u2022 "The data breach could have been prevented with proper encryption."',(0,$.jsx)("br",{}),'\u2022 "The deployment should have been tested in staging first."',(0,$.jsx)("br",{}),'\u2022 "The bug would have been caught if we had unit tests."']})]}),l4:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Present Perfect + Cause/Effect"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["Le ",(0,$.jsx)("strong",{children:"Present Perfect"}),' est utilis\xe9 ici pour montrer un r\xe9sultat pr\xe9sent d\'une action pass\xe9e. "By implementing" (g\xe9rondif) exprime le moyen/la cause.']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 By + verb-ing (moyen) \u2192 r\xe9sultat",(0,$.jsx)("br",{}),'\u2022 Exemple : "',(0,$.jsx)("strong",{children:"By implementing"})," CI/CD, time ",(0,$.jsx)("strong",{children:"has decreased"}),'."',(0,$.jsx)("br",{}),'\u2022 "By" = "en faisant", "gr\xe2ce \xe0"']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"Vocabulaire cl\xe9 :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Significantly :"})," de mani\xe8re significative",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Decrease :"})," diminuer (\u2260 increase : augmenter)",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Deployment :"})," d\xe9ploiement, mise en production"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Expressions similaires :"}),(0,$.jsx)("br",{}),'\u2022 "By using automation, we have improved efficiency."',(0,$.jsx)("br",{}),'\u2022 "Through refactoring, code quality has increased."',(0,$.jsx)("br",{}),'\u2022 "Thanks to monitoring, downtime has reduced."']})]}),l5:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Third Conditional (Inversion)"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["Le ",(0,$.jsx)("strong",{children:"Third Conditional"}),' exprime une situation hypoth\xe9tique dans le pass\xe9 et son r\xe9sultat irr\xe9el. L\'inversion avec "Had" rend la phrase plus formelle.']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure classique :"}),(0,$.jsx)("br",{}),"\u2022 If + past perfect \u2192 would have + past participle",(0,$.jsx)("br",{}),'\u2022 "If the team ',(0,$.jsx)("strong",{children:"had followed"})," practices, breach ",(0,$.jsx)("strong",{children:"would not have occurred"}),'."']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"warning.light",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure avec inversion (formelle) :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Had + sujet + past participle"})," \u2192 would have + past participle",(0,$.jsx)("br",{}),'\u2022 "',(0,$.jsx)("strong",{children:"Had the team followed"}),' practices, breach would not have occurred."',(0,$.jsx)("br",{}),'\u2022 Note : "If" dispara\xeet, "had" passe en t\xeate']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"Signification :"})," L'\xe9quipe n'a PAS suivi les bonnes pratiques, et en cons\xe9quence, la faille de s\xe9curit\xe9 s'est produite."]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Autres exemples avec inversion :"}),(0,$.jsx)("br",{}),'\u2022 "Had I known, I would have acted differently."',(0,$.jsx)("br",{}),'\u2022 "Had they tested properly, the bug would have been caught."',(0,$.jsx)("br",{}),'\u2022 "Had we deployed earlier, the deadline would have been met."']})]}),l6:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Present Continuous Passive"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["Le ",(0,$.jsx)("strong",{children:"Present Continuous Passive"})," d\xe9crit une action en cours de r\xe9alisation au moment pr\xe9sent, \xe0 la voix passive (l'agent n'est pas l'acteur principal)."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 Is/Are + being + past participle",(0,$.jsx)("br",{}),'\u2022 Exemple : "The application ',(0,$.jsx)("strong",{children:"is being tested"}),' by the QA team."',(0,$.jsx)("br",{}),'\u2022 Forme active : "The QA team is testing the application."']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"Quand l'utiliser :"}),(0,$.jsx)("br",{}),"\u2022 Action en cours maintenant",(0,$.jsx)("br",{}),"\u2022 Focus sur l'objet de l'action (pas l'agent)",(0,$.jsx)("br",{}),"\u2022 Processus temporaire"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Exemples IT :"}),(0,$.jsx)("br",{}),'\u2022 "The code is being reviewed by senior developers."',(0,$.jsx)("br",{}),'\u2022 "New features are being developed right now."',(0,$.jsx)("br",{}),'\u2022 "The database is being migrated to the cloud."',(0,$.jsx)("br",{}),'\u2022 "Security patches are being deployed across all servers."']})]}),r1:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"Compr\xe9hension \xe9crite : Id\xe9e principale"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["Le texte parle de la ",(0,$.jsx)("strong",{children:"dette technique"})," : des solutions rapides qui cr\xe9ent des probl\xe8mes \xe0 long terme."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Vocabulaire cl\xe9 :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Technical debt :"})," dette technique",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Shortcuts :"})," raccourcis, solutions rapides",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Accumulate interest :"})," accumuler des int\xe9r\xeats (m\xe9taphore financi\xe8re)",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Maintenance costs :"})," co\xfbts de maintenance"]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"Expressions courantes IT :"}),(0,$.jsx)("br",{}),'\u2022 "Quick and dirty solution" = solution rapide mais de mauvaise qualit\xe9',(0,$.jsx)("br",{}),'\u2022 "Cut corners" = prendre des raccourcis',(0,$.jsx)("br",{}),'\u2022 "Pay down technical debt" = rembourser la dette technique',(0,$.jsx)("br",{}),'\u2022 "Code smells" = signes de mauvaise qualit\xe9 de code']})]}),r2:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"Compr\xe9hension : Cause et cons\xe9quence"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["Le texte explique que la dette technique ",(0,$.jsx)("strong",{children:"augmente les co\xfbts de maintenance"}),"."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Mots de liaison cause/cons\xe9quence :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Because / Since / As :"})," parce que",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Therefore / Thus / Hence :"})," donc, par cons\xe9quent",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"As a result / Consequently :"})," en cons\xe9quence",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Due to / Owing to :"})," en raison de"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Exemple :"}),' "Due to technical debt, maintenance costs increased."']})]}),r3:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"Acronyme : RAG (Retrieval-Augmented Generation)"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"RAG"})," est un framework d'IA qui combine g\xe9n\xe9ration de texte et recherche d'informations externes pour des r\xe9ponses plus pr\xe9cises."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Vocabulaire technique IA :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Framework :"})," cadre de travail, infrastructure",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Retrieval :"})," r\xe9cup\xe9ration, recherche",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Augmented :"})," augment\xe9, am\xe9lior\xe9",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Query :"})," requ\xeate, interrogation",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Corpus :"})," ensemble de documents"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Autres acronymes IA courants :"}),(0,$.jsx)("br",{}),"\u2022 LLM: Large Language Model",(0,$.jsx)("br",{}),"\u2022 NLP: Natural Language Processing",(0,$.jsx)("br",{}),"\u2022 MLOps: Machine Learning Operations",(0,$.jsx)("br",{}),"\u2022 API: Application Programming Interface"]})]}),r4:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"Compr\xe9hension : M\xe9canisme de fonctionnement"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["RAG am\xe9liore les r\xe9ponses en ",(0,$.jsx)("strong",{children:"acc\xe9dant \xe0 des sources de connaissances externes"}),", pas seulement aux donn\xe9es pr\xe9-entra\xeen\xe9es."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:'Expression : "Rather than"'}),(0,$.jsx)("br",{}),'\u2022 Signification : "plut\xf4t que", "au lieu de"',(0,$.jsx)("br",{}),'\u2022 Exemple : "Rather than relying on memory, it queries a database."',(0,$.jsx)("br",{}),"\u2022 Synonymes : instead of, in lieu of"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Expressions de comparaison :"}),(0,$.jsx)("br",{}),'\u2022 "Unlike X, Y does..." = Contrairement \xe0 X, Y fait...',(0,$.jsx)("br",{}),'\u2022 "Whereas X is limited, Y can..." = Alors que X est limit\xe9, Y peut...',(0,$.jsx)("br",{}),'\u2022 "In contrast to X, Y..." = Par opposition \xe0 X, Y...']})]}),r5:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"MLOps : Machine Learning Operations"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["MLOps applique les principes DevOps au machine learning pour ",(0,$.jsx)("strong",{children:"d\xe9ployer et maintenir des mod\xe8les en production"}),"."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Vocabulaire MLOps :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Deploy :"})," d\xe9ployer, mettre en production",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Monitor :"})," surveiller, monitorer",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Maintain :"})," maintenir, entretenir",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Pipeline :"})," cha\xeene de traitement automatis\xe9e",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Versioning :"})," gestion des versions"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Concepts MLOps cl\xe9s :"}),(0,$.jsx)("br",{}),"\u2022 Model training pipeline",(0,$.jsx)("br",{}),"\u2022 Continuous Integration / Continuous Deployment (CI/CD)",(0,$.jsx)("br",{}),"\u2022 Model monitoring and drift detection",(0,$.jsx)("br",{}),"\u2022 A/B testing for models"]})]}),r6:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"Compr\xe9hension : D\xe9tails du texte"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:["Le texte mentionne automated testing, CI/CD, model versioning, et performance monitoring, mais PAS le ",(0,$.jsx)("strong",{children:"d\xe9ploiement manuel"}),"."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Astuce lecture :"}),(0,$.jsx)("br",{}),'\u2022 Questions "NOT mentioned" = attention redoubl\xe9e',(0,$.jsx)("br",{}),"\u2022 Scanner le texte pour chaque option",(0,$.jsx)("br",{}),"\u2022 \xc9liminer les options pr\xe9sentes",(0,$.jsx)("br",{}),"\u2022 La r\xe9ponse est celle qui n'appara\xeet PAS"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Mots de n\xe9gation en anglais :"}),(0,$.jsx)("br",{}),"\u2022 Which is NOT...",(0,$.jsx)("br",{}),"\u2022 Except for...",(0,$.jsx)("br",{}),"\u2022 All of the following EXCEPT...",(0,$.jsx)("br",{}),"\u2022 Neither... nor..."]})]}),w1:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Passive Voice (Past Simple)"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:['"The bug ',(0,$.jsx)("strong",{children:"was"}),' fixed" est \xe0 la voix passive au pass\xe9 simple.']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure voix passive :"}),(0,$.jsx)("br",{}),"\u2022 Be (conjugu\xe9) + past participle",(0,$.jsx)("br",{}),"\u2022 Pass\xe9 simple : was/were + past participle",(0,$.jsx)("br",{}),'\u2022 Exemple : "was fixed", "were tested", "was deployed"']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"Quand utiliser la voix passive :"}),(0,$.jsx)("br",{}),"\u2022 Agent inconnu ou non important",(0,$.jsx)("br",{}),"\u2022 Focus sur l'objet, pas l'agent",(0,$.jsx)("br",{}),"\u2022 Style formel/technique"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Exemples IT :"}),(0,$.jsx)("br",{}),'\u2022 "The code was reviewed by the team."',(0,$.jsx)("br",{}),'\u2022 "The server was restarted at midnight."',(0,$.jsx)("br",{}),'\u2022 "All tests were passed successfully."']})]}),w2:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Present Perfect Continuous"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:['"We have ',(0,$.jsx)("strong",{children:"been"}),' implementing" exprime une action commenc\xe9e dans le pass\xe9 et qui continue.']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 Have/Has + been + verb-ing",(0,$.jsx)("br",{}),'\u2022 Exemple : "have been implementing"',(0,$.jsx)("br",{}),'\u2022 Indicateur temporel : "for two years" (dur\xe9e)']}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"\u26a0\ufe0f Erreurs courantes :"}),(0,$.jsx)("br",{}),'\u2022 \u274c "have implementing" \u2192 \u2705 "have been implementing"',(0,$.jsx)("br",{}),'\u2022 \u274c "have been implement" \u2192 \u2705 "have been implementing"',(0,$.jsx)("br",{}),'\u2022 \u274c "has been implementing" (avec "we") \u2192 \u2705 "have been implementing"']})]}),w3:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:'Expression : "instead of"'})}),(0,$.jsx)(Ce,{variant:"body2",paragraph:!0,children:'"Instead of" = au lieu de, \xe0 la place de'}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 Instead of + noun/gerund",(0,$.jsx)("br",{}),'\u2022 Exemple : "instead of better approaches"',(0,$.jsx)("br",{}),'\u2022 Avec verbe : "instead of using" (g\xe9rondif)']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"\u26a0\ufe0f Ne pas confondre :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Instead of :"})," au lieu de (+ nom/g\xe9rondif)",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"Instead :"}),' \xe0 la place (seul, sans "of")',(0,$.jsx)("br",{}),'Exemple : "I didn\'t go; I stayed home instead."']}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Expressions similaires :"}),(0,$.jsx)("br",{}),'\u2022 "Rather than" = plut\xf4t que',(0,$.jsx)("br",{}),'\u2022 "In place of" = \xe0 la place de',(0,$.jsx)("br",{}),'\u2022 "As an alternative to" = comme alternative \xe0']})]}),w4:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Third Conditional (Past Perfect)"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:['"Had the team ',(0,$.jsx)("strong",{children:"conducted"})," the audit\" = Si l'\xe9quipe avait effectu\xe9 l'audit"]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Verbes accept\xe9s :"}),(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"conducted"})," (mener, effectuer) - le plus courant",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"performed"})," (r\xe9aliser, effectuer)",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"done"})," (faire) - moins formel",(0,$.jsx)("br",{}),"\u2022 ",(0,$.jsx)("strong",{children:"completed"})," (compl\xe9ter, achever)"]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:'Collocations avec "audit" :'}),(0,$.jsx)("br",{}),"\u2022 Conduct an audit (le plus fr\xe9quent)",(0,$.jsx)("br",{}),"\u2022 Perform an audit",(0,$.jsx)("br",{}),"\u2022 Carry out an audit",(0,$.jsx)("br",{}),"\u2022 Complete an audit"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Autres exemples :"}),(0,$.jsx)("br",{}),'\u2022 "Had we conducted a code review..."',(0,$.jsx)("br",{}),'\u2022 "Had they performed load testing..."',(0,$.jsx)("br",{}),'\u2022 "Had the team completed the migration..."']})]}),w5:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Inversion (Emphase)"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:['"Not only ',(0,$.jsx)("strong",{children:"did it make"}),"\" est une structure d'inversion pour l'emphase."]}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 Not only + auxiliaire + sujet + verbe de base",(0,$.jsx)("br",{}),'\u2022 Exemple : "Not only ',(0,$.jsx)("strong",{children:"did it make"}),' the system more secure"',(0,$.jsx)("br",{}),'\u2022 Normal : "It not only made the system more secure"']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"warning.light",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:'\u26a0\ufe0f Apr\xe8s "not only" en d\xe9but de phrase :'}),(0,$.jsx)("br",{}),"\u2022 L'ordre sujet-verbe s'inverse",(0,$.jsx)("br",{}),"\u2022 On ajoute un auxiliaire (do/does/did)",(0,$.jsx)("br",{}),"\u2022 Niveau C1 - Structure formelle"]}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Autres structures similaires :"}),(0,$.jsx)("br",{}),'\u2022 "Never have I seen..." (jamais je n\'ai vu...)',(0,$.jsx)("br",{}),'\u2022 "Rarely does he..." (rarement il...)',(0,$.jsx)("br",{}),'\u2022 "Seldom do we..." (rarement nous...)',(0,$.jsx)("br",{}),"\u2022 \"Only then did I realize...\" (c'est alors que j'ai r\xe9alis\xe9...)"]})]}),w6:(0,$.jsxs)(le,{children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:(0,$.jsx)("strong",{children:"R\xe8gle : Present Continuous Passive"})}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:['"The application ',(0,$.jsx)("strong",{children:"is being"}),' tested" exprime une action passive en cours.']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),"\u2022 Is/Are + being + past participle",(0,$.jsx)("br",{}),'\u2022 Exemple : "',(0,$.jsx)("strong",{children:"is being"}),' tested"',(0,$.jsx)("br",{}),'\u2022 Note : deux mots n\xe9cessaires ("is" + "being")']}),(0,$.jsxs)(Ce,{variant:"body2",paragraph:!0,children:[(0,$.jsx)("strong",{children:"\u26a0\ufe0f Erreurs fr\xe9quentes :"}),(0,$.jsx)("br",{}),'\u2022 \u274c "is tested" \u2192 pr\xe9sent simple passif (pas en cours)',(0,$.jsx)("br",{}),'\u2022 \u274c "is testing" \u2192 pr\xe9sent continu actif (mauvaise voix)',(0,$.jsx)("br",{}),'\u2022 \u274c "has been tested" \u2192 present perfect (action termin\xe9e)',(0,$.jsx)("br",{}),'\u2022 \u2705 "is being tested" \u2192 pr\xe9sent continu passif (action en cours)']}),(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Exemples IT :"}),(0,$.jsx)("br",{}),'\u2022 "The code is being reviewed right now."',(0,$.jsx)("br",{}),'\u2022 "New features are being developed as we speak."',(0,$.jsx)("br",{}),'\u2022 "The database is being migrated this week."']})]})}[e.id]||(0,$.jsx)(Ce,{variant:"body2",children:"Explication \xe0 venir pour cette question."})),xp=t=>{var n;let{onComplete:r}=t;const[o,s]=(0,e.useState)("listening"),[a,l]=(0,e.useState)(0),[c,u]=(0,e.useState)({}),[d,h]=(0,e.useState)(!1),[p,f]=(0,e.useState)(null),[m,g]=(0,e.useState)(!1),{user:v,setUser:y}=us(),{speak:b,stop:x,isSpeaking:w,isSupported:S}=hp(),k=yp.filter(e=>e.section===o),E=k[a],I=yp.length,A=Object.keys(c).length,C=A/I*100,T=(e,t)=>{u(n=>(0,i.A)((0,i.A)({},n),{},{[e]:t}))},j=()=>{let e=0,t=0;yp.forEach(n=>{var r;t+=n.points;const i=null===(r=c[n.id])||void 0===r?void 0:r.toLowerCase().trim();Array.isArray(n.correctAnswer)?n.correctAnswer.some(e=>i===e.toLowerCase())&&(e+=n.points):i===n.correctAnswer.toLowerCase()&&(e+=n.points)});const n=e/t*100;let r;r=n>=80?"C1":n>=65?"B2":n>=45?"B1":"A2",f(r),h(!0),v&&y((0,i.A)((0,i.A)({},v),{},{currentLevel:r,lastActivity:new Date}))},_=void 0!==c[null===E||void 0===E?void 0:E.id];return m&&d&&p?(0,$.jsxs)(le,{sx:{p:3,maxWidth:1200,mx:"auto"},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:"\ud83d\udcdd Correction d\xe9taill\xe9e de l'\xe9valuation"}),(0,$.jsx)(Ms,{severity:"info",sx:{mb:3},children:(0,$.jsx)(Ce,{variant:"body2",children:"Voici la correction compl\xe8te avec explications grammaticales, exemples et exceptions. Prenez le temps de bien comprendre chaque point."})}),yp.map((e,t)=>{const n=(e=>{var t;const n=null===(t=c[e.id])||void 0===t?void 0:t.toLowerCase().trim();return Array.isArray(e.correctAnswer)?e.correctAnswer.some(e=>n===e.toLowerCase()):n===e.correctAnswer.toLowerCase()})(e),r=c[e.id],i=Array.isArray(e.correctAnswer)?e.correctAnswer[0]:e.correctAnswer;return(0,$.jsx)(Ye,{sx:{mb:3,border:2,borderColor:n?"success.main":"error.main"},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,$.jsx)(ys,{label:"Question ".concat(t+1),color:n?"success":"error"}),(0,$.jsx)(ys,{label:e.section.toUpperCase(),size:"small"}),(0,$.jsx)(ys,{label:"Niveau ".concat(e.level),size:"small",variant:"outlined"}),n?(0,$.jsx)(ha,{color:"success"}):(0,$.jsxs)(le,{sx:{color:"error.main",display:"flex",alignItems:"center",gap:.5},children:["\u274c ",(0,$.jsx)(Ce,{variant:"body2",children:"Incorrect"})]})]}),(0,$.jsx)(Ce,{variant:"h6",sx:{mb:2},children:e.question}),e.audioText&&(0,$.jsx)(le,{sx:{mb:2,p:2,bgcolor:"grey.100",borderRadius:1},children:(0,$.jsxs)(Ce,{variant:"body2",sx:{fontStyle:"italic"},children:['\ud83d\udd0a Texte audio : "',e.audioText,'"']})}),e.readingText&&(0,$.jsx)(le,{sx:{mb:2,p:2,bgcolor:"grey.100",borderRadius:1},children:(0,$.jsx)(Ce,{variant:"body2",children:e.readingText})}),(0,$.jsx)(le,{sx:{mb:3},children:(0,$.jsxs)(Be,{container:!0,spacing:2,children:[(0,$.jsx)(Be,{item:!0,xs:12,md:6,children:(0,$.jsxs)(le,{sx:{p:2,bgcolor:n?"success.light":"error.light",borderRadius:1},children:[(0,$.jsx)(Ce,{variant:"subtitle2",sx:{color:n?"success.dark":"error.dark",mb:1},children:n?"\u2705 Votre r\xe9ponse (correcte)":"\u274c Votre r\xe9ponse"}),(0,$.jsx)(Ce,{variant:"body1",sx:{fontWeight:"bold"},children:r||"(non r\xe9pondu)"})]})}),!n&&(0,$.jsx)(Be,{item:!0,xs:12,md:6,children:(0,$.jsxs)(le,{sx:{p:2,bgcolor:"success.light",borderRadius:1},children:[(0,$.jsx)(Ce,{variant:"subtitle2",sx:{color:"success.dark",mb:1},children:"\u2705 R\xe9ponse correcte"}),(0,$.jsx)(Ce,{variant:"body1",sx:{fontWeight:"bold"},children:i}),Array.isArray(e.correctAnswer)&&e.correctAnswer.length>1&&(0,$.jsxs)(Ce,{variant:"caption",display:"block",sx:{mt:1},children:["Autres r\xe9ponses accept\xe9es : ",e.correctAnswer.slice(1).join(", ")]})]})})]})}),(0,$.jsxs)(le,{sx:{p:3,bgcolor:"primary.light",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"h6",sx:{color:"white",mb:2},children:"\ud83d\udcda Explication grammaticale"}),(0,$.jsx)(le,{sx:{p:2,bgcolor:"white",borderRadius:1},children:bp(e)})]})]})},e.id)}),(0,$.jsxs)(le,{sx:{display:"flex",gap:2,justifyContent:"center",mt:4},children:[(0,$.jsx)(hn,{variant:"outlined",onClick:()=>g(!1),children:"Retour au r\xe9sultat"}),(0,$.jsx)(hn,{variant:"contained",onClick:r,children:"Terminer et continuer"})]})]}):d&&p?(0,$.jsx)(le,{sx:{p:3,maxWidth:800,mx:"auto"},children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{sx:{textAlign:"center",py:6},children:[(0,$.jsx)(ha,{sx:{fontSize:80,color:"success.main",mb:3}}),(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,children:"\xc9valuation compl\xe8te termin\xe9e !"}),(0,$.jsxs)(le,{sx:{my:4,p:3,bgcolor:"primary.light",borderRadius:2},children:[(0,$.jsx)(Ce,{variant:"h5",sx:{color:"white",mb:1},children:"Votre niveau estim\xe9 :"}),(0,$.jsx)(Ce,{variant:"h2",sx:{color:"white",fontWeight:"bold"},children:p})]}),(0,$.jsxs)(Ms,{severity:"info",sx:{mb:3,textAlign:"left"},children:[(0,$.jsx)(Ce,{variant:"body2",sx:{mb:2},children:(0,$.jsx)("strong",{children:"R\xe9sultats d\xe9taill\xe9s :"})}),(0,$.jsxs)(le,{sx:{display:"flex",gap:2,justifyContent:"space-around"},children:[(0,$.jsxs)(le,{children:[(0,$.jsx)(gp,{sx:{verticalAlign:"middle",mr:.5}}),(0,$.jsxs)(Ce,{variant:"caption",children:["Listening: ",yp.filter(e=>{var t;return"listening"===e.section&&(null===(t=c[e.id])||void 0===t?void 0:t.toLowerCase())===(Array.isArray(e.correctAnswer)?e.correctAnswer[0]:e.correctAnswer).toLowerCase()}).length,"/6"]})]}),(0,$.jsxs)(le,{children:[(0,$.jsx)(aa,{sx:{verticalAlign:"middle",mr:.5}}),(0,$.jsxs)(Ce,{variant:"caption",children:["Reading: ",yp.filter(e=>{var t;return"reading"===e.section&&(null===(t=c[e.id])||void 0===t?void 0:t.toLowerCase())===(Array.isArray(e.correctAnswer)?e.correctAnswer[0]:e.correctAnswer).toLowerCase()}).length,"/6"]})]}),(0,$.jsxs)(le,{children:[(0,$.jsx)(vp,{sx:{verticalAlign:"middle",mr:.5}}),(0,$.jsxs)(Ce,{variant:"caption",children:["Writing: ",yp.filter(e=>"writing"===e.section&&Array.isArray(e.correctAnswer)&&e.correctAnswer.some(t=>{var n;return(null===(n=c[e.id])||void 0===n?void 0:n.toLowerCase().trim())===t.toLowerCase()})).length,"/6"]})]})]})]}),(0,$.jsx)(Ce,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Les exercices seront adapt\xe9s \xe0 votre niveau. Vous pouvez commencer d\xe8s maintenant !"}),(0,$.jsxs)(le,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[(0,$.jsx)(hn,{variant:"outlined",size:"large",onClick:()=>g(!0),children:"\ud83d\udcdd Voir la correction d\xe9taill\xe9e"}),(0,$.jsx)(hn,{variant:"contained",size:"large",onClick:r,children:"Commencer les exercices"})]})]})})}):(0,$.jsxs)(le,{sx:{p:3,maxWidth:1e3,mx:"auto"},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,sx:{mb:2},children:"\xc9valuation compl\xe8te de niveau"}),(0,$.jsxs)(Ms,{severity:"info",sx:{mb:3},children:["Cette \xe9valuation comporte 18 questions r\xe9parties en 3 sections :",(0,$.jsx)("strong",{children:" Listening (compr\xe9hension orale)"}),",",(0,$.jsx)("strong",{children:" Reading (compr\xe9hension \xe9crite)"}),", et",(0,$.jsx)("strong",{children:" Writing (expression \xe9crite)"}),"."]}),(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:["Progression globale : ",A,"/",I," questions"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"primary",children:[Math.round(C),"%"]})]}),(0,$.jsx)(oa,{variant:"determinate",value:C,sx:{height:8,borderRadius:1}})]}),(0,$.jsxs)(le,{sx:{display:"flex",gap:2,mb:4},children:[(0,$.jsx)(ys,{icon:(0,$.jsx)(gp,{}),label:"Listening",color:"listening"===o?"primary":"default",variant:"listening"===o?"filled":"outlined"}),(0,$.jsx)(ys,{icon:(0,$.jsx)(aa,{}),label:"Reading",color:"reading"===o?"primary":"default",variant:"reading"===o?"filled":"outlined"}),(0,$.jsx)(ys,{icon:(0,$.jsx)(vp,{}),label:"Writing",color:"writing"===o?"primary":"default",variant:"writing"===o?"filled":"outlined"})]}),(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsxs)(Ce,{variant:"overline",color:"text.secondary",children:[o.toUpperCase()," - Question ",a+1," / ",k.length]}),"listening"===o&&E.audioText&&(0,$.jsxs)(le,{sx:{my:2,p:3,bgcolor:"primary.light",borderRadius:2,border:2,borderColor:"primary.main"},children:[!S&&(0,$.jsx)(Ms,{severity:"warning",sx:{mb:2},children:"Votre navigateur ne supporte pas la synth\xe8se vocale. Veuillez utiliser Chrome, Edge ou Safari."}),(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,$.jsx)(vo,{sx:{fontSize:40,color:"white"}}),(0,$.jsx)(Ce,{variant:"h6",sx:{color:"white",flexGrow:1},children:"Section d'\xe9coute"}),(0,$.jsx)(_h,{title:w?"Arr\xeater":"\xc9couter",children:(0,$.jsx)("span",{children:(0,$.jsx)(An,{onClick:()=>{return e=E.audioText,void(w?x():b(e,"en-US"));var e},disabled:!S,sx:{bgcolor:"white","&:hover":{bgcolor:"grey.200"},width:60,height:60},children:w?(0,$.jsx)(lp,{sx:{fontSize:30}}):(0,$.jsx)(cp,{sx:{fontSize:30}})})})})]}),(0,$.jsx)(le,{sx:{p:2,bgcolor:"white",borderRadius:1},children:(0,$.jsxs)(Ce,{variant:"body1",sx:{fontStyle:"italic",color:"text.primary"},children:['"',E.audioText,'"']})}),(0,$.jsx)(Ce,{variant:"caption",sx:{display:"block",mt:1,color:"white"},children:"\ud83d\udca1 Cliquez sur le bouton lecture pour entendre le texte en anglais"})]}),"reading"===o&&E.readingText&&(0,$.jsx)(le,{sx:{my:2,p:3,bgcolor:"grey.50",borderRadius:2,border:1,borderColor:"grey.300"},children:(0,$.jsx)(Ce,{variant:"body1",sx:{lineHeight:1.8},children:E.readingText})}),(0,$.jsx)(Ce,{variant:"h6",sx:{mt:2,mb:3},children:E.question}),"writing"===o?(0,$.jsx)(Uu,{fullWidth:!0,variant:"outlined",placeholder:"Entrez votre r\xe9ponse ici...",value:c[E.id]||"",onChange:e=>T(E.id,e.target.value),multiline:!1,sx:{mb:2}}):(0,$.jsx)(Sa,{component:"fieldset",fullWidth:!0,children:(0,$.jsx)(Qc,{value:c[E.id]||"",onChange:e=>T(E.id,e.target.value),children:null===(n=E.options)||void 0===n?void 0:n.map((e,t)=>(0,$.jsx)(cu,{value:e,control:(0,$.jsx)(Tu,{}),label:e,sx:{p:2,mb:1,border:1,borderColor:"grey.300",borderRadius:2,"&:hover":{bgcolor:"grey.50"}}},t))})})]}),(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[(0,$.jsx)(hn,{onClick:()=>{a>0?l(e=>e-1):"reading"===o?(s("listening"),l(yp.filter(e=>"listening"===e.section).length-1)):"writing"===o&&(s("reading"),l(yp.filter(e=>"reading"===e.section).length-1))},disabled:"listening"===o&&0===a,children:"Pr\xe9c\xe9dent"}),(0,$.jsx)(hn,{variant:"contained",onClick:()=>{a<k.length-1?l(e=>e+1):"listening"===o?(s("reading"),l(0)):"reading"===o?(s("writing"),l(0)):j()},disabled:!_,children:"writing"===o&&a===k.length-1?"Terminer l'\xe9valuation":"Suivant"})]})]})})]})};function wp(e){return re("MuiDialog",e)}const Sp=ie("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const kp=e.createContext({}),Ep=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Ip=fe(dr,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Ap=fe(Cr,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Cp=fe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t["scroll".concat(we(n.scroll))]]}})(e=>{let{ownerState:t}=e;return(0,o.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})}),Tp=fe(Ke,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["scrollPaper".concat(we(n.scroll))],t["paperWidth".concat(we(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(Sp.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit),["&.".concat(Sp.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(Sp.paperScrollBody)]:{margin:0,maxWidth:"100%"}})}),jp=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiDialog"}),i=je(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":c,BackdropComponent:u,BackdropProps:d,children:h,className:p,disableEscapeKeyDown:f=!1,fullScreen:m=!1,fullWidth:g=!1,maxWidth:v="sm",onBackdropClick:y,onClick:b,onClose:x,open:w,PaperComponent:S=Ke,PaperProps:k={},scroll:E="paper",TransitionComponent:I=ar,transitionDuration:A=a,TransitionProps:C}=r,T=(0,s.A)(r,Ep),j=(0,o.A)({},r,{disableEscapeKeyDown:f,fullScreen:m,fullWidth:g,maxWidth:v,scroll:E}),_=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e;return ce({root:["root"],container:["container","scroll".concat(we(n))],paper:["paper","paperScroll".concat(we(n)),"paperWidth".concat(we(String(r))),i&&"paperFullWidth",o&&"paperFullScreen"]},wp,t)})(j),R=e.useRef(),P=Ki(c),N=e.useMemo(()=>({titleId:P}),[P]);return(0,$.jsx)(Ap,(0,o.A)({className:W(_.root,p),closeAfterTransition:!0,components:{Backdrop:Ip},componentsProps:{backdrop:(0,o.A)({transitionDuration:A,as:u},d)},disableEscapeKeyDown:f,onClose:x,open:w,ref:n,onClick:e=>{b&&b(e),R.current&&(R.current=null,y&&y(e),x&&x(e,"backdropClick"))},ownerState:j},T,{children:(0,$.jsx)(I,(0,o.A)({appear:!0,in:w,timeout:A,role:"presentation"},C,{children:(0,$.jsx)(Cp,{className:W(_.container),onMouseDown:e=>{R.current=e.target===e.currentTarget},ownerState:j,children:(0,$.jsx)(Tp,(0,o.A)({as:S,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":P},k,{className:W(_.paper,k.className),ownerState:j,children:(0,$.jsx)(kp.Provider,{value:N,children:h})}))})}))}))}),_p=jp;function Rp(e){return re("MuiDialogTitle",e)}const Pp=ie("MuiDialogTitle",["root"]),Np=["className","id"],Op=fe(Ce,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Lp=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiDialogTitle"}),{className:i,id:a}=r,l=(0,s.A)(r,Np),c=r,u=(e=>{const{classes:t}=e;return ce({root:["root"]},Rp,t)})(c),{titleId:d=a}=e.useContext(kp);return(0,$.jsx)(Op,(0,o.A)({component:"h2",className:W(u.root,i),ownerState:c,ref:n,variant:"h6",id:null!=a?a:d},l))});function Mp(e){return re("MuiDialogContent",e)}ie("MuiDialogContent",["root","dividers"]);const Dp=["className","dividers"],Fp=fe("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:{[".".concat(Pp.root," + &")]:{paddingTop:0}})}),zp=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiDialogContent"}),{className:r,dividers:i=!1}=n,a=(0,s.A)(n,Dp),l=(0,o.A)({},n,{dividers:i}),c=(e=>{const{classes:t,dividers:n}=e;return ce({root:["root",n&&"dividers"]},Mp,t)})(l);return(0,$.jsx)(Fp,(0,o.A)({className:W(c.root,r),ownerState:l,ref:t},a))});function Vp(e){return re("MuiDialogActions",e)}ie("MuiDialogActions",["root","spacing"]);const Bp=["className","disableSpacing"],Up=fe("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(e=>{let{ownerState:t}=e;return(0,o.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})}),qp=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:i=!1}=n,a=(0,s.A)(n,Bp),l=(0,o.A)({},n,{disableSpacing:i}),c=(e=>{const{classes:t,disableSpacing:n}=e;return ce({root:["root",!n&&"spacing"]},Vp,t)})(l);return(0,$.jsx)(Up,(0,o.A)({className:W(c.root,r),ownerState:l,ref:t},a))}),Wp=uo((0,$.jsx)("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline"),Hp=uo((0,$.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),Kp=uo((0,$.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove"),Gp=t=>{let{onNavigate:n}=t;const{user:r,responses:o}=us(),[s,a]=(0,e.useState)(0),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(null),[h,p]=(0,e.useState)(!0),[f,m]=(0,e.useState)([]),[g,v]=(0,e.useState)(new Set),y=(e,t)=>{const n=t.filter(t=>t.exerciseLevel===e);if(0===n.length)return 0;const r=n.filter(e=>e.isCorrect).length;return Math.round(r/n.length*100)},b=(0,e.useMemo)(()=>{if(!r)return[];const e=(e=>{if(0===e.length)return{overallScore:0,grammarScore:0,vocabularyScore:0,weakAreas:[],strongAreas:[],recommendedExercises:[]};const t=e.filter(e=>e.isCorrect).length,n=Math.round(t/e.length*100),r=e.filter(e=>!e.isCorrect),i=[];r.length>.3*e.length&&i.push("Grammaire g\xe9n\xe9rale"),r.length>.4*e.length&&i.push("Vocabulaire technique"),r.length>.5*e.length&&i.push("Compr\xe9hension globale");const o=[];return n>=80&&o.push("Compr\xe9hension globale"),n>=90&&o.push("Ma\xeetrise technique"),{overallScore:n,grammarScore:n,vocabularyScore:n,weakAreas:i,strongAreas:o,recommendedExercises:["qcm_001","cloze_001"]}})(o);return e.weakAreas.map(e=>({area:e,severity:"moderate",occurrences:o.filter(e=>!e.isCorrect).length,recommendedExercises:10}))},[r,o,s]),x=(0,e.useMemo)(()=>{if(!r)return[];const e=[],t=r.currentLevel,n=r.targetLevel;if(e.push({id:"consolidate",title:"Consolider le niveau ".concat(t),description:"Ma\xeetriser les fondamentaux de votre niveau actuel",priority:"high",targetLevel:t,estimatedWeeks:2,progress:y(t,o),exerciseTypes:["qcm","cloze"],domains:["ai","angular","devops"],completed:!1}),b.length>0&&e.push({id:"weaknesses",title:"Am\xe9liorer les points faibles",description:"Travailler sur : ".concat(b.map(e=>e.area).join(", ")),priority:"high",targetLevel:t,estimatedWeeks:3,progress:0,exerciseTypes:["cloze","writing"],domains:["ai","devops"],completed:!1}),"C1"!==t){const n=(e=>{const t=["A2","B1","B2","C1"],n=t.indexOf(e);return t[Math.min(n+1,t.length-1)]})(t);e.push({id:"next_level",title:"Progresser vers le niveau ".concat(n),description:"Introduction aux concepts du niveau sup\xe9rieur",priority:"medium",targetLevel:n,estimatedWeeks:4,progress:0,exerciseTypes:["qcm","reading"],domains:["ai","cybersecurity"],completed:!1})}return e.push({id:"exam_prep",title:"Pr\xe9paration TOEIC/TOEFL",description:"Entra\xeenement cibl\xe9 pour le niveau ".concat(n),priority:"low",targetLevel:n,estimatedWeeks:6,progress:0,exerciseTypes:["listening","reading"],domains:["ai","devops","cybersecurity"],completed:!1}),e.filter(e=>!g.has(e.id)).map(e=>f.find(t=>t.id===e.id)||e)},[r,o,s,b,f,g]),w=(0,e.useCallback)(e=>{console.log("\ud83d\udd04 Clic sur 'Commencer' pour l'objectif:",e.id,e.title),console.log("\ud83d\udccb Objectif complet:",e),e.completed?console.warn("\u26a0\ufe0f Objectif d\xe9j\xe0 compl\xe9t\xe9"):n?(console.log("\u2705 Navigation vers la vue exercices avec filtres:",{level:e.targetLevel,types:e.exerciseTypes,domains:e.domains}),localStorage.setItem("goalFilters",JSON.stringify({level:e.targetLevel,types:e.exerciseTypes,domains:e.domains,goalId:e.id})),n("exercises")):(console.error("\u274c Erreur: onNavigate non d\xe9fini"),window.location.hash="#exercises")},[n]),S=e=>{switch(e){case"critical":return"error";case"moderate":return"warning";case"minor":return"info";default:return"default"}},k=e=>{switch(e){case"high":return"error";case"medium":return"warning";case"low":return"info";default:return"default"}};return r?(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,$.jsx)(Ce,{variant:"h4",children:"Programme d'apprentissage adaptatif"}),(0,$.jsxs)(le,{sx:{display:"flex",gap:2},children:[(0,$.jsx)(_h,{title:"R\xe9actualiser le programme",children:(0,$.jsx)(hn,{startIcon:(0,$.jsx)(sa,{}),onClick:()=>{a(e=>e+1),m([]),v(new Set)},variant:"outlined",children:"Actualiser"})}),(0,$.jsx)(ys,{label:h?"Adaptation auto : ON":"Adaptation auto : OFF",color:h?"success":"default",onClick:()=>p(!h),sx:{cursor:"pointer"}})]})]}),(0,$.jsx)(Ms,{severity:"info",sx:{mb:3},children:(0,$.jsx)(Ce,{variant:"body2",children:"Ce programme s'adapte automatiquement en fonction de vos r\xe9ponses aux exercices. Vous pouvez le modifier \xe0 tout moment en cliquant sur les boutons d'\xe9dition."})}),(0,$.jsx)(Ye,{sx:{mb:3,bgcolor:"primary.light"},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,$.jsx)(Wp,{sx:{fontSize:40,color:"white"}}),(0,$.jsxs)(le,{sx:{flexGrow:1},children:[(0,$.jsxs)(Ce,{variant:"h6",sx:{color:"white"},children:["Niveau actuel : ",r.currentLevel]}),(0,$.jsxs)(Ce,{variant:"body2",sx:{color:"white",opacity:.9},children:["Objectif : ",r.targetLevel," \u2022 ",o.length," exercices compl\xe9t\xe9s"]})]})]}),(0,$.jsx)(oa,{variant:"determinate",value:y(r.currentLevel,o),sx:{height:8,borderRadius:1,bgcolor:"rgba(255,255,255,0.3)"}})]})}),b.length>0&&(0,$.jsx)(Ye,{sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(Ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$.jsx)(Hp,{color:"warning"}),"Points \xe0 am\xe9liorer"]}),(0,$.jsx)(Be,{container:!0,spacing:2,children:b.map((e,t)=>(0,$.jsx)(Be,{item:!0,xs:12,sm:6,md:4,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{children:[(0,$.jsx)(ys,{label:e.severity,color:S(e.severity),size:"small",sx:{mb:1}}),(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:e.area}),(0,$.jsxs)(Ce,{variant:"caption",color:"text.secondary",children:[e.occurrences," erreurs \u2022 ",e.recommendedExercises," exercices recommand\xe9s"]})]})})},t))})]})}),(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,sx:{mb:2},children:"Vos objectifs d'apprentissage"}),(0,$.jsx)(Be,{container:!0,spacing:3,children:x.map(e=>(0,$.jsx)(Be,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{elevation:3,sx:{height:"100%"},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,$.jsx)(ys,{label:e.priority,color:k(e.priority),size:"small"}),(0,$.jsxs)(le,{children:[(0,$.jsx)(An,{size:"small",onClick:()=>(e=>{d(e),c(!0)})(e),children:(0,$.jsx)(vp,{fontSize:"small"})}),(0,$.jsx)(An,{size:"small",onClick:()=>{return t=e.id,void v(e=>new Set(e).add(t));var t},children:(0,$.jsx)(Kp,{fontSize:"small"})})]})]}),(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:e.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),(0,$.jsxs)(le,{sx:{mb:2},children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,$.jsx)(Ce,{variant:"caption",color:"text.secondary",children:"Progression"}),(0,$.jsxs)(Ce,{variant:"caption",color:"primary",children:[e.progress,"%"]})]}),(0,$.jsx)(oa,{variant:"determinate",value:e.progress,sx:{height:6,borderRadius:1}})]}),(0,$.jsxs)(le,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:[(0,$.jsx)(ys,{label:"Niveau ".concat(e.targetLevel),size:"small",variant:"outlined"}),(0,$.jsx)(ys,{label:"~".concat(e.estimatedWeeks," semaines"),size:"small",variant:"outlined"})]}),(0,$.jsx)(le,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:2},children:e.exerciseTypes.map((e,t)=>(0,$.jsx)(ys,{label:e,size:"small"},t))}),(0,$.jsx)(hn,{variant:"contained",fullWidth:!0,startIcon:(0,$.jsx)(cp,{}),disabled:e.completed,type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("\ud83d\uddb1\ufe0f \xc9V\xc9NEMENT CLIC D\xc9TECT\xc9 pour l'objectif:",e.id,e.title),w(e)},onMouseDown:t=>{t.stopPropagation(),console.log("\ud83d\uddb1\ufe0f MouseDown d\xe9tect\xe9 pour l'objectif:",e.id)},sx:{cursor:e.completed?"not-allowed":"pointer","&:hover":{backgroundColor:e.completed?"action.disabled":"primary.dark"}},children:e.completed?"Compl\xe9t\xe9":"Commencer"})]})})},e.id))}),(0,$.jsxs)(_p,{open:l,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[(0,$.jsx)(Lp,{children:"Modifier l'objectif"}),(0,$.jsx)(zp,{children:u&&(0,$.jsxs)(le,{sx:{pt:2,display:"flex",flexDirection:"column",gap:2},children:[(0,$.jsx)(Uu,{label:"Titre",fullWidth:!0,value:u.title,onChange:e=>d((0,i.A)((0,i.A)({},u),{},{title:e.target.value}))}),(0,$.jsx)(Uu,{label:"Description",fullWidth:!0,multiline:!0,rows:3,value:u.description,onChange:e=>d((0,i.A)((0,i.A)({},u),{},{description:e.target.value}))}),(0,$.jsxs)(Sa,{fullWidth:!0,children:[(0,$.jsx)(Oa,{children:"Priorit\xe9"}),(0,$.jsxs)(Pc,{value:u.priority,label:"Priorit\xe9",onChange:e=>d((0,i.A)((0,i.A)({},u),{},{priority:e.target.value})),children:[(0,$.jsx)(zc,{value:"high",children:"Haute"}),(0,$.jsx)(zc,{value:"medium",children:"Moyenne"}),(0,$.jsx)(zc,{value:"low",children:"Basse"})]})]}),(0,$.jsx)(Uu,{label:"Dur\xe9e estim\xe9e (semaines)",type:"number",fullWidth:!0,value:u.estimatedWeeks,onChange:e=>d((0,i.A)((0,i.A)({},u),{},{estimatedWeeks:parseInt(e.target.value)||0}))})]})}),(0,$.jsxs)(qp,{children:[(0,$.jsx)(hn,{onClick:()=>c(!1),children:"Annuler"}),(0,$.jsx)(hn,{onClick:()=>{u&&(m(e=>e.find(e=>e.id===u.id)?e.map(e=>e.id===u.id?u:e):[...e,u]),c(!1),d(null))},variant:"contained",children:"Enregistrer"})]})]})]}):(0,$.jsx)(Ms,{severity:"info",children:"Veuillez d'abord compl\xe9ter l'\xe9valuation de niveau."})};function Qp(e){return re("MuiInputAdornment",e)}const Xp=ie("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Yp;const $p=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Jp=fe("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat(we(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{["&.".concat(Xp.positionStart,"&:not(.").concat(Xp.hiddenLabel,")")]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})}),Zp=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiInputAdornment"}),{children:i,className:a,component:l="div",disablePointerEvents:c=!1,disableTypography:u=!1,position:d,variant:h}=r,p=(0,s.A)(r,$p),f=Ea()||{};let m=h;h&&f.variant,f&&!m&&(m=f.variant);const g=(0,o.A)({},r,{hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:c,position:d,variant:m}),v=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=e;return ce({root:["root",n&&"disablePointerEvents",i&&"position".concat(we(i)),s,r&&"hiddenLabel",o&&"size".concat(we(o))]},Qp,t)})(g);return(0,$.jsx)(ya.Provider,{value:null,children:(0,$.jsx)(Jp,(0,o.A)({as:l,ownerState:g,className:W(v.root,a),ref:n},p,{children:"string"!==typeof i||u?(0,$.jsxs)(e.Fragment,{children:["start"===d?Yp||(Yp=(0,$.jsx)("span",{className:"notranslate",children:"\u200b"})):null,i]}):(0,$.jsx)(Ce,{color:"text.secondary",children:i})}))})});function ef(e){return re("MuiCircularProgress",e)}ie("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var tf,nf,rf,of;const sf=["className","color","disableShrink","size","style","thickness","value","variant"];let af,lf,cf,uf;const df=44,hf=(0,Rt.i7)(af||(af=tf||(tf=wt(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),pf=(0,Rt.i7)(lf||(lf=nf||(nf=wt(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),ff=fe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat(we(n.color))]]}})(e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,Rt.AH)(cf||(cf=rf||(rf=wt(["\n      animation: "," 1.4s linear infinite;\n    "]))),hf)}),mf=fe("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),gf=fe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat(we(n.variant))],n.disableShrink&&t.circleDisableShrink]}})(e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,Rt.AH)(uf||(uf=of||(of=wt(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),pf)}),vf=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:a=!1,size:l=40,style:c,thickness:u=3.6,value:d=0,variant:h="indeterminate"}=n,p=(0,s.A)(n,sf),f=(0,o.A)({},n,{color:i,disableShrink:a,size:l,thickness:u,value:d,variant:h}),m=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e;return ce({root:["root",n,"color".concat(we(r))],svg:["svg"],circle:["circle","circle".concat(we(n)),i&&"circleDisableShrink"]},ef,t)})(f),g={},v={},y={};if("determinate"===h){const e=2*Math.PI*((df-u)/2);g.strokeDasharray=e.toFixed(3),y["aria-valuenow"]=Math.round(d),g.strokeDashoffset="".concat(((100-d)/100*e).toFixed(3),"px"),v.transform="rotate(-90deg)"}return(0,$.jsx)(ff,(0,o.A)({className:W(m.root,r),style:(0,o.A)({width:l,height:l},v,c),ownerState:f,ref:t,role:"progressbar"},y,p,{children:(0,$.jsx)(mf,{className:m.svg,ownerState:f,viewBox:"".concat(22," ").concat(22," ").concat(df," ").concat(df),children:(0,$.jsx)(gf,{className:m.circle,style:g,ownerState:f,cx:df,cy:df,r:(df-u)/2,fill:"none",strokeWidth:u})})}))}),yf=vf;function bf(e){return re("MuiLink",e)}const xf=ie("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var wf=n(7162);const Sf={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},kf=e=>{let{theme:t,ownerState:n}=e;const r=(e=>Sf[e]||e)(n.color),i=(0,wf.Yn)(t,"palette.".concat(r),!1)||n.color,o=(0,wf.Yn)(t,"palette.".concat(r,"Channel"));return"vars"in t&&o?"rgba(".concat(o," / 0.4)"):(0,p.X4)(i,.4)},Ef=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],If=fe(Ce,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["underline".concat(we(n.underline))],"button"===n.component&&t.button]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,o.A)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:kf({theme:t,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(xf.focusVisible)]:{outline:"auto"}})}),Af=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiLink"}),{className:i,color:a="primary",component:l="a",onBlur:c,onFocus:u,TypographyClasses:d,underline:h="always",variant:p="inherit",sx:f}=r,m=(0,s.A)(r,Ef),{isFocusVisibleRef:g,onBlur:v,onFocus:y,ref:b}=xt(),[x,w]=e.useState(!1),S=rt(n,b),k=(0,o.A)({},r,{color:a,component:l,focusVisible:x,underline:h,variant:p}),E=(e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e;return ce({root:["root","underline".concat(we(i)),"button"===n&&"button",r&&"focusVisible"]},bf,t)})(k);return(0,$.jsx)(If,(0,o.A)({color:a,className:W(E.root,i),classes:d,component:l,onBlur:e=>{v(e),!1===g.current&&w(!1),c&&c(e)},onFocus:e=>{y(e),!0===g.current&&w(!0),u&&u(e)},ref:S,ownerState:k,variant:p,sx:[...Object.keys(Sf).includes(a)?[]:[{color:a}],...Array.isArray(f)?f:[f]]},m))}),Cf=uo((0,$.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),Tf=uo((0,$.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock"),jf=uo((0,$.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),_f=uo((0,$.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var Rf=n(1079);const Pf=t=>{let{onSuccess:n,onSwitchToSignup:r,onSwitchToForgotPassword:i}=t;const[o,s]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(""),[p,f]=(0,e.useState)(!1);return(0,$.jsx)(le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100"},children:(0,$.jsx)(Ye,{sx:{maxWidth:450,width:"100%",m:2},children:(0,$.jsxs)(et,{sx:{p:4},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3,fontWeight:"bold"},children:"\ud83c\udf93 AI English Trainer"}),(0,$.jsx)(Ce,{variant:"body1",color:"text.secondary",align:"center",sx:{mb:3},children:"Connectez-vous pour acc\xe9der \xe0 votre programme d'apprentissage"}),d&&(0,$.jsx)(Ms,{severity:"error",sx:{mb:2},children:d}),(0,$.jsxs)(le,{component:"form",onSubmit:async e=>{e.preventDefault(),h(""),f(!0);try{const e=await(0,Rf.Lx)(o,a);if(e.success&&e.user){var t;const r=e.user,i={id:r.uid,email:r.email,name:r.displayName||(null===(t=r.email)||void 0===t?void 0:t.split("@")[0])||"Utilisateur",emailVerified:r.emailVerified,currentLevel:"B1",targetLevel:"C1",createdAt:(new Date).toISOString(),lastLogin:(new Date).toISOString()},o=await r.getIdToken();localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(i)),localStorage.setItem("firebaseUser",JSON.stringify({uid:r.uid,email:r.email,displayName:r.displayName})),n(o,i)}else h(e.message||"Erreur de connexion")}catch(r){console.error("Erreur de connexion Firebase:",r);let e="Erreur de connexion. V\xe9rifiez vos identifiants.";if(r.code)switch(r.code){case"auth/user-not-found":e="Aucun compte trouv\xe9 avec cet email. Cr\xe9ez un compte pour commencer.";break;case"auth/wrong-password":e="Mot de passe incorrect.";break;case"auth/invalid-credential":e="Email ou mot de passe incorrect. V\xe9rifiez vos identifiants ou cr\xe9ez un compte.";break;case"auth/invalid-email":e="Adresse email invalide.";break;case"auth/user-disabled":e="Ce compte a \xe9t\xe9 d\xe9sactiv\xe9.";break;case"auth/too-many-requests":e="Trop de tentatives. Veuillez r\xe9essayer plus tard.";break;case"auth/network-request-failed":e="Erreur r\xe9seau. V\xe9rifiez votre connexion internet.";break;default:e=r.message||"Erreur de connexion. Veuillez r\xe9essayer."}else r.message&&(e=r.message);h(e)}finally{f(!1)}},children:[(0,$.jsx)(Uu,{fullWidth:!0,label:"Email",type:"email",value:o,onChange:e=>s(e.target.value),margin:"normal",required:!0,autoComplete:"email",InputProps:{startAdornment:(0,$.jsx)(Zp,{position:"start",children:(0,$.jsx)(Cf,{})})}}),(0,$.jsx)(Uu,{fullWidth:!0,label:"Mot de passe",type:c?"text":"password",value:a,onChange:e=>l(e.target.value),margin:"normal",required:!0,autoComplete:"current-password",InputProps:{startAdornment:(0,$.jsx)(Zp,{position:"start",children:(0,$.jsx)(Tf,{})}),endAdornment:(0,$.jsx)(Zp,{position:"end",children:(0,$.jsx)(An,{onClick:()=>u(!c),edge:"end",children:c?(0,$.jsx)(jf,{}):(0,$.jsx)(_f,{})})})}}),(0,$.jsx)(hn,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2,py:1.5},disabled:p,children:p?(0,$.jsx)(yf,{size:24}):"Se connecter"}),(0,$.jsxs)(le,{sx:{textAlign:"center",mt:2},children:[(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Pas encore de compte ?"," ",(0,$.jsx)(Af,{component:"button",variant:"body2",onClick:r,sx:{cursor:"pointer"},children:"S'inscrire"})]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:(0,$.jsx)(Af,{component:"button",variant:"body2",onClick:i,sx:{cursor:"pointer"},children:"Mot de passe oubli\xe9 ?"})})]})]})]})})})},Nf=uo((0,$.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),Of=e=>{let{email:t,onSwitchToLogin:n,onResendEmail:r}=e;return(0,$.jsx)(le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,$.jsx)(Ye,{sx:{maxWidth:600,width:"100%",m:2},children:(0,$.jsxs)(et,{sx:{p:4},children:[(0,$.jsxs)(le,{sx:{textAlign:"center",mb:3},children:[(0,$.jsx)(Cf,{sx:{fontSize:64,color:"primary.main",mb:2}}),(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold"},children:"\ud83d\udce7 V\xe9rifiez votre email"})]}),(0,$.jsxs)(Ms,{severity:"info",sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"body1",gutterBottom:!0,children:(0,$.jsx)("strong",{children:"Inscription r\xe9ussie !"})}),(0,$.jsxs)(Ce,{variant:"body2",children:["Un email de v\xe9rification a \xe9t\xe9 envoy\xe9 \xe0 : ",(0,$.jsx)("strong",{children:t})]})]}),(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,children:"Pour activer votre compte, veuillez :"}),(0,$.jsxs)(le,{component:"ol",sx:{pl:3},children:[(0,$.jsx)("li",{children:(0,$.jsx)(Ce,{variant:"body2",paragraph:!0,children:"Ouvrir votre bo\xeete de r\xe9ception (et le dossier spam si n\xe9cessaire)"})}),(0,$.jsx)("li",{children:(0,$.jsx)(Ce,{variant:"body2",paragraph:!0,children:"Cliquer sur le lien de v\xe9rification dans l'email"})}),(0,$.jsx)("li",{children:(0,$.jsx)(Ce,{variant:"body2",paragraph:!0,children:"Vous serez automatiquement connect\xe9 apr\xe8s v\xe9rification"})})]})]}),r&&(0,$.jsxs)(le,{sx:{mb:3,textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Vous n'avez pas re\xe7u l'email ?"}),(0,$.jsx)(hn,{variant:"outlined",onClick:r,sx:{mb:2},children:"Renvoyer l'email de v\xe9rification"})]}),(0,$.jsxs)(le,{sx:{textAlign:"center",mt:3},children:[(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"D\xe9j\xe0 v\xe9rifi\xe9 votre email ?"}),(0,$.jsx)(hn,{variant:"text",onClick:n,sx:{textTransform:"none"},children:"Me connecter"})]}),(0,$.jsx)(le,{sx:{mt:3,textAlign:"center"},children:(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[(0,$.jsx)("strong",{children:"Note :"})," Le lien de v\xe9rification expire dans 24 heures."]})})]})})})},Lf=t=>{let{onSuccess:n,onSwitchToLogin:r}=t;const[i,o]=(0,e.useState)(""),[s,a]=(0,e.useState)(""),[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(""),[h,p]=(0,e.useState)(""),[f,m]=(0,e.useState)(!1),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(""),[x,w]=(0,e.useState)(!1),[S,k]=(0,e.useState)(!1),[E,I]=(0,e.useState)("");e.useEffect(()=>{y&&console.log("\u2705 Erreur dans le state:",y)},[y]);return S?(0,$.jsx)(Of,{email:E||l,onSwitchToLogin:r,onResendEmail:async()=>{console.log("Renvoyer l'email de v\xe9rification \xe0:",E||l)}}):(0,$.jsx)(le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,$.jsx)(Ye,{sx:{maxWidth:600,width:"100%",m:2},children:(0,$.jsxs)(et,{sx:{p:4},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3,fontWeight:"bold"},children:"\ud83c\udf93 Cr\xe9er un compte"}),(0,$.jsx)(Ce,{variant:"body1",color:"text.secondary",align:"center",sx:{mb:3},children:"Commencez votre parcours vers l'anglais C1"}),y&&(0,$.jsx)(le,{children:(0,$.jsxs)(Ms,{severity:"error",sx:{mb:2,width:"100%",visibility:"visible",opacity:1},onClose:()=>b(""),children:[(0,$.jsx)("strong",{children:"Erreur :"})," ",y]})}),(0,$.jsxs)(le,{component:"form",onSubmit:async e=>{if(e.preventDefault(),e.stopPropagation(),x)return;b("");const t=u.length<8?"Le mot de passe doit contenir au moins 8 caract\xe8res":/(?=.*[a-z])/.test(u)?/(?=.*[A-Z])/.test(u)?/(?=.*\d)/.test(u)?/(?=.*[@$!%*?&])/.test(u)?u!==h?"Les mots de passe ne correspondent pas":"":"Le mot de passe doit contenir au moins un caract\xe8re sp\xe9cial (@$!%*?&)":"Le mot de passe doit contenir au moins un chiffre":"Le mot de passe doit contenir au moins une majuscule":"Le mot de passe doit contenir au moins une minuscule";if(t)b(t);else{w(!0);try{const e="".concat(i," ").concat(s).trim()||l.split("@")[0],t=await(0,Rf.DY)(l,u,e);if(t.success&&t.user){const n=t.user;I(l),k(!0),b("");const r={id:n.uid,email:n.email,name:e,firstName:i,lastName:s,emailVerified:!1,currentLevel:"B1",targetLevel:"C1",createdAt:(new Date).toISOString()};localStorage.setItem("pendingUser",JSON.stringify(r)),localStorage.setItem("firebaseUser",JSON.stringify({uid:n.uid,email:n.email,displayName:e}))}else b(t.message||"Erreur d'inscription")}catch(n){console.error("Erreur inscription Firebase:",n);let e="Erreur d'inscription. Veuillez r\xe9essayer.";if(n.code)switch(n.code){case"auth/email-already-in-use":e="Un compte existe d\xe9j\xe0 avec cet email. Essayez de vous connecter.";break;case"auth/invalid-email":e="Adresse email invalide.";break;case"auth/weak-password":e="Le mot de passe est trop faible. Utilisez au moins 6 caract\xe8res.";break;case"auth/operation-not-allowed":e="L'inscription par email/mot de passe n'est pas activ\xe9e. Contactez l'administrateur.";break;case"auth/network-request-failed":e="Erreur r\xe9seau. V\xe9rifiez votre connexion internet.";break;default:e=n.message||"Erreur d'inscription. Veuillez r\xe9essayer."}else n.message&&(e=n.message);b(e)}finally{w(!1)}}},children:[(0,$.jsxs)(Be,{container:!0,spacing:2,children:[(0,$.jsx)(Be,{item:!0,xs:12,sm:6,children:(0,$.jsx)(Uu,{fullWidth:!0,label:"Pr\xe9nom",value:i,onChange:e=>o(e.target.value),margin:"normal",InputProps:{startAdornment:(0,$.jsx)(Zp,{position:"start",children:(0,$.jsx)(Nf,{})})}})}),(0,$.jsx)(Be,{item:!0,xs:12,sm:6,children:(0,$.jsx)(Uu,{fullWidth:!0,label:"Nom",value:s,onChange:e=>a(e.target.value),margin:"normal",InputProps:{startAdornment:(0,$.jsx)(Zp,{position:"start",children:(0,$.jsx)(Nf,{})})}})})]}),(0,$.jsx)(Uu,{fullWidth:!0,label:"Email",type:"email",value:l,onChange:e=>c(e.target.value),margin:"normal",required:!0,InputProps:{startAdornment:(0,$.jsx)(Zp,{position:"start",children:(0,$.jsx)(Cf,{})})}}),(0,$.jsx)(Uu,{fullWidth:!0,label:"Mot de passe",type:f?"text":"password",value:u,onChange:e=>d(e.target.value),margin:"normal",required:!0,helperText:"Min. 8 caract\xe8res, 1 majuscule, 1 chiffre, 1 caract\xe8re sp\xe9cial",InputProps:{startAdornment:(0,$.jsx)(Zp,{position:"start",children:(0,$.jsx)(Tf,{})}),endAdornment:(0,$.jsx)(Zp,{position:"end",children:(0,$.jsx)(An,{onClick:()=>m(!f),edge:"end",children:f?(0,$.jsx)(jf,{}):(0,$.jsx)(_f,{})})})}}),(0,$.jsx)(Uu,{fullWidth:!0,label:"Confirmer le mot de passe",type:g?"text":"password",value:h,onChange:e=>p(e.target.value),margin:"normal",required:!0,InputProps:{startAdornment:(0,$.jsx)(Zp,{position:"start",children:(0,$.jsx)(Tf,{})}),endAdornment:(0,$.jsx)(Zp,{position:"end",children:(0,$.jsx)(An,{onClick:()=>v(!g),edge:"end",children:g?(0,$.jsx)(jf,{}):(0,$.jsx)(_f,{})})})}}),(0,$.jsx)(hn,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2,py:1.5},disabled:x,children:x?(0,$.jsx)(yf,{size:24}):"S'inscrire"}),(0,$.jsx)(le,{sx:{textAlign:"center",mt:2},children:(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:["D\xe9j\xe0 un compte ?"," ",(0,$.jsx)(Af,{component:"button",variant:"body2",onClick:r,sx:{cursor:"pointer"},children:"Se connecter"})]})})]})]})})})},Mf=t=>{let{onSwitchToLogin:n,onSuccess:r}=t;const[i,o]=(0,e.useState)(""),[s,a]=(0,e.useState)(""),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(""),[h,p]=(0,e.useState)(!1);return(0,$.jsx)(le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,$.jsx)(Ye,{sx:{maxWidth:500,width:"100%",m:2},children:(0,$.jsxs)(et,{sx:{p:4},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3,fontWeight:"bold"},children:"\ud83d\udd12 R\xe9initialisation de mot de passe"}),s&&(0,$.jsx)(Ms,{severity:"error",sx:{mb:2},children:s}),u&&(0,$.jsx)(Ms,{severity:"success",sx:{mb:2},children:u}),h?(0,$.jsxs)(le,{sx:{textAlign:"center"},children:[(0,$.jsx)(ha,{sx:{fontSize:64,color:"success.main",mb:2}}),(0,$.jsxs)(Ce,{variant:"body1",color:"text.secondary",sx:{mb:2},children:["Un email de r\xe9initialisation a \xe9t\xe9 envoy\xe9 \xe0 ",(0,$.jsx)("strong",{children:i})]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Cliquez sur le lien dans l'email pour r\xe9initialiser votre mot de passe. Le lien est valide pendant 1 heure."}),(0,$.jsx)(hn,{fullWidth:!0,variant:"outlined",onClick:()=>{p(!1),o(""),d("")},sx:{mb:2},children:"Envoyer un autre email"}),(0,$.jsx)(hn,{fullWidth:!0,variant:"text",onClick:n,children:"Retour \xe0 la connexion"})]}):(0,$.jsxs)(le,{component:"form",onSubmit:async e=>{e.preventDefault(),a(""),d(""),c(!0);try{const e=await(0,Rf.xw)(i);e.success?(d("Un email de r\xe9initialisation a \xe9t\xe9 envoy\xe9. V\xe9rifiez votre bo\xeete de r\xe9ception et cliquez sur le lien pour r\xe9initialiser votre mot de passe."),p(!0)):a(e.message||"Erreur lors de la demande de r\xe9initialisation")}catch(t){console.error("Erreur r\xe9initialisation Firebase:",t);let e="Erreur lors de la demande de r\xe9initialisation.";if(t.code)switch(t.code){case"auth/user-not-found":return d("Si cet email existe, un lien de r\xe9initialisation a \xe9t\xe9 envoy\xe9. V\xe9rifiez votre bo\xeete de r\xe9ception."),p(!0),void c(!1);case"auth/invalid-email":e="Adresse email invalide.";break;case"auth/network-request-failed":e="Erreur r\xe9seau. V\xe9rifiez votre connexion internet.";break;default:e=t.message||"Erreur lors de la demande de r\xe9initialisation."}else t.message&&(e=t.message);a(e)}finally{c(!1)}},children:[(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Entrez votre adresse email. Nous vous enverrons un lien pour r\xe9initialiser votre mot de passe."}),(0,$.jsx)(Uu,{fullWidth:!0,label:"Email",type:"email",value:i,onChange:e=>o(e.target.value),margin:"normal",required:!0,disabled:l,InputProps:{startAdornment:(0,$.jsx)(Cf,{sx:{mr:1,color:"text.secondary"}})}}),(0,$.jsx)(hn,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2,py:1.5},disabled:l,children:l?(0,$.jsx)(yf,{size:24}):"Envoyer le lien de r\xe9initialisation"}),(0,$.jsx)(le,{sx:{textAlign:"center",mt:2},children:(0,$.jsx)(Af,{component:"button",variant:"body2",onClick:n,sx:{cursor:"pointer"},children:"Retour \xe0 la connexion"})})]})]})})})},Df=uo((0,$.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");var Ff=n(83);const zf=t=>{let{onSuccess:n,onSwitchToLogin:r}=t;const{login:i}=us(),[o,s]=(0,e.useState)("loading"),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{if(d||"loading"!==o)return;(async()=>{h(!0);try{const t=new URLSearchParams(window.location.search),r=t.get("mode"),o=t.get("oobCode");if(!o){const e=Ff.j2.currentUser;if(e&&e.emailVerified)return s("success"),void l("Votre email est d\xe9j\xe0 v\xe9rifi\xe9. Vous \xeates connect\xe9.");if(e&&!e.emailVerified){try{await(0,So.gA)(e),s("error"),u("Un nouvel email de v\xe9rification a \xe9t\xe9 envoy\xe9. V\xe9rifiez votre bo\xeete de r\xe9ception.")}catch(c){s("error"),u("Erreur lors de l'envoi de l'email de v\xe9rification. Veuillez r\xe9essayer.")}return}return s("error"),void u("Lien de v\xe9rification invalide. Veuillez vous connecter ou demander un nouveau lien.")}if("verifyEmail"===r&&o)try{await(0,So.sB)(Ff.j2,o),await(0,So.sv)(Ff.j2,o);const t=Ff.j2.currentUser;if(t){await t.reload();const r=await Zo.get(Jo.PENDING_USER),o=await Zo.get(Jo.FIREBASE_USER);if(r||o){var e;const o=r||{id:t.uid,email:t.email,name:t.displayName||(null===(e=t.email)||void 0===e?void 0:e.split("@")[0])||"Utilisateur",emailVerified:!0,currentLevel:"B1",targetLevel:"C1",createdAt:(new Date).toISOString()},s=await t.getIdToken();await Zo.setMultiple({[Jo.TOKEN]:s,[Jo.USER]:o,[Jo.FIREBASE_USER]:{uid:t.uid,email:t.email,displayName:t.displayName}}),await Zo.remove(Jo.PENDING_USER),i&&await i(s,o),n&&n(s,o)}s("success"),l("Email v\xe9rifi\xe9 avec succ\xe8s ! Vous \xeates maintenant connect\xe9.")}else s("error"),u("Aucun utilisateur connect\xe9. Veuillez vous connecter.")}catch(c){console.error("Erreur v\xe9rification email Firebase:",c);let t="Le lien de v\xe9rification est invalide ou a expir\xe9.";"auth/invalid-action-code"===c.code?t="Le lien de v\xe9rification est invalide ou a d\xe9j\xe0 \xe9t\xe9 utilis\xe9.":"auth/expired-action-code"===c.code?t="Le lien de v\xe9rification a expir\xe9. Veuillez demander un nouveau lien.":"auth/user-disabled"===c.code&&(t="Ce compte a \xe9t\xe9 d\xe9sactiv\xe9. Contactez l'administrateur."),s("error"),u(t)}else s("error"),u("Lien de v\xe9rification invalide.")}catch(t){console.error("Erreur v\xe9rification email:",t),s("error"),u(t.message||"Une erreur est survenue lors de la v\xe9rification. Veuillez r\xe9essayer.")}finally{h(!1)}})()},[i,n,d,o]),"loading"===o?(0,$.jsx)(le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100"},children:(0,$.jsx)(Ye,{sx:{maxWidth:500,width:"100%",m:2},children:(0,$.jsxs)(et,{sx:{p:4,textAlign:"center"},children:[(0,$.jsx)(yf,{sx:{mb:3}}),(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"V\xe9rification de votre email..."}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:"Veuillez patienter"})]})})}):"success"===o?(0,$.jsx)(le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,$.jsx)(Ye,{sx:{maxWidth:500,width:"100%",m:2},children:(0,$.jsxs)(et,{sx:{p:4,textAlign:"center"},children:[(0,$.jsx)(ha,{sx:{fontSize:64,color:"success.main",mb:2}}),(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",mb:2},children:"\u2705 Email v\xe9rifi\xe9 !"}),(0,$.jsx)(Ms,{severity:"success",sx:{mb:3},children:a||"Votre email a \xe9t\xe9 v\xe9rifi\xe9 avec succ\xe8s. Vous pouvez maintenant utiliser toutes les fonctionnalit\xe9s de l'application."}),r&&(0,$.jsx)(hn,{variant:"contained",size:"large",onClick:r,sx:{mt:2},children:"Continuer"})]})})}):(0,$.jsx)(le,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,$.jsx)(Ye,{sx:{maxWidth:500,width:"100%",m:2},children:(0,$.jsxs)(et,{sx:{p:4,textAlign:"center"},children:[(0,$.jsx)(Df,{sx:{fontSize:64,color:"error.main",mb:2}}),(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",mb:2},children:"\u274c Erreur de v\xe9rification"}),(0,$.jsx)(Ms,{severity:"error",sx:{mb:3},children:c||"Le lien de v\xe9rification est invalide ou a expir\xe9."}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Que pouvez-vous faire ?"}),(0,$.jsxs)(le,{sx:{display:"flex",flexDirection:"column",gap:2},children:[r&&(0,$.jsx)(hn,{variant:"contained",onClick:r,children:"Me connecter"}),(0,$.jsx)(hn,{variant:"outlined",onClick:()=>window.location.href="/signup",children:"R\xe9essayer l'inscription"})]})]})})})},Vf=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Bf=fe("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,p.X4)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})},e=>{let{ownerState:t}=e;return(0,o.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})},e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}})},e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}})},e=>{let{ownerState:t}=e;return(0,o.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})}),Uf=fe("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})(e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})}),qf=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiDivider"}),{absolute:r=!1,children:i,className:a,component:l=(i?"div":"hr"),flexItem:c=!1,light:u=!1,orientation:d="horizontal",role:h=("hr"!==l?"separator":void 0),textAlign:p="center",variant:f="fullWidth"}=n,m=(0,s.A)(n,Vf),g=(0,o.A)({},n,{absolute:r,component:l,flexItem:c,light:u,orientation:d,role:h,textAlign:p,variant:f}),v=(e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=e;return ce({root:["root",t&&"absolute",l,o&&"light","vertical"===s&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]},Nc,r)})(g);return(0,$.jsx)(Bf,(0,o.A)({as:l,className:W(v.root,a),role:h,ref:t,ownerState:g},m,{children:i?(0,$.jsx)(Uf,{className:v.wrapper,ownerState:g,children:i}):null}))});qf.muiSkipListHighlight=!0;const Wf=qf;function Hf(e){return re("MuiStepper",e)}ie("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const Kf=e.createContext({});const Gf=Kf,Qf=e.createContext({});const Xf=Qf;function Yf(e){return re("MuiStepConnector",e)}ie("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const $f=["className"],Jf=fe("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(e=>{let{ownerState:t}=e;return(0,o.A)({flex:"1 1 auto"},"vertical"===t.orientation&&{marginLeft:12},t.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})}),Zf=fe("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.line,t["line".concat(we(n.orientation))]]}})(e=>{let{ownerState:t,theme:n}=e;const r="light"===n.palette.mode?n.palette.grey[400]:n.palette.grey[600];return(0,o.A)({display:"block",borderColor:n.vars?n.vars.palette.StepConnector.border:r},"horizontal"===t.orientation&&{borderTopStyle:"solid",borderTopWidth:1},"vertical"===t.orientation&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),em=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiStepConnector"}),{className:i}=r,a=(0,s.A)(r,$f),{alternativeLabel:l,orientation:c="horizontal"}=e.useContext(Gf),{active:u,disabled:d,completed:h}=e.useContext(Xf),p=(0,o.A)({},r,{alternativeLabel:l,orientation:c,active:u,completed:h,disabled:d}),f=(e=>{const{classes:t,orientation:n,alternativeLabel:r,active:i,completed:o,disabled:s}=e;return ce({root:["root",n,r&&"alternativeLabel",i&&"active",o&&"completed",s&&"disabled"],line:["line","line".concat(we(n))]},Yf,t)})(p);return(0,$.jsx)(Jf,(0,o.A)({className:W(f.root,i),ref:n,ownerState:p},a,{children:(0,$.jsx)(Zf,{className:f.line,ownerState:p})}))}),tm=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],nm=fe("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.nonLinear&&t.nonLinear]}})(e=>{let{ownerState:t}=e;return(0,o.A)({display:"flex"},"horizontal"===t.orientation&&{flexDirection:"row",alignItems:"center"},"vertical"===t.orientation&&{flexDirection:"column"},t.alternativeLabel&&{alignItems:"flex-start"})}),rm=(0,$.jsx)(em,{}),im=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiStepper"}),{activeStep:i=0,alternativeLabel:a=!1,children:l,className:c,component:u="div",connector:d=rm,nonLinear:h=!1,orientation:p="horizontal"}=r,f=(0,s.A)(r,tm),m=(0,o.A)({},r,{nonLinear:h,alternativeLabel:a,orientation:p,component:u}),g=(e=>{const{orientation:t,nonLinear:n,alternativeLabel:r,classes:i}=e;return ce({root:["root",t,n&&"nonLinear",r&&"alternativeLabel"]},Hf,i)})(m),v=e.Children.toArray(l).filter(Boolean),y=v.map((t,n)=>e.cloneElement(t,(0,o.A)({index:n,last:n+1===v.length},t.props))),b=e.useMemo(()=>({activeStep:i,alternativeLabel:a,connector:d,nonLinear:h,orientation:p}),[i,a,d,h,p]);return(0,$.jsx)(Gf.Provider,{value:b,children:(0,$.jsx)(nm,(0,o.A)({as:u,ownerState:m,className:W(g.root,c),ref:n},f,{children:y}))})});function om(e){return re("MuiStep",e)}ie("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const sm=["active","children","className","component","completed","disabled","expanded","index","last"],am=fe("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(e=>{let{ownerState:t}=e;return(0,o.A)({},"horizontal"===t.orientation&&{paddingLeft:8,paddingRight:8},t.alternativeLabel&&{flex:1,position:"relative"})}),lm=e.forwardRef(function(t,n){const r=be({props:t,name:"MuiStep"}),{active:i,children:a,className:l,component:c="div",completed:u,disabled:d,expanded:h=!1,index:p,last:f}=r,m=(0,s.A)(r,sm),{activeStep:g,connector:v,alternativeLabel:y,orientation:b,nonLinear:x}=e.useContext(Gf);let[w=!1,S=!1,k=!1]=[i,u,d];g===p?w=void 0===i||i:!x&&g>p?S=void 0===u||u:!x&&g<p&&(k=void 0===d||d);const E=e.useMemo(()=>({index:p,last:f,expanded:h,icon:p+1,active:w,completed:S,disabled:k}),[p,f,h,w,S,k]),I=(0,o.A)({},r,{active:w,orientation:b,alternativeLabel:y,completed:S,disabled:k,expanded:h,component:c}),A=(e=>{const{classes:t,orientation:n,alternativeLabel:r,completed:i}=e;return ce({root:["root",n,r&&"alternativeLabel",i&&"completed"]},om,t)})(I),C=(0,$.jsxs)(am,(0,o.A)({as:c,className:W(A.root,l),ref:n,ownerState:I},m,{children:[v&&y&&0!==p?v:null,a]}));return(0,$.jsx)(Xf.Provider,{value:E,children:v&&!y&&0!==p?(0,$.jsxs)(e.Fragment,{children:[v,C]}):C})}),cm=uo((0,$.jsx)("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),um=uo((0,$.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function dm(e){return re("MuiStepIcon",e)}const hm=ie("MuiStepIcon",["root","active","completed","error","text"]);var pm;const fm=["active","className","completed","error","icon"],mm=fe(co,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,t)=>t.root})(e=>{let{theme:t}=e;return{display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:(t.vars||t).palette.text.disabled,["&.".concat(hm.completed)]:{color:(t.vars||t).palette.primary.main},["&.".concat(hm.active)]:{color:(t.vars||t).palette.primary.main},["&.".concat(hm.error)]:{color:(t.vars||t).palette.error.main}}}),gm=fe("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,t)=>t.text})(e=>{let{theme:t}=e;return{fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily}}),vm=e.forwardRef(function(e,t){const n=be({props:e,name:"MuiStepIcon"}),{active:r=!1,className:i,completed:a=!1,error:l=!1,icon:c}=n,u=(0,s.A)(n,fm),d=(0,o.A)({},n,{active:r,completed:a,error:l}),h=(e=>{const{classes:t,active:n,completed:r,error:i}=e;return ce({root:["root",n&&"active",r&&"completed",i&&"error"],text:["text"]},dm,t)})(d);if("number"===typeof c||"string"===typeof c){const e=W(i,h.root);return l?(0,$.jsx)(mm,(0,o.A)({as:um,className:e,ref:t,ownerState:d},u)):a?(0,$.jsx)(mm,(0,o.A)({as:cm,className:e,ref:t,ownerState:d},u)):(0,$.jsxs)(mm,(0,o.A)({className:e,ref:t,ownerState:d},u,{children:[pm||(pm=(0,$.jsx)("circle",{cx:"12",cy:"12",r:"12"})),(0,$.jsx)(gm,{className:h.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:d,children:c})]}))}return c});function ym(e){return re("MuiStepLabel",e)}const bm=ie("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),xm=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],wm=fe("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation]]}})(e=>{let{ownerState:t}=e;return(0,o.A)({display:"flex",alignItems:"center",["&.".concat(bm.alternativeLabel)]:{flexDirection:"column"},["&.".concat(bm.disabled)]:{cursor:"default"}},"vertical"===t.orientation&&{textAlign:"left",padding:"8px 0"})}),Sm=fe("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,t)=>t.label})(e=>{let{theme:t}=e;return(0,o.A)({},t.typography.body2,{display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),["&.".concat(bm.active)]:{color:(t.vars||t).palette.text.primary,fontWeight:500},["&.".concat(bm.completed)]:{color:(t.vars||t).palette.text.primary,fontWeight:500},["&.".concat(bm.alternativeLabel)]:{marginTop:16},["&.".concat(bm.error)]:{color:(t.vars||t).palette.error.main}})}),km=fe("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,t)=>t.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,["&.".concat(bm.alternativeLabel)]:{paddingRight:0}})),Em=fe("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(e=>{let{theme:t}=e;return{width:"100%",color:(t.vars||t).palette.text.secondary,["&.".concat(bm.alternativeLabel)]:{textAlign:"center"}}}),Im=e.forwardRef(function(t,n){var r;const i=be({props:t,name:"MuiStepLabel"}),{children:a,className:l,componentsProps:c={},error:u=!1,icon:d,optional:h,slotProps:p={},StepIconComponent:f,StepIconProps:m}=i,g=(0,s.A)(i,xm),{alternativeLabel:v,orientation:y}=e.useContext(Gf),{active:b,disabled:x,completed:w,icon:S}=e.useContext(Xf),k=d||S;let E=f;k&&!E&&(E=vm);const I=(0,o.A)({},i,{active:b,alternativeLabel:v,completed:w,disabled:x,error:u,orientation:y}),A=(e=>{const{classes:t,orientation:n,active:r,completed:i,error:o,disabled:s,alternativeLabel:a}=e;return ce({root:["root",n,o&&"error",s&&"disabled",a&&"alternativeLabel"],label:["label",r&&"active",i&&"completed",o&&"error",s&&"disabled",a&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",i&&"completed",o&&"error",s&&"disabled",a&&"alternativeLabel"],labelContainer:["labelContainer",a&&"alternativeLabel"]},ym,t)})(I),C=null!=(r=p.label)?r:c.label;return(0,$.jsxs)(wm,(0,o.A)({className:W(A.root,l),ref:n,ownerState:I},g,{children:[k||E?(0,$.jsx)(km,{className:A.iconContainer,ownerState:I,children:(0,$.jsx)(E,(0,o.A)({completed:w,active:b,error:u,icon:k},m))}):null,(0,$.jsxs)(Em,{className:A.labelContainer,ownerState:I,children:[a?(0,$.jsx)(Sm,(0,o.A)({ownerState:I},C,{className:W(A.label,null==C?void 0:C.className),children:a})):null,h]})]}))});Im.muiName="StepLabel";const Am=Im,Cm=uo((0,$.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),Tm=e=>{const{level:t,isCorrect:n,correctAnswer:r,grammarFocus:i,customExplanation:o,userAnswer:s}=e,a={A1:{present_simple:{rule:"Present Simple (Pr\xe9sent simple)",explanation:"Le pr\xe9sent simple est utilis\xe9 pour parler de choses qui sont toujours vraies, de faits g\xe9n\xe9raux, ou d'actions qui se r\xe9p\xe8tent r\xe9guli\xe8rement. C'est la base de la communication en anglais.",structure:"Structure affirmative :\n\u2022 I/You/We/They + verbe base\n\u2022 He/She/It + verbe + 's' ou 'es'\n\nStructure interrogative :\n\u2022 Do/Does + sujet + verbe base\n\u2022 Exemple : 'Do you work?' / 'Does she work?'\n\nStructure n\xe9gative :\n\u2022 Don't/Doesn't + verbe base\n\u2022 Exemple : 'I don't work' / 'She doesn't work'",examples:["I am a developer. (Je suis d\xe9veloppeur)","She writes code every day. (Elle \xe9crit du code tous les jours)","We use computers at work. (Nous utilisons des ordinateurs au travail)","The server runs 24/7. (Le serveur fonctionne 24/7)","Do you understand? (Comprenez-vous ?)"],commonMistakes:["\u274c 'I is a developer' \u2192 \u2705 'I am a developer' (am avec I, is avec he/she/it)","\u274c 'she work every day' \u2192 \u2705 'she works every day' (ajouter 's' \xe0 la 3e personne)","\u274c 'they is working' \u2192 \u2705 'they are working' (are avec we/you/they)","\u274c 'Does you work?' \u2192 \u2705 'Do you work?' (do avec you/we/they)"],tips:["Pour la 3e personne du singulier (he, she, it), ajoutez toujours 's' ou 'es' au verbe","R\xe8gles d'ajout de 's' : verbe normal + 's', verbe finissant par -s/-sh/-ch/-x/-o + 'es'","Les verbes irr\xe9guliers 'be' et 'have' ont leurs propres formes","Utilisez 'am' avec 'I', 'is' avec 'he/she/it', 'are' avec 'we/you/they'","Pour les questions, utilisez 'do' avec I/you/we/they et 'does' avec he/she/it"],vocabulary:[{word:"developer",definition:"d\xe9veloppeur, d\xe9veloppeuse"},{word:"work",definition:"travail, travailler"},{word:"code",definition:"code (informatique)"},{word:"computer",definition:"ordinateur"},{word:"server",definition:"serveur"}]},present_continuous:{rule:"Present Continuous (Pr\xe9sent continu)",explanation:"Le pr\xe9sent continu exprime une action en cours au moment pr\xe9sent ou une action temporaire.",structure:"Structure affirmative :\n\u2022 I am + verb-ing\n\u2022 He/She/It is + verb-ing\n\u2022 You/We/They are + verb-ing\n\nStructure interrogative :\n\u2022 Am/Is/Are + sujet + verb-ing\n\u2022 Exemple : 'Are you working?' / 'Is she coding?'\n\nStructure n\xe9gative :\n\u2022 Am/Is/Are + not + verb-ing\n\u2022 Exemple : 'I am not working' / 'She isn't coding'",examples:["I am working on a project. (Je travaille sur un projet)","She is writing code now. (Elle \xe9crit du code maintenant)","We are testing the application. (Nous testons l'application)","Are you debugging? (\xcates-vous en train de d\xe9boguer ?)"],commonMistakes:["\u274c 'I work now' \u2192 \u2705 'I am working now' (action en cours)","\u274c 'She write code' \u2192 \u2705 'She is writing code' (pr\xe9sent continu)","\u274c 'They are work' \u2192 \u2705 'They are working' (verbe-ing requis)"],tips:["Utilisez le pr\xe9sent continu pour les actions en cours","Forme : be (am/is/are) + verbe-ing","Indicateurs temporels : now, at the moment, currently"],vocabulary:[{word:"to work",definition:"travailler"},{word:"to code",definition:"coder, programmer"},{word:"to test",definition:"tester"},{word:"now",definition:"maintenant"}]},articles:{rule:"Articles (a/an/the)",explanation:"Les articles d\xe9finissent ou g\xe9n\xe9ralisent les noms.",structure:"Articles ind\xe9finis :\n\u2022 a + nom commen\xe7ant par consonne : 'a developer', 'a computer'\n\u2022 an + nom commen\xe7ant par voyelle : 'an application', 'an error'\n\nArticle d\xe9fini :\n\u2022 the + nom sp\xe9cifique : 'the project', 'the code'\n\nPas d'article :\n\u2022 Noms pluriels g\xe9n\xe9raux : 'developers', 'computers'",examples:["I am a developer. (Je suis d\xe9veloppeur)","She is an engineer. (Elle est ing\xe9nieur)","The code is working. (Le code fonctionne)","Developers use computers. (Les d\xe9veloppeurs utilisent des ordinateurs)"],commonMistakes:["\u274c 'I am developer' \u2192 \u2705 'I am a developer' (article requis)","\u274c 'an computer' \u2192 \u2705 'a computer' (consonne)","\u274c 'the developers' (g\xe9n\xe9ral) \u2192 \u2705 'developers' (pas d'article)"],tips:["Utilisez 'a' avant une consonne, 'an' avant une voyelle","Utilisez 'the' pour quelque chose de sp\xe9cifique","Pas d'article pour les pluriels g\xe9n\xe9raux"],vocabulary:[{word:"a",definition:"un, une (article ind\xe9fini)"},{word:"an",definition:"un, une (article ind\xe9fini devant voyelle)"},{word:"the",definition:"le, la, les (article d\xe9fini)"}]},basic_vocabulary:{rule:"Vocabulaire de base IT",explanation:"Mots et expressions essentielles pour parler de votre travail dans l'informatique.",structure:"Vocabulaire technique de base",vocabulary:[{word:"developer",definition:"d\xe9veloppeur, d\xe9veloppeuse"},{word:"programmer",definition:"programmeur, programmeuse"},{word:"computer",definition:"ordinateur"},{word:"code",definition:"code (informatique)"},{word:"software",definition:"logiciel"},{word:"application",definition:"application"},{word:"work",definition:"travail, travailler"},{word:"project",definition:"projet"}],examples:["I am a developer. (Je suis d\xe9veloppeur)","I write code. (J'\xe9cris du code)","I use a computer. (J'utilise un ordinateur)","This is my project. (C'est mon projet)"],tips:["M\xe9morisez le vocabulaire technique de votre domaine","Pratiquez en utilisant ces mots dans des phrases simples","Les mots techniques sont souvent similaires en fran\xe7ais et en anglais"]},technical_vocabulary:{rule:"Vocabulaire technique A1",explanation:"Vocabulaire technique de base pour d\xe9buter en IT.",vocabulary:[{word:"computer",definition:"ordinateur"},{word:"keyboard",definition:"clavier"},{word:"screen",definition:"\xe9cran"},{word:"mouse",definition:"souris"},{word:"internet",definition:"internet"},{word:"website",definition:"site web"}],examples:["I use a computer. (J'utilise un ordinateur)","The screen is large. (L'\xe9cran est grand)","I browse the internet. (Je navigue sur internet)"]}},A2:{present_perfect:{rule:"Present Perfect (Pr\xe9sent parfait)",explanation:"Le pr\xe9sent parfait exprime une action commenc\xe9e dans le pass\xe9 et qui continue maintenant, une action r\xe9cente avec un r\xe9sultat pr\xe9sent, ou une exp\xe9rience de vie. Il fait le lien entre le pass\xe9 et le pr\xe9sent.",structure:"Structure affirmative :\n\u2022 I/You/We/They + have + past participle\n\u2022 He/She/It + has + past participle\n\nStructure interrogative :\n\u2022 Have/Has + sujet + past participle\n\u2022 Exemple : 'Have you finished?' / 'Has she arrived?'\n\nStructure n\xe9gative :\n\u2022 Haven't/Hasn't + past participle\n\u2022 Exemple : 'I haven't finished' / 'She hasn't arrived'\n\nIndicateurs temporels :\n\u2022 For + dur\xe9e : 'for two years', 'for a long time'\n\u2022 Since + point de d\xe9part : 'since 2020', 'since Monday'\n\u2022 Already, yet, just, ever, never",examples:["I have worked here for two years. (Je travaille ici depuis deux ans)","She has learned English. (Elle a appris l'anglais - r\xe9sultat pr\xe9sent)","We have finished the project. (Nous avons fini le projet - action r\xe9cente)","Have you seen this bug? (Avez-vous vu ce bug ?)","The system has been running since this morning. (Le syst\xe8me fonctionne depuis ce matin)"],commonMistakes:["\u274c 'I have went' \u2192 \u2705 'I have gone' (toujours past participle avec have/has)","\u274c 'she have done' \u2192 \u2705 'she has done' (has avec he/she/it)","\u274c 'I work here for 2 years' \u2192 \u2705 'I have worked here for 2 years' (action continue)","\u274c 'I finished the code yesterday' (\u2705 correct si action termin\xe9e) vs 'I have finished the code' (\u2705 correct si r\xe9sultat pr\xe9sent)"],tips:["Utilisez 'for' pour une dur\xe9e : 'for 2 years', 'for a week'","Utilisez 'since' pour un point de d\xe9part : 'since 2020', 'since Monday'","Le present perfect met l'accent sur le r\xe9sultat pr\xe9sent, le past simple sur l'action pass\xe9e","Les verbes irr\xe9guliers : go \u2192 gone, see \u2192 seen, do \u2192 done, write \u2192 written"],vocabulary:[{word:"to finish",definition:"finir, terminer"},{word:"to deploy",definition:"d\xe9ployer, mettre en production"},{word:"to complete",definition:"compl\xe9ter, achever"},{word:"already",definition:"d\xe9j\xe0"},{word:"yet",definition:"encore, toujours (n\xe9gatif/question)"}]},past_simple:{rule:"Past Simple (Pass\xe9 simple)",explanation:"Le pass\xe9 simple d\xe9crit une action termin\xe9e dans le pass\xe9, \xe0 un moment pr\xe9cis. Il est souvent accompagn\xe9 d'indicateurs temporels pr\xe9cis.",structure:"Structure affirmative :\n\u2022 Sujet + verbe-ed (verbes r\xe9guliers)\n\u2022 Sujet + forme irr\xe9guli\xe8re (verbes irr\xe9guliers)\n\nVerbes r\xe9guliers : work \u2192 worked, test \u2192 tested\nVerbes irr\xe9guliers : go \u2192 went, see \u2192 saw, do \u2192 did\n\nStructure interrogative :\n\u2022 Did + sujet + verbe base\n\u2022 Exemple : 'Did you work yesterday?'\n\nStructure n\xe9gative :\n\u2022 Didn't + verbe base\n\u2022 Exemple : 'I didn't work yesterday'\n\nIndicateurs temporels : yesterday, last week, in 2020, ago, when",examples:["I worked on this project yesterday. (J'ai travaill\xe9 sur ce projet hier)","The application was deployed last week. (L'application a \xe9t\xe9 d\xe9ploy\xe9e la semaine derni\xe8re)","She tested the code two days ago. (Elle a test\xe9 le code il y a deux jours)","Did you fix the bug? (Avez-vous corrig\xe9 le bug ?)","We didn't finish on time. (Nous n'avons pas termin\xe9 \xe0 temps)"],commonMistakes:["\u274c 'I work yesterday' \u2192 \u2705 'I worked yesterday' (toujours pass\xe9 avec indicateur temporel)","\u274c 'was deploy' \u2192 \u2705 'was deployed' (past participle dans la voix passive)","\u274c 'Did you worked?' \u2192 \u2705 'Did you work?' (verbe base apr\xe8s did)","\u274c 'I didn't went' \u2192 \u2705 'I didn't go' (verbe base apr\xe8s didn't)"],tips:["Les verbes r\xe9guliers prennent '-ed' au pass\xe9 : work \u2192 worked, test \u2192 tested","Les verbes irr\xe9guliers ont leur propre forme : go \u2192 went, see \u2192 saw, do \u2192 did","Apr\xe8s 'did' ou 'didn't', utilisez toujours le verbe \xe0 la base (sans -ed)","Utilisez le pass\xe9 simple avec des indicateurs temporels pr\xe9cis : yesterday, last week, in 2020"],vocabulary:[{word:"yesterday",definition:"hier"},{word:"last week",definition:"la semaine derni\xe8re"},{word:"ago",definition:"il y a"},{word:"when",definition:"quand (indicateur de temps)"},{word:"to deploy",definition:"d\xe9ployer"}]},future_simple:{rule:"Future Simple (Futur simple)",explanation:"Le futur simple exprime une action future ou une d\xe9cision prise au moment de parler.",structure:"Structure affirmative :\n\u2022 Will + verbe base\n\u2022 Exemple : 'I will work' / 'She will code'\n\nStructure interrogative :\n\u2022 Will + sujet + verbe base\n\u2022 Exemple : 'Will you work?' / 'Will she code?'\n\nStructure n\xe9gative :\n\u2022 Won't + verbe base\n\u2022 Exemple : 'I won't work' / 'She won't code'\n\nForme contract\xe9e : 'll pour will, won't pour will not",examples:["I will deploy the code tomorrow. (Je d\xe9ploierai le code demain)","She will test the application. (Elle testera l'application)","Will you finish on time? (Finirez-vous \xe0 temps ?)","We won't release this version. (Nous ne publierons pas cette version)"],commonMistakes:["\u274c 'I will to work' \u2192 \u2705 'I will work' (pas de 'to' apr\xe8s will)","\u274c 'She will works' \u2192 \u2705 'She will work' (verbe base)","\u274c 'I will working' \u2192 \u2705 'I will work' (verbe base, pas -ing)"],tips:["Will + verbe base (pas de -s, pas de -ing, pas de to)","Utilisez will pour d\xe9cisions spontan\xe9es ou pr\xe9dictions","Forme contract\xe9e : I'll, you'll, he'll, she'll, we'll, they'll"],vocabulary:[{word:"tomorrow",definition:"demain"},{word:"next week",definition:"la semaine prochaine"},{word:"will",definition:"verbe auxiliaire du futur"},{word:"to deploy",definition:"d\xe9ployer"}]},past_continuous:{rule:"Past Continuous (Pass\xe9 continu)",explanation:"Le pass\xe9 continu exprime une action en cours \xe0 un moment pr\xe9cis du pass\xe9.",structure:"Structure affirmative :\n\u2022 I/He/She/It was + verb-ing\n\u2022 You/We/They were + verb-ing\n\nStructure interrogative :\n\u2022 Was/Were + sujet + verb-ing\n\u2022 Exemple : 'Were you working?'\n\nStructure n\xe9gative :\n\u2022 Wasn't/Weren't + verb-ing\n\u2022 Exemple : 'I wasn't working'",examples:["I was coding when the bug appeared. (Je codais quand le bug est apparu)","They were testing the application yesterday. (Ils testaient l'application hier)","Was she working on the project? (Travaillait-elle sur le projet ?)"],commonMistakes:["\u274c 'I was work' \u2192 \u2705 'I was working' (verbe-ing requis)","\u274c 'They was working' \u2192 \u2705 'They were working' (were avec they/we/you)","\u274c 'I were coding' \u2192 \u2705 'I was coding' (was avec I/he/she/it)"],tips:["Utilisez was avec I/he/she/it, were avec you/we/they","Toujours verbe-ing apr\xe8s was/were","Souvent utilis\xe9 avec 'when' ou 'while'"],vocabulary:[{word:"was",definition:"\xe9tait, \xe9tais (pass\xe9 de be)"},{word:"were",definition:"\xe9tiez, \xe9taient (pass\xe9 de be)"},{word:"when",definition:"quand"},{word:"while",definition:"pendant que"}]},comparative_superlative:{rule:"Comparative and Superlative (Comparatif et Superlatif)",explanation:"Le comparatif compare deux \xe9l\xe9ments, le superlatif identifie le plus/moins.",structure:"Comparatif :\n\u2022 Court : adjective + -er + than : 'faster than'\n\u2022 Long : more + adjective + than : 'more efficient than'\n\nSuperlatif :\n\u2022 Court : the + adjective + -est : 'the fastest'\n\u2022 Long : the + most + adjective : 'the most efficient'\n\nExceptions : good \u2192 better/best, bad \u2192 worse/worst",examples:["This code is faster than the old one. (Ce code est plus rapide que l'ancien)","She is the most experienced developer. (Elle est la d\xe9veloppeuse la plus exp\xe9riment\xe9e)","The new version is better. (La nouvelle version est meilleure)"],commonMistakes:["\u274c 'more fast' \u2192 \u2705 'faster' (adjectif court)","\u274c 'the most fast' \u2192 \u2705 'the fastest' (adjectif court)","\u274c 'gooder' \u2192 \u2705 'better' (exception)"],tips:["Adjectifs courts (1-2 syllabes) : +er/+est","Adjectifs longs (3+ syllabes) : more/most","Exceptions importantes : good/better/best, bad/worse/worst"],vocabulary:[{word:"faster",definition:"plus rapide"},{word:"better",definition:"meilleur"},{word:"more efficient",definition:"plus efficace"},{word:"the most",definition:"le plus"}]}},B1:{conditional:{rule:"Conditional (Conditionnel)",explanation:"Le conditionnel exprime une situation hypoth\xe9tique ou une possibilit\xe9.",structure:"If + pr\xe9sent \u2192 futur\n\u2022 'If I have time, I will help' (Si j'ai le temps, j'aiderai)",examples:["If I have time, I will help you.","If you need help, I can assist you.","If the test passes, we can deploy."],commonMistakes:["\u274c 'If I will have' \u2192 \u2705 'If I have'","\u274c 'If you will need' \u2192 \u2705 'If you need'"],tips:["Dans la clause 'if', utilisez le pr\xe9sent, pas le futur","Le futur va dans la clause principale"]},passive_voice:{rule:"Passive Voice (Voix passive)",explanation:"La voix passive met l'accent sur l'action, pas sur qui la fait.",structure:"Be (conjugu\xe9) + past participle\n\u2022 'The code was reviewed' (le code a \xe9t\xe9 r\xe9vis\xe9)\n\u2022 'The app is tested' (l'app est test\xe9e)",examples:["The code was reviewed by the team.","The application is tested regularly.","The bug was fixed yesterday."],commonMistakes:["\u274c 'was review' \u2192 \u2705 'was reviewed'","\u274c 'is testing' \u2192 \u2705 'is tested'"],tips:["Utilisez la voix passive quand l'agent n'est pas important","Toujours utiliser le past participle (verbe-ed ou irr\xe9gulier)","Forme : be (conjugu\xe9) + past participle"],vocabulary:[{word:"to review",definition:"r\xe9viser, examiner"},{word:"to test",definition:"tester"},{word:"to fix",definition:"corriger, r\xe9parer"},{word:"by",definition:"par (agent dans la voix passive)"}]},past_perfect:{rule:"Past Perfect (Plus-que-parfait)",explanation:"Le past perfect exprime une action termin\xe9e avant une autre action dans le pass\xe9.",structure:"Structure affirmative :\n\u2022 Had + past participle\n\u2022 Exemple : 'I had finished' / 'She had deployed'\n\nStructure interrogative :\n\u2022 Had + sujet + past participle\n\u2022 Exemple : 'Had you finished?'\n\nStructure n\xe9gative :\n\u2022 Hadn't + past participle\n\u2022 Exemple : 'I hadn't finished'\n\nUsage : Action 1 (past perfect) \u2192 Action 2 (past simple)",examples:["I had finished the code before the meeting. (J'avais fini le code avant la r\xe9union)","She had tested the application when the bug appeared. (Elle avait test\xe9 l'application quand le bug est apparu)","Had you deployed before the deadline? (Aviez-vous d\xe9ploy\xe9 avant la date limite ?)"],commonMistakes:["\u274c 'I had finish' \u2192 \u2705 'I had finished' (past participle requis)","\u274c 'I have finished yesterday' \u2192 \u2705 'I had finished yesterday' (pass\xe9 avant pass\xe9)","\u274c 'She had deploy' \u2192 \u2705 'She had deployed' (past participle)"],tips:["Toujours past participle apr\xe8s had","Utilisez le past perfect pour l'action la plus ancienne","Indicateurs : before, after, when, by the time"],vocabulary:[{word:"before",definition:"avant"},{word:"after",definition:"apr\xe8s"},{word:"by the time",definition:"au moment o\xf9"},{word:"already",definition:"d\xe9j\xe0"}]},second_conditional:{rule:"Second Conditional (Conditionnel type 2)",explanation:"Le second conditional exprime une situation hypoth\xe9tique irr\xe9elle au pr\xe9sent ou futur.",structure:"Structure :\n\u2022 If + past simple \u2192 would/could/might + verbe base\n\u2022 Exemple : 'If I had time, I would help'\n\nInversion formelle :\n\u2022 Were + sujet \u2192 would + verbe base\n\u2022 Exemple : 'Were I you, I would test' (Si j'\xe9tais vous)",examples:["If I had more time, I would write better code. (Si j'avais plus de temps, j'\xe9crirais un meilleur code)","If she were here, she could help. (Si elle \xe9tait l\xe0, elle pourrait aider)","I would deploy if the tests passed. (Je d\xe9ploierais si les tests passaient)"],commonMistakes:["\u274c 'If I would have time' \u2192 \u2705 'If I had time' (pas de would dans la clause if)","\u274c 'If I was you' \u2192 \u2705 'If I were you' (were avec tous les sujets formel)","\u274c 'I would to help' \u2192 \u2705 'I would help' (pas de to apr\xe8s would)"],tips:["If + past simple (pas de would dans la clause if)","Would/could/might + verbe base (pas de to)","Utilis\xe9 pour situations irr\xe9elles ou hypoth\xe9tiques"],vocabulary:[{word:"would",definition:"conditionnel : je ferais"},{word:"could",definition:"pourrait"},{word:"might",definition:"pourrait (possibilit\xe9)"}]},modal_verbs:{rule:"Modal Verbs (Verbes modaux)",explanation:"Les verbes modaux expriment capacit\xe9, permission, obligation, possibilit\xe9.",structure:"Structure : Modal + verbe base (sans 'to')\n\nModaux principaux :\n\u2022 Can : capacit\xe9/permission\n\u2022 Could : capacit\xe9 pass\xe9e/politesse\n\u2022 Must : obligation forte\n\u2022 Should : conseil/obligation faible\n\u2022 May/Might : possibilit\xe9",examples:["I can code in Python. (Je peux coder en Python)","You should test the code. (Vous devriez tester le code)","We must fix this bug. (Nous devons corriger ce bug)","She could help if needed. (Elle pourrait aider si n\xe9cessaire)"],commonMistakes:["\u274c 'I can to code' \u2192 \u2705 'I can code' (pas de to apr\xe8s modal)","\u274c 'She can codes' \u2192 \u2705 'She can code' (verbe base)","\u274c 'You must to test' \u2192 \u2705 'You must test' (pas de to)"],tips:["Toujours verbe base apr\xe8s modaux (pas de -s, pas de -ing, pas de to)","Can = capacit\xe9/permission, Must = obligation forte, Should = conseil","Pas de -s \xe0 la 3e personne avec les modaux"],vocabulary:[{word:"can",definition:"pouvoir (capacit\xe9/permission)"},{word:"must",definition:"devoir (obligation forte)"},{word:"should",definition:"devoir (conseil)"},{word:"could",definition:"pourrait (capacit\xe9 pass\xe9e/politesse)"}]},technical_vocabulary:{rule:"Vocabulaire technique B1",explanation:"Vocabulaire technique interm\xe9diaire pour l'informatique.",vocabulary:[{word:"database",definition:"base de donn\xe9es"},{word:"framework",definition:"framework, cadre de travail"},{word:"API",definition:"Interface de Programmation Applicative"},{word:"backend",definition:"backend, c\xf4t\xe9 serveur"},{word:"frontend",definition:"frontend, c\xf4t\xe9 client"}],examples:["The database stores user data. (La base de donn\xe9es stocke les donn\xe9es utilisateur)","This framework is popular. (Ce framework est populaire)","The API is well documented. (L'API est bien document\xe9e)"]}},B2:{present_perfect_continuous:{rule:"Present Perfect Continuous",explanation:"Exprime une action commenc\xe9e dans le pass\xe9 et qui continue jusqu'\xe0 maintenant, avec emphase sur la dur\xe9e.",structure:"Have/Has + been + verbe-ing\n\u2022 'I have been working' (je travaille depuis...)\n\u2022 'She has been learning' (elle apprend depuis...)",examples:["I have been working on this project for three months.","She has been learning English for five years.","We have been developing this feature since January."],commonMistakes:["\u274c 'have been work' \u2192 \u2705 'have been working'","\u274c 'has been learn' \u2192 \u2705 'has been learning'"],tips:["Emphase sur la dur\xe9e/continuit\xe9","Utilisez 'for' pour une dur\xe9e, 'since' pour un point de d\xe9part"]},modal_perfect:{rule:"Modal Perfect (Could have / Should have)",explanation:"Exprime une possibilit\xe9 ou obligation dans le pass\xe9 qui ne s'est pas r\xe9alis\xe9e.",structure:"Modal + have + past participle\n\u2022 'could have been' (aurait pu \xeatre)\n\u2022 'should have done' (aurait d\xfb faire)",examples:["The vulnerability could have been prevented.","You should have tested the code first.","The bug would have been caught with better tests."],commonMistakes:["\u274c 'could has been' \u2192 \u2705 'could have been'","\u274c 'should has done' \u2192 \u2705 'should have done'"],tips:["Toujours utiliser 'have', pas 'has', apr\xe8s les modaux","Signifie 'c'\xe9tait possible, mais \xe7a n'a pas \xe9t\xe9 fait'","Could have = aurait pu, Should have = aurait d\xfb, Would have = aurait fait"],vocabulary:[{word:"could have",definition:"aurait pu"},{word:"should have",definition:"aurait d\xfb"},{word:"would have",definition:"aurait fait"},{word:"might have",definition:"aurait pu (possibilit\xe9 faible)"}]},past_perfect_continuous:{rule:"Past Perfect Continuous",explanation:"Exprime une action continue dans le pass\xe9 qui s'est termin\xe9e avant une autre action pass\xe9e.",structure:"Structure :\n\u2022 Had been + verb-ing\n\u2022 Exemple : 'I had been working' / 'She had been coding'\n\nUsage : Action continue (had been -ing) \u2192 Action 2 (past simple)",examples:["I had been coding for hours when the bug appeared. (Je codais depuis des heures quand le bug est apparu)","She had been testing the application when it crashed. (Elle testait l'application quand elle a plant\xe9)","We had been working on this feature for weeks before we released it. (Nous travaillions sur cette fonctionnalit\xe9 depuis des semaines avant de la publier)"],commonMistakes:["\u274c 'I had been work' \u2192 \u2705 'I had been working' (verbe-ing requis)","\u274c 'She had be coding' \u2192 \u2705 'She had been coding' (had + been)","\u274c 'They had being working' \u2192 \u2705 'They had been working' (had been)"],tips:["Structure : had + been + verb-ing","Emphase sur la dur\xe9e d'une action pass\xe9e","Utilis\xe9 avec 'for' (dur\xe9e) ou 'when' (moment)"],vocabulary:[{word:"for",definition:"depuis (dur\xe9e)"},{word:"when",definition:"quand"},{word:"before",definition:"avant"}]},reported_speech:{rule:"Reported Speech (Discours indirect)",explanation:"Le discours indirect rapporte ce que quelqu'un a dit sans citer ses mots exacts.",structure:"Changements de temps :\n\u2022 Present \u2192 Past : 'I work' \u2192 'He said he worked'\n\u2022 Will \u2192 Would : 'I will help' \u2192 'She said she would help'\n\u2022 Can \u2192 Could : 'I can code' \u2192 'He said he could code'\n\nVerbes introducteurs : said, told, asked, explained",examples:["He said he was working on the project. (Il a dit qu'il travaillait sur le projet)","She told me she had fixed the bug. (Elle m'a dit qu'elle avait corrig\xe9 le bug)","They asked if we could help. (Ils ont demand\xe9 si nous pouvions aider)"],commonMistakes:["\u274c 'He said he is working' \u2192 \u2705 'He said he was working' (backshift du temps)","\u274c 'She said me' \u2192 \u2705 'She told me' (told avec objet, said sans objet)","\u274c 'They asked me if did I help' \u2192 \u2705 'They asked me if I could help' (ordre normal)"],tips:["Faites le 'backshift' des temps (pr\xe9sent \u2192 pass\xe9)","Utilisez 'told' avec un objet, 'said' sans objet","Ordre normal apr\xe8s 'if' ou 'whether' dans les questions indirectes"],vocabulary:[{word:"said",definition:"a dit"},{word:"told",definition:"a dit \xe0 (avec objet)"},{word:"asked",definition:"a demand\xe9"},{word:"explained",definition:"a expliqu\xe9"}]},relative_clauses:{rule:"Relative Clauses (Propositions relatives)",explanation:"Les propositions relatives ajoutent des informations sur un nom en utilisant qui, que, o\xf9, dont.",structure:"Pronoms relatifs :\n\u2022 Who : personnes (sujet) : 'the developer who wrote this'\n\u2022 Which : choses (sujet/objet) : 'the code which runs'\n\u2022 That : personnes/choses (sujet/objet) : 'the bug that appeared'\n\u2022 Where : lieux : 'the office where I work'\n\u2022 Whose : possession : 'the developer whose code is clean'",examples:["The developer who wrote this code is experienced. (Le d\xe9veloppeur qui a \xe9crit ce code est exp\xe9riment\xe9)","This is the bug that caused the crash. (C'est le bug qui a caus\xe9 le crash)","The office where we work is modern. (Le bureau o\xf9 nous travaillons est moderne)"],commonMistakes:["\u274c 'The developer which wrote' \u2192 \u2705 'The developer who wrote' (who pour personnes)","\u274c 'The code who runs' \u2192 \u2705 'The code which/that runs' (which/that pour choses)","\u274c 'The bug who appeared' \u2192 \u2705 'The bug that/which appeared' (that/which pour choses)"],tips:["Who pour personnes (sujet), whom pour personnes (objet formel)","Which/that pour choses (sujet ou objet)","Where pour lieux, whose pour possession"],vocabulary:[{word:"who",definition:"qui (personnes)"},{word:"which",definition:"qui, que (choses)"},{word:"that",definition:"qui, que (personnes/choses)"},{word:"where",definition:"o\xf9 (lieux)"}]},technical_vocabulary:{rule:"Vocabulaire technique B2",explanation:"Vocabulaire sp\xe9cialis\xe9 avanc\xe9 pour les technologies IT.",vocabulary:[{word:"technical debt",definition:"dette technique"},{word:"deployment",definition:"d\xe9ploiement"},{word:"infrastructure",definition:"infrastructure"},{word:"automation",definition:"automatisation"},{word:"scalability",definition:"scalabilit\xe9"},{word:"microservices",definition:"microservices"}],examples:["Technical debt accumulates over time. (La dette technique s'accumule avec le temps)","The deployment was successful. (Le d\xe9ploiement a r\xe9ussi)","Infrastructure as Code automates provisioning. (L'Infrastructure as Code automatise le provisionnement)"]}},C1:{third_conditional:{rule:"Third Conditional (Conditionnel pass\xe9)",explanation:"Exprime une situation hypoth\xe9tique dans le pass\xe9 et son r\xe9sultat irr\xe9el. L'inversion avec 'Had' rend la phrase plus formelle.",structure:"Had + sujet + past participle \u2192 would have + past participle\n\u2022 'Had I known, I would have acted' (Si j'avais su, j'aurais agi)",examples:["Had the team followed best practices, the breach would not have occurred.","Had I known about the bug, I would have fixed it immediately.","Had we tested properly, the issue would have been caught."],commonMistakes:["\u274c 'If had I known' \u2192 \u2705 'Had I known' (pas de 'if')","\u274c 'would has been' \u2192 \u2705 'would have been'"],tips:["Forme formelle : 'Had' en d\xe9but de phrase (sans 'if')","Niveau C1 - Structure avanc\xe9e","Exprime un regret ou une hypoth\xe8se irr\xe9elle"],exceptions:["La forme avec 'If' est aussi correcte mais moins formelle","'If the team had followed' est \xe9quivalent mais moins \xe9l\xe9gant"]},inversion:{rule:"Inversion (Emphase)",explanation:"L'inversion de l'ordre sujet-verbe est utilis\xe9e pour mettre l'emphase, particuli\xe8rement apr\xe8s des expressions n\xe9gatives ou restrictives.",structure:"Expression restrictive + auxiliaire + sujet + verbe de base\n\u2022 'Not only did it make' (non seulement cela a rendu...)\n\u2022 'Never have I seen' (jamais je n'ai vu...)",examples:["Not only did it make the system more secure, but it also improved performance.","Never have I seen such efficient code.","Rarely do we encounter such issues.","Only then did I realize the problem."],commonMistakes:["\u274c 'Not only it made' \u2192 \u2705 'Not only did it make'","\u274c 'Never I have seen' \u2192 \u2705 'Never have I seen'"],tips:["Niveau C1 - Structure tr\xe8s formelle","Ajoutez un auxiliaire (do/does/did, have/has) apr\xe8s l'expression restrictive","Utilis\xe9 dans l'\xe9crit formel et le discours acad\xe9mique"],exceptions:["L'inversion est optionnelle avec certaines expressions","Peut \xeatre omise dans le langage informel"]},mixed_conditionals:{rule:"Mixed Conditionals (Conditionnels mixtes)",explanation:"Les conditionnels mixtes combinent diff\xe9rents temps pour exprimer des situations complexes reliant pass\xe9 et pr\xe9sent.",structure:"Type 1 : If + past perfect \u2192 would + verbe base\n\u2022 'If I had studied more, I would be better now'\n\nType 2 : If + past simple \u2192 would have + past participle\n\u2022 'If I were you, I would have tested first'",examples:["If I had fixed the bug earlier, the system would be working now. (Si j'avais corrig\xe9 le bug plus t\xf4t, le syst\xe8me fonctionnerait maintenant)","If I were more experienced, I would have caught that error. (Si j'\xe9tais plus exp\xe9riment\xe9, j'aurais attrap\xe9 cette erreur)","If we had deployed yesterday, we wouldn't have this problem today. (Si nous avions d\xe9ploy\xe9 hier, nous n'aurions pas ce probl\xe8me aujourd'hui)"],commonMistakes:["\u274c 'If I had fixed, I would be fixing' \u2192 \u2705 'If I had fixed, I would be' (temps coh\xe9rents)","\u274c 'If I were, I would have be' \u2192 \u2705 'If I were, I would have been' (past participle)"],tips:["Combinez past perfect (action pass\xe9e) avec would + base (situation pr\xe9sente)","Ou combinez past simple (situation pr\xe9sente) avec would have (action pass\xe9e)","Exprime des liens entre pass\xe9 et pr\xe9sent"],exceptions:["Ces structures sont plus rares que les conditionnels standards","Utilis\xe9es principalement dans le langage formel"]},subjunctive:{rule:"Subjunctive Mood (Subjonctif)",explanation:"Le subjonctif exprime des souhaits, des suggestions ou des situations hypoth\xe9tiques, particuli\xe8rement dans des contextes formels.",structure:"Structure :\n\u2022 It is important/recommended that + sujet + verbe base\n\u2022 I suggest/recommend that + sujet + verbe base\n\u2022 If I were you... (pas 'was')\n\nNote : Le verbe au subjonctif reste \xe0 la base, m\xeame \xe0 la 3e personne",examples:["It is important that the code be tested. (Il est important que le code soit test\xe9)","I recommend that he review the code. (Je recommande qu'il r\xe9vise le code)","If I were you, I would deploy. (Si j'\xe9tais vous, je d\xe9ploierais)","I suggest that she fix the bug. (Je sugg\xe8re qu'elle corrige le bug)"],commonMistakes:["\u274c 'It is important that he tests' \u2192 \u2705 'It is important that he test' (subjonctif)","\u274c 'If I was you' \u2192 \u2705 'If I were you' (were au subjonctif)","\u274c 'I recommend that she reviews' \u2192 \u2705 'I recommend that she review' (subjonctif)"],tips:["Verbe base m\xeame \xe0 la 3e personne au subjonctif","Were (pas was) pour tous les sujets avec 'if I were'","Utilis\xe9 apr\xe8s : suggest, recommend, important, essential, necessary"],exceptions:["Le subjonctif est souvent remplac\xe9 par l'indicatif dans le langage informel","Plus courant en anglais am\xe9ricain qu'en anglais britannique"]},advanced_modals:{rule:"Advanced Modal Verbs (Modaux avanc\xe9s)",explanation:"Utilisation avanc\xe9e des modaux pour exprimer des nuances subtiles de possibilit\xe9, obligation et probabilit\xe9.",structure:"Modaux de probabilit\xe9 :\n\u2022 Must : tr\xe8s probable (d\xe9duction)\n\u2022 Might/May : possible\n\u2022 Could : possible mais incertain\n\nModaux pass\xe9s :\n\u2022 Must have + past participle : tr\xe8s probable au pass\xe9\n\u2022 Might/May/Could have + past participle : possible au pass\xe9",examples:["The server must be down. (Le serveur doit \xeatre en panne - d\xe9duction)","She might have forgotten the meeting. (Elle a peut-\xeatre oubli\xe9 la r\xe9union)","This could be a serious bug. (Cela pourrait \xeatre un bug s\xe9rieux)","He must have fixed the code. (Il a d\xfb corriger le code - d\xe9duction pass\xe9e)"],commonMistakes:["\u274c 'She must have forget' \u2192 \u2705 'She must have forgotten' (past participle)","\u274c 'It must be a bug, I'm not sure' \u2192 \u2705 'It might be a bug' (must = certitude)","\u274c 'He can have done' \u2192 \u2705 'He could have done' (can n'a pas de pass\xe9)"],tips:["Must = tr\xe8s probable/d\xe9duction logique","Might/May = possible (might moins certain que may)","Could = possible mais moins probable que might","Must have + past participle pour d\xe9duction pass\xe9e"],exceptions:["Must pour obligation : 'You must test the code'","Must have pour d\xe9duction : 'He must have left' (il a d\xfb partir)"]},advanced_technical_vocabulary:{rule:"Vocabulaire technique avanc\xe9 C1",explanation:"Vocabulaire sp\xe9cialis\xe9 tr\xe8s avanc\xe9 et concepts complexes en IT, IA et DevOps.",vocabulary:[{word:"retrieval-augmented generation",definition:"g\xe9n\xe9ration augment\xe9e par r\xe9cup\xe9ration (RAG)"},{word:"microservices architecture",definition:"architecture microservices"},{word:"fault isolation",definition:"isolation des pannes"},{word:"observability",definition:"observabilit\xe9"},{word:"model drift",definition:"d\xe9rive du mod\xe8le"},{word:"distributed systems",definition:"syst\xe8mes distribu\xe9s"},{word:"event-driven architecture",definition:"architecture orient\xe9e \xe9v\xe9nements"}],examples:["RAG systems combine retrieval with generation. (Les syst\xe8mes RAG combinent r\xe9cup\xe9ration et g\xe9n\xe9ration)","Microservices improve fault isolation. (Les microservices am\xe9liorent l'isolation des pannes)","Observability provides deep insights into system behavior. (L'observabilit\xe9 fournit des insights profonds sur le comportement du syst\xe8me)"]}}},l=(null===i||void 0===i?void 0:i[0])||"basic_vocabulary",c=a[t]||a.B2,u=c[l]||c.basic_vocabulary,d=o?"".concat(o,"\n\n").concat(u.explanation):u.explanation;return(0,$.jsxs)(le,{sx:{mt:2},children:[(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[s?n?(0,$.jsx)(ys,{icon:(0,$.jsx)(ha,{}),label:"Bonne r\xe9ponse \u2705",color:"success"}):(0,$.jsx)(ys,{icon:(0,$.jsx)(Df,{}),label:"R\xe9ponse incorrecte \u274c",color:"error"}):(0,$.jsx)(ys,{icon:(0,$.jsx)(Cm,{}),label:"Correction d\xe9taill\xe9e \ud83d\udca1",color:"info"}),(0,$.jsx)(ys,{icon:(0,$.jsx)(fo,{}),label:"Niveau ".concat(t),variant:"outlined"})]}),(0,$.jsx)(Ce,{variant:"body1",paragraph:!0,sx:{fontWeight:"bold",fontSize:"1.1rem"},children:u.rule}),(0,$.jsx)(Ce,{variant:"body2",paragraph:!0,children:d}),u.structure&&(0,$.jsx)(le,{sx:{bgcolor:"grey.100",p:2,borderRadius:1,mb:2},children:(0,$.jsxs)(Ce,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",fontFamily:"monospace"},children:[(0,$.jsx)("strong",{children:"Structure :"}),(0,$.jsx)("br",{}),u.structure]})}),u.vocabulary&&u.vocabulary.length>0&&(0,$.jsxs)(le,{sx:{mb:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:(0,$.jsx)("strong",{children:"Vocabulaire :"})}),u.vocabulary.map((e,t)=>(0,$.jsx)(le,{sx:{mb:1},children:(0,$.jsxs)(Ce,{variant:"body2",children:["\u2022 ",(0,$.jsx)("strong",{children:e.word})," : ",e.definition]})},t))]}),u.examples&&u.examples.length>0&&(0,$.jsxs)(le,{sx:{mb:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:(0,$.jsx)("strong",{children:"Exemples :"})}),u.examples.map((e,t)=>(0,$.jsxs)(Ce,{variant:"body2",sx:{mb:.5,fontStyle:"italic"},children:['\u2022 "',e,'"']},t))]}),u.commonMistakes&&u.commonMistakes.length>0&&(0,$.jsxs)(le,{sx:{mb:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:(0,$.jsx)("strong",{children:"\u26a0\ufe0f Erreurs fr\xe9quentes :"})}),u.commonMistakes.map((e,t)=>(0,$.jsx)(Ce,{variant:"body2",sx:{mb:.5},children:e},t))]}),u.tips&&u.tips.length>0&&(0,$.jsxs)(le,{sx:{mb:2,bgcolor:"info.light",p:2,borderRadius:1},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:(0,$.jsx)("strong",{children:"\ud83d\udca1 Conseils :"})}),u.tips.map((e,t)=>(0,$.jsxs)(Ce,{variant:"body2",sx:{mb:.5},children:["\u2022 ",e]},t))]}),u.exceptions&&u.exceptions.length>0&&(0,$.jsxs)(le,{sx:{mb:2,bgcolor:"warning.light",p:2,borderRadius:1},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:(0,$.jsx)("strong",{children:"\u26a0\ufe0f Exceptions ou cas particuliers :"})}),u.exceptions.map((e,t)=>(0,$.jsxs)(Ce,{variant:"body2",sx:{mb:.5},children:["\u2022 ",e]},t))]}),(0,$.jsxs)(le,{sx:{mt:2,bgcolor:n&&s?"success.light":s?"error.light":"info.light",p:2,borderRadius:1},children:[(0,$.jsxs)(Ce,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:"bold",color:n&&s?"success.dark":"text.primary"},children:[(0,$.jsx)("strong",{children:"\u2705 Bonne r\xe9ponse :"}),' "',r,'"']}),s&&(0,$.jsxs)(Ce,{variant:"subtitle2",gutterBottom:!0,sx:{mt:1},children:[(0,$.jsx)("strong",{children:"Votre r\xe9ponse :"}),' "',s,'"',n?(0,$.jsx)(ys,{label:"\u2705 Correcte",color:"success",size:"small",sx:{ml:1}}):(0,$.jsx)(ys,{label:"\u274c Incorrecte",color:"error",size:"small",sx:{ml:1}})]}),!s&&(0,$.jsx)(Ce,{variant:"body2",sx:{mt:1,fontStyle:"italic"},children:"\ud83d\udca1 Aucune r\xe9ponse fournie. Voici la bonne r\xe9ponse avec les explications d\xe9taill\xe9es ci-dessus."})]})]})},jm=t=>{let{testId:n="toeic_b2",level:r,onComplete:o}=t;const[s,a]=(0,e.useState)(null),[l,c]=(0,e.useState)(0),[u,d]=(0,e.useState)(0),[h,p]=(0,e.useState)({}),[f,m]=(0,e.useState)({grammar:0,listening:0,total:0}),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(!1),[x]=(0,e.useState)(()=>Date.now()),[w,S]=(0,e.useState)(0),{speak:k,isSpeaking:E,stop:I}=hp(),{addResponse:A}=us();(0,e.useEffect)(()=>{(async()=>{try{const e=await fetch("/data/toeic_toefl/toeic_all_levels.json"),t=await e.json();let i;i=r?t.tests.find(e=>e.level===r):t.tests.find(e=>e.id===n),i||(i=t.tests[0]),a(i)}catch(Hm){console.error("Erreur chargement test TOEIC:",Hm)}})()},[n,r]),(0,e.useEffect)(()=>{if(!g&&s){const e=setInterval(()=>{S(Math.floor((Date.now()-x)/1e3))},1e3);return()=>clearInterval(e)}},[g,x,s]);const C=null===s||void 0===s?void 0:s.sections[l],T=null===C||void 0===C?void 0:C.questions[u],j=(null===s||void 0===s?void 0:s.sections.reduce((e,t)=>e+t.questions.length,0))||0,_=Object.keys(h).length,R=j>0?_/j*100:0,P=()=>{if(!s)return;let e=0,t=0;s.sections.forEach(n=>{n.questions.forEach(r=>{const i=h[r.id];i&&i.toLowerCase().trim()===r.correctAnswer.toLowerCase().trim()&&("grammar"===n.id?e+=r.points:"listening"===n.id&&(t+=r.points))})});const n=e+t,r={grammar:e,listening:t,total:n};m(r),v(!0);const a=e/s.sections[0].points*100,l=t/s.sections[1].points*100,c=n/s.totalPoints*100;let u;u=c>=85&&a>=70&&l>=80?"C1":c>=70&&a>=60&&l>=70?"B2":c>=50&&a>=50&&l>=50?"B1":"A2",o&&o((0,i.A)((0,i.A)({},r),{},{level:u}))};if(!s)return(0,$.jsx)(le,{sx:{p:3,textAlign:"center"},children:(0,$.jsx)(Ce,{variant:"h6",children:"Chargement du test TOEIC..."})});if(g){const e=f.grammar/s.sections[0].points*100,t=f.listening/s.sections[1].points*100,n=f.total/s.totalPoints*100;let r;return r=n>=85&&e>=70&&t>=80?"C1":n>=70&&e>=60&&t>=70?"B2":n>=50&&e>=50&&t>=50?"B1":"A2",(0,$.jsx)(le,{sx:{p:3},children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\u2705 Vos r\xe9sultats sont pr\xeats"}),(0,$.jsxs)(Be,{container:!0,spacing:3,sx:{mb:3},children:[(0,$.jsx)(Be,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"h6",color:"primary",gutterBottom:!0,children:"GRAMMAIRE"}),(0,$.jsxs)(Ce,{variant:"h3",color:"primary",children:[f.grammar," / ",s.sections[0].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[e.toFixed(1),"%"]})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"h6",color:"success.main",gutterBottom:!0,children:"COMPREHENSION AUDIO"}),(0,$.jsxs)(Ce,{variant:"h3",color:"success.main",children:[f.listening," / ",s.sections[1].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[t.toFixed(1),"%"]})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"h6",color:"secondary.main",gutterBottom:!0,children:"TOTAL"}),(0,$.jsxs)(Ce,{variant:"h3",color:"secondary.main",children:[f.total," / ",s.totalPoints," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[n.toFixed(1),"%"]})]})})})]}),(0,$.jsx)(Ye,{sx:{bgcolor:"primary.light",mb:3},children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,children:"NIVEAU DE LANGUE"}),(0,$.jsx)(ys,{label:r,color:"primary",sx:{fontSize:"2rem",height:"auto",py:2,px:3}})]})}),(0,$.jsxs)(le,{sx:{textAlign:"center"},children:[(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,children:["Temps total: ",Math.floor(w/60)," min ",w%60," sec"]}),(0,$.jsx)(hn,{variant:"contained",color:"primary",onClick:()=>b(!0),sx:{mt:2},children:"Voir les analyses d\xe9taill\xe9es"})]})]})})})}if(y&&s)return(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsx)(hn,{variant:"text",onClick:()=>b(!1),sx:{mb:2},children:"\u2190 Retour aux r\xe9sultats"}),(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\ud83d\udcca Analyses de Compr\xe9hension D\xe9taill\xe9es"}),(0,$.jsxs)(Ce,{variant:"h6",gutterBottom:!0,sx:{mb:2},children:["Test : ",s.title]}),s.sections.map((e,t)=>(0,$.jsxs)(le,{sx:{mb:4},children:[(0,$.jsx)(Wf,{sx:{mb:2}}),(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,sx:{mb:2},children:e.name}),e.questions.map((t,n)=>{const r=h[t.id],i=!(!r||!t.correctAnswer)&&r.toLowerCase().trim()===t.correctAnswer.toLowerCase().trim();return(0,$.jsx)(Ye,{variant:"outlined",sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,$.jsx)(ys,{label:"Question ".concat(n+1),color:i?"success":"error",variant:i?"filled":"outlined"}),(0,$.jsx)(ys,{label:"".concat(t.points," points"),variant:"outlined"})]}),(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:t.text}),"listening"===e.type&&t.audioText&&(0,$.jsx)(Ms,{severity:"info",sx:{mb:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Audio :"})," ",t.audioText]})}),t.options&&(0,$.jsxs)(le,{sx:{mb:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:"Options :"}),t.options.map((e,n)=>(0,$.jsxs)(Ce,{variant:"body2",sx:{p:1,mb:.5,bgcolor:e===t.correctAnswer?"success.light":e!==r||i?"grey.50":"error.light",borderRadius:1},children:[e===t.correctAnswer&&"\u2705 ",e===r&&!i&&"\u274c ",e]},n))]}),Tm({questionId:t.id,level:t.level||s.level||"B2",isCorrect:!!r&&i,questionText:t.text,userAnswer:r||"",correctAnswer:t.correctAnswer,grammarFocus:t.grammarFocus,vocabularyFocus:t.vocabularyFocus,customExplanation:t.explanation})]})},t.id)})]},e.id))]})})]});const N=T&&void 0!==h[T.id];return(0,$.jsx)(le,{sx:{p:3},children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,children:s.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:s.description})]}),(0,$.jsxs)(le,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[(0,$.jsx)(oa,{variant:"determinate",value:R,sx:{flexGrow:1,height:8,borderRadius:4}}),(0,$.jsxs)(Ce,{variant:"body2",children:[_," / ",j]}),(0,$.jsx)(ys,{icon:(0,$.jsx)(ca,{}),label:"".concat(Math.floor(w/60),":").concat(String(w%60).padStart(2,"0")),color:"primary"})]}),(0,$.jsx)(im,{activeStep:l,sx:{mb:3},children:s.sections.map((e,t)=>(0,$.jsx)(lm,{children:(0,$.jsx)(Am,{children:e.name})},e.id))}),T&&(0,$.jsx)(Ye,{variant:"outlined",sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,$.jsx)(ys,{icon:"listening"===(null===C||void 0===C?void 0:C.type)?(0,$.jsx)(gp,{}):(0,$.jsx)(aa,{}),label:"Question ".concat(u+1," / ").concat(C.questions.length),color:"primary"}),(0,$.jsx)(ys,{label:"".concat(T.points," points"),variant:"outlined"})]}),"listening"===(null===C||void 0===C?void 0:C.type)&&T.audioText&&(0,$.jsxs)(le,{sx:{mb:3,textAlign:"center"},children:[(0,$.jsx)(hn,{variant:"outlined",startIcon:E?(0,$.jsx)(lp,{}):(0,$.jsx)(gp,{}),onClick:()=>{null!==T&&void 0!==T&&T.audioText&&(E?I():k(T.audioText))},sx:{mb:2},children:E?"Arr\xeater l'audio":"\xc9couter la question"}),T.audioText&&(0,$.jsx)(Ms,{severity:"info",sx:{mt:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Audio :"})," ",T.audioText]})})]}),(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,sx:{mb:3},children:T.text}),(0,$.jsx)(Sa,{component:"fieldset",fullWidth:!0,children:(0,$.jsx)(Qc,{value:h[T.id]||"",onChange:e=>{return t=T.id,n=e.target.value,void p(e=>(0,i.A)((0,i.A)({},e),{},{[t]:n}));var t,n},children:T.options.map((e,t)=>(0,$.jsx)(cu,{value:e,control:(0,$.jsx)(Tu,{}),label:e,sx:{p:2,mb:1,border:1,borderColor:"grey.300",borderRadius:2,"&:hover":{bgcolor:"grey.50"}}},t))})})]})}),(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,$.jsx)(hn,{variant:"outlined",onClick:()=>{if(u>0)d(e=>e-1);else if(l>0){c(e=>e-1);const e=s.sections[l-1];d(e.questions.length-1)}},disabled:0===l&&0===u,children:"Pr\xe9c\xe9dent"}),(0,$.jsx)(hn,{variant:"contained",onClick:()=>{T&&u<C.questions.length-1?d(e=>e+1):l<s.sections.length-1?(c(e=>e+1),d(0)):P()},disabled:!N,endIcon:_===j?(0,$.jsx)(ha,{}):void 0,children:_===j?"Terminer le test":"Suivant"})]})]})})})},_m=t=>{let{testId:n="toefl_c1",level:r,onComplete:o}=t;const[s,a]=(0,e.useState)(null),[l,c]=(0,e.useState)(0),[u,d]=(0,e.useState)(0),[h,p]=(0,e.useState)({}),[f,m]=(0,e.useState)({reading:0,listening:0,writing:0,total:0}),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(!1),[x]=(0,e.useState)(()=>Date.now()),[w,S]=(0,e.useState)(0),{speak:k,isSpeaking:E,stop:I}=hp(),{addResponse:A}=us();(0,e.useEffect)(()=>{(async()=>{try{const e=await fetch("/data/toeic_toefl/toefl_all_levels.json"),t=await e.json();let i;i=r?t.tests.find(e=>e.level===r):t.tests.find(e=>e.id===n),i||(i=t.tests[0]),a(i)}catch(Hm){console.error("Erreur chargement test TOEFL:",Hm)}})()},[n,r]),(0,e.useEffect)(()=>{if(!g&&s){const e=setInterval(()=>{S(Math.floor((Date.now()-x)/1e3))},1e3);return()=>clearInterval(e)}},[g,x,s]);const C=null===s||void 0===s?void 0:s.sections[l],T=null===C||void 0===C?void 0:C.questions[u],j=(null===s||void 0===s?void 0:s.sections.reduce((e,t)=>e+t.questions.length,0))||0,_=Object.keys(h).length,R=j>0?_/j*100:0,P=(e,t)=>{p(n=>(0,i.A)((0,i.A)({},n),{},{[e]:t}))},N=()=>{if(!s)return;let e=0,t=0,n=0;s.sections.forEach(r=>{r.questions.forEach(i=>{const o=h[i.id];"essay"===i.type?o&&o.length>50&&(n+=.7*i.points):o&&i.correctAnswer&&o.toLowerCase().trim()===i.correctAnswer.toLowerCase().trim()&&("reading"===r.id?e+=i.points:"listening"===r.id&&(t+=i.points))})});const r=e+t+n,a={reading:e,listening:t,writing:n,total:r};m(a),v(!0);const l=r/s.totalPoints*100;let c;c=l>=85?"C1":l>=70?"B2":l>=50?"B1":"A2",o&&o((0,i.A)((0,i.A)({},a),{},{level:c}))};if(!s)return(0,$.jsx)(le,{sx:{p:3,textAlign:"center"},children:(0,$.jsx)(Ce,{variant:"h6",children:"Chargement du test TOEFL..."})});if(g){const e=f.reading/s.sections[0].points*100,t=f.listening/s.sections[1].points*100,n=f.writing/s.sections[2].points*100,r=f.total/s.totalPoints*100;let i;return i=r>=85?"C1":r>=70?"B2":r>=50?"B1":"A2",(0,$.jsx)(le,{sx:{p:3},children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\u2705 Vos r\xe9sultats sont pr\xeats"}),(0,$.jsxs)(Be,{container:!0,spacing:3,sx:{mb:3},children:[(0,$.jsx)(Be,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"h6",color:"primary",gutterBottom:!0,children:"READING"}),(0,$.jsxs)(Ce,{variant:"h3",color:"primary",children:[f.reading.toFixed(1)," / ",s.sections[0].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[e.toFixed(1),"%"]})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"h6",color:"success.main",gutterBottom:!0,children:"LISTENING"}),(0,$.jsxs)(Ce,{variant:"h3",color:"success.main",children:[f.listening.toFixed(1)," / ",s.sections[1].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[t.toFixed(1),"%"]})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"h6",color:"secondary.main",gutterBottom:!0,children:"WRITING"}),(0,$.jsxs)(Ce,{variant:"h3",color:"secondary.main",children:[f.writing.toFixed(1)," / ",s.sections[2].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[n.toFixed(1),"%"]})]})})})]}),(0,$.jsx)(Ye,{sx:{bgcolor:"primary.light",mb:3},children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsxs)(Ce,{variant:"h5",gutterBottom:!0,children:["TOTAL: ",f.total.toFixed(1)," / ",s.totalPoints," pts"]}),(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,children:"NIVEAU DE LANGUE"}),(0,$.jsx)(ys,{label:i,color:"primary",sx:{fontSize:"2rem",height:"auto",py:2,px:3}})]})}),(0,$.jsx)(le,{sx:{textAlign:"center"},children:(0,$.jsx)(hn,{variant:"contained",color:"primary",onClick:()=>b(!0),sx:{mt:2},children:"Voir les analyses d\xe9taill\xe9es"})})]})})})}if(y&&s)return(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsx)(hn,{variant:"text",onClick:()=>b(!1),sx:{mb:2},children:"\u2190 Retour aux r\xe9sultats"}),(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\ud83d\udcca Analyses de Compr\xe9hension D\xe9taill\xe9es"}),(0,$.jsxs)(Ce,{variant:"h6",gutterBottom:!0,sx:{mb:2},children:["Test : ",s.title]}),s.sections.map((e,t)=>(0,$.jsxs)(le,{sx:{mb:4},children:[(0,$.jsx)(Wf,{sx:{mb:2}}),(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,sx:{mb:2},children:e.name}),e.questions.map((t,n)=>{const r=h[t.id],i="essay"===t.type?!!(r&&r.length>50):!(!r||!t.correctAnswer||r.toLowerCase().trim()!==t.correctAnswer.toLowerCase().trim());return(0,$.jsx)(Ye,{variant:"outlined",sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,$.jsx)(ys,{label:"Question ".concat(n+1),color:i?"success":"error",variant:i?"filled":"outlined"}),(0,$.jsx)(ys,{label:"".concat(t.points," points"),variant:"outlined"})]}),(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:t.text}),"listening"===e.type&&t.audioText&&(0,$.jsx)(Ms,{severity:"info",sx:{mb:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Audio :"})," ",t.audioText]})}),t.options&&(0,$.jsxs)(le,{sx:{mb:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:"Options :"}),t.options.map((e,n)=>(0,$.jsxs)(Ce,{variant:"body2",sx:{p:1,mb:.5,bgcolor:e===t.correctAnswer?"success.light":e!==r||i?"grey.50":"error.light",borderRadius:1},children:[e===t.correctAnswer&&"\u2705 ",e===r&&!i&&"\u274c ",e]},n))]}),"essay"!==t.type&&Tm({questionId:t.id,level:t.level||s.level||"C1",isCorrect:!!r&&i,questionText:t.text,userAnswer:r||"",correctAnswer:t.correctAnswer||"",grammarFocus:t.grammarFocus,vocabularyFocus:t.vocabularyFocus,customExplanation:t.explanation}),"essay"===t.type&&r&&(0,$.jsxs)(le,{sx:{mt:2},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:(0,$.jsx)("strong",{children:"Votre r\xe9ponse :"})}),(0,$.jsx)(Ce,{variant:"body2",sx:{mb:2,p:2,bgcolor:"grey.50",borderRadius:1},children:r}),(0,$.jsx)(Ms,{severity:"info",children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Explication :"})," ",t.explanation]})})]})]})},t.id)})]},e.id))]})})]});const O=T&&("essay"===T.type?h[T.id]&&h[T.id].length>50:void 0!==h[T.id]);return(0,$.jsx)(le,{sx:{p:3},children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,children:s.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:s.description})]}),(0,$.jsxs)(le,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[(0,$.jsx)(oa,{variant:"determinate",value:R,sx:{flexGrow:1,height:8,borderRadius:4}}),(0,$.jsxs)(Ce,{variant:"body2",children:[_," / ",j]}),(0,$.jsx)(ys,{icon:(0,$.jsx)(ca,{}),label:"".concat(Math.floor(w/60),":").concat(String(w%60).padStart(2,"0")),color:"primary"})]}),(0,$.jsx)(im,{activeStep:l,sx:{mb:3},children:s.sections.map((e,t)=>(0,$.jsx)(lm,{children:(0,$.jsx)(Am,{children:e.name})},e.id))}),T&&(0,$.jsx)(Ye,{variant:"outlined",sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,$.jsx)(ys,{icon:"listening"===(null===C||void 0===C?void 0:C.type)?(0,$.jsx)(gp,{}):"writing"===(null===C||void 0===C?void 0:C.type)?(0,$.jsx)(vp,{}):(0,$.jsx)(aa,{}),label:"Question ".concat(u+1," / ").concat(C.questions.length),color:"primary"}),(0,$.jsx)(ys,{label:"".concat(T.points," points"),variant:"outlined"})]}),"listening"===(null===C||void 0===C?void 0:C.type)&&T.audioText&&(0,$.jsxs)(le,{sx:{mb:3,textAlign:"center"},children:[(0,$.jsx)(hn,{variant:"outlined",startIcon:E?(0,$.jsx)(lp,{}):(0,$.jsx)(gp,{}),onClick:()=>{null!==T&&void 0!==T&&T.audioText&&(E?I():k(T.audioText))},sx:{mb:2},children:E?"Arr\xeater l'audio":"\xc9couter la question"}),T.audioText&&(0,$.jsx)(Ms,{severity:"info",sx:{mt:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Audio :"})," ",T.audioText]})})]}),(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,sx:{mb:3},children:T.text}),"essay"===T.type?(0,$.jsx)(Uu,{fullWidth:!0,multiline:!0,rows:8,placeholder:"\xc9crivez votre r\xe9ponse ici (minimum 100 mots recommand\xe9)...",value:h[T.id]||"",onChange:e=>P(T.id,e.target.value),sx:{mb:2}}):T.options?(0,$.jsx)(Sa,{component:"fieldset",fullWidth:!0,children:(0,$.jsx)(Qc,{value:h[T.id]||"",onChange:e=>P(T.id,e.target.value),children:T.options.map((e,t)=>(0,$.jsx)(cu,{value:e,control:(0,$.jsx)(Tu,{}),label:e,sx:{p:2,mb:1,border:1,borderColor:"grey.300",borderRadius:2,"&:hover":{bgcolor:"grey.50"}}},t))})}):null]})}),(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,$.jsx)(hn,{variant:"outlined",onClick:()=>{if(u>0)d(e=>e-1);else if(l>0){c(e=>e-1);const e=s.sections[l-1];d(e.questions.length-1)}},disabled:0===l&&0===u,children:"Pr\xe9c\xe9dent"}),(0,$.jsx)(hn,{variant:"contained",onClick:()=>{T&&u<C.questions.length-1?d(e=>e+1):l<s.sections.length-1?(c(e=>e+1),d(0)):N()},disabled:!O,children:_===j?"Terminer le test":"Suivant"})]})]})})})},Rm=uo((0,$.jsx)("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"}),"Mic"),Pm=()=>/Android/i.test(navigator.userAgent),Nm=()=>window.isSecureContext||"https:"===window.location.protocol||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,Om=t=>{let{testId:n="efset_b2",level:r,onComplete:o}=t;const[s,a]=(0,e.useState)(null),[l,c]=(0,e.useState)(0),[u,d]=(0,e.useState)(0),[h,p]=(0,e.useState)("B2"),[f,m]=(0,e.useState)({}),[g,v]=(0,e.useState)({reading:0,listening:0,writing:0,speaking:0,total:0}),[y,b]=(0,e.useState)(!1),[x,w]=(0,e.useState)(!1),[S]=(0,e.useState)(()=>Date.now()),[k,E]=(0,e.useState)(0),{speak:I,isSpeaking:A,stop:C}=hp(),{transcript:T,listening:j,startListening:_,stopListening:R}=(()=>{const t="undefined"!==typeof window&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window)&&Nm(),[n,r]=(0,e.useState)(""),[i,o]=(0,e.useState)(!1),[s,a]=(0,e.useState)(0),[l,c]=(0,e.useState)(()=>t?null:Nm()?"Votre navigateur ne supporte pas la reconnaissance vocale.":"HTTPS requis pour la reconnaissance vocale. Veuillez utiliser une connexion s\xe9curis\xe9e."),[u,d]=(0,e.useState)(!1),h=(0,e.useRef)(null),p=(0,e.useRef)(null),f=(0,e.useCallback)(async()=>{try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(e=>e.stop()),d(!0),c(null),!0}catch(e){return console.error("Microphone permission error:",e),"NotAllowedError"===e.name||"PermissionDeniedError"===e.name?c("Permission microphone refus\xe9e. Veuillez autoriser l'acc\xe8s au microphone."):"NotFoundError"===e.name?c("Aucun microphone d\xe9tect\xe9 sur votre appareil."):c("Erreur d'acc\xe8s au microphone."),d(!1),!1}},[]);(0,e.useEffect)(()=>{if(!t)return;const e=new(window.SpeechRecognition||window.webkitSpeechRecognition);return e.continuous=!0,e.interimResults=!0,e.lang="en-US",e.maxAlternatives=1,Pm()&&(e.continuous=!1),e.onresult=t=>{let n="",o="";for(let e=t.resultIndex;e<t.results.length;e++){const r=t.results[e][0].transcript;if(t.results[e].isFinal){o+=r+" ";const n=t.results[e][0].confidence;a(n?Math.round(100*n):80)}else n+=r}r(e=>{const t=e+o;return n?t+n:t}),Pm()&&o&&i&&(p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{try{e.start()}catch(t){}},300))},e.onerror=e=>{switch(console.error("Speech recognition error:",e.error),e.error){case"network":c("Erreur r\xe9seau. V\xe9rifiez votre connexion Internet.");break;case"not-allowed":c("Permission microphone refus\xe9e."),d(!1);break;case"no-speech":c("Aucune parole d\xe9tect\xe9e. R\xe9essayez.");break;case"audio-capture":c("Impossible d'acc\xe9der au microphone.");break;case"aborted":break;default:c("Erreur de reconnaissance: ".concat(e.error))}o(!1)},e.onstart=()=>{c(null),o(!0)},e.onend=()=>{o(!1),p.current&&clearTimeout(p.current)},h.current=e,()=>{if(h.current)try{h.current.stop()}catch(e){}p.current&&clearTimeout(p.current)}},[t,i]);const m=(0,e.useCallback)(async()=>{if(h.current&&!i&&await f())try{try{h.current.stop()}catch(e){}await new Promise(e=>setTimeout(e,100)),h.current.start(),o(!0),c(null)}catch(l){if(console.error("Error starting recognition:",l),"InvalidStateError"===l.name)try{h.current.stop(),setTimeout(()=>{h.current.start()},200)}catch(e){c("Impossible de d\xe9marrer la reconnaissance vocale.")}else c("Erreur lors du d\xe9marrage de la reconnaissance vocale.");o(!1)}},[i,f]),g=(0,e.useCallback)(()=>{if(h.current&&i)try{h.current.stop(),o(!1)}catch(l){console.error("Error stopping recognition:",l)}p.current&&(clearTimeout(p.current),p.current=null)},[i]),v=(0,e.useCallback)(()=>{r(""),a(0),c(null)},[]);return{transcript:n,listening:i,startListening:m,stopListening:g,resetTranscript:v,browserSupportsSpeechRecognition:t,confidence:s,error:l,permissionGranted:u}})(),{addResponse:P}=us();(0,e.useEffect)(()=>{(async()=>{try{var e;const t=await fetch("/data/toeic_toefl/efset_all_levels.json"),i=await t.json();let o;o=r?i.tests.find(e=>e.level===r):i.tests.find(e=>e.id===n),o||(o=i.tests[0]),a(o),null!==(e=o.sections[0])&&void 0!==e&&e.initialLevel?p(o.sections[0].initialLevel):o.level&&p(o.level)}catch(Hm){console.error("Erreur chargement test EF SET:",Hm)}})()},[n,r]),(0,e.useEffect)(()=>{if(!y&&s){const e=setInterval(()=>{E(Math.floor((Date.now()-S)/1e3))},1e3);return()=>clearInterval(e)}},[y,S,s]);const N=(()=>{if(!s)return[];const e=s.sections[l];return e.adaptive?e.questions.filter(e=>e.level===h):e.questions})(),O=null===s||void 0===s?void 0:s.sections[l],L=N[u],M=(null===s||void 0===s?void 0:s.sections.reduce((e,t)=>t.adaptive?e+t.questions.length/2:e+t.questions.length,0))||0,D=Object.keys(f).length,F=M>0?D/M*100:0,z=(e,t)=>{if(m(n=>(0,i.A)((0,i.A)({},n),{},{[e]:t})),L&&L.options){var n;const e=t.toLowerCase().trim()===(null===(n=L.correctAnswer)||void 0===n?void 0:n.toLowerCase().trim());null!==O&&void 0!==O&&O.adaptive&&(e&&L.nextLevel?p(L.nextLevel):!e&&L.wrongLevel&&p(L.wrongLevel))}},V=()=>{if(!s)return;let e=0,t=0,n=0,r=0;s.sections.forEach(i=>{i.questions.forEach(o=>{const s=f[o.id];"essay"===o.type||"speaking"===o.type?s&&s.length>50&&("writing"===i.id?n+=.7*o.points:"speaking"===i.id&&(r+=.7*o.points)):s&&o.correctAnswer&&s.toLowerCase().trim()===o.correctAnswer.toLowerCase().trim()&&("reading"===i.id?e+=o.points:"listening"===i.id&&(t+=o.points))})});const a=e+t+n+r,l={reading:e,listening:t,writing:n,speaking:r,total:a};v(l),b(!0);const c=a/s.totalPoints*100;let u;u=c>=85?"C1":c>=70?"B2":c>=50?"B1":"A2",o&&o((0,i.A)((0,i.A)({},l),{},{level:u}))};if(!s)return(0,$.jsx)(le,{sx:{p:3,textAlign:"center"},children:(0,$.jsx)(Ce,{variant:"h6",children:"Chargement du test EF SET..."})});if(y){const e=g.reading/s.sections[0].points*100,t=g.listening/s.sections[1].points*100,n=g.writing/s.sections[2].points*100,r=g.speaking/s.sections[3].points*100,i=g.total/s.totalPoints*100;let o;return o=i>=85?"C1":i>=70?"B2":i>=50?"B1":"A2",(0,$.jsx)(le,{sx:{p:3},children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\u2705 Vos r\xe9sultats sont pr\xeats"}),(0,$.jsx)(Ce,{variant:"h6",align:"center",color:"text.secondary",sx:{mb:4},children:"Test EF SET - 4 Comp\xe9tences"}),(0,$.jsxs)(Be,{container:!0,spacing:3,sx:{mb:3},children:[(0,$.jsx)(Be,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(aa,{sx:{fontSize:40,color:"primary.main",mb:1}}),(0,$.jsx)(Ce,{variant:"h6",color:"primary",gutterBottom:!0,children:"READING"}),(0,$.jsxs)(Ce,{variant:"h3",color:"primary",children:[g.reading.toFixed(1)," / ",s.sections[0].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[e.toFixed(1),"%"]})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(gp,{sx:{fontSize:40,color:"success.main",mb:1}}),(0,$.jsx)(Ce,{variant:"h6",color:"success.main",gutterBottom:!0,children:"LISTENING"}),(0,$.jsxs)(Ce,{variant:"h3",color:"success.main",children:[g.listening.toFixed(1)," / ",s.sections[1].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[t.toFixed(1),"%"]})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(vp,{sx:{fontSize:40,color:"secondary.main",mb:1}}),(0,$.jsx)(Ce,{variant:"h6",color:"secondary.main",gutterBottom:!0,children:"WRITING"}),(0,$.jsxs)(Ce,{variant:"h3",color:"secondary.main",children:[g.writing.toFixed(1)," / ",s.sections[2].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[n.toFixed(1),"%"]})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:6,children:(0,$.jsx)(Ye,{variant:"outlined",children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Rm,{sx:{fontSize:40,color:"warning.main",mb:1}}),(0,$.jsx)(Ce,{variant:"h6",color:"warning.main",gutterBottom:!0,children:"SPEAKING"}),(0,$.jsxs)(Ce,{variant:"h3",color:"warning.main",children:[g.speaking.toFixed(1)," / ",s.sections[3].points," pts"]}),(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",children:[r.toFixed(1),"%"]})]})})})]}),(0,$.jsx)(Ye,{sx:{bgcolor:"primary.light",mb:3},children:(0,$.jsxs)(et,{sx:{textAlign:"center"},children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,children:"NIVEAU CECR"}),(0,$.jsx)(ys,{label:o,color:"primary",sx:{fontSize:"2rem",height:"auto",py:2,px:3}}),(0,$.jsxs)(Ce,{variant:"h6",sx:{mt:2},children:["Total: ",g.total.toFixed(1)," / ",s.totalPoints," pts (",i.toFixed(1),"%)"]})]})}),(0,$.jsx)(le,{sx:{textAlign:"center"},children:(0,$.jsxs)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,children:["Temps total: ",Math.floor(k/60)," min ",k%60," sec"]})})]})})})}const B=L&&("essay"===L.type||"speaking"===L.type?f[L.id]&&f[L.id].length>50:void 0!==f[L.id]);return(0,$.jsx)(le,{sx:{p:3},children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(Ce,{variant:"h4",gutterBottom:!0,children:s.title}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:s.description}),(null===O||void 0===O?void 0:O.adaptive)&&(0,$.jsx)(ys,{label:"Niveau actuel: ".concat(h),color:"info",sx:{mt:1}})]}),(0,$.jsxs)(le,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[(0,$.jsx)(oa,{variant:"determinate",value:F,sx:{flexGrow:1,height:8,borderRadius:4}}),(0,$.jsxs)(Ce,{variant:"body2",children:[D," / ~",Math.round(M)]}),(0,$.jsx)(ys,{icon:(0,$.jsx)(ca,{}),label:"".concat(Math.floor(k/60),":").concat(String(k%60).padStart(2,"0")),color:"primary"})]}),(0,$.jsx)(im,{activeStep:l,sx:{mb:3},children:s.sections.map((e,t)=>(0,$.jsx)(lm,{children:(0,$.jsx)(Am,{children:e.name})},e.id))}),L&&(0,$.jsx)(Ye,{variant:"outlined",sx:{mb:3},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,$.jsx)(ys,{icon:"listening"===(null===O||void 0===O?void 0:O.type)?(0,$.jsx)(gp,{}):"writing"===(null===O||void 0===O?void 0:O.type)?(0,$.jsx)(vp,{}):"speaking"===(null===O||void 0===O?void 0:O.type)?(0,$.jsx)(Rm,{}):(0,$.jsx)(aa,{}),label:"Question ".concat(u+1," / ").concat(N.length),color:"primary"}),(0,$.jsx)(ys,{label:"".concat(L.points," points (").concat(L.level,")"),variant:"outlined"})]}),"listening"===(null===O||void 0===O?void 0:O.type)&&L.audioText&&(0,$.jsxs)(le,{sx:{mb:3,textAlign:"center"},children:[(0,$.jsx)(hn,{variant:"outlined",startIcon:A?(0,$.jsx)(lp,{}):(0,$.jsx)(gp,{}),onClick:()=>{null!==L&&void 0!==L&&L.audioText&&(A?C():I(L.audioText))},sx:{mb:2},children:A?"Arr\xeater l'audio":"\xc9couter la question"}),L.audioText&&(0,$.jsx)(Ms,{severity:"info",sx:{mt:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Audio :"})," ",L.audioText]})})]}),(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,sx:{mb:3},children:L.text}),"essay"===L.type?(0,$.jsx)(Uu,{fullWidth:!0,multiline:!0,rows:8,placeholder:"\xc9crivez votre r\xe9ponse ici (minimum 150 mots recommand\xe9)...",value:f[L.id]||"",onChange:e=>z(L.id,e.target.value),sx:{mb:2}}):"speaking"===L.type?(0,$.jsxs)(le,{sx:{mb:3},children:[(0,$.jsx)(hn,{variant:j?"contained":"outlined",startIcon:(0,$.jsx)(Rm,{}),onClick:()=>{j?R():_()},sx:{mb:2},color:j?"error":"primary",children:j?"Arr\xeater l'enregistrement":"Commencer \xe0 parler"}),T&&(0,$.jsx)(Ms,{severity:"info",sx:{mt:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Transcription :"})," ",T]})}),L.audioText&&(0,$.jsx)(Ms,{severity:"info",sx:{mt:2},children:(0,$.jsxs)(Ce,{variant:"body2",children:[(0,$.jsx)("strong",{children:"Consigne :"})," ",L.audioText]})})]}):L.options?(0,$.jsx)(Sa,{component:"fieldset",fullWidth:!0,children:(0,$.jsx)(Qc,{value:f[L.id]||"",onChange:e=>z(L.id,e.target.value),children:L.options.map((e,t)=>(0,$.jsx)(cu,{value:e,control:(0,$.jsx)(Tu,{}),label:e,sx:{p:2,mb:1,border:1,borderColor:"grey.300",borderRadius:2,"&:hover":{bgcolor:"grey.50"}}},t))})}):null]})}),(0,$.jsxs)(le,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,$.jsx)(hn,{variant:"outlined",onClick:()=>{if(u>0)d(e=>e-1);else if(l>0){c(e=>e-1);const e=s.sections[l-1],t=e.adaptive?e.questions.filter(e=>e.level===h):e.questions;d(t.length-1)}},disabled:0===l&&0===u,children:"Pr\xe9c\xe9dent"}),(0,$.jsx)(hn,{variant:"contained",onClick:()=>{if(L&&u<N.length-1)d(e=>e+1);else if(l<s.sections.length-1){c(e=>e+1),d(0);const e=s.sections[l+1];e.initialLevel&&p(e.initialLevel)}else V()},disabled:!B,children:D>=M?"Terminer le test":"Suivant"})]})]})})})},Lm=["A1","A2","B1","B2","C1"],Mm={A1:"D\xe9butant - Compr\xe9hension et expression basiques",A2:"\xc9l\xe9mentaire - Communication simple sur des sujets familiers",B1:"Interm\xe9diaire - Communication dans des situations quotidiennes",B2:"Interm\xe9diaire sup\xe9rieur - Communication fluide sur des sujets complexes",C1:"Avanc\xe9 - Expression fluide et pr\xe9cise sur des sujets techniques"},Dm={efset:"EF SET",toeic:"TOEIC",toefl:"TOEFL"},Fm=t=>{let{testType:n,onSelectLevel:r,onCancel:i}=t;const[o,s]=(0,e.useState)("");return(0,$.jsxs)(_p,{open:!0,onClose:i,maxWidth:"md",fullWidth:!0,children:[(0,$.jsx)(Lp,{children:(0,$.jsxs)(le,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,$.jsx)(mo,{sx:{fontSize:32,color:"primary.main"}}),(0,$.jsxs)(Ce,{variant:"h5",children:["Choisir le niveau de test ",Dm[n]]})]})}),(0,$.jsxs)(zp,{children:[(0,$.jsx)(le,{sx:{mb:3},children:(0,$.jsxs)(Ce,{variant:"body1",color:"text.secondary",paragraph:!0,children:["S\xe9lectionnez le niveau CECR pour le test ",Dm[n],". Le test sera adapt\xe9 \xe0 ce niveau."]})}),(0,$.jsxs)(Sa,{fullWidth:!0,sx:{mb:3},children:[(0,$.jsx)(Oa,{id:"level-select-label",children:"Niveau CECR"}),(0,$.jsx)(Pc,{labelId:"level-select-label",id:"level-select",value:o,label:"Niveau CECR",onChange:e=>s(e.target.value),children:Lm.map(e=>(0,$.jsx)(zc,{value:e,children:(0,$.jsxs)(le,{children:[(0,$.jsxs)(Ce,{variant:"body1",fontWeight:"bold",children:["Niveau ",e]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:Mm[e]})]})},e))})]}),o&&(0,$.jsx)(Ye,{variant:"outlined",sx:{bgcolor:"grey.50"},children:(0,$.jsxs)(et,{children:[(0,$.jsxs)(Ce,{variant:"h6",gutterBottom:!0,children:["Niveau ",o," s\xe9lectionn\xe9"]}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",children:Mm[o]})]})}),(0,$.jsxs)(le,{sx:{mt:3},children:[(0,$.jsx)(Ce,{variant:"subtitle2",gutterBottom:!0,children:"Niveaux disponibles :"}),(0,$.jsx)(le,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:Lm.map(e=>(0,$.jsx)(ys,{label:"".concat(e," - ").concat(Mm[e].split(" - ")[1]),onClick:()=>s(e),color:o===e?"primary":"default",variant:o===e?"filled":"outlined"},e))})]})]}),(0,$.jsxs)(qp,{children:[i&&(0,$.jsx)(hn,{onClick:i,color:"inherit",children:"Annuler"}),(0,$.jsxs)(hn,{onClick:()=>{o&&r(o)},variant:"contained",disabled:!o,children:["Commencer le test niveau ",o]})]})]})},zm=()=>{console.log("=".repeat(50)),console.log("\ud83d\ude80 V\xe9rification de l'initialisation"),console.log("=".repeat(50));const e=(console.log("\ud83d\udd0d V\xe9rification de l'initialisation Firebase..."),Co?console.log("\u2705 Firebase App initialis\xe9"):console.warn("\u26a0\ufe0f Firebase App non initialis\xe9 (variables d'environnement manquantes)"),To?console.log("\u2705 Firestore initialis\xe9"):console.warn("\u26a0\ufe0f Firestore non initialis\xe9"),{app:!!Co,db:!!To}),t=(()=>{console.log("\ud83d\udd0d V\xe9rification de la plateforme Capacitor...");const e=Qo.Ii.getPlatform(),t=Qo.Ii.isNativePlatform();return console.log("\ud83d\udcf1 Plateforme: ".concat(e)),console.log("\ud83d\udcf1 Native: ".concat(t?"Oui":"Non")),{platform:e,isNative:t}})();return console.log("=".repeat(50)),{firebase:e,capacitor:t}},Vm=U({palette:{primary:{main:"#1976d2"},secondary:{main:"#dc004e"},success:{main:"#2e7d32"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h4:{fontWeight:600,fontSize:"clamp(1.5rem, 5vw, 2.125rem)"},h5:{fontWeight:600,fontSize:"clamp(1.25rem, 4vw, 1.5rem)"},h6:{fontWeight:500,fontSize:"clamp(1rem, 3vw, 1.25rem)"},body1:{fontSize:"clamp(0.875rem, 2vw, 1rem)"},button:{textTransform:"none",fontSize:"clamp(0.875rem, 2.5vw, 1rem)"}},components:{MuiButton:{styleOverrides:{root:{minHeight:44,minWidth:44,borderRadius:8,padding:"10px 20px","@media (hover: none)":{"&:active":{transform:"scale(0.98)",transition:"transform 0.1s"}}},sizeLarge:{minHeight:56,padding:"14px 28px",fontSize:"1.1rem"}}},MuiIconButton:{styleOverrides:{root:{minHeight:44,minWidth:44,padding:12}}},MuiTextField:{defaultProps:{variant:"outlined"},styleOverrides:{root:{"& .MuiInputBase-input":{fontSize:"clamp(0.875rem, 2vw, 1rem)",padding:"14px"}}}},MuiCard:{styleOverrides:{root:{borderRadius:12,"@media (max-width: 600px)":{boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}}},MuiChip:{styleOverrides:{root:{minHeight:32,fontSize:"clamp(0.75rem, 2vw, 0.875rem)"}}},MuiDrawer:{styleOverrides:{paper:{"@media (max-width: 600px)":{width:"75vw",maxWidth:280}}}}},breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}}),Bm=()=>{const{isAuthenticated:t,login:n,logout:r,user:o}=us(),[s,a]=(0,e.useState)("dashboard"),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(null),[h,p]=(0,e.useState)(null),[f,m]=(0,e.useState)(!1),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(()=>!localStorage.getItem("levelAssessed"));e.useEffect(()=>{zm()},[]);if(window.location.pathname.includes("/verify-email/"))return(0,$.jsx)(zf,{onSuccess:(e,t)=>{n(e,t)},onSwitchToLogin:()=>{window.location.href="/"}});if(!t)return g?(0,$.jsx)(Mf,{onSwitchToLogin:()=>v(!1),onSuccess:()=>{v(!1)}}):f?(0,$.jsx)(Lf,{onSuccess:(e,t)=>{n(e,t),m(!1)},onSwitchToLogin:()=>m(!1)}):(0,$.jsx)(Pf,{onSuccess:(e,t)=>{n(e,t)},onSwitchToSignup:()=>m(!0),onSwitchToForgotPassword:()=>v(!0)});const x=[{id:"dashboard",label:"Tableau de bord",icon:(0,$.jsx)(ho,{})},{id:"learning",label:"Mon Programme",icon:(0,$.jsx)(po,{})},{id:"exercises",label:"Exercices",icon:(0,$.jsx)(fo,{})},{id:"progress",label:"Progression",icon:(0,$.jsx)(po,{})},{id:"tests",label:"Tests TOEIC/TOEFL",icon:(0,$.jsx)(mo,{})}],w=()=>{localStorage.setItem("levelAssessed","true"),b(!1),a("learning")},S=()=>{localStorage.removeItem("levelAssessed"),b(!0)},k=e=>{a(e)},E=e=>{p(e);const t=u;d(null),"efset"===t?a("efset"):"toeic"===t?a("toeic"):"toefl"===t&&a("toefl")};return(0,$.jsxs)(le,{sx:{display:"flex",minHeight:"100vh"},children:[(0,$.jsx)(vn,{position:"fixed",sx:{zIndex:e=>e.zIndex.drawer+1},children:(0,$.jsxs)(wn,{children:[(0,$.jsx)(An,{color:"inherit",edge:"start",onClick:()=>c(!l),sx:{mr:2,display:{sm:"none"}},children:(0,$.jsx)(go,{})}),(0,$.jsx)(vo,{sx:{mr:2}}),(0,$.jsx)(Ce,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:"AI English Trainer for IT Professionals"}),o&&(0,$.jsx)(Ce,{variant:"body2",sx:{mr:2,fontStyle:"italic"},children:o.name}),(0,$.jsx)(Ce,{variant:"body2",sx:{mr:2,fontStyle:"italic"},children:"B2 \u2192 C1"}),(0,$.jsx)(An,{color:"inherit",onClick:r,title:"D\xe9connexion",children:(0,$.jsx)(yo,{})})]})}),(0,$.jsx)(Wr,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box",mt:8}},children:(0,$.jsx)(Xr,{children:x.map(e=>(0,$.jsxs)(ui,{button:!0,selected:s===e.id,onClick:()=>a(e.id),sx:{"&.Mui-selected":{bgcolor:"primary.light",color:"primary.main","&:hover":{bgcolor:"primary.light"}}},children:[(0,$.jsx)(mi,{sx:{color:s===e.id?"primary.main":"inherit"},children:e.icon}),(0,$.jsx)(xi,{primary:e.label})]},e.id))})}),(0,$.jsx)(Wr,{variant:"temporary",open:l,onClose:()=>c(!1),sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,boxSizing:"border-box",mt:8}},children:(0,$.jsx)(Xr,{children:x.map(e=>(0,$.jsxs)(ui,{button:!0,selected:s===e.id,onClick:()=>{a(e.id),c(!1)},children:[(0,$.jsx)(mi,{children:e.icon}),(0,$.jsx)(xi,{primary:e.label})]},e.id))})}),(0,$.jsx)(le,{component:"main",sx:{flexGrow:1,mt:8,bgcolor:"grey.50"},children:(0,$.jsx)(zi,{maxWidth:"xl",children:(()=>{if(y)return(0,$.jsx)(xp,{onComplete:w});if(u&&!h)return(0,$.jsx)(Fm,{testType:u,onSelectLevel:E,onCancel:()=>{d(null),a("tests")}});switch(s){case"dashboard":default:return(0,$.jsx)(da,{onStartAssessment:S,onNavigate:k});case"learning":return(0,$.jsx)(Gp,{onNavigate:k});case"progress":return(0,$.jsx)(ma,{});case"exercises":return(0,$.jsx)(mp,{});case"tests":return(0,$.jsxs)(le,{sx:{p:3},children:[(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"Tests d'\xc9valuation"}),(0,$.jsxs)(Be,{container:!0,spacing:3,children:[(0,$.jsx)(Be,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"EF SET - 4 Skills"}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Test adaptatif complet inspir\xe9 d'EF SET : Reading, Listening, Writing, Speaking (90 min)."}),(0,$.jsx)(hn,{variant:"contained",fullWidth:!0,color:"primary",onClick:()=>d("efset"),children:"Passer le test EF SET"})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Test TOEIC"}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Testez votre niveau d'anglais avec un test TOEIC complet (Grammaire + Compr\xe9hension audio)."}),(0,$.jsx)(hn,{variant:"contained",fullWidth:!0,onClick:()=>d("toeic"),children:"Passer le test TOEIC"})]})})}),(0,$.jsx)(Be,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ye,{elevation:3,children:(0,$.jsxs)(et,{children:[(0,$.jsx)(Ce,{variant:"h6",gutterBottom:!0,children:"Test TOEFL"}),(0,$.jsx)(Ce,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Testez votre niveau d'anglais avec un test TOEFL avanc\xe9 (Reading + Listening + Writing)."}),(0,$.jsx)(hn,{variant:"contained",fullWidth:!0,onClick:()=>d("toefl"),children:"Passer le test TOEFL"})]})})})]})]});case"efset":return(0,$.jsxs)(le,{sx:{p:0},children:[(0,$.jsx)(hn,{variant:"text",onClick:()=>a("tests"),sx:{mb:2},children:"\u2190 Retour aux tests"}),(0,$.jsx)(Om,{level:h||void 0,onComplete:e=>{if(o){const t=(0,i.A)((0,i.A)({},o),{},{currentLevel:e.level,lastActivity:new Date});localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("efsetResults",JSON.stringify(e)),localStorage.setItem("lastTestType","efset"),window.location.reload()}setTimeout(()=>a("tests"),5e3)}})]});case"toeic":return(0,$.jsxs)(le,{sx:{p:0},children:[(0,$.jsx)(hn,{variant:"text",onClick:()=>a("tests"),sx:{mb:2},children:"\u2190 Retour aux tests"}),(0,$.jsx)(jm,{level:h||void 0,onComplete:e=>{if(o){const t=(0,i.A)((0,i.A)({},o),{},{currentLevel:e.level,lastActivity:new Date});localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("toeicResults",JSON.stringify(e)),localStorage.setItem("lastTestType","toeic"),window.location.reload()}p(null),setTimeout(()=>a("tests"),5e3)}})]});case"toefl":return(0,$.jsxs)(le,{sx:{p:0},children:[(0,$.jsx)(hn,{variant:"text",onClick:()=>a("tests"),sx:{mb:2},children:"\u2190 Retour aux tests"}),(0,$.jsx)(_m,{level:h||void 0,onComplete:e=>{if(o){const t=(0,i.A)((0,i.A)({},o),{},{currentLevel:e.level,lastActivity:new Date});localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("toeflResults",JSON.stringify(e)),localStorage.setItem("lastTestType","toefl"),window.location.reload()}p(null),setTimeout(()=>a("tests"),5e3)}})]})}})()})})]})},Um=()=>(0,$.jsxs)(eo,{theme:Vm,children:[(0,$.jsx)(io,{}),(0,$.jsx)(cs,{children:(0,$.jsx)(Bm,{})})]});class qm extends e.Component{constructor(e){super(e),this.handleReload=()=>{try{localStorage.clear()}catch(e){console.error("Impossible de vider localStorage:",e)}window.location.reload()},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){console.error("\u274c Erreur captur\xe9e par ErrorBoundary:",e),console.error("\ud83d\udccb Info:",t),this.setState({error:e,errorInfo:t}),"undefined"!==typeof window.Capacitor&&console.error("Erreur sur Capacitor/Android:",e.message)}render(){return this.state.hasError?(0,$.jsx)(le,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",p:3,bgcolor:"#f5f5f5"},children:(0,$.jsxs)(Ke,{elevation:3,sx:{p:4,maxWidth:600,textAlign:"center"},children:[(0,$.jsx)(Df,{sx:{fontSize:64,color:"error.main",mb:2}}),(0,$.jsx)(Ce,{variant:"h5",gutterBottom:!0,color:"error",children:"Une erreur est survenue"}),(0,$.jsx)(Ce,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"L'application a rencontr\xe9 un probl\xe8me. Veuillez r\xe9essayer."}),this.state.error&&(0,$.jsx)(Ke,{variant:"outlined",sx:{p:2,mb:3,bgcolor:"#fff3f3",textAlign:"left",maxHeight:200,overflow:"auto"},children:(0,$.jsxs)(Ce,{variant:"caption",component:"pre",sx:{whiteSpace:"pre-wrap"},children:[this.state.error.toString(),this.state.errorInfo&&"\n\n".concat(this.state.errorInfo.componentStack)]})}),(0,$.jsx)(hn,{variant:"contained",color:"primary",onClick:this.handleReload,size:"large",children:"Recharger l'application"})]})}):this.props.children}}const Wm=e=>{const t="string"===typeof e?e:e.message,n="string"===typeof e?"":e.stack||"";return[/Extension context invalidated/i,/chrome-extension:/i,/moz-extension:/i,/Cannot access contents of/i,/The message port closed/i,/Receiving end does not exist/i].some(e=>e.test(t)||e.test(n))};window.addEventListener("error",e=>!Wm(e.error||e.message)||(e.preventDefault(),!1)),window.addEventListener("unhandledrejection",e=>{const t=e.reason;t&&(Wm(t)||"string"===typeof t&&Wm(t))&&e.preventDefault()});r.createRoot(document.getElementById("root")).render((0,$.jsx)(e.StrictMode,{children:(0,$.jsx)(qm,{children:(0,$.jsx)(Um,{})})}))})()})();
//# sourceMappingURL=main.35475fba.js.map