/*! For license information please see main.2f6afbbd.js.LICENSE.txt */
(()=>{var e={219:(e,t,n)=>{"use strict";var r=n(3763),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||o}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var o=p(n);o&&o!==f&&e(t,o,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!i[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7868)},528:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case s:case i:case u:case d:case f:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case a:return e;default:return t}}case r:return t}}}t.vM=c,t.lD=h},579:(e,t,n)=>{"use strict";e.exports=n(1153)},869:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(5043);var r=n(3290),o=n(579);function i(e){const{styles:t,defaultTheme:n={}}=e,i="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,o.jsx)(r.mL,{styles:i})}},918:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},1150:(e,t,n)=>{"use strict";n.d(t,{KO:()=>Z,MF:()=>$,Sx:()=>J,Wp:()=>Y,j6:()=>H,om:()=>W,xZ:()=>K});var r=n(2555),o=n(9606),i=n(2965),s=n(1776),a=n(2799);class l{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const c="@firebase/app",u="0.14.5",d=new i.Vy("@firebase/app"),h="@firebase/app-compat",p="@firebase/analytics-compat",f="@firebase/analytics",m="@firebase/app-check-compat",g="@firebase/app-check",v="@firebase/auth",y="@firebase/auth-compat",b="@firebase/database",x="@firebase/data-connect",w="@firebase/database-compat",S="@firebase/functions",k="@firebase/functions-compat",A="@firebase/installations",E="@firebase/installations-compat",C="@firebase/messaging",I="@firebase/messaging-compat",T="@firebase/performance",j="@firebase/performance-compat",_="@firebase/remote-config",R="@firebase/remote-config-compat",P="@firebase/storage",N="@firebase/storage-compat",O="@firebase/firestore",L="@firebase/ai",M="@firebase/firestore-compat",D="firebase",F="[DEFAULT]",z={[c]:"fire-core",[h]:"fire-core-compat",[f]:"fire-analytics",[p]:"fire-analytics-compat",[g]:"fire-app-check",[m]:"fire-app-check-compat",[v]:"fire-auth",[y]:"fire-auth-compat",[b]:"fire-rtdb",[x]:"fire-data-connect",[w]:"fire-rtdb-compat",[S]:"fire-fn",[k]:"fire-fn-compat",[A]:"fire-iid",[E]:"fire-iid-compat",[C]:"fire-fcm",[I]:"fire-fcm-compat",[T]:"fire-perf",[j]:"fire-perf-compat",[_]:"fire-rc",[R]:"fire-rc-compat",[P]:"fire-gcs",[N]:"fire-gcs-compat",[O]:"fire-fst",[M]:"fire-fst-compat",[L]:"fire-vertex","fire-js":"fire-js",[D]:"fire-js-all"},V=new Map,U=new Map,B=new Map;function q(e,t){try{e.container.addComponent(t)}catch(n){d.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function W(e){const t=e.name;if(B.has(t))return d.debug("There were multiple attempts to register component ".concat(t,".")),!1;B.set(t,e);for(const n of V.values())q(n,e);for(const n of U.values())q(n,e);return!0}function H(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function K(e){return null!==e&&void 0!==e&&void 0!==e.settings}const G={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Q=new s.FA("app","Firebase",G);class X{constructor(e,t,n){this._isDeleted=!1,this._options=(0,r.A)({},e),this._config=(0,r.A)({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new o.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Q.create("app-deleted",{appName:this._name})}}const $="12.5.0";function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=(0,r.A)({name:F,automaticDataCollectionEnabled:!0},t),a=i.name;if("string"!==typeof a||!a)throw Q.create("bad-app-name",{appName:String(a)});if(n||(n=(0,s.T9)()),!n)throw Q.create("no-options");const l=V.get(a);if(l){if((0,s.bD)(n,l.options)&&(0,s.bD)(i,l.config))return l;throw Q.create("duplicate-app",{appName:a})}const c=new o.h1(a);for(const r of B.values())c.addComponent(r);const u=new X(n,i,c);return V.set(a,u),u}function J(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;const t=V.get(e);if(!t&&e===F&&(0,s.T9)())return Y();if(!t)throw Q.create("no-app",{appName:e});return t}function Z(e,t,n){var r;let i=null!==(r=z[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void d.warn(e.join(" "))}W(new o.uA("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const ee="firebase-heartbeat-store";let te=null;function ne(){return te||(te=(0,a.P2)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ee)}catch(n){console.warn(n)}}}).catch(e=>{throw Q.create("idb-open",{originalErrorMessage:e.message})})),te}async function re(e,t){try{const n=(await ne()).transaction(ee,"readwrite"),r=n.objectStore(ee);await r.put(t,oe(e)),await n.done}catch(n){if(n instanceof s.g)d.warn(n.message);else{const e=Q.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});d.warn(e.message)}}}function oe(e){return"".concat(e.name,"!").concat(e.options.appId)}class ie{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ae(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=se();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){d.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=se(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const o of e){const e=n.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),le(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),le(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return d.warn(t),""}}}function se(){return(new Date).toISOString().substring(0,10)}class ae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ne()).transaction(ee),n=await t.objectStore(ee).get(oe(e));return await t.done,n}catch(t){if(t instanceof s.g)d.warn(t.message);else{const e=Q.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});d.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function le(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var ce;ce="",W(new o.uA("platform-logger",e=>new l(e),"PRIVATE")),W(new o.uA("heartbeat",e=>new ie(e),"PRIVATE")),Z(c,u,ce),Z(c,u,"esm2020"),Z("fire-js","")},1153:(e,t,n)=>{"use strict";var r=n(5043),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},1188:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},1722:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>o,sk:()=>i});function r(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}var o=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},i=function(e,t,n){o(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},1776:(e,t,n)=>{"use strict";n.d(t,{cY:()=>m,FA:()=>L,g:()=>O,dM:()=>N,u:()=>l,Uj:()=>a,p9:()=>$,Fy:()=>y,tD:()=>q,bD:()=>F,hp:()=>B,T9:()=>p,Tj:()=>d,yU:()=>h,XA:()=>f,mS:()=>c,Ku:()=>Y,ZQ:()=>S,sr:()=>C,zJ:()=>g,c1:()=>E,Im:()=>D,lT:()=>T,zW:()=>R,jZ:()=>k,lV:()=>I,nr:()=>j,Ov:()=>_,gE:()=>v,Am:()=>V,I9:()=>U,P1:()=>w,eX:()=>P});var r=n(2555);const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const t=e[o],i=o+1<e.length,s=i?e[o+1]:0,a=o+2<e.length,l=a?e[o+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const t=n[e.charAt(o++)],i=o<e.length?n[e.charAt(o)]:0;++o;const a=o<e.length?n[e.charAt(o)]:64;++o;const l=o<e.length?n[e.charAt(o)]:64;if(++o,null==t||null==i||null==a||null==l)throw new s;const c=t<<2|i>>4;if(r.push(c),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==l){const e=a<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=o(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const u=()=>{try{return c().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:5001/api",REACT_APP_FIREBASE_API_KEY:"AIzaSyA4VxXsU3yI3GedYREVkUIOgHo8NU1DUsw",REACT_APP_FIREBASE_APP_ID:"1:764765123671:web:c6861709d1a881fcfe1f12",REACT_APP_FIREBASE_AUTH_DOMAIN:"ia-project-91c03.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"764765123671",REACT_APP_FIREBASE_PROJECT_ID:"ia-project-91c03",REACT_APP_FIREBASE_STORAGE_BUCKET:"ia-project-91c03.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},d=e=>{var t;return null===(t=u())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},h=e=>{const t=d(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},p=()=>{var e;return null===(e=u())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=u())||void 0===t?void 0:t["_".concat(e)]};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function v(e){return(await fetch(e,{credentials:"include"})).ok}function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",o=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=(0,r.A)({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(s)),""].join(".")}const b={};let x=!1;function w(e,t){if("undefined"===typeof window||"undefined"===typeof document||!g(window.location.host)||b[e]===t||b[e]||x)return;function n(e){return"__firebase__banner__".concat(e)}b[e]=t;const r="__firebase__banner",o=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(b))b[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{x=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}o?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function S(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function k(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function A(){var e;const t=null===(e=u())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function E(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function C(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function I(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function T(){const e=S();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function j(){return!A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _(){return!A()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function R(){try{return"object"===typeof indexedDB}catch(e){return!1}}function P(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function N(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class O extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,O.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,L.prototype.create)}}class L{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],o=r?function(e,t){return e.replace(M,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(o," (").concat(n,").");return new O(n,i,t)}}const M=/\{\$([^}]+)}/g;function D(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function F(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(z(n)&&z(i)){if(!F(n,i))return!1}else if(n!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function z(e){return null!==e&&"object"===typeof e}function V(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function U(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function B(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function q(e,t){const n=new W(e,t);return n.subscribe.bind(n)}class W{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=H),void 0===r.error&&(r.error=H),void 0===r.complete&&(r.complete=H);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H(){}const K=1e3,G=2,Q=144e5,X=.5;function $(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:K)*Math.pow(t,e),r=Math.round(X*n*(Math.random()-.5)*2);return Math.min(Q,n+r)}function Y(e){return e&&e._delegate?e._delegate:e}},2374:(e,t,n)=>{"use strict";t.A=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(5043)),o=n(3174);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(o.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},2555:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>a})},2730:(e,t,n)=>{"use strict";var r=n(5043),o=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,D=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case E:return"Profiler";case A:return"StrictMode";case j:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ie(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ae=null;function Ee(e){if(e=xo(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function Ce(e){ke?Ae?Ae.push(e):Ae=[e]:ke=e}function Ie(){if(ke){var e=ke,t=Ae;if(Ae=ke=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function je(){}var _e=!1;function Re(e,t,n){if(_e)return e(t,n);_e=!0;try{return Te(e,t,n)}finally{_e=!1,(null!==ke||null!==Ae)&&(je(),Ie())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=So(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ne=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Ne=!1}function Le(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,De=null,Fe=!1,ze=null,Ve={onError:function(e){Me=!0,De=e}};function Ue(e,t,n,r,o,i,s,a,l){Me=!1,De=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return We(o),e;if(s===r)return We(o),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=o.unstable_scheduleCallback,Qe=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,$e=o.unstable_requestPaint,Ye=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?r=dt(a):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~o)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,kt,At,Et,Ct=!1,It=[],Tt=null,jt=null,_t=null,Rt=new Map,Pt=new Map,Nt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=xo(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Dt(e){var t=bo(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xo(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Ct=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==jt&&Ft(jt)&&(jt=null),null!==_t&&Ft(_t)&&(_t=null),Rt.forEach(zt),Pt.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return Ut(t,e)}if(0<It.length){Ut(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==jt&&Ut(jt,e),null!==_t&&Ut(_t,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Nt.shift()}var qt=x.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var o=bt,i=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=o,qt.transition=i}}function Kt(e,t,n,r){var o=bt,i=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=o,qt.transition=i}}function Gt(e,t,n,r){if(Wt){var o=Xt(e,t,n,r);if(null===o)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,o),!0;case"dragenter":return jt=Mt(jt,e,t,n,r,o),!0;case"mouseover":return _t=Mt(_t,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Rt.set(i,Mt(Rt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Pt.set(i,Mt(Pt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==o;){var i=xo(o);if(null!==i&&wt(i),null===(i=Xt(e,t,n,r))&&Wr(e,t,r,Qt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=bo(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,o="value"in Yt?Yt.value:Yt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=D({},cn,{view:0,detail:0}),hn=on(dn),pn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=on(pn),mn=on(D({},pn,{dataTransfer:0})),gn=on(D({},dn,{relatedTarget:0})),vn=on(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),xn=on(D({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return An}var Cn=D({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(Cn),Tn=on(D({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=on(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),_n=on(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=D({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Rn),Nn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Dn=u&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Xn(e){if(G(wo(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function ir(e,t){if("click"===e)return Xn(t)}function sr(e,t){if("input"===e||"change"===e)return Xn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ar(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var s=ur(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Ar={};function Er(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ar)return kr[e]=n[t];return e}u&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=Er("animationend"),Ir=Er("animationiteration"),Tr=Er("animationstart"),jr=Er("transitionend"),_r=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){_r.set(e,t),l(t,[e])}for(var Nr=0;Nr<Rr.length;Nr++){var Or=Rr[Nr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Cr,"onAnimationEnd"),Pr(Ir,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,a,l,c){if(Ue.apply(this,arguments),Me){if(!Me)throw Error(i(198));var u=De;Me=!1,De=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Dr(o,a,c),i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Dr(o,a,c),i=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Ur]){e[Ur]=!0,s.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var o=Ht;break;case 4:o=Kt;break;default:o=Gt}n=o.bind(null,t,n,e),o=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=bo(a)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}a=a.parentNode}}r=r.return}Re(function(){var r=i,o=we(n),s=[];e:{var a=_r.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Cr:case Ir:case Tr:l=vn;break;case jr:l=_n;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Pe(f,h))&&u.push(Hr(f,m,p)))),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,o),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:wo(l),p=null==c?a:wo(c),(a=new u(m,f+"leave",l,n,o)).target=d,a.relatedTarget=p,m=null,bo(o)===r&&((u=new u(h,f+"enter",c,n,o)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Gr(p))f++;for(p=0,m=h;m;m=Gr(m))p++;for(;0<f-p;)u=Gr(u),f--;for(;0<p-f;)h=Gr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==d&&Qr(s,d,c,u,!0)}if("select"===(l=(a=r?wo(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=$n;else if(Wn(a))if(Yn)g=sr;else{g=or;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?Hn(s,g,n,o):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wo(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(s,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(s,n,o)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Yt=o)?Yt.value:Yt.textContent,Bn=!0)),0<(v=Kr(r,b)).length&&(b=new xn(b,e,null,n,o),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Jt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(o=new xn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=y))}Fr(s,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Pe(e,n))&&r.unshift(Hr(e,i,o)),null!=(i=Pe(e,t))&&r.push(Hr(e,i,o))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=Pe(n,i))&&s.unshift(Hr(n,l,a)):o||null!=(l=Pe(n,i))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Xr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(i(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout(function(){throw e})}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Bt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),po="__reactFiber$"+ho,fo="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,vo="__reactListeners$"+ho,yo="__reactHandles$"+ho;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function xo(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function So(e){return e[fo]||null}var ko=[],Ao=-1;function Eo(e){return{current:e}}function Co(e){0>Ao||(e.current=ko[Ao],ko[Ao]=null,Ao--)}function Io(e,t){Ao++,ko[Ao]=e.current,e.current=t}var To={},jo=Eo(To),_o=Eo(!1),Ro=To;function Po(e,t){var n=e.type.contextTypes;if(!n)return To;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function No(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oo(){Co(_o),Co(jo)}function Lo(e,t,n){if(jo.current!==To)throw Error(i(168));Io(jo,t),Io(_o,n)}function Mo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,q(e)||"Unknown",o));return D({},n,r)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||To,Ro=jo.current,Io(jo,e),Io(_o,_o.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Mo(e,t,Ro),r.__reactInternalMemoizedMergedChildContext=e,Co(_o),Co(jo),Io(jo,e)):Co(_o),Io(_o,n)}var zo=null,Vo=!1,Uo=!1;function Bo(e){null===zo?zo=[e]:zo.push(e)}function qo(){if(!Uo&&null!==zo){Uo=!0;var e=0,t=bt;try{var n=zo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,Vo=!1}catch(o){throw null!==zo&&(zo=zo.slice(e+1)),Ge(Ze,qo),o}finally{bt=t,Uo=!1}}return null}var Wo=[],Ho=0,Ko=null,Go=0,Qo=[],Xo=0,$o=null,Yo=1,Jo="";function Zo(e,t){Wo[Ho++]=Go,Wo[Ho++]=Ko,Ko=e,Go=t}function ei(e,t,n){Qo[Xo++]=Yo,Qo[Xo++]=Jo,Qo[Xo++]=$o,$o=e;var r=Yo;e=Jo;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Yo=1<<32-st(t)+o|n<<o|r,Jo=i+e}else Yo=1<<i|n<<o|r,Jo=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ni(e){for(;e===Ko;)Ko=Wo[--Ho],Wo[Ho]=null,Go=Wo[--Ho],Wo[Ho]=null;for(;e===$o;)$o=Qo[--Xo],Qo[Xo]=null,Jo=Qo[--Xo],Qo[Xo]=null,Yo=Qo[--Xo],Qo[Xo]=null}var ri=null,oi=null,ii=!1,si=null;function ai(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$o?{id:Yo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw pi(),Error(i(418));for(;t;)ai(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=co(e.nextSibling)}function fi(){oi=ri=null,ii=!1}function mi(e){null===si?si=[e]:si.push(e)}var gi=x.ReactCurrentBatchConfig;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&bi(i)===t.type)?((r=o(t,n.props)).ref=vi(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=vi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?c(e,t,n,r):null;case S:return n.key===o?u(e,t,n,r):null;case P:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||L(n))return null!==o?null:d(e,t,n,r,null);yi(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case P:return f(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,o,null);yi(t,r)}return null}function m(o,i,a,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(o,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),i=s(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(o,d),ii&&Zo(o,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(o,a[m],l))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Zo(o,m),c}for(d=r(o,d);m<a.length;m++)null!==(g=f(d,o,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),ii&&Zo(o,m),c}function g(o,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),ii&&Zo(o,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(o,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return ii&&Zo(o,g),u}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=f(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(o,e)}),ii&&Zo(o,g),u}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===k){if(7===u.tag){n(r,u.sibling),(i=o(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&bi(c)===u.type){n(r,u.sibling),(i=o(u,s.props)).ref=vi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===k?((i=Lc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Oc(s.type,s.key,s.props,null,r.mode,l)).ref=vi(r,i,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(s,r.mode,l)).return=r,r=i}return a(r);case P:return e(r,i,(u=s._init)(s._payload),l)}if(te(s))return m(r,i,s,l);if(L(s))return g(r,i,s,l);yi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=Dc(s,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var wi=xi(!0),Si=xi(!1),ki=Eo(null),Ai=null,Ei=null,Ci=null;function Ii(){Ci=Ei=Ai=null}function Ti(e){var t=ki.current;Co(ki),e._currentValue=t}function ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _i(e,t){Ai=e,Ci=Ei=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ri(e){var t=e._currentValue;if(Ci!==e)if(e={context:e,memoizedValue:t,next:null},null===Ei){if(null===Ai)throw Error(i(308));Ei=e,Ai.dependencies={lanes:0,firstContext:e}}else Ei=Ei.next=e;return t}var Pi=null;function Ni(e){null===Pi?Pi=[e]:Pi.push(e)}function Oi(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ni(t)):(n.next=o.next,o.next=n),t.interleaved=n,Li(e,r)}function Li(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mi=!1;function Di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Li(e,n)}return null===(o=r.interleaved)?(t.next=t,Ni(r)):(t.next=o.next,o.next=t),r.interleaved=t,Li(e,n)}function Ui(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qi(e,t,n,r){var o=e.updateQueue;Mi=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(s=0,u=c=l=null,a=i;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=D({},d,h);break e;case 2:Mi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=d}}function Wi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Hi={},Ki=Eo(Hi),Gi=Eo(Hi),Qi=Eo(Hi);function Xi(e){if(e===Hi)throw Error(i(174));return e}function $i(e,t){switch(Io(Qi,t),Io(Gi,e),Io(Ki,Hi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Co(Ki),Io(Ki,t)}function Yi(){Co(Ki),Co(Gi),Co(Qi)}function Ji(e){Xi(Qi.current);var t=Xi(Ki.current),n=le(t,e.type);t!==n&&(Io(Gi,e),Io(Ki,n))}function Zi(e){Gi.current===e&&(Co(Ki),Co(Gi))}var es=Eo(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var os=x.ReactCurrentDispatcher,is=x.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,ps=0;function fs(){throw Error(i(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,o,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,o),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(i(301));s+=1,cs=ls=null,t.updateQueue=null,os.current=ta,e=n(r,o)}while(ds)}if(os.current=Js,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(i(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function xs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ls,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,as.lanes|=s,Ml|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ks(){}function As(e,t){var n=as,r=bs(),o=t(),s=!ar(r.memoizedState,o);if(s&&(r.memoizedState=o,ba=!0),r=r.queue,Ms(Is.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Rs(9,Cs.bind(null,n,r,o,t),void 0,null),null===jl)throw Error(i(349));0!==(30&ss)||Es(n,t,o)}return o}function Es(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cs(e,t,n,r){t.value=n,t.getSnapshot=r,Ts(t)&&js(e)}function Is(e,t,n){return n(function(){Ts(t)&&js(e)})}function Ts(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function js(e){var t=Li(e,1);null!==t&&nc(t,e,1,-1)}function _s(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,as,e),[t.memoizedState,e]}function Rs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ps(){return bs().memoizedState}function Ns(e,t,n,r){var o=ys();as.flags|=e,o.memoizedState=Rs(1|t,n,void 0,void 0===r?null:r)}function Os(e,t,n,r){var o=bs();r=void 0===r?null:r;var i=void 0;if(null!==ls){var s=ls.memoizedState;if(i=s.destroy,null!==r&&ms(r,s.deps))return void(o.memoizedState=Rs(t,n,i,r))}as.flags|=e,o.memoizedState=Rs(1|t,n,i,r)}function Ls(e,t){return Ns(8390656,8,e,t)}function Ms(e,t){return Os(2048,8,e,t)}function Ds(e,t){return Os(4,2,e,t)}function Fs(e,t){return Os(4,4,e,t)}function zs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4,4,zs.bind(null,t,e),n)}function Us(){}function Bs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Ml|=n,e.baseState=!0),t)}function Hs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{bt=n,is.transition=r}}function Ks(){return bs().memoizedState}function Gs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(e))$s(t,n);else if(null!==(n=Oi(e,t,n,r))){nc(n,e,r,ec()),Ys(n,t,r)}}function Qs(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))$s(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(o.next=o,Ni(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Oi(e,t,o,r))&&(nc(n,e,r,o=ec()),Ys(n,t,r))}}function Xs(e){var t=e.alternate;return e===as||null!==t&&t===as}function $s(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ys(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Js={readContext:Ri,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Zs={readContext:Ri,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:Ls,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ns(4194308,4,zs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ns(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:_s,useDebugValue:Us,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=_s(!1),t=e[0];return e=Hs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,o=ys();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===jl)throw Error(i(349));0!==(30&ss)||Es(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Ls(Is.bind(null,r,s,e),[e]),r.flags|=2048,Rs(9,Cs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=jl.identifierPrefix;if(ii){var n=Jo;t=":"+t+"R"+(n=(Yo&~(1<<32-st(Yo)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ri,useCallback:Bs,useContext:Ri,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Ds,useLayoutEffect:Fs,useMemo:qs,useReducer:ws,useRef:Ps,useState:function(){return ws(xs)},useDebugValue:Us,useDeferredValue:function(e){return Ws(bs(),ls.memoizedState,e)},useTransition:function(){return[ws(xs)[0],bs().memoizedState]},useMutableSource:ks,useSyncExternalStore:As,useId:Ks,unstable_isNewReconciler:!1},ta={readContext:Ri,useCallback:Bs,useContext:Ri,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Ds,useLayoutEffect:Fs,useMemo:qs,useReducer:Ss,useRef:Ps,useState:function(){return Ss(xs)},useDebugValue:Us,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Ws(t,ls.memoizedState,e)},useTransition:function(){return[Ss(xs)[0],bs().memoizedState]},useMutableSource:ks,useSyncExternalStore:As,useId:Ks,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Vi(e,i,o))&&(nc(t,e,o,r),Ui(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Vi(e,i,o))&&(nc(t,e,o,r),Ui(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=zi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Vi(e,o,r))&&(nc(t,e,r,n),Ui(t,e,r))}};function ia(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function sa(e,t,n){var r=!1,o=To,i=t.contextType;return"object"===typeof i&&null!==i?i=Ri(i):(o=No(t)?Ro:jo.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Po(e,o):To),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Di(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ri(i):(i=No(t)?Ro:jo.current,o.context=Po(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),qi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=zi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),da(0,t)},n}function fa(e,t,n){(n=zi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){da(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zi(-1,1)).tag=2,Vi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ya=x.ReactCurrentOwner,ba=!1;function xa(e,t,n,r){t.child=null===e?Si(t,null,n,r):wi(t,e.child,n,r)}function wa(e,t,n,r,o){n=n.render;var i=t.ref;return _i(t,o),r=gs(e,t,n,r,i,o),n=vs(),null===e||ba?(ii&&n&&ti(t),t.flags|=1,xa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function Sa(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Pc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ka(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wa(e,t,o)}return t.flags|=1,(e=Nc(i,r)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Wa(e,t,o);0!==(131072&e.flags)&&(ba=!0)}}return Ca(e,t,n,r,o)}function Aa(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Io(Nl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Io(Nl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Io(Nl,Pl),Pl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Io(Nl,Pl),Pl|=r;return xa(e,t,o,n),t.child}function Ea(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,o){var i=No(n)?Ro:jo.current;return i=Po(t,i),_i(t,o),n=gs(e,t,n,r,i,o),r=vs(),null===e||ba?(ii&&r&&ti(t),t.flags|=1,xa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function Ia(e,t,n,r,o){if(No(n)){var i=!0;Do(t)}else i=!1;if(_i(t,o),null===t.stateNode)qa(e,t),sa(t,n,r),la(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ri(c):c=Po(t,c=No(n)?Ro:jo.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Mi=!1;var h=t.memoizedState;s.state=h,qi(t,r,s,o),l=t.memoizedState,a!==r||h!==l||_o.current||Mi?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Mi||ia(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fi(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ri(l):l=Po(t,l=No(n)?Ro:jo.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),Mi=!1,h=t.memoizedState,s.state=h,qi(t,r,s,o);var f=t.memoizedState;a!==d||h!==f||_o.current||Mi?("function"===typeof p&&(ra(t,n,p,r),f=t.memoizedState),(c=Mi||ia(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,i,o)}function Ta(e,t,n,r,o,i){Ea(e,t);var s=0!==(128&t.flags);if(!r&&!s)return o&&Fo(t,n,!1),Wa(e,t,i);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,a,i)):xa(e,t,a,i),t.memoizedState=r.state,o&&Fo(t,n,!0),t.child}function ja(e){var t=e.stateNode;t.pendingContext?Lo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lo(0,t.context,!1),$i(e,t.containerInfo)}function _a(e,t,n,r,o){return fi(),mi(o),t.flags|=256,xa(e,t,n,r),t.child}var Ra,Pa,Na,Oa,La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Da(e,t,n){var r,o=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Io(es,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mc(l,o,0,null),e=Lc(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=La,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=ua(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Mc({mode:"visible",children:r.children},o,0,null),(s=Lc(s,o,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=La,s);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=ua(s=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=jl)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Li(e,o),nc(r,e,o,-1))}return mc(),za(e,t,a,r=ua(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,si=null,null!==e&&(Qo[Xo++]=Yo,Qo[Xo++]=Jo,Qo[Xo++]=$o,Yo=e.id,Jo=e.overflow,$o=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,s,n);if(a){a=o.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Nc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Nc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,o}return e=(a=e.child).sibling,o=Nc(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Fa(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&mi(r),wi(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ji(e.return,t,n)}function Ua(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ba(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Io(es,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ua(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ua(t,!0,n,null,i);break;case"together":Ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return No(t.type)&&Oo(),Ka(t),null;case 3:return r=t.stateNode,Yi(),Co(_o),Co(jo),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==si&&(sc(si),si=null))),Pa(e,t),Ka(t),null;case 5:Zi(t);var o=Xi(Qi.current);if(n=t.type,null!==e&&null!=t.stateNode)Na(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ka(t),null}if(e=Xi(Ki.current),hi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[po]=t,r[fo]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(o=0;o<Lr.length;o++)zr(Lr[o],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":$(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":oe(r,s),zr("invalid",r)}for(var l in ye(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[fo]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),o=r;break;case"iframe":case"object":case"embed":zr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Lr.length;o++)zr(Lr[o],e);o=r;break;case"source":zr("error",e),o=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=r;break;case"details":zr("toggle",e),o=r;break;case"input":$(e,r),o=X(e,r),zr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=D({},r,{value:void 0}),zr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),zr("invalid",e)}for(s in ye(n,o),c=o)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&zr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Xi(Qi.current),Xi(Ki.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(s=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Ka(t),null;case 13:if(Co(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))pi(),fi(),t.flags|=98560,s=!1;else if(s=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[po]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==si&&(sc(si),si=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Yi(),Pa(e,t),null===e&&Br(t.stateNode.containerInfo),Ka(t),null;case 10:return Ti(t.type._context),Ka(t),null;case 19:if(Co(es),null===(s=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Io(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Bl&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ii)return Ka(t),null}else 2*Ye()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=es.current,Io(es,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Qa(e,t){switch(ni(t),t.tag){case 1:return No(t.type)&&Oo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yi(),Co(_o),Co(jo),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(Co(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Co(es),null;case 4:return Yi(),null;case 10:return Ti(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Na=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Xi(Ki.current);var i,s=null;switch(n){case"input":o=X(e,o),r=X(e,r),s=[];break;case"select":o=D({},o,{value:void 0}),r=D({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Oa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,$a=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ac(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ac(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[fo],delete t[go],delete t[vo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(a){}switch(n.tag){case 5:$a||Za(n,t);case 6:var r=ul,o=dl;ul=null,hl(e,t,n),dl=o,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Bt(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=o;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,t,s),o=o.next}while(o!==r)}hl(e,t,n);break;case 1:if(!$a&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ac(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?($a=(r=$a)||null!==n.memoizedState,hl(e,t,n),$a=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));pl(s,a,o),ul=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){Ac(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ac(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ac(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(g){Ac(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Y(o,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):b(o,d,h,u)}switch(l){case"input":J(o,s);break;case"textarea":ie(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(o,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[fo]=s}catch(g){Ac(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){Ac(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ac(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Ul=Ye())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($a=(u=$a)||d,ml(t,e),$a=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(f=(p=Ja).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Za(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ac(r,n,g)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==f?(f.return=p,Ja=f):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Ac(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ac(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),cl(e,al(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(i(161))}}catch(a){Ac(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var o=Ja,i=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Xa;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||$a;a=Xa;var c=$a;if(Xa=s,($a=l)&&!c)for(Ja=o;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Sl(o):null!==l?(l.return=s,Ja=l):Sl(o);for(;null!==i;)Ja=i,bl(i,t,n),i=i.sibling;Ja=o,Xa=a,$a=c}xl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Ja=i):xl(e)}}function xl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$a)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wi(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(i(163))}$a||512&t.flags&&ol(t)}catch(p){Ac(t,t.return,p)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function wl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Sl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ac(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){Ac(t,o,l)}}var i=t.return;try{ol(t)}catch(l){Ac(t,i,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Ac(t,s,l)}}}catch(l){Ac(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var kl,Al=Math.ceil,El=x.ReactCurrentDispatcher,Cl=x.ReactCurrentOwner,Il=x.ReactCurrentBatchConfig,Tl=0,jl=null,_l=null,Rl=0,Pl=0,Nl=Eo(0),Ol=0,Ll=null,Ml=0,Dl=0,Fl=0,zl=null,Vl=null,Ul=0,Bl=1/0,ql=null,Wl=!1,Hl=null,Kl=null,Gl=!1,Ql=null,Xl=0,$l=0,Yl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Tl)?Ye():-1!==Jl?Jl:Jl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Rl?Rl&-Rl:null!==gi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$l)throw $l=0,Yl=null,Error(i(185));vt(e,n,r),0!==(2&Tl)&&e===jl||(e===jl&&(0===(2&Tl)&&(Dl|=n),4===Ol&&ac(e,Rl)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Bl=Ye()+500,Vo&&qo()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&r)||(o[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=ht(e,e===jl?Rl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vo=!0,Bo(e)}(lc.bind(null,e)):Bo(lc.bind(null,e)),so(function(){0===(6&Tl)&&qo()}),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Jl=-1,Zl=0,0!==(6&Tl))throw Error(i(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===jl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var o=Tl;Tl|=2;var s=fc();for(jl===e&&Rl===t||(ql=null,Bl=Ye()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}Ii(),El.current=s,Tl=o,null!==_l?t=0:(jl=null,Rl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(o=ft(e))&&(r=o,t=ic(e,o))),1===t)throw n=Ll,hc(e,0),ac(e,r),rc(e,Ye()),n;if(6===t)ac(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ar(i(),o))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gc(e,r))&&(0!==(s=ft(e))&&(r=s,t=ic(e,s))),1===t))throw n=Ll,hc(e,0),ac(e,r),rc(e,Ye()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Vl,ql);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Ul+500-Ye())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wc.bind(null,e,Vl,ql),t);break}wc(e,Vl,ql);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>o&&(o=a),r&=~s}if(r=o,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Al(r/1960))-r)){e.timeoutHandle=ro(wc.bind(null,e,Vl,ql),r);break}wc(e,Vl,ql);break;default:throw Error(i(329))}}}return rc(e,Ye()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&sc(t)),e}function sc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function ac(e,t){for(t&=~Fl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(i(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ll,hc(e,0),ac(e,t),rc(e,Ye()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vl,ql),rc(e,Ye()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Bl=Ye()+500,Vo&&qo())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Tl)&&Sc();var t=Tl;Tl|=1;var n=Il.transition,r=bt;try{if(Il.transition=null,bt=1,e)return e()}finally{bt=r,Il.transition=n,0===(6&(Tl=t))&&qo()}}function dc(){Pl=Nl.current,Co(Nl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==_l)for(n=_l.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oo();break;case 3:Yi(),Co(_o),Co(jo),rs();break;case 5:Zi(r);break;case 4:Yi();break;case 13:case 19:Co(es);break;case 10:Ti(r.type._context);break;case 22:case 23:dc()}n=n.return}if(jl=e,_l=e=Nc(e.current,null),Rl=Pl=t,Ol=0,Ll=null,Fl=Dl=Ml=0,Vl=zl=null,null!==Pi){for(t=0;t<Pi.length;t++)if(null!==(r=(n=Pi[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=o,r.next=s}n.pending=r}Pi=null}return e}function pc(e,t){for(;;){var n=_l;try{if(Ii(),os.current=Js,us){for(var r=as.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,Cl.current=null,null===n||null===n.return){Ol=1,Ll=t,_l=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ga(a);if(null!==f){f.flags&=-257,va(f,a,l,0,t),1&f.mode&&ma(s,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mi(ca(c,l));break e}}s=c=ca(c,l),4!==Ol&&(Ol=2),null===zl?zl=[s]:zl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Bi(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Bi(s,fa(s,l,t));break e}}s=s.return}while(null!==s)}xc(n)}catch(x){t=x,_l===n&&null!==n&&(_l=n=n.return);continue}break}}function fc(){var e=El.current;return El.current=Js,null===e?Js:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===jl||0===(268435455&Ml)&&0===(268435455&Dl)||ac(jl,Rl)}function gc(e,t){var n=Tl;Tl|=2;var r=fc();for(jl===e&&Rl===t||(ql=null,hc(e,t));;)try{vc();break}catch(o){pc(e,o)}if(Ii(),Tl=n,El.current=r,null!==_l)throw Error(i(261));return jl=null,Rl=0,Ol}function vc(){for(;null!==_l;)bc(_l)}function yc(){for(;null!==_l&&!Xe();)bc(_l)}function bc(e){var t=kl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?xc(e):_l=t,Cl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Pl)))return void(_l=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(_l=n);if(null===e)return Ol=6,void(_l=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(_l=t);_l=t=e}while(null!==t);0===Ol&&(Ol=5)}function wc(e,t,n){var r=bt,o=Il.transition;try{Il.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&Tl))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,s),e===jl&&(_l=jl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,jc(tt,function(){return Sc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Il.transition,Il.transition=null;var a=bt;bt=1;var l=Tl;Tl|=4,Cl.current=null,function(e,t){if(eo=Wt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==o&&3!==h.nodeType||(l=a+o),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===o&&(l=a),p===s&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Wt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(w){Ac(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(to),Wt=!!eo,to=eo=null,e.current=n,yl(n,e,o),$e(),Tl=l,bt=a,Il.transition=s}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Xl=o),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Xl)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Yl?$l++:($l=0,Yl=e):$l=0,qo()}(e,t,n,r)}finally{Il.transition=o,bt=r}return null}function Sc(){if(null!==Ql){var e=xt(Xl),t=Il.transition,n=bt;try{if(Il.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Xl=0,0!==(6&Tl))throw Error(i(331));var o=Tl;for(Tl|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var p=(d=Ja).sibling,f=d.return;if(il(d),d===u){Ja=null;break}if(null!==p){p.return=f,Ja=p;break}Ja=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var b=e.current;for(Ja=b;null!==Ja;){var x=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==x)x.return=a,Ja=x;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Ac(l,l.return,S)}if(l===a){Ja=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ja=w;break e}Ja=l.return}}if(Tl=o,qo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(S){}r=!0}return r}finally{bt=n,Il.transition=t}}return!1}function kc(e,t,n){e=Vi(e,t=pa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ac(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Vi(t,e=fa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Rl&n)===n&&(4===Ol||3===Ol&&(130023424&Rl)===Rl&&500>Ye()-Ul?hc(e,0):Fl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Li(e,t))&&(vt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cc(e,n)}function jc(e,t){return Ge(e,t)}function _c(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new _c(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,o,s){var a=2;if(r=e,"function"===typeof e)Pc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Lc(n.children,o,s,t);case A:a=8,o|=8;break;case E:return(e=Rc(12,n,t,2|o)).elementType=E,e.lanes=s,e;case j:return(e=Rc(13,n,t,o)).elementType=j,e.lanes=s,e;case _:return(e=Rc(19,n,t,o)).elementType=_,e.lanes=s,e;case N:return Mc(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case I:a=9;break e;case T:a=11;break e;case R:a=14;break e;case P:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Rc(a,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,o,i,s,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Rc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(i),e}function Uc(e){if(!e)return To;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(No(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(No(n))return Mo(e,n,t)}return t}function Bc(e,t,n,r,o,i,s,a,l){return(e=Vc(n,r,!0,e,0,i,0,a,l)).context=Uc(null),n=e.current,(i=zi(r=ec(),o=tc(n))).callback=void 0!==t&&null!==t?t:null,Vi(n,i,o),e.current.lanes=o,vt(e,o,r),rc(e,r),e}function qc(e,t,n,r){var o=t.current,i=ec(),s=tc(o);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vi(o,t,s))&&(nc(e,o,s,i),Ui(e,o,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_o.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:ja(t),fi();break;case 5:Ji(t);break;case 1:No(t.type)&&Do(t);break;case 4:$i(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Io(ki,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Io(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Da(e,t,n):(Io(es,1&es.current),null!==(e=Wa(e,t,n))?e.sibling:null);Io(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Io(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Aa(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,ii&&0!==(1048576&t.flags)&&ei(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var o=Po(t,jo.current);_i(t,n),o=gs(null,t,r,e,o,n);var s=vs();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,No(r)?(s=!0,Do(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Di(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,la(t,r,e,n),t=Ta(null,t,r,!0,s,n)):(t.tag=0,ii&&s&&ti(t),xa(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=na(r,e),o){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=Ia(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ca(e,t,r,o=t.elementType===r?o:na(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ia(e,t,r,o=t.elementType===r?o:na(r,o),n);case 3:e:{if(ja(t),null===e)throw Error(i(387));r=t.pendingProps,o=(s=t.memoizedState).element,Fi(e,t),qi(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=_a(e,t,r,n,o=ca(Error(i(423)),t));break e}if(r!==o){t=_a(e,t,r,n,o=ca(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,si=null,n=Si(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===o){t=Wa(e,t,n);break e}xa(e,t,r,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ui(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(r,o)?a=null:null!==s&&no(r,s)&&(t.flags|=32),Ea(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Da(e,t,n);case 4:return $i(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,wa(e,t,r,o=t.elementType===r?o:na(r,o),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,Io(ki,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===o.children&&!_o.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=zi(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),ji(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ji(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}xa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,_i(t,n),r=r(o=Ri(o)),t.flags|=1,xa(e,t,r,n),t.child;case 14:return o=na(r=t.type,t.pendingProps),Sa(e,t,r,o=na(r.type,o),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:na(r,o),qa(e,t),t.tag=1,No(r)?(e=!0,Do(t)):e=!1,_i(t,n),sa(t,r,o),la(t,r,o,n),Ta(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return Aa(e,t,n)}throw Error(i(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof o){var a=o;o=function(){var e=Wc(s);a.call(e)}}qc(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Wc(s);i.call(e)}}var s=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[mo]=s.current,Br(8===e.nodeType?e.parentNode:e),uc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[mo]=l.current,Br(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,o,r);return Wc(s)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));qc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[mo]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ye()),0===(6&Tl)&&(Bl=Ye()+500,qo()))}break;case 13:uc(function(){var t=Li(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Li(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Li(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},At=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(i(90));G(r),J(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,je=uc;var eu={usingClientEntryPoint:!1,Events:[xo,wo,So,Ce,Ie,cc]},tu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(i(299));var n=!1,r="",o=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,o,0,s,a),e[mo]=t.current,Br(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Xc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2799:(e,t,n)=>{"use strict";n.d(t,{P2:()=>v});var r=n(2555);const o=(e,t)=>t.some(t=>e instanceof t);let i,s;const a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return l.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function p(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(g(this),n),m(a.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(e.apply(g(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.call(g(this),t,...r);return c.set(i,t.sort?t.sort():[t]),m(i)}}function f(e){return"function"===typeof e?p(e):(e instanceof IDBTransaction&&function(e){if(l.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});l.set(e,t)}(e),o(e,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e)}function m(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(m(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&a.set(t,e)}).catch(()=>{}),d.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=f(e);return t!==e&&(u.set(e,t),d.set(t,e)),t}const g=e=>d.get(e);function v(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=m(s);return r&&s.addEventListener("upgradeneeded",e=>{r(m(s.result),e.oldVersion,e.newVersion,m(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{i&&e.addEventListener("close",()=>i()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}const y=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],x=new Map;function w(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(x.get(t))return x.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!y.includes(n))return;const i=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(i=i.index(a.shift())),(await Promise.all([i[n](...a),o&&t.done]))[0]};return x.set(t,i),i}h=(e=>(0,r.A)((0,r.A)({},e),{},{get:(t,n,r)=>w(t,n)||e.get(t,n,r),has:(t,n)=>!!w(t,n)||e.has(t,n)}))(h)},2965:(e,t,n)=>{"use strict";n.d(t,{$b:()=>o,Vy:()=>c});const r=[];var o;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));const i={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},s=o.INFO,a={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=a[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var o=arguments.length,i=new Array(o>2?o-2:0),s=2;s<o;s++)i[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class c{constructor(e){this.name=e,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in o))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?i[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...t),this._logHandler(this,o.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...t),this._logHandler(this,o.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,o.INFO,...t),this._logHandler(this,o.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,o.WARN,...t),this._logHandler(this,o.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,o.ERROR,...t),this._logHandler(this,o.ERROR,...t)}}},3069:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});const r={apiKey:"AIzaSyA4VxXsU3yI3GedYREVkUIOgHo8NU1DUsw",authDomain:"ia-project-91c03.firebaseapp.com",projectId:"ia-project-91c03",storageBucket:"ia-project-91c03.firebasestorage.app",messagingSenderId:"764765123671",appId:"1:764765123671:web:c6861709d1a881fcfe1f12",measurementId:""}},3174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>S.A,StyledEngineProvider:()=>w,ThemeContext:()=>o.T,css:()=>v.AH,default:()=>k,internal_processStyles:()=>A,internal_serializeStyles:()=>C,keyframes:()=>v.i7});var r=n(8168),o=n(9369),i=n(6598),s=n(9436),a=n(1722),l=n(5043),c=n(918),u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,d=(0,c.A)(function(e){return u.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),h=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?d:h},f=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,a.SF)(t,n,r),(0,s.s)(function(){return(0,a.sk)(t,n,r)}),null},g=function e(t,n){var s,c,u=t.__emotion_real===t,d=u&&t.__emotion_base||t;void 0!==n&&(s=n.label,c=n.target);var h=f(t,n,u),g=h||p(d),v=!g("as");return function(){var y=arguments,b=u&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==s&&b.push("label:"+s+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{var x=y[0];b.push(x[0]);for(var w=y.length,S=1;S<w;S++)b.push(y[S],x[S])}var k=(0,o.w)(function(e,t,n){var r=v&&e.as||d,s="",u=[],f=e;if(null==e.theme){for(var y in f={},e)f[y]=e[y];f.theme=l.useContext(o.T)}"string"===typeof e.className?s=(0,a.Rk)(t.registered,u,e.className):null!=e.className&&(s=e.className+" ");var x=(0,i.J)(b.concat(u),t.registered,f);s+=t.key+"-"+x.name,void 0!==c&&(s+=" "+c);var w=v&&void 0===h?p(r):g,S={};for(var k in e)v&&"as"===k||w(k)&&(S[k]=e[k]);return S.className=s,n&&(S.ref=n),l.createElement(l.Fragment,null,l.createElement(m,{cache:t,serialized:x,isStringTag:"string"===typeof r}),l.createElement(r,S))});return k.displayName=void 0!==s?s:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",k.defaultProps=t.defaultProps,k.__emotion_real=k,k.__emotion_base=d,k.__emotion_styles=b,k.__emotion_forwardProp=h,Object.defineProperty(k,"toString",{value:function(){return"."+c}}),k.withComponent=function(t,o){return e(t,(0,r.A)({},n,o,{shouldForwardProp:f(k,o,!0)})).apply(void 0,b)},k}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){g[e]=g(e)});var v=n(3290),y=n(3803),b=n(579);const x=new Map;function w(e){const{injectFirst:t,enableCssLayer:n,children:r}=e,i=l.useMemo(()=>{const e="".concat(t,"-").concat(n);if("object"===typeof document&&x.has(e))return x.get(e);const r=function(e,t){const n=(0,y.A)({key:"css",prepend:e});if(t){const e=n.insert;n.insert=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n[1].styles.match(/^@layer\s+[^{]*$/)||(n[1].styles="@layer mui {".concat(n[1].styles,"}")),e(...n)}}return n}(t,n);return x.set(e,r),r},[t,n]);return t||n?(0,b.jsx)(o.C,{value:i,children:r}):r}var S=n(869);function k(e,t){return g(e,t)}const A=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},E=[];function C(e){return E[0]=e,(0,i.J)(E)}},3234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>o.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>i.A});var r=n(8812),o=n(8698),i=n(7758)},3290:(e,t,n)=>{"use strict";n.d(t,{AH:()=>u,i7:()=>d,mL:()=>c});var r=n(9369),o=n(5043),i=n(1722),s=n(9436),a=n(6598),l=(n(3803),n(219),function(e,t){var n=arguments;if(null==t||!r.h.call(t,"css"))return o.createElement.apply(void 0,n);var i=n.length,s=new Array(i);s[0]=r.E,s[1]=(0,r.c)(e,t);for(var a=2;a<i;a++)s[a]=n[a];return o.createElement.apply(null,s)});!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(l||(l={}));var c=(0,r.w)(function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,o.useContext(r.T)),c=o.useRef();return(0,s.i)(function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),c.current=[n,r],function(){n.flush()}},[t]),(0,s.i)(function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,i.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}},[t,l.name]),null});function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}function d(){var e=u.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},3364:(e,t,n)=>{"use strict";n.d(t,{Lx:()=>Ue,logoutUser:()=>Be,DY:()=>Ve,xw:()=>qe});var r=n(8557),o=n(7064),i=n(6667),s=n(6068),a=n(2555),l=n(1150),c=n(2965),u=n(1776),d=n(9606),h=n(2799);const p="@firebase/installations",f="0.6.19",m=1e4,g="w:".concat(f),v="FIS_v2",y=36e5,b={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},x=new u.FA("installations","Installations",b);function w(e){return e instanceof u.g&&e.code.includes("request-failed")}function S(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function k(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function A(e,t){const n=(await t.json()).error;return x.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function E(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function C(e,t){let{refreshToken:n}=t;const r=E(e);return r.append("Authorization",function(e){return"".concat(v," ").concat(e)}(n)),r}async function I(e){const t=await e();return t.status>=500&&t.status<600?e():t}function T(e){return new Promise(t=>{setTimeout(t,e)})}const j=/^[cdef][\w-]{21}$/;function _(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return j.test(t)?t:""}catch(e){return""}}function R(e){return"".concat(e.appName,"!").concat(e.appId)}const P=new Map;function N(e,t){const n=R(e);O(n,t),function(e,t){const n=M();n&&n.postMessage({key:e,fid:t});D()}(n,t)}function O(e,t){const n=P.get(e);if(n)for(const r of n)r(t)}let L=null;function M(){return!L&&"BroadcastChannel"in self&&(L=new BroadcastChannel("[Firebase] FID Change"),L.onmessage=e=>{O(e.data.key,e.data.fid)}),L}function D(){0===P.size&&L&&(L.close(),L=null)}const F="firebase-installations-store";let z=null;function V(){return z||(z=(0,h.P2)("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(F)}})),z}async function U(e,t){const n=R(e),r=(await V()).transaction(F,"readwrite"),o=r.objectStore(F),i=await o.get(n);return await o.put(t,n),await r.done,i&&i.fid===t.fid||N(e,t.fid),t}async function B(e){const t=R(e),n=(await V()).transaction(F,"readwrite");await n.objectStore(F).delete(t),await n.done}async function q(e,t){const n=R(e),r=(await V()).transaction(F,"readwrite"),o=r.objectStore(F),i=await o.get(n),s=t(i);return void 0===s?await o.delete(n):await o.put(s,n),await r.done,!s||i&&i.fid===s.fid||N(e,s.fid),s}async function W(e){let t;const n=await q(e.appConfig,n=>{const r=function(e){const t=e||{fid:_(),registrationStatus:0};return G(t)}(n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(x.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:o}=t;const i=S(n),s=E(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:o,authVersion:v,appId:n.appId,sdkVersion:g},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await I(()=>fetch(i,c));if(u.ok){const e=await u.json();return{fid:e.fid||o,registrationStatus:2,refreshToken:e.refreshToken,authToken:k(e.authToken)}}throw await A("Create Installation",u)}(e,t);return U(e.appConfig,n)}catch(n){throw w(n)&&409===n.customData.serverCode?await B(e.appConfig):await U(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:H(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function H(e){let t=await K(e.appConfig);for(;1===t.registrationStatus;)await T(100),t=await K(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await W(e);return n||t}return t}function K(e){return q(e,e=>{if(!e)throw x.create("installation-not-found");return G(e)})}function G(e){return 1===(t=e).registrationStatus&&t.registrationTime+m<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Q(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const o=function(e,t){let{fid:n}=t;return"".concat(S(e),"/").concat(n,"/authTokens:generate")}(n,t),i=C(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const a={installation:{sdkVersion:g,appId:n.appId}},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await I(()=>fetch(o,l));if(c.ok){return k(await c.json())}throw await A("Generate Auth Token",c)}async function X(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await q(e.appConfig,r=>{if(!Y(r))throw x.create("not-registered");const o=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+y}(e)}(o))return r;if(1===o.requestStatus)return t=async function(e,t){let n=await $(e.appConfig);for(;1===n.authToken.requestStatus;)await T(100),n=await $(e.appConfig);const r=n.authToken;return 0===r.requestStatus?X(e,t):r}(e,n),r;{if(!navigator.onLine)throw x.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return(0,a.A)((0,a.A)({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await Q(e,t),r=(0,a.A)((0,a.A)({},t),{},{authToken:n});return await U(e.appConfig,r),n}catch(n){if(!w(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=(0,a.A)((0,a.A)({},t),{},{authToken:{requestStatus:0}});await U(e.appConfig,n)}else await B(e.appConfig);throw n}}(e,n),n}});return t?await t:r.authToken}function $(e){return q(e,e=>{if(!Y(e))throw x.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+m<Date.now()?(0,a.A)((0,a.A)({},e),{},{authToken:{requestStatus:0}}):e;var n})}function Y(e){return void 0!==e&&2===e.registrationStatus}async function J(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await W(e);t&&await t}(n);return(await X(n,t)).token}function Z(e){return x.create("missing-app-config-values",{valueName:e})}const ee="installations",te=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Z("App Configuration");if(!e.name)throw Z("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Z(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:(0,l.j6)(t,"heartbeat"),_delete:()=>Promise.resolve()}},ne=e=>{const t=e.getProvider("app").getImmediate(),n=(0,l.j6)(t,ee).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await W(t);return r?r.catch(console.error):X(t).catch(console.error),n.fid}(n),getToken:e=>J(n,e)}};(0,l.om)(new d.uA(ee,te,"PUBLIC")),(0,l.om)(new d.uA("installations-internal",ne,"PRIVATE")),(0,l.KO)(p,f),(0,l.KO)(p,f,"esm2020");const re="analytics",oe="https://www.googletagmanager.com/gtag/js",ie=new c.Vy("@firebase/analytics"),se={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ae=new u.FA("analytics","Analytics",se);function le(e){if(!e.startsWith(oe)){const t=ae.create("invalid-gtag-resource",{gtagURL:e});return ie.warn(t.message),""}return e}function ce(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function ue(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:le}),r=document.createElement("script"),o="".concat(oe,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function de(e,t,n,r){return async function(o){try{for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if("event"===o){const[r,o]=s;await async function(e,t,n,r,o){try{let i=[];if(o&&o.send_to){let e=o.send_to;Array.isArray(e)||(e=[e]);const r=await ce(n);for(const n of e){const e=r.find(e=>e.measurementId===n),o=e&&t[e.appId];if(!o){i=[];break}i.push(o)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,o||{})}catch(i){ie.error(i)}}(e,t,n,r,o)}else if("config"===o){const[o,i]=s;await async function(e,t,n,r,o,i){const s=r[o];try{if(s)await t[s];else{const e=(await ce(n)).find(e=>e.measurementId===o);e&&await t[e.appId]}}catch(a){ie.error(a)}e("config",o,i)}(e,t,n,r,o,i)}else if("consent"===o){const[t,n]=s;e("consent",t,n)}else if("get"===o){const[t,n,r]=s;e("get",t,n,r)}else if("set"===o){const[t]=s;e("set",t)}else e(o,...s)}catch(l){ie.error(l)}}}const he=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function pe(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function fe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:o,measurementId:i}=e.options;if(!r)throw ae.create("no-app-id");if(!o){if(i)return{measurementId:i,appId:r};throw ae.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ge;return setTimeout(async()=>{a.abort()},void 0!==n?n:6e4),me({appId:r,apiKey:o,measurementId:i},s,a,t)}async function me(e,t,n){let{throttleEndTimeMillis:r,backoffCount:o}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:he;const{appId:s,measurementId:a}=e;try{await function(e,t){return new Promise((n,r)=>{const o=Math.max(t-Date.now(),0),i=setTimeout(n,o);e.addEventListener(()=>{clearTimeout(i),r(ae.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(c){if(a)return ie.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:s,measurementId:a};throw c}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:pe(n)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),i=await fetch(o,r);if(200!==i.status&&304!==i.status){let e="";try{var s;const t=await i.json();null!==(s=t.error)&&void 0!==s&&s.message&&(e=t.error.message)}catch(a){}throw ae.create("config-fetch-failed",{httpStatus:i.status,responseMessage:e})}return i.json()}(e);return i.deleteThrottleMetadata(s),t}catch(c){var l;const t=c;if(!function(e){if(!(e instanceof u.g)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(i.deleteThrottleMetadata(s),a)return ie.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:s,measurementId:a};throw c}const r=503===Number(null===t||void 0===t||null===(l=t.customData)||void 0===l?void 0:l.httpStatus)?(0,u.p9)(o,i.intervalMillis,30):(0,u.p9)(o,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+r,backoffCount:o+1};return i.setThrottleMetadata(s,d),ie.debug("Calling attemptFetch again in ".concat(r," millis")),me(e,d,n,i)}}class ge{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let ve,ye;function be(e){ye=e}function xe(e){ve=e}async function we(e,t,n,r,o,i,s){var a;const l=fe(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&ie.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>ie.error(e)),t.push(l);const c=async function(){if(!(0,u.zW)())return ie.warn(ae.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,u.eX)()}catch(e){return ie.warn(ae.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[d,h]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(oe)&&n.src.includes(e))return n;return null})(i)||ue(i,d.measurementId),ye&&(o("consent","default",ye),be(void 0)),o("js",new Date);const p=null!==(a=null===s||void 0===s?void 0:s.config)&&void 0!==a?a:{};return p.origin="firebase",p.update=!0,null!=h&&(p.firebase_id=h),o("config",d.measurementId,p),ve&&(o("set",ve),xe(void 0)),d.measurementId}class Se{constructor(e){this.app=e}_delete(){return delete ke[this.app.options.appId],Promise.resolve()}}let ke={},Ae=[];const Ee={};let Ce,Ie,Te="dataLayer",je="gtag",_e=!1;function Re(e,t,n){!function(){const e=[];if((0,u.sr)()&&e.push("This is a browser extension environment."),(0,u.dM)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=ae.create("invalid-analytics-context",{errorInfo:t});ie.warn(n.message)}}();const r=e.options.appId;if(!r)throw ae.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ae.create("no-api-key");ie.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ke[r])throw ae.create("already-exists",{id:r});if(!_e){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Te);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,o){let i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[o]&&"function"===typeof window[o]&&(i=window[o]),window[o]=de(i,e,t,n),{gtagCore:i,wrappedGtag:window[o]}}(ke,Ae,Ee,Te,je);Ie=e,Ce=t,_e=!0}ke[r]=we(e,Ae,Ee,t,Ce,Te,n);return new Se(e)}function Pe(e,t,n){e=(0,u.Ku)(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties.".concat(e)]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(Ie,ke[e.app.options.appId],t,n).catch(e=>ie.error(e))}function Ne(e,t,n,r){e=(0,u.Ku)(e),async function(e,t,n,r,o){if(o&&o.global)e("event",n,r);else{const o=await t;e("event",n,(0,a.A)((0,a.A)({},r),{},{send_to:o}))}}(Ie,ke[e.app.options.appId],t,n,r).catch(e=>ie.error(e))}const Oe="@firebase/analytics",Le="0.10.19";(0,l.om)(new d.uA(re,(e,t)=>{let{options:n}=t;return Re(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),(0,l.om)(new d.uA("analytics-internal",function(e){try{const t=e.getProvider(re).getImmediate();return{logEvent:(e,n,r)=>Ne(t,e,n,r),setUserProperties:(e,n)=>Pe(t,e,n)}}catch(t){throw ae.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,l.KO)(Oe,Le),(0,l.KO)(Oe,Le,"esm2020");const Me={apiKey:"AIzaSyA4VxXsU3yI3GedYREVkUIOgHo8NU1DUsw",authDomain:"ia-project-91c03.firebaseapp.com",projectId:"ia-project-91c03",storageBucket:"ia-project-91c03.firebasestorage.app",messagingSenderId:"764765123671",appId:"1:764765123671:web:c6861709d1a881fcfe1f12",measurementId:n(3069).x.measurementId};let De;Me.apiKey&&Me.projectId||console.error("\u274c Configuration Firebase manquante. V\xe9rifiez vos variables d'environnement ou le fichier firebaseConfig.generated.ts");try{De=(0,o.Wp)(Me),console.log("\u2705 Firebase initialis\xe9 avec succ\xe8s")}catch(He){throw console.error("\u274c Erreur lors de l'initialisation Firebase:",He),He}const Fe=(0,r.xI)(De);(0,i.aU)(De),(0,s.c7)(De);let ze=null;"undefined"!==typeof window&&(ze=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,l.Sx)();e=(0,u.Ku)(e);const t=(0,l.j6)(e,re);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,l.j6)(e,re);if(n.isInitialized()){const e=n.getImmediate();if((0,u.bD)(t,n.getOptions()))return e;throw ae.create("already-initialized")}return n.initialize({options:t})}(e)}(De));const Ve=async(e,t,n)=>{try{const o=await(0,r.eJ)(Fe,e,t);return n&&await(0,r.r7)(o.user,{displayName:n}),await(0,r.gA)(o.user),{success:!0,user:o.user,message:"Registration successful. Please check your email for verification."}}catch(He){return console.error("Registration error:",He),{success:!1,error:He.code,message:We(He.code)}}},Ue=async(e,t)=>{try{return{success:!0,user:(await(0,r.x9)(Fe,e,t)).user}}catch(He){return console.error("Login error:",He),{success:!1,error:He.code,message:We(He.code)}}},Be=async()=>{try{return await(0,r.CI)(Fe),{success:!0,message:"Logout successful"}}catch(He){return console.error("Logout error:",He),{success:!1,error:He.code,message:We(He.code)}}},qe=async e=>{try{return await(0,r.J1)(Fe,e),{success:!0,message:"Password reset email sent. Please check your inbox."}}catch(He){return console.error("Password reset error:",He),{success:!1,error:He.code,message:We(He.code)}}},We=e=>({"auth/email-already-in-use":"This email is already registered.","auth/invalid-email":"Invalid email address.","auth/operation-not-allowed":"Operation not allowed. Please contact support.","auth/weak-password":"Password is too weak. Use at least 6 characters.","auth/user-disabled":"This account has been disabled.","auth/user-not-found":"No account found with this email.","auth/wrong-password":"Incorrect password.","auth/too-many-requests":"Too many failed attempts. Please try again later.","auth/network-request-failed":"Network error. Please check your connection.","auth/popup-closed-by-user":"Sign-in popup was closed before completion.","auth/cancelled-popup-request":"Only one popup request is allowed at a time."}[e]||"An error occurred. Please try again.")},3382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>i});var r=n(528);const o=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i(e){const t="".concat(e).match(o);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||i(e)||t}function a(e,t,n){const r=s(t);return e.displayName||(""!==r?"".concat(n,"(").concat(r,")"):n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.vM:return a(e,e.render,"ForwardRef");case r.lD:return a(e,e.type,"memo");default:return}}}},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},3803:(e,t,n)=>{"use strict";n.d(t,{A:()=>oe});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),o=Math.abs,i=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function p(e){return e.length}function f(e,t){return t.push(e),e}var m=1,g=1,v=0,y=0,b=0,x="";function w(e,t,n,r,o,i,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:m,column:g,length:s,return:""}}function S(e,t){return s(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function k(){return b=y>0?u(x,--y):0,g--,10===b&&(g=1,m--),b}function A(){return b=y<v?u(x,y++):0,g++,10===b&&(g=1,m++),b}function E(){return u(x,y)}function C(){return y}function I(e,t){return d(x,e,t)}function T(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function j(e){return m=g=1,v=h(x=e),y=0,[]}function _(e){return x="",e}function R(e){return a(I(y-1,O(91===e?e+2:40===e?e+1:e)))}function P(e){for(;(b=E())&&b<33;)A();return T(e)>2||T(b)>3?"":" "}function N(e,t){for(;--t&&A()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return I(e,C()+(t<6&&32==E()&&32==A()))}function O(e){for(;A();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&O(b);break;case 40:41===e&&O(e);break;case 92:A()}return y}function L(e,t){for(;A()&&e+b!==57&&(e+b!==84||47!==E()););return"/*"+I(t,y-1)+"*"+i(47===e?e:A())}function M(e){for(;!T(E());)A();return I(e,y)}var D="-ms-",F="-moz-",z="-webkit-",V="comm",U="rule",B="decl",q="@keyframes";function W(e,t){for(var n="",r=p(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function H(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case B:return e.return=e.return||e.value;case V:return"";case q:return e.return=e.value+"{"+W(e.children,r)+"}";case U:e.value=e.props.join(",")}return h(n=W(e.children,r))?e.return=e.value+"{"+n+"}":""}function K(e){return _(G("",null,null,null,[""],e=j(e),0,[0],e))}function G(e,t,n,r,o,s,a,d,p){for(var m=0,g=0,v=a,y=0,b=0,x=0,w=1,S=1,I=1,T=0,j="",_=o,O=s,D=r,F=j;S;)switch(x=T,T=A()){case 40:if(108!=x&&58==u(F,v-1)){-1!=c(F+=l(R(T),"&","&\f"),"&\f")&&(I=-1);break}case 34:case 39:case 91:F+=R(T);break;case 9:case 10:case 13:case 32:F+=P(x);break;case 92:F+=N(C()-1,7);continue;case 47:switch(E()){case 42:case 47:f(X(L(A(),C()),t,n),p);break;default:F+="/"}break;case 123*w:d[m++]=h(F)*I;case 125*w:case 59:case 0:switch(T){case 0:case 125:S=0;case 59+g:-1==I&&(F=l(F,/\f/g,"")),b>0&&h(F)-v&&f(b>32?$(F+";",r,n,v-1):$(l(F," ","")+";",r,n,v-2),p);break;case 59:F+=";";default:if(f(D=Q(F,t,n,m,g,o,d,j,_=[],O=[],v),s),123===T)if(0===g)G(F,t,D,D,_,s,v,d,O);else switch(99===y&&110===u(F,3)?100:y){case 100:case 108:case 109:case 115:G(e,D,D,r&&f(Q(e,D,D,0,0,o,d,j,o,_=[],v),O),o,O,v,d,r?_:O);break;default:G(F,D,D,D,[""],O,0,d,O)}}m=g=b=0,w=I=1,j=F="",v=a;break;case 58:v=1+h(F),b=x;default:if(w<1)if(123==T)--w;else if(125==T&&0==w++&&125==k())continue;switch(F+=i(T),T*w){case 38:I=g>0?1:(F+="\f",-1);break;case 44:d[m++]=(h(F)-1)*I,I=1;break;case 64:45===E()&&(F+=R(A())),y=E(),g=v=h(j=F+=M(C())),T++;break;case 45:45===x&&2==h(F)&&(w=0)}}return s}function Q(e,t,n,r,i,s,c,u,h,f,m){for(var g=i-1,v=0===i?s:[""],y=p(v),b=0,x=0,S=0;b<r;++b)for(var k=0,A=d(e,g+1,g=o(x=c[b])),E=e;k<y;++k)(E=a(x>0?v[k]+" "+A:l(A,/&\f/g,v[k])))&&(h[S++]=E);return w(e,t,n,0===i?U:u,h,f,m)}function X(e,t,n){return w(e,t,n,V,i(b),d(e,2,-2),0)}function $(e,t,n,r){return w(e,t,n,B,d(e,0,r),d(e,r+1,-1),r)}var Y=function(e,t,n){for(var r=0,o=0;r=o,o=E(),38===r&&12===o&&(t[n]=1),!T(o);)A();return I(e,y)},J=function(e,t){return _(function(e,t){var n=-1,r=44;do{switch(T(r)){case 0:38===r&&12===E()&&(t[n]=1),e[n]+=Y(y-1,t,n);break;case 2:e[n]+=R(r);break;case 4:if(44===r){e[++n]=58===E()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=i(r)}}while(r=A());return e}(j(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!r){Z.set(e,!0);for(var o=[],i=J(t,o),s=n.props,a=0,l=0;a<i.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=o[a]?i[a].replace(/&\f/g,s[c]):s[c]+" "+i[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return z+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return z+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return z+e+F+e+D+e+e;case 6828:case 4268:return z+e+D+e+e;case 6165:return z+e+D+"flex-"+e+e;case 5187:return z+e+l(e,/(\w+).+(:[^]+)/,z+"box-$1$2"+D+"flex-$1$2")+e;case 5443:return z+e+D+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return z+e+D+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return z+e+D+l(e,"shrink","negative")+e;case 5292:return z+e+D+l(e,"basis","preferred-size")+e;case 6060:return z+"box-"+l(e,"-grow","")+z+e+D+l(e,"grow","positive")+e;case 4554:return z+l(e,/([^-])(transform)/g,"$1"+z+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,z+"$1"),/(image-set)/,z+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,z+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,z+"box-pack:$3"+D+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+z+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,z+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+z+"$2-$3$1"+F+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+z)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+z+(45===u(e,14)?"inline-":"")+"box$3$1"+z+"$2$3$1"+D+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return z+e+D+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return z+e+D+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return z+e+D+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return z+e+D+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case B:e.return=ne(e.value,e.length);break;case q:return W([S(e,{value:l(e.value,"@","@"+z)})],r);case U:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([S(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return W([S(e,{props:[l(t,/:(plac\w+)/,":"+z+"input-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,D+"input-$1")]})],r)}return""})}}],oe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var o,i,s=e.stylisPlugins||re,a={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)});var c,u,d=[H,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=p(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}([ee,te].concat(s,d));i=function(e,t,n,r){c=n,W(K(e?e+"{"+t.styles+"}":t.styles),h),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return f.sheet.hydrate(l),f}},3815:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9172);const o=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,o)&&!A.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:a,props:i,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+T(l,0):i,w(s)?(o="",null!=e&&(o=e.replace(I,"$&/")+"/"),j(s,t,o,"",function(e){return e})):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+T(a=e[c],c);l+=j(a,t,o,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=j(a=a.value,t,o,u=i+T(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,n){if(null==e)return e;var r=[],o=0;return j(e,r,"","",function(e){return t.call(n,e,o++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},N={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:N,ReactCurrentOwner:k};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,n){_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _(e,function(){t++}),t},toArray:function(e){return _(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!A.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4853:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8587),o=n(8168);const i=["values","unit","step"],s=e=>{const t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>(0,o.A)({},e,{[t.key]:t.val}),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,r.A)(e,i),c=s(t),u=Object.keys(c);function d(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function h(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-a/100).concat(n,")")}function p(e,r){const o=u.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[u[o]]?t[u[o]]:r)-a/100).concat(n,")")}return(0,o.A)({keys:u,values:c,up:d,down:h,between:p,only:function(e){return u.indexOf(e)+1<u.length?p(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):p(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case o:return t}}}function S(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===a||e===s||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===v)},t.typeOf=w},4989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>o.A,unstable_applyStyles:()=>i.A});var r=n(8280),o=n(4853),i=n(9703)},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},6068:(e,t,n)=>{"use strict";n.d(t,{c7:()=>R});var r=n(1150),o=n(1776),i=n(9606);const s="firebasestorage.googleapis.com",a="storageBucket";class l extends o.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(d(e),"Firebase Storage: ".concat(t," (").concat(d(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,l.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return d(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var c,u;function d(e){return"storage/"+e}function h(){return new l(c.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function p(){return new l(c.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f(){return new l(c.CANCELED,"User canceled the upload/download.")}function m(e){return new l(c.INVALID_ARGUMENT,e)}function g(){return new l(c.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(c||(c={}));class v{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=v.makeFromUrl(e,t)}catch(o){return new v(e,"")}if(""===n.path)return n;throw r=e,new l(c.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const o=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://".concat(t===s?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:i}];for(let s=0;s<u.length;s++){const t=u[s],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let o=r[t.indices.path];o||(o=""),n=new v(e,o),t.postModify(n);break}}if(null==n)throw function(e){return new l(c.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class y{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function b(e,t,n,r){if(r<t)throw m("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw m("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function x(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function w(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),o=-1!==t.indexOf(e);return n||r||o}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(u||(u={}));class S{constructor(e,t,n,r,o,i,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new k(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===u.NO_ERROR,o=n.getStatus();if(!t||w(o,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===u.ABORT;return void e(!1,new k(!1,null,t))}const i=-1!==this.successCodes_.indexOf(o);e(!0,new k(i,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,o=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(o,o.getResponse());void 0!==e?n(e):n()}catch(i){r(i)}else if(null!==o){const e=h();e.serverResponse=o.getErrorText(),this.errorCallback_?r(this.errorCallback_(o,e)):r(e)}else if(t.canceled){r(this.appDelete_?g():f())}else{r(p())}};this.canceled_?t(0,new k(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,o=null,i=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){o=setTimeout(()=>{o=null,e(p,l())},t)}function h(){i&&clearTimeout(i)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),d(i)}let f=!1;function m(e){f||(f=!0,h(),c||(null!==o?(e||(a=2),clearTimeout(o),d(0)):e||(a=1)))}return d(0),i=setTimeout(()=>{s=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class k{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function A(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class E{constructor(e,t){this._service=e,this._location=t instanceof v?t:v.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new E(e,t)}get root(){const e=new v(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return A(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new v(this._location.bucket,e);return new E(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new l(c.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function C(e,t){const n=null===t||void 0===t?void 0:t[a];return null==n?null:v.makeFromBucketSpec(n,e)}class I{constructor(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=i,this._bucket=null,this._host=s,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?v.makeFromBucketSpec(r,this._host):C(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=v.makeFromBucketSpec(this._url,e):this._bucket=C(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){b("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){b("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new E(this,e)}_makeRequest(e,t,n,r){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new y(g());{const i=function(e,t,n,r,o,i){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=x(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new S(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o,s,a)}(e,this._appId,n,r,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const T="@firebase/storage",j="0.14.0",_="storage";function R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,o.Ku)(e);const n=(0,r.j6)(e,_).getImmediate({identifier:t}),i=(0,o.yU)("storage");return i&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const i=(0,o.zJ)(t);i&&((0,o.gE)("https://".concat(e.host,"/b")),(0,o.P1)("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken="string"===typeof s?s:(0,o.Fy)(s,e.app.options.projectId))}(e,t,n,r)}(n,...i),n}function P(e,t){let{instanceIdentifier:n}=t;const o=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new I(o,i,s,n,r.MF)}(0,r.om)(new i.uA(_,P,"PUBLIC").setMultipleInstances(!0)),(0,r.KO)(T,j,""),(0,r.KO)(T,j,"esm2020")},6531:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(1188)},6598:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(918),i=!1,s=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},u=(0,o.A)(function(e){return l(e)?e:e.replace(s,"-$&").toLowerCase()}),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,function(e,t,n){return f={name:t,styles:n,next:f},t})}return 1===r[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},h="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function p(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return f={name:o.name,styles:o.styles,next:f},o.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)f={name:a.name,styles:a.styles,next:f},a=a.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=p(e,t,n[o])+";";else for(var s in n){var a=n[s];if("object"!==typeof a){var l=a;null!=t&&void 0!==t[l]?r+=s+"{"+t[l]+"}":c(l)&&(r+=u(s)+":"+d(s,l)+";")}else{if("NO_COMPONENT_SELECTOR"===s&&i)throw new Error(h);if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var f=p(e,t,a);switch(s){case"animation":case"animationName":r+=u(s)+":"+f+";";break;default:r+=s+"{"+f+"}"}}else for(var m=0;m<a.length;m++)c(a[m])&&(r+=u(s)+":"+d(s,a[m])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var l=f,m=n(e);return f=l,p(e,t,m)}}var g=n;if(null==t)return g;var v=t[g];return void 0!==v?v:g}var f,m=/label:\s*([^\s;{]+)\s*(;|$)/g;function g(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";f=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=p(n,t,i)):o+=i[0];for(var s=1;s<e.length;s++){if(o+=p(n,t,e[s]),r)o+=i[s]}m.lastIndex=0;for(var a,l="";null!==(a=m.exec(o));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:f}}},6667:(e,t,n)=>{"use strict";n.d(t,{Dc:()=>ye,rJ:()=>tl,H9:()=>nl,x7:()=>sc,GG:()=>lc,aU:()=>al,AB:()=>Xl,My:()=>Gl,P:()=>Bl,BN:()=>cc,mZ:()=>uc,_M:()=>Wl});var r,o,i=n(2555),s=n(1150),a=n(9606),l=n(2965),c=n(1776),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},d={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var o=0;o<16;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;o<16;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];let i,s=e.g[3];i=t+(s^n&(o^s))+r[0]+3614090360&4294967295,i=s+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[1]+3905402710&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[2]+606105819&4294967295,i=n+(t^(o=s+(i<<17&4294967295|i>>>15))&(s^t))+r[3]+3250441966&4294967295,i=t+(s^(n=o+(i<<22&4294967295|i>>>10))&(o^s))+r[4]+4118548399&4294967295,i=s+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[5]+1200080426&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[6]+2821735955&4294967295,i=n+(t^(o=s+(i<<17&4294967295|i>>>15))&(s^t))+r[7]+4249261313&4294967295,i=t+(s^(n=o+(i<<22&4294967295|i>>>10))&(o^s))+r[8]+1770035416&4294967295,i=s+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[9]+2336552879&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[10]+4294925233&4294967295,i=n+(t^(o=s+(i<<17&4294967295|i>>>15))&(s^t))+r[11]+2304563134&4294967295,i=t+(s^(n=o+(i<<22&4294967295|i>>>10))&(o^s))+r[12]+1804603682&4294967295,i=s+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[13]+4254626195&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[14]+2792965006&4294967295,i=n+(t^(o=s+(i<<17&4294967295|i>>>15))&(s^t))+r[15]+1236535329&4294967295,i=t+(o^s&((n=o+(i<<22&4294967295|i>>>10))^o))+r[1]+4129170786&4294967295,i=s+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[6]+3225465664&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[11]+643717713&4294967295,i=n+(s^t&((o=s+(i<<14&4294967295|i>>>18))^s))+r[0]+3921069994&4294967295,i=t+(o^s&((n=o+(i<<20&4294967295|i>>>12))^o))+r[5]+3593408605&4294967295,i=s+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[10]+38016083&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[15]+3634488961&4294967295,i=n+(s^t&((o=s+(i<<14&4294967295|i>>>18))^s))+r[4]+3889429448&4294967295,i=t+(o^s&((n=o+(i<<20&4294967295|i>>>12))^o))+r[9]+568446438&4294967295,i=s+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[14]+3275163606&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[3]+4107603335&4294967295,i=n+(s^t&((o=s+(i<<14&4294967295|i>>>18))^s))+r[8]+1163531501&4294967295,i=t+(o^s&((n=o+(i<<20&4294967295|i>>>12))^o))+r[13]+2850285829&4294967295,i=s+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[2]+4243563512&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[7]+1735328473&4294967295,i=n+(s^t&((o=s+(i<<14&4294967295|i>>>18))^s))+r[12]+2368359562&4294967295,i=t+((n=o+(i<<20&4294967295|i>>>12))^o^s)+r[5]+4294588738&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[8]+2272392833&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[11]+1839030562&4294967295,i=n+((o=s+(i<<16&4294967295|i>>>16))^s^t)+r[14]+4259657740&4294967295,i=t+((n=o+(i<<23&4294967295|i>>>9))^o^s)+r[1]+2763975236&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[4]+1272893353&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[7]+4139469664&4294967295,i=n+((o=s+(i<<16&4294967295|i>>>16))^s^t)+r[10]+3200236656&4294967295,i=t+((n=o+(i<<23&4294967295|i>>>9))^o^s)+r[13]+681279174&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[0]+3936430074&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[3]+3572445317&4294967295,i=n+((o=s+(i<<16&4294967295|i>>>16))^s^t)+r[6]+76029189&4294967295,i=t+((n=o+(i<<23&4294967295|i>>>9))^o^s)+r[9]+3654602809&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[12]+3873151461&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[15]+530742520&4294967295,i=n+((o=s+(i<<16&4294967295|i>>>16))^s^t)+r[2]+3299628645&4294967295,i=t+(o^((n=o+(i<<23&4294967295|i>>>9))|~s))+r[0]+4096336452&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[7]+1126891415&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[14]+2878612391&4294967295,i=n+(s^((o=s+(i<<15&4294967295|i>>>17))|~t))+r[5]+4237533241&4294967295,i=t+(o^((n=o+(i<<21&4294967295|i>>>11))|~s))+r[12]+1700485571&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[3]+2399980690&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[10]+4293915773&4294967295,i=n+(s^((o=s+(i<<15&4294967295|i>>>17))|~t))+r[1]+2240044497&4294967295,i=t+(o^((n=o+(i<<21&4294967295|i>>>11))|~s))+r[8]+1873313359&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[15]+4264355552&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[6]+2734768916&4294967295,i=n+(s^((o=s+(i<<15&4294967295|i>>>17))|~t))+r[13]+1309151649&4294967295,i=t+(o^((n=o+(i<<21&4294967295|i>>>11))|~s))+r[4]+4149444226&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[11]+3174756917&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[2]+718787259&4294967295,i=n+(s^((o=s+(i<<15&4294967295|i>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+s&4294967295}function i(e,t){this.h=t;const n=[];let r=!0;for(let o=e.length-1;o>=0;o--){const i=0|e[o];r&&i==t||(n[o]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,o=this.C;let i=this.h,s=0;for(;s<t;){if(0==i)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(o[i++]=e.charCodeAt(s++),i==this.blockSize){n(this,o),i=0;break}}else for(;s<t;)if(o[i++]=e[s++],i==this.blockSize){n(this,o),i=0;break}}this.h=i,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var s={};function a(e){return-128<=e&&e<128?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new i([0|e],e<0?-1:0)}):new i([0|e],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(e<0)return m(l(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new i(t,0)}var c=a(0),u=a(1),h=a(16777216);function p(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function f(e){return-1==e.h}function m(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new i(n,~e.h).add(u)}function g(e,t){return e.add(m(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(p(t))throw Error("division by zero");if(p(e))return new y(c,c);if(f(e))return t=b(m(e),t),new y(m(t.g),m(t.h));if(f(t))return t=b(e,m(t)),new y(m(t.g),t.h);if(e.g.length>30){if(f(e)||f(t))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=t;r.l(e)<=0;)n=x(n),r=x(r);var o=w(n,1),i=w(r,1);for(r=w(r,2),n=w(n,2);!p(r);){var s=i.add(r);s.l(e)<=0&&(o=o.add(n),i=s),r=w(r,1),n=w(n,1)}return t=g(e,o.j(t)),new y(o,t)}for(o=c;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),s=(i=l(n)).j(t);f(s)||s.l(e)>0;)s=(i=l(n-=r)).j(t);p(i)&&(i=u),o=o.add(i),e=g(e,s)}return new y(o,e)}function x(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new i(n,e.h)}function w(e,t){const n=t>>5;t%=32;const r=e.g.length-n,o=[];for(let i=0;i<r;i++)o[i]=t>0?e.i(i+n)>>>t|e.i(i+n+1)<<32-t:e.i(i+n);return new i(o,e.h)}(e=i.prototype).m=function(){if(f(this))return-m(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(p(this))return"0";if(f(this))return"-"+m(this).toString(e);const t=l(Math.pow(e,6));var n=this;let r="";for(;;){const o=b(n,t).g;let i=(((n=g(n,o.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(p(n=o))return i+r;for(;i.length<6;)i="0"+i;r=i+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return f(e=g(this,e))?-1:p(e)?0:1},e.abs=function(){return f(this)?m(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let r=0;for(let o=0;o<=t;o++){let t=r+(65535&this.i(o))+(65535&e.i(o)),i=(t>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);r=i>>>16,t&=65535,i&=65535,n[o]=i<<16|t}return new i(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(p(this)||p(e))return c;if(f(this))return f(e)?m(this).j(m(e)):m(m(this).j(e));if(f(e))return m(this.j(m(e)));if(this.l(h)<0&&e.l(h)<0)return l(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){const o=this.i(r)>>>16,i=65535&this.i(r),s=e.i(t)>>>16,a=65535&e.i(t);n[2*r+2*t]+=i*a,v(n,2*r+2*t),n[2*r+2*t+1]+=o*a,v(n,2*r+2*t+1),n[2*r+2*t+1]+=i*s,v(n,2*r+2*t+1),n[2*r+2*t+2]+=o*s,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new i(n,0)},e.B=function(e){return b(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new i(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new i(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new i(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,o=d.Md5=t,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.B,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=l,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return m(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=l(Math.pow(n,8));let o=c;for(let s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s);const e=parseInt(t.substring(s,s+i),n);i<8?(i=l(Math.pow(n,i)),o=o.j(i).add(l(e))):(o=o.j(r),o=o.add(l(e)))}return o},r=d.Integer=i}).apply("undefined"!==typeof u?u:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var h,p,f,m,g,v,y,b,x="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof x&&x];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var o=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in o))break e;o=o[s]}(r=r(i=o[e=e[e.length-1]]))!=i&&null!=r&&t(o,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var o=o||{},i=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function S(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function A(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let o=0;o<r;o++)e[n+o]=t[o]}else e.push(t)}}function E(e){i.setTimeout(()=>{throw e},0)}function C(){var e=R;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var I=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T,e=>e.reset());class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let j,_=!1,R=new class{constructor(){this.h=this.g=null}add(e,t){const n=I.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=Promise.resolve(void 0);j=()=>{e.then(N)}};function N(){for(var e;e=C();){try{e.h.call(e.g)}catch(n){E(n)}var t=I;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}_=!1}function O(){this.u=this.u,this.C=this.C}function L(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},L.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function D(e){return/^[\s\xa0]*$/.test(e)}function F(e,t){L.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(F,L),F.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),V=0;function U(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=o,this.key=++V,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function q(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function W(e){const t={};for(const n in e)t[n]=e[n];return t}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(e,t){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)e[n]=r[n];for(let t=0;t<H.length;t++)n=H[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function G(e){this.src=e,this.g={},this.h=0}function Q(e,t){const n=t.type;if(n in e.g){var r,o=e.g[n],i=Array.prototype.indexOf.call(o,t,void 0);(r=i>=0)&&Array.prototype.splice.call(o,i,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function X(e,t,n,r){for(let o=0;o<e.length;++o){const i=e[o];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return o}return-1}G.prototype.add=function(e,t,n,r,o){const i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);const s=X(e,t,r,o);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new U(t,this.src,i,!!r,o)).fa=n,e.push(t)),t};var $="closure_lm_"+(1e6*Math.random()|0),Y={};function J(e,t,n,r,o){if(r&&r.once)return ee(e,t,n,r,o);if(Array.isArray(t)){for(let i=0;i<t.length;i++)J(e,t[i],n,r,o);return null}return n=le(n),e&&e[z]?e.J(t,n,s(r)?!!r.capture:!!r,o):Z(e,t,n,!1,r,o)}function Z(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");const a=s(o)?!!o.capture:!!o;let l=se(e);if(l||(e[$]=l=new G(e)),(n=l.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ie;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(oe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ee(e,t,n,r,o){if(Array.isArray(t)){for(let i=0;i<t.length;i++)ee(e,t[i],n,r,o);return null}return n=le(n),e&&e[z]?e.K(t,n,s(r)?!!r.capture:!!r,o):Z(e,t,n,!0,r,o)}function ne(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)ne(e,t[i],n,r,o);else r=s(r)?!!r.capture:!!r,n=le(n),e&&e[z]?(e=e.i,(i=String(t).toString())in e.g&&((n=X(t=e.g[i],n,r,o))>-1&&(B(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[i],e.h--)))):e&&(e=se(e))&&(t=e.g[t.toString()],e=-1,t&&(e=X(t,n,r,o)),(n=e>-1?t[e]:null)&&re(n))}function re(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[z])Q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(oe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=se(t))?(Q(n,e),0==n.h&&(n.src=null,t[$]=null)):B(e)}}}function oe(e){return e in Y?Y[e]:Y[e]="on"+e}function ie(e,t){if(e.da)e=!0;else{t=new F(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&re(e),e=n.call(r,t)}return e}function se(e){return(e=e[$])instanceof G?e:null}var ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(e){return"function"===typeof e?e:(e[ae]||(e[ae]=function(t){return e.handleEvent(t)}),e[ae])}function ce(){O.call(this),this.i=new G(this),this.M=this,this.G=null}function ue(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new L(t,e);else if(t instanceof L)t.target=t.target||e;else{var o=t;K(t=new L(r,e),o)}let i,s;if(o=!0,n)for(s=n.length-1;s>=0;s--)i=t.g=n[s],o=de(i,r,!0,t)&&o;if(i=t.g=e,o=de(i,r,!0,t)&&o,o=de(i,r,!1,t)&&o,n)for(s=0;s<n.length;s++)i=t.g=n[s],o=de(i,r,!1,t)&&o}function de(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let o=!0;for(let i=0;i<t.length;++i){const s=t[i];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&Q(e.i,s),o=!1!==t.call(n,r)&&o}}return o&&!r.defaultPrevented}function he(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:i.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,he(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(ce,O),ce.prototype[z]=!0,ce.prototype.removeEventListener=function(e,t,n,r){ne(this,e,t,n,r)},ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)B(n[e]);delete e.g[t],e.h--}}this.G=null},ce.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ce.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class pe extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:he(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fe(e){O.call(this),this.h=e,this.g={}}u(fe,O);var me=[];function ge(e){q(e.g,function(e,t){this.g.hasOwnProperty(t)&&re(e)},e),e.g={}}fe.prototype.N=function(){fe.Z.N.call(this),ge(this)},fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ve=i.JSON.stringify,ye=i.JSON.parse,be=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function xe(){}function we(){}var Se={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){L.call(this,"d")}function Ae(){L.call(this,"c")}u(ke,L),u(Ae,L);var Ee={},Ce=null;function Ie(){return Ce=Ce||new ce}function Te(e){L.call(this,Ee.Ia,e)}function je(e){const t=Ie();ue(t,new Te(t))}function _e(e,t){L.call(this,Ee.STAT_EVENT,e),this.stat=t}function Re(e){const t=Ie();ue(t,new _e(t,e))}function Pe(e,t){L.call(this,Ee.Ja,e),this.size=t}function Ne(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Oe(){this.g=!0}function Le(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const i=JSON.parse(t);if(i)for(e=0;e<i.length;e++)if(Array.isArray(i[e])){var n=i[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(let e=1;e<r.length;e++)r[e]=""}}}return ve(i)}catch(i){return t}}(e,n)+(r?" "+r:"")})}Ee.Ia="serverreachability",u(Te,L),Ee.STAT_EVENT="statevent",u(_e,L),Ee.Ja="timingevent",u(Pe,L),Oe.prototype.ua=function(){this.g=!1},Oe.prototype.info=function(){};var Me,De={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function ze(){}function Ve(e){return encodeURIComponent(String(e))}function Ue(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Be(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new fe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}u(ze,xe),ze.prototype.g=function(){return new XMLHttpRequest},Me=new ze;var We={},He={};function Ke(e,t,n){e.M=1,e.A=vt(ht(t)),e.u=n,e.R=!0,Ge(e,null)}function Ge(e,t){e.F=Date.now(),$e(e),e.B=ht(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),Rt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new qe,e.g=yn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new pe(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var o="readystatechange";Array.isArray(o)||(o&&(me[0]=o.toString()),o=me);for(let i=0;i<o.length;i++){const e=J(n,o[i],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?W(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),je(),function(e,t,n,r,o,i){e.info(function(){if(e.g)if(i){var s="",a=i.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Qe(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Xe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?He:(n=Number(t.substring(n,r)),isNaN(n)?We:(r+=1)+n>t.length?He:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.T=Date.now()+e.H,Ye(e,e.H)}function Ye(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Ne(l(e.aa,e),t)}function Je(e){e.D&&(i.clearTimeout(e.D),e.D=null)}function Ze(e){0==e.j.I||e.K||pn(e.j,e)}function et(e){Je(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ge(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function tt(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||st(n.h,e)))if(!e.L&&st(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;hn(n),tn(n)}cn(n),Re(18)}}else n.xa=o[1],0<n.xa-n.K&&o[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Ne(l(n.Va,n),6e3));it(n.h)<=1&&n.ta&&(n.ta=void 0)}else mn(n,11)}else if((e.L||n.g==e)&&hn(n),!D(t))for(o=n.Ba.g.parse(t),t=0;t<o.length;t++){let l=o[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const o=l[4];null!=o&&(n.za=o,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(at(i,i.h),i.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,gt(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=vn(r,r.L?r.ba:null,r.W),s.L){lt(r.h,s);var a=s,c=r.O;c&&(a.H=c),a.D&&(Je(a),$e(a)),r.g=s}else ln(r);n.i.length>0&&rn(n)}else"stop"!=l[0]&&"close"!=l[0]||mn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?mn(n,7):en(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}je()}catch(u){}}Be.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==$t(e)?t.j():this.Y(e)},Be.prototype.Y=function(e){try{if(e==this.g)e:{const l=$t(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||4!=l||7==c||je(),Je(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Qe(e))return e.g.la();const t=Yt(e.g);if(""===t)return"";let n="";const r=t.length,o=4==$t(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return et(e),Ze(e),"";e.h.i=new i.TextDecoder}for(let i=0;i<r;i++)e.h.h=!0,n+=e.h.i.decode(t[i],{stream:!(o&&i==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,o,i,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+i+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,o=this.g;if((r=o.g?o.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,Re(12),et(this),Ze(this);break e}Le(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Xe(this,n),t==He){4==l&&(this.m=4,Re(14),e=!1),Le(this.i,this.l,null,"[Incomplete Response]");break}if(t==We){this.m=4,Re(15),Le(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Le(this.i,this.l,t,null),tt(this,t)}if(Qe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,Re(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),un(a),a.P=!0,Re(11))}}else Le(this.i,this.l,n,"[Invalid Chunked Response]"),et(this),Ze(this)}else Le(this.i,this.l,n,null),tt(this,n);4==l&&et(this),this.o&&!this.K&&(4==l?pn(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&$t(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(D(e[r]))continue;var n=Ue(e[r]);const o=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[o]||[];t[o]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),et(this),Ze(this)}}}catch(te){}},Be.prototype.cancel=function(){this.K=!0,et(this)},Be.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(je(),Re(17)),et(this),this.m=2,Ze(this)):Ye(this,this.T-e)};var nt=class{constructor(e,t){this.g=e,this.map=t}};function rt(e){this.l=e||10,i.PerformanceNavigationTiming?e=(e=i.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ot(e){return!!e.h||!!e.g&&e.g.size>=e.j}function it(e){return e.h?1:e.g?e.g.size:0}function st(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function at(e,t){e.g?e.g.add(t):e.h=t}function lt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ct(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return S(e.i)}rt.prototype.cancel=function(){if(this.i=ct(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ut=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dt(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof dt?(this.l=e.l,pt(this,e.j),this.o=e.o,this.g=e.g,ft(this,e.u),this.h=e.h,mt(this,Pt(e.i)),this.m=e.m):e&&(t=String(e).match(ut))?(this.l=!1,pt(this,t[1]||"",!0),this.o=yt(t[2]||""),this.g=yt(t[3]||"",!0),ft(this,t[4]),this.h=yt(t[5]||"",!0),mt(this,t[6]||"",!0),this.m=yt(t[7]||"")):(this.l=!1,this.i=new Ct(null,this.l))}function ht(e){return new dt(e)}function pt(e,t,n){e.j=n?yt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ft(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function mt(e,t,n){t instanceof Ct?(e.i=t,function(e,t){t&&!e.j&&(It(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(Tt(this,t),Rt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=bt(t,At)),e.i=new Ct(t,e.l))}function gt(e,t,n){e.i.set(t,n)}function vt(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function yt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dt.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(bt(t,wt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(bt(t,wt,!0),"@"),e.push(Ve(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bt(n,"/"==n.charAt(0)?kt:St,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",bt(n,Et)),e.join("")},dt.prototype.resolve=function(e){const t=ht(this);let n=!!e.j;n?pt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)ft(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var o=t.h.lastIndexOf("/");-1!=o&&(r=t.h.slice(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(-1!=o.indexOf("./")||-1!=o.indexOf("/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");const e=[];for(let t=0;t<o.length;){const n=o[t++];"."==n?r&&t==o.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==o.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=o}return n?t.h=r:n=""!==e.i.toString(),n?mt(t,Pt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var wt=/[#\/\?@]/g,St=/[#\?:]/g,kt=/[#\?]/g,At=/[#\?@]/g,Et=/#/g;function Ct(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function It(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let o,i=null;r>=0?(o=e[n].substring(0,r),i=e[n].substring(r+1)):o=e[n],t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Tt(e,t){It(e),t=Nt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function jt(e,t){return It(e),t=Nt(e,t),e.g.has(t)}function _t(e,t){It(e);let n=[];if("string"===typeof t)jt(e,t)&&(n=n.concat(e.g.get(Nt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function Rt(e,t,n){Tt(e,t),n.length>0&&(e.i=null,e.g.set(Nt(e,t),S(n)),e.h+=n.length)}function Pt(e){const t=new Ct;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Nt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ot(e,t,n,r,o){try{o&&(o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null),r(n)}catch(i){}}function Lt(){this.g=new be}function Mt(e){this.i=e.Sb||null,this.h=e.ab||!1}function Dt(e,t){ce.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Ft(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function zt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Vt(e)}function Vt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ut(e){let t="";return q(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Bt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ut(n),"string"===typeof e?null!=n&&Ve(n):gt(e,t,n))}function qt(e){ce.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=Ct.prototype).add=function(e,t){It(this),this.i=null,e=Nt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){It(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return It(this),this.i=null,jt(this,e=Nt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=_t(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const o=Ve(n);n=_t(this,n);for(let t=0;t<n.length;t++){let r=o;""!==n[t]&&(r+="="+Ve(n[t])),e.push(r)}}return this.i=e.join("&")},u(Mt,xe),Mt.prototype.g=function(){return new Dt(this.i,this.h)},u(Dt,ce),(e=Dt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Vt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||i).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,zt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vt(this)),this.g&&(this.readyState=3,Vt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ft(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zt(this):Vt(this),3==this.readyState&&Ft(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,zt(this))},e.Na=function(e){this.g&&(this.response=e,zt(this))},e.ga=function(){this.g&&zt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(qt,ce);var Wt=/^https?$/i,Ht=["POST","PUT"];function Kt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Gt(e),Xt(e)}function Gt(e){e.A||(e.A=!0,ue(e,"complete"),ue(e,"error"))}function Qt(e){if(e.h&&"undefined"!=typeof o)if(e.v&&4==$t(e))setTimeout(e.Ca.bind(e),0);else if(ue(e,"readystatechange"),4==$t(e)){e.h=!1;try{const o=e.ca();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){let t=String(e.D).match(ut)[1]||null;!t&&i.self&&i.self.location&&(t=i.self.location.protocol.slice(0,-1)),r=!Wt.test(t?t.toLowerCase():"")}n=r}if(n)ue(e,"complete"),ue(e,"success");else{e.o=6;try{var s=$t(e)>2?e.g.statusText:""}catch(a){s=""}e.l=s+" ["+e.ca()+"]",Gt(e)}}finally{Xt(e)}}}function Xt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||ue(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function $t(e){return e.g?e.g.readyState:0}function Yt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Jt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zt(e){this.za=0,this.i=[],this.j=new Oe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Jt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Jt("baseRetryDelayMs",5e3,e),this.Za=Jt("retryDelaySeedMs",1e4,e),this.Ta=Jt("forwardChannelMaxRetries",2,e),this.va=Jt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new rt(e&&e.concurrentRequestLimit),this.Ba=new Lt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function en(e){if(nn(e),3==e.I){var t=e.V++,n=ht(e.J);if(gt(n,"SID",e.M),gt(n,"RID",t),gt(n,"TYPE","terminate"),sn(e,n),(t=new Be(e,e.j,t)).M=2,t.A=vt(ht(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.A,n=!0),n||(t.g=yn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),$e(t)}gn(e)}function tn(e){e.g&&(un(e),e.g.cancel(),e.g=null)}function nn(e){tn(e),e.v&&(i.clearTimeout(e.v),e.v=null),hn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&i.clearTimeout(e.m),e.m=null)}function rn(e){if(!ot(e.h)&&!e.m){e.m=!0;var t=e.Ea;j||P(),_||(j(),_=!0),R.add(t,e),e.D=0}}function on(e,t){var n;n=t?t.l:e.V++;const r=ht(e.J);gt(r,"SID",e.M),gt(r,"RID",n),gt(r,"AID",e.K),sn(e,r),e.u&&e.o&&Bt(r,e.u,e.o),n=new Be(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=an(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),at(e.h,n),Ke(n,r,t)}function sn(e,t){e.H&&q(e.H,function(e,n){gt(t,n,e)}),e.l&&q({},function(e,n){gt(t,n,e)})}function an(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var o=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=o[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var i=o[c].g;const n=o[c].map;if((i-=t)<0)t=Math.max(0,o[c].g-100),l=!1;else try{i="req"+i+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;s(n)&&(r=ve(n)),e.push(i+t+"="+encodeURIComponent(r))}}catch(k){throw e.push(i+"type="+encodeURIComponent("_badmap")),k}}catch(k){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function ln(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;j||P(),_||(j(),_=!0),R.add(t,e),e.A=0}}function cn(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=Ne(l(e.Da,e),fn(e,e.A)),e.A++,!0)}function un(e){null!=e.B&&(i.clearTimeout(e.B),e.B=null)}function dn(e){e.g=new Be(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=ht(e.na);gt(t,"RID","rpc"),gt(t,"SID",e.M),gt(t,"AID",e.K),gt(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&gt(t,"TO",e.ia),gt(t,"TYPE","xmlhttp"),sn(e,t),e.u&&e.o&&Bt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=vt(ht(t)),n.u=null,n.R=!0,Ge(n,e)}function hn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function pn(e,t){var n=null;if(e.g==t){hn(e),un(e),e.g=null;var r=2}else{if(!st(e.h,t))return;n=t.G,lt(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var o=e.D;ue(r=Ie(),new Pe(r,n)),rn(e)}else ln(e);else if(3==(o=t.m)||0==o&&t.X>0||!(1==r&&function(e,t){return!(it(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=Ne(l(e.Ea,e,t),fn(e,e.D)),e.D++,!0))}(e,t)||2==r&&cn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),o){case 1:mn(e,5);break;case 4:mn(e,10);break;case 3:mn(e,6);break;default:mn(e,2)}}function fn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function mn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new dt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||pt(r,"https"),vt(r),t?function(e,t){const n=new Oe;if(i.Image){const r=new Image;r.onload=c(Ot,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Ot,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Ot,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Ot,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Oe;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ot(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Ot(0,0,!0,t):Ot(0,0,!1,t)}).catch(()=>{clearTimeout(r),Ot(0,0,!1,t)})}(r.toString(),n)}else Re(2);e.I=0,e.l&&e.l.pa(t),gn(e),nn(e)}function gn(e){if(e.I=0,e.ja=[],e.l){const t=ct(e.h);0==t.length&&0==e.i.length||(A(e.ja,t),A(e.ja,e.i),e.h.i.length=0,S(e.i),e.i.length=0),e.l.oa()}}function vn(e,t,n){var r=n instanceof dt?ht(n):new dt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ft(r,r.u);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;const e=new dt(null);r&&pt(e,r),t&&(e.g=t),o&&ft(e,o),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&gt(r,n,t),gt(r,"VER",e.ka),sn(e,r),r}function yn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new qt(new Mt({ab:n})):new qt(e.ma)).Fa(e.L),t}function bn(){}function xn(){}function wn(e,t){ce.call(this),this.g=new Zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!D(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!D(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new An(this)}function Sn(e){ke.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kn(){Ae.call(this),this.status=1}function An(e){this.g=e}(e=qt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Me.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Kt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=i.FormData&&e instanceof i.FormData,!(Array.prototype.indexOf.call(Ht,t,void 0)>=0)||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){Kt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,ue(this,"complete"),ue(this,"abort"),Xt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),qt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Qt(this):this.Xa())},e.Xa=function(){Qt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return $t(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ye(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){Re(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=vn(this,null,this.W),rn(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const o=new Be(this,this.j,e);let i=this.o;if(this.U&&(i?(i=W(i),K(i,this.U)):i=this.U),null!==this.u||this.R||(o.J=i,i=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=an(this,o,t),gt(n=ht(this.J),"RID",e),gt(n,"CVER",22),this.G&&gt(n,"X-HTTP-Session-Id",this.G),sn(this,n),i&&(this.R?t="headers="+Ve(Ut(i))+"&"+t:this.u&&Bt(n,this.u,i)),at(this.h,o),this.Ra&&gt(n,"TYPE","init"),this.S?(gt(n,"$req",t),gt(n,"SID","null"),o.U=!0,Ke(o,n,null)):Ke(o,n,t),this.I=2}}else 3==this.I&&(e?on(this,e):0==this.i.length||ot(this.h)||on(this))},e.Da=function(){if(this.v=null,dn(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Ne(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),tn(this),dn(this))},e.Va=function(){null!=this.C&&(this.C=null,tn(this),cn(this),Re(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},xn.prototype.g=function(e,t){return new wn(e,t)},u(wn,ce),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){en(this.g)},wn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ve(e),e=n);t.i.push(new nt(t.Ya++,e)),3==t.I&&rn(t)},wn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,wn.Z.N.call(this)},u(Sn,ke),u(kn,Ae),u(An,bn),An.prototype.ra=function(){ue(this.g,"a")},An.prototype.qa=function(e){ue(this.g,new Sn(e))},An.prototype.pa=function(e){ue(this.g,new kn)},An.prototype.oa=function(){ue(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,b=w.createWebChannelTransport=function(){return new xn},y=w.getStatEventTarget=function(){return Ie()},v=w.Event=Ee,g=w.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,m=w.ErrorCode=De,Fe.COMPLETE="complete",f=w.EventType=Fe,we.EventType=Se,Se.OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",ce.prototype.listen=ce.prototype.J,p=w.WebChannel=we,w.FetchXmlHttpFactory=Mt,qt.prototype.listenOnce=qt.prototype.K,qt.prototype.getLastError=qt.prototype.Ha,qt.prototype.getLastErrorCode=qt.prototype.ya,qt.prototype.getStatus=qt.prototype.ca,qt.prototype.getResponseJson=qt.prototype.La,qt.prototype.getResponseText=qt.prototype.la,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Fa,h=w.XhrIo=qt}).apply("undefined"!==typeof x?x:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const S="@firebase/firestore",k="4.9.2";class A{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}A.UNAUTHENTICATED=new A(null),A.GOOGLE_CREDENTIALS=new A("google-credentials-uid"),A.FIRST_PARTY=new A("first-party-uid"),A.MOCK_USER=new A("mock-user");let E="12.3.0";const C=new l.Vy("@firebase/firestore");function I(){return C.logLevel}function T(e){if(C.logLevel<=l.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(R);C.debug("Firestore (".concat(E,"): ").concat(e),...o)}}function j(e){if(C.logLevel<=l.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(R);C.error("Firestore (".concat(E,"): ").concat(e),...o)}}function _(e){if(C.logLevel<=l.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(R);C.warn("Firestore (".concat(E,"): ").concat(e),...o)}}function R(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function P(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,N(e,r,n)}function N(e,t,n){let r="FIRESTORE (".concat(E,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw j(r),new Error(r)}function O(e,t,n,r){let o="Unexpected state";"string"==typeof n?o=n:r=n,e||N(t,o,r)}function L(e,t){return e}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends c.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class F{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class z{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(A.UNAUTHENTICATED))}shutdown(){}}class U{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class B{constructor(e){this.t=e,this.currentUser=A.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){O(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let o=new F;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new F,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=o;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new F)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(O("string"==typeof t.accessToken,31837,{l:t}),new z(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return O(null===e||"string"==typeof e,2055,{h:e}),new A(e)}}class q{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=A.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class W{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new q(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(A.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,s.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){O(void 0===this.o,3512);const n=e=>{null!=e.error&&T("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,T("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new H(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(O("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new H(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function G(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Q{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=G(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function X(e,t){return e<t?-1:e>t?1:0}function $(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),o=t.charAt(r);if(n!==o)return Z(n)===Z(o)?X(n,o):Z(n)?1:-1}return X(e.length,t.length)}const Y=55296,J=57343;function Z(e){const t=e.charCodeAt(0);return t>=Y&&t<=J}function ee(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const te="__name__";class ne{constructor(e,t,n){void 0===t?t=0:t>e.length&&P(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&P(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ne.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ne?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ne.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return X(e.length,t.length)}static compareSegments(e,t){const n=ne.isNumericId(e),r=ne.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ne.extractNumericId(e).compare(ne.extractNumericId(t)):$(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class re extends ne{construct(e,t,n){return new re(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n){if(o.indexOf("//")>=0)throw new D(M.INVALID_ARGUMENT,"Invalid segment (".concat(o,"). Paths must not contain // in them."));e.push(...o.split("/").filter(e=>e.length>0))}return new re(e)}static emptyPath(){return new re([])}}const oe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ie extends ne{construct(e,t,n){return new ie(e,t,n)}static isValidIdentifier(e){return oe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ie.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===te}static keyField(){return new ie([te])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(0===n.length)throw new D(M.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new D(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new D(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(o(),r++)}if(o(),i)throw new D(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ie(t)}static emptyPath(){return new ie([])}}class se{constructor(e){this.path=e}static fromPath(e){return new se(re.fromString(e))}static fromName(e){return new se(re.fromString(e).popFirst(5))}static empty(){return new se(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===re.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return re.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new re(e.slice()))}}function ae(e,t,n){if(!n)throw new D(M.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function le(e){if(!se.isDocumentKey(e))throw new D(M.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ce(e){if(se.isDocumentKey(e))throw new D(M.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ue(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function de(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":P(12329,{type:typeof e})}function he(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new D(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=de(e);throw new D(M.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function pe(e,t){if(t<=0)throw new D(M.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function fe(e,t){const n={typeString:e};return t&&(n.value=t),n}function me(e,t){if(!ue(e))throw new D(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(o&&typeof s!==o){n="JSON field '".concat(r,"' must be a ").concat(o,".");break}if(void 0!==i&&s!==i.value){n="Expected '".concat(r,"' field to equal '").concat(i.value,"'");break}}if(n)throw new D(M.INVALID_ARGUMENT,n);return!0}const ge=-62135596800,ve=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ve);return new ye(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new D(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new D(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ge)throw new D(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ve}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(me(e,ye._jsonSchema))return new ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ge;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:fe("string",ye._jsonSchemaVersion),seconds:fe("number"),nanoseconds:fe("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ye(0,0))}static max(){return new be(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xe=-1;class we{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}we.UNKNOWN_ID=-1;function Se(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=be.fromTimestamp(1e9===r?new ye(n+1,0):new ye(n,r));return new Ae(o,se.empty(),t)}function ke(e){return new Ae(e.readTime,e.key,xe)}class Ae{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ae(be.min(),se.empty(),xe)}static max(){return new Ae(be.max(),se.empty(),xe)}}function Ee(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=se.comparator(e.documentKey,t.documentKey),0!==n?n:X(e.largestBatchId,t.largestBatchId))}const Ce="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Te(e){if(e.code!==M.FAILED_PRECONDITION||e.message!==Ce)throw e;T("LocalStore","Unexpectedly lost primary lease")}class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&P(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new je((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof je?t:je.resolve(t)}catch(e){return je.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):je.reject(t)}static resolve(e){return new je((t,n)=>{t(e)})}static reject(e){return new je((t,n)=>{n(e)})}static waitFor(e){return new je((t,n)=>{let r=0,o=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++o,i&&o===r&&t()},e=>n(e))}),i=!0,o===r&&t()})}static or(e){let t=je.resolve(!1);for(const n of e)t=t.next(e=>e?je.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new je((n,r)=>{const o=e.length,i=new Array(o);let s=0;for(let a=0;a<o;a++){const l=a;t(e[l]).next(e=>{i[l]=e,++s,s===o&&n(i)},e=>r(e))}})}static doWhile(e,t){return new je((n,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):n()};o()})}}function _e(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Re(e){return"IndexedDbTransactionError"===e.name}class Pe{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pe.ce=-1;const Ne=-1;function Oe(e){return null==e}function Le(e){return 0===e&&1/e==-1/0}function Me(e){return"number"==typeof e&&Number.isInteger(e)&&!Le(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const De="\x01";function Fe(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ve(t)),t=ze(e.get(n),t);return Ve(t)}function ze(e,t){let n=t;const r=e.length;for(let o=0;o<r;o++){const t=e.charAt(o);switch(t){case"\0":n+="\x01\x10";break;case De:n+="\x01\x11";break;default:n+=t}}return n}function Ve(e){return e+De+"\x01"}const Ue="remoteDocuments",Be="owner",qe="mutationQueues",We="mutations";const He="documentMutations",Ke="remoteDocumentsV14",Ge="remoteDocumentGlobal",Qe="targets",Xe="targetDocuments",$e="targetGlobal",Ye="collectionParents",Je="clientMetadata",Ze="bundles",et="namedQueries",tt="indexConfiguration",nt="indexState",rt="indexEntries",ot="documentOverlays",it="globals",st=[qe,We,He,Ue,Qe,Be,$e,Xe,Je,Ge,Ye,Ze,et],at=[qe,We,He,Ke,Qe,Be,$e,Xe,Je,Ge,Ye,Ze,et,ot],lt=at,ct=[...lt,tt,nt,rt];function ut(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function dt(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ht(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class pt{constructor(e,t){this.comparator=e,this.root=t||mt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ft(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ft(this.root,e,this.comparator,!1)}getReverseIterator(){return new ft(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ft(this.root,e,this.comparator,!0)}}class ft{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:mt.RED,this.left=null!=r?r:mt.EMPTY,this.right=null!=o?o:mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new mt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return mt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw P(43730,{key:this.key,value:this.value});if(this.right.isRed())throw P(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw P(27949);return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1,mt.EMPTY=new class{constructor(){this.size=0}get key(){throw P(57766)}get value(){throw P(16141)}get color(){throw P(16727)}get left(){throw P(29726)}get right(){throw P(36894)}copy(e,t,n,r,o){return this}insert(e,t,n){return new mt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vt(this.data.getIterator())}getIteratorFrom(e){return new vt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof gt))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gt(this.comparator);return t.data=e,t}}class vt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yt{constructor(e){this.fields=e,e.sort(ie.comparator)}static empty(){return new yt([])}unionWith(e){let t=new gt(ie.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new yt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ee(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class bt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new bt("Invalid base64 string: "+e):e}}(e);return new xt(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const wt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function St(e){if(O(!!e,39018),"string"==typeof e){let t=0;const n=wt.exec(e);if(O(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:kt(e.seconds),nanos:kt(e.nanos)}}function kt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function At(e){return"string"==typeof e?xt.fromBase64String(e):xt.fromUint8Array(e)}const Et="server_timestamp",Ct="__type__",It="__previous_value__",Tt="__local_write_time__";function jt(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Ct])||void 0===t?void 0:t.stringValue)===Et}function _t(e){const t=e.mapValue.fields[It];return jt(t)?_t(t):t}function Rt(e){const t=St(e.mapValue.fields[Tt].timestampValue);return new ye(t.seconds,t.nanos)}class Pt{constructor(e,t,n,r,o,i,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const Nt="(default)";class Ot{constructor(e,t){this.projectId=e,this.database=t||Nt}static empty(){return new Ot("","")}get isDefaultDatabase(){return this.database===Nt}isEqual(e){return e instanceof Ot&&e.projectId===this.projectId&&e.database===this.database}}const Lt="__type__",Mt="__max__",Dt={mapValue:{fields:{__type__:{stringValue:Mt}}}},Ft="__vector__",zt="value";function Vt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jt(e)?4:rn(e)?9007199254740991:tn(e)?10:11:P(28295,{value:e})}function Ut(e,t){if(e===t)return!0;const n=Vt(e);if(n!==Vt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rt(e).isEqual(Rt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=St(e.timestampValue),r=St(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return At(e.bytesValue).isEqual(At(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return kt(e.geoPointValue.latitude)===kt(t.geoPointValue.latitude)&&kt(e.geoPointValue.longitude)===kt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return kt(e.integerValue)===kt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=kt(e.doubleValue),r=kt(t.doubleValue);return n===r?Le(n)===Le(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ee(e.arrayValue.values||[],t.arrayValue.values||[],Ut);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ut(n)!==ut(r))return!1;for(const o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!Ut(n[o],r[o])))return!1;return!0}(e,t);default:return P(52216,{left:e})}}function Bt(e,t){return void 0!==(e.values||[]).find(e=>Ut(e,t))}function qt(e,t){if(e===t)return 0;const n=Vt(e),r=Vt(t);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=kt(e.integerValue||e.doubleValue),r=kt(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wt(e.timestampValue,t.timestampValue);case 4:return Wt(Rt(e),Rt(t));case 5:return $(e.stringValue,t.stringValue);case 6:return function(e,t){const n=At(e),r=At(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let o=0;o<n.length&&o<r.length;o++){const e=X(n[o],r[o]);if(0!==e)return e}return X(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=X(kt(e.latitude),kt(t.latitude));return 0!==n?n:X(kt(e.longitude),kt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ht(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,o,i;const s=e.fields||{},a=t.fields||{},l=null===(n=s[zt])||void 0===n?void 0:n.arrayValue,c=null===(r=a[zt])||void 0===r?void 0:r.arrayValue,u=X((null===l||void 0===l||null===(o=l.values)||void 0===o?void 0:o.length)||0,(null===c||void 0===c||null===(i=c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Ht(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Dt.mapValue&&t===Dt.mapValue)return 0;if(e===Dt.mapValue)return 1;if(t===Dt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),o=t.fields||{},i=Object.keys(o);r.sort(),i.sort();for(let s=0;s<r.length&&s<i.length;++s){const e=$(r[s],i[s]);if(0!==e)return e;const t=qt(n[r[s]],o[i[s]]);if(0!==t)return t}return X(r.length,i.length)}(e.mapValue,t.mapValue);default:throw P(23264,{he:n})}}function Wt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return X(e,t);const n=St(e),r=St(t),o=X(n.seconds,r.seconds);return 0!==o?o:X(n.nanos,r.nanos)}function Ht(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const e=qt(n[o],r[o]);if(e)return e}return X(n.length,r.length)}function Kt(e){return Gt(e)}function Gt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=St(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return At(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return se.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Gt(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const o of t)r?r=!1:n+=",",n+="".concat(o,":").concat(Gt(e.fields[o]));return n+"}"}(e.mapValue):P(61005,{value:e})}function Qt(e){switch(Vt(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_t(e);return t?16+Qt(t):16;case 5:return 2*e.stringValue.length;case 6:return At(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Qt(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return dt(e.fields,(e,n)=>{t+=e.length+Qt(n)}),t}(e.mapValue);default:throw P(13486,{value:e})}}function Xt(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function $t(e){return!!e&&"integerValue"in e}function Yt(e){return!!e&&"arrayValue"in e}function Jt(e){return!!e&&"nullValue"in e}function Zt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function en(e){return!!e&&"mapValue"in e}function tn(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Lt])||void 0===t?void 0:t.stringValue)===Ft}function nn(e){if(e.geoPointValue)return{geoPointValue:(0,i.A)({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:(0,i.A)({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return dt(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=nn(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nn(e.arrayValue.values[n]);return t}return(0,i.A)({},e)}function rn(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Mt}class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!en(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nn(t)}setAll(e){let t=ie.emptyPath(),n={},r=[];e.forEach((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=o.popLast()}e?n[o.lastSegment()]=nn(e):r.push(o.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());en(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ut(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];en(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){dt(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new on(nn(this.value))}}function sn(e){const t=[];return dt(e.fields,(e,n)=>{const r=new ie([e]);if(en(n)){const e=sn(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new yt(t)}class an{constructor(e,t,n,r,o,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=i,this.documentState=s}static newInvalidDocument(e){return new an(e,0,be.min(),be.min(),be.min(),on.empty(),0)}static newFoundDocument(e,t,n,r){return new an(e,1,t,be.min(),n,r,0)}static newNoDocument(e,t){return new an(e,2,t,be.min(),be.min(),on.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,be.min(),be.min(),on.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ln{constructor(e,t){this.position=e,this.inclusive=t}}function cn(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const i=t[o],s=e.position[o];if(r=i.field.isKeyField()?se.comparator(se.fromName(s.referenceValue),n.key):qt(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function un(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ut(e.position[n],t.position[n]))return!1;return!0}class dn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function hn(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class pn{}class fn extends pn{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Sn(e,t,n):"array-contains"===t?new Cn(e,n):"in"===t?new In(e,n):"not-in"===t?new Tn(e,n):"array-contains-any"===t?new jn(e,n):new fn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new kn(e,n):new An(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(qt(t,this.value)):null!==t&&Vt(this.value)===Vt(t)&&this.matchesComparison(qt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mn extends pn{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new mn(e,t)}matches(e){return gn(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gn(e){return"and"===e.op}function vn(e){return yn(e)&&gn(e)}function yn(e){for(const t of e.filters)if(t instanceof mn)return!1;return!0}function bn(e){if(e instanceof fn)return e.field.canonicalString()+e.op.toString()+Kt(e.value);if(vn(e))return e.filters.map(e=>bn(e)).join(",");{const t=e.filters.map(e=>bn(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function xn(e,t){return e instanceof fn?function(e,t){return t instanceof fn&&e.op===t.op&&e.field.isEqual(t.field)&&Ut(e.value,t.value)}(e,t):e instanceof mn?function(e,t){return t instanceof mn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&xn(n,t.filters[r]),!0)}(e,t):void P(19439)}function wn(e){return e instanceof fn?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Kt(e.value))}(e):e instanceof mn?function(e){return e.op.toString()+" {"+e.getFilters().map(wn).join(" ,")+"}"}(e):"Filter"}class Sn extends fn{constructor(e,t,n){super(e,t,n),this.key=se.fromName(n.referenceValue)}matches(e){const t=se.comparator(e.key,this.key);return this.matchesComparison(t)}}class kn extends fn{constructor(e,t){super(e,"in",t),this.keys=En("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class An extends fn{constructor(e,t){super(e,"not-in",t),this.keys=En("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function En(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>se.fromName(e.referenceValue))}class Cn extends fn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yt(t)&&Bt(t.arrayValue,this.value)}}class In extends fn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bt(this.value.arrayValue,t)}}class Tn extends fn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Bt(this.value.arrayValue,t)}}class jn extends fn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Bt(this.value.arrayValue,e))}}class _n{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=s,this.Te=null}}function Rn(e){return new _n(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Pn(e){const t=L(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>bn(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Oe(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Kt(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Kt(e)).join(",")),t.Te=e}return t.Te}function Nn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!hn(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!xn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!un(e.startAt,t.startAt)&&un(e.endAt,t.endAt)}function On(e){return se.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ln{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Mn(e,t,n,r,o,i,s,a){return new Ln(e,t,n,r,o,i,s,a)}function Dn(e){return new Ln(e)}function Fn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zn(e){return null!==e.collectionGroup}function Vn(e){const t=L(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new gt(ie.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new dn(r,n))}),e.has(ie.keyField().canonicalString())||t.Ie.push(new dn(ie.keyField(),n))}return t.Ie}function Un(e){const t=L(e);return t.Ee||(t.Ee=Bn(t,Vn(e))),t.Ee}function Bn(e,t){if("F"===e.limitType)return Rn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new dn(e.field,t)});const n=e.endAt?new ln(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ln(e.startAt.position,e.startAt.inclusive):null;return Rn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function qn(e,t){const n=e.filters.concat([t]);return new Ln(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Wn(e,t,n){return new Ln(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hn(e,t){return Nn(Un(e),Un(t))&&e.limitType===t.limitType}function Kn(e){return"".concat(Pn(Un(e)),"|lt:").concat(e.limitType)}function Gn(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>wn(e)).join(", "),"]")),Oe(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Kt(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Kt(e)).join(",")),"Target(".concat(t,")")}(Un(e)),"; limitType=").concat(e.limitType,")")}function Qn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):se.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Vn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=cn(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Vn(e),t))&&!(e.endAt&&!function(e,t,n){const r=cn(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Vn(e),t))}(e,t)}function Xn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function $n(e){return(t,n)=>{let r=!1;for(const o of Vn(e)){const e=Yn(o,t,n);if(0!==e)return e;r=r||o.field.isKeyField()}return 0}}function Yn(e,t,n){const r=e.field.isKeyField()?se.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),o=n.data.field(e);return null!==r&&null!==o?qt(r,o):P(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return P(19790,{direction:e.dir})}}class Jn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){dt(this.inner,(t,n)=>{for(const[r,o]of n)e(r,o)})}isEmpty(){return ht(this.inner)}size(){return this.innerSize}}const Zn=new pt(se.comparator);function er(){return Zn}const tr=new pt(se.comparator);function nr(){let e=tr;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.insert(o.key,o);return e}function rr(e){let t=tr;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function or(){return sr()}function ir(){return sr()}function sr(){return new Jn(e=>e.toString(),(e,t)=>e.isEqual(t))}const ar=new pt(se.comparator),lr=new gt(se.comparator);function cr(){let e=lr;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.add(o);return e}const ur=new gt(X);function dr(){return ur}function hr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Le(t)?"-0":t}}function pr(e){return{integerValue:""+e}}function fr(e,t){return Me(t)?pr(t):hr(e,t)}class mr{constructor(){this._=void 0}}function gr(e,t,n){return e instanceof br?function(e,t){const n={fields:{[Ct]:{stringValue:Et},[Tt]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&jt(t)&&(t=_t(t)),t&&(n.fields[It]=t),{mapValue:n}}(n,t):e instanceof xr?wr(e,t):e instanceof Sr?kr(e,t):function(e,t){const n=yr(e,t),r=Er(n)+Er(e.Ae);return $t(n)&&$t(e.Ae)?pr(r):hr(e.serializer,r)}(e,t)}function vr(e,t,n){return e instanceof xr?wr(e,t):e instanceof Sr?kr(e,t):n}function yr(e,t){return e instanceof Ar?function(e){return $t(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class br extends mr{}class xr extends mr{constructor(e){super(),this.elements=e}}function wr(e,t){const n=Cr(t);for(const r of e.elements)n.some(e=>Ut(e,r))||n.push(r);return{arrayValue:{values:n}}}class Sr extends mr{constructor(e){super(),this.elements=e}}function kr(e,t){let n=Cr(t);for(const r of e.elements)n=n.filter(e=>!Ut(e,r));return{arrayValue:{values:n}}}class Ar extends mr{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Er(e){return kt(e.integerValue||e.doubleValue)}function Cr(e){return Yt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ir{constructor(e,t){this.version=e,this.transformResults=t}}class Tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jr(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class _r{}function Rr(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ur(e.key,Tr.none()):new Mr(e.key,e.data,Tr.none());{const n=e.data,r=on.empty();let o=new gt(ie.comparator);for(let e of t.fields)if(!o.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),o=o.add(e)}return new Dr(e.key,r,new yt(o.toArray()),Tr.none())}}function Pr(e,t,n){e instanceof Mr?function(e,t,n){const r=e.value.clone(),o=zr(e.fieldTransforms,t,n.transformResults);r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Dr?function(e,t,n){if(!jr(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=zr(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(Fr(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Nr(e,t,n,r){return e instanceof Mr?function(e,t,n,r){if(!jr(e.precondition,t))return n;const o=e.value.clone(),i=Vr(e.fieldTransforms,r,t);return o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null}(e,t,n,r):e instanceof Dr?function(e,t,n,r){if(!jr(e.precondition,t))return n;const o=Vr(e.fieldTransforms,r,t),i=t.data;return i.setAll(Fr(e)),i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return jr(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Or(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),o=yr(r.transform,e||null);null!=o&&(null===n&&(n=on.empty()),n.set(r.field,o))}return n||null}function Lr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ee(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof xr&&t instanceof xr||e instanceof Sr&&t instanceof Sr?ee(e.elements,t.elements,Ut):e instanceof Ar&&t instanceof Ar?Ut(e.Ae,t.Ae):e instanceof br&&t instanceof br}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Mr extends _r{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Dr extends _r{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Fr(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function zr(e,t,n){const r=new Map;O(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const i=e[o],s=i.transform,a=t.data.field(i.field);r.set(i.field,vr(s,a,n[o]))}return r}function Vr(e,t,n){const r=new Map;for(const o of e){const e=o.transform,i=n.data.field(o.field);r.set(o.field,gr(e,i,t))}return r}class Ur extends _r{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Br extends _r{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Pr(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Nr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Nr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ir();return this.mutations.forEach(r=>{const o=e.get(r.key),i=o.overlayedDocument;let s=this.applyToLocalView(i,o.mutatedFields);s=t.has(r.key)?null:s;const a=Rr(i,s);null!==a&&n.set(r.key,a),i.isValidDocument()||i.convertToNoDocument(be.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),cr())}isEqual(e){return this.batchId===e.batchId&&ee(this.mutations,e.mutations,(e,t)=>Lr(e,t))&&ee(this.baseMutations,e.baseMutations,(e,t)=>Lr(e,t))}}class Wr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){O(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=ar;const o=e.mutations;for(let i=0;i<o.length;i++)r=r.insert(o[i].key,n[i].version);return new Wr(e,t,n,r)}}class Hr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Kr{constructor(e,t){this.count=e,this.unchangedNames=t}}var Gr,Qr;function Xr(e){switch(e){case M.OK:return P(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return P(15467,{code:e})}}function $r(e){if(void 0===e)return j("GRPC error has no .code"),M.UNKNOWN;switch(e){case Gr.OK:return M.OK;case Gr.CANCELLED:return M.CANCELLED;case Gr.UNKNOWN:return M.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return M.INTERNAL;case Gr.UNAVAILABLE:return M.UNAVAILABLE;case Gr.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Gr.NOT_FOUND:return M.NOT_FOUND;case Gr.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Gr.ABORTED:return M.ABORTED;case Gr.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Gr.DATA_LOSS:return M.DATA_LOSS;default:return P(39323,{code:e})}}(Qr=Gr||(Gr={}))[Qr.OK=0]="OK",Qr[Qr.CANCELLED=1]="CANCELLED",Qr[Qr.UNKNOWN=2]="UNKNOWN",Qr[Qr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qr[Qr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qr[Qr.NOT_FOUND=5]="NOT_FOUND",Qr[Qr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qr[Qr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qr[Qr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qr[Qr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qr[Qr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qr[Qr.ABORTED=10]="ABORTED",Qr[Qr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qr[Qr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qr[Qr.INTERNAL=13]="INTERNAL",Qr[Qr.UNAVAILABLE=14]="UNAVAILABLE",Qr[Qr.DATA_LOSS=15]="DATA_LOSS";let Yr=null;function Jr(){return new TextEncoder}const Zr=new r([4294967295,4294967295],0);function eo(e){const t=Jr().encode(e),n=new o;return n.update(t),new Uint8Array(n.digest())}function to(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),o=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new r([n,o],0),new r([i,s],0)]}class no{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ro("Invalid padding: ".concat(t));if(n<0)throw new ro("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ro("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ro("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=r.fromNumber(this.ge)}ye(e,t,n){let o=e.add(t.multiply(r.fromNumber(n)));return 1===o.compare(Zr)&&(o=new r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=eo(e),[n,r]=to(t);for(let o=0;o<this.hashCount;o++){const e=this.ye(n,r,o);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new no(o,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=eo(e),[n,r]=to(t);for(let o=0;o<this.hashCount;o++){const e=this.ye(n,r,o);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class oo{constructor(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,io.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new oo(be.min(),r,new pt(X),er(),cr())}}class io{constructor(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new io(n,t,cr(),cr(),cr())}}class so{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class ao{constructor(e,t){this.targetId=e,this.Ce=t}}class lo{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xt.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class co{constructor(){this.ve=0,this.Fe=po(),this.Me=xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=cr(),t=cr(),n=cr();return this.Fe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:P(38017,{changeType:o})}}),new io(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=po()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,O(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uo{constructor(e){this.Ge=e,this.ze=new Map,this.je=er(),this.Je=ho(),this.He=ho(),this.Ye=new pt(X)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:P(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(On(i))if(0===n){const e=new se(i.path);this.et(t,e,an.newNoDocument(e,be.min()))}else O(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var o;const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(o=Yr)||void 0===o||o.lt(function(e,t,n,r,o){var i,s,a,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===o,hashCount:null!==(i=null===d||void 0===d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(s=null===d||void 0===d||null===(a=d.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==s?s:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=t;let i,s;try{i=At(n).toUint8Array()}catch(e){if(e instanceof bt)return _("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new no(i,r,o)}catch(e){return _(e instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const o=this.Ge.ht(),i="projects/".concat(o.projectId,"/databases/").concat(o.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const o=this.ot(r);if(o){if(n.current&&On(o.target)){const t=new se(o.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,an.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=cr();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new oo(e,t,this.Ye,this.je,n);return this.je=er(),this.Je=ho(),this.He=ho(),this.Ye=new pt(X),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new co,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new gt(X),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new gt(X),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new co),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ho(){return new pt(se.comparator)}function po(){return new pt(se.comparator)}const fo={asc:"ASCENDING",desc:"DESCENDING"},mo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},go={and:"AND",or:"OR"};class vo{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yo(e,t){return e.useProto3Json||Oe(t)?t:{value:t}}function bo(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function xo(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wo(e,t){return bo(e,t.toTimestamp())}function So(e){return O(!!e,49232),be.fromTimestamp(function(e){const t=St(e);return new ye(t.seconds,t.nanos)}(e))}function ko(e,t){return Ao(e,t).canonicalString()}function Ao(e,t){const n=function(e){return new re(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Eo(e){const t=re.fromString(e);return O(Ho(t),10190,{key:t.toString()}),t}function Co(e,t){return ko(e.databaseId,t.path)}function Io(e,t){const n=Eo(t);if(n.get(1)!==e.databaseId.projectId)throw new D(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new D(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new se(Ro(n))}function To(e,t){return ko(e.databaseId,t)}function jo(e){const t=Eo(e);return 4===t.length?re.emptyPath():Ro(t)}function _o(e){return new re(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ro(e){return O(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Po(e,t,n){return{name:Co(e,t),fields:n.value.mapValue.fields}}function No(e,t){let n;if(t instanceof Mr)n={update:Po(e,t.key,t.value)};else if(t instanceof Ur)n={delete:Co(e,t.key)};else if(t instanceof Dr)n={update:Po(e,t.key,t.data),updateMask:Wo(t.fieldMask)};else{if(!(t instanceof Br))return P(16599,{Vt:t.type});n={verify:Co(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof br)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof xr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Sr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ar)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw P(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wo(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:P(27497)}(e,t.precondition)),n}function Oo(e,t){return{documents:[To(e,t.path)]}}function Lo(e,t){const n={structuredQuery:{}},r=t.path;let o;null!==t.collectionGroup?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=To(e,o);const i=function(e){if(0!==e.length)return qo(mn.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Uo(e.field),direction:Fo(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=yo(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:o}}function Mo(e){let t=jo(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){O(1===r,65062);const e=n.from[0];e.allDescendants?o=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Do(e);return t instanceof mn&&vn(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new dn(Bo(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Oe(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ln(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ln(n,t)}(n.endAt)),Mn(t,o,s,i,a,"F",l,c)}function Do(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Bo(e.unaryFilter.field);return fn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Bo(e.unaryFilter.field);return fn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bo(e.unaryFilter.field);return fn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bo(e.unaryFilter.field);return fn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return P(61313);default:return P(60726)}}(e):void 0!==e.fieldFilter?function(e){return fn.create(Bo(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return P(58110);default:return P(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return mn.create(e.compositeFilter.filters.map(e=>Do(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return P(1026)}}(e.compositeFilter.op))}(e):P(30097,{filter:e})}function Fo(e){return fo[e]}function zo(e){return mo[e]}function Vo(e){return go[e]}function Uo(e){return{fieldPath:e.canonicalString()}}function Bo(e){return ie.fromServerFormat(e.fieldPath)}function qo(e){return e instanceof fn?function(e){if("=="===e.op){if(Zt(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NAN"}};if(Jt(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Zt(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NOT_NAN"}};if(Jt(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(e.field),op:zo(e.op),value:e.value}}}(e):e instanceof mn?function(e){const t=e.getFilters().map(e=>qo(e));return 1===t.length?t[0]:{compositeFilter:{op:Vo(e.op),filters:t}}}(e):P(54877,{filter:e})}function Wo(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ho(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ko{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:be.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:be.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:xt.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Go{constructor(e){this.yt=e}}function Qo(e){const t=Mo({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wn(t,t.limit,"L"):t}class Xo{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(kt(e.integerValue));else if("doubleValue"in e){const n=kt(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Le(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=St(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(At(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?rn(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):tn(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):P(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const o=zt,i=(null===(n=r[o].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(kt(i)),this.Ot(o,t),this.Ct(r[o],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),se.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Xo.Kt=new Xo;class $o{constructor(){this.Cn=new Yo}addToCollectionParentIndex(e,t){return this.Cn.add(t),je.resolve()}getCollectionParents(e,t){return je.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return je.resolve()}deleteFieldIndex(e,t){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,t){return je.resolve()}getDocumentsMatchingTarget(e,t){return je.resolve(null)}getIndexType(e,t){return je.resolve(0)}getFieldIndexes(e,t){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,t){return je.resolve(Ae.min())}getMinOffsetFromCollectionGroup(e,t){return je.resolve(Ae.min())}updateCollectionGroup(e,t,n){return je.resolve()}updateIndexEntries(e,t){return je.resolve()}}class Yo{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new gt(re.comparator),o=!r.has(n);return this.index[t]=r.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new gt(re.comparator)).toArray()}}new Uint8Array(0);const Jo={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zo=41943040;class ei{static withCacheSize(e){return new ei(e,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}ei.DEFAULT_COLLECTION_PERCENTILE=10,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ei.DEFAULT=new ei(Zo,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ei.DISABLED=new ei(-1,0,0);class ti{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ti(0)}static cr(){return new ti(-1)}}const ni="LruGarbageCollector",ri=1048576;function oi(e,t){let[n,r]=e,[o,i]=t;const s=X(n,o);return 0===s?X(r,i):s}class ii{constructor(e){this.Ir=e,this.buffer=new gt(oi),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();oi(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class si{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){T(ni,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Re(e)?T(ni,"Ignoring IndexedDB error during garbage collection: ",e):await Te(e)}await this.Vr(3e5)})}}class ai{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return je.resolve(Pe.ce);const n=new ii(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(Jo)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Jo):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,o,i,s,a,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(T("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(o=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),I()<=l.$b.DEBUG&&T("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-i)+"ms\n"+"\tRemoved ".concat(o," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-a)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),je.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})))}}function li(e,t){return new ai(e,t)}class ci{constructor(){this.changes=new Jn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?je.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ui{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class di{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Nr(n.mutation,e,yt.empty(),ye.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,cr()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cr();const r=or();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=nr();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=or();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,cr()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let o=er();const i=sr(),s=sr();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Dr)?o=o.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),Nr(s.mutation,t,s.mutation.getFieldMask(),ye.now())):i.set(t.key,yt.empty())}),this.recalculateAndSaveOverlays(e,o).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new ui(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=sr();let r=new pt((e,t)=>e-t),o=cr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const o of e)o.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let s=n.get(e)||yt.empty();s=o.applyToLocalView(i,s),n.set(e,s);const a=(r.get(o.batchId)||cr()).add(e);r=r.insert(o.batchId,a)})}).next(()=>{const i=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=ir();l.forEach(e=>{if(!o.has(e)){const r=Rr(t.get(e),n.get(e));null!==r&&c.set(e,r),o=o.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,a,c))}return je.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return se.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(o=>{const i=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):je.resolve(or());let s=xe,a=o;return i.next(t=>je.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),o.get(t)?je.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,o)).next(()=>this.computeViews(e,a,t,cr())).next(e=>({batchId:s,changes:rr(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new se(t)).next(e=>{let t=nr();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const o=t.collectionGroup;let i=nr();return this.indexManager.getCollectionParents(e,o).next(s=>je.forEach(s,s=>{const a=function(e,t){return new Ln(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(o));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,r))).next(e=>{o.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,an.newInvalidDocument(r)))});let n=nr();return e.forEach((e,r)=>{const i=o.get(e);void 0!==i&&Nr(i.mutation,r,yt.empty(),ye.now()),Qn(t,r)&&(n=n.insert(e,r))}),n})}}class hi{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return je.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:So(e.createTime)}}(t)),je.resolve()}getNamedQuery(e,t){return je.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Qo(e.bundledQuery),readTime:So(e.readTime)}}(t)),je.resolve()}}class pi{constructor(){this.overlays=new pt(se.comparator),this.qr=new Map}getOverlay(e,t){return je.resolve(this.overlays.get(t))}getOverlays(e,t){const n=or();return je.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),je.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),je.resolve()}getOverlaysForCollection(e,t,n){const r=or(),o=t.length+1,i=new se(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===o&&e.largestBatchId>n&&r.set(e.getKey(),e)}return je.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let o=new pt((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=o.get(e.largestBatchId);null===t&&(t=or(),o=o.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=or(),a=o.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return je.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Hr(t,n));let o=this.qr.get(t);void 0===o&&(o=cr(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}class fi{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,je.resolve()}}class mi{constructor(){this.Qr=new gt(gi.$r),this.Ur=new gt(gi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new gi(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new gi(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new se(new re([])),n=new gi(t,e),r=new gi(t,e+1),o=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),o.push(e.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new se(new re([])),n=new gi(t,e),r=new gi(t,e+1);let o=cr();return this.Ur.forEachInRange([n,r],e=>{o=o.add(e.key)}),o}containsKey(e){const t=new gi(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class gi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return se.comparator(e.key,t.key)||X(e.Yr,t.Yr)}static Kr(e,t){return X(e.Yr,t.Yr)||se.comparator(e.key,t.key)}}class vi{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new gt(gi.$r)}checkEmpty(e){return je.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new qr(o,t,n,r);this.mutationQueue.push(i);for(const s of r)this.Zr=this.Zr.add(new gi(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return je.resolve(i)}lookupMutationBatch(e,t){return je.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),o=r<0?0:r;return je.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(0===this.mutationQueue.length?Ne:this.tr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new gi(t,0),r=new gi(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);o.push(t)}),je.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new gt(X);return t.forEach(e=>{const t=new gi(e,0),r=new gi(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),je.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let o=n;se.isDocumentKey(o)||(o=o.child(""));const i=new gi(new se(o),0);let s=new gt(X);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},i),je.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){O(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return je.forEach(t.mutations,r=>{const o=new gi(r.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new gi(t,0),r=this.Zr.firstAfterOrEqual(n);return je.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class yi{constructor(e){this.ri=e,this.docs=new pt(se.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),o=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return je.resolve(n?n.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let n=er();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():an.newInvalidDocument(e))}),je.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let o=er();const i=t.path,s=new se(i.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Ee(ke(s),n)<=0||(r.has(s.key)||Qn(t,s))&&(o=o.insert(s.key,s.mutableCopy()))}return je.resolve(o)}getAllFromCollectionGroup(e,t,n,r){P(9500)}ii(e,t){return je.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new bi(this)}getSize(e){return je.resolve(this.size)}}class bi extends ci{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),je.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class xi{constructor(e){this.persistence=e,this.si=new Jn(e=>Pn(e),Nn),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new mi,this.targetCount=0,this.ai=ti.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),je.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ti(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,je.resolve()}updateTargetData(e,t){return this.Pr(t),je.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,t,n){let r=0;const o=[];return this.si.forEach((i,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(i),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),je.waitFor(o).next(()=>r)}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return je.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),je.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(t=>{o.push(r.markPotentiallyOrphaned(e,t))}),je.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),je.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return je.resolve(n)}containsKey(e,t){return je.resolve(this._i.containsKey(t))}}class wi{constructor(e,t){this.ui={},this.overlays={},this.ci=new Pe(0),this.li=!1,this.li=!0,this.hi=new fi,this.referenceDelegate=e(this),this.Pi=new xi(this),this.indexManager=new $o,this.remoteDocumentCache=function(e){return new yi(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Go(t),this.Ii=new hi(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pi,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new vi(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){T("MemoryPersistence","Starting transaction:",e);const r=new Si(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return je.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Si extends Ie{constructor(e){super(),this.currentSequenceNumber=e}}class ki{constructor(e){this.persistence=e,this.Ri=new mi,this.Vi=null}static mi(e){return new ki(e)}get fi(){if(this.Vi)return this.Vi;throw P(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),je.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),je.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),je.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.fi,n=>{const r=se.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,be.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return je.or([()=>je.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ai{constructor(e,t){this.persistence=e,this.pi=new Jn(e=>Fe(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=li(this,t)}static mi(e,t){return new Ai(e,t)}Ei(){}di(e){return je.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return je.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?je.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,o.removeEntry(r,be.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),je.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),je.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qt(e.data.value)),t}br(e,t,n){return je.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return je.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ei{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=cr(),r=cr();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Ei(e,t.fromCache,n,r)}}class Ci{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ii{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(0,c.nr)()?8:_e((0,c.ZQ)())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const o={result:null};return this.ys(e,t).next(e=>{o.result=e}).next(()=>{if(!o.result)return this.ws(e,t,r,n).next(e=>{o.result=e})}).next(()=>{if(o.result)return;const n=new Ci;return this.Ss(e,t,n).next(r=>{if(o.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>o.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(I()<=l.$b.DEBUG&&T("QueryEngine","SDK will not create cache indexes for query:",Gn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),je.resolve()):(I()<=l.$b.DEBUG&&T("QueryEngine","Query:",Gn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(I()<=l.$b.DEBUG&&T("QueryEngine","The SDK decides to create cache indexes for query:",Gn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(t))):je.resolve())}ys(e,t){if(Fn(t))return je.resolve(null);let n=Un(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Wn(t,null,"F"),n=Un(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const o=cr(...r);return this.ps.getDocuments(e,o).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,r);return this.Cs(t,i,o,n.readTime)?this.ys(e,Wn(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,r){return Fn(t)||r.isEqual(be.min())?je.resolve(null):this.ps.getDocuments(e,n).next(o=>{const i=this.Ds(t,o);return this.Cs(t,i,n,r)?je.resolve(null):(I()<=l.$b.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gn(t)),this.vs(e,i,t,Se(r,xe)).next(e=>e))})}Ds(e,t){let n=new gt($n(e));return t.forEach((t,r)=>{Qn(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,t,n){return I()<=l.$b.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",Gn(t)),this.ps.getDocumentsMatchingQuery(e,t,Ae.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Ti="LocalStore",ji=3e8;class _i{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new pt(X),this.xs=new Jn(e=>Pn(e),Nn),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new di(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Ri(e,t,n,r){return new _i(e,t,n,r)}async function Pi(e,t){const n=L(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(o=>(r=o,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const o=[],i=[];let s=cr();for(const e of r){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:o,addedBatchIds:i}))})})}function Ni(e){const t=L(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Oi(e,t,n){let r=cr(),o=cr();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=er();return n.forEach((n,i)=>{const s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(o=o.add(n)),i.isNoDocument()&&i.version.isEqual(be.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):T(Ti,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)}),{ks:r,qs:o}})}function Li(e,t){const n=L(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Ne),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Mi(e,t){const n=L(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(o=>o?(r=o,je.resolve(r)):n.Pi.allocateTargetId(e).next(o=>(r=new Ko(t,o,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Di(e,t,n){const r=L(e),o=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,o))}catch(e){if(!Re(e))throw e;T(Ti,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function Fi(e,t,n){const r=L(e);let o=be.min(),i=cr();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=L(e),o=r.xs.get(n);return void 0!==o?je.resolve(r.Ms.get(o)):r.Pi.getTargetData(t,n)}(r,e,Un(t)).next(t=>{if(t)return o=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?o:be.min(),n?i:cr())).next(e=>(zi(r,Xn(t),e),{documents:e,Qs:i})))}function zi(e,t,n){let r=e.Os.get(t)||be.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Vi{constructor(){this.activeTargetIds=dr()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ui{constructor(){this.Mo=new Vi,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Vi,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bi{Oo(e){}shutdown(){}}const qi="ConnectivityMonitor";class Wi{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){T(qi,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){T(qi,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Hi=null;function Ki(){return null===Hi?Hi=268435456+Math.round(2147483648*Math.random()):Hi++,"0x"+Hi.toString(16)}const Gi="RestConnection",Qi={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xi{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Nt?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,o){const i=Ki(),s=this.zo(e,t.toUriEncodedString());T(Gi,"Sending RPC '".concat(e,"' ").concat(i,":"),s,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,o);const{host:l}=new URL(s),u=(0,c.zJ)(l);return this.Jo(e,s,a,n,u).then(t=>(T(Gi,"Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw _(Gi,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,o,i){return this.Go(e,t,n,r,o)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+E,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Qi[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class $i{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Yi="WebChannelConnection";class Ji extends Xi{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,o){const i=Ki();return new Promise((o,s)=>{const a=new h;a.setWithCredentials(!0),a.listenOnce(f.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case m.NO_ERROR:const n=a.getResponseJson();T(Yi,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(n)),o(n);break;case m.TIMEOUT:T(Yi,"RPC '".concat(e,"' ").concat(i," timed out")),s(new D(M.DEADLINE_EXCEEDED,"Request time out"));break;case m.HTTP_ERROR:const r=a.getStatus();if(T(Yi,"RPC '".concat(e,"' ").concat(i," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(t)>=0?t:M.UNKNOWN}(n.status);s(new D(e,n.message))}else s(new D(M.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new D(M.UNAVAILABLE,"Connection failed."));break;default:P(9055,{l_:e,streamId:i,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{T(Yi,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);T(Yi,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Ki(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=b(),s=y(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=o.join("");T(Yi,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=i.createWebChannel(c,a);this.I_(u);let d=!1,h=!1;const f=new $i({Yo:t=>{h?T(Yi,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(T(Yi,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),T(Yi,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(u,p.EventType.OPEN,()=>{h||(T(Yi,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),m(u,p.EventType.CLOSE,()=>{h||(h=!0,T(Yi,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),m(u,p.EventType.ERROR,t=>{h||(h=!0,_(Yi,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new D(M.UNAVAILABLE,"The operation could not be completed")))}),m(u,p.EventType.MESSAGE,t=>{if(!h){var n;const o=t.data[0];O(!!o,16349);const i=o,s=(null===i||void 0===i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){T(Yi,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Gr[e];if(void 0!==t)return $r(t)}(t),o=s.message;void 0===n&&(n=M.INTERNAL,o="Unknown error status: "+t+" with message "+s.message),h=!0,f.a_(new D(n,o)),u.close()}else T(Yi,"RPC '".concat(e,"' stream ").concat(r," received:"),o),f.u_(o)}}),m(s,v.STAT_EVENT,t=>{t.stat===g.PROXY?T(Yi,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===g.NOPROXY&&T(Yi,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Zi(){return"undefined"!=typeof document?document:null}function es(e){return new vo(e,!0)}class ts{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&T("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ns="PersistentStream";class rs{constructor(e,t,n,r,o,i,s,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ts(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(j(t.toString()),j("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===M.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new D(M.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return T(ns,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(T(ns,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class os extends rs{constructor(e,t,n,r,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:P(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(O(void 0===t||"string"==typeof t,58123),xt.fromBase64String(t||"")):(O(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),xt.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?M.UNKNOWN:$r(e.code);return new D(t,e.message||"")}(s);n=new lo(r,o,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Io(e,r.document.name),i=So(r.document.updateTime),s=r.document.createTime?So(r.document.createTime):be.min(),a=new on({mapValue:{fields:r.document.fields}}),l=an.newFoundDocument(o,i,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new so(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Io(e,r.document),i=r.readTime?So(r.readTime):be.min(),s=an.newNoDocument(o,i),a=r.removedTargetIds||[];n=new so([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Io(e,r.document),i=r.removedTargetIds||[];n=new so([],i,o,null)}else{if(!("filter"in t))return P(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:o}=e,i=new Kr(r,o),s=e.targetId;n=new ao(s,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return be.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?be.min():t.readTime?So(t.readTime):be.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=_o(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=On(r)?{documents:Oo(e,r)}:{query:Lo(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=xo(e,t.resumeToken);const r=yo(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(be.min())>0){n.readTime=bo(e,t.snapshotVersion.toTimestamp());const r=yo(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=_o(this.serializer),t.removeTarget=e,this.q_(t)}}class is extends rs{constructor(e,t,n,r,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return O(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,O(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){O(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(O(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?So(e.updateTime):So(t);return n.isEqual(be.min())&&(n=So(t)),new Ir(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=So(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=_o(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>No(this.serializer,e))};this.q_(t)}}class ss{}class as extends ss{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new D(M.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[i,s]=o;return this.connection.Go(e,Ao(t,n),r,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new D(M.UNKNOWN,e.toString())})}Ho(e,t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Ho(e,Ao(t,n),r,s,a,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new D(M.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class ls{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(j(t),this.aa=!1):T("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const cs="RemoteStore";class us{constructor(e,t,n,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{bs(this)&&(T(cs,"Restarting streams for network reachability change."),await async function(e){const t=L(e);t.Ea.add(4),await hs(t),t.Ra.set("Unknown"),t.Ea.delete(4),await ds(t)}(this))})}),this.Ra=new ls(n,r)}}async function ds(e){if(bs(e))for(const t of e.da)await t(!0)}async function hs(e){for(const t of e.da)await t(!1)}function ps(e,t){const n=L(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),ys(n)?vs(n):Fs(n).O_()&&ms(n,t))}function fs(e,t){const n=L(e),r=Fs(n);n.Ia.delete(t),r.O_()&&gs(n,t),0===n.Ia.size&&(r.O_()?r.L_():bs(n)&&n.Ra.set("Unknown"))}function ms(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(be.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Fs(e).Y_(t)}function gs(e,t){e.Va.Ue(t),Fs(e).Z_(t)}function vs(e){e.Va=new uo({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Fs(e).start(),e.Ra.ua()}function ys(e){return bs(e)&&!Fs(e).x_()&&e.Ia.size>0}function bs(e){return 0===L(e).Ea.size}function xs(e){e.Va=void 0}async function ws(e){e.Ra.set("Online")}async function Ss(e){e.Ia.forEach((t,n)=>{ms(e,t)})}async function ks(e,t){xs(e),ys(e)?(e.Ra.ha(t),vs(e)):e.Ra.set("Unknown")}async function As(e,t,n){if(e.Ra.set("Online"),t instanceof lo&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){T(cs,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Es(e,n)}else if(t instanceof so?e.Va.Ze(t):t instanceof ao?e.Va.st(t):e.Va.tt(t),!n.isEqual(be.min()))try{const t=await Ni(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const o=e.Ia.get(r);o&&e.Ia.set(r,o.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(xt.EMPTY_BYTE_STRING,r.snapshotVersion)),gs(e,t);const o=new Ko(r.target,t,n,r.sequenceNumber);ms(e,o)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){T(cs,"Failed to raise snapshot:",t),await Es(e,t)}}async function Es(e,t,n){if(!Re(t))throw t;e.Ea.add(1),await hs(e),e.Ra.set("Offline"),n||(n=()=>Ni(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{T(cs,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await ds(e)})}function Cs(e,t){return t().catch(n=>Es(e,n,t))}async function Is(e){const t=L(e),n=zs(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ne;for(;Ts(t);)try{const e=await Li(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,js(t,e)}catch(e){await Es(t,e)}_s(t)&&Rs(t)}function Ts(e){return bs(e)&&e.Ta.length<10}function js(e,t){e.Ta.push(t);const n=zs(e);n.O_()&&n.X_&&n.ea(t.mutations)}function _s(e){return bs(e)&&!zs(e).x_()&&e.Ta.length>0}function Rs(e){zs(e).start()}async function Ps(e){zs(e).ra()}async function Ns(e){const t=zs(e);for(const n of e.Ta)t.ea(n.mutations)}async function Os(e,t,n){const r=e.Ta.shift(),o=Wr.from(r,t,n);await Cs(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await Is(e)}async function Ls(e,t){t&&zs(e).X_&&await async function(e,t){if(function(e){return Xr(e)&&e!==M.ABORTED}(t.code)){const n=e.Ta.shift();zs(e).B_(),await Cs(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Is(e)}}(e,t),_s(e)&&Rs(e)}async function Ms(e,t){const n=L(e);n.asyncQueue.verifyOperationInProgress(),T(cs,"RemoteStore received new credentials");const r=bs(n);n.Ea.add(3),await hs(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await ds(n)}async function Ds(e,t){const n=L(e);t?(n.Ea.delete(2),await ds(n)):t||(n.Ea.add(2),await hs(n),n.Ra.set("Unknown"))}function Fs(e){return e.ma||(e.ma=function(e,t,n){const r=L(e);return r.sa(),new os(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:ws.bind(null,e),t_:Ss.bind(null,e),r_:ks.bind(null,e),H_:As.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),ys(e)?vs(e):e.Ra.set("Unknown")):(await e.ma.stop(),xs(e))})),e.ma}function zs(e){return e.fa||(e.fa=function(e,t,n){const r=L(e);return r.sa(),new is(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ps.bind(null,e),r_:Ls.bind(null,e),ta:Ns.bind(null,e),na:Os.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Is(e)):(await e.fa.stop(),e.Ta.length>0&&(T(cs,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Vs{constructor(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new F,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,o){const i=Date.now()+n,s=new Vs(e,t,i,r,o);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Us(e,t){if(j("AsyncQueue","".concat(t,": ").concat(e)),Re(e))return new D(M.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Bs{static emptySet(e){return new Bs(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||se.comparator(t.key,n.key):(e,t)=>se.comparator(e.key,t.key),this.keyedMap=nr(),this.sortedSet=new pt(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bs))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Bs;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class qs{constructor(){this.ga=new pt(se.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):P(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ws{constructor(e,t,n,r,o,i,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,o){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Ws(e,t,Bs.emptySet(t),i,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Hs{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Ks{constructor(){this.queries=Gs(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=L(e),r=n.queries;n.queries=Gs(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new D(M.ABORTED,"Firestore shutting down"))}}function Gs(){return new Jn(e=>Kn(e),Hn)}async function Qs(e,t){const n=L(e);let r=3;const o=t.query;let i=n.queries.get(o);i?!i.ba()&&t.Da()&&(r=2):(i=new Hs,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(o,!0);break;case 1:i.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(e){const n=Us(e,"Initialization of query '".concat(Gn(t.query),"' failed"));return void t.onError(n)}n.queries.set(o,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&Js(n)}async function Xs(e,t){const n=L(e),r=t.query;let o=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?o=t.Da()?0:1:!i.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $s(e,t){const n=L(e);let r=!1;for(const o of t){const e=o.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(o)&&(r=!0);t.wa=o}}r&&Js(n)}function Ys(e,t,n){const r=L(e),o=r.queries.get(t);if(o)for(const i of o.Sa)i.onError(n);r.queries.delete(t)}function Js(e){e.Ca.forEach(e=>{e.next()})}var Zs,ea;(ea=Zs||(Zs={})).Ma="default",ea.Cache="cache";class ta{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ws(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zs.Cache}}class na{constructor(e){this.key=e}}class ra{constructor(e){this.key=e}}class oa{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=cr(),this.mutatedKeys=cr(),this.eu=$n(e),this.tu=new Bs(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new qs,r=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,i=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Qn(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.su(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(s=!0)),p&&(u?(i=i.add(u),o=h?o.add(e):o.delete(e)):(i=i.delete(e),o=o.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),o=o.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:s,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==i.length||l?{snapshot:new Ws(this.query,e.tu,o,i,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qs,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=cr(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new ra(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new na(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=cr();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ws.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const ia="SyncEngine";class sa{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class aa{constructor(e){this.key=e,this.hu=!1}}class la{constructor(e,t,n,r,o,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new Jn(e=>Kn(e),Hn),this.Iu=new Map,this.Eu=new Set,this.du=new pt(se.comparator),this.Au=new Map,this.Ru=new mi,this.Vu={},this.mu=new Map,this.fu=ti.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function ca(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=_a(e);let o;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.lu()):o=await da(r,t,n,!0),o}async function ua(e,t){const n=_a(e);await da(n,t,!0,!1)}async function da(e,t,n,r){const o=await Mi(e.localStore,Un(t)),i=o.targetId,s=e.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await ha(e,t,i,"current"===s,o.resumeToken)),e.isPrimaryClient&&n&&ps(e.remoteStore,o),a}async function ha(e,t,n,r,o){e.pu=(t,n,r)=>async function(e,t,n,r){let o=t.view.ru(n);o.Cs&&(o=await Fi(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,o)}));const i=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(o,e.isPrimaryClient,i,s);return Aa(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const i=await Fi(e.localStore,t,!0),s=new oa(t,i.Qs),a=s.ru(i.documents),l=io.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,o),c=s.applyChanges(a,e.isPrimaryClient,l);Aa(e,n,c.au);const u=new sa(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function pa(e,t,n){const r=L(e),o=r.Tu.get(t),i=r.Iu.get(o.targetId);if(i.length>1)return r.Iu.set(o.targetId,i.filter(e=>!Hn(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Di(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&fs(r.remoteStore,o.targetId),Sa(r,o.targetId)}).catch(Te)):(Sa(r,o.targetId),await Di(r.localStore,o.targetId,!0))}async function fa(e,t){const n=L(e),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&1===o.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fs(n.remoteStore,r.targetId))}async function ma(e,t){const n=L(e);try{const e=await function(e,t){const n=L(e),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const s=[];t.targetChanges.forEach((i,a)=>{const l=o.get(a);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,i.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),o=o.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=ji||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&s.push(n.Pi.updateTargetData(e,c))});let a=er(),l=cr();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Oi(e,i,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(be.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return je.waitFor(s).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=o,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(O(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?O(r.hu,14607):e.removedDocuments.size>0&&(O(r.hu,42227),r.hu=!1))}),await Ia(n,e,t)}catch(e){await Te(e)}}function ga(e,t,n){const r=L(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const o=r.view.va(t);o.snapshot&&e.push(o.snapshot)}),function(e,t){const n=L(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const o of n.Sa)o.va(t)&&(r=!0)}),r&&Js(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function va(e,t,n){const r=L(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),i=o&&o.key;if(i){let e=new pt(se.comparator);e=e.insert(i,an.newNoDocument(i,be.min()));const n=cr().add(i),o=new oo(be.min(),new Map,new pt(X),e,n);await ma(r,o),r.du=r.du.remove(i),r.Au.delete(t),Ca(r)}else await Di(r.localStore,t,!1).then(()=>Sa(r,t,n)).catch(Te)}async function ya(e,t){const n=L(e),r=t.batch.batchId;try{const e=await function(e,t){const n=L(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const o=n.batch,i=o.keys();let s=je.resolve();return i.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);O(null!==i,48541),t.version.compareTo(i)<0&&(o.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,o))}(n,e,t,o).next(()=>o.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=cr();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);wa(n,r,null),xa(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ia(n,e)}catch(e){await Te(e)}}async function ba(e,t,n){const r=L(e);try{const e=await function(e,t){const n=L(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(O(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);wa(r,t,n),xa(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ia(r,e)}catch(n){await Te(n)}}function xa(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function wa(e,t,n){const r=L(e);let o=r.Vu[r.currentUser.toKey()];if(o){const e=o.get(t);e&&(n?e.reject(n):e.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Sa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||ka(e,t)})}function ka(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(fs(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Ca(e))}function Aa(e,t,n){for(const r of n)r instanceof na?(e.Ru.addReference(r.key,t),Ea(e,r)):r instanceof ra?(T(ia,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||ka(e,r.key)):P(19791,{wu:r})}function Ea(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(T(ia,"New document in limbo: "+n),e.Eu.add(r),Ca(e))}function Ca(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new se(re.fromString(t)),r=e.fu.next();e.Au.set(r,new aa(n)),e.du=e.du.insert(n,r),ps(e.remoteStore,new Ko(Un(Dn(n.path)),r,"TargetPurposeLimboResolution",Pe.ce))}}async function Ia(e,t,n){const r=L(e),o=[],i=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{s.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const o=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,o?"current":"not-current")}if(e){o.push(e);const t=Ei.As(a.targetId,e);i.push(t)}}))}),await Promise.all(s),r.Pu.H_(o),await async function(e,t){const n=L(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>je.forEach(t,t=>je.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>je.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Re(e))throw e;T(Ti,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,o=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,o)}}}(r.localStore,i))}async function Ta(e,t){const n=L(e);if(!n.currentUser.isEqual(t)){T(ia,"User change. New user:",t.toKey());const e=await Pi(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new D(M.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ia(n,e.Ls)}}function ja(e,t){const n=L(e),r=n.Au.get(t);if(r&&r.hu)return cr().add(r.key);{let e=cr();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function _a(e){const t=L(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ma.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ja.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=va.bind(null,t),t.Pu.H_=$s.bind(null,t.eventManager),t.Pu.yu=Ys.bind(null,t.eventManager),t}function Ra(e){const t=L(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ya.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ba.bind(null,t),t}class Pa{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=es(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Ri(this.persistence,new Ii,e.initialUser,this.serializer)}Cu(e){return new wi(ki.mi,this.serializer)}Du(e){return new Ui}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pa.provider={build:()=>new Pa};class Na extends Pa{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){O(this.persistence.referenceDelegate instanceof Ai,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new si(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?ei.withCacheSize(this.cacheSizeBytes):ei.DEFAULT;return new wi(e=>Ai.mi(e,t),this.serializer)}}class Oa{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ga(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ta.bind(null,this.syncEngine),await Ds(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ks}createDatastore(e){const t=es(e.databaseInfo.databaseId),n=function(e){return new Ji(e)}(e.databaseInfo);return function(e,t,n,r){return new as(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,o){return new us(e,t,n,r,o)}(this.localStore,this.datastore,e.asyncQueue,e=>ga(this.syncEngine,e,0),Wi.v()?new Wi:new Bi)}createSyncEngine(e,t){return function(e,t,n,r,o,i,s){const a=new la(e,t,n,r,o,i);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=L(e);T(cs,"RemoteStore shutting down."),t.Ea.add(5),await hs(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Oa.provider={build:()=>new Oa};class La{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):j("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Ma="FirestoreClient";class Da{constructor(e,t,n,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=A.UNAUTHENTICATED,this.clientId=Q.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async e=>{T(Ma,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(T(Ma,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new F;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Us(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Fa(e,t){e.asyncQueue.verifyOperationInProgress(),T(Ma,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Pi(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function za(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Va(e);T(Ma,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Ms(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Ms(t.remoteStore,n)),e._onlineComponents=t}async function Va(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){T(Ma,"Using user provided OfflineComponentProvider");try{await Fa(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===M.FAILED_PRECONDITION||e.code===M.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;_("Error using user provided cache. Falling back to memory cache: "+n),await Fa(e,new Pa)}}else T(Ma,"Using default OfflineComponentProvider"),await Fa(e,new Na(void 0));return e._offlineComponents}async function Ua(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(T(Ma,"Using user provided OnlineComponentProvider"),await za(e,e._uninitializedComponentsProvider._online)):(T(Ma,"Using default OnlineComponentProvider"),await za(e,new Oa))),e._onlineComponents}function Ba(e){return Ua(e).then(e=>e.syncEngine)}async function qa(e){const t=await Ua(e),n=t.eventManager;return n.onListen=ca.bind(null,t.syncEngine),n.onUnlisten=pa.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ua.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=fa.bind(null,t.syncEngine),n}function Wa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new F;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,o){const i=new La({next:a=>{i.Nu(),t.enqueueAndForget(()=>Xs(e,s));const l=a.docs.has(n);!l&&a.fromCache?o.reject(new D(M.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?o.reject(new D(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(a)},error:e=>o.reject(e)}),s=new ta(Dn(n.path),i,{includeMetadataChanges:!0,qa:!0});return Qs(e,s)}(await qa(e),e.asyncQueue,t,n,r)),r.promise}function Ha(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new F;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,o){const i=new La({next:n=>{i.Nu(),t.enqueueAndForget(()=>Xs(e,s)),n.fromCache&&"server"===r.source?o.reject(new D(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:e=>o.reject(e)}),s=new ta(n,i,{includeMetadataChanges:!0,qa:!0});return Qs(e,s)}(await qa(e),e.asyncQueue,t,n,r)),r.promise}function Ka(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ga=new Map,Qa="firestore.googleapis.com",Xa=!0;class $a{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qa,this.ssl=Xa}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Xa;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Zo;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<ri)throw new D(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new D(M.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ka(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new D(M.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new D(M.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new D(M.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ya{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $a({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new D(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $a(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new V;switch(e.type){case"firstParty":return new W(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new D(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ga.get(e);t&&(T("ComponentProvider","Removing Datastore"),Ga.delete(e),t.terminate())}(this),Promise.resolve()}}class Ja{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ja(this.firestore,e,this._query)}}class Za{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new el(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Za(this.firestore,e,this._key)}toJSON(){return{type:Za._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(me(t,Za._jsonSchema))return new Za(e,n||null,new se(re.fromString(t.referencePath)))}}Za._jsonSchemaVersion="firestore/documentReference/1.0",Za._jsonSchema={type:fe("string",Za._jsonSchemaVersion),referencePath:fe("string")};class el extends Ja{constructor(e,t,n){super(e,t,Dn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Za(this.firestore,null,new se(e))}withConverter(e){return new el(this.firestore,e,this._path)}}function tl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=(0,c.Ku)(e),ae("collection","path",t),e instanceof Ya){const n=re.fromString(t,...r);return ce(n),new el(e,null,n)}{if(!(e instanceof Za||e instanceof el))throw new D(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(re.fromString(t,...r));return ce(n),new el(e.firestore,null,n)}}function nl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=(0,c.Ku)(e),1===arguments.length&&(t=Q.newId()),ae("doc","path",t),e instanceof Ya){const n=re.fromString(t,...r);return le(n),new Za(e,null,new se(n))}{if(!(e instanceof Za||e instanceof el))throw new D(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(re.fromString(t,...r));return le(n),new Za(e.firestore,e instanceof el?e.converter:null,new se(n))}}const rl="AsyncQueue";class ol{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ts(this,"async_queue_retry"),this._c=()=>{const e=Zi();e&&T(rl,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Zi();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Zi();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new F;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Re(e))throw e;T(rl,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,j("INTERNAL UNHANDLED ERROR: ",il(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Vs.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&P(47125,{Pc:il(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function il(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class sl extends Ya{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ol,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ol(e),this._firestoreClient=void 0,await e}}}function al(e,t){const n="object"==typeof e?e:(0,s.Sx)(),r="string"==typeof e?e:t||Nt,o=(0,s.j6)(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const e=(0,c.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=he(e,Ya);const o=(0,c.zJ)(t),s=e._getSettings(),a=(0,i.A)((0,i.A)({},s),{},{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);o&&((0,c.gE)("https://".concat(l)),(0,c.P1)("Firestore",!0)),s.host!==Qa&&s.host!==l&&_("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=(0,i.A)((0,i.A)({},s),{},{host:l,ssl:o,emulatorOptions:r});if(!(0,c.bD)(u,a)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=A.MOCK_USER;else{var d;t=(0,c.Fy)(r.mockUserToken,null===(d=e._app)||void 0===d?void 0:d.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new D(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new A(o)}e._authCredentials=new U(new z(t,n))}}(o,...e)}return o}function ll(e){if(e._terminated)throw new D(M.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||cl(e),e._firestoreClient}function cl(e){var t,n,r;const o=e._freezeSettings(),i=function(e,t,n,r){return new Pt(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ka(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||null!==(n=o.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=o.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new Da(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ul(xt.fromBase64String(e))}catch(e){throw new D(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ul(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ul._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(me(e,ul._jsonSchema))return ul.fromBase64String(e.bytes)}}ul._jsonSchemaVersion="firestore/bytes/1.0",ul._jsonSchema={type:fe("string",ul._jsonSchemaVersion),bytes:fe("string")};class dl{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new D(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ie(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hl{constructor(e){this._methodName=e}}class pl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new D(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new D(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pl._jsonSchemaVersion}}static fromJSON(e){if(me(e,pl._jsonSchema))return new pl(e.latitude,e.longitude)}}pl._jsonSchemaVersion="firestore/geoPoint/1.0",pl._jsonSchema={type:fe("string",pl._jsonSchemaVersion),latitude:fe("number"),longitude:fe("number")};class fl{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(me(e,fl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new fl(e.vectorValues);throw new D(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fl._jsonSchemaVersion="firestore/vectorValue/1.0",fl._jsonSchema={type:fe("string",fl._jsonSchemaVersion),vectorValues:fe("object")};const ml=/^__.*__$/;class gl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Dr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mr(e,this.data,t,this.fieldTransforms)}}class vl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Dr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P(40011,{Ac:e})}}class bl{constructor(e,t,n,r,o,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bl((0,i.A)((0,i.A)({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ol(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(yl(this.Ac)&&ml.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xl{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||es(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new bl({Ac:e,methodName:t,Dc:n,path:ie.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wl(e){const t=e._freezeSettings(),n=es(e._databaseId);return new xl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sl(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(i.merge||i.mergeFields?2:0,t,n,o);_l("Data must be an object, but it was:",s,r);const a=Tl(r,s);let l,c;if(i.merge)l=new yt(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const o=Rl(t,r,n);if(!s.contains(o))throw new D(M.INVALID_ARGUMENT,"Field '".concat(o,"' is specified in your field mask but missing from your input data."));Ll(e,o)||e.push(o)}l=new yt(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new gl(new on(a),l,c)}class kl extends hl{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kl}}function Al(e,t,n,r){const o=e.Cc(1,t,n);_l("Data must be an object, but it was:",o,r);const i=[],s=on.empty();dt(r,(e,r)=>{const a=Nl(t,e,n);r=(0,c.Ku)(r);const l=o.yc(a);if(r instanceof kl)i.push(a);else{const e=Il(r,l);null!=e&&(i.push(a),s.set(a,e))}});const a=new yt(i);return new vl(s,a,o.fieldTransforms)}function El(e,t,n,r,o,i){const s=e.Cc(1,t,n),a=[Rl(t,r,n)],l=[o];if(i.length%2!=0)throw new D(M.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let c=0;c<i.length;c+=2)a.push(Rl(t,i[c])),l.push(i[c+1]);const u=[],d=on.empty();for(let p=a.length-1;p>=0;--p)if(!Ll(u,a[p])){const e=a[p];let t=l[p];t=(0,c.Ku)(t);const n=s.yc(e);if(t instanceof kl)u.push(e);else{const r=Il(t,n);null!=r&&(u.push(e),d.set(e,r))}}const h=new yt(u);return new vl(d,h,s.fieldTransforms)}function Cl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Il(n,e.Cc(r?4:3,t))}function Il(e,t){if(jl(e=(0,c.Ku)(e)))return _l("Unsupported field value:",t,e),Tl(e,t);if(e instanceof hl)return function(e,t){if(!yl(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const o of e){let e=Il(o,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,c.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ye.fromDate(e);return{timestampValue:bo(t.serializer,n)}}if(e instanceof ye){const n=new ye(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:bo(t.serializer,n)}}if(e instanceof pl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ul)return{bytesValue:xo(t.serializer,e._byteString)};if(e instanceof Za){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ko(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof fl)return function(e,t){return{mapValue:{fields:{[Lt]:{stringValue:Ft},[zt]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return hr(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(de(e)))}(e,t)}function Tl(e,t){const n={};return ht(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dt(e,(e,r)=>{const o=Il(r,t.mc(e));null!=o&&(n[e]=o)}),{mapValue:{fields:n}}}function jl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ye||e instanceof pl||e instanceof ul||e instanceof Za||e instanceof hl||e instanceof fl)}function _l(e,t,n){if(!jl(n)||!ue(n)){const r=de(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Rl(e,t,n){if((t=(0,c.Ku)(t))instanceof dl)return t._internalPath;if("string"==typeof t)return Nl(e,t);throw Ol("Field path arguments must be of type string or ",e,!1,void 0,n)}const Pl=new RegExp("[~\\*/\\[\\]]");function Nl(e,t,n){if(t.search(Pl)>=0)throw Ol("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new dl(...t.split("."))._internalPath}catch(r){throw Ol("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ol(e,t,n,r,o){const i=r&&!r.isEmpty(),s=void 0!==o;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(o)),l+=")"),new D(M.INVALID_ARGUMENT,a+e+l)}function Ll(e,t){return e.some(e=>e.isEqual(t))}class Ml{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Za(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Dl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Dl extends Ml{data(){return super.data()}}function Fl(e,t){return"string"==typeof t?Nl(e,t):t instanceof dl?t._internalPath:t._delegate._internalPath}function zl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new D(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vl{}class Ul extends Vl{}function Bl(e,t){let n=[];for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t instanceof Vl&&n.push(t),n=n.concat(o),function(e){const t=e.filter(e=>e instanceof Hl).length,n=e.filter(e=>e instanceof ql).length;if(t>1||t>0&&n>0)throw new D(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class ql extends Ul{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ql(e,t,n)}_apply(e){const t=this._parse(e);return Jl(e._query,t),new Ja(e.firestore,e.converter,qn(e._query,t))}_parse(e){const t=wl(e.firestore),n=function(e,t,n,r,o,i,s){let a;if(o.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new D(M.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){Yl(s,i);const t=[];for(const n of s)t.push($l(r,e,n));a={arrayValue:{values:t}}}else a=$l(r,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Yl(s,i),a=Cl(n,t,s,"in"===i||"not-in"===i);return fn.create(o,i,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Wl(e,t,n){const r=t,o=Fl("where",e);return ql._create(o,r,n)}class Hl extends Vl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hl(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:mn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const o of r)Jl(n,o),n=qn(n,o)}(e._query,t),new Ja(e.firestore,e.converter,qn(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Kl extends Ul{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Kl(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new D(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new D(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dn(t,n)}(e._query,this._field,this._direction);return new Ja(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ln(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Gl(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Fl("orderBy",e);return Kl._create(n,t)}class Ql extends Ul{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Ql(e,t,n)}_apply(e){return new Ja(e.firestore,e.converter,Wn(e._query,this._limit,this._limitType))}}function Xl(e){return pe("limit",e),Ql._create("limit",e,"F")}function $l(e,t,n){if("string"==typeof(n=(0,c.Ku)(n))){if(""===n)throw new D(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zn(t)&&-1!==n.indexOf("/"))throw new D(M.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(re.fromString(n));if(!se.isDocumentKey(r))throw new D(M.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Xt(e,new se(r))}if(n instanceof Za)return Xt(e,n._key);throw new D(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(de(n),"."))}function Yl(e,t){if(!Array.isArray(e)||0===e.length)throw new D(M.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Jl(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new D(M.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new D(M.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Zl{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Vt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(At(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw P(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return dt(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[zt].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>kt(e.doubleValue));return new fl(n)}convertGeoPoint(e){return new pl(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=_t(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Rt(e));default:return null}}convertTimestamp(e){const t=St(e);return new ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=re.fromString(e);O(Ho(n),9688,{name:e});const r=new Ot(n.get(1),n.get(3)),o=new se(n.popFirst(5));return r.isEqual(t)||j("Document ".concat(o," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),o}}function ec(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class tc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nc extends Ml{constructor(e,t,n,r,o,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Fl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new D(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=nc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}nc._jsonSchemaVersion="firestore/documentSnapshot/1.0",nc._jsonSchema={type:fe("string",nc._jsonSchemaVersion),bundleSource:fe("string","DocumentSnapshot"),bundleName:fe("string"),bundle:fe("string")};class rc extends nc{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class oc{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new tc(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new rc(this._firestore,this._userDataWriter,n.key,n,new tc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new D(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new rc(e._firestore,e._userDataWriter,n.doc.key,n.doc,new tc(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new rc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new tc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let o=-1,i=-1;return 0!==t.type&&(o=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:ic(t.type),doc:r,oldIndex:o,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new D(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Q.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ic(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P(61501,{type:e})}}function sc(e){e=he(e,Za);const t=he(e.firestore,sl);return Wa(ll(t),e._key).then(n=>hc(t,e,n))}oc._jsonSchemaVersion="firestore/querySnapshot/1.0",oc._jsonSchema={type:fe("string",oc._jsonSchemaVersion),bundleSource:fe("string","QuerySnapshot"),bundleName:fe("string"),bundle:fe("string")};class ac extends Zl{constructor(e){super(),this.firestore=e}convertBytes(e){return new ul(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Za(this.firestore,null,t)}}function lc(e){e=he(e,Ja);const t=he(e.firestore,sl),n=ll(t),r=new ac(t);return zl(e._query),Ha(n,e._query).then(n=>new oc(t,r,e,n))}function cc(e,t,n){e=he(e,Za);const r=he(e.firestore,sl),o=ec(e.converter,t,n);return dc(r,[Sl(wl(r),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,Tr.none())])}function uc(e,t,n){e=he(e,Za);const r=he(e.firestore,sl),o=wl(r);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return i="string"==typeof(t=(0,c.Ku)(t))||t instanceof dl?El(o,"updateDoc",e._key,t,n,a):Al(o,"updateDoc",e._key,t),dc(r,[i.toMutation(e._key,Tr.exists(!0))])}function dc(e,t){return function(e,t){const n=new F;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Ra(e);try{const e=await function(e,t){const n=L(e),r=ye.now(),o=t.reduce((e,t)=>e.add(t.key),cr());let i,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=er(),l=cr();return n.Ns.getEntries(e,o).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(o=>{i=o;const s=[];for(const e of t){const t=Or(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new Dr(e.key,t,sn(t.value.mapValue),Tr.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:rr(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new pt(X)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ia(r,e.changes),await Is(r.remoteStore)}catch(e){const t=Us(e,"Failed to persist write");n.reject(t)}}(await Ba(e),t,n)),n.promise}(ll(e),t)}function hc(e,t,n){const r=n.docs.get(t._key),o=new ac(e);return new nc(e,o,t._key,r,new tc(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){E=e}(s.MF),(0,s.om)(new a.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:o}=n;const s=e.getProvider("app").getImmediate(),a=new sl(new B(e.getProvider("auth-internal")),new K(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new D(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ot(e.options.projectId,t)}(s,r),s);return o=(0,i.A)({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,s.KO)(S,k,e),(0,s.KO)(S,k,"esm2020")}()},7064:(e,t,n)=>{"use strict";n.d(t,{Wp:()=>r.Wp});var r=n(1150);(0,r.KO)("firebase","12.5.0","app")},7162:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>i});var r=n(7598),o=n(9751);function i(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=n)return n}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function s(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||o:i(e,n)||o,t&&(r=t(r,o,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=i(e.theme,a)||{};return(0,o.NI)(e,c,e=>{let o=s(u,l,e);return e===o&&"string"===typeof e&&(o=s(u,l,"".concat(t).concat("default"===e?"":(0,r.A)(e)),e)),!1===n?o:{[n]:o}})};return c.propTypes={},c.filterProps=[t],c}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,N(S);else{var t=r(u);null!==t&&O(w,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(C),C=-1),f=!0;var i=p;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!j());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&o(c),x(n)}else o(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(w,d.startTime-n),l=!1}return l}finally{h=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,A=!1,E=null,C=-1,I=5,T=-1;function j(){return!(t.unstable_now()-T<I)}function _(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?k():(A=!1,E=null)}}else A=!1}if("function"===typeof b)k=function(){b(_)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=_,k=function(){P.postMessage(null)}}else k=function(){v(_,0)};function N(e){E=e,A||(A=!0,k())}function O(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,O(w,i-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,N(S))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7266:(e,t,n)=>{"use strict";var r=n(4994);t.X4=p,t.e$=f,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var o=r(n(457)),i=r(n(6531));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,i.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", "),")"):""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,o.default)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,o.default)(10,r))}else i=i.split(",");return i=i.map(e=>parseFloat(e)),{type:n,values:i,colorSpace:r}}const c=e=>{const t=l(e);return t.values.slice(0,3).map((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?"".concat(e,"%"):e).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),u({type:a,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,u(e)}function f(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?f(e,t):m(e,t)}},7598:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7868);function o(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7758:(e,t,n)=>{"use strict";n.d(t,{A:()=>O});var r=n(8604),o=n(7162),i=n(3815);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>(t.filterProps.forEach(n=>{e[n]=t}),e),{}),o=e=>Object.keys(e).reduce((t,n)=>r[n]?(0,i.A)(t,r[n](e)):t,{});return o.propTypes={},o.filterProps=t.reduce((e,t)=>e.concat(t.filterProps),[]),o};var a=n(9751);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function c(e,t){return(0,o.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),p=c("borderBottom",l),f=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),b=c("borderLeftColor"),x=c("outline",l),w=c("outlineColor"),S=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};S.propTypes={},S.filterProps=["borderRadius"];s(u,d,h,p,f,m,g,v,y,b,S,x,w);const k=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};k.propTypes={},k.filterProps=["gap"];const A=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};A.propTypes={},A.filterProps=["columnGap"];const E=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};E.propTypes={},E.filterProps=["rowGap"];s(k,A,E,(0,o.Ay)({prop:"gridColumn"}),(0,o.Ay)({prop:"gridRow"}),(0,o.Ay)({prop:"gridAutoFlow"}),(0,o.Ay)({prop:"gridAutoColumns"}),(0,o.Ay)({prop:"gridAutoRows"}),(0,o.Ay)({prop:"gridTemplateColumns"}),(0,o.Ay)({prop:"gridTemplateRows"}),(0,o.Ay)({prop:"gridTemplateAreas"}),(0,o.Ay)({prop:"gridArea"}));function C(e,t){return"grey"===t?t:e}s((0,o.Ay)({prop:"color",themeKey:"palette",transform:C}),(0,o.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:C}),(0,o.Ay)({prop:"backgroundColor",themeKey:"palette",transform:C}));function I(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const T=(0,o.Ay)({prop:"width",transform:I}),j=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return o?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(o).concat(e.theme.breakpoints.unit)}:{maxWidth:o}:{maxWidth:I(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};j.filterProps=["maxWidth"];const _=(0,o.Ay)({prop:"minWidth",transform:I}),R=(0,o.Ay)({prop:"height",transform:I}),P=(0,o.Ay)({prop:"maxHeight",transform:I}),N=(0,o.Ay)({prop:"minHeight",transform:I}),O=((0,o.Ay)({prop:"size",cssProperty:"width",transform:I}),(0,o.Ay)({prop:"size",cssProperty:"height",transform:I}),s(T,j,_,R,P,N,(0,o.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:C},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:C},backgroundColor:{themeKey:"palette",transform:C},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:k},rowGap:{style:E},columnGap:{style:A},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:I},maxWidth:{style:j},minWidth:{transform:I},height:{transform:I},maxHeight:{transform:I},minHeight:{transform:I},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},7868:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},7918:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7598)},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8052:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=g,rootShouldForwardProp:r=f,slotShouldForwardProp:l=f}=e,u=e=>(0,c.default)((0,o.default)({},e,{theme:y((0,o.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));const{name:d,slot:p,skipVariantsResolver:m,skipSx:g,overridesResolver:w=b(v(p))}=c,S=(0,i.default)(c,h),k=d&&d.startsWith("Mui")||p?"components":"custom",A=void 0!==m?m:p&&"Root"!==p&&"root"!==p||!1,E=g||!1;let C=f;"Root"===p||"root"===p?C=r:p?C=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(C=void 0);const I=(0,s.default)(e,(0,o.default)({shouldForwardProp:C,label:undefined},S)),T=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>{const i=y({theme:r.theme,defaultTheme:n,themeId:t});return x(e,(0,o.default)({},r,{theme:i}),i.modularCssLayers?k:void 0)}:e,j=function(r){let i=T(r);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=a?a.map(T):[];d&&w&&c.push(e=>{const r=y((0,o.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const i=r.components[d].styleOverrides,s={};return Object.entries(i).forEach(t=>{let[n,i]=t;s[n]=x(i,(0,o.default)({},e,{theme:r}),r.modularCssLayers?"theme":void 0)}),w(e,s)}),d&&!A&&c.push(e=>{var r;const i=y((0,o.default)({},e,{defaultTheme:n,themeId:t}));return x({variants:null==i||null==(r=i.components)||null==(r=r[d])?void 0:r.variants},(0,o.default)({},e,{theme:i}),i.modularCssLayers?"theme":void 0)}),E||c.push(u);const h=c.length-a.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const p=I(i,...c);return e.muiName&&(p.muiName=e.muiName),p};return I.withConfig&&(j.withConfig=I.withConfig),j}};var o=r(n(4634)),i=r(n(4893)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(3174)),a=n(9482),l=(r(n(7918)),r(n(3382)),r(n(4989))),c=r(n(3234));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function m(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}const g=(0,l.default)(),v=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function y(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function b(e){return e?(t,n)=>n[e]:null}function x(e,t,n){let{ownerState:r}=t,a=(0,i.default)(t,u);const l="function"===typeof e?e((0,o.default)({ownerState:r},a)):e;if(Array.isArray(l))return l.flatMap(e=>x(e,(0,o.default)({ownerState:r},a),n));if(l&&"object"===typeof l&&Array.isArray(l.variants)){const{variants:e=[]}=l;let t=(0,i.default)(l,d);return e.forEach(e=>{let i=!0;if("function"===typeof e.props?i=e.props((0,o.default)({ownerState:r},a,r)):Object.keys(e.props).forEach(t=>{(null==r?void 0:r[t])!==e.props[t]&&a[t]!==e.props[t]&&(i=!1)}),i){Array.isArray(t)||(t=[t]);const i="function"===typeof e.style?e.style((0,o.default)({ownerState:r},a,r)):e.style;t.push(n?m((0,s.internal_serializeStyles)(i),n):i)}}),t}return n?m((0,s.internal_serializeStyles)(l),n):l}},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8280:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(8168),o=n(8587),i=n(9172),s=n(4853);const a={borderRadius:4};var l=n(8604);var c=n(8812),u=n(7758),d=n(9703);const h=["breakpoints","palette","spacing","shape"];const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:p,shape:f={}}=e,m=(0,o.A)(e,h),g=(0,s.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map(e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return n.mui=!0,n}(p);let y=(0,i.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:v,shape:(0,r.A)({},a,f)},m);y.applyStyles=d.A;for(var b=arguments.length,x=new Array(b>1?b-1:0),w=1;w<b;w++)x[w-1]=arguments[w];return y=x.reduce((e,t)=>(0,i.A)(e,t),y),y.unstable_sxConfig=(0,r.A)({},u.A,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},y}},8557:(e,t,n)=>{"use strict";n.d(t,{HF:()=>rt,eJ:()=>yt,xI:()=>Gn,hg:()=>St,gA:()=>xt,J1:()=>vt,x9:()=>bt,df:()=>ln,CI:()=>kt,r7:()=>wt});var r=n(8587);function o(e,t){if(null==e)return{};var n,o,i=(0,r.A)(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var i=n(2555),s=n(1150),a=n(1776),l=n(2965),c=n(9606);const u=["providerId"],d=["uid","auth","stsTokenManager"],h=["providerId","signInMethod"];function p(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f=p,m=new a.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),g=new l.Vy("@firebase/auth");function v(e){if(g.logLevel<=l.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];g.error("Auth (".concat(s.MF,"): ").concat(e),...n)}}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw k(e,...n)}function b(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return k(e,...n)}function x(e,t,n){const r=(0,i.A)((0,i.A)({},f()),{},{[t]:n});return new a.FA("auth","Firebase",r).create(t,{appName:e.name})}function w(e){return x(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&y(e,"argument-error"),x(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return m.create(e,...n)}function A(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];throw k(t,...r)}}function E(e){const t="INTERNAL ASSERTION FAILED: "+e;throw v(t),new Error(t)}function C(e,t){e||E(t)}function I(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function T(){return"http:"===j()||"https:"===j()}function j(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class _{constructor(e,t){this.shortDelay=e,this.longDelay=t,C(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,a.jZ)()||(0,a.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(T()||(0,a.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function R(e,t){C(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class P{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void E("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void E("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void E("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},O=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L=new _(3e4,6e4);function M(e,t){return e.tenantId&&!t.tenantId?(0,i.A)((0,i.A)({},t),{},{tenantId:e.tenantId}):t}async function D(e,t,n,r){return F(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const l=(0,a.Am)((0,i.A)({key:e.config.apiKey},s)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u=(0,i.A)({method:t,headers:c},o);return(0,a.c1)()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(u.credentials="include"),P.fetch()(await V(e,e.config.apiHost,n,l),u)})}async function F(e,t,n){e._canInitEmulator=!1;const r=(0,i.A)((0,i.A)({},N),t);try{const t=new B(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw q(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const t=o.ok?i.errorMessage:i.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw q(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw q(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw q(e,"user-disabled",i);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw x(e,a,s);y(e,a)}}catch(o){if(o instanceof a.g)throw o;y(e,"network-request-failed",{message:String(o)})}}async function z(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await D(e,t,n,r,o);return"mfaPendingCredential"in i&&y(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function V(e,t,n,r){const o="".concat(t).concat(n,"?").concat(r),i=e,s=i.config.emulator?R(e.config,o):"".concat(e.config.apiScheme,"://").concat(o);if(O.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(s).toString()}return s}function U(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(b(this.auth,"network-request-failed")),L.get())})}}function q(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=b(e,t,r);return o.customData._tokenResponse=n,o}function W(e){return void 0!==e&&void 0!==e.enterprise}class H{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return U(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function K(e,t){return D(e,"GET","/v2/recaptchaConfig",M(e,t))}async function G(e,t){return D(e,"POST","/v1/accounts:lookup",t)}function Q(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function X(e){return 1e3*Number(e)}function $(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return v("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,a.u)(n);return e?JSON.parse(e):(v("Failed to decode base64 JWT payload"),null)}catch(o){return v("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Y(e){const t=$(e);return A(t,"internal-error"),A("undefined"!==typeof t.exp,"internal-error"),A("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function J(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof a.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Z{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ee{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Q(this.lastLoginAt),this.creationTime=Q(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function te(e){var t;const n=e.auth,r=await e.getIdToken(),o=await J(e,G(n,{idToken:r}));A(null===o||void 0===o?void 0:o.users.length,n,"internal-error");const i=o.users[0];e._notifyReloadListener(i);const s=null!==(t=i.providerUserInfo)&&void 0!==t&&t.length?ne(i.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null!==a&&void 0!==a&&a.length),h=!!u&&d,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ee(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function ne(e){return e.map(e=>{let{providerId:t}=e,n=o(e,u);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class re{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A("undefined"!==typeof e.idToken,"internal-error"),A("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Y(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){A(0!==e.length,"internal-error");const t=Y(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(A(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await F(e,{},async()=>{const n=(0,a.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,i=await V(e,r,"/v1/token","key=".concat(o)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:n};return e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),P.fetch()(i,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,i=new re;return n&&(A("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(A("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),o&&(A("number"===typeof o,"internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new re,this.toJSON())}_performRefresh(){return E("not implemented")}}function oe(e,t){A("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ie{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=o(e,d);this.providerId="firebase",this.proactiveRefresh=new Z(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ee(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await J(this,this.stsTokenManager.getToken(this.auth,e));return A(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,a.Ku)(e),r=await n.getIdToken(t),o=$(r);A(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"===typeof o.firebase?o.firebase:void 0,s=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:Q(X(o.auth_time)),issuedAtTime:Q(X(o.iat)),expirationTime:Q(X(o.exp)),signInProvider:s||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,a.Ku)(e);await te(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>(0,i.A)({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ie((0,i.A)((0,i.A)({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await te(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,s.xZ)(this.auth.app))return Promise.reject(w(this.auth));const e=await this.getIdToken();return await J(this,async function(e,t){return D(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return(0,i.A)((0,i.A)({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>(0,i.A)({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,o,s,a,l,c,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,p=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:x,isAnonymous:w,providerData:S,stsTokenManager:k}=t;A(b&&k,e,"internal-error");const E=re.fromJSON(this.name,k);A("string"===typeof b,e,"internal-error"),oe(d,e.name),oe(h,e.name),A("boolean"===typeof x,e,"internal-error"),A("boolean"===typeof w,e,"internal-error"),oe(p,e.name),oe(f,e.name),oe(m,e.name),oe(g,e.name),oe(v,e.name),oe(y,e.name);const C=new ie({uid:b,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:w,photoURL:f,phoneNumber:p,tenantId:m,stsTokenManager:E,createdAt:v,lastLoginAt:y});return S&&Array.isArray(S)&&(C.providerData=S.map(e=>(0,i.A)({},e))),g&&(C._redirectEventId=g),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new re;r.updateFromServerResponse(t);const o=new ie({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await te(o),o}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];A(void 0!==r.localId,"internal-error");const o=void 0!==r.providerUserInfo?ne(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null!==o&&void 0!==o&&o.length),s=new re;s.updateFromIdToken(n);const a=new ie({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new ee(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==o&&void 0!==o&&o.length)};return Object.assign(a,l),a}}const se=new Map;function ae(e){C(e instanceof Function,"Expected a class definition");let t=se.get(e);return t?(C(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,se.set(e,t),t)}class le{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}le.type="NONE";const ce=le;function ue(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class de{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=ue(this.userKey,r.apiKey,o),this.fullPersistenceKey=ue("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await G(this.auth,{idToken:e}).catch(()=>{});return t?ie._fromGetAccountInfoResponse(this.auth,t,e):null}return ie._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new de(ae(ce),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let o=r[0]||ae(ce);const i=ue(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const r=await G(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ie._fromGetAccountInfoResponse(e,r,t)}else n=ie._fromJSON(e,t);c!==o&&(s=n),o=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return o._shouldAllowMigration&&a.length?(o=a[0],s&&await o._set(i,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==o)try{await e._remove(i)}catch(t){}})),new de(o,e,n)):new de(o,e,n)}}function he(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ge(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ye(t))return"Blackberry";if(be(t))return"Webos";if(fe(t))return"Safari";if((t.includes("chrome/")||me(t))&&!t.includes("edge/"))return"Chrome";if(ve(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/firefox\//i.test(e)}function fe(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/crios\//i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/iemobile/i.test(e)}function ve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/android/i.test(e)}function ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/blackberry/i.test(e)}function be(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/webos/i.test(e)}function xe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function we(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return xe(e)||ve(e)||be(e)||ye(e)||/windows phone/i.test(e)||ge(e)}function Se(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=he((0,a.ZQ)());break;case"Worker":t="".concat(he((0,a.ZQ)()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(s.MF,"/").concat(r)}class ke{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(o){r(o)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Ae{constructor(e){var t,n,r,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,o,i,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(o=a.containsUppercaseLetter)||void 0===o||o),a.isValid&&(a.isValid=null===(i=a.containsNumericCharacter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Ee{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ie(this),this.idTokenSubscription=new Ie(this),this.beforeStateQueue=new ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ae(t)),this._initializationPromise=this.queue(async()=>{var n,r,o;if(!this._deleted&&(this.persistenceManager=await de.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(o=this.currentUser)||void 0===o?void 0:o.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await G(this,{idToken:e}),n=await ie._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,s.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var o,i;await this.getOrInitRedirectPersistenceManager();const t=null===(o=this.redirectUser)||void 0===o?void 0:o._redirectEventId,s=null===(i=n)||void 0===i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==s||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return A(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await te(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,s.xZ)(this.app))return Promise.reject(w(this));const t=e?(0,a.Ku)(e):null;return t&&A(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&A(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,s.xZ)(this.app)?Promise.reject(w(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,s.xZ)(this.app)?Promise.reject(w(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ae(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return D(e,"GET","/v2/passwordPolicy",M(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ae(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new a.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return D(e,"POST","/v2/accounts:revokeToken",M(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ae(e)||this._popupRedirectResolver;A(t,this,"argument-error"),this.redirectPersistenceManager=await de.create(this,[ae(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"===typeof t?t:t.next.bind(t);let i=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(A(s,this,"internal-error"),s.then(()=>{i||o(this.currentUser)}),"function"===typeof t){const o=e.addObserver(t,n,r);return()=>{i=!0,o()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Se(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,s.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(g.logLevel<=l.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];g.warn("Auth (".concat(s.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ce(e){return(0,a.Ku)(e)}class Ie{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,a.tD)(e=>this.observer=e)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Te={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function je(e){return Te.loadJS(e)}function _e(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Re{constructor(){this.enterprise=new Pe}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Pe{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ne="NO_RECAPTCHA";class Oe{constructor(e){this.type="recaptcha-enterprise",this.auth=Ce(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const o=window.grecaptcha;W(o)?o.enterprise.ready(()=>{o.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ne)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Re).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{K(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new H(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(o=>{if(!t&&W(window.grecaptcha))n(o,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Te.recaptchaEnterpriseScript;0!==t.length&&(t+=o),je(t).then(()=>{n(o,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Le(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Oe(e);let a;if(o)a=Ne;else try{a=await s.verify(n)}catch(c){a=await s.verify(n,!0)}const l=(0,i.A)({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in l){const e=l.phoneEnrollmentInfo.phoneNumber,t=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const e=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Me(e,t,n,r,o){if("EMAIL_PASSWORD_PROVIDER"===o){var i;if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Le(e,t,n,"getOobCode"===n);return r(e,o)}return r(e,t).catch(async o=>{if(o.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const o=await Le(e,t,n,"getOobCode"===n);return r(e,o)}return Promise.reject(o)})}if("PHONE_PROVIDER"===o){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const o=await Le(e,t,n);return r(e,o).catch(async o=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(o.code==="auth/".concat("missing-recaptcha-token")||o.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const o=await Le(e,t,n,!1,!0);return r(e,o)}return Promise.reject(o)})}{const o=await Le(e,t,n,!1,!0);return r(e,o)}}return Promise.reject(o+" provider is not supported.")}async function De(e){const t=Ce(e),n=await K(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new H(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Oe(t).verify()}}function Fe(e,t,n){const r=Ce(e);A(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!(null===n||void 0===n||!n.disableWarnings),i=ze(t),{host:s,port:l}=function(e){const t=ze(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:Ve(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ve(t)}}}(t),c=null===l?"":":".concat(l),u={url:"".concat(i,"//").concat(s).concat(c,"/")},d=Object.freeze({host:s,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator)return A(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void A((0,a.bD)(u,r.config.emulator)&&(0,a.bD)(d,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,(0,a.zJ)(s)?((0,a.gE)("".concat(i,"//").concat(s).concat(c)),(0,a.P1)("Auth",!0)):o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ze(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ve(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ue{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return E("not implemented")}_getIdTokenResponse(e){return E("not implemented")}_linkToIdToken(e,t){return E("not implemented")}_getReauthenticationResolver(e){return E("not implemented")}}async function Be(e,t){return D(e,"POST","/v1/accounts:signUp",t)}async function qe(e,t){return z(e,"POST","/v1/accounts:signInWithPassword",M(e,t))}async function We(e,t){return D(e,"POST","/v1/accounts:sendOobCode",M(e,t))}async function He(e,t){return We(e,t)}class Ke extends Ue{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ke(e,t,"password")}static _fromEmailAndCode(e,t){return new Ke(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Me(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",qe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return z(e,"POST","/v1/accounts:signInWithEmailLink",M(e,t))}(e,{email:this._email,oobCode:this._password});default:y(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Me(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Be,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return z(e,"POST","/v1/accounts:signInWithEmailLink",M(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:y(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ge(e,t){return z(e,"POST","/v1/accounts:signInWithIdp",M(e,t))}class Qe extends Ue{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):y("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=o(t,h);if(!n||!r)return null;const s=new Qe(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ge(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ge(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ge(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,a.Am)(t)}return e}}async function Xe(e,t){return D(e,"POST","/v1/accounts:sendVerificationCode",M(e,t))}const $e={USER_NOT_FOUND:"user-not-found"};class Ye extends Ue{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ye({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ye({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return z(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await z(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,t));if(n.temporaryProof)throw q(e,"account-exists-with-different-credential",n);return n}(e,(0,i.A)({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return z(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,(0,i.A)((0,i.A)({},t),{},{operation:"REAUTH"})),$e)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new Ye({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}class Je{constructor(e){var t,n,r,o,i,s;const l=(0,a.I9)((0,a.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);A(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(i=l.lang)&&void 0!==i?i:null,this.tenantId=null!==(s=l.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=(0,a.I9)((0,a.hp)(e)).link,n=t?(0,a.I9)((0,a.hp)(t)).deep_link_id:null,r=(0,a.I9)((0,a.hp)(e)).deep_link_id;return(r?(0,a.I9)((0,a.hp)(r)).link:null)||r||n||t||e}(e);try{return new Je(t)}catch(n){return null}}}class Ze{constructor(){this.providerId=Ze.PROVIDER_ID}static credential(e,t){return Ke._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Je.parseLink(t);return A(n,"argument-error"),Ke._fromEmailAndCode(e,n.code,n.tenantId)}}Ze.PROVIDER_ID="password",Ze.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ze.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class et{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tt extends et{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nt extends tt{constructor(){super("facebook.com")}static credential(e){return Qe._fromParams({providerId:nt.PROVIDER_ID,signInMethod:nt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nt.credentialFromTaggedObject(e)}static credentialFromError(e){return nt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return nt.credential(t.oauthAccessToken)}catch(n){return null}}}nt.FACEBOOK_SIGN_IN_METHOD="facebook.com",nt.PROVIDER_ID="facebook.com";class rt extends tt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qe._fromParams({providerId:rt.PROVIDER_ID,signInMethod:rt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rt.credentialFromTaggedObject(e)}static credentialFromError(e){return rt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return rt.credential(n,r)}catch(o){return null}}}rt.GOOGLE_SIGN_IN_METHOD="google.com",rt.PROVIDER_ID="google.com";class ot extends tt{constructor(){super("github.com")}static credential(e){return Qe._fromParams({providerId:ot.PROVIDER_ID,signInMethod:ot.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ot.credentialFromTaggedObject(e)}static credentialFromError(e){return ot.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ot.credential(t.oauthAccessToken)}catch(n){return null}}}ot.GITHUB_SIGN_IN_METHOD="github.com",ot.PROVIDER_ID="github.com";class it extends tt{constructor(){super("twitter.com")}static credential(e,t){return Qe._fromParams({providerId:it.PROVIDER_ID,signInMethod:it.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return it.credentialFromTaggedObject(e)}static credentialFromError(e){return it.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return it.credential(n,r)}catch(o){return null}}}async function st(e,t){return z(e,"POST","/v1/accounts:signUp",M(e,t))}it.TWITTER_SIGN_IN_METHOD="twitter.com",it.PROVIDER_ID="twitter.com";class at{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=await ie._fromIdTokenResponse(e,n,r),i=lt(n);return new at({user:o,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=lt(n);return new at({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function lt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ct extends a.g{constructor(e,t,n,r){var o;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ct.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ct(e,t,n,r)}}function ut(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ct._fromErrorAndOperation(e,n,t,r);throw n})}async function dt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await J(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return at._forOperation(e,"link",r)}async function ht(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if((0,s.xZ)(r.app))return Promise.reject(w(r));const o="reauthenticate";try{const i=await J(e,ut(r,o,t,e),n);A(i.idToken,r,"internal-error");const s=$(i.idToken);A(s,r,"internal-error");const{sub:a}=s;return A(e.uid===a,r,"user-mismatch"),at._forOperation(e,o,i)}catch(i){throw(null===i||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&y(r,"user-mismatch"),i}}async function pt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(w(e));const r="signIn",o=await ut(e,r,t),i=await at._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(i.user),i}async function ft(e,t){return pt(Ce(e),t)}function mt(e,t,n){var r;A((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),A("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),A("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(A(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(A(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function gt(e){const t=Ce(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function vt(e,t,n){const r=Ce(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&mt(r,o,n),await Me(r,o,"getOobCode",He,"EMAIL_PASSWORD_PROVIDER")}async function yt(e,t,n){if((0,s.xZ)(e.app))return Promise.reject(w(e));const r=Ce(e),o=Me(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",st,"EMAIL_PASSWORD_PROVIDER"),i=await o.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&gt(e),t}),a=await at._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}function bt(e,t,n){return(0,s.xZ)(e.app)?Promise.reject(w(e)):ft((0,a.Ku)(e),Ze.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&gt(e),t})}async function xt(e,t){const n=(0,a.Ku)(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&mt(n.auth,r,t);const{email:o}=await async function(e,t){return We(e,t)}(n.auth,r);o!==e.email&&await e.reload()}async function wt(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const o=(0,a.Ku)(e),i={idToken:await o.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await J(o,async function(e,t){return D(e,"POST","/v1/accounts:update",t)}(o.auth,i));o.displayName=s.displayName||null,o.photoURL=s.photoUrl||null;const l=o.providerData.find(e=>{let{providerId:t}=e;return"password"===t});l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),await o._updateTokensIfNecessary(s)}function St(e,t,n,r){return(0,a.Ku)(e).onAuthStateChanged(t,n,r)}function kt(e){return(0,a.Ku)(e).signOut()}function At(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:start",M(e,t))}new WeakMap;const Et="__sak";class Ct{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Et,"1"),this.storage.removeItem(Et),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class It extends Ct{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=we(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);(0,a.lT)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}It.type="LOCAL";const Tt=It;function jt(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),o=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(o))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function _t(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Rt{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=_t(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return jt(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=_t(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=_t(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=jt(n);const o=setInterval(()=>{const e=jt(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(o))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Rt.type="COOKIE";class Pt extends Ct{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Pt.type="SESSION";const Nt=Pt;class Ot{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ot(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,i=this.handlersMap[r];if(null===i||void 0===i||!i.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(i).map(async e=>e(t.origin,o)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Lt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ot.receivers=[];class Mt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,i;return new Promise((s,a)=>{const l=Lt("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(t.data.response);break;default:clearTimeout(c),clearTimeout(o),a(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function Dt(){return window}function Ft(){return"undefined"!==typeof Dt().WorkerGlobalScope&&"function"===typeof Dt().importScripts}const zt="firebaseLocalStorageDb",Vt="firebaseLocalStorage",Ut="fbase_key";class Bt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qt(e,t){return e.transaction([Vt],t?"readwrite":"readonly").objectStore(Vt)}function Wt(){const e=indexedDB.open(zt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Vt,{keyPath:Ut})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Vt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(zt);return new Bt(e).toPromise()}(),t(await Wt()))})})}async function Ht(e,t,n){const r=qt(e,!0).put({[Ut]:t,value:n});return new Bt(r).toPromise()}function Kt(e,t){const n=qt(e,!0).delete(t);return new Bt(n).toPromise()}class Gt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Wt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ft()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ot._getInstance(Ft()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Mt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wt();return await Ht(e,Et,"1"),await Kt(e,Et),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ht(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=qt(e,!1).get(t),r=await new Bt(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Kt(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=qt(e,!1).getAll();return new Bt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Gt.type="LOCAL";const Qt=Gt;function Xt(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:start",M(e,t))}_e("rcb"),new _(3e4,6e4);const $t="recaptcha";async function Yt(e,t,n){if(!e._getRecaptchaConfig())try{await De(e)}catch(o){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let o;if(o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){A("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=Me(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ne){A((null===n||void 0===n?void 0:n.type)===$t,e,"argument-error");return At(e,await Jt(e,t,n))}return At(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;A("signin"===t.type,e,"internal-error");const i=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;A(i,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Me(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ne){A((null===n||void 0===n?void 0:n.type)===$t,e,"argument-error");return Xt(e,await Jt(e,t,n))}return Xt(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Me(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Ne){A((null===n||void 0===n?void 0:n.type)===$t,e,"argument-error");return Xe(e,await Jt(e,t,n))}return Xe(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Jt(e,t,n){A(n.type===$t,e,"argument-error");const r=await n.verify();A("string"===typeof r,e,"argument-error");const o=(0,i.A)({},t);if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.captchaResponse,n=o.phoneEnrollmentInfo.clientType,i=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),o}if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.captchaResponse,t=o.phoneSignInInfo.clientType,n=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),o}return Object.assign(o,{recaptchaToken:r}),o}class Zt{constructor(e){this.providerId=Zt.PROVIDER_ID,this.auth=Ce(e)}verifyPhoneNumber(e,t){return Yt(this.auth,e,(0,a.Ku)(t))}static credential(e,t){return Ye._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Zt.credentialFromTaggedObject(t)}static credentialFromError(e){return Zt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ye._fromTokenResponse(n,r):null}}function en(e,t){return t?ae(t):(A(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Zt.PROVIDER_ID="phone",Zt.PHONE_SIGN_IN_METHOD="phone";class tn extends Ue{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ge(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ge(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ge(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nn(e){return pt(e.auth,new tn(e),e.bypassAuthState)}function rn(e){const{auth:t,user:n}=e;return A(n,t,"internal-error"),ht(n,new tn(e),e.bypassAuthState)}async function on(e){const{auth:t,user:n}=e;return A(n,t,"internal-error"),dt(n,new tn(e),e.bypassAuthState)}class sn{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:i,type:s}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nn;case"linkViaPopup":case"linkViaRedirect":return on;case"reauthViaPopup":case"reauthViaRedirect":return rn;default:y(this.auth,"internal-error")}}resolve(e){C(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){C(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const an=new _(2e3,1e4);async function ln(e,t,n){if((0,s.xZ)(e.app))return Promise.reject(b(e,"operation-not-supported-in-this-environment"));const r=Ce(e);S(e,t,et);const o=en(r,n);return new cn(r,"signInViaPopup",t,o).executeNotNull()}class cn extends sn{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,cn.currentPopupAction&&cn.currentPopupAction.cancel(),cn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return A(e,this.auth,"internal-error"),e}async onExecution(){C(1===this.filter.length,"Popup operations only handle one event");const e=Lt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(b(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(b(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(b(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,an.get())};e()}}cn.currentPopupAction=null;const un=new Map;class dn extends sn{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=un.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=fn(t),r=pn(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}un.set(this.auth._key(),e)}return this.bypassAuthState||un.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function hn(e,t){un.set(e._key(),t)}function pn(e){return ae(e._redirectPersistence)}function fn(e){return ue("pendingRedirect",e.config.apiKey,e.name)}async function mn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(w(e));const r=Ce(e),o=en(r,t),i=new dn(r,o,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class gn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!yn(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(b(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vn(e))}saveEventToCache(e){this.cachedEventUids.add(vn(e)),this.lastProcessedEventTime=Date.now()}}function vn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function yn(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const bn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xn=/^https?/;async function wn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return D(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Sn(r))return}catch(n){}y(e,"unauthorized-domain")}function Sn(e){const t=I(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!xn.test(n))return!1;if(bn.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const kn=new _(3e4,6e4);function An(){const e=Dt().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function En(e){return new Promise((t,n)=>{var r,o;function i(){An(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{An(),n(b(e,"network-request-failed"))},timeout:kn.get()})}if(null!==(r=Dt().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(o=Dt().gapi)||void 0===o||!o.load){const t=_e("iframefcb");return Dt()[t]=()=>{gapi.load?i():n(b(e,"network-request-failed"))},je("".concat(Te.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}i()}}).catch(e=>{throw Cn=null,e})}let Cn=null;const In=new _(5e3,15e3),Tn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _n(e){const t=e.config;A(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?R(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:s.MF},o=jn.get(e.config.apiHost);o&&(r.eid=o);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat((0,a.Am)(r).slice(1))}async function Rn(e){const t=await function(e){return Cn=Cn||En(e),Cn}(e),n=Dt().gapi;return A(n,e,"internal-error"),t.open({where:document.body,url:_n(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const o=b(e,"network-request-failed"),i=Dt().setTimeout(()=>{r(o)},In.get());function s(){Dt().clearTimeout(i),n(t)}t.ping(s).then(s,()=>{r(o)})}))}const Pn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Nn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function On(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-o)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=(0,i.A)((0,i.A)({},Pn),{},{width:r.toString(),height:o.toString(),top:s,left:l}),d=(0,a.ZQ)().toLowerCase();n&&(c=me(d)?"_blank":n),pe(d)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return xe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(d)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new Nn(null);const p=window.open(t||"",c,h);A(p,e,"popup-blocked");try{p.focus()}catch(f){}return new Nn(p)}const Ln="__/auth/handler",Mn="emulator/auth/handler",Dn=encodeURIComponent("fac");async function Fn(e,t,n,r,o,i){A(e.config.authDomain,e,"auth-domain-config-required"),A(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:s.MF,eventId:o};if(t instanceof et){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,a.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))l[e]=t}if(t instanceof tt){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];const u=await e._getAppCheckToken(),d=u?"#".concat(Dn,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ln);return R(t,Mn)}(e),"?").concat((0,a.Am)(c).slice(1)).concat(d)}const zn="webStorageSupport";const Vn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nt,this._completeRedirectFn=mn,this._overrideRedirectResult=hn}async _openPopup(e,t,n,r){var o;C(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return On(e,await Fn(e,t,n,I(),r),Lt())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Dt().location.href=e}(await Fn(e,t,n,I(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(C(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Rn(e),n=new gn(e);return t.register("authEvent",t=>{A(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zn,{type:zn},n=>{var r;const o=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[zn];void 0!==o&&t(!!o),y(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return we()||fe()||xe()}};var Un="@firebase/auth",Bn="1.11.1";class qn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Wn=(0,a.XA)("authIdTokenMaxAge")||300;let Hn=null;const Kn=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Wn)return;const o=null===n||void 0===n?void 0:n.token;Hn!==o&&(Hn=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:"Bearer ".concat(o)}:{}}))};function Gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.Sx)();const t=(0,s.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,s.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,a.bD)(r,null!==t&&void 0!==t?t:{}))return e;y(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Vn,persistence:[Qt,Tt,Nt]}),r=(0,a.XA)("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=Kn(e.toString());!function(e,t,n){(0,a.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,a.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const o=(0,a.Tj)("auth");return o&&Fe(n,"http://".concat(o)),n}var Qn;Te={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=b("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Qn="Browser",(0,s.om)(new c.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;A(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Qn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Se(Qn)},c=new Ee(r,o,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ae);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,s.om)(new c.uA("auth-internal",e=>(e=>new qn(e))(Ce(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.KO)(Un,Bn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Qn)),(0,s.KO)(Un,Bn,"esm2020")},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},8604:(e,t,n)=>{"use strict";n.d(t,{LX:()=>f,MA:()=>p,_W:()=>m,Lc:()=>y,Ms:()=>b});var r=n(9751),o=n(7162),i=n(3815);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}(e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],o=a[n]||"";return Array.isArray(o)?o.map(e=>r+e):[r+o]}),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function p(e,t,n,r){var i;const s=null!=(i=(0,o.Yn)(e,t,!1))?i:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function f(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,o){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce((e,r)=>(e[r]=m(t,n),e),{})}(c(n),o),s=e[n];return(0,r.NI)(e,s,i)}function v(e,t){const n=f(e.theme);return Object.keys(e).map(r=>g(e,t,r,n)).reduce(i.A,{})}function y(e){return v(e,u)}function b(e){return v(e,d)}function x(e){return v(e,h)}y.propTypes={},y.filterProps=u,b.propTypes={},b.filterProps=d,x.propTypes={},x.filterProps=h},8698:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),o=n(8587),i=n(9172),s=n(7758);const a=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach(t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]}),r};function c(e){const{sx:t}=e,n=(0,o.A)(e,a),{systemProps:s,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[s,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,i.Q)(e)?(0,r.A)({},s,e):s}:(0,r.A)({},s,t),(0,r.A)({},c,{sx:u})}},8812:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(7598),o=n(3815),i=n(7162),s=n(9751),a=n(7758);function l(){function e(e,t,n,o){const a={[e]:t,theme:n},l=o[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const p=(0,i.Yn)(n,u)||{};if(h)return h(a);return(0,s.NI)(a,t,t=>{let n=(0,i.BO)(p,d,t);return t===n&&"string"===typeof t&&(n=(0,i.BO)(p,d,"".concat(e).concat("default"===t?"":(0,r.A)(t)),t)),!1===c?n:{[c]:n}})}return function t(n){var r;const{sx:i,theme:l={},nested:c}=n||{};if(!i)return null;const u=null!=(r=l.unstable_sxConfig)?r:a.A;function d(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const i=(0,s.EU)(l.breakpoints),a=Object.keys(i);let d=i;return Object.keys(r).forEach(n=>{const i=(a=r[n],c=l,"function"===typeof a?a(c):a);var a,c;if(null!==i&&void 0!==i)if("object"===typeof i)if(u[n])d=(0,o.A)(d,e(n,i,l,u));else{const e=(0,s.NI)({theme:l},i,e=>({[n]:e}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>e.concat(Object.keys(t)),[]),o=new Set(r);return t.every(e=>o.size===Object.keys(e).length)}(e,i)?d=(0,o.A)(d,e):d[n]=t({sx:i,theme:l,nested:!0})}else d=(0,o.A)(d,e(n,i,l,u))}),!c&&l.modularCssLayers?{"@layer sx":(0,s.vf)(a,d)}:(0,s.vf)(a,d)}return Array.isArray(i)?i.map(d):d(i)}}const c=l();c.filterProps=["sx"];const u=c},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9172:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,Q:()=>i});var r=n(8168),o=n(5043);function i(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function s(e){if(o.isValidElement(e)||!i(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=s(e[n])}),t}function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const l=n.clone?(0,r.A)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach(r=>{o.isValidElement(t[r])?l[r]=t[r]:i(t[r])&&Object.prototype.hasOwnProperty.call(e,r)&&i(e[r])?l[r]=a(e[r],t[r],n):n.clone?l[r]=i(t[r])?s(t[r]):t[r]:l[r]=t[r]}),l}},9369:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,E:()=>g,T:()=>d,c:()=>f,h:()=>h,w:()=>u});var r=n(5043),o=n(3803),i=n(1722),s=n(6598),a=n(9436),l=r.createContext("undefined"!==typeof HTMLElement?(0,o.A)({key:"css"}):null),c=l.Provider,u=function(e){return(0,r.forwardRef)(function(t,n){var o=(0,r.useContext)(l);return e(t,o,n)})},d=r.createContext({});var h={}.hasOwnProperty,p="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=function(e,t){var n={};for(var r in t)h.call(t,r)&&(n[r]=t[r]);return n[p]=e,n},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,i.SF)(t,n,r),(0,a.s)(function(){return(0,i.sk)(t,n,r)}),null},g=u(function(e,t,n){var o=e.css;"string"===typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var a=e[p],l=[o],c="";"string"===typeof e.className?c=(0,i.Rk)(t.registered,l,e.className):null!=e.className&&(c=e.className+" ");var u=(0,s.J)(l,void 0,r.useContext(d));c+=t.key+"-"+u.name;var f={};for(var g in e)h.call(e,g)&&"css"!==g&&g!==p&&(f[g]=e[g]);return f.className=c,n&&(f.ref=n),r.createElement(r.Fragment,null,r.createElement(m,{cache:t,serialized:u,isStringTag:"string"===typeof a}),r.createElement(a,f))})},9436:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a,s:()=>s});var o=n(5043),i=!!(r||(r=n.t(o,2))).useInsertionEffect&&(r||(r=n.t(o,2))).useInsertionEffect,s=i||function(e){return e()},a=i||o.useLayoutEffect},9482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(9172)},9606:(e,t,n)=>{"use strict";n.d(t,{h1:()=>a,uA:()=>o});var r=n(1776);class o{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const i="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:i})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(o=t,o===i?void 0:o),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var o;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.component?this.component.multipleInstances?e:i:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},9703:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},9751:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>s,iZ:()=>c,kW:()=>u,vf:()=>l,zu:()=>o});var r=n(9172);const o={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(o[e],"px)")};function s(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||i;return t.reduce((r,o,i)=>(r[e.up(e.keys[i])]=n(t[i]),r),{})}if("object"===typeof t){const e=r.breakpoints||i;return Object.keys(t).reduce((r,i)=>{if(-1!==Object.keys(e.values||o).indexOf(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r},{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce((t,n)=>(t[e.up(n)]={},t),{}))||{}}function l(e,t){return e.reduce((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e},t)}function c(e){const t=a(e);for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];const s=[t,...o].reduce((e,t)=>(0,r.A)(e,t),{});return l(Object.keys(t),s)}function u(e){let{values:t,breakpoints:n,base:r}=e;const o=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((t,r)=>{r<e.length&&(n[t]=!0)}):r.forEach(t=>{null!=e[t]&&(n[t]=!0)}),n}(t,n),i=Object.keys(o);if(0===i.length)return t;let s;return i.reduce((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e),{})}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Ym,hasStandardBrowserEnv:()=>Zm,hasStandardBrowserWebWorkerEnv:()=>eg,navigator:()=>Jm,origin:()=>tg});var t=n(5043),r=n.t(t,2),o=n(4391),i=n(2555),s=n(8168),a=n(8587),l=n(7868),c=n(9172),u=n(7758),d=n(8812),h=n(8280);function p(e,t){return(0,s.A)({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var f=n(7266);const m={black:"#000",white:"#fff"},g={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},v={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},y={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},b={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},x={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},w={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},S={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},k=["mode","contrastThreshold","tonalOffset"],A={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:m.white,default:m.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},E={text:{primary:m.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:m.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function C(e,t,n,r){const o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,f.a)(e.main,o):"dark"===t&&(e.dark=(0,f.e$)(e.main,i)))}function I(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,o=(0,a.A)(e,k),i=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:x[200],light:x[50],dark:x[400]}:{main:x[700],light:x[400],dark:x[800]}}(t),u=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[200],light:v[50],dark:v[400]}:{main:v[500],light:v[300],dark:v[700]}}(t),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[500],light:y[300],dark:y[700]}:{main:y[700],light:y[400],dark:y[800]}}(t),h=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:w[400],light:w[300],dark:w[700]}:{main:w[700],light:w[500],dark:w[900]}}(t),p=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:S[400],light:S[300],dark:S[700]}:{main:S[800],light:S[500],dark:S[900]}}(t),I=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b[400],light:b[300],dark:b[700]}:{main:"#ed6c02",light:b[500],dark:b[900]}}(t);function T(e){return(0,f.eM)(e,E.text.primary)>=n?E.text.primary:A.text.primary}const j=e=>{let{color:t,name:n,mainShade:o=500,lightShade:i=300,darkShade:a=700}=e;if(t=(0,s.A)({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,l.A)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,l.A)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return C(t,"light",i,r),C(t,"dark",a,r),t.contrastText||(t.contrastText=T(t.main)),t},_={dark:E,light:A};return(0,c.A)((0,s.A)({common:(0,s.A)({},m),mode:t,primary:j({color:i,name:"primary"}),secondary:j({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:j({color:d,name:"error"}),warning:j({color:I,name:"warning"}),info:j({color:h,name:"info"}),success:j({color:p,name:"success"}),grey:g,contrastThreshold:n,getContrastText:T,augmentColor:j,tonalOffset:r},_[t]),o)}const T=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const j={textTransform:"uppercase"},_='"Roboto", "Helvetica", "Arial", sans-serif';function R(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=_,fontSize:o=14,fontWeightLight:i=300,fontWeightRegular:l=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:p,pxToRem:f}=n,m=(0,a.A)(n,T);const g=o/14,v=f||(e=>"".concat(e/h*g,"rem")),y=(e,t,n,o,i)=>{return(0,s.A)({fontFamily:r,fontWeight:e,fontSize:v(t),lineHeight:n},r===_?{letterSpacing:"".concat((a=o/t,Math.round(1e5*a)/1e5),"em")}:{},i,p);var a},b={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(l,48,1.167,0),h4:y(l,34,1.235,.25),h5:y(l,24,1.334,0),h6:y(u,20,1.6,.15),subtitle1:y(l,16,1.75,.15),subtitle2:y(u,14,1.57,.1),body1:y(l,16,1.5,.15),body2:y(l,14,1.43,.15),button:y(u,14,1.75,.4,j),caption:y(l,12,1.66,.4),overline:y(l,12,2.66,1,j),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,c.A)((0,s.A)({htmlFontSize:h,pxToRem:v,fontFamily:r,fontSize:o,fontWeightLight:i,fontWeightRegular:l,fontWeightMedium:u,fontWeightBold:d},b),m,{clone:!1})}function P(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const N=["none",P(0,2,1,-1,0,1,1,0,0,1,3,0),P(0,3,1,-2,0,2,2,0,0,1,5,0),P(0,3,3,-2,0,3,4,0,0,1,8,0),P(0,2,4,-1,0,4,5,0,0,1,10,0),P(0,3,5,-1,0,5,8,0,0,1,14,0),P(0,3,5,-1,0,6,10,0,0,1,18,0),P(0,4,5,-2,0,7,10,1,0,2,16,1),P(0,5,5,-3,0,8,10,1,0,3,14,2),P(0,5,6,-3,0,9,12,1,0,3,16,2),P(0,6,6,-3,0,10,14,1,0,4,18,3),P(0,6,7,-4,0,11,15,1,0,4,20,3),P(0,7,8,-4,0,12,17,2,0,5,22,4),P(0,7,8,-4,0,13,19,2,0,5,24,4),P(0,7,9,-4,0,14,21,2,0,5,26,4),P(0,8,9,-5,0,15,22,2,0,6,28,5),P(0,8,10,-5,0,16,24,2,0,6,30,5),P(0,8,11,-5,0,17,26,2,0,6,32,5),P(0,9,11,-5,0,18,28,2,0,7,34,6),P(0,9,12,-6,0,19,29,2,0,7,36,6),P(0,10,13,-6,0,20,31,3,0,8,38,7),P(0,10,13,-6,0,21,33,3,0,8,40,7),P(0,10,14,-6,0,22,35,3,0,8,42,7),P(0,11,14,-7,0,23,36,3,0,9,44,8),P(0,11,15,-7,0,24,38,3,0,9,46,8)],O=["duration","easing","delay"],L={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},M={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function D(e){return"".concat(Math.round(e),"ms")}function F(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function z(e){const t=(0,s.A)({},L,e.easing),n=(0,s.A)({},M,e.duration);return(0,s.A)({getAutoHeightDuration:F,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:o=n.standard,easing:i=t.easeInOut,delay:s=0}=r;(0,a.A)(r,O);return(Array.isArray(e)?e:[e]).map(e=>"".concat(e," ").concat("string"===typeof o?o:D(o)," ").concat(i," ").concat("string"===typeof s?s:D(s))).join(",")}},e,{easing:t,duration:n})}const V={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},U=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function B(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:o={}}=e,i=(0,a.A)(e,U);if(e.vars&&void 0===e.generateCssVars)throw new Error((0,l.A)(18));const f=I(n),m=(0,h.A)(e);let g=(0,c.A)(m,{mixins:p(m.breakpoints,t),palette:f,shadows:N.slice(),typography:R(f,o),transitions:z(r),zIndex:(0,s.A)({},V)});g=(0,c.A)(g,i);for(var v=arguments.length,y=new Array(v>1?v-1:0),b=1;b<v;b++)y[b-1]=arguments[b];return g=y.reduce((e,t)=>(0,c.A)(e,t),g),g.unstable_sxConfig=(0,s.A)({},u.A,null==i?void 0:i.unstable_sxConfig),g.unstable_sx=function(e){return(0,d.A)({sx:e,theme:this})},g}const q=B;function W(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=W(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const H=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=W(e))&&(r&&(r+=" "),r+=t);return r};var K=n(3174),G=n(8698),Q=n(9369);const X=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=t.useContext(Q.T);return n&&(r=n,0!==Object.keys(r).length)?n:e;var r},$=(0,h.A)();const Y=function(){return X(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$)};var J=n(579);const Z=["className","component"];const ee=e=>e,te=(()=>{let e=ee;return{configure(t){e=t},generate:t=>e(t),reset(){e=ee}}})(),ne="$$material",re={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function oe(e,t){const n=re[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(te.generate(e),"-").concat(t)}function ie(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach(t=>{r[t]=oe(e,t,n)}),r}const se=ie("MuiBox",["root"]),ae=q(),le=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:o="MuiBox-root",generateClassName:i}=e,l=(0,K.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(d.A),c=t.forwardRef(function(e,t){const c=Y(r),u=(0,G.A)(e),{className:d,component:h="div"}=u,p=(0,a.A)(u,Z);return(0,J.jsx)(l,(0,s.A)({as:h,ref:t,className:H(d,i?i(o):o),theme:n&&c[n]||c},p))});return c}({themeId:ne,defaultTheme:ae,defaultClassName:se.root,generateClassName:te.generate}),ce=le;function ue(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach(o=>{r[o]=e[o].reduce((e,r)=>{if(r){const o=t(r);""!==o&&e.push(o),n&&n[r]&&e.push(n[r])}return e},[]).join(" ")}),r}var de=n(8052);const he=q();const pe=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},fe=e=>pe(e)&&"classes"!==e,me=(0,de.Ay)({themeId:ne,defaultTheme:he,rootShouldForwardProp:fe});function ge(e,t){const n=(0,s.A)({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=(0,s.A)({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const o=e[r]||{},i=t[r];n[r]={},i&&Object.keys(i)?o&&Object.keys(o)?(n[r]=(0,s.A)({},i),Object.keys(o).forEach(e=>{n[r][e]=ge(o[e],i[e])})):n[r]=i:n[r]=o}else void 0===n[r]&&(n[r]=e[r])}),n}const ve=t.createContext(void 0);function ye(e){let{props:n,name:r}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?ge(o.defaultProps,r):o.styleOverrides||o.variants?r:ge(o,r)}({props:n,name:r,theme:{components:t.useContext(ve)}})}const be=function(e){let{value:t,children:n}=e;return(0,J.jsx)(ve.Provider,{value:t,children:n})};function xe(e){return ye(e)}var we=n(7598);const Se=we.A;function ke(e){return oe("MuiTypography",e)}ie("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Ae=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Ee=me("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(Se(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})}),Ce={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ie={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Te=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiTypography"}),r=(e=>Ie[e]||e)(n.color),o=(0,G.A)((0,s.A)({},n,{color:r})),{align:i="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:d=!1,paragraph:h=!1,variant:p="body1",variantMapping:f=Ce}=o,m=(0,a.A)(o,Ae),g=(0,s.A)({},o,{align:i,color:r,className:l,component:c,gutterBottom:u,noWrap:d,paragraph:h,variant:p,variantMapping:f}),v=c||(h?"p":f[p]||Ce[p])||"span",y=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:s}=e;return ue({root:["root",i,"inherit"!==e.align&&"align".concat(Se(t)),n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]},ke,s)})(g);return(0,J.jsx)(Ee,(0,s.A)({as:v,ref:t,ownerState:g,className:H(y.root,l)},m))});var je=n(9751);function _e(){const e=Y(he);return e[ne]||e}const Re=t.createContext();function Pe(e){return oe("MuiGrid",e)}const Ne=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Oe=ie("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map(e=>"spacing-xs-".concat(e)),...["column-reverse","column","row-reverse","row"].map(e=>"direction-xs-".concat(e)),...["nowrap","wrap-reverse","wrap"].map(e=>"wrap-xs-".concat(e)),...Ne.map(e=>"grid-xs-".concat(e)),...Ne.map(e=>"grid-sm-".concat(e)),...Ne.map(e=>"grid-md-".concat(e)),...Ne.map(e=>"grid-lg-".concat(e)),...Ne.map(e=>"grid-xl-".concat(e))]),Le=Oe,Me=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function De(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function Fe(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach(e=>{""===r&&0!==n[e]&&(r=e)});const o=Object.keys(t).sort((e,n)=>t[e]-t[n]);return o.slice(0,o.indexOf(r))}const ze=me("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:o,item:i,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach(t=>{const o=e[t];Number(o)>0&&r.push(n["spacing-".concat(t,"-").concat(String(o))])}),r}(s,c,t));const d=[];return c.forEach(e=>{const r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])}),[t.root,r&&t.container,i&&t.item,l&&t.zeroMinWidth,...u,"row"!==o&&t["direction-xs-".concat(String(o))],"wrap"!==a&&t["wrap-xs-".concat(String(a))],...d]}})(e=>{let{ownerState:t}=e;return(0,s.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})},function(e){let{theme:t,ownerState:n}=e;const r=(0,je.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,je.NI)({theme:t},r,e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(Le.item)]={maxWidth:"none"}),t})},function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:o}=n;let i={};if(r&&0!==o){const e=(0,je.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=Fe({breakpoints:t.breakpoints.values,values:e})),i=(0,je.NI)({theme:t},e,(e,r)=>{var o;const i=t.spacing(e);return"0px"!==i?{marginTop:"-".concat(De(i)),["& > .".concat(Le.item)]:{paddingTop:De(i)}}:null!=(o=n)&&o.includes(r)?{}:{marginTop:0,["& > .".concat(Le.item)]:{paddingTop:0}}})}return i},function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:o}=n;let i={};if(r&&0!==o){const e=(0,je.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=Fe({breakpoints:t.breakpoints.values,values:e})),i=(0,je.NI)({theme:t},e,(e,r)=>{var o;const i=t.spacing(e);return"0px"!==i?{width:"calc(100% + ".concat(De(i),")"),marginLeft:"-".concat(De(i)),["& > .".concat(Le.item)]:{paddingLeft:De(i)}}:null!=(o=n)&&o.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat(Le.item)]:{paddingLeft:0}}})}return i},function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce((e,o)=>{let i={};if(r[o]&&(t=r[o]),!t)return e;if(!0===t)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=(0,je.kW)({values:r.columns,breakpoints:n.breakpoints.values}),l="object"===typeof a?a[o]:a;if(void 0===l||null===l)return e;const c="".concat(Math.round(t/l*1e8)/1e6,"%");let u={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(c," + ").concat(De(e),")");u={flexBasis:t,maxWidth:t}}}i=(0,s.A)({flexBasis:c,flexGrow:0,maxWidth:c},u)}return 0===n.breakpoints.values[o]?Object.assign(e,i):e[n.breakpoints.up(o)]=i,e},{})});const Ve=e=>{const{classes:t,container:n,direction:r,item:o,spacing:i,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach(t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}}),n}(i,l));const u=[];l.forEach(t=>{const n=e[t];n&&u.push("grid-".concat(t,"-").concat(String(n)))});return ue({root:["root",n&&"container",o&&"item",a&&"zeroMinWidth",...c,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==s&&"wrap-xs-".concat(String(s)),...u]},Pe,t)},Ue=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiGrid"}),{breakpoints:o}=_e(),i=(0,G.A)(r),{className:l,columns:c,columnSpacing:u,component:d="div",container:h=!1,direction:p="row",item:f=!1,rowSpacing:m,spacing:g=0,wrap:v="wrap",zeroMinWidth:y=!1}=i,b=(0,a.A)(i,Me),x=m||g,w=u||g,S=t.useContext(Re),k=h?c||12:S,A={},E=(0,s.A)({},b);o.keys.forEach(e=>{null!=b[e]&&(A[e]=b[e],delete E[e])});const C=(0,s.A)({},i,{columns:k,container:h,direction:p,item:f,rowSpacing:x,columnSpacing:w,wrap:v,zeroMinWidth:y,spacing:g},A,{breakpoints:o.keys}),I=Ve(C);return(0,J.jsx)(Re.Provider,{value:k,children:(0,J.jsx)(ze,(0,s.A)({ownerState:C,className:H(I.root,l),as:d,ref:n},E))})});const Be=Ue,qe=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function We(e){return oe("MuiPaper",e)}ie("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const He=["className","component","elevation","square","variant"],Ke=me("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})(e=>{let{theme:t,ownerState:n}=e;var r;return(0,s.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&(0,s.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,f.X4)("#fff",qe(n.elevation)),", ").concat((0,f.X4)("#fff",qe(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))}),Ge=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiPaper"}),{className:r,component:o="div",elevation:i=1,square:l=!1,variant:c="elevation"}=n,u=(0,a.A)(n,He),d=(0,s.A)({},n,{component:o,elevation:i,square:l,variant:c}),h=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e;return ue({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},We,o)})(d);return(0,J.jsx)(Ke,(0,s.A)({as:o,ownerState:d,className:H(h.root,r),ref:t},u))});function Qe(e){return oe("MuiCard",e)}ie("MuiCard",["root"]);const Xe=["className","raised"],$e=me(Ge,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Ye=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiCard"}),{className:r,raised:o=!1}=n,i=(0,a.A)(n,Xe),l=(0,s.A)({},n,{raised:o}),c=(e=>{const{classes:t}=e;return ue({root:["root"]},Qe,t)})(l);return(0,J.jsx)($e,(0,s.A)({className:H(c.root,r),elevation:o?8:void 0,ref:t,ownerState:l},i))});function Je(e){return oe("MuiCardContent",e)}ie("MuiCardContent",["root"]);const Ze=["className","component"],et=me("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),tt=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiCardContent"}),{className:r,component:o="div"}=n,i=(0,a.A)(n,Ze),l=(0,s.A)({},n,{component:o}),c=(e=>{const{classes:t}=e;return ue({root:["root"]},Je,t)})(l);return(0,J.jsx)(et,(0,s.A)({as:o,className:H(c.root,r),ownerState:l,ref:t},i))});function nt(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function rt(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo(()=>n.every(e=>null==e)?null:e=>{n.forEach(t=>{nt(t,e)})},n)}const ot=rt,it="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;const st=function(e){const n=t.useRef(e);return it(()=>{n.current=e}),t.useRef(function(){return(0,n.current)(...arguments)}).current},at=st,lt={};const ct=[];class ut{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new ut}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function dt(){const e=function(e,n){const r=t.useRef(lt);return r.current===lt&&(r.current=e(n)),r}(ut.create).current;var n;return n=e.disposeEffect,t.useEffect(n,ct),e}let ht=!0,pt=!1;const ft=new ut,mt={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function gt(e){e.metaKey||e.altKey||e.ctrlKey||(ht=!0)}function vt(){ht=!1}function yt(){"hidden"===this.visibilityState&&pt&&(ht=!0)}function bt(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return ht||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!mt[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function xt(){const e=t.useCallback(e=>{null!=e&&function(e){e.addEventListener("keydown",gt,!0),e.addEventListener("mousedown",vt,!0),e.addEventListener("pointerdown",vt,!0),e.addEventListener("touchstart",vt,!0),e.addEventListener("visibilitychange",yt,!0)}(e.ownerDocument)},[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!bt(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(pt=!0,ft.start(100,()=>{pt=!1}),n.current=!1,!0)},ref:e}}const wt=xt;function St(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function kt(e,t){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kt(e,t)}function At(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,kt(e,t)}const Et=t.createContext(null);function Ct(e,n){var r=Object.create(null);return e&&t.Children.map(e,function(e){return e}).forEach(function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)}),r}function It(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Tt(e,n,r){var o=Ct(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var s in e)s in t?i.length&&(o[s]=i,i=[]):i.push(s);var a={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var c=o[l][r];a[o[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<i.length;r++)a[i[r]]=n(i[r]);return a}(n,o);return Object.keys(i).forEach(function(s){var a=i[s];if((0,t.isValidElement)(a)){var l=s in n,c=s in o,u=n[s],d=(0,t.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,t.isValidElement)(u)&&(i[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:It(a,"exit",e),enter:It(a,"enter",e)})):i[s]=(0,t.cloneElement)(a,{in:!1}):i[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:It(a,"exit",e),enter:It(a,"enter",e)})}}),i}var jt=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},_t=function(e){function n(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}At(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,o,i=n.children,s=n.handleExited;return{children:n.firstRender?(r=e,o=s,Ct(r.children,function(e){return(0,t.cloneElement)(e,{onExited:o.bind(null,e),in:!0,appear:It(e,"appear",r),enter:It(e,"enter",r),exit:It(e,"exit",r)})})):Tt(e,i,s),firstRender:!1}},r.handleExited=function(e,t){var n=Ct(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=(0,s.A)({},t.children);return delete n[e.key],{children:n}}))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,o=(0,a.A)(e,["component","childFactory"]),i=this.state.contextValue,s=jt(this.state.children).map(r);return delete o.appear,delete o.enter,delete o.exit,null===n?t.createElement(Et.Provider,{value:i},s):t.createElement(Et.Provider,{value:i},t.createElement(n,o,s))},n}(t.Component);_t.propTypes={},_t.defaultProps={component:"div",childFactory:function(e){return e}};const Rt=_t;var Pt=n(3290);const Nt=function(e){const{className:n,classes:r,pulsate:o=!1,rippleX:i,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=e,[d,h]=t.useState(!1),p=H(n,r.ripple,r.rippleVisible,o&&r.ripplePulsate),f={width:a,height:a,top:-a/2+s,left:-a/2+i},m=H(r.child,d&&r.childLeaving,o&&r.childPulsate);return l||d||h(!0),t.useEffect(()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}},[c,l,u]),(0,J.jsx)("span",{className:p,style:f,children:(0,J.jsx)("span",{className:m})})};const Ot=ie("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var Lt,Mt,Dt,Ft;const zt=["center","classes","className"];let Vt,Ut,Bt,qt;const Wt=(0,Pt.i7)(Vt||(Vt=Lt||(Lt=St(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Ht=(0,Pt.i7)(Ut||(Ut=Mt||(Mt=St(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Kt=(0,Pt.i7)(Bt||(Bt=Dt||(Dt=St(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Gt=me("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Qt=me(Nt,{name:"MuiTouchRipple",slot:"Ripple"})(qt||(qt=Ft||(Ft=St(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Ot.rippleVisible,Wt,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},Ot.ripplePulsate,e=>{let{theme:t}=e;return t.transitions.duration.shorter},Ot.child,Ot.childLeaving,Ht,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},Ot.childPulsate,Kt,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),Xt=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:l}=r,c=(0,a.A)(r,zt),[u,d]=t.useState([]),h=t.useRef(0),p=t.useRef(null);t.useEffect(()=>{p.current&&(p.current(),p.current=null)},[u]);const f=t.useRef(!1),m=dt(),g=t.useRef(null),v=t.useRef(null),y=t.useCallback(e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:o,cb:s}=e;d(e=>[...e,(0,J.jsx)(Qt,{classes:{ripple:H(i.ripple,Ot.ripple),rippleVisible:H(i.rippleVisible,Ot.rippleVisible),ripplePulsate:H(i.ripplePulsate,Ot.ripplePulsate),child:H(i.child,Ot.child),childLeaving:H(i.childLeaving,Ot.childLeaving),childPulsate:H(i.childPulsate,Ot.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o},h.current)]),h.current+=1,p.current=s},[i]),b=t.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:i=o||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&f.current)return void(f.current=!1);"touchstart"===(null==e?void 0:e.type)&&(f.current=!0);const a=s?null:v.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(i||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(i)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===g.current&&(g.current=()=>{y({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},m.start(80,()=>{g.current&&(g.current(),g.current=null)})):y({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},[o,y,m]),x=t.useCallback(()=>{b({},{pulsate:!0})},[b]),w=t.useCallback((e,t)=>{if(m.clear(),"touchend"===(null==e?void 0:e.type)&&g.current)return g.current(),g.current=null,void m.start(0,()=>{w(e,t)});g.current=null,d(e=>e.length>0?e.slice(1):e),p.current=t},[m]);return t.useImperativeHandle(n,()=>({pulsate:x,start:b,stop:w}),[x,b,w]),(0,J.jsx)(Gt,(0,s.A)({className:H(Ot.root,i.root,l),ref:v},c,{children:(0,J.jsx)(Rt,{component:null,exit:!0,children:u})}))}),$t=Xt;function Yt(e){return oe("MuiButtonBase",e)}const Jt=ie("MuiButtonBase",["root","disabled","focusVisible"]),Zt=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],en=me("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(Jt.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),tn=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:l,className:c,component:u="button",disabled:d=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:f=!1,LinkComponent:m="a",onBlur:g,onClick:v,onContextMenu:y,onDragLeave:b,onFocus:x,onFocusVisible:w,onKeyDown:S,onKeyUp:k,onMouseDown:A,onMouseLeave:E,onMouseUp:C,onTouchEnd:I,onTouchMove:T,onTouchStart:j,tabIndex:_=0,TouchRippleProps:R,touchRippleRef:P,type:N}=r,O=(0,a.A)(r,Zt),L=t.useRef(null),M=t.useRef(null),D=ot(M,P),{isFocusVisibleRef:F,onFocus:z,onBlur:V,ref:U}=wt(),[B,q]=t.useState(!1);d&&B&&q(!1),t.useImperativeHandle(o,()=>({focusVisible:()=>{q(!0),L.current.focus()}}),[]);const[W,K]=t.useState(!1);t.useEffect(()=>{K(!0)},[]);const G=W&&!h&&!d;function Q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;return at(r=>{t&&t(r);return!n&&M.current&&M.current[e](r),!0})}t.useEffect(()=>{B&&f&&!h&&W&&M.current.pulsate()},[h,f,B,W]);const X=Q("start",A),$=Q("stop",y),Y=Q("stop",b),Z=Q("stop",C),ee=Q("stop",e=>{B&&e.preventDefault(),E&&E(e)}),te=Q("start",j),ne=Q("stop",I),re=Q("stop",T),oe=Q("stop",e=>{V(e),!1===F.current&&q(!1),g&&g(e)},!1),ie=at(e=>{L.current||(L.current=e.currentTarget),z(e),!0===F.current&&(q(!0),w&&w(e)),x&&x(e)}),se=()=>{const e=L.current;return u&&"button"!==u&&!("A"===e.tagName&&e.href)},ae=t.useRef(!1),le=at(e=>{f&&!ae.current&&B&&M.current&&" "===e.key&&(ae.current=!0,M.current.stop(e,()=>{M.current.start(e)})),e.target===e.currentTarget&&se()&&" "===e.key&&e.preventDefault(),S&&S(e),e.target===e.currentTarget&&se()&&"Enter"===e.key&&!d&&(e.preventDefault(),v&&v(e))}),ce=at(e=>{f&&" "===e.key&&M.current&&B&&!e.defaultPrevented&&(ae.current=!1,M.current.stop(e,()=>{M.current.pulsate(e)})),k&&k(e),v&&e.target===e.currentTarget&&se()&&" "===e.key&&!e.defaultPrevented&&v(e)});let de=u;"button"===de&&(O.href||O.to)&&(de=m);const he={};"button"===de?(he.type=void 0===N?"button":N,he.disabled=d):(O.href||O.to||(he.role="button"),d&&(he["aria-disabled"]=d));const pe=ot(n,U,L);const fe=(0,s.A)({},r,{centerRipple:i,component:u,disabled:d,disableRipple:h,disableTouchRipple:p,focusRipple:f,tabIndex:_,focusVisible:B}),me=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,i=ue({root:["root",t&&"disabled",n&&"focusVisible"]},Yt,o);return n&&r&&(i.root+=" ".concat(r)),i})(fe);return(0,J.jsxs)(en,(0,s.A)({as:de,className:H(me.root,c),ownerState:fe,onBlur:oe,onClick:v,onContextMenu:$,onFocus:ie,onKeyDown:le,onKeyUp:ce,onMouseDown:X,onMouseLeave:ee,onMouseUp:Z,onDragLeave:Y,onTouchEnd:ne,onTouchMove:re,onTouchStart:te,ref:pe,tabIndex:d?-1:_,type:N},he,O,{children:[l,G?(0,J.jsx)($t,(0,s.A)({ref:D,center:i},R)):null]}))}),nn=tn;function rn(e){return oe("MuiButton",e)}const on=ie("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const sn=t.createContext({});const an=t.createContext(void 0),ln=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],cn=e=>(0,s.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),un=me(nn,{shouldForwardProp:e=>fe(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(Se(n.color))],t["size".concat(Se(n.size))],t["".concat(n.variant,"Size").concat(Se(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(e=>{let{theme:t,ownerState:n}=e;var r,o;const i="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],a="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,s.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,s.A)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,f.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,f.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,f.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,s.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(on.focusVisible)]:(0,s.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(on.disabled)]:(0,s.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat((0,f.X4)(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(o=t.palette).getContrastText)?void 0:r.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})},e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(on.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(on.disabled)]:{boxShadow:"none"}}}),dn=me("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat(Se(n.size))]]}})(e=>{let{ownerState:t}=e;return(0,s.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},cn(t))}),hn=me("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat(Se(n.size))]]}})(e=>{let{ownerState:t}=e;return(0,s.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},cn(t))}),pn=t.forwardRef(function(e,n){const r=t.useContext(sn),o=t.useContext(an),i=xe({props:ge(r,e),name:"MuiButton"}),{children:l,color:c="primary",component:u="button",className:d,disabled:h=!1,disableElevation:p=!1,disableFocusRipple:f=!1,endIcon:m,focusVisibleClassName:g,fullWidth:v=!1,size:y="medium",startIcon:b,type:x,variant:w="text"}=i,S=(0,a.A)(i,ln),k=(0,s.A)({},i,{color:c,component:u,disabled:h,disableElevation:p,disableFocusRipple:f,fullWidth:v,size:y,type:x,variant:w}),A=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:i,classes:a}=e,l=ue({root:["root",i,"".concat(i).concat(Se(t)),"size".concat(Se(o)),"".concat(i,"Size").concat(Se(o)),"color".concat(Se(t)),n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat(Se(o))],endIcon:["icon","endIcon","iconSize".concat(Se(o))]},rn,a);return(0,s.A)({},a,l)})(k),E=b&&(0,J.jsx)(dn,{className:A.startIcon,ownerState:k,children:b}),C=m&&(0,J.jsx)(hn,{className:A.endIcon,ownerState:k,children:m}),I=o||"";return(0,J.jsxs)(un,(0,s.A)({ownerState:k,className:H(r.className,A.root,d,I),component:u,disabled:h,focusRipple:!f,focusVisibleClassName:H(A.focusVisible,g),ref:n,type:x},S,{classes:A,children:[E,l,C]}))});function fn(e){return oe("MuiAppBar",e)}ie("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const mn=["className","color","enableColorOnDark","position"],gn=(e,t)=>e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t,vn=me(Ge,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat(Se(n.position))],t["color".concat(Se(n.color))]]}})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,s.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,s.A)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,s.A)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,s.A)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:gn(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:gn(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:gn(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:gn(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},!["inherit","transparent"].includes(n.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),yn=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiAppBar"}),{className:r,color:o="primary",enableColorOnDark:i=!1,position:l="fixed"}=n,c=(0,a.A)(n,mn),u=(0,s.A)({},n,{color:o,position:l,enableColorOnDark:i}),d=(e=>{const{color:t,position:n,classes:r}=e;return ue({root:["root","color".concat(Se(t)),"position".concat(Se(n))]},fn,r)})(u);return(0,J.jsx)(vn,(0,s.A)({square:!0,component:"header",ownerState:u,elevation:4,className:H(d.root,r,"fixed"===l&&"mui-fixed"),ref:t},c))});function bn(e){return oe("MuiToolbar",e)}ie("MuiToolbar",["root","gutters","regular","dense"]);const xn=["className","component","disableGutters","variant"],wn=me("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})},e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar}),Sn=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiToolbar"}),{className:r,component:o="div",disableGutters:i=!1,variant:l="regular"}=n,c=(0,a.A)(n,xn),u=(0,s.A)({},n,{component:o,disableGutters:i,variant:l}),d=(e=>{const{classes:t,disableGutters:n,variant:r}=e;return ue({root:["root",!n&&"gutters",r]},bn,t)})(u);return(0,J.jsx)(wn,(0,s.A)({as:o,className:H(d.root,r),ref:t,ownerState:u},c))});function kn(e){return oe("MuiIconButton",e)}const An=ie("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),En=["edge","children","className","color","disabled","disableFocusRipple","size"],Cn=me(nn,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat(Se(n.color))],n.edge&&t["edge".concat(Se(n.edge))],t["size".concat(Se(n.size))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,f.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})},e=>{let{theme:t,ownerState:n}=e;var r;const o=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,s.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,s.A)({color:null==o?void 0:o.main},!n.disableRipple&&{"&:hover":(0,s.A)({},o&&{backgroundColor:t.vars?"rgba(".concat(o.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,f.X4)(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(An.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),In=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:i,color:l="default",disabled:c=!1,disableFocusRipple:u=!1,size:d="medium"}=n,h=(0,a.A)(n,En),p=(0,s.A)({},n,{edge:r,color:l,disabled:c,disableFocusRipple:u,size:d}),f=(e=>{const{classes:t,disabled:n,color:r,edge:o,size:i}=e;return ue({root:["root",n&&"disabled","default"!==r&&"color".concat(Se(r)),o&&"edge".concat(Se(o)),"size".concat(Se(i))]},kn,t)})(p);return(0,J.jsx)(Cn,(0,s.A)({className:H(f.root,i),centerRipple:!0,focusRipple:!u,disabled:c,ref:t},h,{ownerState:p,children:o}))}),Tn=["value"],jn=t.createContext();const _n=()=>{const e=t.useContext(jn);return null!=e&&e},Rn=function(e){let{value:t}=e,n=(0,a.A)(e,Tn);return(0,J.jsx)(jn.Provider,(0,s.A)({value:null==t||t},n))};const Pn=function(e){return"string"===typeof e};const Nn=function(e,t,n){return void 0===e||Pn(e)?t:(0,s.A)({},t,{ownerState:(0,s.A)({},t.ownerState,n)})};const On=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)).forEach(t=>{n[t]=e[t]}),n};const Ln=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])).forEach(n=>{t[n]=e[n]}),t};const Mn=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const e=H(null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),t=(0,s.A)({},null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),a=(0,s.A)({},n,o,r);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=On((0,s.A)({},o,r)),l=Ln(r),c=Ln(o),u=t(a),d=H(null==u?void 0:u.className,null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),h=(0,s.A)({},null==u?void 0:u.style,null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),p=(0,s.A)({},u,n,c,l);return d.length>0&&(p.className=d),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:u.ref}};const Dn=function(e,t,n){return"function"===typeof e?e(t,n):e},Fn=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const zn=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:i=!1}=e,l=(0,a.A)(e,Fn),c=i?{}:Dn(r,o),{props:u,internalRef:d}=Mn((0,s.A)({},l,{externalSlotProps:c})),h=rt(d,null==c?void 0:c.ref,null==(t=e.additionalProps)?void 0:t.ref);return Nn(n,(0,s.A)({},u,{ref:h}),o)};function Vn(e){var n;return parseInt(t.version,10)>=19?(null==e||null==(n=e.props)?void 0:n.ref)||null:(null==e?void 0:e.ref)||null}function Un(e){return e&&e.ownerDocument||document}const Bn=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function qn(e){const t=[],n=[];return Array.from(e.querySelectorAll(Bn)).forEach((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))}),n.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function Wn(){return!0}const Hn=function(e){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:o=!1,disableRestoreFocus:i=!1,getTabbable:s=qn,isEnabled:a=Wn,open:l}=e,c=t.useRef(!1),u=t.useRef(null),d=t.useRef(null),h=t.useRef(null),p=t.useRef(null),f=t.useRef(!1),m=t.useRef(null),g=rt(Vn(n),m),v=t.useRef(null);t.useEffect(()=>{l&&m.current&&(f.current=!r)},[r,l]),t.useEffect(()=>{if(!l||!m.current)return;const e=Un(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{i||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}},[l]),t.useEffect(()=>{if(!l||!m.current)return;const e=Un(m.current),t=t=>{v.current=t,!o&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(o&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){var r,i;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(i=v.current)?void 0:i.key)),t=n[0],o=n[n.length-1];"string"!==typeof t&&"string"!==typeof o&&(e?o.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval(()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()},50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}},[r,o,i,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,J.jsxs)(t.Fragment,{children:[(0,J.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,p.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,J.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})};var Kn=n(7950);const Gn=t.forwardRef(function(e,n){const{children:r,container:o,disablePortal:i=!1}=e,[s,a]=t.useState(null),l=rt(t.isValidElement(r)?Vn(r):null,n);if(it(()=>{i||a(function(e){return"function"===typeof e?e():e}(o)||document.body)},[o,i]),it(()=>{if(s&&!i)return nt(n,s),()=>{nt(n,null)}},[n,s,i]),i){if(t.isValidElement(r)){const e={ref:l};return t.cloneElement(r,e)}return(0,J.jsx)(t.Fragment,{children:r})}return(0,J.jsx)(t.Fragment,{children:s?Kn.createPortal(r,s):s})}),Qn=!1;var Xn="unmounted",$n="exited",Yn="entering",Jn="entered",Zn="exiting",er=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=$n,r.appearStatus=Yn):o=Jn:o=t.unmountOnExit||t.mountOnEnter?Xn:$n,r.state={status:o},r.nextCallback=null,r}At(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Xn?{status:$n}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Yn&&n!==Jn&&(t=Yn):n!==Yn&&n!==Jn||(t=Zn)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Yn){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Kn.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===$n&&this.setState({status:Xn})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[Kn.findDOMNode(this),r],i=o[0],s=o[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||Qn?this.safeSetState({status:Jn},function(){t.props.onEntered(i)}):(this.props.onEnter(i,s),this.safeSetState({status:Yn},function(){t.props.onEntering(i,s),t.onTransitionEnd(l,function(){t.safeSetState({status:Jn},function(){t.props.onEntered(i,s)})})}))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Kn.findDOMNode(this);t&&!Qn?(this.props.onExit(r),this.safeSetState({status:Zn},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:$n},function(){e.props.onExited(r)})})})):this.safeSetState({status:$n},function(){e.props.onExited(r)})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Kn.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],s=o[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Xn)return null;var n=this.props,r=n.children,o=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,a.A)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Et.Provider,{value:null},"function"===typeof r?r(e,o):t.cloneElement(t.Children.only(r),o))},n}(t.Component);function tr(){}er.contextType=Et,er.propTypes={},er.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:tr,onEntering:tr,onEntered:tr,onExit:tr,onExiting:tr,onExited:tr},er.UNMOUNTED=Xn,er.EXITED=$n,er.ENTERING=Yn,er.ENTERED=Jn,er.EXITING=Zn;const nr=er,rr=e=>e.scrollTop;function or(e,t){var n,r;const{timeout:o,easing:i,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof o?o:o[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof i?i[t.mode]:i,delay:s.transitionDelay}}const ir=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],sr={entering:{opacity:1},entered:{opacity:1}},ar=t.forwardRef(function(e,n){const r=_e(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:l=!0,children:c,easing:u,in:d,onEnter:h,onEntered:p,onEntering:f,onExit:m,onExited:g,onExiting:v,style:y,timeout:b=o,TransitionComponent:x=nr}=e,w=(0,a.A)(e,ir),S=t.useRef(null),k=ot(S,Vn(c),n),A=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},E=A(f),C=A((e,t)=>{rr(e);const n=or({style:y,timeout:b,easing:u},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)}),I=A(p),T=A(v),j=A(e=>{const t=or({style:y,timeout:b,easing:u},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)}),_=A(g);return(0,J.jsx)(x,(0,s.A)({appear:l,in:d,nodeRef:S,onEnter:C,onEntered:I,onEntering:E,onExit:j,onExited:_,onExiting:T,addEndListener:e=>{i&&i(S.current,e)},timeout:b},w,{children:(e,n)=>t.cloneElement(c,(0,s.A)({style:(0,s.A)({opacity:0,visibility:"exited"!==e||d?void 0:"hidden"},sr[e],y,c.props.style),ref:k},n))}))}),lr=ar;function cr(e){return oe("MuiBackdrop",e)}ie("MuiBackdrop",["root","invisible"]);const ur=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],dr=me("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(e=>{let{ownerState:t}=e;return(0,s.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})}),hr=t.forwardRef(function(e,t){var n,r,o;const i=xe({props:e,name:"MuiBackdrop"}),{children:l,className:c,component:u="div",components:d={},componentsProps:h={},invisible:p=!1,open:f,slotProps:m={},slots:g={},TransitionComponent:v=lr,transitionDuration:y}=i,b=(0,a.A)(i,ur),x=(0,s.A)({},i,{component:u,invisible:p}),w=(e=>{const{classes:t,invisible:n}=e;return ue({root:["root",n&&"invisible"]},cr,t)})(x),S=null!=(n=m.root)?n:h.root;return(0,J.jsx)(v,(0,s.A)({in:f,timeout:y},b,{children:(0,J.jsx)(dr,(0,s.A)({"aria-hidden":!0},S,{as:null!=(r=null!=(o=g.root)?o:d.Root)?r:u,className:H(w.root,c,null==S?void 0:S.className),ownerState:(0,s.A)({},x,null==S?void 0:S.ownerState),classes:w,ref:t,children:l}))}))});function pr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)},()=>{})}function fr(e){return Un(e).defaultView||window}function mr(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function gr(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function vr(e){return parseInt(fr(e).getComputedStyle(e).paddingRight,10)||0}function yr(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,e=>{const t=-1===i.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&gr(e,o)})}function br(e,t){let n=-1;return e.some((e,r)=>!!t(e)&&(n=r,!0)),n}function xr(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=Un(e);return t.body===e?fr(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=mr(Un(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(vr(r)+e,"px");const t=Un(r).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(vr(t)+e,"px")})}let e;if(r.parentNode instanceof DocumentFragment)e=Un(r).body;else{const t=r.parentElement,n=fr(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach(e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)})}}const wr=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&gr(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);yr(t,e.mount,e.modalRef,r,!0);const o=br(this.containers,e=>e.container===t);return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=br(this.containers,t=>-1!==t.modals.indexOf(e)),r=this.containers[n];r.restore||(r.restore=xr(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=br(this.containers,t=>-1!==t.modals.indexOf(e)),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&gr(e.modalRef,t),yr(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&gr(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const Sr=function(e){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:o=!1,manager:i=wr,closeAfterTransition:a=!1,onTransitionEnter:l,onTransitionExited:c,children:u,onClose:d,open:h,rootRef:p}=e,f=t.useRef({}),m=t.useRef(null),g=t.useRef(null),v=rt(g,p),[y,b]=t.useState(!h),x=function(e){return!!e&&e.props.hasOwnProperty("in")}(u);let w=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(w=!1);const S=()=>(f.current.modalRef=g.current,f.current.mount=m.current,f.current),k=()=>{i.mount(S(),{disableScrollLock:o}),g.current&&(g.current.scrollTop=0)},A=st(()=>{const e=function(e){return"function"===typeof e?e():e}(n)||Un(m.current).body;i.add(S(),e),g.current&&k()}),E=t.useCallback(()=>i.isTopModal(S()),[i]),C=st(e=>{m.current=e,e&&(h&&E()?k():g.current&&gr(g.current,w))}),I=t.useCallback(()=>{i.remove(S(),w)},[w,i]);t.useEffect(()=>()=>{I()},[I]),t.useEffect(()=>{h?A():x&&a||I()},[h,I,x,a,A]);const T=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&E()&&(r||(t.stopPropagation(),d&&d(t,"escapeKeyDown")))},j=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=On(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,s.A)({},n,t);return(0,s.A)({role:"presentation"},r,{onKeyDown:T(r),ref:v})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.A)({"aria-hidden":!0},e,{onClick:j(e),open:h})},getTransitionProps:()=>({onEnter:pr(()=>{b(!1),l&&l()},null==u?void 0:u.props.onEnter),onExited:pr(()=>{b(!0),c&&c(),a&&I()},null==u?void 0:u.props.onExited)}),rootRef:v,portalRef:C,isTopModal:E,exited:y,hasTransition:x}};function kr(e){return oe("MuiModal",e)}ie("MuiModal",["root","hidden","backdrop"]);const Ar=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Er=me("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})}),Cr=me(hr,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Ir=t.forwardRef(function(e,n){var r,o,i,l,c,u;const d=xe({name:"MuiModal",props:e}),{BackdropComponent:h=Cr,BackdropProps:p,className:f,closeAfterTransition:m=!1,children:g,container:v,component:y,components:b={},componentsProps:x={},disableAutoFocus:w=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:k=!1,disablePortal:A=!1,disableRestoreFocus:E=!1,disableScrollLock:C=!1,hideBackdrop:I=!1,keepMounted:T=!1,onBackdropClick:j,open:_,slotProps:R,slots:P}=d,N=(0,a.A)(d,Ar),O=(0,s.A)({},d,{closeAfterTransition:m,disableAutoFocus:w,disableEnforceFocus:S,disableEscapeKeyDown:k,disablePortal:A,disableRestoreFocus:E,disableScrollLock:C,hideBackdrop:I,keepMounted:T}),{getRootProps:L,getBackdropProps:M,getTransitionProps:D,portalRef:F,isTopModal:z,exited:V,hasTransition:U}=Sr((0,s.A)({},O,{rootRef:n})),B=(0,s.A)({},O,{exited:V}),q=(e=>{const{open:t,exited:n,classes:r}=e;return ue({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},kr,r)})(B),W={};if(void 0===g.props.tabIndex&&(W.tabIndex="-1"),U){const{onEnter:e,onExited:t}=D();W.onEnter=e,W.onExited=t}const K=null!=(r=null!=(o=null==P?void 0:P.root)?o:b.Root)?r:Er,G=null!=(i=null!=(l=null==P?void 0:P.backdrop)?l:b.Backdrop)?i:h,Q=null!=(c=null==R?void 0:R.root)?c:x.root,X=null!=(u=null==R?void 0:R.backdrop)?u:x.backdrop,$=zn({elementType:K,externalSlotProps:Q,externalForwardedProps:N,getSlotProps:L,additionalProps:{ref:n,as:y},ownerState:B,className:H(f,null==Q?void 0:Q.className,null==q?void 0:q.root,!B.open&&B.exited&&(null==q?void 0:q.hidden))}),Y=zn({elementType:G,externalSlotProps:X,additionalProps:p,getSlotProps:e=>M((0,s.A)({},e,{onClick:t=>{j&&j(t),null!=e&&e.onClick&&e.onClick(t)}})),className:H(null==X?void 0:X.className,null==p?void 0:p.className,null==q?void 0:q.backdrop),ownerState:B});return T||_||U&&!V?(0,J.jsx)(Gn,{ref:F,container:v,disablePortal:A,children:(0,J.jsxs)(K,(0,s.A)({},$,{children:[!I&&h?(0,J.jsx)(G,(0,s.A)({},Y)):null,(0,J.jsx)(Hn,{disableEnforceFocus:S,disableAutoFocus:w,disableRestoreFocus:E,isEnabled:z,open:_,children:t.cloneElement(g,W)})]}))}):null}),Tr=Ir;function jr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout(()=>{e.apply(this,o)},n)}return r.clear=()=>{clearTimeout(t)},r}const _r=jr,Rr=fr,Pr=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Nr(e,t,n){var r;const o=function(e,t,n){const r=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),i=Rr(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const e=i.getComputedStyle(t);s=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let a=0,l=0;if(s&&"none"!==s&&"string"===typeof s){const e=s.split("(")[1].split(")")[0].split(",");a=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?"translateX(".concat(o?o.right+a-r.left:i.innerWidth+a-r.left,"px)"):"right"===e?"translateX(-".concat(o?r.right-o.left-a:r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(o?o.bottom+l-r.top:i.innerHeight+l-r.top,"px)"):"translateY(-".concat(o?r.top-o.top+r.height-l:r.top+r.height-l,"px)")}(e,t,"function"===typeof(r=n)?r():r);o&&(t.style.webkitTransform=o,t.style.transform=o)}const Or=t.forwardRef(function(e,n){const r=_e(),o={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:l,appear:c=!0,children:u,container:d,direction:h="down",easing:p=o,in:f,onEnter:m,onEntered:g,onEntering:v,onExit:y,onExited:b,onExiting:x,style:w,timeout:S=i,TransitionComponent:k=nr}=e,A=(0,a.A)(e,Pr),E=t.useRef(null),C=ot(Vn(u),E,n),I=e=>t=>{e&&(void 0===t?e(E.current):e(E.current,t))},T=I((e,t)=>{Nr(h,e,d),rr(e),m&&m(e,t)}),j=I((e,t)=>{const n=or({timeout:S,style:w,easing:p},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",(0,s.A)({},n)),e.style.transition=r.transitions.create("transform",(0,s.A)({},n)),e.style.webkitTransform="none",e.style.transform="none",v&&v(e,t)}),_=I(g),R=I(x),P=I(e=>{const t=or({timeout:S,style:w,easing:p},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),Nr(h,e,d),y&&y(e)}),N=I(e=>{e.style.webkitTransition="",e.style.transition="",b&&b(e)}),O=t.useCallback(()=>{E.current&&Nr(h,E.current,d)},[h,d]);return t.useEffect(()=>{if(f||"down"===h||"right"===h)return;const e=_r(()=>{E.current&&Nr(h,E.current,d)}),t=Rr(E.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[h,f,d]),t.useEffect(()=>{f||O()},[f,O]),(0,J.jsx)(k,(0,s.A)({nodeRef:E,onEnter:T,onEntered:_,onEntering:j,onExit:P,onExited:N,onExiting:R,addEndListener:e=>{l&&l(E.current,e)},appear:c,in:f,timeout:S},A,{children:(e,n)=>t.cloneElement(u,(0,s.A)({ref:C,style:(0,s.A)({visibility:"exited"!==e||f?void 0:"hidden"},w,u.props.style)},n))}))}),Lr=Or;function Mr(e){return oe("MuiDrawer",e)}ie("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Dr=["BackdropProps"],Fr=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],zr=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},Vr=me(Tr,{name:"MuiDrawer",slot:"Root",overridesResolver:zr})(e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}}),Ur=me("div",{shouldForwardProp:fe,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:zr})({flex:"0 0 auto"}),Br=me(Ge,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["paperAnchor".concat(Se(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat(Se(n.anchor))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:"1px solid ".concat((t.vars||t).palette.divider)},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider)},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:"1px solid ".concat((t.vars||t).palette.divider)})}),qr={left:"right",right:"left",top:"down",bottom:"up"};const Wr=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiDrawer"}),o=_e(),i=_n(),l={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:c="left",BackdropProps:u,children:d,className:h,elevation:p=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:m}={},onClose:g,open:v=!1,PaperProps:y={},SlideProps:b,TransitionComponent:x=Lr,transitionDuration:w=l,variant:S="temporary"}=r,k=(0,a.A)(r.ModalProps,Dr),A=(0,a.A)(r,Fr),E=t.useRef(!1);t.useEffect(()=>{E.current=!0},[]);const C=function(e,t){let{direction:n}=e;return"rtl"===n&&function(e){return-1!==["left","right"].indexOf(e)}(t)?qr[t]:t}({direction:i?"rtl":"ltr"},c),I=c,T=(0,s.A)({},r,{anchor:I,elevation:p,open:v,variant:S},A),j=(e=>{const{classes:t,anchor:n,variant:r}=e;return ue({root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(Se(n)),"temporary"!==r&&"paperAnchorDocked".concat(Se(n))]},Mr,t)})(T),_=(0,J.jsx)(Br,(0,s.A)({elevation:"temporary"===S?p:0,square:!0},y,{className:H(j.paper,y.className),ownerState:T,children:d}));if("permanent"===S)return(0,J.jsx)(Ur,(0,s.A)({className:H(j.root,j.docked,h),ownerState:T,ref:n},A,{children:_}));const R=(0,J.jsx)(x,(0,s.A)({in:v,direction:qr[C],timeout:w,appear:E.current},b,{children:_}));return"persistent"===S?(0,J.jsx)(Ur,(0,s.A)({className:H(j.root,j.docked,h),ownerState:T,ref:n},A,{children:R})):(0,J.jsx)(Vr,(0,s.A)({BackdropProps:(0,s.A)({},u,m,{transitionDuration:w}),className:H(j.root,j.modal,h),open:v,ownerState:T,onClose:g,hideBackdrop:f,ref:n},A,k,{children:R}))}),Hr=Wr;const Kr=t.createContext({});function Gr(e){return oe("MuiList",e)}ie("MuiList",["root","padding","dense","subheader"]);const Qr=["children","className","component","dense","disablePadding","subheader"],Xr=me("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(e=>{let{ownerState:t}=e;return(0,s.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})}),$r=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiList"}),{children:o,className:i,component:l="ul",dense:c=!1,disablePadding:u=!1,subheader:d}=r,h=(0,a.A)(r,Qr),p=t.useMemo(()=>({dense:c}),[c]),f=(0,s.A)({},r,{component:l,dense:c,disablePadding:u}),m=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e;return ue({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},Gr,t)})(f);return(0,J.jsx)(Kr.Provider,{value:p,children:(0,J.jsxs)(Xr,(0,s.A)({as:l,className:H(m.root,i),ref:n,ownerState:f},h,{children:[d,o]}))})});const Yr=function(e,n){var r,o;return t.isValidElement(e)&&-1!==n.indexOf(null!=(r=e.type.muiName)?r:null==(o=e.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)},Jr=it;function Zr(e){return oe("MuiListItem",e)}const eo=ie("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);const to=ie("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function no(e){return oe("MuiListItemSecondaryAction",e)}ie("MuiListItemSecondaryAction",["root","disableGutters"]);const ro=["className"],oo=me("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(e=>{let{ownerState:t}=e;return(0,s.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})}),io=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiListItemSecondaryAction"}),{className:o}=r,i=(0,a.A)(r,ro),l=t.useContext(Kr),c=(0,s.A)({},r,{disableGutters:l.disableGutters}),u=(e=>{const{disableGutters:t,classes:n}=e;return ue({root:["root",t&&"disableGutters"]},no,n)})(c);return(0,J.jsx)(oo,(0,s.A)({className:H(u.root,o),ownerState:c,ref:n},i))});io.muiName="ListItemSecondaryAction";const so=io,ao=["className"],lo=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],co=me("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,s.A)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{["& > .".concat(to.root)]:{paddingRight:48}},{["&.".concat(eo.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(eo.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,f.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(eo.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,f.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(eo.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(eo.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,f.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,f.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})}),uo=me("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),ho=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiListItem"}),{alignItems:o="center",autoFocus:i=!1,button:l=!1,children:c,className:u,component:d,components:h={},componentsProps:p={},ContainerComponent:f="li",ContainerProps:{className:m}={},dense:g=!1,disabled:v=!1,disableGutters:y=!1,disablePadding:b=!1,divider:x=!1,focusVisibleClassName:w,secondaryAction:S,selected:k=!1,slotProps:A={},slots:E={}}=r,C=(0,a.A)(r.ContainerProps,ao),I=(0,a.A)(r,lo),T=t.useContext(Kr),j=t.useMemo(()=>({dense:g||T.dense||!1,alignItems:o,disableGutters:y}),[o,T.dense,g,y]),_=t.useRef(null);Jr(()=>{i&&_.current&&_.current.focus()},[i]);const R=t.Children.toArray(c),P=R.length&&Yr(R[R.length-1],["ListItemSecondaryAction"]),N=(0,s.A)({},r,{alignItems:o,autoFocus:i,button:l,dense:j.dense,disabled:v,disableGutters:y,disablePadding:b,divider:x,hasSecondaryAction:P,selected:k}),O=(e=>{const{alignItems:t,button:n,classes:r,dense:o,disabled:i,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=e;return ue({root:["root",o&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",i&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},Zr,r)})(N),L=ot(_,n),M=E.root||h.Root||co,D=A.root||p.root||{},F=(0,s.A)({className:H(O.root,D.className,u),disabled:v},I);let z=d||"li";return l&&(F.component=d||"div",F.focusVisibleClassName=H(eo.focusVisible,w),z=nn),P?(z=F.component||d?z:"div","li"===f&&("li"===z?z="div":"li"===F.component&&(F.component="div")),(0,J.jsx)(Kr.Provider,{value:j,children:(0,J.jsxs)(uo,(0,s.A)({as:f,className:H(O.container,m),ref:L,ownerState:N},C,{children:[(0,J.jsx)(M,(0,s.A)({},D,!Pn(M)&&{as:z,ownerState:(0,s.A)({},N,D.ownerState)},F,{children:R})),R.pop()]}))})):(0,J.jsx)(Kr.Provider,{value:j,children:(0,J.jsxs)(M,(0,s.A)({},D,{as:z,ref:L},!Pn(M)&&{ownerState:(0,s.A)({},N,D.ownerState)},F,{children:[R,S&&(0,J.jsx)(so,{children:S})]}))})});function po(e){return oe("MuiListItemIcon",e)}const fo=ie("MuiListItemIcon",["root","alignItemsFlexStart"]),mo=["className"],go=me("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})}),vo=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiListItemIcon"}),{className:o}=r,i=(0,a.A)(r,mo),l=t.useContext(Kr),c=(0,s.A)({},r,{alignItems:l.alignItems}),u=(e=>{const{alignItems:t,classes:n}=e;return ue({root:["root","flex-start"===t&&"alignItemsFlexStart"]},po,n)})(c);return(0,J.jsx)(go,(0,s.A)({className:H(u.root,o),ownerState:c,ref:n},i))});function yo(e){return oe("MuiListItemText",e)}const bo=ie("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),xo=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],wo=me("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(bo.primary)]:t.primary},{["& .".concat(bo.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(e=>{let{ownerState:t}=e;return(0,s.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})}),So=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiListItemText"}),{children:o,className:i,disableTypography:l=!1,inset:c=!1,primary:u,primaryTypographyProps:d,secondary:h,secondaryTypographyProps:p}=r,f=(0,a.A)(r,xo),{dense:m}=t.useContext(Kr);let g=null!=u?u:o,v=h;const y=(0,s.A)({},r,{disableTypography:l,inset:c,primary:!!g,secondary:!!v,dense:m}),b=(e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:i}=e;return ue({root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},yo,t)})(y);return null==g||g.type===Te||l||(g=(0,J.jsx)(Te,(0,s.A)({variant:m?"body2":"body1",className:b.primary,component:null!=d&&d.variant?void 0:"span",display:"block"},d,{children:g}))),null==v||v.type===Te||l||(v=(0,J.jsx)(Te,(0,s.A)({variant:"body2",className:b.secondary,color:"text.secondary",display:"block"},p,{children:v}))),(0,J.jsxs)(wo,(0,s.A)({className:H(b.root,i),ownerState:y,ref:n},f,{children:[g,v]}))});function ko(e){let{props:t,name:n,defaultTheme:r,themeId:o}=e,i=Y(r);o&&(i=i[o]||i);const s=function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?ge(t.components[n].defaultProps,r):r}({theme:i,name:n,props:t});return s}const Ao=["ownerState"],Eo=["variants"],Co=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Io(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function To(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}const jo=(0,h.A)(),_o=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function Ro(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function Po(e){return e?(t,n)=>n[e]:null}function No(e,t,n){let{ownerState:r}=t,o=(0,a.A)(t,Ao);const i="function"===typeof e?e((0,s.A)({ownerState:r},o)):e;if(Array.isArray(i))return i.flatMap(e=>No(e,(0,s.A)({ownerState:r},o),n));if(i&&"object"===typeof i&&Array.isArray(i.variants)){const{variants:e=[]}=i;let t=(0,a.A)(i,Eo);return e.forEach(e=>{let i=!0;if("function"===typeof e.props?i=e.props((0,s.A)({ownerState:r},o,r)):Object.keys(e.props).forEach(t=>{(null==r?void 0:r[t])!==e.props[t]&&o[t]!==e.props[t]&&(i=!1)}),i){Array.isArray(t)||(t=[t]);const i="function"===typeof e.style?e.style((0,s.A)({ownerState:r},o,r)):e.style;t.push(n?To((0,K.internal_serializeStyles)(i),n):i)}}),t}return n?To((0,K.internal_serializeStyles)(i),n):i}const Oo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=jo,rootShouldForwardProp:r=Io,slotShouldForwardProp:o=Io}=e,i=e=>(0,d.A)((0,s.A)({},e,{theme:Ro((0,s.A)({},e,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,K.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));const{name:u,slot:d,skipVariantsResolver:h,skipSx:p,overridesResolver:f=Po(_o(d))}=l,m=(0,a.A)(l,Co),g=u&&u.startsWith("Mui")||d?"components":"custom",v=void 0!==h?h:d&&"Root"!==d&&"root"!==d||!1,y=p||!1;let b=Io;"Root"===d||"root"===d?b=r:d?b=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(b=void 0);const x=(0,K.default)(e,(0,s.A)({shouldForwardProp:b,label:undefined},m)),w=e=>"function"===typeof e&&e.__emotion_real!==e||(0,c.Q)(e)?r=>{const o=Ro({theme:r.theme,defaultTheme:n,themeId:t});return No(e,(0,s.A)({},r,{theme:o}),o.modularCssLayers?g:void 0)}:e,S=function(r){let o=w(r);for(var a=arguments.length,l=new Array(a>1?a-1:0),c=1;c<a;c++)l[c-1]=arguments[c];const d=l?l.map(w):[];u&&f&&d.push(e=>{const r=Ro((0,s.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[u]||!r.components[u].styleOverrides)return null;const o=r.components[u].styleOverrides,i={};return Object.entries(o).forEach(t=>{let[n,o]=t;i[n]=No(o,(0,s.A)({},e,{theme:r}),r.modularCssLayers?"theme":void 0)}),f(e,i)}),u&&!v&&d.push(e=>{var r;const o=Ro((0,s.A)({},e,{defaultTheme:n,themeId:t}));return No({variants:null==o||null==(r=o.components)||null==(r=r[u])?void 0:r.variants},(0,s.A)({},e,{theme:o}),o.modularCssLayers?"theme":void 0)}),y||d.push(i);const h=d.length-l.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");o=[...r,...e],o.raw=[...r.raw,...e]}const p=x(o,...d);return e.muiName&&(p.muiName=e.muiName),p};return x.withConfig&&(S.withConfig=x.withConfig),S}}(),Lo=Oo,Mo=["className","component","disableGutters","fixed","maxWidth","classes"],Do=(0,h.A)(),Fo=Lo("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,we.A)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),zo=e=>ko({props:e,name:"MuiContainer",defaultTheme:Do});const Vo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=Fo,useThemeProps:r=zo,componentName:o="MuiContainer"}=e,i=n(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})},e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce((e,n)=>{const r=n,o=t.breakpoints.values[r];return 0!==o&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(o).concat(t.breakpoints.unit)}),e},{})},e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}})}),l=t.forwardRef(function(e,t){const n=r(e),{className:l,component:c="div",disableGutters:u=!1,fixed:d=!1,maxWidth:h="lg"}=n,p=(0,a.A)(n,Mo),f=(0,s.A)({},n,{component:c,disableGutters:u,fixed:d,maxWidth:h}),m=((e,t)=>{const{classes:n,fixed:r,disableGutters:o,maxWidth:i}=e;return ue({root:["root",i&&"maxWidth".concat((0,we.A)(String(i))),r&&"fixed",o&&"disableGutters"]},e=>oe(t,e),n)})(f,o);return(0,J.jsx)(i,(0,s.A)({as:c,ownerState:f,className:H(m.root,l),ref:t},p))});return l}({createStyledComponent:me("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat(Se(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>xe({props:e,name:"MuiContainer"})}),Uo=Vo;const Bo=t.createContext(null);function qo(){return t.useContext(Bo)}const Wo="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const Ho=function(e){const{children:n,theme:r}=e,o=qo(),i=t.useMemo(()=>{const e=null===o?r:function(e,t){if("function"===typeof t)return t(e);return(0,s.A)({},e,t)}(o,r);return null!=e&&(e[Wo]=null!==o),e},[r,o]);return(0,J.jsx)(Bo.Provider,{value:i,children:n})};let Ko=0;const Go=r["useId".toString()];function Qo(e){if(void 0!==Go){const t=Go();return null!=e?e:t}return function(e){const[n,r]=t.useState(e),o=e||n;return t.useEffect(()=>{null==n&&(Ko+=1,r("mui-".concat(Ko)))},[n]),o}(e)}var Xo=n(869);function $o(e){const t=(0,K.internal_serializeStyles)(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles="@layer global{".concat(t.styles,"}")),t):e}const Yo=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const o=Y(r),i=n&&o[n]||o;let s="function"===typeof t?t(i):t;return i.modularCssLayers&&(s=Array.isArray(s)?s.map(e=>$o("function"===typeof e?e(i):e)):$o(s)),(0,J.jsx)(Xo.A,{styles:s})};const Jo={};function Zo(e,n,r){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.useMemo(()=>{const t=e&&n[e]||n;if("function"===typeof r){const i=r(t),a=e?(0,s.A)({},n,{[e]:i}):i;return o?()=>a:a}return e?(0,s.A)({},n,{[e]:r}):(0,s.A)({},n,r)},[e,n,r,o])}const ei=function(e){const{children:t,theme:n,themeId:r}=e,o=X(Jo),i=qo()||Jo,s=Zo(r,o,n),a=Zo(r,i,n,!0),l="rtl"===s.direction,c=function(e){const t=X(),n=Qo()||"",{modularCssLayers:r}=e;let o="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return o=r&&null===t?"string"===typeof r?r.replace(/mui(?!\.)/g,o):"@layer ".concat(o,";"):"",it(()=>{const e=document.querySelector("head");if(!e)return;const t=e.firstChild;if(o){var r;if(t&&null!=(r=t.hasAttribute)&&r.call(t,"data-mui-layer-order")&&t.getAttribute("data-mui-layer-order")===n)return;const i=document.createElement("style");i.setAttribute("data-mui-layer-order",n),i.textContent=o,e.prepend(i)}else{var i;null==(i=e.querySelector('style[data-mui-layer-order="'.concat(n,'"]')))||i.remove()}},[o,n]),o?(0,J.jsx)(Yo,{styles:o}):null}(s);return(0,J.jsx)(Ho,{theme:a,children:(0,J.jsx)(Q.T.Provider,{value:s,children:(0,J.jsx)(Rn,{value:l,children:(0,J.jsxs)(be,{value:null==s?void 0:s.components,children:[c,t]})})})})},ti=["theme"];function ni(e){let{theme:t}=e,n=(0,a.A)(e,ti);const r=t[ne];let o=r||t;return"function"!==typeof t&&(r&&!r.vars?o=(0,s.A)({},r,{vars:null}):t&&!t.vars&&(o=(0,s.A)({},t,{vars:null}))),(0,J.jsx)(ei,(0,s.A)({},n,{themeId:r?ne:void 0,theme:o}))}const ri=function(e){return(0,J.jsx)(Yo,(0,s.A)({},e,{defaultTheme:he,themeId:ne}))},oi=(e,t)=>(0,s.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),ii=e=>(0,s.A)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const si=function(e){const n=xe({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:o=!1}=n;return(0,J.jsxs)(t.Fragment,{children:[(0,J.jsx)(ri,{styles:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(t=>{let[n,o]=t;var i;r[e.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(i=o.palette)?void 0:i.mode}});let o=(0,s.A)({html:oi(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,s.A)({margin:0},ii(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const i=null==(n=e.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return i&&(o=[o,i]),o}(e,o)}),r]})};function ai(e){return oe("MuiSvgIcon",e)}ie("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const li=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],ci=me("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(Se(n.color))],t["fontSize".concat(Se(n.fontSize))]]}})(e=>{let{theme:t,ownerState:n}=e;var r,o,i,s,a,l,c,u,d,h,p,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(o=r.create)?void 0:o.call(r,"fill",{duration:null==(i=t.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[n.color])?void 0:p.main)?h:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}}),ui=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiSvgIcon"}),{children:o,className:i,color:l="inherit",component:c="svg",fontSize:u="medium",htmlColor:d,inheritViewBox:h=!1,titleAccess:p,viewBox:f="0 0 24 24"}=r,m=(0,a.A)(r,li),g=t.isValidElement(o)&&"svg"===o.type,v=(0,s.A)({},r,{color:l,component:c,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:f,hasSvgAsChild:g}),y={};h||(y.viewBox=f);const b=(e=>{const{color:t,fontSize:n,classes:r}=e;return ue({root:["root","inherit"!==t&&"color".concat(Se(t)),"fontSize".concat(Se(n))]},ai,r)})(v);return(0,J.jsxs)(ci,(0,s.A)({as:c,className:H(b.root,i),focusable:"false",color:d,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:n},y,m,g&&o.props,{ownerState:v,children:[g?o.props.children:o,p?(0,J.jsx)("title",{children:p}):null]}))});ui.muiName="SvgIcon";const di=ui;function hi(e,n){function r(t,r){return(0,J.jsx)(di,(0,s.A)({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))}return r.muiName=di.muiName,t.memo(t.forwardRef(r))}const pi=hi((0,J.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),fi=hi((0,J.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Assessment"),mi=hi((0,J.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),gi=hi([(0,J.jsx)("path",{d:"M13 8.57c-.79 0-1.43.64-1.43 1.43s.64 1.43 1.43 1.43 1.43-.64 1.43-1.43-.64-1.43-1.43-1.43"},"0"),(0,J.jsx)("path",{d:"M13 3C9.25 3 6.2 5.94 6.02 9.64L4.1 12.2c-.25.33-.01.8.4.8H6v3c0 1.1.9 2 2 2h1v3h7v-4.68c2.36-1.12 4-3.53 4-6.32 0-3.87-3.13-7-7-7m3 7c0 .13-.01.26-.02.39l.83.66c.08.06.1.16.05.25l-.8 1.39c-.05.09-.16.12-.24.09l-.99-.4c-.21.16-.43.29-.67.39L14 13.83c-.01.1-.1.17-.2.17h-1.6c-.1 0-.18-.07-.2-.17l-.15-1.06c-.25-.1-.47-.23-.68-.39l-.99.4c-.09.03-.2 0-.25-.09l-.8-1.39c-.05-.08-.03-.19.05-.25l.84-.66c-.01-.13-.02-.26-.02-.39s.02-.27.04-.39l-.85-.66c-.08-.06-.1-.16-.05-.26l.8-1.38c.05-.09.15-.12.24-.09l1 .4c.2-.15.43-.29.67-.39L12 6.17c.02-.1.1-.17.2-.17h1.6c.1 0 .18.07.2.17l.15 1.06c.24.1.46.23.67.39l1-.4c.09-.03.2 0 .24.09l.8 1.38c.05.09.03.2-.05.26l-.85.66c.03.12.04.25.04.39"},"1")],"Psychology"),vi=hi((0,J.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),yi=hi((0,J.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"}),"VolumeUp"),bi=hi((0,J.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp");var xi,wi=n(6667),Si=n(7064),ki=n(8557),Ai=n(6068),Ei=n(3069);const Ci="undefined"!==typeof window.Capacitor,Ii=Ci?null===(xi=window.Capacitor)||void 0===xi?void 0:xi.getPlatform():"web";let Ti=null,ji=null,_i=null,Ri=null;try{Ti=(0,Si.Wp)(Ei.x),ji=(0,wi.aU)(Ti),_i=(0,ki.xI)(Ti),Ri=(0,Ai.c7)(Ti),console.log("\u2705 Firebase initialis\xe9 avec succ\xe8s (".concat(Ii,")"))}catch(Sy){const e=Sy instanceof Error?Sy.message:String(Sy);console.error("\u274c Erreur Firebase (".concat(Ii,"):"),e),Ci&&console.warn("Mode offline activ\xe9 pour Capacitor")}const Pi=()=>!!_i&&!!_i.currentUser,Ni=e=>{if(!e)return null;const t=(0,i.A)({},e);return Object.keys(t).forEach(e=>{t[e]instanceof wi.Dc?t[e]=t[e].toDate():t[e]&&"object"===typeof t[e]&&!Array.isArray(t[e])&&(t[e]=Ni(t[e]))}),t},Oi=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!ji)return console.warn("Firestore n'est pas initialis\xe9"),[];try{const n=(0,wi.rJ)(ji,e),r=t.length>0?(0,wi.P)(n,...t):(0,wi.P)(n),o=await(0,wi.GG)(r),s=[];return o.forEach(e=>{const t=e.data();s.push(Ni((0,i.A)((0,i.A)({},t),{},{id:e.id})))}),s}catch(Sy){var n,r;if("unavailable"===Sy.code||"failed-precondition"===Sy.code||null!==(n=Sy.message)&&void 0!==n&&n.includes("offline")||null!==(r=Sy.message)&&void 0!==r&&r.includes("network"))return[];throw"permission-denied"!==Sy.code&&console.error("Erreur lors de la r\xe9cup\xe9ration des documents ".concat(e,":"),Sy),Sy}},Li=async(e,t,n)=>{if(ji){if(Pi())try{const r=(0,wi.H9)(ji,e,t);await(0,wi.BN)(r,(0,i.A)((0,i.A)({},n),{},{updatedAt:wi.Dc.now()}),{merge:!0})}catch(Sy){var r;throw"permission-denied"===Sy.code||null!==(r=Sy.message)&&void 0!==r&&r.includes("permission")?console.warn("Permission refus\xe9e pour ".concat(e,"/").concat(t,". L'utilisateur doit \xeatre authentifi\xe9.")):console.error("Erreur lors de la sauvegarde du document ".concat(e,"/").concat(t,":"),Sy),Sy}}else console.warn("Firestore n'est pas initialis\xe9")},Mi=async function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"asc",i=arguments.length>5?arguments[5]:void 0;const s=[(0,wi._M)(t,"==",n)];return r&&s.push((0,wi.My)(r,o)),i&&s.push((0,wi.AB)(i)),Oi(e,s)},Di="users",Fi=e=>({id:e.id,name:e.email||"".concat(e.firstName||""," ").concat(e.lastName||"").trim()||"Utilisateur",currentLevel:e.currentLevel,targetLevel:e.targetLevel,strengths:[],weaknesses:e.weaknesses||[],completedExercises:e.completedExercises||0,totalScore:e.totalScore||0,createdAt:e.createdAt,lastActivity:e.lastActivity||e.updatedAt}),zi=async e=>{const t=await(async(e,t)=>{if(!ji)return console.warn("Firestore n'est pas initialis\xe9"),null;try{const n=(0,wi.H9)(ji,e,t),r=await(0,wi.x7)(n);if(r.exists()){const e=r.data();return Ni((0,i.A)((0,i.A)({},e),{},{id:r.id}))}return null}catch(Sy){var n,r;if("unavailable"===Sy.code||"failed-precondition"===Sy.code||null!==(n=Sy.message)&&void 0!==n&&n.includes("offline")||null!==(r=Sy.message)&&void 0!==r&&r.includes("network"))return null;throw"permission-denied"!==Sy.code&&console.error("Erreur lors de la r\xe9cup\xe9ration du document ".concat(e,"/").concat(t,":"),Sy),Sy}})(Di,e);return t?Fi(t):null},Vi=async e=>{const t=(e=>({email:e.name,currentLevel:e.currentLevel,targetLevel:e.targetLevel,weaknesses:e.weaknesses,completedExercises:e.completedExercises,totalScore:e.totalScore,createdAt:e.createdAt,lastActivity:e.lastActivity}))(e);await Li(Di,e.id,(0,i.A)((0,i.A)({},t),{},{createdAt:e.createdAt||new Date,updatedAt:new Date}))},Ui=async(e,t)=>{const n={};t.currentLevel&&(n.currentLevel=t.currentLevel),t.targetLevel&&(n.targetLevel=t.targetLevel),t.weaknesses&&(n.weaknesses=t.weaknesses),void 0!==t.completedExercises&&(n.completedExercises=t.completedExercises),void 0!==t.totalScore&&(n.totalScore=t.totalScore),t.lastActivity&&(n.lastActivity=t.lastActivity),await(async(e,t,n)=>{if(ji){if(Pi())try{const r=(0,wi.H9)(ji,e,t);await(0,wi.mZ)(r,(0,i.A)((0,i.A)({},n),{},{updatedAt:wi.Dc.now()}))}catch(Sy){var r;throw"permission-denied"===Sy.code||null!==(r=Sy.message)&&void 0!==r&&r.includes("permission")?console.warn("Permission refus\xe9e pour ".concat(e,"/").concat(t,". L'utilisateur doit \xeatre authentifi\xe9.")):console.error("Erreur lors de la mise \xe0 jour du document ".concat(e,"/").concat(t,":"),Sy),Sy}}else console.warn("Firestore n'est pas initialis\xe9")})(Di,e,n)},Bi="userProgress",qi=e=>({exerciseId:e.exerciseId,questionId:e.questionId,answer:e.userAnswer,isCorrect:e.isCorrect,timeSpent:e.timeSpent,timestamp:e.completedAt}),Wi=async(e,t)=>(await Mi(Bi,"userId",e,"completedAt","desc",t)).map(qi),Hi=async(e,t,n,r,o,s)=>{const a="".concat(e,"_").concat(n,"_").concat(t.questionId,"_").concat(Date.now()),l=((e,t,n,r,o,i)=>({userId:e,exerciseId:n,exerciseType:r,questionId:t.questionId||t.exerciseId,userAnswer:t.answer,isCorrect:t.isCorrect,timeSpent:t.timeSpent,score:t.isCorrect?100:0,level:o,domain:i,completedAt:t.timestamp}))(e,t,n,r,o,s);return await Li(Bi,a,(0,i.A)((0,i.A)({},l),{},{createdAt:new Date,updatedAt:new Date})),a},Ki="assessmentResults",Gi=async(e,t)=>await Mi(Ki,"userId",e,"completedAt","desc",t),Qi=async e=>{const t="".concat(e.userId,"_").concat(e.assessmentType,"_").concat(Date.now()),n=(e=>({userId:e.userId,assessmentType:e.assessmentType,testType:e.testType,level:e.level,totalQuestions:e.totalQuestions,correctAnswers:e.correctAnswers,listeningScore:e.listeningScore,readingScore:e.readingScore,writingScore:e.writingScore,speakingScore:e.speakingScore,overallScore:e.overallScore,assessedLevel:e.assessedLevel,weakAreas:e.weakAreas,strongAreas:e.strongAreas,answers:e.answers,completedAt:new Date}))(e);return await Li(Ki,t,(0,i.A)((0,i.A)({},n),{},{createdAt:new Date,updatedAt:new Date})),t},Xi="syncQueue",$i="lastSync",Yi=3e5,Ji=e=>{try{const t=Zi();t.push(e),localStorage.setItem(Xi,JSON.stringify(t))}catch(Sy){console.error("Erreur lors de l'ajout \xe0 la queue de synchronisation:",Sy)}},Zi=()=>{try{const e=localStorage.getItem(Xi);return e?JSON.parse(e):[]}catch(Sy){return console.error("Erreur lors de la r\xe9cup\xe9ration de la queue de synchronisation:",Sy),[]}},es=async e=>{try{localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("userProfile",JSON.stringify(e)),Ji({type:"user",action:"create",data:e,timestamp:Date.now()});try{await Vi(e)}catch(Sy){var t;null!==(t=Sy.message)&&void 0!==t&&t.includes("non authentifi\xe9")||"permission-denied"===Sy.code?console.debug("Synchronisation utilisateur report\xe9e (utilisateur non authentifi\xe9)"):console.warn("Erreur lors de la synchronisation utilisateur avec Firestore:",Sy)}}catch(Sy){throw console.error("Erreur lors de la sauvegarde utilisateur:",Sy),Sy}},ts=async()=>{const e=Zi();if(0===e.length)return;const t=[];for(const n of e)try{switch(n.type){case"user":"create"===n.action?await Vi(n.data):"update"===n.action&&await Ui(n.data.userId,n.data.updates);break;case"progress":"create"===n.action&&await Hi(n.data.userId,n.data.progress,n.data.exerciseId,n.data.exerciseType,n.data.level,n.data.domain);break;case"assessment":"create"===n.action&&await Qi(n.data)}t.push(n.timestamp)}catch(Sy){console.error("Erreur lors du traitement de l'\xe9l\xe9ment de synchronisation:",Sy)}if(t.length>0){const n=e.filter(e=>!t.includes(e.timestamp));0===n.length?localStorage.removeItem(Xi):localStorage.setItem(Xi,JSON.stringify(n))}localStorage.setItem($i,Date.now().toString())},ns=async e=>{try{const t=await zi(e);t&&(localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("userProfile",JSON.stringify(t)));const n=await Wi(e);n.length>0&&localStorage.setItem("userResponses",JSON.stringify(n));(await Gi(e)).forEach(e=>{const t="".concat(e.testType||e.assessmentType,"Results");localStorage.setItem(t,JSON.stringify(e))}),localStorage.setItem($i,Date.now().toString())}catch(Sy){var t,n;if("unavailable"===Sy.code||"failed-precondition"===Sy.code||null!==(t=Sy.message)&&void 0!==t&&t.includes("offline")||null!==(n=Sy.message)&&void 0!==n&&n.includes("network"))return;"permission-denied"!==Sy.code&&console.error("Erreur lors de la synchronisation depuis Firestore:",Sy)}},rs=()=>{const e=localStorage.getItem($i);if(!e)return!0;const t=parseInt(e,10);return Date.now()-t>Yi},os=function(e){const t=setInterval(async()=>{rs()&&(await ts(),await ns(e))},arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yi);return()=>clearInterval(t)},is=(0,t.createContext)(void 0),ss=e=>{let{children:r}=e;const[o,s]=(0,t.useState)(null),[a,l]=(0,t.useState)(null),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)({totalExercises:0,completedExercises:0,averageScore:0,timeSpent:0,streakDays:0,levelProgress:{},domainProgress:{}}),p=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user"),n=localStorage.getItem("userResponses");return(async()=>{if(e&&t)try{const n=JSON.parse(t);l(e);const a={id:n.id||"user_".concat(Date.now()),name:"".concat(n.firstName||""," ").concat(n.lastName||"").trim()||n.email||"Utilisateur",currentLevel:n.currentLevel||"B1",targetLevel:n.targetLevel||"C1",strengths:[],weaknesses:n.weaknesses||[],completedExercises:0,totalScore:0,createdAt:n.createdAt?new Date(n.createdAt):new Date,lastActivity:n.lastLogin?new Date(n.lastLogin):new Date};if(s(a),rs()&&a.id){try{await ns(a.id);const e=localStorage.getItem("user"),t=localStorage.getItem("userResponses");if(e){const t=JSON.parse(e);s((0,i.A)((0,i.A)((0,i.A)({},a),t),{},{createdAt:t.createdAt?new Date(t.createdAt):a.createdAt,lastActivity:t.lastActivity?new Date(t.lastActivity):a.lastActivity}))}t&&u(JSON.parse(t))}catch(Sy){var r,o;"unavailable"===Sy.code||"failed-precondition"===Sy.code||null!==(r=Sy.message)&&void 0!==r&&r.includes("offline")||null!==(o=Sy.message)&&void 0!==o&&o.includes("network")||console.warn("Erreur lors de la synchronisation depuis Firestore:",Sy)}a.id&&!p.current&&(p.current=os(a.id))}}catch(Sy){console.error("Erreur chargement utilisateur:",Sy),localStorage.removeItem("token"),localStorage.removeItem("user")}if(n)try{u(JSON.parse(n))}catch(Sy){console.error("Erreur chargement r\xe9ponses:",Sy)}})(),()=>{p.current&&(p.current(),p.current=null)}},[]),(0,t.useEffect)(()=>{o&&(localStorage.setItem("userProfile",JSON.stringify(o)),es(o).catch(e=>{var t,n,r;"unavailable"===e.code||"failed-precondition"===e.code||"permission-denied"===e.code||null!==(t=e.message)&&void 0!==t&&t.includes("offline")||null!==(n=e.message)&&void 0!==n&&n.includes("network")||null!==(r=e.message)&&void 0!==r&&r.includes("non authentifi\xe9")||console.warn("Erreur lors de la synchronisation utilisateur:",e)}))},[o]),(0,t.useEffect)(()=>{localStorage.setItem("userResponses",JSON.stringify(c)),f()},[c]);const f=()=>{const e=new Set(c.map(e=>e.exerciseId)),t=c.filter(e=>e.isCorrect).length,n=c.length>0?t/c.length*100:0,r=c.reduce((e,t)=>e+t.timeSpent,0);h({totalExercises:e.size,completedExercises:e.size,averageScore:Math.round(100*n)/100,timeSpent:r,streakDays:m(),levelProgress:{},domainProgress:{}})},m=()=>{if(0===c.length)return 0;const e=c.map(e=>new Date(e.timestamp).toDateString()).filter((e,t,n)=>n.indexOf(e)===t).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime());let t=0,n=new Date;for(const r of e){const e=new Date(r);if(Math.floor((n.getTime()-e.getTime())/864e5)!==t)break;t++,n=e}return t},g=!!a&&!!o;return(0,J.jsx)(is.Provider,{value:{user:o,token:a,isAuthenticated:g,login:async(e,t)=>{l(e),localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t));const n={id:t.id||"user_".concat(Date.now()),name:"".concat(t.firstName||""," ").concat(t.lastName||"").trim()||t.email||"Utilisateur",currentLevel:t.currentLevel||"B1",targetLevel:t.targetLevel||"C1",strengths:[],weaknesses:t.weaknesses||[],completedExercises:0,totalScore:0,createdAt:t.createdAt?new Date(t.createdAt):new Date,lastActivity:new Date};s(n);try{await es(n),p.current&&p.current(),p.current=os(n.id)}catch(Sy){console.warn("Erreur lors de la synchronisation utilisateur:",Sy)}},logout:async()=>{p.current&&(p.current(),p.current=null);try{const{logoutUser:e}=await Promise.resolve().then(n.bind(n,3364));await e()}catch(Sy){console.warn("Erreur lors de la d\xe9connexion Firebase:",Sy)}l(null),s(null),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("userProfile"),localStorage.removeItem("userResponses"),localStorage.removeItem("levelAssessed"),localStorage.removeItem("firebaseUser"),localStorage.removeItem("pendingUser")},setUser:s,responses:c,addResponse:async e=>{if(u(t=>[...t,e]),o){const t=(0,i.A)((0,i.A)({},o),{},{completedExercises:o.completedExercises+1,lastActivity:new Date});s(t);try{const t=e.exerciseId,n=t.split("_")[0]||"qcm",r=o.currentLevel;await(async(e,t,n,r,o,i)=>{try{const a=localStorage.getItem("userResponses"),l=a?JSON.parse(a):[];l.push(t),localStorage.setItem("userResponses",JSON.stringify(l)),Ji({type:"progress",action:"create",data:{userId:e,progress:t,exerciseId:n,exerciseType:r,level:o,domain:i},timestamp:Date.now()});try{await Hi(e,t,n,r,o,i)}catch(Sy){var s;null!==(s=Sy.message)&&void 0!==s&&s.includes("non authentifi\xe9")||"permission-denied"===Sy.code?console.debug("Synchronisation progression report\xe9e (utilisateur non authentifi\xe9)"):console.warn("Erreur lors de la synchronisation progression avec Firestore:",Sy)}}catch(Sy){throw console.error("Erreur lors de la sauvegarde progression:",Sy),Sy}})(o.id,e,t,n,r)}catch(Sy){console.warn("Erreur lors de la synchronisation progression:",Sy)}}},stats:d,updateStats:f},children:r})},as=()=>{const e=(0,t.useContext)(is);if(!e)throw new Error("useUser must be used within a UserProvider");return e},ls=hi((0,J.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function cs(e){return oe("MuiChip",e)}const us=ie("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),ds=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],hs=me("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:i,onDelete:s,size:a,variant:l}=n;return[{["& .".concat(us.avatar)]:t.avatar},{["& .".concat(us.avatar)]:t["avatar".concat(Se(a))]},{["& .".concat(us.avatar)]:t["avatarColor".concat(Se(r))]},{["& .".concat(us.icon)]:t.icon},{["& .".concat(us.icon)]:t["icon".concat(Se(a))]},{["& .".concat(us.icon)]:t["iconColor".concat(Se(o))]},{["& .".concat(us.deleteIcon)]:t.deleteIcon},{["& .".concat(us.deleteIcon)]:t["deleteIcon".concat(Se(a))]},{["& .".concat(us.deleteIcon)]:t["deleteIconColor".concat(Se(r))]},{["& .".concat(us.deleteIcon)]:t["deleteIcon".concat(Se(l),"Color").concat(Se(r))]},t.root,t["size".concat(Se(a))],t["color".concat(Se(r))],i&&t.clickable,i&&"default"!==r&&t["clickableColor".concat(Se(r),")")],s&&t.deletable,s&&"default"!==r&&t["deletableColor".concat(Se(r))],t[l],t["".concat(l).concat(Se(r))]]}})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return(0,s.A)({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(us.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(us.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},["& .".concat(us.avatarColorPrimary)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},["& .".concat(us.avatarColorSecondary)]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},["& .".concat(us.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},["& .".concat(us.icon)]:(0,s.A)({marginLeft:5,marginRight:-6},"small"===n.size&&{fontSize:18,marginLeft:4,marginRight:-4},n.iconColor===n.color&&(0,s.A)({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},"default"!==n.color&&{color:"inherit"})),["& .".concat(us.deleteIcon)]:(0,s.A)({WebkitTapHighlightColor:"transparent",color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.26)"):(0,f.X4)(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.4)"):(0,f.X4)(t.palette.text.primary,.4)}},"small"===n.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==n.color&&{color:t.vars?"rgba(".concat(t.vars.palette[n.color].contrastTextChannel," / 0.7)"):(0,f.X4)(t.palette[n.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].contrastText}})},"small"===n.size&&{height:24},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},n.onDelete&&{["&.".concat(us.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,f.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},n.onDelete&&"default"!==n.color&&{["&.".concat(us.focusVisible)]:{backgroundColor:(t.vars||t).palette[n.color].dark}})},e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({},n.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,f.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},["&.".concat(us.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,f.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},n.clickable&&"default"!==n.color&&{["&:hover, &.".concat(us.focusVisible)]:{backgroundColor:(t.vars||t).palette[n.color].dark}})},e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({},"outlined"===n.variant&&{backgroundColor:"transparent",border:t.vars?"1px solid ".concat(t.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]),["&.".concat(us.clickable,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(us.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["& .".concat(us.avatar)]:{marginLeft:4},["& .".concat(us.avatarSmall)]:{marginLeft:2},["& .".concat(us.icon)]:{marginLeft:4},["& .".concat(us.iconSmall)]:{marginLeft:2},["& .".concat(us.deleteIcon)]:{marginRight:5},["& .".concat(us.deleteIconSmall)]:{marginRight:3}},"outlined"===n.variant&&"default"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.7)"):(0,f.X4)(t.palette[n.color].main,.7)),["&.".concat(us.clickable,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,f.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity)},["&.".concat(us.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):(0,f.X4)(t.palette[n.color].main,t.palette.action.focusOpacity)},["& .".concat(us.deleteIcon)]:{color:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.7)"):(0,f.X4)(t.palette[n.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].main}}})}),ps=me("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t["label".concat(Se(r))]]}})(e=>{let{ownerState:t}=e;return(0,s.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===t.variant&&{paddingLeft:11,paddingRight:11},"small"===t.size&&{paddingLeft:8,paddingRight:8},"small"===t.size&&"outlined"===t.variant&&{paddingLeft:7,paddingRight:7})});function fs(e){return"Backspace"===e.key||"Delete"===e.key}const ms=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiChip"}),{avatar:o,className:i,clickable:l,color:c="default",component:u,deleteIcon:d,disabled:h=!1,icon:p,label:f,onClick:m,onDelete:g,onKeyDown:v,onKeyUp:y,size:b="medium",variant:x="filled",tabIndex:w,skipFocusWhenDisabled:S=!1}=r,k=(0,a.A)(r,ds),A=t.useRef(null),E=ot(A,n),C=e=>{e.stopPropagation(),g&&g(e)},I=!(!1===l||!m)||l,T=I||g?nn:u||"div",j=(0,s.A)({},r,{component:T,disabled:h,size:b,color:c,iconColor:t.isValidElement(p)&&p.props.color||c,onDelete:!!g,clickable:I,variant:x}),_=(e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:i,onDelete:s,clickable:a,variant:l}=e;return ue({root:["root",l,n&&"disabled","size".concat(Se(r)),"color".concat(Se(o)),a&&"clickable",a&&"clickableColor".concat(Se(o)),s&&"deletable",s&&"deletableColor".concat(Se(o)),"".concat(l).concat(Se(o))],label:["label","label".concat(Se(r))],avatar:["avatar","avatar".concat(Se(r)),"avatarColor".concat(Se(o))],icon:["icon","icon".concat(Se(r)),"iconColor".concat(Se(i))],deleteIcon:["deleteIcon","deleteIcon".concat(Se(r)),"deleteIconColor".concat(Se(o)),"deleteIcon".concat(Se(l),"Color").concat(Se(o))]},cs,t)})(j),R=T===nn?(0,s.A)({component:u||"div",focusVisibleClassName:_.focusVisible},g&&{disableRipple:!0}):{};let P=null;g&&(P=d&&t.isValidElement(d)?t.cloneElement(d,{className:H(d.props.className,_.deleteIcon),onClick:C}):(0,J.jsx)(ls,{className:H(_.deleteIcon),onClick:C}));let N=null;o&&t.isValidElement(o)&&(N=t.cloneElement(o,{className:H(_.avatar,o.props.className)}));let O=null;return p&&t.isValidElement(p)&&(O=t.cloneElement(p,{className:H(_.icon,p.props.className)})),(0,J.jsxs)(hs,(0,s.A)({as:T,className:H(_.root,i),disabled:!(!I||!h)||void 0,onClick:m,onKeyDown:e=>{e.currentTarget===e.target&&fs(e)&&e.preventDefault(),v&&v(e)},onKeyUp:e=>{e.currentTarget===e.target&&(g&&fs(e)?g(e):"Escape"===e.key&&A.current&&A.current.blur()),y&&y(e)},ref:E,tabIndex:S&&h?-1:w,ownerState:j},R,k,{children:[N||O,(0,J.jsx)(ps,{className:H(_.label),ownerState:j,children:f}),P]}))}),gs=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],vs=["component","slots","slotProps"],ys=["component"];function bs(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,getSlotOwnerState:l,internalForwardedProps:c}=t,u=(0,a.A)(t,gs),{component:d,slots:h={[e]:void 0},slotProps:p={[e]:void 0}}=i,f=(0,a.A)(i,vs),m=h[e]||r,g=Dn(p[e],o),v=Mn((0,s.A)({className:n},u,{externalForwardedProps:"root"===e?f:void 0,externalSlotProps:g})),{props:{component:y},internalRef:b}=v,x=(0,a.A)(v.props,ys),w=rt(b,null==g?void 0:g.ref,t.ref),S=l?l(x):{},k=(0,s.A)({},o,S),A="root"===e?y||d:y,E=Nn(m,(0,s.A)({},"root"===e&&!d&&!h[e]&&c,"root"!==e&&!h[e]&&c,x,A&&{as:A},{ref:w}),k);return Object.keys(S).forEach(e=>{delete E[e]}),[m,E]}function xs(e){return oe("MuiAlert",e)}const ws=ie("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Ss=hi((0,J.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),ks=hi((0,J.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),As=hi((0,J.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Es=hi((0,J.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Cs=hi((0,J.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Is=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Ts=me(Ge,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(Se(n.color||n.severity))]]}})(e=>{let{theme:t}=e;const n="light"===t.palette.mode?f.e$:f.a,r="light"===t.palette.mode?f.a:f.e$;return(0,s.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[o]=e;return{props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:n(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(o,"StandardBg")]:r(t.palette[o].light,.9),["& .".concat(ws.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(r,"Color")]:n(t.palette[r].light,.6),border:"1px solid ".concat((t.vars||t).palette[r].light),["& .".concat(ws.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(r,"IconColor")]}:{color:t.palette[r].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.dark}).map(e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:(0,s.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(n,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(n,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}})]})}),js=me("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),_s=me("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Rs=me("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Ps={success:(0,J.jsx)(Ss,{fontSize:"inherit"}),warning:(0,J.jsx)(ks,{fontSize:"inherit"}),error:(0,J.jsx)(As,{fontSize:"inherit"}),info:(0,J.jsx)(Es,{fontSize:"inherit"})},Ns=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiAlert"}),{action:r,children:o,className:i,closeText:l="Close",color:c,components:u={},componentsProps:d={},icon:h,iconMapping:p=Ps,onClose:f,role:m="alert",severity:g="success",slotProps:v={},slots:y={},variant:b="standard"}=n,x=(0,a.A)(n,Is),w=(0,s.A)({},n,{color:c,severity:g,variant:b,colorSeverity:c||g}),S=(e=>{const{variant:t,color:n,severity:r,classes:o}=e;return ue({root:["root","color".concat(Se(n||r)),"".concat(t).concat(Se(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]},xs,o)})(w),k={slots:(0,s.A)({closeButton:u.CloseButton,closeIcon:u.CloseIcon},y),slotProps:(0,s.A)({},d,v)},[A,E]=bs("closeButton",{elementType:In,externalForwardedProps:k,ownerState:w}),[C,I]=bs("closeIcon",{elementType:Cs,externalForwardedProps:k,ownerState:w});return(0,J.jsxs)(Ts,(0,s.A)({role:m,elevation:0,ownerState:w,className:H(S.root,i),ref:t},x,{children:[!1!==h?(0,J.jsx)(js,{ownerState:w,className:S.icon,children:h||p[g]||Ps[g]}):null,(0,J.jsx)(_s,{ownerState:w,className:S.message,children:o}),null!=r?(0,J.jsx)(Rs,{ownerState:w,className:S.action,children:r}):null,null==r&&f?(0,J.jsx)(Rs,{ownerState:w,className:S.action,children:(0,J.jsx)(A,(0,s.A)({size:"small","aria-label":l,title:l,color:"inherit",onClick:f},E,{children:(0,J.jsx)(C,(0,s.A)({fontSize:"small"},I))}))}):null]}))});function Os(e){return oe("MuiLinearProgress",e)}ie("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var Ls,Ms,Ds,Fs,zs,Vs;const Us=["className","color","value","valueBuffer","variant"];let Bs,qs,Ws,Hs,Ks,Gs;const Qs=(0,Pt.i7)(Bs||(Bs=Ls||(Ls=St(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),Xs=(0,Pt.i7)(qs||(qs=Ms||(Ms=St(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),$s=(0,Pt.i7)(Ws||(Ws=Ds||(Ds=St(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),Ys=(e,t)=>"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?(0,f.a)(e.palette[t].main,.62):(0,f.e$)(e.palette[t].main,.5),Js=me("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat(Se(n.color))],t[n.variant]]}})(e=>{let{ownerState:t,theme:n}=e;return(0,s.A)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:Ys(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})}),Zs=me("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t["dashedColor".concat(Se(n.color))]]}})(e=>{let{ownerState:t,theme:n}=e;const r=Ys(n,t.color);return(0,s.A)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},(0,Pt.AH)(Hs||(Hs=Fs||(Fs=St(["\n    animation: "," 3s infinite linear;\n  "]))),$s)),ea=me("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat(Se(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})(e=>{let{ownerState:t,theme:n}=e;return(0,s.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})},e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,Pt.AH)(Ks||(Ks=zs||(zs=St(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),Qs)}),ta=me("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat(Se(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})(e=>{let{ownerState:t,theme:n}=e;return(0,s.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:Ys(n,t.color),transition:"transform .".concat(4,"s linear")})},e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,Pt.AH)(Gs||(Gs=Vs||(Vs=St(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),Xs)}),na=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiLinearProgress"}),{className:r,color:o="primary",value:i,valueBuffer:l,variant:c="indeterminate"}=n,u=(0,a.A)(n,Us),d=(0,s.A)({},n,{color:o,variant:c}),h=(e=>{const{classes:t,variant:n,color:r}=e;return ue({root:["root","color".concat(Se(r)),n],dashed:["dashed","dashedColor".concat(Se(r))],bar1:["bar","barColor".concat(Se(r)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat(Se(r)),"buffer"===n&&"color".concat(Se(r)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]},Os,t)})(d),p=_n(),f={},m={bar1:{},bar2:{}};if("determinate"===c||"buffer"===c)if(void 0!==i){f["aria-valuenow"]=Math.round(i),f["aria-valuemin"]=0,f["aria-valuemax"]=100;let e=i-100;p&&(e=-e),m.bar1.transform="translateX(".concat(e,"%)")}else 0;if("buffer"===c)if(void 0!==l){let e=(l||0)-100;p&&(e=-e),m.bar2.transform="translateX(".concat(e,"%)")}else 0;return(0,J.jsxs)(Js,(0,s.A)({className:H(h.root,r),ownerState:d,role:"progressbar"},f,{ref:t},u,{children:["buffer"===c?(0,J.jsx)(Zs,{className:h.dashed,ownerState:d}):null,(0,J.jsx)(ea,{className:h.bar1,ownerState:d,style:m.bar1}),"determinate"===c?null:(0,J.jsx)(ta,{className:h.bar2,ownerState:d,style:m.bar2})]}))}),ra=hi((0,J.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),oa=hi([(0,J.jsx)("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),(0,J.jsx)("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")],"MenuBook"),ia=hi((0,J.jsx)("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"}),"EmojiEvents"),sa=hi((0,J.jsx)("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer"),aa=hi((0,J.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),la=e=>{let{onStartAssessment:t,onNavigate:n}=e;const{user:r,stats:o}=as();if(!r)return null;const i=Math.min(100,o.averageScore/85*100);return(0,J.jsxs)(ce,{sx:{p:3},children:[(0,J.jsxs)(ce,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,J.jsx)(Te,{variant:"h4",sx:{fontWeight:"bold"},children:"Tableau de bord"}),(0,J.jsx)(ms,{label:"Niveau ".concat(r.currentLevel," \u2192 Objectif ").concat(r.targetLevel),color:"primary",sx:{fontSize:"0.9rem",py:2}})]}),(0,J.jsx)(Ns,{severity:"info",action:(0,J.jsx)(pn,{color:"inherit",size:"small",startIcon:(0,J.jsx)(ra,{}),onClick:t,children:"Refaire"}),sx:{mb:3},children:(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Conseil :"})," Vous pouvez refaire l'\xe9valuation de niveau \xe0 tout moment pour ajuster votre programme d'apprentissage en fonction de vos progr\xe8s."]})}),(0,J.jsxs)(Be,{container:!0,spacing:3,children:[(0,J.jsx)(Be,{item:!0,xs:12,md:6,lg:3,children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,J.jsx)(mi,{sx:{mr:1,color:"primary.main"}}),(0,J.jsx)(Te,{variant:"h6",children:"Niveau actuel"})]}),(0,J.jsx)(Te,{variant:"h3",color:"primary",children:r.currentLevel}),(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",children:["Objectif: ",r.targetLevel]}),(0,J.jsx)(na,{variant:"determinate",value:i,sx:{mt:2,height:8,borderRadius:4}})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:6,lg:3,children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,J.jsx)(oa,{sx:{mr:1,color:"success.main"}}),(0,J.jsx)(Te,{variant:"h6",children:"Exercices"})]}),(0,J.jsx)(Te,{variant:"h3",color:"success.main",children:o.completedExercises}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",children:"exercices compl\xe9t\xe9s"})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:6,lg:3,children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,J.jsx)(ia,{sx:{mr:1,color:"warning.main"}}),(0,J.jsx)(Te,{variant:"h6",children:"Score moyen"})]}),(0,J.jsxs)(Te,{variant:"h3",color:"warning.main",children:[o.averageScore.toFixed(1),"%"]}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",children:"sur tous les exercices"})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:6,lg:3,children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,J.jsx)(sa,{sx:{mr:1,color:"info.main"}}),(0,J.jsx)(Te,{variant:"h6",children:"Temps d'\xe9tude"})]}),(0,J.jsxs)(Te,{variant:"h3",color:"info.main",children:[Math.floor(o.timeSpent/60),"h"]}),(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",children:[o.streakDays," jours cons\xe9cutifs"]})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:4,children:(0,J.jsx)(Ye,{elevation:3,sx:{height:"100%"},children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,J.jsx)(mi,{sx:{mr:1,color:"primary.main"}}),(0,J.jsx)(Te,{variant:"h6",children:"Exercices"})]}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Acc\xe9dez \xe0 plus de 400 exercices (QCM et textes \xe0 trous) pour pratiquer votre anglais technique dans les domaines IT, IA, DevOps et Cybers\xe9curit\xe9."}),(0,J.jsx)(pn,{variant:"contained",fullWidth:!0,color:"primary",startIcon:(0,J.jsx)(mi,{}),onClick:()=>null===n||void 0===n?void 0:n("exercises"),sx:{mt:2},children:"Lancer les exercices"})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:4,children:(0,J.jsx)(Ye,{elevation:3,sx:{height:"100%"},children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,J.jsx)(fi,{sx:{mr:1,color:"primary.main"}}),(0,J.jsx)(Te,{variant:"h6",children:"\xc9valuation de niveau"})]}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Refaites l'\xe9valuation compl\xe8te (18 questions - Listening, Reading, Writing) pour mettre \xe0 jour votre niveau et adapter votre programme."}),(0,J.jsx)(pn,{variant:"outlined",fullWidth:!0,startIcon:(0,J.jsx)(ra,{}),onClick:t,sx:{mt:2},children:"Refaire l'\xe9valuation"})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:4,children:(0,J.jsx)(Ye,{elevation:3,sx:{height:"100%"},children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,J.jsx)(aa,{sx:{mr:1,color:"success.main"}}),(0,J.jsx)(Te,{variant:"h6",children:"Programme adaptatif"})]}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Consultez votre programme d'apprentissage personnalis\xe9 qui s'adapte automatiquement en fonction de vos performances et points faibles."}),(0,J.jsx)(pn,{variant:"contained",fullWidth:!0,color:"success",onClick:()=>null===n||void 0===n?void 0:n("learning"),sx:{mt:2},children:"Voir mon programme"})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:6,children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,J.jsx)(gi,{sx:{mr:1,color:"error.main"}}),(0,J.jsx)(Te,{variant:"h6",children:"Points \xe0 am\xe9liorer"})]}),(0,J.jsx)(ce,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.weaknesses.length>0?r.weaknesses.map((e,t)=>(0,J.jsx)(ms,{label:e,color:"error",variant:"outlined",size:"small"},t)):(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",children:"Aucune faiblesse identifi\xe9e pour le moment"})})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:6,children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,J.jsx)(aa,{sx:{mr:1,color:"success.main"}}),(0,J.jsx)(Te,{variant:"h6",children:"Points forts"})]}),(0,J.jsx)(ce,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.strengths.length>0?r.strengths.map((e,t)=>(0,J.jsx)(ms,{label:e,color:"success",variant:"outlined",size:"small"},t)):(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",children:"Compl\xe9tez des exercices pour identifier vos forces"})})]})})})]})]})},ca=hi((0,J.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),ua=e=>e.toLowerCase().match(/\b\w+\b/g)||[];const da=new class{constructor(){this.GRAMMAR_KEYWORDS=["present_perfect","past_simple","future_continuous","conditional","passive_voice","relative_clauses","prepositions","articles","modal_verbs"],this.TECH_VOCAB=["technical_debt","memory_leak","ci_cd","mlops","rag_system","gdpr","ai_act","angular","devops","cybersecurity","vibe_coding","cursor","pipeline"]}analyzeProgress(e,t,n){const r=this.calculateGrammarScore(e,t),o=this.calculateVocabularyScore(e,t),i=(r+o)/2,s=this.identifyWeakAreas(e,t),a=this.identifyStrongAreas(e,t),l=this.recommendExercises(s,n),c=this.determineNextLevel(i,n.currentLevel);return{overallScore:Math.round(100*i)/100,grammarScore:Math.round(100*r)/100,vocabularyScore:Math.round(100*o)/100,weakAreas:s,strongAreas:a,recommendedExercises:l,nextLevel:c}}calculateGrammarScore(e,t){const n=e.filter(e=>{const n=t.find(t=>t.id===e.exerciseId);return null===n||void 0===n?void 0:n.questions.some(e=>e.grammarFocus&&e.grammarFocus.length>0)});if(0===n.length)return 0;const r=n.filter(e=>e.isCorrect).length;return r/n.length*100}calculateVocabularyScore(e,t){const n=e.filter(e=>{const n=t.find(t=>t.id===e.exerciseId);return null===n||void 0===n?void 0:n.questions.some(e=>e.vocabularyFocus&&e.vocabularyFocus.length>0)});if(0===n.length)return 0;const r=n.filter(e=>e.isCorrect).length;return r/n.length*100}identifyWeakAreas(e,t){const n=new Map;return e.forEach(e=>{if(!e.isCorrect){const r=t.find(t=>t.id===e.exerciseId),o=null===r||void 0===r?void 0:r.questions.find(t=>t.id===e.questionId);null!==o&&void 0!==o&&o.grammarFocus&&o.grammarFocus.forEach(e=>{n.set(e,(n.get(e)||0)+1)}),null!==o&&void 0!==o&&o.vocabularyFocus&&o.vocabularyFocus.forEach(e=>{n.set(e,(n.get(e)||0)+1)}),null!==r&&void 0!==r&&r.domain&&n.set(r.domain,(n.get(r.domain)||0)+1)}}),Array.from(n.entries()).sort((e,t)=>t[1]-e[1]).slice(0,5).map(e=>{let[t]=e;return t})}identifyStrongAreas(e,t){const n=new Map;return e.forEach(e=>{const r=t.find(t=>t.id===e.exerciseId),o=null===r||void 0===r?void 0:r.questions.find(t=>t.id===e.questionId);[...(null===o||void 0===o?void 0:o.grammarFocus)||[],...(null===o||void 0===o?void 0:o.vocabularyFocus)||[],null===r||void 0===r?void 0:r.domain].filter(Boolean).forEach(t=>{const r=n.get(t)||{correct:0,total:0};r.total+=1,e.isCorrect&&(r.correct+=1),n.set(t,r)})}),Array.from(n.entries()).filter(e=>{let[,t]=e;return t.total>=3&&t.correct/t.total>=.8}).sort((e,t)=>t[1].correct/t[1].total-e[1].correct/e[1].total).slice(0,5).map(e=>{let[t]=e;return t})}recommendExercises(e,t){const n=[];return e.forEach(e=>{this.GRAMMAR_KEYWORDS.includes(e)?n.push("grammar_".concat(e,"_").concat(t.currentLevel)):this.TECH_VOCAB.some(t=>e.includes(t))?n.push("vocab_".concat(e,"_").concat(t.currentLevel)):n.push("mixed_".concat(e,"_").concat(t.currentLevel))}),n.slice(0,3)}determineNextLevel(e,t){const n=["A2","B1","B2","C1"],r=n.indexOf(t);if(e>=85&&r<n.length-1)return n[r+1]}analyzeWrittenResponse(e,t,n){const r=ua(e.toLowerCase()),o=ua(t.toLowerCase()),i=this.calculateSimilarity(r,o),s=Math.max(0,Math.min(100,100*i));return{score:s,feedback:this.generateFeedback(s,n),suggestions:this.generateSuggestions(e,t,n)}}calculateSimilarity(e,t){const n=new Set(e),r=new Set(t),o=new Set([...n].filter(e=>r.has(e))),i=new Set([...n,...r]);return o.size/i.size}generateFeedback(e,t){return e>=90?"Excellent travail ! Votre r\xe9ponse d\xe9montre une ma\xeetrise solide des concepts.":e>=75?"Bonne r\xe9ponse ! Quelques points \xe0 am\xe9liorer sur : ".concat(t.join(", "),"."):e>=60?"R\xe9ponse correcte mais n\xe9cessite des am\xe9liorations. Concentrez-vous sur : ".concat(t.join(", "),"."):"R\xe9ponse \xe0 retravailler. Revoyez les r\xe8gles concernant : ".concat(t.join(", "),".")}generateSuggestions(e,t,n){const r=[];return e.length<.7*t.length&&r.push("Votre r\xe9ponse est trop courte. D\xe9veloppez davantage vos arguments."),!e.includes(".")&&t.includes(".")&&r.push("N'oubliez pas la ponctuation pour structurer vos phrases."),n.forEach(e=>{r.push("R\xe9visez les r\xe8gles de : ".concat(e))}),r.slice(0,3)}},ha=()=>{const{user:e,responses:n}=as(),r=(0,t.useMemo)(()=>e&&n.length>0?da.analyzeProgress(n,[],e):null,[e,n]);return e&&r?(0,J.jsxs)(ce,{sx:{p:3},children:[(0,J.jsx)(Te,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"Analyse de progression"}),(0,J.jsxs)(Be,{container:!0,spacing:3,children:[(0,J.jsx)(Be,{item:!0,xs:12,md:4,children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,children:"Score global"}),(0,J.jsxs)(Te,{variant:"h2",color:"primary",sx:{mb:2},children:[r.overallScore.toFixed(0),"%"]}),(0,J.jsx)(na,{variant:"determinate",value:r.overallScore,sx:{height:10,borderRadius:5}})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:4,children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,children:"Grammaire"}),(0,J.jsxs)(Te,{variant:"h2",color:"success.main",sx:{mb:2},children:[r.grammarScore.toFixed(0),"%"]}),(0,J.jsx)(na,{variant:"determinate",value:r.grammarScore,color:"success",sx:{height:10,borderRadius:5}})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:4,children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,children:"Vocabulaire"}),(0,J.jsxs)(Te,{variant:"h2",color:"info.main",sx:{mb:2},children:[r.vocabularyScore.toFixed(0),"%"]}),(0,J.jsx)(na,{variant:"determinate",value:r.vocabularyScore,color:"info",sx:{height:10,borderRadius:5}})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:6,children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,J.jsx)(gi,{sx:{mr:1,color:"error.main"}}),(0,J.jsx)(Te,{variant:"h6",children:"Domaines \xe0 am\xe9liorer"})]}),(0,J.jsx)(ce,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.weakAreas.length>0?r.weakAreas.map((e,t)=>(0,J.jsx)(ms,{label:e,color:"error",variant:"outlined",size:"medium"},t)):(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",children:"Aucun domaine faible identifi\xe9"})})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:6,children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,J.jsx)(aa,{sx:{mr:1,color:"success.main"}}),(0,J.jsx)(Te,{variant:"h6",children:"Points forts"})]}),(0,J.jsx)(ce,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.strongAreas.length>0?r.strongAreas.map((e,t)=>(0,J.jsx)(ms,{label:e,color:"success",variant:"outlined",size:"medium"},t)):(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",children:"Continuez pour identifier vos forces"})})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,J.jsx)(ca,{sx:{mr:1,color:"primary.main"}}),(0,J.jsx)(Te,{variant:"h6",children:"Exercices recommand\xe9s"})]}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Bas\xe9s sur votre analyse, voici les exercices qui vous aideront le plus :"}),(0,J.jsx)(ce,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.recommendedExercises.map((e,t)=>(0,J.jsx)(ms,{label:e,color:"primary",variant:"filled",size:"medium"},t))})]})})}),r.nextLevel&&(0,J.jsx)(Be,{item:!0,xs:12,children:(0,J.jsx)(Ye,{elevation:3,sx:{bgcolor:"success.light"},children:(0,J.jsxs)(tt,{children:[(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,sx:{color:"success.contrastText"},children:"\ud83c\udf89 F\xe9licitations !"}),(0,J.jsxs)(Te,{variant:"body1",sx:{color:"success.contrastText"},children:["Votre niveau actuel vous permet de passer au niveau ",(0,J.jsx)("strong",{children:r.nextLevel}),". Continuez votre excellent travail !"]})]})})})]})]}):(0,J.jsxs)(ce,{sx:{p:3},children:[(0,J.jsx)(Te,{variant:"h5",gutterBottom:!0,children:"Analyse de progression"}),(0,J.jsx)(Te,{variant:"body1",color:"text.secondary",children:"Compl\xe9tez quelques exercices pour voir votre analyse de progression."})]})};function pa(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function fa(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(pa(e.value)&&""!==e.value||t&&pa(e.defaultValue)&&""!==e.defaultValue)}const ma=t.createContext(void 0);function ga(e){return oe("MuiFormControl",e)}ie("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const va=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],ya=me("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,s.A)({},t.root,t["margin".concat(Se(n.margin))],n.fullWidth&&t.fullWidth)}})(e=>{let{ownerState:t}=e;return(0,s.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})}),ba=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiFormControl"}),{children:o,className:i,color:l="primary",component:c="div",disabled:u=!1,error:d=!1,focused:h,fullWidth:p=!1,hiddenLabel:f=!1,margin:m="none",required:g=!1,size:v="medium",variant:y="outlined"}=r,b=(0,a.A)(r,va),x=(0,s.A)({},r,{color:l,component:c,disabled:u,error:d,fullWidth:p,hiddenLabel:f,margin:m,required:g,size:v,variant:y}),w=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return ue({root:["root","none"!==n&&"margin".concat(Se(n)),r&&"fullWidth"]},ga,t)})(x),[S,k]=t.useState(()=>{let e=!1;return o&&t.Children.forEach(o,t=>{if(!Yr(t,["Input","Select"]))return;const n=Yr(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}),e}),[A,E]=t.useState(()=>{let e=!1;return o&&t.Children.forEach(o,t=>{Yr(t,["Input","Select"])&&(fa(t.props,!0)||fa(t.props.inputProps,!0))&&(e=!0)}),e}),[C,I]=t.useState(!1);u&&C&&I(!1);const T=void 0===h||u?C:h;let j;const _=t.useMemo(()=>({adornedStart:S,setAdornedStart:k,color:l,disabled:u,error:d,filled:A,focused:T,fullWidth:p,hiddenLabel:f,size:v,onBlur:()=>{I(!1)},onEmpty:()=>{E(!1)},onFilled:()=>{E(!0)},onFocus:()=>{I(!0)},registerEffect:j,required:g,variant:y}),[S,l,u,d,A,T,p,f,j,g,v,y]);return(0,J.jsx)(ma.Provider,{value:_,children:(0,J.jsx)(ya,(0,s.A)({as:c,ownerState:x,className:H(w.root,i),ref:n},b,{children:o}))})});function xa(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e),{})}function wa(){return t.useContext(ma)}function Sa(e){return oe("MuiFormLabel",e)}const ka=ie("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Aa=["children","className","color","component","disabled","error","filled","focused","required"],Ea=me("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,s.A)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(ka.focused)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(ka.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(ka.error)]:{color:(t.vars||t).palette.error.main}})}),Ca=me("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(e=>{let{theme:t}=e;return{["&.".concat(ka.error)]:{color:(t.vars||t).palette.error.main}}}),Ia=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiFormLabel"}),{children:r,className:o,component:i="label"}=n,l=(0,a.A)(n,Aa),c=xa({props:n,muiFormControl:wa(),states:["color","required","focused","disabled","error","filled"]}),u=(0,s.A)({},n,{color:c.color||"primary",component:i,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=(e=>{const{classes:t,color:n,focused:r,disabled:o,error:i,filled:s,required:a}=e;return ue({root:["root","color".concat(Se(n)),o&&"disabled",i&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]},Sa,t)})(u);return(0,J.jsxs)(Ea,(0,s.A)({as:i,ownerState:u,className:H(d.root,o),ref:t},l,{children:[r,c.required&&(0,J.jsxs)(Ca,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:["\u2009","*"]})]}))});function Ta(e){return oe("MuiInputLabel",e)}ie("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const ja=["disableAnimation","margin","shrink","variant","className"],_a=me(Ia,{shouldForwardProp:e=>fe(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(ka.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,s.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,s.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,s.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))}),Ra=t.forwardRef(function(e,t){const n=xe({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:o,className:i}=n,l=(0,a.A)(n,ja),c=wa();let u=o;"undefined"===typeof u&&c&&(u=c.filled||c.focused||c.adornedStart);const d=xa({props:n,muiFormControl:c,states:["size","variant","required","focused"]}),h=(0,s.A)({},n,{disableAnimation:r,formControl:c,shrink:u,size:d.size,variant:d.variant,required:d.required,focused:d.focused}),p=(e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:i,variant:a,required:l}=e,c=ue({root:["root",n&&"formControl",!i&&"animated",o&&"shrink",r&&"normal"!==r&&"size".concat(Se(r)),a],asterisk:[l&&"asterisk"]},Ta,t);return(0,s.A)({},t,c)})(h);return(0,J.jsx)(_a,(0,s.A)({"data-shrink":u,ownerState:h,ref:t,className:H(p.root,i)},l,{classes:p}))}),Pa=Un,Na=mr,Oa=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function La(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Ma(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Da(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Fa(e,t,n,r,o,i){let s=!1,a=o(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&Da(a,i)&&!t)return a.focus(),!0;a=o(e,a,n)}return!1}const za=t.forwardRef(function(e,n){const{actions:r,autoFocus:o=!1,autoFocusItem:i=!1,children:l,className:c,disabledItemsFocusable:u=!1,disableListWrap:d=!1,onKeyDown:h,variant:p="selectedMenu"}=e,f=(0,a.A)(e,Oa),m=t.useRef(null),g=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Jr(()=>{o&&m.current.focus()},[o]),t.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!m.current.style.width;if(e.clientHeight<m.current.clientHeight&&r){const t="".concat(Na(Pa(e)),"px");m.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,m.current.style.width="calc(100% + ".concat(t,")")}return m.current}}),[]);const v=ot(m,n);let y=-1;t.Children.forEach(l,(e,n)=>{t.isValidElement(e)?(e.props.disabled||("selectedMenu"===p&&e.props.selected||-1===y)&&(y=n),y===n&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(y+=1,y>=l.length&&(y=-1))):y===n&&(y+=1,y>=l.length&&(y=-1))});const b=t.Children.map(l,(e,n)=>{if(n===y){const n={};return i&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===p&&(n.tabIndex=0),t.cloneElement(e,n)}return e});return(0,J.jsx)($r,(0,s.A)({role:"menu",ref:v,className:c,onKeyDown:e=>{const t=m.current,n=e.key,r=Pa(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Fa(t,r,d,u,La);else if("ArrowUp"===n)e.preventDefault(),Fa(t,r,d,u,Ma);else if("Home"===n)e.preventDefault(),Fa(t,null,d,u,La);else if("End"===n)e.preventDefault(),Fa(t,null,d,u,Ma);else if(1===n.length){const o=g.current,i=n.toLowerCase(),s=performance.now();o.keys.length>0&&(s-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&i!==o.keys[0]&&(o.repeating=!1)),o.lastTime=s,o.keys.push(i);const a=r&&!o.repeating&&Da(r,o);o.previousKeyMatched&&(a||Fa(t,r,!1,u,La,o))?e.preventDefault():o.previousKeyMatched=!1}h&&h(e)},tabIndex:o?0:-1},f,{children:b}))}),Va=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Ua(e){return"scale(".concat(e,", ").concat(e**2,")")}const Ba={entering:{opacity:1,transform:Ua(1)},entered:{opacity:1,transform:"none"}},qa="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Wa=t.forwardRef(function(e,n){const{addEndListener:r,appear:o=!0,children:i,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:g,timeout:v="auto",TransitionComponent:y=nr}=e,b=(0,a.A)(e,Va),x=dt(),w=t.useRef(),S=_e(),k=t.useRef(null),A=ot(k,Vn(i),n),E=e=>t=>{if(e){const n=k.current;void 0===t?e(n):e(n,t)}},C=E(h),I=E((e,t)=>{rr(e);const{duration:n,delay:r,easing:o}=or({style:g,timeout:v,easing:l},{mode:"enter"});let i;"auto"===v?(i=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=i):i=n,e.style.transition=[S.transitions.create("opacity",{duration:i,delay:r}),S.transitions.create("transform",{duration:qa?i:.666*i,delay:r,easing:o})].join(","),u&&u(e,t)}),T=E(d),j=E(m),_=E(e=>{const{duration:t,delay:n,easing:r}=or({style:g,timeout:v,easing:l},{mode:"exit"});let o;"auto"===v?(o=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=o):o=t,e.style.transition=[S.transitions.create("opacity",{duration:o,delay:n}),S.transitions.create("transform",{duration:qa?o:.666*o,delay:qa?n:n||.333*o,easing:r})].join(","),e.style.opacity=0,e.style.transform=Ua(.75),p&&p(e)}),R=E(f);return(0,J.jsx)(y,(0,s.A)({appear:o,in:c,nodeRef:k,onEnter:I,onEntered:T,onEntering:C,onExit:_,onExited:R,onExiting:j,addEndListener:e=>{"auto"===v&&x.start(w.current||0,e),r&&r(k.current,e)},timeout:"auto"===v?null:v},b,{children:(e,n)=>t.cloneElement(i,(0,s.A)({style:(0,s.A)({opacity:0,transform:Ua(.75),visibility:"exited"!==e||c?void 0:"hidden"},Ba[e],g,i.props.style),ref:A},n))}))});Wa.muiSupportAuto=!0;const Ha=Wa;function Ka(e){return oe("MuiPopover",e)}ie("MuiPopover",["root","paper"]);const Ga=["onEntering"],Qa=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Xa=["slotProps"];function $a(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Ya(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Ja(e){return[e.horizontal,e.vertical].map(e=>"number"===typeof e?"".concat(e,"px"):e).join(" ")}function Za(e){return"function"===typeof e?e():e}const el=me(Tr,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),tl=me(Ge,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),nl=t.forwardRef(function(e,n){var r,o,i;const l=xe({props:e,name:"MuiPopover"}),{action:c,anchorEl:u,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:h,anchorReference:p="anchorEl",children:f,className:m,container:g,elevation:v=8,marginThreshold:y=16,open:b,PaperProps:x={},slots:w,slotProps:S,transformOrigin:k={vertical:"top",horizontal:"left"},TransitionComponent:A=Ha,transitionDuration:E="auto",TransitionProps:{onEntering:C}={},disableScrollLock:I=!1}=l,T=(0,a.A)(l.TransitionProps,Ga),j=(0,a.A)(l,Qa),_=null!=(r=null==S?void 0:S.paper)?r:x,R=t.useRef(),P=ot(R,_.ref),N=(0,s.A)({},l,{anchorOrigin:d,anchorReference:p,elevation:v,marginThreshold:y,externalPaperSlotProps:_,transformOrigin:k,TransitionComponent:A,transitionDuration:E,TransitionProps:T}),O=(e=>{const{classes:t}=e;return ue({root:["root"],paper:["paper"]},Ka,t)})(N),L=t.useCallback(()=>{if("anchorPosition"===p)return h;const e=Za(u),t=(e&&1===e.nodeType?e:Pa(R.current).body).getBoundingClientRect();return{top:t.top+$a(t,d.vertical),left:t.left+Ya(t,d.horizontal)}},[u,d.horizontal,d.vertical,h,p]),M=t.useCallback(e=>({vertical:$a(e,k.vertical),horizontal:Ya(e,k.horizontal)}),[k.horizontal,k.vertical]),D=t.useCallback(e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=M(t);if("none"===p)return{top:null,left:null,transformOrigin:Ja(n)};const r=L();let o=r.top-n.vertical,i=r.left-n.horizontal;const s=o+t.height,a=i+t.width,l=Rr(Za(u)),c=l.innerHeight-y,d=l.innerWidth-y;if(null!==y&&o<y){const e=o-y;o-=e,n.vertical+=e}else if(null!==y&&s>c){const e=s-c;o-=e,n.vertical+=e}if(null!==y&&i<y){const e=i-y;i-=e,n.horizontal+=e}else if(a>d){const e=a-d;i-=e,n.horizontal+=e}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(i),"px"),transformOrigin:Ja(n)}},[u,p,L,M,y]),[F,z]=t.useState(b),V=t.useCallback(()=>{const e=R.current;if(!e)return;const t=D(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,z(!0)},[D]);t.useEffect(()=>(I&&window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V)),[u,I,V]);t.useEffect(()=>{b&&V()}),t.useImperativeHandle(c,()=>b?{updatePosition:()=>{V()}}:null,[b,V]),t.useEffect(()=>{if(!b)return;const e=_r(()=>{V()}),t=Rr(u);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[u,b,V]);let U=E;"auto"!==E||A.muiSupportAuto||(U=void 0);const B=g||(u?Pa(Za(u)).body:void 0),q=null!=(o=null==w?void 0:w.root)?o:el,W=null!=(i=null==w?void 0:w.paper)?i:tl,K=zn({elementType:W,externalSlotProps:(0,s.A)({},_,{style:F?_.style:(0,s.A)({},_.style,{opacity:0})}),additionalProps:{elevation:v,ref:P},ownerState:N,className:H(O.paper,null==_?void 0:_.className)}),G=zn({elementType:q,externalSlotProps:(null==S?void 0:S.root)||{},externalForwardedProps:j,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:B,open:b},ownerState:N,className:H(O.root,m)}),{slotProps:Q}=G,X=(0,a.A)(G,Xa);return(0,J.jsx)(q,(0,s.A)({},X,!Pn(q)&&{slotProps:Q,disableScrollLock:I},{children:(0,J.jsx)(A,(0,s.A)({appear:!0,in:b,onEntering:(e,t)=>{C&&C(e,t),V()},onExited:()=>{z(!1)},timeout:U},T,{children:(0,J.jsx)(W,(0,s.A)({},K,{children:f}))}))}))}),rl=nl;function ol(e){return oe("MuiMenu",e)}ie("MuiMenu",["root","paper","list"]);const il=["onEntering"],sl=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],al={vertical:"top",horizontal:"right"},ll={vertical:"top",horizontal:"left"},cl=me(rl,{shouldForwardProp:e=>fe(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ul=me(tl,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),dl=me(za,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),hl=t.forwardRef(function(e,n){var r,o;const i=xe({props:e,name:"MuiMenu"}),{autoFocus:l=!0,children:c,className:u,disableAutoFocusItem:d=!1,MenuListProps:h={},onClose:p,open:f,PaperProps:m={},PopoverClasses:g,transitionDuration:v="auto",TransitionProps:{onEntering:y}={},variant:b="selectedMenu",slots:x={},slotProps:w={}}=i,S=(0,a.A)(i.TransitionProps,il),k=(0,a.A)(i,sl),A=_n(),E=(0,s.A)({},i,{autoFocus:l,disableAutoFocusItem:d,MenuListProps:h,onEntering:y,PaperProps:m,transitionDuration:v,TransitionProps:S,variant:b}),C=(e=>{const{classes:t}=e;return ue({root:["root"],paper:["paper"],list:["list"]},ol,t)})(E),I=l&&!d&&f,T=t.useRef(null);let j=-1;t.Children.map(c,(e,n)=>{t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===b&&e.props.selected||-1===j)&&(j=n))});const _=null!=(r=x.paper)?r:ul,R=null!=(o=w.paper)?o:m,P=zn({elementType:x.root,externalSlotProps:w.root,ownerState:E,className:[C.root,u]}),N=zn({elementType:_,externalSlotProps:R,ownerState:E,className:C.paper});return(0,J.jsx)(cl,(0,s.A)({onClose:p,anchorOrigin:{vertical:"bottom",horizontal:A?"right":"left"},transformOrigin:A?al:ll,slots:{paper:_,root:x.root},slotProps:{root:P,paper:N},open:f,ref:n,transitionDuration:v,TransitionProps:(0,s.A)({onEntering:(e,t)=>{T.current&&T.current.adjustStyleForScrollbar(e,{direction:A?"rtl":"ltr"}),y&&y(e,t)}},S),ownerState:E},k,{classes:g,children:(0,J.jsx)(dl,(0,s.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),p&&p(e,"tabKeyDown"))},actions:T,autoFocus:l&&(-1===j||d),autoFocusItem:I,variant:b},h,{className:H(C.list,h.className),children:c}))}))});function pl(e){return oe("MuiNativeSelect",e)}const fl=ie("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ml=["className","disabled","error","IconComponent","inputRef","variant"],gl=e=>{let{ownerState:t,theme:n}=e;return(0,s.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,s.A)({},n.vars?{backgroundColor:"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(fl.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},vl=me("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:fe,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(fl.multiple)]:t.multiple}]}})(gl),yl=e=>{let{ownerState:t,theme:n}=e;return(0,s.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,["&.".concat(fl.disabled)]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},bl=me("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(Se(n.variant))],n.open&&t.iconOpen]}})(yl),xl=t.forwardRef(function(e,n){const{className:r,disabled:o,error:i,IconComponent:l,inputRef:c,variant:u="standard"}=e,d=(0,a.A)(e,ml),h=(0,s.A)({},e,{disabled:o,variant:u,error:i}),p=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e;return ue({select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon","icon".concat(Se(n)),i&&"iconOpen",r&&"disabled"]},pl,t)})(h);return(0,J.jsxs)(t.Fragment,{children:[(0,J.jsx)(vl,(0,s.A)({ownerState:h,className:H(p.select,r),disabled:o,ref:c||n},d)),e.multiple?null:(0,J.jsx)(bl,{as:l,ownerState:h,className:p.icon})]})});function wl(e){let{controlled:n,default:r,name:o,state:i="value"}=e;const{current:s}=t.useRef(void 0!==n),[a,l]=t.useState(r);return[s?n:a,t.useCallback(e=>{s||l(e)},[])]}const Sl=wl;function kl(e){return oe("MuiSelect",e)}const Al=ie("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var El;const Cl=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Il=me("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(Al.select)]:t.select},{["&.".concat(Al.select)]:t[n.variant]},{["&.".concat(Al.error)]:t.error},{["&.".concat(Al.multiple)]:t.multiple}]}})(gl,{["&.".concat(Al.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Tl=me("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(Se(n.variant))],n.open&&t.iconOpen]}})(yl),jl=me("input",{shouldForwardProp:e=>pe(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function _l(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Rl(e){return null==e||"string"===typeof e&&!e.trim()}const Pl=t.forwardRef(function(e,n){var r;const{"aria-describedby":o,"aria-label":i,autoFocus:c,autoWidth:u,children:d,className:h,defaultOpen:p,defaultValue:f,disabled:m,displayEmpty:g,error:v=!1,IconComponent:y,inputRef:b,labelId:x,MenuProps:w={},multiple:S,name:k,onBlur:A,onChange:E,onClose:C,onFocus:I,onOpen:T,open:j,readOnly:_,renderValue:R,SelectDisplayProps:P={},tabIndex:N,value:O,variant:L="standard"}=e,M=(0,a.A)(e,Cl),[D,F]=Sl({controlled:O,default:f,name:"Select"}),[z,V]=Sl({controlled:j,default:p,name:"Select"}),U=t.useRef(null),B=t.useRef(null),[q,W]=t.useState(null),{current:K}=t.useRef(null!=j),[G,Q]=t.useState(),X=ot(n,b),$=t.useCallback(e=>{B.current=e,e&&W(e)},[]),Y=null==q?void 0:q.parentNode;t.useImperativeHandle(X,()=>({focus:()=>{B.current.focus()},node:U.current,value:D}),[D]),t.useEffect(()=>{p&&z&&q&&!K&&(Q(u?null:Y.clientWidth),B.current.focus())},[q,u]),t.useEffect(()=>{c&&B.current.focus()},[c]),t.useEffect(()=>{if(!x)return;const e=Pa(B.current).getElementById(x);if(e){const t=()=>{getSelection().isCollapsed&&B.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[x]);const Z=(e,t)=>{e?T&&T(t):C&&C(t),K||(Q(u?null:Y.clientWidth),V(e))},ee=t.Children.toArray(d),te=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(S){n=Array.isArray(D)?D.slice():[];const t=D.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),D!==n&&(F(n),E)){const r=t.nativeEvent||t,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:k}}),E(o,e)}S||Z(!1,t)}},ne=null!==q&&z;let re,oe;delete M["aria-invalid"];const ie=[];let se=!1,ae=!1;(fa({value:D})||g)&&(R?re=R(D):se=!0);const le=ee.map(e=>{if(!t.isValidElement(e))return null;let n;if(S){if(!Array.isArray(D))throw new Error((0,l.A)(2));n=D.some(t=>_l(t,e.props.value)),n&&se&&ie.push(e.props.children)}else n=_l(D,e.props.value),n&&se&&(oe=e.props.children);return n&&(ae=!0),t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:te(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})});se&&(re=S?0===ie.length?null:ie.reduce((e,t,n)=>(e.push(t),n<ie.length-1&&e.push(", "),e),[]):oe);let ce,de=G;!u&&K&&q&&(de=Y.clientWidth),ce="undefined"!==typeof N?N:m?null:0;const he=P.id||(k?"mui-component-select-".concat(k):void 0),pe=(0,s.A)({},e,{variant:L,value:D,open:ne,error:v}),fe=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e;return ue({select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon","icon".concat(Se(n)),i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},kl,t)})(pe),me=(0,s.A)({},w.PaperProps,null==(r=w.slotProps)?void 0:r.paper),ge=Qo();return(0,J.jsxs)(t.Fragment,{children:[(0,J.jsx)(Il,(0,s.A)({ref:$,tabIndex:ce,role:"combobox","aria-controls":ge,"aria-disabled":m?"true":void 0,"aria-expanded":ne?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,he].filter(Boolean).join(" ")||void 0,"aria-describedby":o,onKeyDown:e=>{if(!_){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),Z(!0,e))}},onMouseDown:m||_?null:e=>{0===e.button&&(e.preventDefault(),B.current.focus(),Z(!0,e))},onBlur:e=>{!ne&&A&&(Object.defineProperty(e,"target",{writable:!0,value:{value:D,name:k}}),A(e))},onFocus:I},P,{ownerState:pe,className:H(P.className,fe.select,h),id:he,children:Rl(re)?El||(El=(0,J.jsx)("span",{className:"notranslate",children:"\u200b"})):re})),(0,J.jsx)(jl,(0,s.A)({"aria-invalid":v,value:Array.isArray(D)?D.join(","):D,name:k,ref:U,"aria-hidden":!0,onChange:e=>{const t=ee.find(t=>t.props.value===e.target.value);void 0!==t&&(F(t.props.value),E&&E(e,t))},tabIndex:-1,disabled:m,className:fe.nativeInput,autoFocus:c,ownerState:pe},M)),(0,J.jsx)(Tl,{as:y,className:fe.icon,ownerState:pe}),(0,J.jsx)(hl,(0,s.A)({id:"menu-".concat(k||""),anchorEl:Y,open:ne,onClose:e=>{Z(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:(0,s.A)({"aria-labelledby":x,role:"listbox","aria-multiselectable":S?"true":void 0,disableListWrap:!0,id:ge},w.MenuListProps),slotProps:(0,s.A)({},w.slotProps,{paper:(0,s.A)({},me,{style:(0,s.A)({minWidth:de},null!=me?me.style:null)})}),children:le}))]})}),Nl=hi((0,J.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Ol=["onChange","maxRows","minRows","style","value"];function Ll(e){return parseInt(e,10)||0}const Ml={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function Dl(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const Fl=t.forwardRef(function(e,n){const{onChange:r,maxRows:o,minRows:i=1,style:l,value:c}=e,u=(0,a.A)(e,Ol),{current:d}=t.useRef(null!=c),h=t.useRef(null),p=rt(n,h),f=t.useRef(null),m=t.useRef(null),g=t.useCallback(()=>{const t=h.current,n=m.current;if(!t||!n)return;const r=fr(t).getComputedStyle(t);if("0px"===r.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=r.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const s=r.boxSizing,a=Ll(r.paddingBottom)+Ll(r.paddingTop),l=Ll(r.borderBottomWidth)+Ll(r.borderTopWidth),c=n.scrollHeight;n.value="x";const u=n.scrollHeight;let d=c;i&&(d=Math.max(Number(i)*u,d)),o&&(d=Math.min(Number(o)*u,d)),d=Math.max(d,u);return{outerHeightStyle:d+("border-box"===s?a+l:0),overflowing:Math.abs(d-c)<=1}},[o,i,e.placeholder]),v=st(()=>{const e=h.current,t=g();if(!e||!t||Dl(t))return!1;const n=t.outerHeightStyle;return null!=f.current&&f.current!==n}),y=t.useCallback(()=>{const e=h.current,t=g();if(!e||!t||Dl(t))return;const n=t.outerHeightStyle;f.current!==n&&(f.current=n,e.style.height="".concat(n,"px")),e.style.overflow=t.overflowing?"hidden":""},[g]),b=t.useRef(-1);it(()=>{const e=jr(y),t=null==h?void 0:h.current;if(!t)return;const n=fr(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver(()=>{v()&&(r.unobserve(t),cancelAnimationFrame(b.current),y(),b.current=requestAnimationFrame(()=>{r.observe(t)}))}),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(b.current),n.removeEventListener("resize",e),r&&r.disconnect()}},[g,y,v]),it(()=>{y()});return(0,J.jsxs)(t.Fragment,{children:[(0,J.jsx)("textarea",(0,s.A)({value:c,onChange:e=>{d||y(),r&&r(e)},ref:p,rows:i,style:l},u)),(0,J.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:(0,s.A)({},Ml,l,{paddingTop:0,paddingBottom:0})})]})}),zl=Fl;function Vl(e){return oe("MuiInputBase",e)}const Ul=ie("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Bl=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],ql=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Se(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Wl=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Hl=me("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ql})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(Ul.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,s.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})}),Kl=me("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Wl})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,o=(0,s.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,s.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(Ul.formControl," &")]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},["&.".concat(Ul.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})}),Gl=(0,J.jsx)(ri,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Ql=t.forwardRef(function(e,n){var r;const o=xe({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:c,autoFocus:u,className:d,components:h={},componentsProps:p={},defaultValue:f,disabled:m,disableInjectingGlobalStyles:g,endAdornment:v,fullWidth:y=!1,id:b,inputComponent:x="input",inputProps:w={},inputRef:S,maxRows:k,minRows:A,multiline:E=!1,name:C,onBlur:I,onChange:T,onClick:j,onFocus:_,onKeyDown:R,onKeyUp:P,placeholder:N,readOnly:O,renderSuffix:L,rows:M,slotProps:D={},slots:F={},startAdornment:z,type:V="text",value:U}=o,B=(0,a.A)(o,Bl),q=null!=w.value?w.value:U,{current:W}=t.useRef(null!=q),K=t.useRef(),G=t.useCallback(e=>{0},[]),Q=ot(K,S,w.ref,G),[X,$]=t.useState(!1),Y=wa();const Z=xa({props:o,muiFormControl:Y,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Z.focused=Y?Y.focused:X,t.useEffect(()=>{!Y&&m&&X&&($(!1),I&&I())},[Y,m,X,I]);const ee=Y&&Y.onFilled,te=Y&&Y.onEmpty,ne=t.useCallback(e=>{fa(e)?ee&&ee():te&&te()},[ee,te]);Jr(()=>{W&&ne({value:q})},[q,ne,W]);t.useEffect(()=>{ne(K.current)},[]);let re=x,oe=w;E&&"input"===re&&(oe=M?(0,s.A)({type:void 0,minRows:M,maxRows:M},oe):(0,s.A)({type:void 0,maxRows:k,minRows:A},oe),re=zl);t.useEffect(()=>{Y&&Y.setAdornedStart(Boolean(z))},[Y,z]);const ie=(0,s.A)({},o,{color:Z.color||"primary",disabled:Z.disabled,endAdornment:v,error:Z.error,focused:Z.focused,formControl:Y,fullWidth:y,hiddenLabel:Z.hiddenLabel,multiline:E,size:Z.size,startAdornment:z,type:V}),se=(e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=e;return ue({root:["root","color".concat(Se(n)),r&&"disabled",o&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&"size".concat(Se(h)),u&&"multiline",p&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]},Vl,t)})(ie),ae=F.root||h.Root||Hl,le=D.root||p.root||{},ce=F.input||h.Input||Kl;return oe=(0,s.A)({},oe,null!=(r=D.input)?r:p.input),(0,J.jsxs)(t.Fragment,{children:[!g&&Gl,(0,J.jsxs)(ae,(0,s.A)({},le,!Pn(ae)&&{ownerState:(0,s.A)({},ie,le.ownerState)},{ref:n,onClick:e=>{K.current&&e.currentTarget===e.target&&K.current.focus(),j&&j(e)}},B,{className:H(se.root,le.className,d,O&&"MuiInputBase-readOnly"),children:[z,(0,J.jsx)(ma.Provider,{value:null,children:(0,J.jsx)(ce,(0,s.A)({ownerState:ie,"aria-invalid":Z.error,"aria-describedby":i,autoComplete:c,autoFocus:u,defaultValue:f,disabled:Z.disabled,id:b,onAnimationStart:e=>{ne("mui-auto-fill-cancel"===e.animationName?K.current:{value:"x"})},name:C,placeholder:N,readOnly:O,required:Z.required,rows:M,value:q,onKeyDown:R,onKeyUp:P,type:V},oe,!Pn(ce)&&{as:re,ownerState:(0,s.A)({},ie,oe.ownerState)},{ref:Q,className:H(se.input,oe.className,O&&"MuiInputBase-readOnly"),onBlur:e=>{I&&I(e),w.onBlur&&w.onBlur(e),Y&&Y.onBlur?Y.onBlur(e):$(!1)},onChange:function(e){if(!W){const t=e.target||K.current;if(null==t)throw new Error((0,l.A)(1));ne({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];w.onChange&&w.onChange(e,...n),T&&T(e,...n)},onFocus:e=>{Z.disabled?e.stopPropagation():(_&&_(e),w.onFocus&&w.onFocus(e),Y&&Y.onFocus?Y.onFocus(e):$(!0))}}))}),v,L?L((0,s.A)({},Z,{startAdornment:z})):null]}))]})}),Xl=Ql;function $l(e){return oe("MuiInput",e)}const Yl=(0,s.A)({},Ul,ie("MuiInput",["root","underline","input"])),Jl=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Zl=me(Hl,{shouldForwardProp:e=>fe(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...ql(e,t),!n.disableUnderline&&t.underline]}})(e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r="rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")")),(0,s.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(Yl.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(Yl.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(Yl.disabled,", .").concat(Yl.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},["&.".concat(Yl.disabled,":before")]:{borderBottomStyle:"dotted"}})}),ec=me(Kl,{name:"MuiInput",slot:"Input",overridesResolver:Wl})({}),tc=t.forwardRef(function(e,t){var n,r,o,i;const l=xe({props:e,name:"MuiInput"}),{disableUnderline:u,components:d={},componentsProps:h,fullWidth:p=!1,inputComponent:f="input",multiline:m=!1,slotProps:g,slots:v={},type:y="text"}=l,b=(0,a.A)(l,Jl),x=(e=>{const{classes:t,disableUnderline:n}=e,r=ue({root:["root",!n&&"underline"],input:["input"]},$l,t);return(0,s.A)({},t,r)})(l),w={root:{ownerState:{disableUnderline:u}}},S=(null!=g?g:h)?(0,c.A)(null!=g?g:h,w):w,k=null!=(n=null!=(r=v.root)?r:d.Root)?n:Zl,A=null!=(o=null!=(i=v.input)?i:d.Input)?o:ec;return(0,J.jsx)(Xl,(0,s.A)({slots:{root:k,input:A},slotProps:S,fullWidth:p,inputComponent:f,multiline:m,ref:t,type:y},b,{classes:x}))});tc.muiName="Input";const nc=tc;function rc(e){return oe("MuiFilledInput",e)}const oc=(0,s.A)({},Ul,ie("MuiFilledInput",["root","underline","input"])),ic=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],sc=me(Hl,{shouldForwardProp:e=>fe(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...ql(e,t),!n.disableUnderline&&t.underline]}})(e=>{let{theme:t,ownerState:n}=e;var r;const o="light"===t.palette.mode,i=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",c=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,s.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},["&.".concat(oc.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},["&.".concat(oc.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:c}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat(null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(oc.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(oc.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")"):i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(oc.disabled,", .").concat(oc.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(oc.disabled,":before")]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,s.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))}),ac=me(Kl,{name:"MuiFilledInput",slot:"Input",overridesResolver:Wl})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})}),lc=t.forwardRef(function(e,t){var n,r,o,i;const l=xe({props:e,name:"MuiFilledInput"}),{components:u={},componentsProps:d,fullWidth:h=!1,inputComponent:p="input",multiline:f=!1,slotProps:m,slots:g={},type:v="text"}=l,y=(0,a.A)(l,ic),b=(0,s.A)({},l,{fullWidth:h,inputComponent:p,multiline:f,type:v}),x=(e=>{const{classes:t,disableUnderline:n}=e,r=ue({root:["root",!n&&"underline"],input:["input"]},rc,t);return(0,s.A)({},t,r)})(l),w={root:{ownerState:b},input:{ownerState:b}},S=(null!=m?m:d)?(0,c.A)(w,null!=m?m:d):w,k=null!=(n=null!=(r=g.root)?r:u.Root)?n:sc,A=null!=(o=null!=(i=g.input)?i:u.Input)?o:ac;return(0,J.jsx)(Xl,(0,s.A)({slots:{root:k,input:A},componentsProps:S,fullWidth:h,inputComponent:p,multiline:f,ref:t,type:v},y,{classes:x}))});lc.muiName="Input";const cc=lc;var uc;const dc=["children","classes","className","label","notched"],hc=me("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:fe})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),pc=me("legend",{name:"MuiNotchedOutlined",shouldForwardProp:fe})(e=>{let{ownerState:t,theme:n}=e;return(0,s.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,s.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))});function fc(e){return oe("MuiOutlinedInput",e)}const mc=(0,s.A)({},Ul,ie("MuiOutlinedInput",["root","notchedOutline","input"])),gc=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],vc=me(Hl,{shouldForwardProp:e=>fe(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:ql})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,s.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(mc.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(mc.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):r}},["&.".concat(mc.focused," .").concat(mc.notchedOutline)]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},["&.".concat(mc.error," .").concat(mc.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(mc.disabled," .").concat(mc.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,s.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))}),yc=me(function(e){const{className:t,label:n,notched:r}=e,o=(0,a.A)(e,dc),i=null!=n&&""!==n,l=(0,s.A)({},e,{notched:r,withLabel:i});return(0,J.jsx)(hc,(0,s.A)({"aria-hidden":!0,className:t,ownerState:l},o,{children:(0,J.jsx)(pc,{ownerState:l,children:i?(0,J.jsx)("span",{children:n}):uc||(uc=(0,J.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))},{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}}),bc=me(Kl,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Wl})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})}),xc=t.forwardRef(function(e,n){var r,o,i,l,c;const u=xe({props:e,name:"MuiOutlinedInput"}),{components:d={},fullWidth:h=!1,inputComponent:p="input",label:f,multiline:m=!1,notched:g,slots:v={},type:y="text"}=u,b=(0,a.A)(u,gc),x=(e=>{const{classes:t}=e,n=ue({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},fc,t);return(0,s.A)({},t,n)})(u),w=wa(),S=xa({props:u,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),k=(0,s.A)({},u,{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:w,fullWidth:h,hiddenLabel:S.hiddenLabel,multiline:m,size:S.size,type:y}),A=null!=(r=null!=(o=v.root)?o:d.Root)?r:vc,E=null!=(i=null!=(l=v.input)?l:d.Input)?i:bc;return(0,J.jsx)(Xl,(0,s.A)({slots:{root:A,input:E},renderSuffix:e=>(0,J.jsx)(yc,{ownerState:k,className:x.notchedOutline,label:null!=f&&""!==f&&S.required?c||(c=(0,J.jsxs)(t.Fragment,{children:[f,"\u2009","*"]})):f,notched:"undefined"!==typeof g?g:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:h,inputComponent:p,multiline:m,ref:n,type:y},b,{classes:(0,s.A)({},x,{notchedOutline:null})}))});xc.muiName="Input";const wc=xc,Sc=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],kc=["root"],Ac={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>fe(e)&&"variant"!==e,slot:"Root"},Ec=me(nc,Ac)(""),Cc=me(wc,Ac)(""),Ic=me(cc,Ac)(""),Tc=t.forwardRef(function(e,n){const r=xe({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:i,classes:l={},className:u,defaultOpen:d=!1,displayEmpty:h=!1,IconComponent:p=Nl,id:f,input:m,inputProps:g,label:v,labelId:y,MenuProps:b,multiple:x=!1,native:w=!1,onClose:S,onOpen:k,open:A,renderValue:E,SelectDisplayProps:C,variant:I="outlined"}=r,T=(0,a.A)(r,Sc),j=w?xl:Pl,_=xa({props:r,muiFormControl:wa(),states:["variant","error"]}),R=_.variant||I,P=(0,s.A)({},r,{variant:R,classes:l}),N=(e=>{const{classes:t}=e;return t})(P),O=(0,a.A)(N,kc),L=m||{standard:(0,J.jsx)(Ec,{ownerState:P}),outlined:(0,J.jsx)(Cc,{label:v,ownerState:P}),filled:(0,J.jsx)(Ic,{ownerState:P})}[R],M=ot(n,Vn(L));return(0,J.jsx)(t.Fragment,{children:t.cloneElement(L,(0,s.A)({inputComponent:j,inputProps:(0,s.A)({children:i,error:_.error,IconComponent:p,variant:R,type:void 0,multiple:x},w?{id:f}:{autoWidth:o,defaultOpen:d,displayEmpty:h,labelId:y,MenuProps:b,onClose:S,onOpen:k,open:A,renderValue:E,SelectDisplayProps:(0,s.A)({id:f},C)},g,{classes:g?(0,c.A)(O,g.classes):O},m?m.props.inputProps:{})},(x&&w||h)&&"outlined"===R?{notched:!0}:{},{ref:M,className:H(L.props.className,u,N.root)},!m&&{variant:R},T))})});Tc.muiName="Select";const jc=Tc;function _c(e){return oe("MuiDivider",e)}const Rc=ie("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function Pc(e){return oe("MuiMenuItem",e)}const Nc=ie("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Oc=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Lc=me(nn,{shouldForwardProp:e=>fe(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(Nc.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,f.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(Nc.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,f.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(Nc.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,f.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,f.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(Nc.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(Nc.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(Rc.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(Rc.inset)]:{marginLeft:52},["& .".concat(bo.root)]:{marginTop:0,marginBottom:0},["& .".concat(bo.inset)]:{paddingLeft:36},["& .".concat(fo.root)]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,s.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(fo.root," svg")]:{fontSize:"1.25rem"}}))}),Mc=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:i="li",dense:l=!1,divider:c=!1,disableGutters:u=!1,focusVisibleClassName:d,role:h="menuitem",tabIndex:p,className:f}=r,m=(0,a.A)(r,Oc),g=t.useContext(Kr),v=t.useMemo(()=>({dense:l||g.dense||!1,disableGutters:u}),[g.dense,l,u]),y=t.useRef(null);Jr(()=>{o&&y.current&&y.current.focus()},[o]);const b=(0,s.A)({},r,{dense:v.dense,divider:c,disableGutters:u}),x=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:i,classes:a}=e,l=ue({root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},Pc,a);return(0,s.A)({},a,l)})(r),w=ot(y,n);let S;return r.disabled||(S=void 0!==p?p:-1),(0,J.jsx)(Kr.Provider,{value:v,children:(0,J.jsx)(Lc,(0,s.A)({ref:w,role:h,tabIndex:S,component:i,focusVisibleClassName:H(x.focusVisible,d),className:H(x.root,f)},m,{ownerState:b,classes:x}))})});function Dc(e){return oe("MuiFormGroup",e)}ie("MuiFormGroup",["root","row","error"]);const Fc=["className","row"],zc=me("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(e=>{let{ownerState:t}=e;return(0,s.A)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})}),Vc=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiFormGroup"}),{className:r,row:o=!1}=n,i=(0,a.A)(n,Fc),l=xa({props:n,muiFormControl:wa(),states:["error"]}),c=(0,s.A)({},n,{row:o,error:l.error}),u=(e=>{const{classes:t,row:n,error:r}=e;return ue({root:["root",n&&"row",r&&"error"]},Dc,t)})(c);return(0,J.jsx)(zc,(0,s.A)({className:H(u.root,r),ownerState:c,ref:t},i))});function Uc(e){return oe("MuiRadioGroup",e)}ie("MuiRadioGroup",["root","row","error"]);const Bc=t.createContext(void 0),qc=Qo,Wc=["actions","children","className","defaultValue","name","onChange","value"],Hc=t.forwardRef(function(e,n){const{actions:r,children:o,className:i,defaultValue:l,name:c,onChange:u,value:d}=e,h=(0,a.A)(e,Wc),p=t.useRef(null),f=(e=>{const{classes:t,row:n,error:r}=e;return ue({root:["root",n&&"row",r&&"error"]},Uc,t)})(e),[m,g]=Sl({controlled:d,default:l,name:"RadioGroup"});t.useImperativeHandle(r,()=>({focus:()=>{let e=p.current.querySelector("input:not(:disabled):checked");e||(e=p.current.querySelector("input:not(:disabled)")),e&&e.focus()}}),[]);const v=ot(n,p),y=qc(c),b=t.useMemo(()=>({name:y,onChange(e){g(e.target.value),u&&u(e,e.target.value)},value:m}),[y,u,g,m]);return(0,J.jsx)(Bc.Provider,{value:b,children:(0,J.jsx)(Vc,(0,s.A)({role:"radiogroup",ref:v,className:H(f.root,i)},h,{children:o}))})});var Kc=n(8604);const Gc=["component","direction","spacing","divider","children","className","useFlexGap"],Qc=(0,h.A)(),Xc=Lo("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function $c(e){return ko({props:e,name:"MuiStack",defaultTheme:Qc})}function Yc(e,n){const r=t.Children.toArray(e).filter(Boolean);return r.reduce((e,o,i)=>(e.push(o),i<r.length-1&&e.push(t.cloneElement(n,{key:"separator-".concat(i)})),e),[])}const Jc=e=>{let{ownerState:t,theme:n}=e,r=(0,s.A)({display:"flex",flexDirection:"column"},(0,je.NI)({theme:n},(0,je.kW)({values:t.direction,breakpoints:n.breakpoints.values}),e=>({flexDirection:e})));if(t.spacing){const e=(0,Kc.LX)(n),o=Object.keys(n.breakpoints.values).reduce((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e),{}),i=(0,je.kW)({values:t.direction,base:o}),s=(0,je.kW)({values:t.spacing,base:o});"object"===typeof i&&Object.keys(i).forEach((e,t,n)=>{if(!i[e]){const r=t>0?i[n[t-1]]:"column";i[e]=r}});const a=(n,r)=>{return t.useFlexGap?{gap:(0,Kc._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((o=r?i[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]))]:(0,Kc._W)(e,n)}};var o};r=(0,c.A)(r,(0,je.NI)({theme:n},s,a))}return r=(0,je.iZ)(n.breakpoints,r),r};const Zc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=Xc,useThemeProps:r=$c,componentName:o="MuiStack"}=e,i=n(Jc),l=t.forwardRef(function(e,t){const n=r(e),l=(0,G.A)(n),{component:c="div",direction:u="column",spacing:d=0,divider:h,children:p,className:f,useFlexGap:m=!1}=l,g=(0,a.A)(l,Gc),v={direction:u,spacing:d,useFlexGap:m},y=ue({root:["root"]},e=>oe(o,e),{});return(0,J.jsx)(i,(0,s.A)({as:c,ownerState:v,ref:t,className:H(y.root,f)},g,{children:h?Yc(p,h):p}))});return l}({createStyledComponent:me("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>xe({props:e,name:"MuiStack"})}),eu=Zc;function tu(e){return oe("MuiFormControlLabel",e)}const nu=ie("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),ru=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],ou=me("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(nu.label)]:t.label},t.root,t["labelPlacement".concat(Se(n.labelPlacement))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(nu.disabled)]:{cursor:"default"}},"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},{["& .".concat(nu.label)]:{["&.".concat(nu.disabled)]:{color:(t.vars||t).palette.text.disabled}}})}),iu=me("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(e=>{let{theme:t}=e;return{["&.".concat(nu.error)]:{color:(t.vars||t).palette.error.main}}}),su=t.forwardRef(function(e,n){var r,o;const i=xe({props:e,name:"MuiFormControlLabel"}),{className:l,componentsProps:c={},control:u,disabled:d,disableTypography:h,label:p,labelPlacement:f="end",required:m,slotProps:g={}}=i,v=(0,a.A)(i,ru),y=wa(),b=null!=(r=null!=d?d:u.props.disabled)?r:null==y?void 0:y.disabled,x=null!=m?m:u.props.required,w={disabled:b,required:x};["checked","name","onChange","value","inputRef"].forEach(e=>{"undefined"===typeof u.props[e]&&"undefined"!==typeof i[e]&&(w[e]=i[e])});const S=xa({props:i,muiFormControl:y,states:["error"]}),k=(0,s.A)({},i,{disabled:b,labelPlacement:f,required:x,error:S.error}),A=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:o,required:i}=e;return ue({root:["root",n&&"disabled","labelPlacement".concat(Se(r)),o&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]},tu,t)})(k),E=null!=(o=g.typography)?o:c.typography;let C=p;return null==C||C.type===Te||h||(C=(0,J.jsx)(Te,(0,s.A)({component:"span"},E,{className:H(A.label,null==E?void 0:E.className),children:C}))),(0,J.jsxs)(ou,(0,s.A)({className:H(A.root,l),ownerState:k,ref:n},v,{children:[t.cloneElement(u,w),x?(0,J.jsxs)(eu,{display:"block",children:[C,(0,J.jsxs)(iu,{ownerState:k,"aria-hidden":!0,className:A.asterisk,children:["\u2009","*"]})]}):C]}))});function au(e){return oe("PrivateSwitchBase",e)}ie("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const lu=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],cu=me(nn,{name:"MuiSwitchBase"})(e=>{let{ownerState:t}=e;return(0,s.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})}),uu=me("input",{name:"MuiSwitchBase",shouldForwardProp:fe})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),du=t.forwardRef(function(e,t){const{autoFocus:n,checked:r,checkedIcon:o,className:i,defaultChecked:l,disabled:c,disableFocusRipple:u=!1,edge:d=!1,icon:h,id:p,inputProps:f,inputRef:m,name:g,onBlur:v,onChange:y,onFocus:b,readOnly:x,required:w=!1,tabIndex:S,type:k,value:A}=e,E=(0,a.A)(e,lu),[C,I]=Sl({controlled:r,default:Boolean(l),name:"SwitchBase",state:"checked"}),T=wa();let j=c;T&&"undefined"===typeof j&&(j=T.disabled);const _="checkbox"===k||"radio"===k,R=(0,s.A)({},e,{checked:C,disabled:j,disableFocusRipple:u,edge:d}),P=(e=>{const{classes:t,checked:n,disabled:r,edge:o}=e;return ue({root:["root",n&&"checked",r&&"disabled",o&&"edge".concat(Se(o))],input:["input"]},au,t)})(R);return(0,J.jsxs)(cu,(0,s.A)({component:"span",className:H(P.root,i),centerRipple:!0,focusRipple:!u,disabled:j,tabIndex:null,role:void 0,onFocus:e=>{b&&b(e),T&&T.onFocus&&T.onFocus(e)},onBlur:e=>{v&&v(e),T&&T.onBlur&&T.onBlur(e)},ownerState:R,ref:t},E,{children:[(0,J.jsx)(uu,(0,s.A)({autoFocus:n,checked:r,defaultChecked:l,className:P.input,disabled:j,id:_?p:void 0,name:g,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;I(t),y&&y(e,t)},readOnly:x,ref:m,required:w,ownerState:R,tabIndex:S,type:k},"checkbox"===k&&void 0===A?{}:{value:A},f)),C?o:h]}))}),hu=hi((0,J.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),pu=hi((0,J.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),fu=me("span",{name:"MuiRadioButtonIcon",shouldForwardProp:fe})({position:"relative",display:"flex"}),mu=me(hu,{name:"MuiRadioButtonIcon"})({transform:"scale(1)"}),gu=me(pu,{name:"MuiRadioButtonIcon"})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})});const vu=function(e){const{checked:t=!1,classes:n={},fontSize:r}=e,o=(0,s.A)({},e,{checked:t});return(0,J.jsxs)(fu,{className:n.root,ownerState:o,children:[(0,J.jsx)(mu,{fontSize:r,className:n.background,ownerState:o}),(0,J.jsx)(gu,{fontSize:r,className:n.dot,ownerState:o})]})},yu=pr;function bu(e){return oe("MuiRadio",e)}const xu=ie("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),wu=["checked","checkedIcon","color","icon","name","onChange","size","className"],Su=me(du,{shouldForwardProp:e=>fe(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"medium"!==n.size&&t["size".concat(Se(n.size))],t["color".concat(Se(n.color))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,f.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(xu.checked)]:{color:(t.vars||t).palette[n.color].main}},{["&.".concat(xu.disabled)]:{color:(t.vars||t).palette.action.disabled}})});const ku=(0,J.jsx)(vu,{checked:!0}),Au=(0,J.jsx)(vu,{}),Eu=t.forwardRef(function(e,n){var r,o;const i=xe({props:e,name:"MuiRadio"}),{checked:l,checkedIcon:c=ku,color:u="primary",icon:d=Au,name:h,onChange:p,size:f="medium",className:m}=i,g=(0,a.A)(i,wu),v=(0,s.A)({},i,{color:u,size:f}),y=(e=>{const{classes:t,color:n,size:r}=e,o={root:["root","color".concat(Se(n)),"medium"!==r&&"size".concat(Se(r))]};return(0,s.A)({},t,ue(o,bu,t))})(v),b=t.useContext(Bc);let x=l;const w=yu(p,b&&b.onChange);let S=h;var k,A;return b&&("undefined"===typeof x&&(k=b.value,x="object"===typeof(A=i.value)&&null!==A?k===A:String(k)===String(A)),"undefined"===typeof S&&(S=b.name)),(0,J.jsx)(Su,(0,s.A)({type:"radio",icon:t.cloneElement(d,{fontSize:null!=(r=Au.props.fontSize)?r:f}),checkedIcon:t.cloneElement(c,{fontSize:null!=(o=ku.props.fontSize)?o:f}),ownerState:v,classes:y,name:S,checked:x,onChange:w,ref:n,className:H(y.root,m)},g))}),Cu=hi((0,J.jsx)("path",{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.3 3-3.4 3-5.7 0-3.9-3.1-7-7-7"}),"Lightbulb"),Iu=hi((0,J.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),Tu=e=>{var n;let{question:r,onAnswer:o,showExplanation:i=!0}=e;const[s,a]=(0,t.useState)(""),[l,c]=(0,t.useState)(!1),[u]=(0,t.useState)(()=>Date.now()),d=l&&s===r.correctAnswer;l&&r.correctAnswer;return(0,J.jsx)(Ye,{elevation:3,sx:{mb:3},children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{mb:3},children:[(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,children:r.text}),r.grammarFocus&&r.grammarFocus.length>0&&(0,J.jsx)(ce,{sx:{display:"flex",gap:1,mt:2,flexWrap:"wrap"},children:r.grammarFocus.map((e,t)=>(0,J.jsx)(ms,{label:e,size:"small",color:"primary",variant:"outlined",icon:(0,J.jsx)(Cu,{})},t))})]}),(0,J.jsx)(ba,{component:"fieldset",fullWidth:!0,disabled:l,children:(0,J.jsx)(Hc,{value:s,onChange:e=>a(e.target.value),children:null===(n=r.options)||void 0===n?void 0:n.map((e,t)=>(0,J.jsx)(su,{value:e,control:(0,J.jsx)(Eu,{}),label:(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,J.jsx)(Te,{children:e}),l&&e===r.correctAnswer&&(0,J.jsx)(ca,{color:"success",fontSize:"small"}),l&&e===s&&e!==r.correctAnswer&&(0,J.jsx)(Iu,{color:"error",fontSize:"small"})]}),sx:{p:2,mb:1,border:1,borderColor:l&&e===r.correctAnswer?"success.main":l&&e===s?"error.main":"grey.300",borderRadius:2,bgcolor:l&&e===r.correctAnswer?"success.light":l&&e===s?"error.light":"transparent"}},t))})}),!l&&(0,J.jsx)(pn,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{const e=s===r.correctAnswer,t=Math.floor((Date.now()-u)/1e3);c(!0),o(s,e,t)},disabled:!s,sx:{mt:3},children:"Valider la r\xe9ponse"}),l&&(0,J.jsxs)(ce,{sx:{mt:3},children:[(0,J.jsx)(Ns,{severity:d?"success":"error",icon:d?(0,J.jsx)(ca,{}):(0,J.jsx)(Iu,{}),children:(0,J.jsx)(Te,{variant:"subtitle2",children:d?"Bonne r\xe9ponse !":"R\xe9ponse incorrecte"})}),i&&(0,J.jsxs)(ce,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,J.jsx)(Te,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Explication :"}),(0,J.jsx)(Te,{variant:"body2",children:r.explanation})]})]})]})})};function ju(e){return oe("MuiFormHelperText",e)}const _u=ie("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Ru;const Pu=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Nu=me("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat(Se(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(_u.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(_u.error)]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})}),Ou=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiFormHelperText"}),{children:r,className:o,component:i="p"}=n,l=(0,a.A)(n,Pu),c=xa({props:n,muiFormControl:wa(),states:["variant","size","disabled","error","filled","focused","required"]}),u=(0,s.A)({},n,{component:i,contained:"filled"===c.variant||"outlined"===c.variant,variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=(e=>{const{classes:t,contained:n,size:r,disabled:o,error:i,filled:s,focused:a,required:l}=e;return ue({root:["root",o&&"disabled",i&&"error",r&&"size".concat(Se(r)),n&&"contained",a&&"focused",s&&"filled",l&&"required"]},ju,t)})(u);return(0,J.jsx)(Nu,(0,s.A)({as:i,ownerState:u,className:H(d.root,o),ref:t},l,{children:" "===r?Ru||(Ru=(0,J.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))});function Lu(e){return oe("MuiTextField",e)}ie("MuiTextField",["root"]);const Mu=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Du={standard:nc,filled:cc,outlined:wc},Fu=me(ba,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),zu=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:o=!1,children:i,className:l,color:c="primary",defaultValue:u,disabled:d=!1,error:h=!1,FormHelperTextProps:p,fullWidth:f=!1,helperText:m,id:g,InputLabelProps:v,inputProps:y,InputProps:b,inputRef:x,label:w,maxRows:S,minRows:k,multiline:A=!1,name:E,onBlur:C,onChange:I,onFocus:T,placeholder:j,required:_=!1,rows:R,select:P=!1,SelectProps:N,type:O,value:L,variant:M="outlined"}=n,D=(0,a.A)(n,Mu),F=(0,s.A)({},n,{autoFocus:o,color:c,disabled:d,error:h,fullWidth:f,multiline:A,required:_,select:P,variant:M}),z=(e=>{const{classes:t}=e;return ue({root:["root"]},Lu,t)})(F);const V={};"outlined"===M&&(v&&"undefined"!==typeof v.shrink&&(V.notched=v.shrink),V.label=w),P&&(N&&N.native||(V.id=void 0),V["aria-describedby"]=void 0);const U=Qo(g),B=m&&U?"".concat(U,"-helper-text"):void 0,q=w&&U?"".concat(U,"-label"):void 0,W=Du[M],K=(0,J.jsx)(W,(0,s.A)({"aria-describedby":B,autoComplete:r,autoFocus:o,defaultValue:u,fullWidth:f,multiline:A,name:E,rows:R,maxRows:S,minRows:k,type:O,value:L,id:U,inputRef:x,onBlur:C,onChange:I,onFocus:T,placeholder:j,inputProps:y},V,b));return(0,J.jsxs)(Fu,(0,s.A)({className:H(z.root,l),disabled:d,error:h,fullWidth:f,ref:t,required:_,color:c,variant:M,ownerState:F},D,{children:[null!=w&&""!==w&&(0,J.jsx)(Ra,(0,s.A)({htmlFor:U,id:q},v,{children:w})),P?(0,J.jsx)(jc,(0,s.A)({"aria-describedby":B,id:U,labelId:q,value:L,input:K},N,{children:i})):K,m&&(0,J.jsx)(Ou,(0,s.A)({id:B},p,{children:m}))]}))}),Vu=e=>{let{question:n,onAnswer:r,showExplanation:o=!0}=e;const[i,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(!1),[c]=(0,t.useState)(()=>Date.now()),u=a&&i.trim().toLowerCase()===(Array.isArray(n.correctAnswer)?n.correctAnswer[0]:n.correctAnswer).toLowerCase();return(0,J.jsx)(Ye,{elevation:3,sx:{mb:3},children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{mb:3},children:[(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,children:"Compl\xe9tez le texte \xe0 trous"}),n.grammarFocus&&n.grammarFocus.length>0&&(0,J.jsx)(ce,{sx:{display:"flex",gap:1,mt:2,mb:3,flexWrap:"wrap"},children:n.grammarFocus.map((e,t)=>(0,J.jsx)(ms,{label:e,size:"small",color:"primary",variant:"outlined",icon:(0,J.jsx)(Cu,{})},t))}),(0,J.jsx)(ce,{sx:{p:3,bgcolor:"grey.50",borderRadius:2,fontSize:"1.1rem",lineHeight:2},children:(0,J.jsx)(Te,{component:"div",variant:"body1",children:(e=>{const n=e.split("___");return n.map((e,r)=>(0,J.jsxs)(t.Fragment,{children:[e,r<n.length-1&&(0,J.jsx)(zu,{size:"small",variant:"outlined",disabled:a,value:i,onChange:e=>s(e.target.value),sx:{mx:1,minWidth:150,"& .MuiOutlinedInput-root":{bgcolor:a?u?"success.light":"error.light":"white"}}})]},r))})(n.text)})})]}),!a&&(0,J.jsx)(pn,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{const e=Array.isArray(n.correctAnswer)?n.correctAnswer[0]:n.correctAnswer,t=i.trim().toLowerCase()===e.toLowerCase(),o=Math.floor((Date.now()-c)/1e3);l(!0),r(i,t,o)},disabled:!i.trim(),sx:{mt:3},children:"Valider la r\xe9ponse"}),a&&(0,J.jsxs)(ce,{sx:{mt:3},children:[(0,J.jsxs)(Ns,{severity:u?"success":"error",icon:u?(0,J.jsx)(ca,{}):(0,J.jsx)(Iu,{}),children:[(0,J.jsx)(Te,{variant:"subtitle2",children:u?"Bonne r\xe9ponse !":"R\xe9ponse incorrecte"}),!u&&(0,J.jsxs)(Te,{variant:"body2",sx:{mt:1},children:["La r\xe9ponse correcte \xe9tait : ",(0,J.jsx)("strong",{children:n.correctAnswer})]})]}),o&&(0,J.jsxs)(ce,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,J.jsx)(Te,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Explication :"}),(0,J.jsx)(Te,{variant:"body2",children:n.explanation})]})]})]})})},Uu=e=>{var n;let{question:r,onAnswer:o,audioUrl:i,transcript:s,showExplanation:a=!0}=e;const[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1),[h]=(0,t.useState)(()=>Date.now()),[p,f]=(0,t.useState)(!1),m=(0,t.useRef)(null),g=u&&l===r.correctAnswer;u&&r.correctAnswer;return(0,J.jsx)(Ye,{elevation:3,sx:{mb:3},children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{mb:3},children:[(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,children:r.text}),r.grammarFocus&&r.grammarFocus.length>0&&(0,J.jsx)(ce,{sx:{display:"flex",gap:1,mt:2,flexWrap:"wrap"},children:r.grammarFocus.map((e,t)=>(0,J.jsx)(ms,{label:e,size:"small",color:"primary",variant:"outlined"},t))}),i&&(0,J.jsxs)(ce,{sx:{mt:3,mb:2,p:2,bgcolor:"primary.light",borderRadius:2,border:2,borderColor:"primary.main"},children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,J.jsx)(Te,{variant:"h6",sx:{color:"white",flexGrow:1},children:"Audio"}),(0,J.jsx)("audio",{ref:m,src:i,controls:!0,style:{flexGrow:1,maxWidth:"400px"},onPlay:()=>f(!0),onPause:()=>f(!1),onEnded:()=>f(!1)})]}),(0,J.jsx)(Te,{variant:"caption",sx:{display:"block",mt:1,color:"white"},children:"\ud83d\udca1 \xc9coutez attentivement l'audio avant de r\xe9pondre"})]}),s&&!u&&(0,J.jsx)(Ns,{severity:"info",sx:{mt:2},children:(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Conseil :"})," \xc9coutez l'audio attentivement. La transcription sera disponible apr\xe8s avoir r\xe9pondu."]})}),s&&u&&(0,J.jsxs)(ce,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,J.jsx)(Te,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Transcription :"}),(0,J.jsx)(Te,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:s})]})]}),(0,J.jsx)(ba,{component:"fieldset",fullWidth:!0,disabled:u,children:(0,J.jsx)(Hc,{value:l,onChange:e=>c(e.target.value),children:null===(n=r.options)||void 0===n?void 0:n.map((e,t)=>(0,J.jsx)(su,{value:e,control:(0,J.jsx)(Eu,{}),label:(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,J.jsx)(Te,{children:e}),u&&e===r.correctAnswer&&(0,J.jsx)(ca,{color:"success",fontSize:"small"}),u&&e===l&&e!==r.correctAnswer&&(0,J.jsx)(Iu,{color:"error",fontSize:"small"})]}),sx:{p:2,mb:1,border:1,borderColor:u&&e===r.correctAnswer?"success.main":u&&e===l?"error.main":"grey.300",borderRadius:2,bgcolor:u&&e===r.correctAnswer?"success.light":u&&e===l?"error.light":"transparent"}},t))})}),!u&&(0,J.jsx)(pn,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{const e=l===r.correctAnswer,t=Math.floor((Date.now()-h)/1e3);d(!0),o(l,e,t)},disabled:!l,sx:{mt:3},children:"Valider la r\xe9ponse"}),u&&(0,J.jsxs)(ce,{sx:{mt:3},children:[(0,J.jsx)(Ns,{severity:g?"success":"error",icon:g?(0,J.jsx)(ca,{}):(0,J.jsx)(Iu,{}),children:(0,J.jsx)(Te,{variant:"subtitle2",children:g?"Bonne r\xe9ponse !":"R\xe9ponse incorrecte"})}),a&&(0,J.jsxs)(ce,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,J.jsx)(Te,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Explication :"}),(0,J.jsx)(Te,{variant:"body2",children:r.explanation})]})]})]})})},Bu=e=>{var n;let{question:r,onAnswer:o,text:i,showExplanation:s=!0}=e;const[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[d]=(0,t.useState)(()=>Date.now()),h=c&&a===r.correctAnswer;c&&r.correctAnswer;return(0,J.jsx)(Ye,{elevation:3,sx:{mb:3},children:(0,J.jsxs)(tt,{children:[i&&(0,J.jsx)(ce,{sx:{mb:3,p:3,bgcolor:"grey.50",borderRadius:2},children:(0,J.jsx)(Te,{variant:"body1",sx:{whiteSpace:"pre-wrap",lineHeight:1.8},children:i})}),(0,J.jsxs)(ce,{sx:{mb:3},children:[(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,children:r.text}),r.grammarFocus&&r.grammarFocus.length>0&&(0,J.jsx)(ce,{sx:{display:"flex",gap:1,mt:2,flexWrap:"wrap"},children:r.grammarFocus.map((e,t)=>(0,J.jsx)(ms,{label:e,size:"small",color:"primary",variant:"outlined"},t))})]}),(0,J.jsx)(ba,{component:"fieldset",fullWidth:!0,disabled:c,children:(0,J.jsx)(Hc,{value:a,onChange:e=>l(e.target.value),children:null===(n=r.options)||void 0===n?void 0:n.map((e,t)=>(0,J.jsx)(su,{value:e,control:(0,J.jsx)(Eu,{}),label:(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,J.jsx)(Te,{children:e}),c&&e===r.correctAnswer&&(0,J.jsx)(ca,{color:"success",fontSize:"small"}),c&&e===a&&e!==r.correctAnswer&&(0,J.jsx)(Iu,{color:"error",fontSize:"small"})]}),sx:{p:2,mb:1,border:1,borderColor:c&&e===r.correctAnswer?"success.main":c&&e===a?"error.main":"grey.300",borderRadius:2,bgcolor:c&&e===r.correctAnswer?"success.light":c&&e===a?"error.light":"transparent"}},t))})}),!c&&(0,J.jsx)(pn,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{const e=a===r.correctAnswer,t=Math.floor((Date.now()-d)/1e3);u(!0),o(a,e,t)},disabled:!a,sx:{mt:3},children:"Valider la r\xe9ponse"}),c&&(0,J.jsxs)(ce,{sx:{mt:3},children:[(0,J.jsx)(Ns,{severity:h?"success":"error",icon:h?(0,J.jsx)(ca,{}):(0,J.jsx)(Iu,{}),children:(0,J.jsx)(Te,{variant:"subtitle2",children:h?"Bonne r\xe9ponse !":"R\xe9ponse incorrecte"})}),s&&(0,J.jsxs)(ce,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,J.jsx)(Te,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Explication :"}),(0,J.jsx)(Te,{variant:"body2",children:r.explanation})]})]})]})})};var qu=n(2374);function Wu(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Hu(e){return e instanceof Wu(e).Element||e instanceof Element}function Ku(e){return e instanceof Wu(e).HTMLElement||e instanceof HTMLElement}function Gu(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Wu(e).ShadowRoot||e instanceof ShadowRoot)}var Qu=Math.max,Xu=Math.min,$u=Math.round;function Yu(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ju(){return!/^((?!chrome|android).)*safari/i.test(Yu())}function Zu(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&Ku(e)&&(o=e.offsetWidth>0&&$u(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&$u(r.height)/e.offsetHeight||1);var s=(Hu(e)?Wu(e):window).visualViewport,a=!Ju()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/o,c=(r.top+(a&&s?s.offsetTop:0))/i,u=r.width/o,d=r.height/i;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function ed(e){var t=Wu(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function td(e){return e?(e.nodeName||"").toLowerCase():null}function nd(e){return((Hu(e)?e.ownerDocument:e.document)||window.document).documentElement}function rd(e){return Zu(nd(e)).left+ed(e).scrollLeft}function od(e){return Wu(e).getComputedStyle(e)}function id(e){var t=od(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function sd(e,t,n){void 0===n&&(n=!1);var r=Ku(t),o=Ku(t)&&function(e){var t=e.getBoundingClientRect(),n=$u(t.width)/e.offsetWidth||1,r=$u(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=nd(t),s=Zu(e,o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==td(t)||id(i))&&(a=function(e){return e!==Wu(e)&&Ku(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:ed(e);var t}(t)),Ku(t)?((l=Zu(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=rd(i))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function ad(e){var t=Zu(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function ld(e){return"html"===td(e)?e:e.assignedSlot||e.parentNode||(Gu(e)?e.host:null)||nd(e)}function cd(e){return["html","body","#document"].indexOf(td(e))>=0?e.ownerDocument.body:Ku(e)&&id(e)?e:cd(ld(e))}function ud(e,t){var n;void 0===t&&(t=[]);var r=cd(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=Wu(r),s=o?[i].concat(i.visualViewport||[],id(r)?r:[]):r,a=t.concat(s);return o?a:a.concat(ud(ld(s)))}function dd(e){return["table","td","th"].indexOf(td(e))>=0}function hd(e){return Ku(e)&&"fixed"!==od(e).position?e.offsetParent:null}function pd(e){for(var t=Wu(e),n=hd(e);n&&dd(n)&&"static"===od(n).position;)n=hd(n);return n&&("html"===td(n)||"body"===td(n)&&"static"===od(n).position)?t:n||function(e){var t=/firefox/i.test(Yu());if(/Trident/i.test(Yu())&&Ku(e)&&"fixed"===od(e).position)return null;var n=ld(e);for(Gu(n)&&(n=n.host);Ku(n)&&["html","body"].indexOf(td(n))<0;){var r=od(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var fd="top",md="bottom",gd="right",vd="left",yd="auto",bd=[fd,md,gd,vd],xd="start",wd="end",Sd="viewport",kd="popper",Ad=bd.reduce(function(e,t){return e.concat([t+"-"+xd,t+"-"+wd])},[]),Ed=[].concat(bd,[yd]).reduce(function(e,t){return e.concat([t,t+"-"+xd,t+"-"+wd])},[]),Cd=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Id(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||o(e)}),r}function Td(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var jd={placement:"bottom",modifiers:[],strategy:"absolute"};function _d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function Rd(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?jd:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},jd,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:o,setOptions:function(n){var a="function"===typeof n?n(o.options):n;c(),o.options=Object.assign({},i,o.options,a),o.scrollParents={reference:Hu(e)?ud(e):e.contextElement?ud(e.contextElement):[],popper:ud(t)};var u=function(e){var t=Id(e);return Cd.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,o.options.modifiers)));return o.orderedModifiers=u.filter(function(e){return e.enabled}),o.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var a=i({state:o,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}}),l.update()},forceUpdate:function(){if(!a){var e=o.elements,t=e.reference,n=e.popper;if(_d(t,n)){o.rects={reference:sd(t,pd(n),"fixed"===o.options.strategy),popper:ad(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(e){return o.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],s=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"===typeof s&&(o=s({state:o,options:u,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:Td(function(){return new Promise(function(e){l.forceUpdate(),e(o)})}),destroy:function(){c(),a=!0}};if(!_d(e,t))return l;function c(){s.forEach(function(e){return e()}),s=[]}return l.setOptions(n).then(function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)}),l}}var Pd={passive:!0};function Nd(e){return e.split("-")[0]}function Od(e){return e.split("-")[1]}function Ld(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Md(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?Nd(o):null,s=o?Od(o):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case fd:t={x:a,y:n.y-r.height};break;case md:t={x:a,y:n.y+n.height};break;case gd:t={x:n.x+n.width,y:l};break;case vd:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?Ld(i):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case xd:t[c]=t[c]-(n[u]/2-r[u]/2);break;case wd:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var Dd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Fd(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,p=void 0===h?0:h,f=s.y,m=void 0===f?0:f,g="function"===typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=vd,x=fd,w=window;if(c){var S=pd(n),k="clientHeight",A="clientWidth";if(S===Wu(n)&&"static"!==od(S=nd(n)).position&&"absolute"===a&&(k="scrollHeight",A="scrollWidth"),o===fd||(o===vd||o===gd)&&i===wd)x=md,m-=(d&&S===w&&w.visualViewport?w.visualViewport.height:S[k])-r.height,m*=l?1:-1;if(o===vd||(o===fd||o===md)&&i===wd)b=gd,p-=(d&&S===w&&w.visualViewport?w.visualViewport.width:S[A])-r.width,p*=l?1:-1}var E,C=Object.assign({position:a},c&&Dd),I=!0===u?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:$u(n*o)/o||0,y:$u(r*o)/o||0}}({x:p,y:m},Wu(n)):{x:p,y:m};return p=I.x,m=I.y,l?Object.assign({},C,((E={})[x]=y?"0":"",E[b]=v?"0":"",E.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",E)):Object.assign({},C,((t={})[x]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const zd={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];Ku(o)&&td(o)&&(Object.assign(o.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});Ku(r)&&td(r)&&(Object.assign(r.style,i),Object.keys(o).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]};const Vd={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,s=Ed.reduce(function(e,n){return e[n]=function(e,t,n){var r=Nd(e),o=[vd,fd].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[vd,gd].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,i),e},{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var Ud={left:"right",right:"left",bottom:"top",top:"bottom"};function Bd(e){return e.replace(/left|right|bottom|top/g,function(e){return Ud[e]})}var qd={start:"end",end:"start"};function Wd(e){return e.replace(/start|end/g,function(e){return qd[e]})}function Hd(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Gu(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Kd(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Gd(e,t,n){return t===Sd?Kd(function(e,t){var n=Wu(e),r=nd(e),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;var c=Ju();(c||!c&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a+rd(e),y:l}}(e,n)):Hu(t)?function(e,t){var n=Zu(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Kd(function(e){var t,n=nd(e),r=ed(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=Qu(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Qu(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+rd(e),l=-r.scrollTop;return"rtl"===od(o||n).direction&&(a+=Qu(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}(nd(e)))}function Qd(e,t,n,r){var o="clippingParents"===t?function(e){var t=ud(ld(e)),n=["absolute","fixed"].indexOf(od(e).position)>=0&&Ku(e)?pd(e):e;return Hu(n)?t.filter(function(e){return Hu(e)&&Hd(e,n)&&"body"!==td(e)}):[]}(e):[].concat(t),i=[].concat(o,[n]),s=i[0],a=i.reduce(function(t,n){var o=Gd(e,n,r);return t.top=Qu(o.top,t.top),t.right=Xu(o.right,t.right),t.bottom=Xu(o.bottom,t.bottom),t.left=Qu(o.left,t.left),t},Gd(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Xd(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function $d(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function Yd(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,s=void 0===i?e.strategy:i,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,u=void 0===c?Sd:c,d=n.elementContext,h=void 0===d?kd:d,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,v=Xd("number"!==typeof g?g:$d(g,bd)),y=h===kd?"reference":kd,b=e.rects.popper,x=e.elements[f?y:h],w=Qd(Hu(x)?x:x.contextElement||nd(e.elements.popper),l,u,s),S=Zu(e.elements.reference),k=Md({reference:S,element:b,strategy:"absolute",placement:o}),A=Kd(Object.assign({},b,k)),E=h===kd?A:S,C={top:w.top-E.top+v.top,bottom:E.bottom-w.bottom+v.bottom,left:w.left-E.left+v.left,right:E.right-w.right+v.right},I=e.modifiersData.offset;if(h===kd&&I){var T=I[o];Object.keys(C).forEach(function(e){var t=[gd,md].indexOf(e)>=0?1:-1,n=[fd,md].indexOf(e)>=0?"y":"x";C[e]+=T[n]*t})}return C}function Jd(e,t,n){return Qu(e,Xu(t,n))}const Zd={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=Yd(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Nd(t.placement),y=Od(t.placement),b=!y,x=Ld(v),w="x"===x?"y":"x",S=t.modifiersData.popperOffsets,k=t.rects.reference,A=t.rects.popper,E="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,C="number"===typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(S){if(i){var j,_="y"===x?fd:vd,R="y"===x?md:gd,P="y"===x?"height":"width",N=S[x],O=N+g[_],L=N-g[R],M=p?-A[P]/2:0,D=y===xd?k[P]:A[P],F=y===xd?-A[P]:-k[P],z=t.elements.arrow,V=p&&z?ad(z):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=U[_],q=U[R],W=Jd(0,k[P],V[P]),H=b?k[P]/2-M-W-B-C.mainAxis:D-W-B-C.mainAxis,K=b?-k[P]/2+M+W+q+C.mainAxis:F+W+q+C.mainAxis,G=t.elements.arrow&&pd(t.elements.arrow),Q=G?"y"===x?G.clientTop||0:G.clientLeft||0:0,X=null!=(j=null==I?void 0:I[x])?j:0,$=N+K-X,Y=Jd(p?Xu(O,N+H-X-Q):O,N,p?Qu(L,$):L);S[x]=Y,T[x]=Y-N}if(a){var J,Z="x"===x?fd:vd,ee="x"===x?md:gd,te=S[w],ne="y"===w?"height":"width",re=te+g[Z],oe=te-g[ee],ie=-1!==[fd,vd].indexOf(v),se=null!=(J=null==I?void 0:I[w])?J:0,ae=ie?re:te-k[ne]-A[ne]-se+C.altAxis,le=ie?te+k[ne]+A[ne]-se-C.altAxis:oe,ce=p&&ie?function(e,t,n){var r=Jd(e,t,n);return r>n?n:r}(ae,te,le):Jd(p?ae:re,te,p?le:oe);S[w]=ce,T[w]=ce-te}t.modifiersData[r]=T}},requiresIfExists:["offset"]};const eh={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Nd(n.placement),l=Ld(a),c=[vd,gd].indexOf(a)>=0?"height":"width";if(i&&s){var u=function(e,t){return Xd("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:$d(e,bd))}(o.padding,n),d=ad(i),h="y"===l?fd:vd,p="y"===l?md:gd,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=pd(i),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,b=u[h],x=v-d[c]-u[p],w=v/2-d[c]/2+y,S=Jd(b,w,x),k=l;n.modifiersData[r]=((t={})[k]=S,t.centerOffset=S-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Hd(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function th(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function nh(e){return[fd,gd,md,vd].some(function(t){return e[t]>=0})}var rh=Rd({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,s=r.resize,a=void 0===s||s,l=Wu(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(e){e.addEventListener("scroll",n.update,Pd)}),a&&l.addEventListener("resize",n.update,Pd),function(){i&&c.forEach(function(e){e.removeEventListener("scroll",n.update,Pd)}),a&&l.removeEventListener("resize",n.update,Pd)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Md({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,s=void 0===i||i,a=n.roundOffsets,l=void 0===a||a,c={placement:Nd(t.placement),variation:Od(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Fd(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Fd(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},zd,Vd,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=Nd(g),y=l||(v===g||!f?[Bd(g)]:function(e){if(Nd(e)===yd)return[];var t=Bd(e);return[Wd(e),t,Wd(t)]}(g)),b=[g].concat(y).reduce(function(e,n){return e.concat(Nd(n)===yd?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Ed:l,u=Od(r),d=u?a?Ad:Ad.filter(function(e){return Od(e)===u}):bd,h=d.filter(function(e){return c.indexOf(e)>=0});0===h.length&&(h=d);var p=h.reduce(function(t,n){return t[n]=Yd(e,{placement:n,boundary:o,rootBoundary:i,padding:s})[Nd(n)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)},[]),x=t.rects.reference,w=t.rects.popper,S=new Map,k=!0,A=b[0],E=0;E<b.length;E++){var C=b[E],I=Nd(C),T=Od(C)===xd,j=[fd,md].indexOf(I)>=0,_=j?"width":"height",R=Yd(t,{placement:C,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),P=j?T?gd:vd:T?md:fd;x[_]>w[_]&&(P=Bd(P));var N=Bd(P),O=[];if(i&&O.push(R[I]<=0),a&&O.push(R[P]<=0,R[N]<=0),O.every(function(e){return e})){A=C,k=!1;break}S.set(C,O)}if(k)for(var L=function(e){var t=b.find(function(t){var n=S.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return A=t,"break"},M=f?3:1;M>0;M--){if("break"===L(M))break}t.placement!==A&&(t.modifiersData[r]._skip=!0,t.placement=A,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Zd,eh,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=Yd(t,{elementContext:"reference"}),a=Yd(t,{altBoundary:!0}),l=th(s,r),c=th(a,o,i),u=nh(l),d=nh(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});function oh(e){return oe("MuiPopper",e)}ie("MuiPopper",["root"]);const ih=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],sh=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function ah(e){return"function"===typeof e?e():e}function lh(e){return void 0!==e.nodeType}const ch={},uh=t.forwardRef(function(e,n){var r;const{anchorEl:o,children:i,direction:l,disablePortal:c,modifiers:u,open:d,placement:h,popperOptions:p,popperRef:f,slotProps:m={},slots:g={},TransitionProps:v}=e,y=(0,a.A)(e,ih),b=t.useRef(null),x=rt(b,n),w=t.useRef(null),S=rt(w,f),k=t.useRef(S);it(()=>{k.current=S},[S]),t.useImperativeHandle(f,()=>w.current,[]);const A=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(h,l),[E,C]=t.useState(A),[I,T]=t.useState(ah(o));t.useEffect(()=>{w.current&&w.current.forceUpdate()}),t.useEffect(()=>{o&&T(ah(o))},[o]),it(()=>{if(!I||!d)return;let e=[{name:"preventOverflow",options:{altBoundary:c}},{name:"flip",options:{altBoundary:c}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;C(t.placement)}}];null!=u&&(e=e.concat(u)),p&&null!=p.modifiers&&(e=e.concat(p.modifiers));const t=rh(I,b.current,(0,s.A)({placement:A},p,{modifiers:e}));return k.current(t),()=>{t.destroy(),k.current(null)}},[I,c,u,d,p,A]);const j={placement:E};null!==v&&(j.TransitionProps=v);const _=(e=>{const{classes:t}=e;return ue({root:["root"]},oh,t)})(e),R=null!=(r=g.root)?r:"div",P=zn({elementType:R,externalSlotProps:m.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:x},ownerState:e,className:_.root});return(0,J.jsx)(R,(0,s.A)({},P,{children:"function"===typeof i?i(j):i}))}),dh=t.forwardRef(function(e,n){const{anchorEl:r,children:o,container:i,direction:l="ltr",disablePortal:c=!1,keepMounted:u=!1,modifiers:d,open:h,placement:p="bottom",popperOptions:f=ch,popperRef:m,style:g,transition:v=!1,slotProps:y={},slots:b={}}=e,x=(0,a.A)(e,sh),[w,S]=t.useState(!0);if(!u&&!h&&(!v||w))return null;let k;if(i)k=i;else if(r){const e=ah(r);k=e&&lh(e)?Un(e).body:Un(null).body}const A=h||!u||v&&!w?void 0:"none",E=v?{in:h,onEnter:()=>{S(!1)},onExited:()=>{S(!0)}}:void 0;return(0,J.jsx)(Gn,{disablePortal:c,container:k,children:(0,J.jsx)(uh,(0,s.A)({anchorEl:r,direction:l,disablePortal:c,modifiers:d,ref:n,open:v?!w:h,placement:p,popperOptions:f,popperRef:m,slotProps:y,slots:b},x,{style:(0,s.A)({position:"fixed",top:0,left:0,display:A},g),TransitionProps:E,children:o}))})}),hh=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],ph=me(dh,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),fh=t.forwardRef(function(e,t){var n;const r=(0,qu.A)(),o=xe({props:e,name:"MuiPopper"}),{anchorEl:i,component:l,components:c,componentsProps:u,container:d,disablePortal:h,keepMounted:p,modifiers:f,open:m,placement:g,popperOptions:v,popperRef:y,transition:b,slots:x,slotProps:w}=o,S=(0,a.A)(o,hh),k=null!=(n=null==x?void 0:x.root)?n:null==c?void 0:c.Root,A=(0,s.A)({anchorEl:i,container:d,disablePortal:h,keepMounted:p,modifiers:f,open:m,placement:g,popperOptions:v,popperRef:y,transition:b},S);return(0,J.jsx)(ph,(0,s.A)({as:l,direction:null==r?void 0:r.direction,slots:{root:k},slotProps:null!=w?w:u},A,{ref:t}))}),mh=fh;function gh(e){return oe("MuiTooltip",e)}const vh=ie("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),yh=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const bh=me(mh,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(e=>{let{theme:t,ownerState:n,open:r}=e;return(0,s.A)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},n.arrow&&{['&[data-popper-placement*="bottom"] .'.concat(vh.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(vh.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(vh.arrow)]:(0,s.A)({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),['&[data-popper-placement*="left"] .'.concat(vh.arrow)]:(0,s.A)({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})}),xh=me("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat(Se(n.placement.split("-")[0]))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,f.X4)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:"".concat((r=16/14,Math.round(1e5*r)/1e5),"em"),fontWeight:t.typography.fontWeightRegular},{[".".concat(vh.popper,'[data-popper-placement*="left"] &')]:(0,s.A)({transformOrigin:"right center"},n.isRtl?(0,s.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,s.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[".".concat(vh.popper,'[data-popper-placement*="right"] &')]:(0,s.A)({transformOrigin:"left center"},n.isRtl?(0,s.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,s.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[".".concat(vh.popper,'[data-popper-placement*="top"] &')]:(0,s.A)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[".".concat(vh.popper,'[data-popper-placement*="bottom"] &')]:(0,s.A)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})});var r}),wh=me("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,f.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}});let Sh=!1;const kh=new ut;let Ah={x:0,y:0};function Eh(e,t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t&&t(n,...o),e(n,...o)}}const Ch=t.forwardRef(function(e,n){var r,o,i,l,c,u,d,h,p,f,m,g,v,y,b,x,w,S,k;const A=xe({props:e,name:"MuiTooltip"}),{arrow:E=!1,children:C,components:I={},componentsProps:T={},describeChild:j=!1,disableFocusListener:_=!1,disableHoverListener:R=!1,disableInteractive:P=!1,disableTouchListener:N=!1,enterDelay:O=100,enterNextDelay:L=0,enterTouchDelay:M=700,followCursor:D=!1,id:F,leaveDelay:z=0,leaveTouchDelay:V=1500,onClose:U,onOpen:B,open:q,placement:W="bottom",PopperComponent:K,PopperProps:G={},slotProps:Q={},slots:X={},title:$,TransitionComponent:Y=Ha,TransitionProps:Z}=A,ee=(0,a.A)(A,yh),te=t.isValidElement(C)?C:(0,J.jsx)("span",{children:C}),ne=_e(),re=_n(),[oe,ie]=t.useState(),[se,ae]=t.useState(null),le=t.useRef(!1),ce=P||D,de=dt(),he=dt(),pe=dt(),fe=dt(),[me,ge]=Sl({controlled:q,default:!1,name:"Tooltip",state:"open"});let ve=me;const ye=qc(F),be=t.useRef(),we=at(()=>{void 0!==be.current&&(document.body.style.WebkitUserSelect=be.current,be.current=void 0),fe.clear()});t.useEffect(()=>we,[we]);const ke=e=>{kh.clear(),Sh=!0,ge(!0),B&&!ve&&B(e)},Ae=at(e=>{kh.start(800+z,()=>{Sh=!1}),ge(!1),U&&ve&&U(e),de.start(ne.transitions.duration.shortest,()=>{le.current=!1})}),Ee=e=>{le.current&&"touchstart"!==e.type||(oe&&oe.removeAttribute("title"),he.clear(),pe.clear(),O||Sh&&L?he.start(Sh?L:O,()=>{ke(e)}):ke(e))},Ce=e=>{he.clear(),pe.start(z,()=>{Ae(e)})},{isFocusVisibleRef:Ie,onBlur:Te,onFocus:je,ref:Re}=wt(),[,Pe]=t.useState(!1),Ne=e=>{Te(e),!1===Ie.current&&(Pe(!1),Ce(e))},Oe=e=>{oe||ie(e.currentTarget),je(e),!0===Ie.current&&(Pe(!0),Ee(e))},Le=e=>{le.current=!0;const t=te.props;t.onTouchStart&&t.onTouchStart(e)},Me=e=>{Le(e),pe.clear(),de.clear(),we(),be.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",fe.start(M,()=>{document.body.style.WebkitUserSelect=be.current,Ee(e)})},De=e=>{te.props.onTouchEnd&&te.props.onTouchEnd(e),we(),pe.start(V,()=>{Ae(e)})};t.useEffect(()=>{if(ve)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||Ae(e)}},[Ae,ve]);const Fe=ot(Vn(te),Re,ie,n);$||0===$||(ve=!1);const ze=t.useRef(),Ve={},Ue="string"===typeof $;j?(Ve.title=ve||!Ue||R?null:$,Ve["aria-describedby"]=ve?ye:null):(Ve["aria-label"]=Ue?$:null,Ve["aria-labelledby"]=ve&&!Ue?ye:null);const Be=(0,s.A)({},Ve,ee,te.props,{className:H(ee.className,te.props.className),onTouchStart:Le,ref:Fe},D?{onMouseMove:e=>{const t=te.props;t.onMouseMove&&t.onMouseMove(e),Ah={x:e.clientX,y:e.clientY},ze.current&&ze.current.update()}}:{});const qe={};N||(Be.onTouchStart=Me,Be.onTouchEnd=De),R||(Be.onMouseOver=Eh(Ee,Be.onMouseOver),Be.onMouseLeave=Eh(Ce,Be.onMouseLeave),ce||(qe.onMouseOver=Ee,qe.onMouseLeave=Ce)),_||(Be.onFocus=Eh(Oe,Be.onFocus),Be.onBlur=Eh(Ne,Be.onBlur),ce||(qe.onFocus=Oe,qe.onBlur=Ne));const We=t.useMemo(()=>{var e;let t=[{name:"arrow",enabled:Boolean(se),options:{element:se,padding:4}}];return null!=(e=G.popperOptions)&&e.modifiers&&(t=t.concat(G.popperOptions.modifiers)),(0,s.A)({},G.popperOptions,{modifiers:t})},[se,G]),He=(0,s.A)({},A,{isRtl:re,arrow:E,disableInteractive:ce,placement:W,PopperComponentProp:K,touch:le.current}),Ke=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:i}=e;return ue({popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch","tooltipPlacement".concat(Se(i.split("-")[0]))],arrow:["arrow"]},gh,t)})(He),Ge=null!=(r=null!=(o=X.popper)?o:I.Popper)?r:bh,Qe=null!=(i=null!=(l=null!=(c=X.transition)?c:I.Transition)?l:Y)?i:Ha,Xe=null!=(u=null!=(d=X.tooltip)?d:I.Tooltip)?u:xh,$e=null!=(h=null!=(p=X.arrow)?p:I.Arrow)?h:wh,Ye=Nn(Ge,(0,s.A)({},G,null!=(f=Q.popper)?f:T.popper,{className:H(Ke.popper,null==G?void 0:G.className,null==(m=null!=(g=Q.popper)?g:T.popper)?void 0:m.className)}),He),Je=Nn(Qe,(0,s.A)({},Z,null!=(v=Q.transition)?v:T.transition),He),Ze=Nn(Xe,(0,s.A)({},null!=(y=Q.tooltip)?y:T.tooltip,{className:H(Ke.tooltip,null==(b=null!=(x=Q.tooltip)?x:T.tooltip)?void 0:b.className)}),He),et=Nn($e,(0,s.A)({},null!=(w=Q.arrow)?w:T.arrow,{className:H(Ke.arrow,null==(S=null!=(k=Q.arrow)?k:T.arrow)?void 0:S.className)}),He);return(0,J.jsxs)(t.Fragment,{children:[t.cloneElement(te,Be),(0,J.jsx)(Ge,(0,s.A)({as:null!=K?K:mh,placement:W,anchorEl:D?{getBoundingClientRect:()=>({top:Ah.y,left:Ah.x,right:Ah.x,bottom:Ah.y,width:0,height:0})}:oe,popperRef:ze,open:!!oe&&ve,id:ye,transition:!0},qe,Ye,{popperOptions:We,children:e=>{let{TransitionProps:t}=e;return(0,J.jsx)(Qe,(0,s.A)({timeout:ne.transitions.duration.shorter},t,Je,{children:(0,J.jsxs)(Xe,(0,s.A)({},Ze,{children:[$,E?(0,J.jsx)($e,(0,s.A)({},et,{ref:ae})):null]}))}))}}))]})}),Ih=Ch;var Th=n(1188);const jh={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};const _h=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;return e.length===t.length&&e.every((e,r)=>n(e,t[r]))};function Rh(e,t){return e-t}function Ph(e,t){var n;const{index:r}=null!=(n=e.reduce((e,n,r)=>{const o=Math.abs(t-n);return null===e||o<e.distance||o===e.distance?{distance:o,index:r}:e},null))?n:{};return r}function Nh(e,t){if(void 0!==t.current&&e.changedTouches){const n=e;for(let e=0;e<n.changedTouches.length;e+=1){const r=n.changedTouches[e];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Oh(e,t,n){return 100*(e-t)/(n-t)}function Lh(e,t,n){const r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){const t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}(t)))}function Mh(e){let{values:t,newValue:n,index:r}=e;const o=t.slice();return o[r]=n,o.sort(Rh)}function Dh(e){let{sliderRef:t,activeIndex:n,setActive:r}=e;var o,i;const s=Un(t.current);var a;null!=(o=t.current)&&o.contains(s.activeElement)&&Number(null==s||null==(i=s.activeElement)?void 0:i.getAttribute("data-index"))===n||(null==(a=t.current)||a.querySelector('[type="range"][data-index="'.concat(n,'"]')).focus());r&&r(n)}function Fh(e,t){return"number"===typeof e&&"number"===typeof t?e===t:"object"===typeof e&&"object"===typeof t&&_h(e,t)}const zh={horizontal:{offset:e=>({left:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},"horizontal-reverse":{offset:e=>({right:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},vertical:{offset:e=>({bottom:"".concat(e,"%")}),leap:e=>({height:"".concat(e,"%")})}},Vh=e=>e;let Uh;function Bh(){return void 0===Uh&&(Uh="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),Uh}function qh(e){const{"aria-labelledby":n,defaultValue:r,disabled:o=!1,disableSwap:i=!1,isRtl:a=!1,marks:l=!1,max:c=100,min:u=0,name:d,onChange:h,onChangeCommitted:p,orientation:f="horizontal",rootRef:m,scale:g=Vh,step:v=1,shiftStep:y=10,tabIndex:b,value:x}=e,w=t.useRef(void 0),[S,k]=t.useState(-1),[A,E]=t.useState(-1),[C,I]=t.useState(!1),T=t.useRef(0),[j,_]=wl({controlled:x,default:null!=r?r:u,name:"Slider"}),R=h&&((e,t,n)=>{const r=e.nativeEvent||e,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:t,name:d}}),h(o,t,n)}),P=Array.isArray(j);let N=P?j.slice().sort(Rh):[j];N=N.map(e=>null==e?u:(0,Th.A)(e,u,c));const O=!0===l&&null!==v?[...Array(Math.floor((c-u)/v)+1)].map((e,t)=>({value:u+v*t})):l||[],L=O.map(e=>e.value),{isFocusVisibleRef:M,onBlur:D,onFocus:F,ref:z}=xt(),[V,U]=t.useState(-1),B=t.useRef(null),q=rt(z,B),W=rt(m,q),H=e=>t=>{var n;const r=Number(t.currentTarget.getAttribute("data-index"));F(t),!0===M.current&&U(r),E(r),null==e||null==(n=e.onFocus)||n.call(e,t)},K=e=>t=>{var n;D(t),!1===M.current&&U(-1),E(-1),null==e||null==(n=e.onBlur)||n.call(e,t)},G=(e,t)=>{const n=Number(e.currentTarget.getAttribute("data-index")),r=N[n],o=L.indexOf(r);let s=t;if(O&&null==v){const e=L[L.length-1];s=s>e?e:s<L[0]?L[0]:s<r?L[o-1]:L[o+1]}if(s=(0,Th.A)(s,u,c),P){i&&(s=(0,Th.A)(s,N[n-1]||-1/0,N[n+1]||1/0));const e=s;s=Mh({values:N,newValue:s,index:n});let t=n;i||(t=s.indexOf(e)),Dh({sliderRef:B,activeIndex:t})}_(s),U(n),R&&!Fh(s,j)&&R(e,s,n),p&&p(e,s)},Q=e=>t=>{var n;if(null!==v){const e=Number(t.currentTarget.getAttribute("data-index")),n=N[e];let r=null;("ArrowLeft"===t.key||"ArrowDown"===t.key)&&t.shiftKey||"PageDown"===t.key?r=Math.max(n-y,u):(("ArrowRight"===t.key||"ArrowUp"===t.key)&&t.shiftKey||"PageUp"===t.key)&&(r=Math.min(n+y,c)),null!==r&&(G(t,r),t.preventDefault())}null==e||null==(n=e.onKeyDown)||n.call(e,t)};it(()=>{var e;o&&B.current.contains(document.activeElement)&&(null==(e=document.activeElement)||e.blur())},[o]),o&&-1!==S&&k(-1),o&&-1!==V&&U(-1);const X=t.useRef(void 0);let $=f;a&&"horizontal"===f&&($+="-reverse");const Y=e=>{let{finger:t,move:n=!1}=e;const{current:r}=B,{width:o,height:s,bottom:a,left:l}=r.getBoundingClientRect();let d,h;if(d=0===$.indexOf("vertical")?(a-t.y)/s:(t.x-l)/o,-1!==$.indexOf("-reverse")&&(d=1-d),h=function(e,t,n){return(n-t)*e+t}(d,u,c),v)h=Lh(h,v,u);else{const e=Ph(L,h);h=L[e]}h=(0,Th.A)(h,u,c);let p=0;if(P){p=n?X.current:Ph(N,h),i&&(h=(0,Th.A)(h,N[p-1]||-1/0,N[p+1]||1/0));const e=h;h=Mh({values:N,newValue:h,index:p}),i&&n||(p=h.indexOf(e),X.current=p)}return{newValue:h,activeIndex:p}},J=st(e=>{const t=Nh(e,w);if(!t)return;if(T.current+=1,"mousemove"===e.type&&0===e.buttons)return void Z(e);const{newValue:n,activeIndex:r}=Y({finger:t,move:!0});Dh({sliderRef:B,activeIndex:r,setActive:k}),_(n),!C&&T.current>2&&I(!0),R&&!Fh(n,j)&&R(e,n,r)}),Z=st(e=>{const t=Nh(e,w);if(I(!1),!t)return;const{newValue:n}=Y({finger:t,move:!0});k(-1),"touchend"===e.type&&E(-1),p&&p(e,n),w.current=void 0,te()}),ee=st(e=>{if(o)return;Bh()||e.preventDefault();const t=e.changedTouches[0];null!=t&&(w.current=t.identifier);const n=Nh(e,w);if(!1!==n){const{newValue:t,activeIndex:r}=Y({finger:n});Dh({sliderRef:B,activeIndex:r,setActive:k}),_(t),R&&!Fh(t,j)&&R(e,t,r)}T.current=0;const r=Un(B.current);r.addEventListener("touchmove",J,{passive:!0}),r.addEventListener("touchend",Z,{passive:!0})}),te=t.useCallback(()=>{const e=Un(B.current);e.removeEventListener("mousemove",J),e.removeEventListener("mouseup",Z),e.removeEventListener("touchmove",J),e.removeEventListener("touchend",Z)},[Z,J]);t.useEffect(()=>{const{current:e}=B;return e.addEventListener("touchstart",ee,{passive:Bh()}),()=>{e.removeEventListener("touchstart",ee),te()}},[te,ee]),t.useEffect(()=>{o&&te()},[o,te]);const ne=Oh(P?N[0]:u,u,c),re=Oh(N[N.length-1],u,c)-ne,oe=e=>t=>{var n;null==(n=e.onMouseLeave)||n.call(e,t),E(-1)};return{active:S,axis:$,axisProps:zh,dragging:C,focusedThumbIndex:V,getHiddenInputProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r;const i=On(t),l={onChange:(h=i||{},e=>{var t;null==(t=h.onChange)||t.call(h,e),G(e,e.target.valueAsNumber)}),onFocus:H(i||{}),onBlur:K(i||{}),onKeyDown:Q(i||{})};var h;const p=(0,s.A)({},i,l);return(0,s.A)({tabIndex:b,"aria-labelledby":n,"aria-orientation":f,"aria-valuemax":g(c),"aria-valuemin":g(u),name:d,type:"range",min:e.min,max:e.max,step:null===e.step&&e.marks?"any":null!=(r=e.step)?r:void 0,disabled:o},t,p,{style:(0,s.A)({},jh,{direction:a?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=On(e),n={onMouseDown:(r=t||{},e=>{var t;if(null==(t=r.onMouseDown)||t.call(r,e),o)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const n=Nh(e,w);if(!1!==n){const{newValue:t,activeIndex:r}=Y({finger:n});Dh({sliderRef:B,activeIndex:r,setActive:k}),_(t),R&&!Fh(t,j)&&R(e,t,r)}T.current=0;const i=Un(B.current);i.addEventListener("mousemove",J,{passive:!0}),i.addEventListener("mouseup",Z)})};var r;const i=(0,s.A)({},t,n);return(0,s.A)({},e,{ref:W},i)},getThumbProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=On(e),n={onMouseOver:(r=t||{},e=>{var t;null==(t=r.onMouseOver)||t.call(r,e);const n=Number(e.currentTarget.getAttribute("data-index"));E(n)}),onMouseLeave:oe(t||{})};var r;return(0,s.A)({},e,t,n)},marks:O,open:A,range:P,rootRef:W,trackLeap:re,trackOffset:ne,values:N,getThumbStyle:e=>({pointerEvents:-1!==S&&S!==e?"none":void 0})}}const Wh=e=>!e||!Pn(e);function Hh(e){return oe("MuiSlider",e)}const Kh=ie("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);const Gh=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function Qh(e){return e}const Xh=me("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat(Se(n.color))],"medium"!==n.size&&t["size".concat(Se(n.size))],n.marked&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})(e=>{let{theme:t}=e;var n;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},["&.".concat(Kh.disabled)]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},["&.".concat(Kh.dragging)]:{["& .".concat(Kh.thumb,", & .").concat(Kh.track)]:{transition:"none"}},variants:[...Object.keys((null!=(n=t.vars)?n:t).palette).filter(e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main}).map(e=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),$h=me("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Yh=me("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(e=>{let{theme:t}=e;var n;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys((null!=(n=t.vars)?n:t).palette).filter(e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main}).map(e=>({props:{color:e,track:"inverted"},style:(0,s.A)({},t.vars?{backgroundColor:t.vars.palette.Slider["".concat(e,"Track")],borderColor:t.vars.palette.Slider["".concat(e,"Track")]}:(0,s.A)({backgroundColor:(0,f.a)(t.palette[e].main,.62),borderColor:(0,f.a)(t.palette[e].main,.62)},t.applyStyles("dark",{backgroundColor:(0,f.e$)(t.palette[e].main,.5)}),t.applyStyles("dark",{borderColor:(0,f.e$)(t.palette[e].main,.5)})))}))]}}),Jh=me("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t["thumbColor".concat(Se(n.color))],"medium"!==n.size&&t["thumbSize".concat(Se(n.size))]]}})(e=>{let{theme:t}=e;var n;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},["&.".concat(Kh.disabled)]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.keys((null!=(n=t.vars)?n:t).palette).filter(e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main}).map(e=>({props:{color:e},style:{["&:hover, &.".concat(Kh.focusVisible)]:(0,s.A)({},t.vars?{boxShadow:"0px 0px 0px 8px rgba(".concat(t.vars.palette[e].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 8px ".concat((0,f.X4)(t.palette[e].main,.16))},{"@media (hover: none)":{boxShadow:"none"}}),["&.".concat(Kh.active)]:(0,s.A)({},t.vars?{boxShadow:"0px 0px 0px 14px rgba(".concat(t.vars.palette[e].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 14px ".concat((0,f.X4)(t.palette[e].main,.16))})}}))]}}),Zh=me(function(e){const{children:n,className:r,value:o}=e,i=(e=>{const{open:t}=e;return{offset:H(t&&Kh.valueLabelOpen),circle:Kh.valueLabelCircle,label:Kh.valueLabelLabel}})(e);return n?t.cloneElement(n,{className:H(n.props.className)},(0,J.jsxs)(t.Fragment,{children:[n.props.children,(0,J.jsx)("span",{className:H(i.offset,r),"aria-hidden":!0,children:(0,J.jsx)("span",{className:i.circle,children:(0,J.jsx)("span",{className:i.label,children:o})})})]})):null},{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(e=>{let{theme:t}=e;return(0,s.A)({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},["&.".concat(Kh.valueLabelOpen)]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},["&.".concat(Kh.valueLabelOpen)]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})}),ep=me("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>pe(e)&&"markActive"!==e,overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})(e=>{let{theme:t}=e;return{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}}),tp=me("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>pe(e)&&"markLabelActive"!==e,overridesResolver:(e,t)=>t.markLabel})(e=>{let{theme:t}=e;return(0,s.A)({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})}),np=e=>{let{children:t}=e;return t},rp=t.forwardRef(function(e,n){var r,o,i,l,c,u,d,h,p,f,m,g,v,y,b,x,w,S,k,A,E,C,I,T;const j=xe({props:e,name:"MuiSlider"}),_=_n(),{"aria-label":R,"aria-valuetext":P,"aria-labelledby":N,component:O="span",components:L={},componentsProps:M={},color:D="primary",classes:F,className:z,disableSwap:V=!1,disabled:U=!1,getAriaLabel:B,getAriaValueText:q,marks:W=!1,max:K=100,min:G=0,orientation:Q="horizontal",shiftStep:X=10,size:$="medium",step:Y=1,scale:Z=Qh,slotProps:ee,slots:te,track:ne="normal",valueLabelDisplay:re="off",valueLabelFormat:oe=Qh}=j,ie=(0,a.A)(j,Gh),se=(0,s.A)({},j,{isRtl:_,max:K,min:G,classes:F,disabled:U,disableSwap:V,orientation:Q,marks:W,color:D,size:$,step:Y,shiftStep:X,scale:Z,track:ne,valueLabelDisplay:re,valueLabelFormat:oe}),{axisProps:ae,getRootProps:le,getHiddenInputProps:ce,getThumbProps:de,open:he,active:pe,axis:fe,focusedThumbIndex:me,range:ge,dragging:ve,marks:ye,values:be,trackOffset:we,trackLeap:ke,getThumbStyle:Ae}=qh((0,s.A)({},se,{rootRef:n}));se.marked=ye.length>0&&ye.some(e=>e.label),se.dragging=ve,se.focusedThumbIndex=me;const Ee=(e=>{const{disabled:t,dragging:n,marked:r,orientation:o,track:i,classes:s,color:a,size:l}=e;return ue({root:["root",t&&"disabled",n&&"dragging",r&&"marked","vertical"===o&&"vertical","inverted"===i&&"trackInverted",!1===i&&"trackFalse",a&&"color".concat(Se(a)),l&&"size".concat(Se(l))],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&"thumbSize".concat(Se(l)),a&&"thumbColor".concat(Se(a))],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]},Hh,s)})(se),Ce=null!=(r=null!=(o=null==te?void 0:te.root)?o:L.Root)?r:Xh,Ie=null!=(i=null!=(l=null==te?void 0:te.rail)?l:L.Rail)?i:$h,Te=null!=(c=null!=(u=null==te?void 0:te.track)?u:L.Track)?c:Yh,je=null!=(d=null!=(h=null==te?void 0:te.thumb)?h:L.Thumb)?d:Jh,_e=null!=(p=null!=(f=null==te?void 0:te.valueLabel)?f:L.ValueLabel)?p:Zh,Re=null!=(m=null!=(g=null==te?void 0:te.mark)?g:L.Mark)?m:ep,Pe=null!=(v=null!=(y=null==te?void 0:te.markLabel)?y:L.MarkLabel)?v:tp,Ne=null!=(b=null!=(x=null==te?void 0:te.input)?x:L.Input)?b:"input",Oe=null!=(w=null==ee?void 0:ee.root)?w:M.root,Le=null!=(S=null==ee?void 0:ee.rail)?S:M.rail,Me=null!=(k=null==ee?void 0:ee.track)?k:M.track,De=null!=(A=null==ee?void 0:ee.thumb)?A:M.thumb,Fe=null!=(E=null==ee?void 0:ee.valueLabel)?E:M.valueLabel,ze=null!=(C=null==ee?void 0:ee.mark)?C:M.mark,Ve=null!=(I=null==ee?void 0:ee.markLabel)?I:M.markLabel,Ue=null!=(T=null==ee?void 0:ee.input)?T:M.input,Be=zn({elementType:Ce,getSlotProps:le,externalSlotProps:Oe,externalForwardedProps:ie,additionalProps:(0,s.A)({},Wh(Ce)&&{as:O}),ownerState:(0,s.A)({},se,null==Oe?void 0:Oe.ownerState),className:[Ee.root,z]}),qe=zn({elementType:Ie,externalSlotProps:Le,ownerState:se,className:Ee.rail}),We=zn({elementType:Te,externalSlotProps:Me,additionalProps:{style:(0,s.A)({},ae[fe].offset(we),ae[fe].leap(ke))},ownerState:(0,s.A)({},se,null==Me?void 0:Me.ownerState),className:Ee.track}),He=zn({elementType:je,getSlotProps:de,externalSlotProps:De,ownerState:(0,s.A)({},se,null==De?void 0:De.ownerState),className:Ee.thumb}),Ke=zn({elementType:_e,externalSlotProps:Fe,ownerState:(0,s.A)({},se,null==Fe?void 0:Fe.ownerState),className:Ee.valueLabel}),Ge=zn({elementType:Re,externalSlotProps:ze,ownerState:se,className:Ee.mark}),Qe=zn({elementType:Pe,externalSlotProps:Ve,ownerState:se,className:Ee.markLabel}),Xe=zn({elementType:Ne,getSlotProps:ce,externalSlotProps:Ue,ownerState:se});return(0,J.jsxs)(Ce,(0,s.A)({},Be,{children:[(0,J.jsx)(Ie,(0,s.A)({},qe)),(0,J.jsx)(Te,(0,s.A)({},We)),ye.filter(e=>e.value>=G&&e.value<=K).map((e,n)=>{const r=Oh(e.value,G,K),o=ae[fe].offset(r);let i;return i=!1===ne?-1!==be.indexOf(e.value):"normal"===ne&&(ge?e.value>=be[0]&&e.value<=be[be.length-1]:e.value<=be[0])||"inverted"===ne&&(ge?e.value<=be[0]||e.value>=be[be.length-1]:e.value>=be[0]),(0,J.jsxs)(t.Fragment,{children:[(0,J.jsx)(Re,(0,s.A)({"data-index":n},Ge,!Pn(Re)&&{markActive:i},{style:(0,s.A)({},o,Ge.style),className:H(Ge.className,i&&Ee.markActive)})),null!=e.label?(0,J.jsx)(Pe,(0,s.A)({"aria-hidden":!0,"data-index":n},Qe,!Pn(Pe)&&{markLabelActive:i},{style:(0,s.A)({},o,Qe.style),className:H(Ee.markLabel,Qe.className,i&&Ee.markLabelActive),children:e.label})):null]},n)}),be.map((e,t)=>{const n=Oh(e,G,K),r=ae[fe].offset(n),o="off"===re?np:_e;return(0,J.jsx)(o,(0,s.A)({},!Pn(o)&&{valueLabelFormat:oe,valueLabelDisplay:re,value:"function"===typeof oe?oe(Z(e),t):oe,index:t,open:he===t||pe===t||"on"===re,disabled:U},Ke,{children:(0,J.jsx)(je,(0,s.A)({"data-index":t},He,{className:H(Ee.thumb,He.className,pe===t&&Ee.active,me===t&&Ee.focusVisible),style:(0,s.A)({},r,Ae(t),He.style),children:(0,J.jsx)(Ne,(0,s.A)({"data-index":t,"aria-label":B?B(t):R,"aria-valuenow":Z(e),"aria-labelledby":N,"aria-valuetext":q?q(Z(e),t):P,value:be[t]},Xe))}))}),t)})]}))}),op=rp,ip=hi((0,J.jsx)("path",{d:"M6 6h12v12H6z"}),"Stop"),sp=hi((0,J.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),ap=hi((0,J.jsx)("path",{d:"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83"}),"Speed"),lp=()=>/Android/i.test(navigator.userAgent),cp=()=>{const[e,n]=(0,t.useState)(!1),[r,o]=(0,t.useState)(!1),i="undefined"!==typeof window&&"speechSynthesis"in window,[s,a]=(0,t.useState)([]),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(1),[h,p]=(0,t.useState)(1),[f,m]=(0,t.useState)(1),[g,v]=(0,t.useState)(()=>i?null:"La synth\xe8se vocale n'est pas support\xe9e sur votre appareil."),y=(0,t.useRef)(null),b=(0,t.useRef)(!1);(0,t.useEffect)(()=>{if(i){const e=()=>{const t=window.speechSynthesis.getVoices();if(0===t.length&&!b.current)return void setTimeout(e,100);b.current=!0;const n=t.map(e=>({name:e.name,lang:e.lang,default:e.default}));a(n);let r=t.find(e=>e.lang.startsWith("en-")&&e.localService&&e.name.toLowerCase().includes("google"));r||(r=t.find(e=>e.lang.startsWith("en-")&&(e.name.includes("Google")||e.name.includes("Microsoft")))),r||(r=t.find(e=>e.lang.startsWith("en-"))),r?c(r):t.length>0&&c(t[0])};if(e(),window.speechSynthesis.onvoiceschanged=e,lp()){const e=setInterval(()=>{window.speechSynthesis.speaking&&(window.speechSynthesis.pause(),window.speechSynthesis.resume())},1e4);return()=>{clearInterval(e),window.speechSynthesis.cancel()}}return()=>{window.speechSynthesis.cancel()}}},[]);const x=(0,t.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if(!i||!e)return void v("Synth\xe8se vocale non support\xe9e ou texte vide.");window.speechSynthesis.cancel(),lp()&&await new Promise(e=>setTimeout(e,50));const r=new SpeechSynthesisUtterance(e);if(y.current=r,l&&(r.voice=l),r.lang=t,r.rate=u,r.pitch=h,r.volume=f,lp()&&e.length>200){const r=e.match(/[^.!?]+[.!?]+/g)||[e];for(let e=0;e<r.length;e++){const i=new SpeechSynthesisUtterance(r[e]);i.voice=l,i.lang=t,i.rate=u,i.pitch=h,i.volume=f,0===e&&(i.onstart=()=>{n(!0),o(!1),v(null)}),e===r.length-1&&(i.onend=()=>{n(!1),o(!1)}),i.onerror=e=>{console.error("Erreur de synth\xe8se vocale:",e),v("Erreur de synth\xe8se: ".concat(e.error)),n(!1),o(!1)},window.speechSynthesis.speak(i)}return}r.onstart=()=>{n(!0),o(!1),v(null)},r.onend=()=>{n(!1),o(!1)},r.onerror=e=>{switch(console.error("Erreur de synth\xe8se vocale:",e),e.error){case"network":v("Erreur r\xe9seau lors de la synth\xe8se vocale.");break;case"synthesis-failed":v("\xc9chec de la synth\xe8se vocale.");break;case"audio-busy":v("Audio occup\xe9. R\xe9essayez.");break;case"not-allowed":v("Permission audio refus\xe9e.");break;default:v("Erreur: ".concat(e.error))}n(!1),o(!1)},r.onpause=()=>{o(!0)},r.onresume=()=>{o(!1)};try{window.speechSynthesis.speak(r)}catch(s){console.error("Error speaking:",s),v("Impossible de lancer la synth\xe8se vocale."),n(!1)}},[i,l,u,h,f]),w=(0,t.useCallback)(()=>{if(i)try{window.speechSynthesis.cancel(),n(!1),o(!1),v(null)}catch(e){console.error("Error stopping speech:",e)}},[i]),S=(0,t.useCallback)(()=>{if(i)try{window.speechSynthesis.pause(),o(!0)}catch(e){console.error("Error pausing speech:",e)}},[i]),k=(0,t.useCallback)(()=>{if(i)try{window.speechSynthesis.resume(),o(!1)}catch(e){console.error("Error resuming speech:",e)}},[i]),A=(0,t.useCallback)(e=>{const t=window.speechSynthesis.getVoices().find(t=>t.name===e);t?(c(t),v(null)):v("Voix non trouv\xe9e.")},[]);return{speak:x,stop:w,pause:S,resume:k,isSpeaking:e,isPaused:r,isSupported:i,voices:s,setVoice:A,setRate:d,setPitch:p,setVolume:m,error:g}};var up;!function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(up||(up={}));class dp extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const hp=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},o=()=>null!==t?t.name:(e=>{var t,n;return(null===e||void 0===e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null===e||void 0===e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e),i=e=>{var t;return null===(t=n.PluginHeaders)||void 0===t?void 0:t.find(t=>t.name===e)},s=new Map;return n.convertFileSrc||(n.convertFileSrc=e=>e),n.getPlatform=o,n.handleError=t=>e.console.error(t),n.isNativePlatform=()=>"web"!==o(),n.isPluginAvailable=e=>{const t=s.get(e);return!!(null===t||void 0===t?void 0:t.platforms.has(o()))||!!i(e)},n.registerPlugin=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=s.get(e);if(l)return console.warn('Capacitor plugin "'.concat(e,'" already registered. Cannot register plugins twice.')),l.proxy;const c=o(),u=i(e);let d;const h=r=>{let o;const i=function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];const h=(async()=>(!d&&c in a?d=d="function"===typeof a[c]?await a[c]():a[c]:null!==t&&!d&&"web"in a&&(d=d="function"===typeof a.web?await a.web():a.web),d))().then(t=>{const i=((t,r)=>{var o,i;if(!u){if(t)return null===(i=t[r])||void 0===i?void 0:i.bind(t);throw new dp('"'.concat(e,'" plugin is not implemented on ').concat(c),up.Unimplemented)}{const i=null===u||void 0===u?void 0:u.methods.find(e=>r===e.name);if(i)return"promise"===i.rtype?t=>n.nativePromise(e,r.toString(),t):(t,o)=>n.nativeCallback(e,r.toString(),t,o);if(t)return null===(o=t[r])||void 0===o?void 0:o.bind(t)}})(t,r);if(i){const e=i(...s);return o=null===e||void 0===e?void 0:e.remove,e}throw new dp('"'.concat(e,".").concat(r,'()" is not implemented on ').concat(c),up.Unimplemented)});return"addListener"===r&&(h.remove=async()=>o()),h};return i.toString=()=>"".concat(r.toString(),"() { [capacitor code] }"),Object.defineProperty(i,"name",{value:r,writable:!1,configurable:!1}),i},p=h("addListener"),f=h("removeListener"),m=(e,t)=>{const n=p({eventName:e},t),r=async()=>{const r=await n;f({eventName:e,callbackId:r},t)},o=new Promise(e=>n.then(()=>e({remove:r})));return o.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await r()},o},g=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return u?m:p;case"removeListener":return f;default:return h(t)}}});return r[e]=g,s.set(e,{name:e,proxy:g,platforms:new Set([...Object.keys(a),...u?[c]:[]])}),g},n.Exception=dp,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},pp=(e=>e.Capacitor=hp(e))("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}),fp=pp.registerPlugin;class mp{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r),n&&this.sendRetainedArgumentsForEvent(e);return Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const r=this.listeners[e];if(r)r.forEach(e=>e(t));else if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}}hasListeners(e){var t;return!!(null===(t=this.listeners[e])||void 0===t?void 0:t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not implemented";return new pp.Exception(e,up.Unimplemented)}unavailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not available";return new pp.Exception(e,up.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const r=n.indexOf(t);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(t=>{this.notifyListeners(e,t)}))}}const gp=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),vp=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class yp extends mp{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(e=>{if(e.length<=0)return;let[n,r]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=vp(n).trim(),r=vp(r).trim(),t[n]=r}),t}async setCookie(e){try{const t=gp(e.key),n=gp(e.value),r="; expires=".concat((e.expires||"").replace("expires=","")),o=(e.path||"/").replace("path=",""),i=null!=e.url&&e.url.length>0?"domain=".concat(e.url):"";document.cookie="".concat(t,"=").concat(n||"").concat(r,"; path=").concat(o,"; ").concat(i,";")}catch(Sy){return Promise.reject(Sy)}}async deleteCookie(e){try{document.cookie="".concat(e.key,"=; Max-Age=0")}catch(Sy){return Promise.reject(Sy)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat((new Date).toUTCString(),";path=/"))}catch(Sy){return Promise.reject(Sy)}}async clearAllCookies(){try{await this.clearCookies()}catch(Sy){return Promise.reject(Sy)}}}fp("CapacitorCookies",{web:()=>new yp});const bp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object.assign({method:e.method||"GET",headers:e.headers},t),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.keys(e);return Object.keys(e).map(e=>e.toLocaleLowerCase()).reduce((n,r,o)=>(n[r]=e[t[o]],n),{})}(e.headers),o=r["content-type"]||"";if("string"===typeof e.data)n.body=e.data;else if(o.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,r]of Object.entries(e.data||{}))t.set(n,r);n.body=t.toString()}else if(o.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach((e,n)=>{t.append(n,e)});else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const r=new Headers(n.headers);r.delete("content-type"),n.headers=r}else(o.includes("application/json")||"object"===typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class xp extends mp{async request(e){const t=bp(e,e.webFetchExtra),n=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?Object.entries(e).reduce((e,n)=>{const[r,o]=n;let i,s;return Array.isArray(o)?(s="",o.forEach(e=>{i=t?encodeURIComponent(e):e,s+="".concat(r,"=").concat(i,"&")}),s.slice(0,-1)):(i=t?encodeURIComponent(o):o,s="".concat(r,"=").concat(i)),"".concat(e,"&").concat(s)},"").substr(1):null}(e.params,e.shouldEncodeUrlParams),r=n?"".concat(e.url,"?").concat(n):e.url,o=await fetch(r,t),i=o.headers.get("content-type")||"";let s,a,{responseType:l="text"}=o.ok?e:{};switch(i.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":a=await o.blob(),s=await(async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const e=r.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},r.onerror=e=>n(e),r.readAsDataURL(e)}))(a);break;case"json":s=await o.json();break;default:s=await o.text()}const c={};return o.headers.forEach((e,t)=>{c[t]=e}),{data:s,headers:c,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}fp("CapacitorHttp",{web:()=>new xp});const wp=()=>pp.isNativePlatform(),Sp=e=>{let{text:n,lang:r="en-US",title:o,showControls:i=!0,autoPlay:s=!1}=e;const{speak:a,stop:l,isSpeaking:c,isSupported:u,setRate:d,setVolume:h}=cp(),[p,f]=t.useState(1),[m,g]=t.useState(1);t.useEffect(()=>(s&&u&&n&&a(n,r),()=>{l()}),[s]);return u||wp()?(0,J.jsxs)(ce,{sx:{p:2,bgcolor:"primary.light",borderRadius:2,border:2,borderColor:"primary.main"},children:[o&&(0,J.jsx)(Te,{variant:"h6",sx:{color:"white",mb:2},children:o}),(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,J.jsx)(yi,{sx:{fontSize:30,color:"white"}}),(0,J.jsx)(ce,{sx:{flexGrow:1,p:2,bgcolor:"white",borderRadius:1},children:(0,J.jsx)(Te,{variant:"body1",sx:{fontStyle:"italic"},children:n})}),(0,J.jsx)(Ih,{title:c?"Arr\xeater":"\xc9couter",children:(0,J.jsx)(In,{onClick:()=>{c?l():a(n,r)},sx:{bgcolor:"white","&:hover":{bgcolor:"grey.200"},width:56,height:56},children:c?(0,J.jsx)(ip,{sx:{fontSize:28}}):(0,J.jsx)(sp,{sx:{fontSize:28}})})})]}),i&&(0,J.jsxs)(ce,{sx:{bgcolor:"white",p:2,borderRadius:1},children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,J.jsx)(ap,{sx:{color:"text.secondary"}}),(0,J.jsxs)(Te,{variant:"body2",sx:{minWidth:100},children:["Vitesse: ",p.toFixed(1),"x"]}),(0,J.jsx)(op,{value:p,onChange:(e,t)=>{const n=t;f(n),d(n)},min:.5,max:2,step:.1,sx:{flexGrow:1},disabled:c})]}),(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,J.jsx)(yi,{sx:{color:"text.secondary"}}),(0,J.jsxs)(Te,{variant:"body2",sx:{minWidth:100},children:["Volume: ",Math.round(100*m),"%"]}),(0,J.jsx)(op,{value:m,onChange:(e,t)=>{const n=t;g(n),h(n)},min:0,max:1,step:.1,sx:{flexGrow:1},disabled:c})]})]}),(0,J.jsxs)(Te,{variant:"caption",sx:{display:"block",mt:1,color:"white"},children:["\ud83d\udca1 Cliquez sur le bouton lecture pour entendre le texte en anglais",i&&" \u2022 Ajustez la vitesse et le volume selon vos besoins"]})]}):(0,J.jsx)(Ns,{severity:"warning",sx:{my:2},children:(0,J.jsxs)(Te,{variant:"body2",children:["Votre navigateur ne supporte pas la synth\xe8se vocale.",wp()?" La fonctionnalit\xe9 native sera utilis\xe9e sur mobile.":" Veuillez utiliser Chrome, Edge ou Safari."]})})},kp=()=>{const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)(null),[s,a]=(0,t.useState)("all"),[l,c]=(0,t.useState)("all"),[u,d]=(0,t.useState)(0),{addResponse:h}=as();(0,t.useEffect)(()=>{f()},[]);const p=e=>{if(!e.questions||0===e.questions.length)return!1;for(const t of e.questions){if(t.options){const e=[/^primary use of/i,/^alternative answer \d+$/i,/^incorrect statement [a-z]$/i,/^correct statement about/i,/^explanation about/i,/^other \d+$/i];for(const n of t.options)if(e.some(e=>e.test(n)))return!1}if("string"===typeof t.correctAnswer&&/^primary use of|^correct statement about|^explanation about/i.test(t.correctAnswer))return!1;if(t.explanation&&/^explanation about|^this is correct because/i.test(t.explanation))return!1;if(!t.text||t.text.trim().length<10)return!1}return!0},f=async()=>{try{const t=await fetch("/data/exercises/all_qcm_200.json");if(!t.ok)throw new Error("Erreur HTTP ".concat(t.status," pour all_qcm_200.json"));const r=await t.json(),o=await fetch("/data/exercises/all_cloze_200.json");if(!o.ok)throw new Error("Erreur HTTP ".concat(o.status," pour all_cloze_200.json"));const i=await o.json();let s=[];try{const e=await fetch("/corpus/listening/all_listening_100.json");if(e.ok){const t=await e.json();s=(t.texts||[]).map(e=>(e=>{if(!e.questions||0===e.questions.length)return null;const t=e.questions.map((t,n)=>({id:t.id||"q".concat(n+1),text:t.text,options:t.options||[],correctAnswer:t.correctAnswer,explanation:"This question tests your understanding of: ".concat(e.topic||"the listening text","."),grammarFocus:[],vocabularyFocus:[]}));return{id:e.id,type:"listening",level:e.level,domain:"ai",title:e.title,description:e.topic||"Listening exercise",content:e.transcript||"",questions:t,estimatedTime:Math.ceil((e.duration||120)/60),difficulty:3,audioUrl:e.audioFile?"/corpus/listening/".concat(e.audioFile):void 0,transcript:e.transcript,listeningData:e}})(e)).filter(e=>null!==e&&void 0!==e),console.log("\u2705 Charg\xe9 ".concat(s.length," exercices listening"))}}catch(e){console.warn("Erreur chargement listening:",e)}let a=[];try{const e=await fetch("/corpus/reading/all_reading_100.json");if(e.ok){const t=await e.json();a=(t.texts||[]).map(e=>(e=>{if(!e.questions||0===e.questions.length)return null;const t=e.questions.map((t,n)=>({id:t.id||"q".concat(n+1),text:t.text,options:t.options||[],correctAnswer:t.correctAnswer,explanation:"This question tests your understanding of: ".concat(e.topic||"the reading text","."),grammarFocus:[],vocabularyFocus:[]}));return{id:e.id,type:"reading",level:e.level,domain:"ai",title:e.title,description:e.topic||"Reading exercise",content:e.text||"",questions:t,estimatedTime:e.readingTime||5,difficulty:3,readingText:e.text,readingData:e}})(e)).filter(e=>null!==e&&void 0!==e),console.log("\u2705 Charg\xe9 ".concat(a.length," exercices reading"))}}catch(e){console.warn("Erreur chargement reading:",e)}const l=Array.isArray(r)?r:r.exercises||[],c=Array.isArray(i)?i:i.exercises||[],u=[...l,...c,...s,...a];console.log("\ud83d\udcda Total exercices charg\xe9s: ".concat(u.length," (").concat(l.length," QCM + ").concat(c.length," Cloze + ").concat(s.length," Listening + ").concat(a.length," Reading)"));const h=u.filter(e=>{if(!p(e))return!1;if(e.questions&&("listening"===e.type||"reading"===e.type))for(const t of e.questions)if(t.options){if(t.options.some(e=>/^other \d+$/i.test(e.trim())))return console.warn("\u26a0\ufe0f Exercice ".concat(e.id,' filtr\xe9 : contient des options placeholder "Other X"')),!1}return!0}),f=u.length-h.length;f>0&&(console.warn("\u26a0\ufe0f ".concat(f," exercices incomplets filtr\xe9s (contiennent des placeholders)")),d(f)),console.log("\u2705 Charg\xe9 ".concat(h.length," exercices complets \xe0 100% (").concat(f," incomplets filtr\xe9s)")),n(h)}catch(Sy){console.error("Erreur chargement exercices:",Sy);try{const e=await fetch("/data/exercises/qcm_exercises.json"),t=await fetch("/data/exercises/cloze_exercises.json"),r=await e.json(),o=await t.json(),i=[...r.exercises||[],...o.exercises||[]].filter(e=>p(e));console.log("\u2705 Charg\xe9 ".concat(i.length," exercices fallback complets")),n(i)}catch(t){console.error("Erreur chargement fallback:",t),n([])}}},m=e.filter(e=>{const t="all"===s||e.level===s,n="all"===l||e.type===l;return t&&n}),g=(0,t.useCallback)(e=>{var t;if(console.log("\ud83d\udd04 Clic sur exercice:",e.id,e.title),console.log("\ud83d\udccb Exercice complet:",e),console.log("\ud83d\udcdd Questions:",(null===(t=e.questions)||void 0===t?void 0:t.length)||0),!e||!e.id)return console.error("\u274c Erreur: exercice invalide",e),void alert("Erreur: exercice invalide");if(!e.questions||0===e.questions.length)return console.error("\u274c Erreur: l'exercice n'a pas de questions",e),void alert("Cet exercice n'a pas de questions disponibles. Veuillez choisir un autre exercice.");const n=(0,i.A)((0,i.A)({},e),{},{questions:[...e.questions]});console.log("\u2705 D\xe9finition de l'exercice s\xe9lectionn\xe9:",n.id),o(n)},[]),v=(e,t,n,o)=>{r&&h({exerciseId:r.id,questionId:e,answer:t,isCorrect:n,timeSpent:o,timestamp:new Date})},y=()=>{o(null)};return r?(console.log("\ud83c\udfaf Rendu de l'exercice s\xe9lectionn\xe9:",r.id,r.title),(0,J.jsxs)(ce,{sx:{p:3},children:[(0,J.jsx)(pn,{onClick:y,sx:{mb:3},variant:"outlined",children:"\u2190 Retour aux exercices"}),"qcm"===r.type?(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"h5",gutterBottom:!0,children:r.title}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",sx:{mb:3},children:r.description}),r.questions&&r.questions.length>0?r.questions.map(e=>(0,J.jsx)(Tu,{question:e,onAnswer:(t,n,r)=>v(e.id,t,n,r)},e.id)):(0,J.jsx)(Ns,{severity:"error",children:"Aucune question disponible pour cet exercice."})]}):"cloze"===r.type?(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"h5",gutterBottom:!0,children:r.title}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",sx:{mb:3},children:r.description}),r.questions&&r.questions.length>0?r.questions.map(e=>(0,J.jsx)(Vu,{question:e,onAnswer:(t,n,r)=>v(e.id,t,n,r)},e.id)):(0,J.jsx)(Ns,{severity:"error",children:"Aucune question disponible pour cet exercice."})]}):"listening"===r.type?(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"h5",gutterBottom:!0,children:r.title}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",sx:{mb:3},children:r.description}),r.transcript&&(0,J.jsxs)(ce,{sx:{mb:3},children:[(0,J.jsx)(Sp,{text:r.transcript,lang:"en-US",title:"Audio - \xc9coutez la transcription",showControls:!0,autoPlay:!1}),(0,J.jsx)(Ns,{severity:"info",sx:{mt:2},children:(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Conseil :"})," Cliquez sur le bouton lecture dans le lecteur audio ci-dessus pour \xe9couter la transcription. La transcription compl\xe8te sera disponible apr\xe8s avoir r\xe9pondu aux questions."]})})]}),r.questions&&r.questions.length>0?(0,J.jsxs)(J.Fragment,{children:[r.questions.map((e,t)=>(console.log("\ud83d\udcdd Question ".concat(t+1,":"),e),(0,J.jsx)(Uu,{question:e,onAnswer:(t,n,r)=>v(e.id,t,n,r),audioUrl:void 0,transcript:void 0},e.id||"q".concat(t)))),r.transcript&&(0,J.jsxs)(ce,{sx:{mt:4,p:3,bgcolor:"grey.100",borderRadius:2},children:[(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,children:"Transcription compl\xe8te"}),(0,J.jsx)(Te,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.8},children:r.transcript})]})]}):(0,J.jsx)(Ns,{severity:"error",children:"Aucune question disponible pour cet exercice."})]}):"reading"===r.type?(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"h5",gutterBottom:!0,children:r.title}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",sx:{mb:3},children:r.description}),r.readingText||r.content?(0,J.jsxs)(ce,{sx:{mb:3,p:3,bgcolor:"grey.50",borderRadius:2},children:[(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,children:"Texte \xe0 lire :"}),(0,J.jsx)(Te,{variant:"body1",sx:{whiteSpace:"pre-wrap",lineHeight:1.8},children:r.readingText||r.content})]}):null,r.questions&&r.questions.length>0?r.questions.map(e=>(0,J.jsx)(Bu,{question:e,onAnswer:(t,n,r)=>v(e.id,t,n,r),text:void 0},e.id)):(0,J.jsx)(Ns,{severity:"error",children:"Aucune question disponible pour cet exercice."})]}):(0,J.jsxs)(Ns,{severity:"error",children:["Type d'exercice non support\xe9: ",r.type]})]})):(0,J.jsxs)(ce,{sx:{p:3},children:[u>0&&(0,J.jsx)(Ns,{severity:"warning",sx:{mb:3},children:(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Note :"})," ",u," exercice(s) incomplet(s) ont \xe9t\xe9 automatiquement filtr\xe9s car ils contiennent des placeholders au lieu de contenu r\xe9el. Seuls les exercices complets sont affich\xe9s."]})}),0===e.length&&(0,J.jsx)(Ns,{severity:"error",sx:{mb:3},children:(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Erreur :"})," Aucun exercice n'a pu \xeatre charg\xe9. V\xe9rifiez la console pour plus de d\xe9tails."]})}),(0,J.jsxs)(Te,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:["Exercices disponibles",e.length>0&&(0,J.jsx)(ms,{label:"".concat(e.length," exercice(s) au total"),color:"primary",sx:{ml:2}})]}),(0,J.jsxs)(ce,{sx:{display:"flex",gap:2,mb:4},children:[(0,J.jsxs)(ba,{sx:{minWidth:200},children:[(0,J.jsx)(Ra,{children:"Niveau"}),(0,J.jsxs)(jc,{value:s,label:"Niveau",onChange:e=>a(e.target.value),children:[(0,J.jsx)(Mc,{value:"all",children:"Tous les niveaux"}),(0,J.jsx)(Mc,{value:"A2",children:"A2"}),(0,J.jsx)(Mc,{value:"B1",children:"B1"}),(0,J.jsx)(Mc,{value:"B2",children:"B2"}),(0,J.jsx)(Mc,{value:"C1",children:"C1"})]})]}),(0,J.jsxs)(ba,{sx:{minWidth:200},children:[(0,J.jsx)(Ra,{children:"Type"}),(0,J.jsxs)(jc,{value:l,label:"Type",onChange:e=>c(e.target.value),children:[(0,J.jsx)(Mc,{value:"all",children:"Tous les types"}),(0,J.jsx)(Mc,{value:"qcm",children:"QCM"}),(0,J.jsx)(Mc,{value:"cloze",children:"Texte \xe0 trous"}),(0,J.jsx)(Mc,{value:"listening",children:"Listening (Compr\xe9hension orale)"}),(0,J.jsx)(Mc,{value:"reading",children:"Reading (Compr\xe9hension \xe9crite)"})]})]}),(0,J.jsx)(ms,{label:"".concat(m.length," exercice(s)"),color:"primary",sx:{ml:"auto",alignSelf:"center"}})]}),(0,J.jsx)(Be,{container:!0,spacing:3,children:m.map(e=>(0,J.jsx)(Be,{item:!0,xs:12,sm:6,md:4,children:(0,J.jsxs)(Ye,{elevation:3,sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,J.jsxs)(tt,{sx:{flexGrow:1},children:[(0,J.jsxs)(ce,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,J.jsx)(ms,{label:e.level,color:"C1"===e.level?"error":"B2"===e.level?"warning":"B1"===e.level?"info":"success",size:"small"}),(0,J.jsx)(ms,{label:"qcm"===e.type?"QCM":"Texte \xe0 trous",variant:"outlined",size:"small"})]}),(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,sx:{minHeight:60},children:e.title}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",sx:{mb:2,minHeight:40},children:e.description}),(0,J.jsxs)(ce,{sx:{display:"flex",gap:2,mb:2},children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,J.jsx)(mi,{fontSize:"small",color:"action"}),(0,J.jsxs)(Te,{variant:"caption",children:[e.questions.length," question(s)"]})]}),(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,J.jsx)(sa,{fontSize:"small",color:"action"}),(0,J.jsxs)(Te,{variant:"caption",children:["~",e.estimatedTime," min"]})]}),(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,J.jsx)(aa,{fontSize:"small",color:"action"}),(0,J.jsxs)(Te,{variant:"caption",children:["Niveau ",e.difficulty,"/5"]})]})]}),(0,J.jsx)(ms,{label:e.domain,size:"small",sx:{mt:1}})]}),(0,J.jsx)(ce,{sx:{p:2,pt:0},children:(0,J.jsx)(pn,{variant:"contained",fullWidth:!0,type:"button",onClick:t=>{var n;t.preventDefault(),t.stopPropagation(),console.log("\ud83d\uddb1\ufe0f \xc9V\xc9NEMENT CLIC D\xc9TECT\xc9 pour:",e.id,e.title),console.log("\ud83d\udd0d Exercice au moment du clic:",{id:e.id,title:e.title,questionsCount:(null===(n=e.questions)||void 0===n?void 0:n.length)||0,type:e.type}),g(e)},onMouseDown:t=>{t.stopPropagation(),console.log("\ud83d\uddb1\ufe0f MouseDown d\xe9tect\xe9 pour:",e.id)},disabled:!e.questions||0===e.questions.length,sx:{cursor:e.questions&&e.questions.length>0?"pointer":"not-allowed","&:hover":{backgroundColor:e.questions&&e.questions.length>0?"primary.dark":"action.disabled"}},children:e.questions&&e.questions.length>0?"Commencer":"Indisponible"})})]})},e.id))}),0===m.length&&(0,J.jsxs)(ce,{sx:{textAlign:"center",py:8},children:[(0,J.jsx)(Te,{variant:"h6",color:"text.secondary",children:"Aucun exercice trouv\xe9 pour ces crit\xe8res"}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Essayez de changer les filtres"})]})]})},Ap=hi((0,J.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9v7c0 1.1.9 2 2 2h4v-8H5v-1c0-3.87 3.13-7 7-7s7 3.13 7 7v1h-4v8h4c1.1 0 2-.9 2-2v-7c0-4.97-4.03-9-9-9"}),"Headphones"),Ep=hi((0,J.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Cp=[{id:"l1",section:"listening",question:"Listen to the audio: 'The system was deployed yesterday.' What tense is used?",audioText:"The system was deployed yesterday.",options:["Present Simple","Past Simple","Present Perfect","Past Perfect"],correctAnswer:"Past Simple",level:"B1",points:1},{id:"l2",section:"listening",question:"Listen: 'We have been working on this project for three months.' What does this indicate?",audioText:"We have been working on this project for three months.",options:["The project is finished","The project started in the past and continues now","The project will start in three months","The project lasted only three months"],correctAnswer:"The project started in the past and continues now",level:"B2",points:2},{id:"l3",section:"listening",question:"Listen: 'The vulnerability could have been prevented.' What is the meaning?",audioText:"The vulnerability could have been prevented.",options:["It was prevented","It will be prevented","It was possible to prevent it but it wasn't done","It cannot be prevented"],correctAnswer:"It was possible to prevent it but it wasn't done",level:"C1",points:3},{id:"l4",section:"listening",question:"Listen: 'By implementing CI/CD, deployment time has decreased significantly.' What happened?",audioText:"By implementing CI/CD, deployment time has decreased significantly.",options:["Deployment takes more time now","Deployment time stayed the same","Deployment became much faster","CI/CD was not implemented"],correctAnswer:"Deployment became much faster",level:"B2",points:2},{id:"l5",section:"listening",question:"Listen: 'Had the team followed best practices, the security breach would not have occurred.' What does this mean?",audioText:"Had the team followed best practices, the security breach would not have occurred.",options:["The team followed best practices","The team didn't follow best practices and there was a breach","There was no security breach","Best practices are not important"],correctAnswer:"The team didn't follow best practices and there was a breach",level:"C1",points:3},{id:"l6",section:"listening",question:"Listen: 'The application is being tested by the QA team.' What is the current status?",audioText:"The application is being tested by the QA team.",options:["Testing is complete","Testing will start soon","Testing is happening right now","Testing was cancelled"],correctAnswer:"Testing is happening right now",level:"B2",points:2},{id:"r1",section:"reading",question:"What is the main topic of this text?",readingText:"Technical debt occurs when developers choose quick solutions over better approaches. While these shortcuts save time initially, they accumulate interest in the form of increased maintenance costs and reduced code quality. Managing technical debt requires regular refactoring and prioritization.",options:["Quick coding techniques","Managing shortcuts in software development","Cost reduction strategies","Code quality standards"],correctAnswer:"Managing shortcuts in software development",level:"B2",points:2},{id:"r2",section:"reading",question:"According to the text, what is the consequence of technical debt?",readingText:"Technical debt occurs when developers choose quick solutions over better approaches. While these shortcuts save time initially, they accumulate interest in the form of increased maintenance costs and reduced code quality. Managing technical debt requires regular refactoring and prioritization.",options:["Faster development","Better code quality","Increased maintenance costs","No consequences"],correctAnswer:"Increased maintenance costs",level:"B2",points:2},{id:"r3",section:"reading",question:"What does RAG stand for in AI systems?",readingText:"Retrieval-Augmented Generation (RAG) is an AI framework that combines the power of large language models with external knowledge retrieval. Rather than relying solely on pre-trained knowledge, RAG systems query a database or document corpus to retrieve relevant information, which is then used to generate more accurate and contextually appropriate responses.",options:["Rapid Application Generation","Retrieval-Augmented Generation","Random Access Gateway","Real-time Analytics Generator"],correctAnswer:"Retrieval-Augmented Generation",level:"C1",points:3},{id:"r4",section:"reading",question:"How does RAG improve AI responses?",readingText:"Retrieval-Augmented Generation (RAG) is an AI framework that combines the power of large language models with external knowledge retrieval. Rather than relying solely on pre-trained knowledge, RAG systems query a database or document corpus to retrieve relevant information, which is then used to generate more accurate and contextually appropriate responses.",options:["By using only pre-trained data","By accessing external knowledge sources","By generating random responses","By reducing computation time"],correctAnswer:"By accessing external knowledge sources",level:"C1",points:3},{id:"r5",section:"reading",question:"What is the primary purpose of MLOps?",readingText:"MLOps (Machine Learning Operations) applies DevOps principles to machine learning workflows. It encompasses the practices, tools, and cultural philosophies necessary to deploy, monitor, and maintain ML models in production. Key aspects include automated testing, continuous integration/continuous deployment (CI/CD), model versioning, and performance monitoring.",options:["To replace DevOps engineers","To deploy and maintain ML models in production","To train machine learning models","To reduce computational costs"],correctAnswer:"To deploy and maintain ML models in production",level:"B2",points:2},{id:"r6",section:"reading",question:"Which is NOT mentioned as a key aspect of MLOps?",readingText:"MLOps (Machine Learning Operations) applies DevOps principles to machine learning workflows. It encompasses the practices, tools, and cultural philosophies necessary to deploy, monitor, and maintain ML models in production. Key aspects include automated testing, continuous integration/continuous deployment (CI/CD), model versioning, and performance monitoring.",options:["Automated testing","Model versioning","Manual deployment","Performance monitoring"],correctAnswer:"Manual deployment",level:"B2",points:2},{id:"w1",section:"writing",question:"Complete the sentence: The bug ___ fixed by the developer yesterday.",correctAnswer:["was"],level:"B1",points:1},{id:"w2",section:"writing",question:"Complete: We have ___ implementing microservices for two years.",correctAnswer:["been"],level:"B2",points:2},{id:"w3",section:"writing",question:"Complete: Technical debt accumulates when teams choose quick solutions ___ of better approaches.",correctAnswer:["instead"],level:"B2",points:2},{id:"w4",section:"writing",question:"Complete: Had the team ___ the security audit, the breach would not have occurred.",correctAnswer:["conducted","performed","done","completed"],level:"C1",points:3},{id:"w5",section:"writing",question:"Complete: Not only ___ the system more secure, but it also improved performance.",correctAnswer:["did it make","did we make"],level:"C1",points:3},{id:"w6",section:"writing",question:"Complete: The application ___ currently ___ tested by the QA team.",correctAnswer:["is being"],level:"B2",points:2}],Ip=(e,t)=>({l1:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:"R\xe8gle : Past Simple (Pass\xe9 simple)"})}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:["Le ",(0,J.jsx)("strong",{children:"Past Simple"})," est utilis\xe9 pour d\xe9crire une action termin\xe9e dans le pass\xe9, souvent accompagn\xe9e d'un indicateur de temps pr\xe9cis."]}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Structure :"}),(0,J.jsx)("br",{}),"\u2022 Forme affirmative : Sujet + verbe-ed (ou verbe irr\xe9gulier)",(0,J.jsx)("br",{}),'\u2022 Exemple : "The system ',(0,J.jsx)("strong",{children:"was deployed"}),' yesterday."',(0,J.jsx)("br",{}),"\u2022 Indicateurs : yesterday, last week, in 2020, ago"]}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:[(0,J.jsx)("strong",{children:"\u26a0\ufe0f Attention :"}),' "was deployed" est \xe0 la voix passive. Voix active \xe9quivalente : "They deployed the system yesterday."']}),(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Autres exemples :"}),(0,J.jsx)("br",{}),'\u2022 "I worked on this project last month."',(0,J.jsx)("br",{}),'\u2022 "The bug was fixed two days ago."',(0,J.jsx)("br",{}),'\u2022 "She tested the application yesterday."']})]}),l2:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:"R\xe8gle : Present Perfect Continuous"})}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:["Le ",(0,J.jsx)("strong",{children:"Present Perfect Continuous"})," exprime une action qui a commenc\xe9 dans le pass\xe9 et qui continue jusqu'\xe0 maintenant, avec emphase sur la dur\xe9e."]}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Structure :"}),(0,J.jsx)("br",{}),"\u2022 Have/Has + been + verbe-ing",(0,J.jsx)("br",{}),'\u2022 Exemple : "We ',(0,J.jsx)("strong",{children:"have been working"}),' for three months."',(0,J.jsx)("br",{}),"\u2022 Indicateurs : for (dur\xe9e), since (point de d\xe9part)"]}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:[(0,J.jsx)("strong",{children:"Diff\xe9rence avec Present Perfect Simple :"}),(0,J.jsx)("br",{}),"\u2022 Perfect Continuous : emphase sur la dur\xe9e/continuit\xe9",(0,J.jsx)("br",{}),"\u2022 Perfect Simple : emphase sur le r\xe9sultat/ach\xe8vement",(0,J.jsx)("br",{}),'Exemple : "I have been reading" (je lis encore) vs "I have read" (j\'ai fini)']}),(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Autres exemples :"}),(0,J.jsx)("br",{}),'\u2022 "She has been learning English for 5 years."',(0,J.jsx)("br",{}),'\u2022 "They have been developing this feature since January."',(0,J.jsx)("br",{}),'\u2022 "The server has been running continuously."']})]}),l3:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:"R\xe8gle : Modal Perfect (Could have + past participle)"})}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:[(0,J.jsx)("strong",{children:'"Could have + past participle"'})," exprime une possibilit\xe9 dans le pass\xe9 qui ne s'est pas r\xe9alis\xe9e (regret, reproche, ou constat)."]}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Structure :"}),(0,J.jsx)("br",{}),"\u2022 Modal (could/should/would) + have + past participle",(0,J.jsx)("br",{}),'\u2022 Exemple : "The vulnerability ',(0,J.jsx)("strong",{children:"could have been prevented"}),'."',(0,J.jsx)("br",{}),"\u2022 Signification : C'\xe9tait possible de le pr\xe9venir, mais \xe7a n'a pas \xe9t\xe9 fait."]}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:[(0,J.jsx)("strong",{children:"Autres modaux au pass\xe9 :"}),(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Should have :"})," obligation non respect\xe9e (reproche)",(0,J.jsx)("br",{}),'\xa0\xa0"You should have tested the code."',(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Would have :"})," conditionnel pass\xe9",(0,J.jsx)("br",{}),'\xa0\xa0"I would have fixed it if I had known."',(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Must have :"})," d\xe9duction logique sur le pass\xe9",(0,J.jsx)("br",{}),'\xa0\xa0"He must have forgotten the meeting."']}),(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Exemples IT :"}),(0,J.jsx)("br",{}),'\u2022 "The data breach could have been prevented with proper encryption."',(0,J.jsx)("br",{}),'\u2022 "The deployment should have been tested in staging first."',(0,J.jsx)("br",{}),'\u2022 "The bug would have been caught if we had unit tests."']})]}),l4:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:"R\xe8gle : Present Perfect + Cause/Effect"})}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:["Le ",(0,J.jsx)("strong",{children:"Present Perfect"}),' est utilis\xe9 ici pour montrer un r\xe9sultat pr\xe9sent d\'une action pass\xe9e. "By implementing" (g\xe9rondif) exprime le moyen/la cause.']}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Structure :"}),(0,J.jsx)("br",{}),"\u2022 By + verb-ing (moyen) \u2192 r\xe9sultat",(0,J.jsx)("br",{}),'\u2022 Exemple : "',(0,J.jsx)("strong",{children:"By implementing"})," CI/CD, time ",(0,J.jsx)("strong",{children:"has decreased"}),'."',(0,J.jsx)("br",{}),'\u2022 "By" = "en faisant", "gr\xe2ce \xe0"']}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:[(0,J.jsx)("strong",{children:"Vocabulaire cl\xe9 :"}),(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Significantly :"})," de mani\xe8re significative",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Decrease :"})," diminuer (\u2260 increase : augmenter)",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Deployment :"})," d\xe9ploiement, mise en production"]}),(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Expressions similaires :"}),(0,J.jsx)("br",{}),'\u2022 "By using automation, we have improved efficiency."',(0,J.jsx)("br",{}),'\u2022 "Through refactoring, code quality has increased."',(0,J.jsx)("br",{}),'\u2022 "Thanks to monitoring, downtime has reduced."']})]}),l5:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:"R\xe8gle : Third Conditional (Inversion)"})}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:["Le ",(0,J.jsx)("strong",{children:"Third Conditional"}),' exprime une situation hypoth\xe9tique dans le pass\xe9 et son r\xe9sultat irr\xe9el. L\'inversion avec "Had" rend la phrase plus formelle.']}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Structure classique :"}),(0,J.jsx)("br",{}),"\u2022 If + past perfect \u2192 would have + past participle",(0,J.jsx)("br",{}),'\u2022 "If the team ',(0,J.jsx)("strong",{children:"had followed"})," practices, breach ",(0,J.jsx)("strong",{children:"would not have occurred"}),'."']}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"warning.light",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Structure avec inversion (formelle) :"}),(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Had + sujet + past participle"})," \u2192 would have + past participle",(0,J.jsx)("br",{}),'\u2022 "',(0,J.jsx)("strong",{children:"Had the team followed"}),' practices, breach would not have occurred."',(0,J.jsx)("br",{}),'\u2022 Note : "If" dispara\xeet, "had" passe en t\xeate']}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:[(0,J.jsx)("strong",{children:"Signification :"})," L'\xe9quipe n'a PAS suivi les bonnes pratiques, et en cons\xe9quence, la faille de s\xe9curit\xe9 s'est produite."]}),(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Autres exemples avec inversion :"}),(0,J.jsx)("br",{}),'\u2022 "Had I known, I would have acted differently."',(0,J.jsx)("br",{}),'\u2022 "Had they tested properly, the bug would have been caught."',(0,J.jsx)("br",{}),'\u2022 "Had we deployed earlier, the deadline would have been met."']})]}),l6:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:"R\xe8gle : Present Continuous Passive"})}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:["Le ",(0,J.jsx)("strong",{children:"Present Continuous Passive"})," d\xe9crit une action en cours de r\xe9alisation au moment pr\xe9sent, \xe0 la voix passive (l'agent n'est pas l'acteur principal)."]}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Structure :"}),(0,J.jsx)("br",{}),"\u2022 Is/Are + being + past participle",(0,J.jsx)("br",{}),'\u2022 Exemple : "The application ',(0,J.jsx)("strong",{children:"is being tested"}),' by the QA team."',(0,J.jsx)("br",{}),'\u2022 Forme active : "The QA team is testing the application."']}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:[(0,J.jsx)("strong",{children:"Quand l'utiliser :"}),(0,J.jsx)("br",{}),"\u2022 Action en cours maintenant",(0,J.jsx)("br",{}),"\u2022 Focus sur l'objet de l'action (pas l'agent)",(0,J.jsx)("br",{}),"\u2022 Processus temporaire"]}),(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Exemples IT :"}),(0,J.jsx)("br",{}),'\u2022 "The code is being reviewed by senior developers."',(0,J.jsx)("br",{}),'\u2022 "New features are being developed right now."',(0,J.jsx)("br",{}),'\u2022 "The database is being migrated to the cloud."',(0,J.jsx)("br",{}),'\u2022 "Security patches are being deployed across all servers."']})]}),r1:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:"Compr\xe9hension \xe9crite : Id\xe9e principale"})}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:["Le texte parle de la ",(0,J.jsx)("strong",{children:"dette technique"})," : des solutions rapides qui cr\xe9ent des probl\xe8mes \xe0 long terme."]}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Vocabulaire cl\xe9 :"}),(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Technical debt :"})," dette technique",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Shortcuts :"})," raccourcis, solutions rapides",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Accumulate interest :"})," accumuler des int\xe9r\xeats (m\xe9taphore financi\xe8re)",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Maintenance costs :"})," co\xfbts de maintenance"]}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:[(0,J.jsx)("strong",{children:"Expressions courantes IT :"}),(0,J.jsx)("br",{}),'\u2022 "Quick and dirty solution" = solution rapide mais de mauvaise qualit\xe9',(0,J.jsx)("br",{}),'\u2022 "Cut corners" = prendre des raccourcis',(0,J.jsx)("br",{}),'\u2022 "Pay down technical debt" = rembourser la dette technique',(0,J.jsx)("br",{}),'\u2022 "Code smells" = signes de mauvaise qualit\xe9 de code']})]}),r2:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:"Compr\xe9hension : Cause et cons\xe9quence"})}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:["Le texte explique que la dette technique ",(0,J.jsx)("strong",{children:"augmente les co\xfbts de maintenance"}),"."]}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Mots de liaison cause/cons\xe9quence :"}),(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Because / Since / As :"})," parce que",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Therefore / Thus / Hence :"})," donc, par cons\xe9quent",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"As a result / Consequently :"})," en cons\xe9quence",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Due to / Owing to :"})," en raison de"]}),(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Exemple :"}),' "Due to technical debt, maintenance costs increased."']})]}),r3:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:"Acronyme : RAG (Retrieval-Augmented Generation)"})}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:[(0,J.jsx)("strong",{children:"RAG"})," est un framework d'IA qui combine g\xe9n\xe9ration de texte et recherche d'informations externes pour des r\xe9ponses plus pr\xe9cises."]}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Vocabulaire technique IA :"}),(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Framework :"})," cadre de travail, infrastructure",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Retrieval :"})," r\xe9cup\xe9ration, recherche",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Augmented :"})," augment\xe9, am\xe9lior\xe9",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Query :"})," requ\xeate, interrogation",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Corpus :"})," ensemble de documents"]}),(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Autres acronymes IA courants :"}),(0,J.jsx)("br",{}),"\u2022 LLM: Large Language Model",(0,J.jsx)("br",{}),"\u2022 NLP: Natural Language Processing",(0,J.jsx)("br",{}),"\u2022 MLOps: Machine Learning Operations",(0,J.jsx)("br",{}),"\u2022 API: Application Programming Interface"]})]}),r4:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:"Compr\xe9hension : M\xe9canisme de fonctionnement"})}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:["RAG am\xe9liore les r\xe9ponses en ",(0,J.jsx)("strong",{children:"acc\xe9dant \xe0 des sources de connaissances externes"}),", pas seulement aux donn\xe9es pr\xe9-entra\xeen\xe9es."]}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:'Expression : "Rather than"'}),(0,J.jsx)("br",{}),'\u2022 Signification : "plut\xf4t que", "au lieu de"',(0,J.jsx)("br",{}),'\u2022 Exemple : "Rather than relying on memory, it queries a database."',(0,J.jsx)("br",{}),"\u2022 Synonymes : instead of, in lieu of"]}),(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Expressions de comparaison :"}),(0,J.jsx)("br",{}),'\u2022 "Unlike X, Y does..." = Contrairement \xe0 X, Y fait...',(0,J.jsx)("br",{}),'\u2022 "Whereas X is limited, Y can..." = Alors que X est limit\xe9, Y peut...',(0,J.jsx)("br",{}),'\u2022 "In contrast to X, Y..." = Par opposition \xe0 X, Y...']})]}),r5:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:"MLOps : Machine Learning Operations"})}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:["MLOps applique les principes DevOps au machine learning pour ",(0,J.jsx)("strong",{children:"d\xe9ployer et maintenir des mod\xe8les en production"}),"."]}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Vocabulaire MLOps :"}),(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Deploy :"})," d\xe9ployer, mettre en production",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Monitor :"})," surveiller, monitorer",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Maintain :"})," maintenir, entretenir",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Pipeline :"})," cha\xeene de traitement automatis\xe9e",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Versioning :"})," gestion des versions"]}),(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Concepts MLOps cl\xe9s :"}),(0,J.jsx)("br",{}),"\u2022 Model training pipeline",(0,J.jsx)("br",{}),"\u2022 Continuous Integration / Continuous Deployment (CI/CD)",(0,J.jsx)("br",{}),"\u2022 Model monitoring and drift detection",(0,J.jsx)("br",{}),"\u2022 A/B testing for models"]})]}),r6:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:"Compr\xe9hension : D\xe9tails du texte"})}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:["Le texte mentionne automated testing, CI/CD, model versioning, et performance monitoring, mais PAS le ",(0,J.jsx)("strong",{children:"d\xe9ploiement manuel"}),"."]}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Astuce lecture :"}),(0,J.jsx)("br",{}),'\u2022 Questions "NOT mentioned" = attention redoubl\xe9e',(0,J.jsx)("br",{}),"\u2022 Scanner le texte pour chaque option",(0,J.jsx)("br",{}),"\u2022 \xc9liminer les options pr\xe9sentes",(0,J.jsx)("br",{}),"\u2022 La r\xe9ponse est celle qui n'appara\xeet PAS"]}),(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Mots de n\xe9gation en anglais :"}),(0,J.jsx)("br",{}),"\u2022 Which is NOT...",(0,J.jsx)("br",{}),"\u2022 Except for...",(0,J.jsx)("br",{}),"\u2022 All of the following EXCEPT...",(0,J.jsx)("br",{}),"\u2022 Neither... nor..."]})]}),w1:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:"R\xe8gle : Passive Voice (Past Simple)"})}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:['"The bug ',(0,J.jsx)("strong",{children:"was"}),' fixed" est \xe0 la voix passive au pass\xe9 simple.']}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Structure voix passive :"}),(0,J.jsx)("br",{}),"\u2022 Be (conjugu\xe9) + past participle",(0,J.jsx)("br",{}),"\u2022 Pass\xe9 simple : was/were + past participle",(0,J.jsx)("br",{}),'\u2022 Exemple : "was fixed", "were tested", "was deployed"']}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:[(0,J.jsx)("strong",{children:"Quand utiliser la voix passive :"}),(0,J.jsx)("br",{}),"\u2022 Agent inconnu ou non important",(0,J.jsx)("br",{}),"\u2022 Focus sur l'objet, pas l'agent",(0,J.jsx)("br",{}),"\u2022 Style formel/technique"]}),(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Exemples IT :"}),(0,J.jsx)("br",{}),'\u2022 "The code was reviewed by the team."',(0,J.jsx)("br",{}),'\u2022 "The server was restarted at midnight."',(0,J.jsx)("br",{}),'\u2022 "All tests were passed successfully."']})]}),w2:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:"R\xe8gle : Present Perfect Continuous"})}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:['"We have ',(0,J.jsx)("strong",{children:"been"}),' implementing" exprime une action commenc\xe9e dans le pass\xe9 et qui continue.']}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Structure :"}),(0,J.jsx)("br",{}),"\u2022 Have/Has + been + verb-ing",(0,J.jsx)("br",{}),'\u2022 Exemple : "have been implementing"',(0,J.jsx)("br",{}),'\u2022 Indicateur temporel : "for two years" (dur\xe9e)']}),(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"\u26a0\ufe0f Erreurs courantes :"}),(0,J.jsx)("br",{}),'\u2022 \u274c "have implementing" \u2192 \u2705 "have been implementing"',(0,J.jsx)("br",{}),'\u2022 \u274c "have been implement" \u2192 \u2705 "have been implementing"',(0,J.jsx)("br",{}),'\u2022 \u274c "has been implementing" (avec "we") \u2192 \u2705 "have been implementing"']})]}),w3:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:'Expression : "instead of"'})}),(0,J.jsx)(Te,{variant:"body2",paragraph:!0,children:'"Instead of" = au lieu de, \xe0 la place de'}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Structure :"}),(0,J.jsx)("br",{}),"\u2022 Instead of + noun/gerund",(0,J.jsx)("br",{}),'\u2022 Exemple : "instead of better approaches"',(0,J.jsx)("br",{}),'\u2022 Avec verbe : "instead of using" (g\xe9rondif)']}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:[(0,J.jsx)("strong",{children:"\u26a0\ufe0f Ne pas confondre :"}),(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Instead of :"})," au lieu de (+ nom/g\xe9rondif)",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"Instead :"}),' \xe0 la place (seul, sans "of")',(0,J.jsx)("br",{}),'Exemple : "I didn\'t go; I stayed home instead."']}),(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Expressions similaires :"}),(0,J.jsx)("br",{}),'\u2022 "Rather than" = plut\xf4t que',(0,J.jsx)("br",{}),'\u2022 "In place of" = \xe0 la place de',(0,J.jsx)("br",{}),'\u2022 "As an alternative to" = comme alternative \xe0']})]}),w4:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:"R\xe8gle : Third Conditional (Past Perfect)"})}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:['"Had the team ',(0,J.jsx)("strong",{children:"conducted"})," the audit\" = Si l'\xe9quipe avait effectu\xe9 l'audit"]}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Verbes accept\xe9s :"}),(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"conducted"})," (mener, effectuer) - le plus courant",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"performed"})," (r\xe9aliser, effectuer)",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"done"})," (faire) - moins formel",(0,J.jsx)("br",{}),"\u2022 ",(0,J.jsx)("strong",{children:"completed"})," (compl\xe9ter, achever)"]}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:[(0,J.jsx)("strong",{children:'Collocations avec "audit" :'}),(0,J.jsx)("br",{}),"\u2022 Conduct an audit (le plus fr\xe9quent)",(0,J.jsx)("br",{}),"\u2022 Perform an audit",(0,J.jsx)("br",{}),"\u2022 Carry out an audit",(0,J.jsx)("br",{}),"\u2022 Complete an audit"]}),(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Autres exemples :"}),(0,J.jsx)("br",{}),'\u2022 "Had we conducted a code review..."',(0,J.jsx)("br",{}),'\u2022 "Had they performed load testing..."',(0,J.jsx)("br",{}),'\u2022 "Had the team completed the migration..."']})]}),w5:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:"R\xe8gle : Inversion (Emphase)"})}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:['"Not only ',(0,J.jsx)("strong",{children:"did it make"}),"\" est une structure d'inversion pour l'emphase."]}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Structure :"}),(0,J.jsx)("br",{}),"\u2022 Not only + auxiliaire + sujet + verbe de base",(0,J.jsx)("br",{}),'\u2022 Exemple : "Not only ',(0,J.jsx)("strong",{children:"did it make"}),' the system more secure"',(0,J.jsx)("br",{}),'\u2022 Normal : "It not only made the system more secure"']}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"warning.light",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:'\u26a0\ufe0f Apr\xe8s "not only" en d\xe9but de phrase :'}),(0,J.jsx)("br",{}),"\u2022 L'ordre sujet-verbe s'inverse",(0,J.jsx)("br",{}),"\u2022 On ajoute un auxiliaire (do/does/did)",(0,J.jsx)("br",{}),"\u2022 Niveau C1 - Structure formelle"]}),(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Autres structures similaires :"}),(0,J.jsx)("br",{}),'\u2022 "Never have I seen..." (jamais je n\'ai vu...)',(0,J.jsx)("br",{}),'\u2022 "Rarely does he..." (rarement il...)',(0,J.jsx)("br",{}),'\u2022 "Seldom do we..." (rarement nous...)',(0,J.jsx)("br",{}),"\u2022 \"Only then did I realize...\" (c'est alors que j'ai r\xe9alis\xe9...)"]})]}),w6:(0,J.jsxs)(ce,{children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:(0,J.jsx)("strong",{children:"R\xe8gle : Present Continuous Passive"})}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:['"The application ',(0,J.jsx)("strong",{children:"is being"}),' tested" exprime une action passive en cours.']}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,J.jsx)("strong",{children:"Structure :"}),(0,J.jsx)("br",{}),"\u2022 Is/Are + being + past participle",(0,J.jsx)("br",{}),'\u2022 Exemple : "',(0,J.jsx)("strong",{children:"is being"}),' tested"',(0,J.jsx)("br",{}),'\u2022 Note : deux mots n\xe9cessaires ("is" + "being")']}),(0,J.jsxs)(Te,{variant:"body2",paragraph:!0,children:[(0,J.jsx)("strong",{children:"\u26a0\ufe0f Erreurs fr\xe9quentes :"}),(0,J.jsx)("br",{}),'\u2022 \u274c "is tested" \u2192 pr\xe9sent simple passif (pas en cours)',(0,J.jsx)("br",{}),'\u2022 \u274c "is testing" \u2192 pr\xe9sent continu actif (mauvaise voix)',(0,J.jsx)("br",{}),'\u2022 \u274c "has been tested" \u2192 present perfect (action termin\xe9e)',(0,J.jsx)("br",{}),'\u2022 \u2705 "is being tested" \u2192 pr\xe9sent continu passif (action en cours)']}),(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Exemples IT :"}),(0,J.jsx)("br",{}),'\u2022 "The code is being reviewed right now."',(0,J.jsx)("br",{}),'\u2022 "New features are being developed as we speak."',(0,J.jsx)("br",{}),'\u2022 "The database is being migrated this week."']})]})}[e.id]||(0,J.jsx)(Te,{variant:"body2",children:"Explication \xe0 venir pour cette question."})),Tp=e=>{var n;let{onComplete:r}=e;const[o,s]=(0,t.useState)("listening"),[a,l]=(0,t.useState)(0),[c,u]=(0,t.useState)({}),[d,h]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)(!1),{user:v,setUser:y}=as(),{speak:b,stop:x,isSpeaking:w,isSupported:S}=cp(),k=Cp.filter(e=>e.section===o),A=k[a],E=Cp.length,C=Object.keys(c).length,I=C/E*100,T=(e,t)=>{u(n=>(0,i.A)((0,i.A)({},n),{},{[e]:t}))},j=()=>{let e=0,t=0;Cp.forEach(n=>{var r;t+=n.points;const o=null===(r=c[n.id])||void 0===r?void 0:r.toLowerCase().trim();Array.isArray(n.correctAnswer)?n.correctAnswer.some(e=>o===e.toLowerCase())&&(e+=n.points):o===n.correctAnswer.toLowerCase()&&(e+=n.points)});const n=e/t*100;let r;r=n>=80?"C1":n>=65?"B2":n>=45?"B1":"A2",f(r),h(!0),v&&y((0,i.A)((0,i.A)({},v),{},{currentLevel:r,lastActivity:new Date}))},_=void 0!==c[null===A||void 0===A?void 0:A.id];return m&&d&&p?(0,J.jsxs)(ce,{sx:{p:3,maxWidth:1200,mx:"auto"},children:[(0,J.jsx)(Te,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:"\ud83d\udcdd Correction d\xe9taill\xe9e de l'\xe9valuation"}),(0,J.jsx)(Ns,{severity:"info",sx:{mb:3},children:(0,J.jsx)(Te,{variant:"body2",children:"Voici la correction compl\xe8te avec explications grammaticales, exemples et exceptions. Prenez le temps de bien comprendre chaque point."})}),Cp.map((e,t)=>{const n=(e=>{var t;const n=null===(t=c[e.id])||void 0===t?void 0:t.toLowerCase().trim();return Array.isArray(e.correctAnswer)?e.correctAnswer.some(e=>n===e.toLowerCase()):n===e.correctAnswer.toLowerCase()})(e),r=c[e.id],o=Array.isArray(e.correctAnswer)?e.correctAnswer[0]:e.correctAnswer;return(0,J.jsx)(Ye,{sx:{mb:3,border:2,borderColor:n?"success.main":"error.main"},children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,J.jsx)(ms,{label:"Question ".concat(t+1),color:n?"success":"error"}),(0,J.jsx)(ms,{label:e.section.toUpperCase(),size:"small"}),(0,J.jsx)(ms,{label:"Niveau ".concat(e.level),size:"small",variant:"outlined"}),n?(0,J.jsx)(ca,{color:"success"}):(0,J.jsxs)(ce,{sx:{color:"error.main",display:"flex",alignItems:"center",gap:.5},children:["\u274c ",(0,J.jsx)(Te,{variant:"body2",children:"Incorrect"})]})]}),(0,J.jsx)(Te,{variant:"h6",sx:{mb:2},children:e.question}),e.audioText&&(0,J.jsx)(ce,{sx:{mb:2,p:2,bgcolor:"grey.100",borderRadius:1},children:(0,J.jsxs)(Te,{variant:"body2",sx:{fontStyle:"italic"},children:['\ud83d\udd0a Texte audio : "',e.audioText,'"']})}),e.readingText&&(0,J.jsx)(ce,{sx:{mb:2,p:2,bgcolor:"grey.100",borderRadius:1},children:(0,J.jsx)(Te,{variant:"body2",children:e.readingText})}),(0,J.jsx)(ce,{sx:{mb:3},children:(0,J.jsxs)(Be,{container:!0,spacing:2,children:[(0,J.jsx)(Be,{item:!0,xs:12,md:6,children:(0,J.jsxs)(ce,{sx:{p:2,bgcolor:n?"success.light":"error.light",borderRadius:1},children:[(0,J.jsx)(Te,{variant:"subtitle2",sx:{color:n?"success.dark":"error.dark",mb:1},children:n?"\u2705 Votre r\xe9ponse (correcte)":"\u274c Votre r\xe9ponse"}),(0,J.jsx)(Te,{variant:"body1",sx:{fontWeight:"bold"},children:r||"(non r\xe9pondu)"})]})}),!n&&(0,J.jsx)(Be,{item:!0,xs:12,md:6,children:(0,J.jsxs)(ce,{sx:{p:2,bgcolor:"success.light",borderRadius:1},children:[(0,J.jsx)(Te,{variant:"subtitle2",sx:{color:"success.dark",mb:1},children:"\u2705 R\xe9ponse correcte"}),(0,J.jsx)(Te,{variant:"body1",sx:{fontWeight:"bold"},children:o}),Array.isArray(e.correctAnswer)&&e.correctAnswer.length>1&&(0,J.jsxs)(Te,{variant:"caption",display:"block",sx:{mt:1},children:["Autres r\xe9ponses accept\xe9es : ",e.correctAnswer.slice(1).join(", ")]})]})})]})}),(0,J.jsxs)(ce,{sx:{p:3,bgcolor:"primary.light",borderRadius:2},children:[(0,J.jsx)(Te,{variant:"h6",sx:{color:"white",mb:2},children:"\ud83d\udcda Explication grammaticale"}),(0,J.jsx)(ce,{sx:{p:2,bgcolor:"white",borderRadius:1},children:Ip(e)})]})]})},e.id)}),(0,J.jsxs)(ce,{sx:{display:"flex",gap:2,justifyContent:"center",mt:4},children:[(0,J.jsx)(pn,{variant:"outlined",onClick:()=>g(!1),children:"Retour au r\xe9sultat"}),(0,J.jsx)(pn,{variant:"contained",onClick:r,children:"Terminer et continuer"})]})]}):d&&p?(0,J.jsx)(ce,{sx:{p:3,maxWidth:800,mx:"auto"},children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{sx:{textAlign:"center",py:6},children:[(0,J.jsx)(ca,{sx:{fontSize:80,color:"success.main",mb:3}}),(0,J.jsx)(Te,{variant:"h4",gutterBottom:!0,children:"\xc9valuation compl\xe8te termin\xe9e !"}),(0,J.jsxs)(ce,{sx:{my:4,p:3,bgcolor:"primary.light",borderRadius:2},children:[(0,J.jsx)(Te,{variant:"h5",sx:{color:"white",mb:1},children:"Votre niveau estim\xe9 :"}),(0,J.jsx)(Te,{variant:"h2",sx:{color:"white",fontWeight:"bold"},children:p})]}),(0,J.jsxs)(Ns,{severity:"info",sx:{mb:3,textAlign:"left"},children:[(0,J.jsx)(Te,{variant:"body2",sx:{mb:2},children:(0,J.jsx)("strong",{children:"R\xe9sultats d\xe9taill\xe9s :"})}),(0,J.jsxs)(ce,{sx:{display:"flex",gap:2,justifyContent:"space-around"},children:[(0,J.jsxs)(ce,{children:[(0,J.jsx)(Ap,{sx:{verticalAlign:"middle",mr:.5}}),(0,J.jsxs)(Te,{variant:"caption",children:["Listening: ",Cp.filter(e=>{var t;return"listening"===e.section&&(null===(t=c[e.id])||void 0===t?void 0:t.toLowerCase())===(Array.isArray(e.correctAnswer)?e.correctAnswer[0]:e.correctAnswer).toLowerCase()}).length,"/6"]})]}),(0,J.jsxs)(ce,{children:[(0,J.jsx)(oa,{sx:{verticalAlign:"middle",mr:.5}}),(0,J.jsxs)(Te,{variant:"caption",children:["Reading: ",Cp.filter(e=>{var t;return"reading"===e.section&&(null===(t=c[e.id])||void 0===t?void 0:t.toLowerCase())===(Array.isArray(e.correctAnswer)?e.correctAnswer[0]:e.correctAnswer).toLowerCase()}).length,"/6"]})]}),(0,J.jsxs)(ce,{children:[(0,J.jsx)(Ep,{sx:{verticalAlign:"middle",mr:.5}}),(0,J.jsxs)(Te,{variant:"caption",children:["Writing: ",Cp.filter(e=>"writing"===e.section&&Array.isArray(e.correctAnswer)&&e.correctAnswer.some(t=>{var n;return(null===(n=c[e.id])||void 0===n?void 0:n.toLowerCase().trim())===t.toLowerCase()})).length,"/6"]})]})]})]}),(0,J.jsx)(Te,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Les exercices seront adapt\xe9s \xe0 votre niveau. Vous pouvez commencer d\xe8s maintenant !"}),(0,J.jsxs)(ce,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[(0,J.jsx)(pn,{variant:"outlined",size:"large",onClick:()=>g(!0),children:"\ud83d\udcdd Voir la correction d\xe9taill\xe9e"}),(0,J.jsx)(pn,{variant:"contained",size:"large",onClick:r,children:"Commencer les exercices"})]})]})})}):(0,J.jsxs)(ce,{sx:{p:3,maxWidth:1e3,mx:"auto"},children:[(0,J.jsx)(Te,{variant:"h4",gutterBottom:!0,sx:{mb:2},children:"\xc9valuation compl\xe8te de niveau"}),(0,J.jsxs)(Ns,{severity:"info",sx:{mb:3},children:["Cette \xe9valuation comporte 18 questions r\xe9parties en 3 sections :",(0,J.jsx)("strong",{children:" Listening (compr\xe9hension orale)"}),",",(0,J.jsx)("strong",{children:" Reading (compr\xe9hension \xe9crite)"}),", et",(0,J.jsx)("strong",{children:" Writing (expression \xe9crite)"}),"."]}),(0,J.jsxs)(ce,{sx:{mb:3},children:[(0,J.jsxs)(ce,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",children:["Progression globale : ",C,"/",E," questions"]}),(0,J.jsxs)(Te,{variant:"body2",color:"primary",children:[Math.round(I),"%"]})]}),(0,J.jsx)(na,{variant:"determinate",value:I,sx:{height:8,borderRadius:1}})]}),(0,J.jsxs)(ce,{sx:{display:"flex",gap:2,mb:4},children:[(0,J.jsx)(ms,{icon:(0,J.jsx)(Ap,{}),label:"Listening",color:"listening"===o?"primary":"default",variant:"listening"===o?"filled":"outlined"}),(0,J.jsx)(ms,{icon:(0,J.jsx)(oa,{}),label:"Reading",color:"reading"===o?"primary":"default",variant:"reading"===o?"filled":"outlined"}),(0,J.jsx)(ms,{icon:(0,J.jsx)(Ep,{}),label:"Writing",color:"writing"===o?"primary":"default",variant:"writing"===o?"filled":"outlined"})]}),(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{mb:3},children:[(0,J.jsxs)(Te,{variant:"overline",color:"text.secondary",children:[o.toUpperCase()," - Question ",a+1," / ",k.length]}),"listening"===o&&A.audioText&&(0,J.jsxs)(ce,{sx:{my:2,p:3,bgcolor:"primary.light",borderRadius:2,border:2,borderColor:"primary.main"},children:[!S&&(0,J.jsx)(Ns,{severity:"warning",sx:{mb:2},children:"Votre navigateur ne supporte pas la synth\xe8se vocale. Veuillez utiliser Chrome, Edge ou Safari."}),(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,J.jsx)(yi,{sx:{fontSize:40,color:"white"}}),(0,J.jsx)(Te,{variant:"h6",sx:{color:"white",flexGrow:1},children:"Section d'\xe9coute"}),(0,J.jsx)(Ih,{title:w?"Arr\xeater":"\xc9couter",children:(0,J.jsx)("span",{children:(0,J.jsx)(In,{onClick:()=>{return e=A.audioText,void(w?x():b(e,"en-US"));var e},disabled:!S,sx:{bgcolor:"white","&:hover":{bgcolor:"grey.200"},width:60,height:60},children:w?(0,J.jsx)(ip,{sx:{fontSize:30}}):(0,J.jsx)(sp,{sx:{fontSize:30}})})})})]}),(0,J.jsx)(ce,{sx:{p:2,bgcolor:"white",borderRadius:1},children:(0,J.jsxs)(Te,{variant:"body1",sx:{fontStyle:"italic",color:"text.primary"},children:['"',A.audioText,'"']})}),(0,J.jsx)(Te,{variant:"caption",sx:{display:"block",mt:1,color:"white"},children:"\ud83d\udca1 Cliquez sur le bouton lecture pour entendre le texte en anglais"})]}),"reading"===o&&A.readingText&&(0,J.jsx)(ce,{sx:{my:2,p:3,bgcolor:"grey.50",borderRadius:2,border:1,borderColor:"grey.300"},children:(0,J.jsx)(Te,{variant:"body1",sx:{lineHeight:1.8},children:A.readingText})}),(0,J.jsx)(Te,{variant:"h6",sx:{mt:2,mb:3},children:A.question}),"writing"===o?(0,J.jsx)(zu,{fullWidth:!0,variant:"outlined",placeholder:"Entrez votre r\xe9ponse ici...",value:c[A.id]||"",onChange:e=>T(A.id,e.target.value),multiline:!1,sx:{mb:2}}):(0,J.jsx)(ba,{component:"fieldset",fullWidth:!0,children:(0,J.jsx)(Hc,{value:c[A.id]||"",onChange:e=>T(A.id,e.target.value),children:null===(n=A.options)||void 0===n?void 0:n.map((e,t)=>(0,J.jsx)(su,{value:e,control:(0,J.jsx)(Eu,{}),label:e,sx:{p:2,mb:1,border:1,borderColor:"grey.300",borderRadius:2,"&:hover":{bgcolor:"grey.50"}}},t))})})]}),(0,J.jsxs)(ce,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[(0,J.jsx)(pn,{onClick:()=>{a>0?l(e=>e-1):"reading"===o?(s("listening"),l(Cp.filter(e=>"listening"===e.section).length-1)):"writing"===o&&(s("reading"),l(Cp.filter(e=>"reading"===e.section).length-1))},disabled:"listening"===o&&0===a,children:"Pr\xe9c\xe9dent"}),(0,J.jsx)(pn,{variant:"contained",onClick:()=>{a<k.length-1?l(e=>e+1):"listening"===o?(s("reading"),l(0)):"reading"===o?(s("writing"),l(0)):j()},disabled:!_,children:"writing"===o&&a===k.length-1?"Terminer l'\xe9valuation":"Suivant"})]})]})})]})};function jp(e){return oe("MuiDialog",e)}const _p=ie("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const Rp=t.createContext({}),Pp=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Np=me(hr,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Op=me(Tr,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Lp=me("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t["scroll".concat(Se(n.scroll))]]}})(e=>{let{ownerState:t}=e;return(0,s.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})}),Mp=me(Ge,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["scrollPaper".concat(Se(n.scroll))],t["paperWidth".concat(Se(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(_p.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit),["&.".concat(_p.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(_p.paperScrollBody)]:{margin:0,maxWidth:"100%"}})}),Dp=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiDialog"}),o=_e(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":c,BackdropComponent:u,BackdropProps:d,children:h,className:p,disableEscapeKeyDown:f=!1,fullScreen:m=!1,fullWidth:g=!1,maxWidth:v="sm",onBackdropClick:y,onClick:b,onClose:x,open:w,PaperComponent:S=Ge,PaperProps:k={},scroll:A="paper",TransitionComponent:E=lr,transitionDuration:C=i,TransitionProps:I}=r,T=(0,a.A)(r,Pp),j=(0,s.A)({},r,{disableEscapeKeyDown:f,fullScreen:m,fullWidth:g,maxWidth:v,scroll:A}),_=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e;return ue({root:["root"],container:["container","scroll".concat(Se(n))],paper:["paper","paperScroll".concat(Se(n)),"paperWidth".concat(Se(String(r))),o&&"paperFullWidth",i&&"paperFullScreen"]},jp,t)})(j),R=t.useRef(),P=Qo(c),N=t.useMemo(()=>({titleId:P}),[P]);return(0,J.jsx)(Op,(0,s.A)({className:H(_.root,p),closeAfterTransition:!0,components:{Backdrop:Np},componentsProps:{backdrop:(0,s.A)({transitionDuration:C,as:u},d)},disableEscapeKeyDown:f,onClose:x,open:w,ref:n,onClick:e=>{b&&b(e),R.current&&(R.current=null,y&&y(e),x&&x(e,"backdropClick"))},ownerState:j},T,{children:(0,J.jsx)(E,(0,s.A)({appear:!0,in:w,timeout:C,role:"presentation"},I,{children:(0,J.jsx)(Lp,{className:H(_.container),onMouseDown:e=>{R.current=e.target===e.currentTarget},ownerState:j,children:(0,J.jsx)(Mp,(0,s.A)({as:S,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":P},k,{className:H(_.paper,k.className),ownerState:j,children:(0,J.jsx)(Rp.Provider,{value:N,children:h})}))})}))}))}),Fp=Dp;function zp(e){return oe("MuiDialogTitle",e)}const Vp=ie("MuiDialogTitle",["root"]),Up=["className","id"],Bp=me(Te,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),qp=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiDialogTitle"}),{className:o,id:i}=r,l=(0,a.A)(r,Up),c=r,u=(e=>{const{classes:t}=e;return ue({root:["root"]},zp,t)})(c),{titleId:d=i}=t.useContext(Rp);return(0,J.jsx)(Bp,(0,s.A)({component:"h2",className:H(u.root,o),ownerState:c,ref:n,variant:"h6",id:null!=i?i:d},l))});function Wp(e){return oe("MuiDialogContent",e)}ie("MuiDialogContent",["root","dividers"]);const Hp=["className","dividers"],Kp=me("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:{[".".concat(Vp.root," + &")]:{paddingTop:0}})}),Gp=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiDialogContent"}),{className:r,dividers:o=!1}=n,i=(0,a.A)(n,Hp),l=(0,s.A)({},n,{dividers:o}),c=(e=>{const{classes:t,dividers:n}=e;return ue({root:["root",n&&"dividers"]},Wp,t)})(l);return(0,J.jsx)(Kp,(0,s.A)({className:H(c.root,r),ownerState:l,ref:t},i))});function Qp(e){return oe("MuiDialogActions",e)}ie("MuiDialogActions",["root","spacing"]);const Xp=["className","disableSpacing"],$p=me("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(e=>{let{ownerState:t}=e;return(0,s.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})}),Yp=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:o=!1}=n,i=(0,a.A)(n,Xp),l=(0,s.A)({},n,{disableSpacing:o}),c=(e=>{const{classes:t,disableSpacing:n}=e;return ue({root:["root",!n&&"spacing"]},Qp,t)})(l);return(0,J.jsx)($p,(0,s.A)({className:H(c.root,r),ownerState:l,ref:t},i))}),Jp=hi((0,J.jsx)("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline"),Zp=hi((0,J.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),ef=hi((0,J.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove"),tf=e=>{let{onNavigate:n}=e;const{user:r,responses:o}=as(),[s,a]=(0,t.useState)(0),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[h,p]=(0,t.useState)(!0),[f,m]=(0,t.useState)([]),[g,v]=(0,t.useState)(new Set),y=(e,t)=>{const n=t.filter(t=>t.exerciseLevel===e);if(0===n.length)return 0;const r=n.filter(e=>e.isCorrect).length;return Math.round(r/n.length*100)},b=(0,t.useMemo)(()=>{if(!r)return[];const e=(e=>{if(0===e.length)return{overallScore:0,grammarScore:0,vocabularyScore:0,weakAreas:[],strongAreas:[],recommendedExercises:[]};const t=e.filter(e=>e.isCorrect).length,n=Math.round(t/e.length*100),r=e.filter(e=>!e.isCorrect),o=[];r.length>.3*e.length&&o.push("Grammaire g\xe9n\xe9rale"),r.length>.4*e.length&&o.push("Vocabulaire technique"),r.length>.5*e.length&&o.push("Compr\xe9hension globale");const i=[];return n>=80&&i.push("Compr\xe9hension globale"),n>=90&&i.push("Ma\xeetrise technique"),{overallScore:n,grammarScore:n,vocabularyScore:n,weakAreas:o,strongAreas:i,recommendedExercises:["qcm_001","cloze_001"]}})(o);return e.weakAreas.map(e=>({area:e,severity:"moderate",occurrences:o.filter(e=>!e.isCorrect).length,recommendedExercises:10}))},[r,o,s]),x=(0,t.useMemo)(()=>{if(!r)return[];const e=[],t=r.currentLevel,n=r.targetLevel;if(e.push({id:"consolidate",title:"Consolider le niveau ".concat(t),description:"Ma\xeetriser les fondamentaux de votre niveau actuel",priority:"high",targetLevel:t,estimatedWeeks:2,progress:y(t,o),exerciseTypes:["qcm","cloze"],domains:["ai","angular","devops"],completed:!1}),b.length>0&&e.push({id:"weaknesses",title:"Am\xe9liorer les points faibles",description:"Travailler sur : ".concat(b.map(e=>e.area).join(", ")),priority:"high",targetLevel:t,estimatedWeeks:3,progress:0,exerciseTypes:["cloze","writing"],domains:["ai","devops"],completed:!1}),"C1"!==t){const n=(e=>{const t=["A2","B1","B2","C1"],n=t.indexOf(e);return t[Math.min(n+1,t.length-1)]})(t);e.push({id:"next_level",title:"Progresser vers le niveau ".concat(n),description:"Introduction aux concepts du niveau sup\xe9rieur",priority:"medium",targetLevel:n,estimatedWeeks:4,progress:0,exerciseTypes:["qcm","reading"],domains:["ai","cybersecurity"],completed:!1})}return e.push({id:"exam_prep",title:"Pr\xe9paration TOEIC/TOEFL",description:"Entra\xeenement cibl\xe9 pour le niveau ".concat(n),priority:"low",targetLevel:n,estimatedWeeks:6,progress:0,exerciseTypes:["listening","reading"],domains:["ai","devops","cybersecurity"],completed:!1}),e.filter(e=>!g.has(e.id)).map(e=>f.find(t=>t.id===e.id)||e)},[r,o,s,b,f,g]),w=(0,t.useCallback)(e=>{console.log("\ud83d\udd04 Clic sur 'Commencer' pour l'objectif:",e.id,e.title),console.log("\ud83d\udccb Objectif complet:",e),e.completed?console.warn("\u26a0\ufe0f Objectif d\xe9j\xe0 compl\xe9t\xe9"):n?(console.log("\u2705 Navigation vers la vue exercices avec filtres:",{level:e.targetLevel,types:e.exerciseTypes,domains:e.domains}),localStorage.setItem("goalFilters",JSON.stringify({level:e.targetLevel,types:e.exerciseTypes,domains:e.domains,goalId:e.id})),n("exercises")):(console.error("\u274c Erreur: onNavigate non d\xe9fini"),window.location.hash="#exercises")},[n]),S=e=>{switch(e){case"critical":return"error";case"moderate":return"warning";case"minor":return"info";default:return"default"}},k=e=>{switch(e){case"high":return"error";case"medium":return"warning";case"low":return"info";default:return"default"}};return r?(0,J.jsxs)(ce,{sx:{p:3},children:[(0,J.jsxs)(ce,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,J.jsx)(Te,{variant:"h4",children:"Programme d'apprentissage adaptatif"}),(0,J.jsxs)(ce,{sx:{display:"flex",gap:2},children:[(0,J.jsx)(Ih,{title:"R\xe9actualiser le programme",children:(0,J.jsx)(pn,{startIcon:(0,J.jsx)(ra,{}),onClick:()=>{a(e=>e+1),m([]),v(new Set)},variant:"outlined",children:"Actualiser"})}),(0,J.jsx)(ms,{label:h?"Adaptation auto : ON":"Adaptation auto : OFF",color:h?"success":"default",onClick:()=>p(!h),sx:{cursor:"pointer"}})]})]}),(0,J.jsx)(Ns,{severity:"info",sx:{mb:3},children:(0,J.jsx)(Te,{variant:"body2",children:"Ce programme s'adapte automatiquement en fonction de vos r\xe9ponses aux exercices. Vous pouvez le modifier \xe0 tout moment en cliquant sur les boutons d'\xe9dition."})}),(0,J.jsx)(Ye,{sx:{mb:3,bgcolor:"primary.light"},children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,J.jsx)(Jp,{sx:{fontSize:40,color:"white"}}),(0,J.jsxs)(ce,{sx:{flexGrow:1},children:[(0,J.jsxs)(Te,{variant:"h6",sx:{color:"white"},children:["Niveau actuel : ",r.currentLevel]}),(0,J.jsxs)(Te,{variant:"body2",sx:{color:"white",opacity:.9},children:["Objectif : ",r.targetLevel," \u2022 ",o.length," exercices compl\xe9t\xe9s"]})]})]}),(0,J.jsx)(na,{variant:"determinate",value:y(r.currentLevel,o),sx:{height:8,borderRadius:1,bgcolor:"rgba(255,255,255,0.3)"}})]})}),b.length>0&&(0,J.jsx)(Ye,{sx:{mb:3},children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(Te,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,J.jsx)(Zp,{color:"warning"}),"Points \xe0 am\xe9liorer"]}),(0,J.jsx)(Be,{container:!0,spacing:2,children:b.map((e,t)=>(0,J.jsx)(Be,{item:!0,xs:12,sm:6,md:4,children:(0,J.jsx)(Ye,{variant:"outlined",children:(0,J.jsxs)(tt,{children:[(0,J.jsx)(ms,{label:e.severity,color:S(e.severity),size:"small",sx:{mb:1}}),(0,J.jsx)(Te,{variant:"subtitle2",gutterBottom:!0,children:e.area}),(0,J.jsxs)(Te,{variant:"caption",color:"text.secondary",children:[e.occurrences," erreurs \u2022 ",e.recommendedExercises," exercices recommand\xe9s"]})]})})},t))})]})}),(0,J.jsx)(Te,{variant:"h5",gutterBottom:!0,sx:{mb:2},children:"Vos objectifs d'apprentissage"}),(0,J.jsx)(Be,{container:!0,spacing:3,children:x.map(e=>(0,J.jsx)(Be,{item:!0,xs:12,md:6,children:(0,J.jsx)(Ye,{elevation:3,sx:{height:"100%"},children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,J.jsx)(ms,{label:e.priority,color:k(e.priority),size:"small"}),(0,J.jsxs)(ce,{children:[(0,J.jsx)(In,{size:"small",onClick:()=>(e=>{d(e),c(!0)})(e),children:(0,J.jsx)(Ep,{fontSize:"small"})}),(0,J.jsx)(In,{size:"small",onClick:()=>{return t=e.id,void v(e=>new Set(e).add(t));var t},children:(0,J.jsx)(ef,{fontSize:"small"})})]})]}),(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,children:e.title}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),(0,J.jsxs)(ce,{sx:{mb:2},children:[(0,J.jsxs)(ce,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,J.jsx)(Te,{variant:"caption",color:"text.secondary",children:"Progression"}),(0,J.jsxs)(Te,{variant:"caption",color:"primary",children:[e.progress,"%"]})]}),(0,J.jsx)(na,{variant:"determinate",value:e.progress,sx:{height:6,borderRadius:1}})]}),(0,J.jsxs)(ce,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:[(0,J.jsx)(ms,{label:"Niveau ".concat(e.targetLevel),size:"small",variant:"outlined"}),(0,J.jsx)(ms,{label:"~".concat(e.estimatedWeeks," semaines"),size:"small",variant:"outlined"})]}),(0,J.jsx)(ce,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:2},children:e.exerciseTypes.map((e,t)=>(0,J.jsx)(ms,{label:e,size:"small"},t))}),(0,J.jsx)(pn,{variant:"contained",fullWidth:!0,startIcon:(0,J.jsx)(sp,{}),disabled:e.completed,type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("\ud83d\uddb1\ufe0f \xc9V\xc9NEMENT CLIC D\xc9TECT\xc9 pour l'objectif:",e.id,e.title),w(e)},onMouseDown:t=>{t.stopPropagation(),console.log("\ud83d\uddb1\ufe0f MouseDown d\xe9tect\xe9 pour l'objectif:",e.id)},sx:{cursor:e.completed?"not-allowed":"pointer","&:hover":{backgroundColor:e.completed?"action.disabled":"primary.dark"}},children:e.completed?"Compl\xe9t\xe9":"Commencer"})]})})},e.id))}),(0,J.jsxs)(Fp,{open:l,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[(0,J.jsx)(qp,{children:"Modifier l'objectif"}),(0,J.jsx)(Gp,{children:u&&(0,J.jsxs)(ce,{sx:{pt:2,display:"flex",flexDirection:"column",gap:2},children:[(0,J.jsx)(zu,{label:"Titre",fullWidth:!0,value:u.title,onChange:e=>d((0,i.A)((0,i.A)({},u),{},{title:e.target.value}))}),(0,J.jsx)(zu,{label:"Description",fullWidth:!0,multiline:!0,rows:3,value:u.description,onChange:e=>d((0,i.A)((0,i.A)({},u),{},{description:e.target.value}))}),(0,J.jsxs)(ba,{fullWidth:!0,children:[(0,J.jsx)(Ra,{children:"Priorit\xe9"}),(0,J.jsxs)(jc,{value:u.priority,label:"Priorit\xe9",onChange:e=>d((0,i.A)((0,i.A)({},u),{},{priority:e.target.value})),children:[(0,J.jsx)(Mc,{value:"high",children:"Haute"}),(0,J.jsx)(Mc,{value:"medium",children:"Moyenne"}),(0,J.jsx)(Mc,{value:"low",children:"Basse"})]})]}),(0,J.jsx)(zu,{label:"Dur\xe9e estim\xe9e (semaines)",type:"number",fullWidth:!0,value:u.estimatedWeeks,onChange:e=>d((0,i.A)((0,i.A)({},u),{},{estimatedWeeks:parseInt(e.target.value)||0}))})]})}),(0,J.jsxs)(Yp,{children:[(0,J.jsx)(pn,{onClick:()=>c(!1),children:"Annuler"}),(0,J.jsx)(pn,{onClick:()=>{u&&(m(e=>e.find(e=>e.id===u.id)?e.map(e=>e.id===u.id?u:e):[...e,u]),c(!1),d(null))},variant:"contained",children:"Enregistrer"})]})]})]}):(0,J.jsx)(Ns,{severity:"info",children:"Veuillez d'abord compl\xe9ter l'\xe9valuation de niveau."})};function nf(e){return oe("MuiInputAdornment",e)}const rf=ie("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var of;const sf=["children","className","component","disablePointerEvents","disableTypography","position","variant"],af=me("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat(Se(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{["&.".concat(rf.positionStart,"&:not(.").concat(rf.hiddenLabel,")")]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})}),lf=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiInputAdornment"}),{children:o,className:i,component:l="div",disablePointerEvents:c=!1,disableTypography:u=!1,position:d,variant:h}=r,p=(0,a.A)(r,sf),f=wa()||{};let m=h;h&&f.variant,f&&!m&&(m=f.variant);const g=(0,s.A)({},r,{hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:c,position:d,variant:m}),v=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:s}=e;return ue({root:["root",n&&"disablePointerEvents",o&&"position".concat(Se(o)),s,r&&"hiddenLabel",i&&"size".concat(Se(i))]},nf,t)})(g);return(0,J.jsx)(ma.Provider,{value:null,children:(0,J.jsx)(af,(0,s.A)({as:l,ownerState:g,className:H(v.root,i),ref:n},p,{children:"string"!==typeof o||u?(0,J.jsxs)(t.Fragment,{children:["start"===d?of||(of=(0,J.jsx)("span",{className:"notranslate",children:"\u200b"})):null,o]}):(0,J.jsx)(Te,{color:"text.secondary",children:o})}))})});function cf(e){return oe("MuiCircularProgress",e)}ie("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var uf,df,hf,pf;const ff=["className","color","disableShrink","size","style","thickness","value","variant"];let mf,gf,vf,yf;const bf=44,xf=(0,Pt.i7)(mf||(mf=uf||(uf=St(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),wf=(0,Pt.i7)(gf||(gf=df||(df=St(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),Sf=me("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat(Se(n.color))]]}})(e=>{let{ownerState:t,theme:n}=e;return(0,s.A)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,Pt.AH)(vf||(vf=hf||(hf=St(["\n      animation: "," 1.4s linear infinite;\n    "]))),xf)}),kf=me("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Af=me("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat(Se(n.variant))],n.disableShrink&&t.circleDisableShrink]}})(e=>{let{ownerState:t,theme:n}=e;return(0,s.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,Pt.AH)(yf||(yf=pf||(pf=St(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),wf)}),Ef=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:i=!1,size:l=40,style:c,thickness:u=3.6,value:d=0,variant:h="indeterminate"}=n,p=(0,a.A)(n,ff),f=(0,s.A)({},n,{color:o,disableShrink:i,size:l,thickness:u,value:d,variant:h}),m=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e;return ue({root:["root",n,"color".concat(Se(r))],svg:["svg"],circle:["circle","circle".concat(Se(n)),o&&"circleDisableShrink"]},cf,t)})(f),g={},v={},y={};if("determinate"===h){const e=2*Math.PI*((bf-u)/2);g.strokeDasharray=e.toFixed(3),y["aria-valuenow"]=Math.round(d),g.strokeDashoffset="".concat(((100-d)/100*e).toFixed(3),"px"),v.transform="rotate(-90deg)"}return(0,J.jsx)(Sf,(0,s.A)({className:H(m.root,r),style:(0,s.A)({width:l,height:l},v,c),ownerState:f,ref:t,role:"progressbar"},y,p,{children:(0,J.jsx)(kf,{className:m.svg,ownerState:f,viewBox:"".concat(22," ").concat(22," ").concat(bf," ").concat(bf),children:(0,J.jsx)(Af,{className:m.circle,style:g,ownerState:f,cx:bf,cy:bf,r:(bf-u)/2,fill:"none",strokeWidth:u})})}))}),Cf=Ef;function If(e){return oe("MuiLink",e)}const Tf=ie("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var jf=n(7162);const _f={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Rf=e=>{let{theme:t,ownerState:n}=e;const r=(e=>_f[e]||e)(n.color),o=(0,jf.Yn)(t,"palette.".concat(r),!1)||n.color,i=(0,jf.Yn)(t,"palette.".concat(r,"Channel"));return"vars"in t&&i?"rgba(".concat(i," / 0.4)"):(0,f.X4)(o,.4)},Pf=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],Nf=me(Te,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["underline".concat(Se(n.underline))],"button"===n.component&&t.button]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,s.A)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:Rf({theme:t,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(Tf.focusVisible)]:{outline:"auto"}})}),Of=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiLink"}),{className:o,color:i="primary",component:l="a",onBlur:c,onFocus:u,TypographyClasses:d,underline:h="always",variant:p="inherit",sx:f}=r,m=(0,a.A)(r,Pf),{isFocusVisibleRef:g,onBlur:v,onFocus:y,ref:b}=wt(),[x,w]=t.useState(!1),S=ot(n,b),k=(0,s.A)({},r,{color:i,component:l,focusVisible:x,underline:h,variant:p}),A=(e=>{const{classes:t,component:n,focusVisible:r,underline:o}=e;return ue({root:["root","underline".concat(Se(o)),"button"===n&&"button",r&&"focusVisible"]},If,t)})(k);return(0,J.jsx)(Nf,(0,s.A)({color:i,className:H(A.root,o),classes:d,component:l,onBlur:e=>{v(e),!1===g.current&&w(!1),c&&c(e)},onFocus:e=>{y(e),!0===g.current&&w(!0),u&&u(e)},ref:S,ownerState:k,variant:p,sx:[...Object.keys(_f).includes(i)?[]:[{color:i}],...Array.isArray(f)?f:[f]]},m))}),Lf=hi((0,J.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),Mf=hi((0,J.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock"),Df=hi((0,J.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),Ff=hi((0,J.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var zf=n(3364);const Vf=e=>{let{onSuccess:n,onSwitchToSignup:r,onSwitchToForgotPassword:o}=e;const[i,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(""),[p,f]=(0,t.useState)(!1);return(0,J.jsx)(ce,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100"},children:(0,J.jsx)(Ye,{sx:{maxWidth:450,width:"100%",m:2},children:(0,J.jsxs)(tt,{sx:{p:4},children:[(0,J.jsx)(Te,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3,fontWeight:"bold"},children:"\ud83c\udf93 AI English Trainer"}),(0,J.jsx)(Te,{variant:"body1",color:"text.secondary",align:"center",sx:{mb:3},children:"Connectez-vous pour acc\xe9der \xe0 votre programme d'apprentissage"}),d&&(0,J.jsx)(Ns,{severity:"error",sx:{mb:2},children:d}),(0,J.jsxs)(ce,{component:"form",onSubmit:async e=>{e.preventDefault(),h(""),f(!0);try{const e=await(0,zf.Lx)(i,a);if(e.success&&e.user){var t;const r=e.user,o={id:r.uid,email:r.email,name:r.displayName||(null===(t=r.email)||void 0===t?void 0:t.split("@")[0])||"Utilisateur",emailVerified:r.emailVerified,currentLevel:"B1",targetLevel:"C1",createdAt:(new Date).toISOString(),lastLogin:(new Date).toISOString()},i=await r.getIdToken();localStorage.setItem("token",i),localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("firebaseUser",JSON.stringify({uid:r.uid,email:r.email,displayName:r.displayName})),n(i,o)}else h(e.message||"Erreur de connexion")}catch(r){console.error("Erreur de connexion Firebase:",r);let e="Erreur de connexion. V\xe9rifiez vos identifiants.";if(r.code)switch(r.code){case"auth/user-not-found":e="Aucun compte trouv\xe9 avec cet email.";break;case"auth/wrong-password":e="Mot de passe incorrect.";break;case"auth/invalid-email":e="Adresse email invalide.";break;case"auth/user-disabled":e="Ce compte a \xe9t\xe9 d\xe9sactiv\xe9.";break;case"auth/too-many-requests":e="Trop de tentatives. Veuillez r\xe9essayer plus tard.";break;case"auth/network-request-failed":e="Erreur r\xe9seau. V\xe9rifiez votre connexion internet.";break;default:e=r.message||"Erreur de connexion. Veuillez r\xe9essayer."}else r.message&&(e=r.message);h(e)}finally{f(!1)}},children:[(0,J.jsx)(zu,{fullWidth:!0,label:"Email",type:"email",value:i,onChange:e=>s(e.target.value),margin:"normal",required:!0,autoComplete:"email",InputProps:{startAdornment:(0,J.jsx)(lf,{position:"start",children:(0,J.jsx)(Lf,{})})}}),(0,J.jsx)(zu,{fullWidth:!0,label:"Mot de passe",type:c?"text":"password",value:a,onChange:e=>l(e.target.value),margin:"normal",required:!0,autoComplete:"current-password",InputProps:{startAdornment:(0,J.jsx)(lf,{position:"start",children:(0,J.jsx)(Mf,{})}),endAdornment:(0,J.jsx)(lf,{position:"end",children:(0,J.jsx)(In,{onClick:()=>u(!c),edge:"end",children:c?(0,J.jsx)(Df,{}):(0,J.jsx)(Ff,{})})})}}),(0,J.jsx)(pn,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2,py:1.5},disabled:p,children:p?(0,J.jsx)(Cf,{size:24}):"Se connecter"}),(0,J.jsxs)(ce,{sx:{textAlign:"center",mt:2},children:[(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Pas encore de compte ?"," ",(0,J.jsx)(Of,{component:"button",variant:"body2",onClick:r,sx:{cursor:"pointer"},children:"S'inscrire"})]}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",children:(0,J.jsx)(Of,{component:"button",variant:"body2",onClick:o,sx:{cursor:"pointer"},children:"Mot de passe oubli\xe9 ?"})})]})]})]})})})},Uf=hi((0,J.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),Bf=e=>{let{email:t,onSwitchToLogin:n,onResendEmail:r}=e;return(0,J.jsx)(ce,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,J.jsx)(Ye,{sx:{maxWidth:600,width:"100%",m:2},children:(0,J.jsxs)(tt,{sx:{p:4},children:[(0,J.jsxs)(ce,{sx:{textAlign:"center",mb:3},children:[(0,J.jsx)(Lf,{sx:{fontSize:64,color:"primary.main",mb:2}}),(0,J.jsx)(Te,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold"},children:"\ud83d\udce7 V\xe9rifiez votre email"})]}),(0,J.jsxs)(Ns,{severity:"info",sx:{mb:3},children:[(0,J.jsx)(Te,{variant:"body1",gutterBottom:!0,children:(0,J.jsx)("strong",{children:"Inscription r\xe9ussie !"})}),(0,J.jsxs)(Te,{variant:"body2",children:["Un email de v\xe9rification a \xe9t\xe9 envoy\xe9 \xe0 : ",(0,J.jsx)("strong",{children:t})]})]}),(0,J.jsxs)(ce,{sx:{mb:3},children:[(0,J.jsx)(Te,{variant:"body1",paragraph:!0,children:"Pour activer votre compte, veuillez :"}),(0,J.jsxs)(ce,{component:"ol",sx:{pl:3},children:[(0,J.jsx)("li",{children:(0,J.jsx)(Te,{variant:"body2",paragraph:!0,children:"Ouvrir votre bo\xeete de r\xe9ception (et le dossier spam si n\xe9cessaire)"})}),(0,J.jsx)("li",{children:(0,J.jsx)(Te,{variant:"body2",paragraph:!0,children:"Cliquer sur le lien de v\xe9rification dans l'email"})}),(0,J.jsx)("li",{children:(0,J.jsx)(Te,{variant:"body2",paragraph:!0,children:"Vous serez automatiquement connect\xe9 apr\xe8s v\xe9rification"})})]})]}),r&&(0,J.jsxs)(ce,{sx:{mb:3,textAlign:"center"},children:[(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Vous n'avez pas re\xe7u l'email ?"}),(0,J.jsx)(pn,{variant:"outlined",onClick:r,sx:{mb:2},children:"Renvoyer l'email de v\xe9rification"})]}),(0,J.jsxs)(ce,{sx:{textAlign:"center",mt:3},children:[(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"D\xe9j\xe0 v\xe9rifi\xe9 votre email ?"}),(0,J.jsx)(pn,{variant:"text",onClick:n,sx:{textTransform:"none"},children:"Me connecter"})]}),(0,J.jsx)(ce,{sx:{mt:3,textAlign:"center"},children:(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",children:[(0,J.jsx)("strong",{children:"Note :"})," Le lien de v\xe9rification expire dans 24 heures."]})})]})})})},qf=e=>{let{onSuccess:n,onSwitchToLogin:r}=e;const[o,i]=(0,t.useState)(""),[s,a]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),[f,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(""),[x,w]=(0,t.useState)(!1),[S,k]=(0,t.useState)(!1),[A,E]=(0,t.useState)("");t.useEffect(()=>{y&&console.log("\u2705 Erreur dans le state:",y)},[y]);return S?(0,J.jsx)(Bf,{email:A||l,onSwitchToLogin:r,onResendEmail:async()=>{console.log("Renvoyer l'email de v\xe9rification \xe0:",A||l)}}):(0,J.jsx)(ce,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,J.jsx)(Ye,{sx:{maxWidth:600,width:"100%",m:2},children:(0,J.jsxs)(tt,{sx:{p:4},children:[(0,J.jsx)(Te,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3,fontWeight:"bold"},children:"\ud83c\udf93 Cr\xe9er un compte"}),(0,J.jsx)(Te,{variant:"body1",color:"text.secondary",align:"center",sx:{mb:3},children:"Commencez votre parcours vers l'anglais C1"}),y&&(0,J.jsx)(ce,{children:(0,J.jsxs)(Ns,{severity:"error",sx:{mb:2,width:"100%",visibility:"visible",opacity:1},onClose:()=>b(""),children:[(0,J.jsx)("strong",{children:"Erreur :"})," ",y]})}),(0,J.jsxs)(ce,{component:"form",onSubmit:async e=>{if(e.preventDefault(),e.stopPropagation(),x)return;b("");const t=u.length<8?"Le mot de passe doit contenir au moins 8 caract\xe8res":/(?=.*[a-z])/.test(u)?/(?=.*[A-Z])/.test(u)?/(?=.*\d)/.test(u)?/(?=.*[@$!%*?&])/.test(u)?u!==h?"Les mots de passe ne correspondent pas":"":"Le mot de passe doit contenir au moins un caract\xe8re sp\xe9cial (@$!%*?&)":"Le mot de passe doit contenir au moins un chiffre":"Le mot de passe doit contenir au moins une majuscule":"Le mot de passe doit contenir au moins une minuscule";if(t)b(t);else{w(!0);try{const e="".concat(o," ").concat(s).trim()||l.split("@")[0],t=await(0,zf.DY)(l,u,e);if(t.success&&t.user){const n=t.user;E(l),k(!0),b("");const r={id:n.uid,email:n.email,name:e,firstName:o,lastName:s,emailVerified:!1,currentLevel:"B1",targetLevel:"C1",createdAt:(new Date).toISOString()};localStorage.setItem("pendingUser",JSON.stringify(r)),localStorage.setItem("firebaseUser",JSON.stringify({uid:n.uid,email:n.email,displayName:e}))}else b(t.message||"Erreur d'inscription")}catch(n){console.error("Erreur inscription Firebase:",n);let e="Erreur d'inscription. Veuillez r\xe9essayer.";if(n.code)switch(n.code){case"auth/email-already-in-use":e="Un compte existe d\xe9j\xe0 avec cet email. Essayez de vous connecter.";break;case"auth/invalid-email":e="Adresse email invalide.";break;case"auth/weak-password":e="Le mot de passe est trop faible. Utilisez au moins 6 caract\xe8res.";break;case"auth/operation-not-allowed":e="L'inscription par email/mot de passe n'est pas activ\xe9e. Contactez l'administrateur.";break;case"auth/network-request-failed":e="Erreur r\xe9seau. V\xe9rifiez votre connexion internet.";break;default:e=n.message||"Erreur d'inscription. Veuillez r\xe9essayer."}else n.message&&(e=n.message);b(e)}finally{w(!1)}}},children:[(0,J.jsxs)(Be,{container:!0,spacing:2,children:[(0,J.jsx)(Be,{item:!0,xs:12,sm:6,children:(0,J.jsx)(zu,{fullWidth:!0,label:"Pr\xe9nom",value:o,onChange:e=>i(e.target.value),margin:"normal",InputProps:{startAdornment:(0,J.jsx)(lf,{position:"start",children:(0,J.jsx)(Uf,{})})}})}),(0,J.jsx)(Be,{item:!0,xs:12,sm:6,children:(0,J.jsx)(zu,{fullWidth:!0,label:"Nom",value:s,onChange:e=>a(e.target.value),margin:"normal",InputProps:{startAdornment:(0,J.jsx)(lf,{position:"start",children:(0,J.jsx)(Uf,{})})}})})]}),(0,J.jsx)(zu,{fullWidth:!0,label:"Email",type:"email",value:l,onChange:e=>c(e.target.value),margin:"normal",required:!0,InputProps:{startAdornment:(0,J.jsx)(lf,{position:"start",children:(0,J.jsx)(Lf,{})})}}),(0,J.jsx)(zu,{fullWidth:!0,label:"Mot de passe",type:f?"text":"password",value:u,onChange:e=>d(e.target.value),margin:"normal",required:!0,helperText:"Min. 8 caract\xe8res, 1 majuscule, 1 chiffre, 1 caract\xe8re sp\xe9cial",InputProps:{startAdornment:(0,J.jsx)(lf,{position:"start",children:(0,J.jsx)(Mf,{})}),endAdornment:(0,J.jsx)(lf,{position:"end",children:(0,J.jsx)(In,{onClick:()=>m(!f),edge:"end",children:f?(0,J.jsx)(Df,{}):(0,J.jsx)(Ff,{})})})}}),(0,J.jsx)(zu,{fullWidth:!0,label:"Confirmer le mot de passe",type:g?"text":"password",value:h,onChange:e=>p(e.target.value),margin:"normal",required:!0,InputProps:{startAdornment:(0,J.jsx)(lf,{position:"start",children:(0,J.jsx)(Mf,{})}),endAdornment:(0,J.jsx)(lf,{position:"end",children:(0,J.jsx)(In,{onClick:()=>v(!g),edge:"end",children:g?(0,J.jsx)(Df,{}):(0,J.jsx)(Ff,{})})})}}),(0,J.jsx)(pn,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2,py:1.5},disabled:x,children:x?(0,J.jsx)(Cf,{size:24}):"S'inscrire"}),(0,J.jsx)(ce,{sx:{textAlign:"center",mt:2},children:(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",children:["D\xe9j\xe0 un compte ?"," ",(0,J.jsx)(Of,{component:"button",variant:"body2",onClick:r,sx:{cursor:"pointer"},children:"Se connecter"})]})})]})]})})})},Wf=e=>{let{onSwitchToLogin:n,onSuccess:r}=e;const[o,i]=(0,t.useState)(""),[s,a]=(0,t.useState)(""),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(""),[h,p]=(0,t.useState)(!1);return(0,J.jsx)(ce,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,J.jsx)(Ye,{sx:{maxWidth:500,width:"100%",m:2},children:(0,J.jsxs)(tt,{sx:{p:4},children:[(0,J.jsx)(Te,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3,fontWeight:"bold"},children:"\ud83d\udd12 R\xe9initialisation de mot de passe"}),s&&(0,J.jsx)(Ns,{severity:"error",sx:{mb:2},children:s}),u&&(0,J.jsx)(Ns,{severity:"success",sx:{mb:2},children:u}),h?(0,J.jsxs)(ce,{sx:{textAlign:"center"},children:[(0,J.jsx)(ca,{sx:{fontSize:64,color:"success.main",mb:2}}),(0,J.jsxs)(Te,{variant:"body1",color:"text.secondary",sx:{mb:2},children:["Un email de r\xe9initialisation a \xe9t\xe9 envoy\xe9 \xe0 ",(0,J.jsx)("strong",{children:o})]}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Cliquez sur le lien dans l'email pour r\xe9initialiser votre mot de passe. Le lien est valide pendant 1 heure."}),(0,J.jsx)(pn,{fullWidth:!0,variant:"outlined",onClick:()=>{p(!1),i(""),d("")},sx:{mb:2},children:"Envoyer un autre email"}),(0,J.jsx)(pn,{fullWidth:!0,variant:"text",onClick:n,children:"Retour \xe0 la connexion"})]}):(0,J.jsxs)(ce,{component:"form",onSubmit:async e=>{e.preventDefault(),a(""),d(""),c(!0);try{const e=await(0,zf.xw)(o);e.success?(d("Un email de r\xe9initialisation a \xe9t\xe9 envoy\xe9. V\xe9rifiez votre bo\xeete de r\xe9ception et cliquez sur le lien pour r\xe9initialiser votre mot de passe."),p(!0)):a(e.message||"Erreur lors de la demande de r\xe9initialisation")}catch(t){console.error("Erreur r\xe9initialisation Firebase:",t);let e="Erreur lors de la demande de r\xe9initialisation.";if(t.code)switch(t.code){case"auth/user-not-found":return d("Si cet email existe, un lien de r\xe9initialisation a \xe9t\xe9 envoy\xe9. V\xe9rifiez votre bo\xeete de r\xe9ception."),p(!0),void c(!1);case"auth/invalid-email":e="Adresse email invalide.";break;case"auth/network-request-failed":e="Erreur r\xe9seau. V\xe9rifiez votre connexion internet.";break;default:e=t.message||"Erreur lors de la demande de r\xe9initialisation."}else t.message&&(e=t.message);a(e)}finally{c(!1)}},children:[(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Entrez votre adresse email. Nous vous enverrons un lien pour r\xe9initialiser votre mot de passe."}),(0,J.jsx)(zu,{fullWidth:!0,label:"Email",type:"email",value:o,onChange:e=>i(e.target.value),margin:"normal",required:!0,disabled:l,InputProps:{startAdornment:(0,J.jsx)(Lf,{sx:{mr:1,color:"text.secondary"}})}}),(0,J.jsx)(pn,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2,py:1.5},disabled:l,children:l?(0,J.jsx)(Cf,{size:24}):"Envoyer le lien de r\xe9initialisation"}),(0,J.jsx)(ce,{sx:{textAlign:"center",mt:2},children:(0,J.jsx)(Of,{component:"button",variant:"body2",onClick:n,sx:{cursor:"pointer"},children:"Retour \xe0 la connexion"})})]})]})})})},Hf=hi((0,J.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function Kf(e,t){return function(){return e.apply(t,arguments)}}const{toString:Gf}=Object.prototype,{getPrototypeOf:Qf}=Object,{iterator:Xf,toStringTag:$f}=Symbol,Yf=(Jf=Object.create(null),e=>{const t=Gf.call(e);return Jf[t]||(Jf[t]=t.slice(8,-1).toLowerCase())});var Jf;const Zf=e=>(e=e.toLowerCase(),t=>Yf(t)===e),em=e=>t=>typeof t===e,{isArray:tm}=Array,nm=em("undefined");function rm(e){return null!==e&&!nm(e)&&null!==e.constructor&&!nm(e.constructor)&&sm(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const om=Zf("ArrayBuffer");const im=em("string"),sm=em("function"),am=em("number"),lm=e=>null!==e&&"object"===typeof e,cm=e=>{if("object"!==Yf(e))return!1;const t=Qf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!($f in e)&&!(Xf in e)},um=Zf("Date"),dm=Zf("File"),hm=Zf("Blob"),pm=Zf("FileList"),fm=Zf("URLSearchParams"),[mm,gm,vm,ym]=["ReadableStream","Request","Response","Headers"].map(Zf);function bm(e,t){let n,r,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),tm(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(rm(e))return;const r=o?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let s;for(n=0;n<i;n++)s=r[n],t.call(null,e[s],s,e)}}function xm(e,t){if(rm(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const wm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Sm=e=>!nm(e)&&e!==wm;const km=(Am="undefined"!==typeof Uint8Array&&Qf(Uint8Array),e=>Am&&e instanceof Am);var Am;const Em=Zf("HTMLFormElement"),Cm=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Im=Zf("RegExp"),Tm=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};bm(n,(n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)}),Object.defineProperties(e,r)};const jm=Zf("AsyncFunction"),_m=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],wm.addEventListener("message",e=>{let{source:t,data:o}=e;t===wm&&o===n&&r.length&&r.shift()()},!1),e=>{r.push(e),wm.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,sm(wm.postMessage)),Rm="undefined"!==typeof queueMicrotask?queueMicrotask.bind(wm):"undefined"!==typeof process&&process.nextTick||_m,Pm={isArray:tm,isArrayBuffer:om,isBuffer:rm,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||sm(e.append)&&("formdata"===(t=Yf(e))||"object"===t&&sm(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&om(e.buffer),t},isString:im,isNumber:am,isBoolean:e=>!0===e||!1===e,isObject:lm,isPlainObject:cm,isEmptyObject:e=>{if(!lm(e)||rm(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:mm,isRequest:gm,isResponse:vm,isHeaders:ym,isUndefined:nm,isDate:um,isFile:dm,isBlob:hm,isRegExp:Im,isFunction:sm,isStream:e=>lm(e)&&sm(e.pipe),isURLSearchParams:fm,isTypedArray:km,isFileList:pm,forEach:bm,merge:function e(){const{caseless:t,skipUndefined:n}=Sm(this)&&this||{},r={},o=(o,i)=>{const s=t&&xm(r,i)||i;cm(r[s])&&cm(o)?r[s]=e(r[s],o):cm(o)?r[s]=e({},o):tm(o)?r[s]=o.slice():n&&nm(o)||(r[s]=o)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&bm(arguments[i],o);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return bm(t,(t,r)=>{n&&sm(t)?e[r]=Kf(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,s;const a={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)s=o[i],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&Qf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Yf,kindOfTest:Zf,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(tm(e))return e;let t=e.length;if(!am(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Xf]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Em,hasOwnProperty:Cm,hasOwnProp:Cm,reduceDescriptors:Tm,freezeMethods:e=>{Tm(e,(t,n)=>{if(sm(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];sm(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return tm(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:xm,global:wm,isContextDefined:Sm,isSpecCompliantForm:function(e){return!!(e&&sm(e.append)&&"FormData"===e[$f]&&e[Xf])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(lm(e)){if(t.indexOf(e)>=0)return;if(rm(e))return e;if(!("toJSON"in e)){t[r]=e;const o=tm(e)?[]:{};return bm(e,(e,t)=>{const i=n(e,r+1);!nm(i)&&(o[t]=i)}),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:jm,isThenable:e=>e&&(lm(e)||sm(e))&&sm(e.then)&&sm(e.catch),setImmediate:_m,asap:Rm,isIterable:e=>null!=e&&sm(e[Xf])};function Nm(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}Pm.inherits(Nm,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pm.toJSONObject(this.config),code:this.code,status:this.status}}});const Om=Nm.prototype,Lm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Lm[e]={value:e}}),Object.defineProperties(Nm,Lm),Object.defineProperty(Om,"isAxiosError",{value:!0}),Nm.from=(e,t,n,r,o,i)=>{const s=Object.create(Om);Pm.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const a=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Nm.call(s,a,l,n,r,o),e&&null==s.cause&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",i&&Object.assign(s,i),s};const Mm=Nm;function Dm(e){return Pm.isPlainObject(e)||Pm.isArray(e)}function Fm(e){return Pm.endsWith(e,"[]")?e.slice(0,-2):e}function zm(e,t,n){return e?e.concat(t).map(function(e,t){return e=Fm(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Vm=Pm.toFlatObject(Pm,{},null,function(e){return/^is[A-Z]/.test(e)});const Um=function(e,t,n){if(!Pm.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Pm.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Pm.isUndefined(t[e])})).metaTokens,o=n.visitor||c,i=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Pm.isSpecCompliantForm(t);if(!Pm.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Pm.isDate(e))return e.toISOString();if(Pm.isBoolean(e))return e.toString();if(!a&&Pm.isBlob(e))throw new Mm("Blob is not supported. Use a Buffer instead.");return Pm.isArrayBuffer(e)||Pm.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let a=e;if(e&&!o&&"object"===typeof e)if(Pm.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Pm.isArray(e)&&function(e){return Pm.isArray(e)&&!e.some(Dm)}(e)||(Pm.isFileList(e)||Pm.endsWith(n,"[]"))&&(a=Pm.toArray(e)))return n=Fm(n),a.forEach(function(e,r){!Pm.isUndefined(e)&&null!==e&&t.append(!0===s?zm([n],r,i):null===s?n:n+"[]",l(e))}),!1;return!!Dm(e)||(t.append(zm(o,n,i),l(e)),!1)}const u=[],d=Object.assign(Vm,{defaultVisitor:c,convertValue:l,isVisitable:Dm});if(!Pm.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Pm.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Pm.forEach(n,function(n,i){!0===(!(Pm.isUndefined(n)||null===n)&&o.call(t,n,Pm.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])}),u.pop()}}(e),t};function Bm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function qm(e,t){this._pairs=[],e&&Um(e,this,t)}const Wm=qm.prototype;Wm.append=function(e,t){this._pairs.push([e,t])},Wm.toString=function(e){const t=e?function(t){return e.call(this,t,Bm)}:Bm;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Hm=qm;function Km(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Gm(e,t,n){if(!t)return e;const r=n&&n.encode||Km;Pm.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(i=o?o(t,n):Pm.isURLSearchParams(t)?t.toString():new Hm(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Qm=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Pm.forEach(this.handlers,function(t){null!==t&&e(t)})}},Xm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$m={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Hm,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ym="undefined"!==typeof window&&"undefined"!==typeof document,Jm="object"===typeof navigator&&navigator||void 0,Zm=Ym&&(!Jm||["ReactNative","NativeScript","NS"].indexOf(Jm.product)<0),eg="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,tg=Ym&&window.location.href||"http://localhost",ng=(0,i.A)((0,i.A)({},e),$m);const rg=function(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const s=Number.isFinite(+i),a=o>=e.length;if(i=!i&&Pm.isArray(r)?r.length:i,a)return Pm.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!s;r[i]&&Pm.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],o)&&Pm.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!s}if(Pm.isFormData(e)&&Pm.isFunction(e.entries)){const n={};return Pm.forEachEntry(e,(e,r)=>{t(function(e){return Pm.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const og={transitional:Xm,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=Pm.isObject(e);o&&Pm.isHTMLForm(e)&&(e=new FormData(e));if(Pm.isFormData(e))return r?JSON.stringify(rg(e)):e;if(Pm.isArrayBuffer(e)||Pm.isBuffer(e)||Pm.isStream(e)||Pm.isFile(e)||Pm.isBlob(e)||Pm.isReadableStream(e))return e;if(Pm.isArrayBufferView(e))return e.buffer;if(Pm.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Um(e,new ng.classes.URLSearchParams,(0,i.A)({visitor:function(e,t,n,r){return ng.isNode&&Pm.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Pm.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Um(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(Pm.isString(e))try{return(t||JSON.parse)(e),Pm.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||og.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Pm.isResponse(e)||Pm.isReadableStream(e))return e;if(e&&Pm.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(o){if(n){if("SyntaxError"===o.name)throw Mm.from(o,Mm.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ng.classes.FormData,Blob:ng.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pm.forEach(["delete","get","head","post","put","patch"],e=>{og.headers[e]={}});const ig=og,sg=Pm.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ag=Symbol("internals");function lg(e){return e&&String(e).trim().toLowerCase()}function cg(e){return!1===e||null==e?e:Pm.isArray(e)?e.map(cg):String(e)}function ug(e,t,n,r,o){return Pm.isFunction(r)?r.call(this,t,n):(o&&(t=n),Pm.isString(t)?Pm.isString(r)?-1!==t.indexOf(r):Pm.isRegExp(r)?r.test(t):void 0:void 0)}class dg{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=lg(t);if(!o)throw new Error("header name must be a non-empty string");const i=Pm.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=cg(e))}const i=(e,t)=>Pm.forEach(e,(e,n)=>o(e,n,t));if(Pm.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Pm.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach(function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&sg[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Pm.isObject(e)&&Pm.isIterable(e)){let n,r,o={};for(const t of e){if(!Pm.isArray(t))throw TypeError("Object iterator must return a key-value pair");o[r=t[0]]=(n=o[r])?Pm.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(o,t)}else null!=e&&o(t,e,n);return this}get(e,t){if(e=lg(e)){const n=Pm.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Pm.isFunction(t))return t.call(this,e,n);if(Pm.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=lg(e)){const n=Pm.findKey(this,e);return!(!n||void 0===this[n]||t&&!ug(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=lg(e)){const o=Pm.findKey(n,e);!o||t&&!ug(0,n[o],o,t)||(delete n[o],r=!0)}}return Pm.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!ug(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return Pm.forEach(this,(r,o)=>{const i=Pm.findKey(n,o);if(i)return t[i]=cg(r),void delete t[o];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(o):String(o).trim();s!==o&&delete t[o],t[s]=cg(r),n[s]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Pm.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Pm.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[ag]=this[ag]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=lg(e);t[r]||(!function(e,t){const n=Pm.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})})}(n,e),t[r]=!0)}return Pm.isArray(e)?e.forEach(r):r(e),this}}dg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Pm.reduceDescriptors(dg.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Pm.freezeMethods(dg);const hg=dg;function pg(e,t){const n=this||ig,r=t||n,o=hg.from(r.headers);let i=r.data;return Pm.forEach(e,function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function fg(e){return!(!e||!e.__CANCEL__)}function mg(e,t,n){Mm.call(this,null==e?"canceled":e,Mm.ERR_CANCELED,t,n),this.name="CanceledError"}Pm.inherits(mg,Mm,{__CANCEL__:!0});const gg=mg;function vg(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Mm("Request failed with status code "+n.status,[Mm.ERR_BAD_REQUEST,Mm.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const yg=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[s];o||(o=l),n[i]=a,r[i]=l;let u=s,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),l-o<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const bg=function(e,t){let n,r,o=0,i=1e3/t;const s=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=i,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-o;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t>=i?s(l,e):(n=l,r||(r=setTimeout(()=>{r=null,s(n)},i-t)))},()=>n&&s(n)]},xg=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const o=yg(50,250);return bg(n=>{const i=n.loaded,s=n.lengthComputable?n.total:void 0,a=i-r,l=o(a);r=i;e({loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&i<=s?(s-i)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},wg=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Sg=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pm.asap(()=>e(...n))},kg=ng.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ng.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ng.origin),ng.navigator&&/(msie|trident)/i.test(ng.navigator.userAgent)):()=>!0,Ag=ng.hasStandardBrowserEnv?{write(e,t,n,r,o,i,s){if("undefined"===typeof document)return;const a=["".concat(e,"=").concat(encodeURIComponent(t))];Pm.isNumber(n)&&a.push("expires=".concat(new Date(n).toUTCString())),Pm.isString(r)&&a.push("path=".concat(r)),Pm.isString(o)&&a.push("domain=".concat(o)),!0===i&&a.push("secure"),Pm.isString(s)&&a.push("SameSite=".concat(s)),document.cookie=a.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function Eg(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Cg=e=>e instanceof hg?(0,i.A)({},e):e;function Ig(e,t){t=t||{};const n={};function r(e,t,n,r){return Pm.isPlainObject(e)&&Pm.isPlainObject(t)?Pm.merge.call({caseless:r},e,t):Pm.isPlainObject(t)?Pm.merge({},t):Pm.isArray(t)?t.slice():t}function o(e,t,n,o){return Pm.isUndefined(t)?Pm.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function s(e,t){if(!Pm.isUndefined(t))return r(void 0,t)}function a(e,t){return Pm.isUndefined(t)?Pm.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function l(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(e,t,n)=>o(Cg(e),Cg(t),0,!0)};return Pm.forEach(Object.keys((0,i.A)((0,i.A)({},e),t)),function(r){const i=c[r]||o,s=i(e[r],t[r],r);Pm.isUndefined(s)&&i!==l||(n[r]=s)}),n}const Tg=e=>{const t=Ig({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:a}=t;if(t.headers=s=hg.from(s),t.url=Gm(Eg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),Pm.isFormData(n))if(ng.hasStandardBrowserEnv||ng.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(Pm.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&s.set(n,r)})}if(ng.hasStandardBrowserEnv&&(r&&Pm.isFunction(r)&&(r=r(t)),r||!1!==r&&kg(t.url))){const e=o&&i&&Ag.read(i);e&&s.set(o,e)}return t},jg="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Tg(e);let o=r.data;const i=hg.from(r.headers).normalize();let s,a,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=r;function f(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=hg.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());vg(function(e){t(e),f()},function(e){n(e),f()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Mm("Request aborted",Mm.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",o=new Mm(r,Mm.ERR_NETWORK,e,m);o.event=t||null,n(o),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||Xm;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Mm(t,o.clarifyTimeoutError?Mm.ETIMEDOUT:Mm.ECONNABORTED,e,m)),m=null},void 0===o&&i.setContentType(null),"setRequestHeader"in m&&Pm.forEach(i.toJSON(),function(e,t){m.setRequestHeader(t,e)}),Pm.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),p&&([l,u]=xg(p,!0),m.addEventListener("progress",l)),h&&m.upload&&([a,c]=xg(h),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(s=t=>{m&&(n(!t||t.type?new gg(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===ng.protocols.indexOf(v)?n(new Mm("Unsupported protocol "+v+":",Mm.ERR_BAD_REQUEST,e)):m.send(o||null)})},_g=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Mm?t:new gg(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,o(new Mm("timeout ".concat(t," of ms exceeded"),Mm.ETIMEDOUT))},t);const s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)}),e=null)};e.forEach(e=>e.addEventListener("abort",o));const{signal:a}=r;return a.unsubscribe=()=>Pm.asap(s),a}};function Rg(e,t){this.v=e,this.k=t}function Pg(e){return function(){return new Ng(e.apply(this,arguments))}}function Ng(e){var t,n;function r(t,n){try{var i=e[t](n),s=i.value,a=s instanceof Rg;Promise.resolve(a?s.v:s).then(function(n){if(a){var l="return"===t?"return":"next";if(!s.k||n.done)return r(l,n);n=e[l](n).value}o(i.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,o){return new Promise(function(i,s){var a={key:e,arg:o,resolve:i,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,o))})},"function"!=typeof e.return&&(this.return=void 0)}function Og(e){return new Rg(e,0)}function Lg(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new Rg(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Mg(e){var t,n,r,o=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Dg(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Dg(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Dg=function(e){this.s=e,this.n=e.next},Dg.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Dg(e)}Ng.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ng.prototype.next=function(e){return this._invoke("next",e)},Ng.prototype.throw=function(e){return this._invoke("throw",e)},Ng.prototype.return=function(e){return this._invoke("return",e)};const Fg=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},zg=function(){var e=Pg(function*(e,t){var n,r=!1,o=!1;try{for(var i,s=Mg(Vg(e));r=!(i=yield Og(s.next())).done;r=!1){const e=i.value;yield*Lg(Mg(Fg(e,t)))}}catch(a){o=!0,n=a}finally{try{r&&null!=s.return&&(yield Og(s.return()))}finally{if(o)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Vg=function(){var e=Pg(function*(e){if(e[Symbol.asyncIterator])return void(yield*Lg(Mg(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Og(t.read());if(e)break;yield n}}finally{yield Og(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Ug=(e,t,n,r)=>{const o=zg(e,t);let i,s=0,a=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return a(),void e.close();let i=r.byteLength;if(n){let e=s+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw a(t),t}},cancel:e=>(a(e),o.return())},{highWaterMark:2})},{isFunction:Bg}=Pm,qg=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(Pm.global),{ReadableStream:Wg,TextEncoder:Hg}=Pm.global,Kg=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(o){return!1}},Gg=e=>{e=Pm.merge.call({skipUndefined:!0},qg,e);const{fetch:t,Request:n,Response:r}=e,o=t?Bg(t):"function"===typeof fetch,s=Bg(n),a=Bg(r);if(!o)return!1;const l=o&&Bg(Wg),c=o&&("function"===typeof Hg?(u=new Hg,e=>u.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var u;const d=s&&l&&Kg(()=>{let e=!1;const t=new n(ng.origin,{body:new Wg,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),h=a&&l&&Kg(()=>Pm.isReadableStream(new r("").body)),p={stream:h&&(e=>e.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!p[e]&&(p[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new Mm("Response type '".concat(e,"' is not supported"),Mm.ERR_NOT_SUPPORT,n)})});const f=async(e,t)=>{const r=Pm.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Pm.isBlob(e))return e.size;if(Pm.isSpecCompliantForm(e)){const t=new n(ng.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Pm.isArrayBufferView(e)||Pm.isArrayBuffer(e)?e.byteLength:(Pm.isURLSearchParams(e)&&(e+=""),Pm.isString(e)?(await c(e)).byteLength:void 0)})(t):r};return async e=>{let{url:o,method:a,data:l,signal:c,cancelToken:u,timeout:m,onDownloadProgress:g,onUploadProgress:v,responseType:y,headers:b,withCredentials:x="same-origin",fetchOptions:w}=Tg(e),S=t||fetch;y=y?(y+"").toLowerCase():"text";let k=_g([c,u&&u.toAbortSignal()],m),A=null;const E=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let C;try{if(v&&d&&"get"!==a&&"head"!==a&&0!==(C=await f(b,l))){let e,t=new n(o,{method:"POST",body:l,duplex:"half"});if(Pm.isFormData(l)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,n]=wg(C,xg(Sg(v)));l=Ug(t.body,65536,e,n)}}Pm.isString(x)||(x=x?"include":"omit");const t=s&&"credentials"in n.prototype,c=(0,i.A)((0,i.A)({},w),{},{signal:k,method:a.toUpperCase(),headers:b.normalize().toJSON(),body:l,duplex:"half",credentials:t?x:void 0});A=s&&new n(o,c);let u=await(s?S(A,w):S(o,c));const m=h&&("stream"===y||"response"===y);if(h&&(g||m&&E)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=u[t]});const t=Pm.toFiniteNumber(u.headers.get("content-length")),[n,o]=g&&wg(t,xg(Sg(g),!0))||[];u=new r(Ug(u.body,65536,n,()=>{o&&o(),E&&E()}),e)}y=y||"text";let I=await p[Pm.findKey(p,y)||"text"](u,e);return!m&&E&&E(),await new Promise((t,n)=>{vg(t,n,{data:I,headers:hg.from(u.headers),status:u.status,statusText:u.statusText,config:e,request:A})})}catch(I){if(E&&E(),I&&"TypeError"===I.name&&/Load failed|fetch/i.test(I.message))throw Object.assign(new Mm("Network Error",Mm.ERR_NETWORK,e,A),{cause:I.cause||I});throw Mm.from(I,I&&I.code,e,A)}}},Qg=new Map,Xg=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:o}=t,i=[r,o,n];let s,a,l=i.length,c=Qg;for(;l--;)s=i[l],a=c.get(s),void 0===a&&c.set(s,a=l?new Map:Gg(t)),c=a;return a},$g=(Xg(),{http:null,xhr:jg,fetch:{get:Xg}});Pm.forEach($g,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const Yg=e=>"- ".concat(e),Jg=e=>Pm.isFunction(e)||null===e||!1===e;const Zg={getAdapter:function(e,t){e=Pm.isArray(e)?e:[e];const{length:n}=e;let r,o;const i={};for(let s=0;s<n;s++){let n;if(r=e[s],o=r,!Jg(r)&&(o=$g[(n=String(r)).toLowerCase()],void 0===o))throw new Mm("Unknown adapter '".concat(n,"'"));if(o&&(Pm.isFunction(o)||(o=o.get(t))))break;i[n||"#"+s]=o}if(!o){const e=Object.entries(i).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Yg).join("\n"):" "+Yg(e[0]):"as no adapter specified";throw new Mm("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return o},adapters:$g};function ev(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gg(null,e)}function tv(e){ev(e),e.headers=hg.from(e.headers),e.data=pg.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Zg.getAdapter(e.adapter||ig.adapter,e)(e).then(function(t){return ev(e),t.data=pg.call(e,e.transformResponse,t),t.headers=hg.from(t.headers),t},function(t){return fg(t)||(ev(e),t&&t.response&&(t.response.data=pg.call(e,e.transformResponse,t.response),t.response.headers=hg.from(t.response.headers))),Promise.reject(t)})}const nv="1.13.2",rv={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{rv[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ov={};rv.transitional=function(e,t,n){function r(e,t){return"[Axios v"+nv+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new Mm(r(o," has been removed"+(t?" in "+t:"")),Mm.ERR_DEPRECATED);return t&&!ov[o]&&(ov[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}},rv.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const iv={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Mm("options must be an object",Mm.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],s=t[i];if(s){const t=e[i],n=void 0===t||s(t,i,e);if(!0!==n)throw new Mm("option "+i+" must be "+n,Mm.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Mm("Unknown option "+i,Mm.ERR_BAD_OPTION)}},validators:rv},sv=iv.validators;class av{constructor(e){this.defaults=e||{},this.interceptors={request:new Qm,response:new Qm}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Ig(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&iv.assertOptions(n,{silentJSONParsing:sv.transitional(sv.boolean),forcedJSONParsing:sv.transitional(sv.boolean),clarifyTimeoutError:sv.transitional(sv.boolean)},!1),null!=r&&(Pm.isFunction(r)?t.paramsSerializer={serialize:r}:iv.assertOptions(r,{encode:sv.function,serialize:sv.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),iv.assertOptions(t,{baseUrl:sv.spelling("baseURL"),withXsrfToken:sv.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&Pm.merge(o.common,o[t.method]);o&&Pm.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=hg.concat(i,o);const s=[];let a=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!a){const e=[tv.bind(this),void 0];for(e.unshift(...s),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(Sy){t.call(this,Sy);break}}try{c=tv.call(this,h)}catch(Sy){return Promise.reject(Sy)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Gm(Eg((e=Ig(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Pm.forEach(["delete","get","head","options"],function(e){av.prototype[e]=function(t,n){return this.request(Ig(n||{},{method:e,url:t,data:(n||{}).data}))}}),Pm.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,o){return this.request(Ig(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}av.prototype[e]=t(),av.prototype[e+"Form"]=t(!0)});const lv=av;class cv{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,o){n.reason||(n.reason=new gg(e,r,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new cv(function(t){e=t}),cancel:e}}}const uv=cv;const dv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(dv).forEach(e=>{let[t,n]=e;dv[n]=t});const hv=dv;const pv=function e(t){const n=new lv(t),r=Kf(lv.prototype.request,n);return Pm.extend(r,lv.prototype,n,{allOwnKeys:!0}),Pm.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Ig(t,n))},r}(ig);pv.Axios=lv,pv.CanceledError=gg,pv.CancelToken=uv,pv.isCancel=fg,pv.VERSION=nv,pv.toFormData=Um,pv.AxiosError=Mm,pv.Cancel=pv.CanceledError,pv.all=function(e){return Promise.all(e)},pv.spread=function(e){return function(t){return e.apply(null,t)}},pv.isAxiosError=function(e){return Pm.isObject(e)&&!0===e.isAxiosError},pv.mergeConfig=Ig,pv.AxiosHeaders=hg,pv.formToJSON=e=>rg(Pm.isHTMLForm(e)?new FormData(e):e),pv.getAdapter=Zg.getAdapter,pv.HttpStatusCode=hv,pv.default=pv;const fv=pv,mv="http://localhost:5001/api",gv=e=>{let{onSuccess:n,onSwitchToLogin:r}=e;const{login:o}=as(),[i,s]=(0,t.useState)("loading"),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{if(d||"loading"!==i)return;(async()=>{h(!0);try{var e;const t=window.location.pathname,r=new URLSearchParams(window.location.search),i=(null===(e=t.split("/verify-email/")[1])||void 0===e?void 0:e.split("/")[0])||r.get("token");if(!i)return s("error"),void u("Token de v\xe9rification manquant");if(t.includes("/success")){const e=r.get("token");if(e)try{const t=await fv.get("".concat(mv,"/users/me"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.data.success)throw new Error("Token invalide");{const r=t.data.user;localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(r)),o&&o(e,r),n&&n(e,r),s("success"),l("Email v\xe9rifi\xe9 avec succ\xe8s ! Vous \xeates maintenant connect\xe9.")}}catch(p){s("error"),u("Token invalide ou expir\xe9. Veuillez vous connecter.")}else s("error"),u("Token manquant dans l'URL");return}if(t.includes("/error")){const e=r.get("token");return s("error"),void u(e?"Le lien de v\xe9rification est invalide ou a expir\xe9. Veuillez demander un nouveau lien.":"Une erreur est survenue lors de la v\xe9rification.")}const a=await fv.post("".concat(mv,"/auth/verify-email/").concat(i));if(!a.data.success)throw new Error(a.data.message||"\xc9chec de la v\xe9rification");{const{token:e,user:t,alreadyVerified:r}=a.data;localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t)),o&&o(e,t),n&&n(e,t),s("success"),l(r?"Votre email a d\xe9j\xe0 \xe9t\xe9 v\xe9rifi\xe9. Vous \xeates maintenant connect\xe9.":"Email v\xe9rifi\xe9 avec succ\xe8s ! Vous \xeates maintenant connect\xe9.")}}catch(p){var t,r;if(400===(null===(t=p.response)||void 0===t?void 0:t.status)){var i,a;const e=(null===(i=p.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.message)||p.message;e.includes("deja verifie")||e.includes("d\xe9j\xe0 v\xe9rifi\xe9")||e.includes("already verified")?(s("error"),u("Votre email a d\xe9j\xe0 \xe9t\xe9 v\xe9rifi\xe9. Vous pouvez vous connecter.")):(s("error"),u("Le lien de v\xe9rification est invalide ou a expir\xe9. Veuillez demander un nouveau lien."))}else if(429===(null===(r=p.response)||void 0===r?void 0:r.status))s("error"),u("Trop de tentatives. Veuillez attendre quelques instants avant de r\xe9essayer.");else{var c,d;s("error"),u((null===(c=p.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.message)||p.message||"Le lien de v\xe9rification est invalide ou a expir\xe9. Veuillez demander un nouveau lien.")}}finally{h(!1)}})()},[o,n,d,i]),"loading"===i?(0,J.jsx)(ce,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100"},children:(0,J.jsx)(Ye,{sx:{maxWidth:500,width:"100%",m:2},children:(0,J.jsxs)(tt,{sx:{p:4,textAlign:"center"},children:[(0,J.jsx)(Cf,{sx:{mb:3}}),(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,children:"V\xe9rification de votre email..."}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",children:"Veuillez patienter"})]})})}):"success"===i?(0,J.jsx)(ce,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,J.jsx)(Ye,{sx:{maxWidth:500,width:"100%",m:2},children:(0,J.jsxs)(tt,{sx:{p:4,textAlign:"center"},children:[(0,J.jsx)(ca,{sx:{fontSize:64,color:"success.main",mb:2}}),(0,J.jsx)(Te,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",mb:2},children:"\u2705 Email v\xe9rifi\xe9 !"}),(0,J.jsx)(Ns,{severity:"success",sx:{mb:3},children:a||"Votre email a \xe9t\xe9 v\xe9rifi\xe9 avec succ\xe8s. Vous pouvez maintenant utiliser toutes les fonctionnalit\xe9s de l'application."}),r&&(0,J.jsx)(pn,{variant:"contained",size:"large",onClick:r,sx:{mt:2},children:"Continuer"})]})})}):(0,J.jsx)(ce,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,J.jsx)(Ye,{sx:{maxWidth:500,width:"100%",m:2},children:(0,J.jsxs)(tt,{sx:{p:4,textAlign:"center"},children:[(0,J.jsx)(Hf,{sx:{fontSize:64,color:"error.main",mb:2}}),(0,J.jsx)(Te,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",mb:2},children:"\u274c Erreur de v\xe9rification"}),(0,J.jsx)(Ns,{severity:"error",sx:{mb:3},children:c||"Le lien de v\xe9rification est invalide ou a expir\xe9."}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Que pouvez-vous faire ?"}),(0,J.jsxs)(ce,{sx:{display:"flex",flexDirection:"column",gap:2},children:[r&&(0,J.jsx)(pn,{variant:"contained",onClick:r,children:"Me connecter"}),(0,J.jsx)(pn,{variant:"outlined",onClick:()=>window.location.href="/signup",children:"R\xe9essayer l'inscription"})]})]})})})},vv=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],yv=me("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,f.X4)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})},e=>{let{ownerState:t}=e;return(0,s.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})},e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}})},e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}})},e=>{let{ownerState:t}=e;return(0,s.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})}),bv=me("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})}),xv=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiDivider"}),{absolute:r=!1,children:o,className:i,component:l=(o?"div":"hr"),flexItem:c=!1,light:u=!1,orientation:d="horizontal",role:h=("hr"!==l?"separator":void 0),textAlign:p="center",variant:f="fullWidth"}=n,m=(0,a.A)(n,vv),g=(0,s.A)({},n,{absolute:r,component:l,flexItem:c,light:u,orientation:d,role:h,textAlign:p,variant:f}),v=(e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:i,orientation:s,textAlign:a,variant:l}=e;return ue({root:["root",t&&"absolute",l,i&&"light","vertical"===s&&"vertical",o&&"flexItem",n&&"withChildren",n&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]},_c,r)})(g);return(0,J.jsx)(yv,(0,s.A)({as:l,className:H(v.root,i),role:h,ref:t,ownerState:g},m,{children:o?(0,J.jsx)(bv,{className:v.wrapper,ownerState:g,children:o}):null}))});xv.muiSkipListHighlight=!0;const wv=xv;function Sv(e){return oe("MuiStepper",e)}ie("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const kv=t.createContext({});const Av=kv,Ev=t.createContext({});const Cv=Ev;function Iv(e){return oe("MuiStepConnector",e)}ie("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const Tv=["className"],jv=me("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(e=>{let{ownerState:t}=e;return(0,s.A)({flex:"1 1 auto"},"vertical"===t.orientation&&{marginLeft:12},t.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})}),_v=me("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.line,t["line".concat(Se(n.orientation))]]}})(e=>{let{ownerState:t,theme:n}=e;const r="light"===n.palette.mode?n.palette.grey[400]:n.palette.grey[600];return(0,s.A)({display:"block",borderColor:n.vars?n.vars.palette.StepConnector.border:r},"horizontal"===t.orientation&&{borderTopStyle:"solid",borderTopWidth:1},"vertical"===t.orientation&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),Rv=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiStepConnector"}),{className:o}=r,i=(0,a.A)(r,Tv),{alternativeLabel:l,orientation:c="horizontal"}=t.useContext(Av),{active:u,disabled:d,completed:h}=t.useContext(Cv),p=(0,s.A)({},r,{alternativeLabel:l,orientation:c,active:u,completed:h,disabled:d}),f=(e=>{const{classes:t,orientation:n,alternativeLabel:r,active:o,completed:i,disabled:s}=e;return ue({root:["root",n,r&&"alternativeLabel",o&&"active",i&&"completed",s&&"disabled"],line:["line","line".concat(Se(n))]},Iv,t)})(p);return(0,J.jsx)(jv,(0,s.A)({className:H(f.root,o),ref:n,ownerState:p},i,{children:(0,J.jsx)(_v,{className:f.line,ownerState:p})}))}),Pv=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],Nv=me("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.nonLinear&&t.nonLinear]}})(e=>{let{ownerState:t}=e;return(0,s.A)({display:"flex"},"horizontal"===t.orientation&&{flexDirection:"row",alignItems:"center"},"vertical"===t.orientation&&{flexDirection:"column"},t.alternativeLabel&&{alignItems:"flex-start"})}),Ov=(0,J.jsx)(Rv,{}),Lv=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiStepper"}),{activeStep:o=0,alternativeLabel:i=!1,children:l,className:c,component:u="div",connector:d=Ov,nonLinear:h=!1,orientation:p="horizontal"}=r,f=(0,a.A)(r,Pv),m=(0,s.A)({},r,{nonLinear:h,alternativeLabel:i,orientation:p,component:u}),g=(e=>{const{orientation:t,nonLinear:n,alternativeLabel:r,classes:o}=e;return ue({root:["root",t,n&&"nonLinear",r&&"alternativeLabel"]},Sv,o)})(m),v=t.Children.toArray(l).filter(Boolean),y=v.map((e,n)=>t.cloneElement(e,(0,s.A)({index:n,last:n+1===v.length},e.props))),b=t.useMemo(()=>({activeStep:o,alternativeLabel:i,connector:d,nonLinear:h,orientation:p}),[o,i,d,h,p]);return(0,J.jsx)(Av.Provider,{value:b,children:(0,J.jsx)(Nv,(0,s.A)({as:u,ownerState:m,className:H(g.root,c),ref:n},f,{children:y}))})});function Mv(e){return oe("MuiStep",e)}ie("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const Dv=["active","children","className","component","completed","disabled","expanded","index","last"],Fv=me("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(e=>{let{ownerState:t}=e;return(0,s.A)({},"horizontal"===t.orientation&&{paddingLeft:8,paddingRight:8},t.alternativeLabel&&{flex:1,position:"relative"})}),zv=t.forwardRef(function(e,n){const r=xe({props:e,name:"MuiStep"}),{active:o,children:i,className:l,component:c="div",completed:u,disabled:d,expanded:h=!1,index:p,last:f}=r,m=(0,a.A)(r,Dv),{activeStep:g,connector:v,alternativeLabel:y,orientation:b,nonLinear:x}=t.useContext(Av);let[w=!1,S=!1,k=!1]=[o,u,d];g===p?w=void 0===o||o:!x&&g>p?S=void 0===u||u:!x&&g<p&&(k=void 0===d||d);const A=t.useMemo(()=>({index:p,last:f,expanded:h,icon:p+1,active:w,completed:S,disabled:k}),[p,f,h,w,S,k]),E=(0,s.A)({},r,{active:w,orientation:b,alternativeLabel:y,completed:S,disabled:k,expanded:h,component:c}),C=(e=>{const{classes:t,orientation:n,alternativeLabel:r,completed:o}=e;return ue({root:["root",n,r&&"alternativeLabel",o&&"completed"]},Mv,t)})(E),I=(0,J.jsxs)(Fv,(0,s.A)({as:c,className:H(C.root,l),ref:n,ownerState:E},m,{children:[v&&y&&0!==p?v:null,i]}));return(0,J.jsx)(Cv.Provider,{value:A,children:v&&!y&&0!==p?(0,J.jsxs)(t.Fragment,{children:[v,I]}):I})}),Vv=hi((0,J.jsx)("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),Uv=hi((0,J.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function Bv(e){return oe("MuiStepIcon",e)}const qv=ie("MuiStepIcon",["root","active","completed","error","text"]);var Wv;const Hv=["active","className","completed","error","icon"],Kv=me(di,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,t)=>t.root})(e=>{let{theme:t}=e;return{display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:(t.vars||t).palette.text.disabled,["&.".concat(qv.completed)]:{color:(t.vars||t).palette.primary.main},["&.".concat(qv.active)]:{color:(t.vars||t).palette.primary.main},["&.".concat(qv.error)]:{color:(t.vars||t).palette.error.main}}}),Gv=me("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,t)=>t.text})(e=>{let{theme:t}=e;return{fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily}}),Qv=t.forwardRef(function(e,t){const n=xe({props:e,name:"MuiStepIcon"}),{active:r=!1,className:o,completed:i=!1,error:l=!1,icon:c}=n,u=(0,a.A)(n,Hv),d=(0,s.A)({},n,{active:r,completed:i,error:l}),h=(e=>{const{classes:t,active:n,completed:r,error:o}=e;return ue({root:["root",n&&"active",r&&"completed",o&&"error"],text:["text"]},Bv,t)})(d);if("number"===typeof c||"string"===typeof c){const e=H(o,h.root);return l?(0,J.jsx)(Kv,(0,s.A)({as:Uv,className:e,ref:t,ownerState:d},u)):i?(0,J.jsx)(Kv,(0,s.A)({as:Vv,className:e,ref:t,ownerState:d},u)):(0,J.jsxs)(Kv,(0,s.A)({className:e,ref:t,ownerState:d},u,{children:[Wv||(Wv=(0,J.jsx)("circle",{cx:"12",cy:"12",r:"12"})),(0,J.jsx)(Gv,{className:h.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:d,children:c})]}))}return c});function Xv(e){return oe("MuiStepLabel",e)}const $v=ie("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),Yv=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],Jv=me("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation]]}})(e=>{let{ownerState:t}=e;return(0,s.A)({display:"flex",alignItems:"center",["&.".concat($v.alternativeLabel)]:{flexDirection:"column"},["&.".concat($v.disabled)]:{cursor:"default"}},"vertical"===t.orientation&&{textAlign:"left",padding:"8px 0"})}),Zv=me("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,t)=>t.label})(e=>{let{theme:t}=e;return(0,s.A)({},t.typography.body2,{display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),["&.".concat($v.active)]:{color:(t.vars||t).palette.text.primary,fontWeight:500},["&.".concat($v.completed)]:{color:(t.vars||t).palette.text.primary,fontWeight:500},["&.".concat($v.alternativeLabel)]:{marginTop:16},["&.".concat($v.error)]:{color:(t.vars||t).palette.error.main}})}),ey=me("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,t)=>t.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,["&.".concat($v.alternativeLabel)]:{paddingRight:0}})),ty=me("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(e=>{let{theme:t}=e;return{width:"100%",color:(t.vars||t).palette.text.secondary,["&.".concat($v.alternativeLabel)]:{textAlign:"center"}}}),ny=t.forwardRef(function(e,n){var r;const o=xe({props:e,name:"MuiStepLabel"}),{children:i,className:l,componentsProps:c={},error:u=!1,icon:d,optional:h,slotProps:p={},StepIconComponent:f,StepIconProps:m}=o,g=(0,a.A)(o,Yv),{alternativeLabel:v,orientation:y}=t.useContext(Av),{active:b,disabled:x,completed:w,icon:S}=t.useContext(Cv),k=d||S;let A=f;k&&!A&&(A=Qv);const E=(0,s.A)({},o,{active:b,alternativeLabel:v,completed:w,disabled:x,error:u,orientation:y}),C=(e=>{const{classes:t,orientation:n,active:r,completed:o,error:i,disabled:s,alternativeLabel:a}=e;return ue({root:["root",n,i&&"error",s&&"disabled",a&&"alternativeLabel"],label:["label",r&&"active",o&&"completed",i&&"error",s&&"disabled",a&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",o&&"completed",i&&"error",s&&"disabled",a&&"alternativeLabel"],labelContainer:["labelContainer",a&&"alternativeLabel"]},Xv,t)})(E),I=null!=(r=p.label)?r:c.label;return(0,J.jsxs)(Jv,(0,s.A)({className:H(C.root,l),ref:n,ownerState:E},g,{children:[k||A?(0,J.jsx)(ey,{className:C.iconContainer,ownerState:E,children:(0,J.jsx)(A,(0,s.A)({completed:w,active:b,error:u,icon:k},m))}):null,(0,J.jsxs)(ty,{className:C.labelContainer,ownerState:E,children:[i?(0,J.jsx)(Zv,(0,s.A)({ownerState:E},I,{className:H(C.label,null==I?void 0:I.className),children:i})):null,h]})]}))});ny.muiName="StepLabel";const ry=ny,oy=hi((0,J.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),iy=e=>{const{level:t,isCorrect:n,correctAnswer:r,grammarFocus:o,customExplanation:i,userAnswer:s}=e,a={A1:{present_simple:{rule:"Present Simple (Pr\xe9sent simple)",explanation:"Le pr\xe9sent simple est utilis\xe9 pour parler de choses qui sont toujours vraies, de faits g\xe9n\xe9raux, ou d'actions qui se r\xe9p\xe8tent r\xe9guli\xe8rement. C'est la base de la communication en anglais.",structure:"Structure affirmative :\n\u2022 I/You/We/They + verbe base\n\u2022 He/She/It + verbe + 's' ou 'es'\n\nStructure interrogative :\n\u2022 Do/Does + sujet + verbe base\n\u2022 Exemple : 'Do you work?' / 'Does she work?'\n\nStructure n\xe9gative :\n\u2022 Don't/Doesn't + verbe base\n\u2022 Exemple : 'I don't work' / 'She doesn't work'",examples:["I am a developer. (Je suis d\xe9veloppeur)","She writes code every day. (Elle \xe9crit du code tous les jours)","We use computers at work. (Nous utilisons des ordinateurs au travail)","The server runs 24/7. (Le serveur fonctionne 24/7)","Do you understand? (Comprenez-vous ?)"],commonMistakes:["\u274c 'I is a developer' \u2192 \u2705 'I am a developer' (am avec I, is avec he/she/it)","\u274c 'she work every day' \u2192 \u2705 'she works every day' (ajouter 's' \xe0 la 3e personne)","\u274c 'they is working' \u2192 \u2705 'they are working' (are avec we/you/they)","\u274c 'Does you work?' \u2192 \u2705 'Do you work?' (do avec you/we/they)"],tips:["Pour la 3e personne du singulier (he, she, it), ajoutez toujours 's' ou 'es' au verbe","R\xe8gles d'ajout de 's' : verbe normal + 's', verbe finissant par -s/-sh/-ch/-x/-o + 'es'","Les verbes irr\xe9guliers 'be' et 'have' ont leurs propres formes","Utilisez 'am' avec 'I', 'is' avec 'he/she/it', 'are' avec 'we/you/they'","Pour les questions, utilisez 'do' avec I/you/we/they et 'does' avec he/she/it"],vocabulary:[{word:"developer",definition:"d\xe9veloppeur, d\xe9veloppeuse"},{word:"work",definition:"travail, travailler"},{word:"code",definition:"code (informatique)"},{word:"computer",definition:"ordinateur"},{word:"server",definition:"serveur"}]},present_continuous:{rule:"Present Continuous (Pr\xe9sent continu)",explanation:"Le pr\xe9sent continu exprime une action en cours au moment pr\xe9sent ou une action temporaire.",structure:"Structure affirmative :\n\u2022 I am + verb-ing\n\u2022 He/She/It is + verb-ing\n\u2022 You/We/They are + verb-ing\n\nStructure interrogative :\n\u2022 Am/Is/Are + sujet + verb-ing\n\u2022 Exemple : 'Are you working?' / 'Is she coding?'\n\nStructure n\xe9gative :\n\u2022 Am/Is/Are + not + verb-ing\n\u2022 Exemple : 'I am not working' / 'She isn't coding'",examples:["I am working on a project. (Je travaille sur un projet)","She is writing code now. (Elle \xe9crit du code maintenant)","We are testing the application. (Nous testons l'application)","Are you debugging? (\xcates-vous en train de d\xe9boguer ?)"],commonMistakes:["\u274c 'I work now' \u2192 \u2705 'I am working now' (action en cours)","\u274c 'She write code' \u2192 \u2705 'She is writing code' (pr\xe9sent continu)","\u274c 'They are work' \u2192 \u2705 'They are working' (verbe-ing requis)"],tips:["Utilisez le pr\xe9sent continu pour les actions en cours","Forme : be (am/is/are) + verbe-ing","Indicateurs temporels : now, at the moment, currently"],vocabulary:[{word:"to work",definition:"travailler"},{word:"to code",definition:"coder, programmer"},{word:"to test",definition:"tester"},{word:"now",definition:"maintenant"}]},articles:{rule:"Articles (a/an/the)",explanation:"Les articles d\xe9finissent ou g\xe9n\xe9ralisent les noms.",structure:"Articles ind\xe9finis :\n\u2022 a + nom commen\xe7ant par consonne : 'a developer', 'a computer'\n\u2022 an + nom commen\xe7ant par voyelle : 'an application', 'an error'\n\nArticle d\xe9fini :\n\u2022 the + nom sp\xe9cifique : 'the project', 'the code'\n\nPas d'article :\n\u2022 Noms pluriels g\xe9n\xe9raux : 'developers', 'computers'",examples:["I am a developer. (Je suis d\xe9veloppeur)","She is an engineer. (Elle est ing\xe9nieur)","The code is working. (Le code fonctionne)","Developers use computers. (Les d\xe9veloppeurs utilisent des ordinateurs)"],commonMistakes:["\u274c 'I am developer' \u2192 \u2705 'I am a developer' (article requis)","\u274c 'an computer' \u2192 \u2705 'a computer' (consonne)","\u274c 'the developers' (g\xe9n\xe9ral) \u2192 \u2705 'developers' (pas d'article)"],tips:["Utilisez 'a' avant une consonne, 'an' avant une voyelle","Utilisez 'the' pour quelque chose de sp\xe9cifique","Pas d'article pour les pluriels g\xe9n\xe9raux"],vocabulary:[{word:"a",definition:"un, une (article ind\xe9fini)"},{word:"an",definition:"un, une (article ind\xe9fini devant voyelle)"},{word:"the",definition:"le, la, les (article d\xe9fini)"}]},basic_vocabulary:{rule:"Vocabulaire de base IT",explanation:"Mots et expressions essentielles pour parler de votre travail dans l'informatique.",structure:"Vocabulaire technique de base",vocabulary:[{word:"developer",definition:"d\xe9veloppeur, d\xe9veloppeuse"},{word:"programmer",definition:"programmeur, programmeuse"},{word:"computer",definition:"ordinateur"},{word:"code",definition:"code (informatique)"},{word:"software",definition:"logiciel"},{word:"application",definition:"application"},{word:"work",definition:"travail, travailler"},{word:"project",definition:"projet"}],examples:["I am a developer. (Je suis d\xe9veloppeur)","I write code. (J'\xe9cris du code)","I use a computer. (J'utilise un ordinateur)","This is my project. (C'est mon projet)"],tips:["M\xe9morisez le vocabulaire technique de votre domaine","Pratiquez en utilisant ces mots dans des phrases simples","Les mots techniques sont souvent similaires en fran\xe7ais et en anglais"]},technical_vocabulary:{rule:"Vocabulaire technique A1",explanation:"Vocabulaire technique de base pour d\xe9buter en IT.",vocabulary:[{word:"computer",definition:"ordinateur"},{word:"keyboard",definition:"clavier"},{word:"screen",definition:"\xe9cran"},{word:"mouse",definition:"souris"},{word:"internet",definition:"internet"},{word:"website",definition:"site web"}],examples:["I use a computer. (J'utilise un ordinateur)","The screen is large. (L'\xe9cran est grand)","I browse the internet. (Je navigue sur internet)"]}},A2:{present_perfect:{rule:"Present Perfect (Pr\xe9sent parfait)",explanation:"Le pr\xe9sent parfait exprime une action commenc\xe9e dans le pass\xe9 et qui continue maintenant, une action r\xe9cente avec un r\xe9sultat pr\xe9sent, ou une exp\xe9rience de vie. Il fait le lien entre le pass\xe9 et le pr\xe9sent.",structure:"Structure affirmative :\n\u2022 I/You/We/They + have + past participle\n\u2022 He/She/It + has + past participle\n\nStructure interrogative :\n\u2022 Have/Has + sujet + past participle\n\u2022 Exemple : 'Have you finished?' / 'Has she arrived?'\n\nStructure n\xe9gative :\n\u2022 Haven't/Hasn't + past participle\n\u2022 Exemple : 'I haven't finished' / 'She hasn't arrived'\n\nIndicateurs temporels :\n\u2022 For + dur\xe9e : 'for two years', 'for a long time'\n\u2022 Since + point de d\xe9part : 'since 2020', 'since Monday'\n\u2022 Already, yet, just, ever, never",examples:["I have worked here for two years. (Je travaille ici depuis deux ans)","She has learned English. (Elle a appris l'anglais - r\xe9sultat pr\xe9sent)","We have finished the project. (Nous avons fini le projet - action r\xe9cente)","Have you seen this bug? (Avez-vous vu ce bug ?)","The system has been running since this morning. (Le syst\xe8me fonctionne depuis ce matin)"],commonMistakes:["\u274c 'I have went' \u2192 \u2705 'I have gone' (toujours past participle avec have/has)","\u274c 'she have done' \u2192 \u2705 'she has done' (has avec he/she/it)","\u274c 'I work here for 2 years' \u2192 \u2705 'I have worked here for 2 years' (action continue)","\u274c 'I finished the code yesterday' (\u2705 correct si action termin\xe9e) vs 'I have finished the code' (\u2705 correct si r\xe9sultat pr\xe9sent)"],tips:["Utilisez 'for' pour une dur\xe9e : 'for 2 years', 'for a week'","Utilisez 'since' pour un point de d\xe9part : 'since 2020', 'since Monday'","Le present perfect met l'accent sur le r\xe9sultat pr\xe9sent, le past simple sur l'action pass\xe9e","Les verbes irr\xe9guliers : go \u2192 gone, see \u2192 seen, do \u2192 done, write \u2192 written"],vocabulary:[{word:"to finish",definition:"finir, terminer"},{word:"to deploy",definition:"d\xe9ployer, mettre en production"},{word:"to complete",definition:"compl\xe9ter, achever"},{word:"already",definition:"d\xe9j\xe0"},{word:"yet",definition:"encore, toujours (n\xe9gatif/question)"}]},past_simple:{rule:"Past Simple (Pass\xe9 simple)",explanation:"Le pass\xe9 simple d\xe9crit une action termin\xe9e dans le pass\xe9, \xe0 un moment pr\xe9cis. Il est souvent accompagn\xe9 d'indicateurs temporels pr\xe9cis.",structure:"Structure affirmative :\n\u2022 Sujet + verbe-ed (verbes r\xe9guliers)\n\u2022 Sujet + forme irr\xe9guli\xe8re (verbes irr\xe9guliers)\n\nVerbes r\xe9guliers : work \u2192 worked, test \u2192 tested\nVerbes irr\xe9guliers : go \u2192 went, see \u2192 saw, do \u2192 did\n\nStructure interrogative :\n\u2022 Did + sujet + verbe base\n\u2022 Exemple : 'Did you work yesterday?'\n\nStructure n\xe9gative :\n\u2022 Didn't + verbe base\n\u2022 Exemple : 'I didn't work yesterday'\n\nIndicateurs temporels : yesterday, last week, in 2020, ago, when",examples:["I worked on this project yesterday. (J'ai travaill\xe9 sur ce projet hier)","The application was deployed last week. (L'application a \xe9t\xe9 d\xe9ploy\xe9e la semaine derni\xe8re)","She tested the code two days ago. (Elle a test\xe9 le code il y a deux jours)","Did you fix the bug? (Avez-vous corrig\xe9 le bug ?)","We didn't finish on time. (Nous n'avons pas termin\xe9 \xe0 temps)"],commonMistakes:["\u274c 'I work yesterday' \u2192 \u2705 'I worked yesterday' (toujours pass\xe9 avec indicateur temporel)","\u274c 'was deploy' \u2192 \u2705 'was deployed' (past participle dans la voix passive)","\u274c 'Did you worked?' \u2192 \u2705 'Did you work?' (verbe base apr\xe8s did)","\u274c 'I didn't went' \u2192 \u2705 'I didn't go' (verbe base apr\xe8s didn't)"],tips:["Les verbes r\xe9guliers prennent '-ed' au pass\xe9 : work \u2192 worked, test \u2192 tested","Les verbes irr\xe9guliers ont leur propre forme : go \u2192 went, see \u2192 saw, do \u2192 did","Apr\xe8s 'did' ou 'didn't', utilisez toujours le verbe \xe0 la base (sans -ed)","Utilisez le pass\xe9 simple avec des indicateurs temporels pr\xe9cis : yesterday, last week, in 2020"],vocabulary:[{word:"yesterday",definition:"hier"},{word:"last week",definition:"la semaine derni\xe8re"},{word:"ago",definition:"il y a"},{word:"when",definition:"quand (indicateur de temps)"},{word:"to deploy",definition:"d\xe9ployer"}]},future_simple:{rule:"Future Simple (Futur simple)",explanation:"Le futur simple exprime une action future ou une d\xe9cision prise au moment de parler.",structure:"Structure affirmative :\n\u2022 Will + verbe base\n\u2022 Exemple : 'I will work' / 'She will code'\n\nStructure interrogative :\n\u2022 Will + sujet + verbe base\n\u2022 Exemple : 'Will you work?' / 'Will she code?'\n\nStructure n\xe9gative :\n\u2022 Won't + verbe base\n\u2022 Exemple : 'I won't work' / 'She won't code'\n\nForme contract\xe9e : 'll pour will, won't pour will not",examples:["I will deploy the code tomorrow. (Je d\xe9ploierai le code demain)","She will test the application. (Elle testera l'application)","Will you finish on time? (Finirez-vous \xe0 temps ?)","We won't release this version. (Nous ne publierons pas cette version)"],commonMistakes:["\u274c 'I will to work' \u2192 \u2705 'I will work' (pas de 'to' apr\xe8s will)","\u274c 'She will works' \u2192 \u2705 'She will work' (verbe base)","\u274c 'I will working' \u2192 \u2705 'I will work' (verbe base, pas -ing)"],tips:["Will + verbe base (pas de -s, pas de -ing, pas de to)","Utilisez will pour d\xe9cisions spontan\xe9es ou pr\xe9dictions","Forme contract\xe9e : I'll, you'll, he'll, she'll, we'll, they'll"],vocabulary:[{word:"tomorrow",definition:"demain"},{word:"next week",definition:"la semaine prochaine"},{word:"will",definition:"verbe auxiliaire du futur"},{word:"to deploy",definition:"d\xe9ployer"}]},past_continuous:{rule:"Past Continuous (Pass\xe9 continu)",explanation:"Le pass\xe9 continu exprime une action en cours \xe0 un moment pr\xe9cis du pass\xe9.",structure:"Structure affirmative :\n\u2022 I/He/She/It was + verb-ing\n\u2022 You/We/They were + verb-ing\n\nStructure interrogative :\n\u2022 Was/Were + sujet + verb-ing\n\u2022 Exemple : 'Were you working?'\n\nStructure n\xe9gative :\n\u2022 Wasn't/Weren't + verb-ing\n\u2022 Exemple : 'I wasn't working'",examples:["I was coding when the bug appeared. (Je codais quand le bug est apparu)","They were testing the application yesterday. (Ils testaient l'application hier)","Was she working on the project? (Travaillait-elle sur le projet ?)"],commonMistakes:["\u274c 'I was work' \u2192 \u2705 'I was working' (verbe-ing requis)","\u274c 'They was working' \u2192 \u2705 'They were working' (were avec they/we/you)","\u274c 'I were coding' \u2192 \u2705 'I was coding' (was avec I/he/she/it)"],tips:["Utilisez was avec I/he/she/it, were avec you/we/they","Toujours verbe-ing apr\xe8s was/were","Souvent utilis\xe9 avec 'when' ou 'while'"],vocabulary:[{word:"was",definition:"\xe9tait, \xe9tais (pass\xe9 de be)"},{word:"were",definition:"\xe9tiez, \xe9taient (pass\xe9 de be)"},{word:"when",definition:"quand"},{word:"while",definition:"pendant que"}]},comparative_superlative:{rule:"Comparative and Superlative (Comparatif et Superlatif)",explanation:"Le comparatif compare deux \xe9l\xe9ments, le superlatif identifie le plus/moins.",structure:"Comparatif :\n\u2022 Court : adjective + -er + than : 'faster than'\n\u2022 Long : more + adjective + than : 'more efficient than'\n\nSuperlatif :\n\u2022 Court : the + adjective + -est : 'the fastest'\n\u2022 Long : the + most + adjective : 'the most efficient'\n\nExceptions : good \u2192 better/best, bad \u2192 worse/worst",examples:["This code is faster than the old one. (Ce code est plus rapide que l'ancien)","She is the most experienced developer. (Elle est la d\xe9veloppeuse la plus exp\xe9riment\xe9e)","The new version is better. (La nouvelle version est meilleure)"],commonMistakes:["\u274c 'more fast' \u2192 \u2705 'faster' (adjectif court)","\u274c 'the most fast' \u2192 \u2705 'the fastest' (adjectif court)","\u274c 'gooder' \u2192 \u2705 'better' (exception)"],tips:["Adjectifs courts (1-2 syllabes) : +er/+est","Adjectifs longs (3+ syllabes) : more/most","Exceptions importantes : good/better/best, bad/worse/worst"],vocabulary:[{word:"faster",definition:"plus rapide"},{word:"better",definition:"meilleur"},{word:"more efficient",definition:"plus efficace"},{word:"the most",definition:"le plus"}]}},B1:{conditional:{rule:"Conditional (Conditionnel)",explanation:"Le conditionnel exprime une situation hypoth\xe9tique ou une possibilit\xe9.",structure:"If + pr\xe9sent \u2192 futur\n\u2022 'If I have time, I will help' (Si j'ai le temps, j'aiderai)",examples:["If I have time, I will help you.","If you need help, I can assist you.","If the test passes, we can deploy."],commonMistakes:["\u274c 'If I will have' \u2192 \u2705 'If I have'","\u274c 'If you will need' \u2192 \u2705 'If you need'"],tips:["Dans la clause 'if', utilisez le pr\xe9sent, pas le futur","Le futur va dans la clause principale"]},passive_voice:{rule:"Passive Voice (Voix passive)",explanation:"La voix passive met l'accent sur l'action, pas sur qui la fait.",structure:"Be (conjugu\xe9) + past participle\n\u2022 'The code was reviewed' (le code a \xe9t\xe9 r\xe9vis\xe9)\n\u2022 'The app is tested' (l'app est test\xe9e)",examples:["The code was reviewed by the team.","The application is tested regularly.","The bug was fixed yesterday."],commonMistakes:["\u274c 'was review' \u2192 \u2705 'was reviewed'","\u274c 'is testing' \u2192 \u2705 'is tested'"],tips:["Utilisez la voix passive quand l'agent n'est pas important","Toujours utiliser le past participle (verbe-ed ou irr\xe9gulier)","Forme : be (conjugu\xe9) + past participle"],vocabulary:[{word:"to review",definition:"r\xe9viser, examiner"},{word:"to test",definition:"tester"},{word:"to fix",definition:"corriger, r\xe9parer"},{word:"by",definition:"par (agent dans la voix passive)"}]},past_perfect:{rule:"Past Perfect (Plus-que-parfait)",explanation:"Le past perfect exprime une action termin\xe9e avant une autre action dans le pass\xe9.",structure:"Structure affirmative :\n\u2022 Had + past participle\n\u2022 Exemple : 'I had finished' / 'She had deployed'\n\nStructure interrogative :\n\u2022 Had + sujet + past participle\n\u2022 Exemple : 'Had you finished?'\n\nStructure n\xe9gative :\n\u2022 Hadn't + past participle\n\u2022 Exemple : 'I hadn't finished'\n\nUsage : Action 1 (past perfect) \u2192 Action 2 (past simple)",examples:["I had finished the code before the meeting. (J'avais fini le code avant la r\xe9union)","She had tested the application when the bug appeared. (Elle avait test\xe9 l'application quand le bug est apparu)","Had you deployed before the deadline? (Aviez-vous d\xe9ploy\xe9 avant la date limite ?)"],commonMistakes:["\u274c 'I had finish' \u2192 \u2705 'I had finished' (past participle requis)","\u274c 'I have finished yesterday' \u2192 \u2705 'I had finished yesterday' (pass\xe9 avant pass\xe9)","\u274c 'She had deploy' \u2192 \u2705 'She had deployed' (past participle)"],tips:["Toujours past participle apr\xe8s had","Utilisez le past perfect pour l'action la plus ancienne","Indicateurs : before, after, when, by the time"],vocabulary:[{word:"before",definition:"avant"},{word:"after",definition:"apr\xe8s"},{word:"by the time",definition:"au moment o\xf9"},{word:"already",definition:"d\xe9j\xe0"}]},second_conditional:{rule:"Second Conditional (Conditionnel type 2)",explanation:"Le second conditional exprime une situation hypoth\xe9tique irr\xe9elle au pr\xe9sent ou futur.",structure:"Structure :\n\u2022 If + past simple \u2192 would/could/might + verbe base\n\u2022 Exemple : 'If I had time, I would help'\n\nInversion formelle :\n\u2022 Were + sujet \u2192 would + verbe base\n\u2022 Exemple : 'Were I you, I would test' (Si j'\xe9tais vous)",examples:["If I had more time, I would write better code. (Si j'avais plus de temps, j'\xe9crirais un meilleur code)","If she were here, she could help. (Si elle \xe9tait l\xe0, elle pourrait aider)","I would deploy if the tests passed. (Je d\xe9ploierais si les tests passaient)"],commonMistakes:["\u274c 'If I would have time' \u2192 \u2705 'If I had time' (pas de would dans la clause if)","\u274c 'If I was you' \u2192 \u2705 'If I were you' (were avec tous les sujets formel)","\u274c 'I would to help' \u2192 \u2705 'I would help' (pas de to apr\xe8s would)"],tips:["If + past simple (pas de would dans la clause if)","Would/could/might + verbe base (pas de to)","Utilis\xe9 pour situations irr\xe9elles ou hypoth\xe9tiques"],vocabulary:[{word:"would",definition:"conditionnel : je ferais"},{word:"could",definition:"pourrait"},{word:"might",definition:"pourrait (possibilit\xe9)"}]},modal_verbs:{rule:"Modal Verbs (Verbes modaux)",explanation:"Les verbes modaux expriment capacit\xe9, permission, obligation, possibilit\xe9.",structure:"Structure : Modal + verbe base (sans 'to')\n\nModaux principaux :\n\u2022 Can : capacit\xe9/permission\n\u2022 Could : capacit\xe9 pass\xe9e/politesse\n\u2022 Must : obligation forte\n\u2022 Should : conseil/obligation faible\n\u2022 May/Might : possibilit\xe9",examples:["I can code in Python. (Je peux coder en Python)","You should test the code. (Vous devriez tester le code)","We must fix this bug. (Nous devons corriger ce bug)","She could help if needed. (Elle pourrait aider si n\xe9cessaire)"],commonMistakes:["\u274c 'I can to code' \u2192 \u2705 'I can code' (pas de to apr\xe8s modal)","\u274c 'She can codes' \u2192 \u2705 'She can code' (verbe base)","\u274c 'You must to test' \u2192 \u2705 'You must test' (pas de to)"],tips:["Toujours verbe base apr\xe8s modaux (pas de -s, pas de -ing, pas de to)","Can = capacit\xe9/permission, Must = obligation forte, Should = conseil","Pas de -s \xe0 la 3e personne avec les modaux"],vocabulary:[{word:"can",definition:"pouvoir (capacit\xe9/permission)"},{word:"must",definition:"devoir (obligation forte)"},{word:"should",definition:"devoir (conseil)"},{word:"could",definition:"pourrait (capacit\xe9 pass\xe9e/politesse)"}]},technical_vocabulary:{rule:"Vocabulaire technique B1",explanation:"Vocabulaire technique interm\xe9diaire pour l'informatique.",vocabulary:[{word:"database",definition:"base de donn\xe9es"},{word:"framework",definition:"framework, cadre de travail"},{word:"API",definition:"Interface de Programmation Applicative"},{word:"backend",definition:"backend, c\xf4t\xe9 serveur"},{word:"frontend",definition:"frontend, c\xf4t\xe9 client"}],examples:["The database stores user data. (La base de donn\xe9es stocke les donn\xe9es utilisateur)","This framework is popular. (Ce framework est populaire)","The API is well documented. (L'API est bien document\xe9e)"]}},B2:{present_perfect_continuous:{rule:"Present Perfect Continuous",explanation:"Exprime une action commenc\xe9e dans le pass\xe9 et qui continue jusqu'\xe0 maintenant, avec emphase sur la dur\xe9e.",structure:"Have/Has + been + verbe-ing\n\u2022 'I have been working' (je travaille depuis...)\n\u2022 'She has been learning' (elle apprend depuis...)",examples:["I have been working on this project for three months.","She has been learning English for five years.","We have been developing this feature since January."],commonMistakes:["\u274c 'have been work' \u2192 \u2705 'have been working'","\u274c 'has been learn' \u2192 \u2705 'has been learning'"],tips:["Emphase sur la dur\xe9e/continuit\xe9","Utilisez 'for' pour une dur\xe9e, 'since' pour un point de d\xe9part"]},modal_perfect:{rule:"Modal Perfect (Could have / Should have)",explanation:"Exprime une possibilit\xe9 ou obligation dans le pass\xe9 qui ne s'est pas r\xe9alis\xe9e.",structure:"Modal + have + past participle\n\u2022 'could have been' (aurait pu \xeatre)\n\u2022 'should have done' (aurait d\xfb faire)",examples:["The vulnerability could have been prevented.","You should have tested the code first.","The bug would have been caught with better tests."],commonMistakes:["\u274c 'could has been' \u2192 \u2705 'could have been'","\u274c 'should has done' \u2192 \u2705 'should have done'"],tips:["Toujours utiliser 'have', pas 'has', apr\xe8s les modaux","Signifie 'c'\xe9tait possible, mais \xe7a n'a pas \xe9t\xe9 fait'","Could have = aurait pu, Should have = aurait d\xfb, Would have = aurait fait"],vocabulary:[{word:"could have",definition:"aurait pu"},{word:"should have",definition:"aurait d\xfb"},{word:"would have",definition:"aurait fait"},{word:"might have",definition:"aurait pu (possibilit\xe9 faible)"}]},past_perfect_continuous:{rule:"Past Perfect Continuous",explanation:"Exprime une action continue dans le pass\xe9 qui s'est termin\xe9e avant une autre action pass\xe9e.",structure:"Structure :\n\u2022 Had been + verb-ing\n\u2022 Exemple : 'I had been working' / 'She had been coding'\n\nUsage : Action continue (had been -ing) \u2192 Action 2 (past simple)",examples:["I had been coding for hours when the bug appeared. (Je codais depuis des heures quand le bug est apparu)","She had been testing the application when it crashed. (Elle testait l'application quand elle a plant\xe9)","We had been working on this feature for weeks before we released it. (Nous travaillions sur cette fonctionnalit\xe9 depuis des semaines avant de la publier)"],commonMistakes:["\u274c 'I had been work' \u2192 \u2705 'I had been working' (verbe-ing requis)","\u274c 'She had be coding' \u2192 \u2705 'She had been coding' (had + been)","\u274c 'They had being working' \u2192 \u2705 'They had been working' (had been)"],tips:["Structure : had + been + verb-ing","Emphase sur la dur\xe9e d'une action pass\xe9e","Utilis\xe9 avec 'for' (dur\xe9e) ou 'when' (moment)"],vocabulary:[{word:"for",definition:"depuis (dur\xe9e)"},{word:"when",definition:"quand"},{word:"before",definition:"avant"}]},reported_speech:{rule:"Reported Speech (Discours indirect)",explanation:"Le discours indirect rapporte ce que quelqu'un a dit sans citer ses mots exacts.",structure:"Changements de temps :\n\u2022 Present \u2192 Past : 'I work' \u2192 'He said he worked'\n\u2022 Will \u2192 Would : 'I will help' \u2192 'She said she would help'\n\u2022 Can \u2192 Could : 'I can code' \u2192 'He said he could code'\n\nVerbes introducteurs : said, told, asked, explained",examples:["He said he was working on the project. (Il a dit qu'il travaillait sur le projet)","She told me she had fixed the bug. (Elle m'a dit qu'elle avait corrig\xe9 le bug)","They asked if we could help. (Ils ont demand\xe9 si nous pouvions aider)"],commonMistakes:["\u274c 'He said he is working' \u2192 \u2705 'He said he was working' (backshift du temps)","\u274c 'She said me' \u2192 \u2705 'She told me' (told avec objet, said sans objet)","\u274c 'They asked me if did I help' \u2192 \u2705 'They asked me if I could help' (ordre normal)"],tips:["Faites le 'backshift' des temps (pr\xe9sent \u2192 pass\xe9)","Utilisez 'told' avec un objet, 'said' sans objet","Ordre normal apr\xe8s 'if' ou 'whether' dans les questions indirectes"],vocabulary:[{word:"said",definition:"a dit"},{word:"told",definition:"a dit \xe0 (avec objet)"},{word:"asked",definition:"a demand\xe9"},{word:"explained",definition:"a expliqu\xe9"}]},relative_clauses:{rule:"Relative Clauses (Propositions relatives)",explanation:"Les propositions relatives ajoutent des informations sur un nom en utilisant qui, que, o\xf9, dont.",structure:"Pronoms relatifs :\n\u2022 Who : personnes (sujet) : 'the developer who wrote this'\n\u2022 Which : choses (sujet/objet) : 'the code which runs'\n\u2022 That : personnes/choses (sujet/objet) : 'the bug that appeared'\n\u2022 Where : lieux : 'the office where I work'\n\u2022 Whose : possession : 'the developer whose code is clean'",examples:["The developer who wrote this code is experienced. (Le d\xe9veloppeur qui a \xe9crit ce code est exp\xe9riment\xe9)","This is the bug that caused the crash. (C'est le bug qui a caus\xe9 le crash)","The office where we work is modern. (Le bureau o\xf9 nous travaillons est moderne)"],commonMistakes:["\u274c 'The developer which wrote' \u2192 \u2705 'The developer who wrote' (who pour personnes)","\u274c 'The code who runs' \u2192 \u2705 'The code which/that runs' (which/that pour choses)","\u274c 'The bug who appeared' \u2192 \u2705 'The bug that/which appeared' (that/which pour choses)"],tips:["Who pour personnes (sujet), whom pour personnes (objet formel)","Which/that pour choses (sujet ou objet)","Where pour lieux, whose pour possession"],vocabulary:[{word:"who",definition:"qui (personnes)"},{word:"which",definition:"qui, que (choses)"},{word:"that",definition:"qui, que (personnes/choses)"},{word:"where",definition:"o\xf9 (lieux)"}]},technical_vocabulary:{rule:"Vocabulaire technique B2",explanation:"Vocabulaire sp\xe9cialis\xe9 avanc\xe9 pour les technologies IT.",vocabulary:[{word:"technical debt",definition:"dette technique"},{word:"deployment",definition:"d\xe9ploiement"},{word:"infrastructure",definition:"infrastructure"},{word:"automation",definition:"automatisation"},{word:"scalability",definition:"scalabilit\xe9"},{word:"microservices",definition:"microservices"}],examples:["Technical debt accumulates over time. (La dette technique s'accumule avec le temps)","The deployment was successful. (Le d\xe9ploiement a r\xe9ussi)","Infrastructure as Code automates provisioning. (L'Infrastructure as Code automatise le provisionnement)"]}},C1:{third_conditional:{rule:"Third Conditional (Conditionnel pass\xe9)",explanation:"Exprime une situation hypoth\xe9tique dans le pass\xe9 et son r\xe9sultat irr\xe9el. L'inversion avec 'Had' rend la phrase plus formelle.",structure:"Had + sujet + past participle \u2192 would have + past participle\n\u2022 'Had I known, I would have acted' (Si j'avais su, j'aurais agi)",examples:["Had the team followed best practices, the breach would not have occurred.","Had I known about the bug, I would have fixed it immediately.","Had we tested properly, the issue would have been caught."],commonMistakes:["\u274c 'If had I known' \u2192 \u2705 'Had I known' (pas de 'if')","\u274c 'would has been' \u2192 \u2705 'would have been'"],tips:["Forme formelle : 'Had' en d\xe9but de phrase (sans 'if')","Niveau C1 - Structure avanc\xe9e","Exprime un regret ou une hypoth\xe8se irr\xe9elle"],exceptions:["La forme avec 'If' est aussi correcte mais moins formelle","'If the team had followed' est \xe9quivalent mais moins \xe9l\xe9gant"]},inversion:{rule:"Inversion (Emphase)",explanation:"L'inversion de l'ordre sujet-verbe est utilis\xe9e pour mettre l'emphase, particuli\xe8rement apr\xe8s des expressions n\xe9gatives ou restrictives.",structure:"Expression restrictive + auxiliaire + sujet + verbe de base\n\u2022 'Not only did it make' (non seulement cela a rendu...)\n\u2022 'Never have I seen' (jamais je n'ai vu...)",examples:["Not only did it make the system more secure, but it also improved performance.","Never have I seen such efficient code.","Rarely do we encounter such issues.","Only then did I realize the problem."],commonMistakes:["\u274c 'Not only it made' \u2192 \u2705 'Not only did it make'","\u274c 'Never I have seen' \u2192 \u2705 'Never have I seen'"],tips:["Niveau C1 - Structure tr\xe8s formelle","Ajoutez un auxiliaire (do/does/did, have/has) apr\xe8s l'expression restrictive","Utilis\xe9 dans l'\xe9crit formel et le discours acad\xe9mique"],exceptions:["L'inversion est optionnelle avec certaines expressions","Peut \xeatre omise dans le langage informel"]},mixed_conditionals:{rule:"Mixed Conditionals (Conditionnels mixtes)",explanation:"Les conditionnels mixtes combinent diff\xe9rents temps pour exprimer des situations complexes reliant pass\xe9 et pr\xe9sent.",structure:"Type 1 : If + past perfect \u2192 would + verbe base\n\u2022 'If I had studied more, I would be better now'\n\nType 2 : If + past simple \u2192 would have + past participle\n\u2022 'If I were you, I would have tested first'",examples:["If I had fixed the bug earlier, the system would be working now. (Si j'avais corrig\xe9 le bug plus t\xf4t, le syst\xe8me fonctionnerait maintenant)","If I were more experienced, I would have caught that error. (Si j'\xe9tais plus exp\xe9riment\xe9, j'aurais attrap\xe9 cette erreur)","If we had deployed yesterday, we wouldn't have this problem today. (Si nous avions d\xe9ploy\xe9 hier, nous n'aurions pas ce probl\xe8me aujourd'hui)"],commonMistakes:["\u274c 'If I had fixed, I would be fixing' \u2192 \u2705 'If I had fixed, I would be' (temps coh\xe9rents)","\u274c 'If I were, I would have be' \u2192 \u2705 'If I were, I would have been' (past participle)"],tips:["Combinez past perfect (action pass\xe9e) avec would + base (situation pr\xe9sente)","Ou combinez past simple (situation pr\xe9sente) avec would have (action pass\xe9e)","Exprime des liens entre pass\xe9 et pr\xe9sent"],exceptions:["Ces structures sont plus rares que les conditionnels standards","Utilis\xe9es principalement dans le langage formel"]},subjunctive:{rule:"Subjunctive Mood (Subjonctif)",explanation:"Le subjonctif exprime des souhaits, des suggestions ou des situations hypoth\xe9tiques, particuli\xe8rement dans des contextes formels.",structure:"Structure :\n\u2022 It is important/recommended that + sujet + verbe base\n\u2022 I suggest/recommend that + sujet + verbe base\n\u2022 If I were you... (pas 'was')\n\nNote : Le verbe au subjonctif reste \xe0 la base, m\xeame \xe0 la 3e personne",examples:["It is important that the code be tested. (Il est important que le code soit test\xe9)","I recommend that he review the code. (Je recommande qu'il r\xe9vise le code)","If I were you, I would deploy. (Si j'\xe9tais vous, je d\xe9ploierais)","I suggest that she fix the bug. (Je sugg\xe8re qu'elle corrige le bug)"],commonMistakes:["\u274c 'It is important that he tests' \u2192 \u2705 'It is important that he test' (subjonctif)","\u274c 'If I was you' \u2192 \u2705 'If I were you' (were au subjonctif)","\u274c 'I recommend that she reviews' \u2192 \u2705 'I recommend that she review' (subjonctif)"],tips:["Verbe base m\xeame \xe0 la 3e personne au subjonctif","Were (pas was) pour tous les sujets avec 'if I were'","Utilis\xe9 apr\xe8s : suggest, recommend, important, essential, necessary"],exceptions:["Le subjonctif est souvent remplac\xe9 par l'indicatif dans le langage informel","Plus courant en anglais am\xe9ricain qu'en anglais britannique"]},advanced_modals:{rule:"Advanced Modal Verbs (Modaux avanc\xe9s)",explanation:"Utilisation avanc\xe9e des modaux pour exprimer des nuances subtiles de possibilit\xe9, obligation et probabilit\xe9.",structure:"Modaux de probabilit\xe9 :\n\u2022 Must : tr\xe8s probable (d\xe9duction)\n\u2022 Might/May : possible\n\u2022 Could : possible mais incertain\n\nModaux pass\xe9s :\n\u2022 Must have + past participle : tr\xe8s probable au pass\xe9\n\u2022 Might/May/Could have + past participle : possible au pass\xe9",examples:["The server must be down. (Le serveur doit \xeatre en panne - d\xe9duction)","She might have forgotten the meeting. (Elle a peut-\xeatre oubli\xe9 la r\xe9union)","This could be a serious bug. (Cela pourrait \xeatre un bug s\xe9rieux)","He must have fixed the code. (Il a d\xfb corriger le code - d\xe9duction pass\xe9e)"],commonMistakes:["\u274c 'She must have forget' \u2192 \u2705 'She must have forgotten' (past participle)","\u274c 'It must be a bug, I'm not sure' \u2192 \u2705 'It might be a bug' (must = certitude)","\u274c 'He can have done' \u2192 \u2705 'He could have done' (can n'a pas de pass\xe9)"],tips:["Must = tr\xe8s probable/d\xe9duction logique","Might/May = possible (might moins certain que may)","Could = possible mais moins probable que might","Must have + past participle pour d\xe9duction pass\xe9e"],exceptions:["Must pour obligation : 'You must test the code'","Must have pour d\xe9duction : 'He must have left' (il a d\xfb partir)"]},advanced_technical_vocabulary:{rule:"Vocabulaire technique avanc\xe9 C1",explanation:"Vocabulaire sp\xe9cialis\xe9 tr\xe8s avanc\xe9 et concepts complexes en IT, IA et DevOps.",vocabulary:[{word:"retrieval-augmented generation",definition:"g\xe9n\xe9ration augment\xe9e par r\xe9cup\xe9ration (RAG)"},{word:"microservices architecture",definition:"architecture microservices"},{word:"fault isolation",definition:"isolation des pannes"},{word:"observability",definition:"observabilit\xe9"},{word:"model drift",definition:"d\xe9rive du mod\xe8le"},{word:"distributed systems",definition:"syst\xe8mes distribu\xe9s"},{word:"event-driven architecture",definition:"architecture orient\xe9e \xe9v\xe9nements"}],examples:["RAG systems combine retrieval with generation. (Les syst\xe8mes RAG combinent r\xe9cup\xe9ration et g\xe9n\xe9ration)","Microservices improve fault isolation. (Les microservices am\xe9liorent l'isolation des pannes)","Observability provides deep insights into system behavior. (L'observabilit\xe9 fournit des insights profonds sur le comportement du syst\xe8me)"]}}},l=(null===o||void 0===o?void 0:o[0])||"basic_vocabulary",c=a[t]||a.B2,u=c[l]||c.basic_vocabulary,d=i?"".concat(i,"\n\n").concat(u.explanation):u.explanation;return(0,J.jsxs)(ce,{sx:{mt:2},children:[(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[s?n?(0,J.jsx)(ms,{icon:(0,J.jsx)(ca,{}),label:"Bonne r\xe9ponse \u2705",color:"success"}):(0,J.jsx)(ms,{icon:(0,J.jsx)(Hf,{}),label:"R\xe9ponse incorrecte \u274c",color:"error"}):(0,J.jsx)(ms,{icon:(0,J.jsx)(oy,{}),label:"Correction d\xe9taill\xe9e \ud83d\udca1",color:"info"}),(0,J.jsx)(ms,{icon:(0,J.jsx)(mi,{}),label:"Niveau ".concat(t),variant:"outlined"})]}),(0,J.jsx)(Te,{variant:"body1",paragraph:!0,sx:{fontWeight:"bold",fontSize:"1.1rem"},children:u.rule}),(0,J.jsx)(Te,{variant:"body2",paragraph:!0,children:d}),u.structure&&(0,J.jsx)(ce,{sx:{bgcolor:"grey.100",p:2,borderRadius:1,mb:2},children:(0,J.jsxs)(Te,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",fontFamily:"monospace"},children:[(0,J.jsx)("strong",{children:"Structure :"}),(0,J.jsx)("br",{}),u.structure]})}),u.vocabulary&&u.vocabulary.length>0&&(0,J.jsxs)(ce,{sx:{mb:2},children:[(0,J.jsx)(Te,{variant:"subtitle2",gutterBottom:!0,children:(0,J.jsx)("strong",{children:"Vocabulaire :"})}),u.vocabulary.map((e,t)=>(0,J.jsx)(ce,{sx:{mb:1},children:(0,J.jsxs)(Te,{variant:"body2",children:["\u2022 ",(0,J.jsx)("strong",{children:e.word})," : ",e.definition]})},t))]}),u.examples&&u.examples.length>0&&(0,J.jsxs)(ce,{sx:{mb:2},children:[(0,J.jsx)(Te,{variant:"subtitle2",gutterBottom:!0,children:(0,J.jsx)("strong",{children:"Exemples :"})}),u.examples.map((e,t)=>(0,J.jsxs)(Te,{variant:"body2",sx:{mb:.5,fontStyle:"italic"},children:['\u2022 "',e,'"']},t))]}),u.commonMistakes&&u.commonMistakes.length>0&&(0,J.jsxs)(ce,{sx:{mb:2},children:[(0,J.jsx)(Te,{variant:"subtitle2",gutterBottom:!0,children:(0,J.jsx)("strong",{children:"\u26a0\ufe0f Erreurs fr\xe9quentes :"})}),u.commonMistakes.map((e,t)=>(0,J.jsx)(Te,{variant:"body2",sx:{mb:.5},children:e},t))]}),u.tips&&u.tips.length>0&&(0,J.jsxs)(ce,{sx:{mb:2,bgcolor:"info.light",p:2,borderRadius:1},children:[(0,J.jsx)(Te,{variant:"subtitle2",gutterBottom:!0,children:(0,J.jsx)("strong",{children:"\ud83d\udca1 Conseils :"})}),u.tips.map((e,t)=>(0,J.jsxs)(Te,{variant:"body2",sx:{mb:.5},children:["\u2022 ",e]},t))]}),u.exceptions&&u.exceptions.length>0&&(0,J.jsxs)(ce,{sx:{mb:2,bgcolor:"warning.light",p:2,borderRadius:1},children:[(0,J.jsx)(Te,{variant:"subtitle2",gutterBottom:!0,children:(0,J.jsx)("strong",{children:"\u26a0\ufe0f Exceptions ou cas particuliers :"})}),u.exceptions.map((e,t)=>(0,J.jsxs)(Te,{variant:"body2",sx:{mb:.5},children:["\u2022 ",e]},t))]}),(0,J.jsxs)(ce,{sx:{mt:2,bgcolor:n&&s?"success.light":s?"error.light":"info.light",p:2,borderRadius:1},children:[(0,J.jsxs)(Te,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:"bold",color:n&&s?"success.dark":"text.primary"},children:[(0,J.jsx)("strong",{children:"\u2705 Bonne r\xe9ponse :"}),' "',r,'"']}),s&&(0,J.jsxs)(Te,{variant:"subtitle2",gutterBottom:!0,sx:{mt:1},children:[(0,J.jsx)("strong",{children:"Votre r\xe9ponse :"}),' "',s,'"',n?(0,J.jsx)(ms,{label:"\u2705 Correcte",color:"success",size:"small",sx:{ml:1}}):(0,J.jsx)(ms,{label:"\u274c Incorrecte",color:"error",size:"small",sx:{ml:1}})]}),!s&&(0,J.jsx)(Te,{variant:"body2",sx:{mt:1,fontStyle:"italic"},children:"\ud83d\udca1 Aucune r\xe9ponse fournie. Voici la bonne r\xe9ponse avec les explications d\xe9taill\xe9es ci-dessus."})]})]})},sy=e=>{let{testId:n="toeic_b2",level:r,onComplete:o}=e;const[s,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(0),[u,d]=(0,t.useState)(0),[h,p]=(0,t.useState)({}),[f,m]=(0,t.useState)({grammar:0,listening:0,total:0}),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),[x]=(0,t.useState)(()=>Date.now()),[w,S]=(0,t.useState)(0),{speak:k,isSpeaking:A,stop:E}=cp(),{addResponse:C}=as();(0,t.useEffect)(()=>{(async()=>{try{const e=await fetch("/data/toeic_toefl/toeic_all_levels.json"),t=await e.json();let o;o=r?t.tests.find(e=>e.level===r):t.tests.find(e=>e.id===n),o||(o=t.tests[0]),a(o)}catch(Sy){console.error("Erreur chargement test TOEIC:",Sy)}})()},[n,r]),(0,t.useEffect)(()=>{if(!g&&s){const e=setInterval(()=>{S(Math.floor((Date.now()-x)/1e3))},1e3);return()=>clearInterval(e)}},[g,x,s]);const I=null===s||void 0===s?void 0:s.sections[l],T=null===I||void 0===I?void 0:I.questions[u],j=(null===s||void 0===s?void 0:s.sections.reduce((e,t)=>e+t.questions.length,0))||0,_=Object.keys(h).length,R=j>0?_/j*100:0,P=()=>{if(!s)return;let e=0,t=0;s.sections.forEach(n=>{n.questions.forEach(r=>{const o=h[r.id];o&&o.toLowerCase().trim()===r.correctAnswer.toLowerCase().trim()&&("grammar"===n.id?e+=r.points:"listening"===n.id&&(t+=r.points))})});const n=e+t,r={grammar:e,listening:t,total:n};m(r),v(!0);const a=e/s.sections[0].points*100,l=t/s.sections[1].points*100,c=n/s.totalPoints*100;let u;u=c>=85&&a>=70&&l>=80?"C1":c>=70&&a>=60&&l>=70?"B2":c>=50&&a>=50&&l>=50?"B1":"A2",o&&o((0,i.A)((0,i.A)({},r),{},{level:u}))};if(!s)return(0,J.jsx)(ce,{sx:{p:3,textAlign:"center"},children:(0,J.jsx)(Te,{variant:"h6",children:"Chargement du test TOEIC..."})});if(g){const e=f.grammar/s.sections[0].points*100,t=f.listening/s.sections[1].points*100,n=f.total/s.totalPoints*100;let r;return r=n>=85&&e>=70&&t>=80?"C1":n>=70&&e>=60&&t>=70?"B2":n>=50&&e>=50&&t>=50?"B1":"A2",(0,J.jsx)(ce,{sx:{p:3},children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsx)(Te,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\u2705 Vos r\xe9sultats sont pr\xeats"}),(0,J.jsxs)(Be,{container:!0,spacing:3,sx:{mb:3},children:[(0,J.jsx)(Be,{item:!0,xs:12,md:4,children:(0,J.jsx)(Ye,{variant:"outlined",children:(0,J.jsxs)(tt,{sx:{textAlign:"center"},children:[(0,J.jsx)(Te,{variant:"h6",color:"primary",gutterBottom:!0,children:"GRAMMAIRE"}),(0,J.jsxs)(Te,{variant:"h3",color:"primary",children:[f.grammar," / ",s.sections[0].points," pts"]}),(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",children:[e.toFixed(1),"%"]})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:4,children:(0,J.jsx)(Ye,{variant:"outlined",children:(0,J.jsxs)(tt,{sx:{textAlign:"center"},children:[(0,J.jsx)(Te,{variant:"h6",color:"success.main",gutterBottom:!0,children:"COMPREHENSION AUDIO"}),(0,J.jsxs)(Te,{variant:"h3",color:"success.main",children:[f.listening," / ",s.sections[1].points," pts"]}),(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",children:[t.toFixed(1),"%"]})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:4,children:(0,J.jsx)(Ye,{variant:"outlined",children:(0,J.jsxs)(tt,{sx:{textAlign:"center"},children:[(0,J.jsx)(Te,{variant:"h6",color:"secondary.main",gutterBottom:!0,children:"TOTAL"}),(0,J.jsxs)(Te,{variant:"h3",color:"secondary.main",children:[f.total," / ",s.totalPoints," pts"]}),(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",children:[n.toFixed(1),"%"]})]})})})]}),(0,J.jsx)(Ye,{sx:{bgcolor:"primary.light",mb:3},children:(0,J.jsxs)(tt,{sx:{textAlign:"center"},children:[(0,J.jsx)(Te,{variant:"h5",gutterBottom:!0,children:"NIVEAU DE LANGUE"}),(0,J.jsx)(ms,{label:r,color:"primary",sx:{fontSize:"2rem",height:"auto",py:2,px:3}})]})}),(0,J.jsxs)(ce,{sx:{textAlign:"center"},children:[(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",paragraph:!0,children:["Temps total: ",Math.floor(w/60)," min ",w%60," sec"]}),(0,J.jsx)(pn,{variant:"contained",color:"primary",onClick:()=>b(!0),sx:{mt:2},children:"Voir les analyses d\xe9taill\xe9es"})]})]})})})}if(y&&s)return(0,J.jsxs)(ce,{sx:{p:3},children:[(0,J.jsx)(pn,{variant:"text",onClick:()=>b(!1),sx:{mb:2},children:"\u2190 Retour aux r\xe9sultats"}),(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsx)(Te,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\ud83d\udcca Analyses de Compr\xe9hension D\xe9taill\xe9es"}),(0,J.jsxs)(Te,{variant:"h6",gutterBottom:!0,sx:{mb:2},children:["Test : ",s.title]}),s.sections.map((e,t)=>(0,J.jsxs)(ce,{sx:{mb:4},children:[(0,J.jsx)(wv,{sx:{mb:2}}),(0,J.jsx)(Te,{variant:"h5",gutterBottom:!0,sx:{mb:2},children:e.name}),e.questions.map((t,n)=>{const r=h[t.id],o=!(!r||!t.correctAnswer)&&r.toLowerCase().trim()===t.correctAnswer.toLowerCase().trim();return(0,J.jsx)(Ye,{variant:"outlined",sx:{mb:3},children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,J.jsx)(ms,{label:"Question ".concat(n+1),color:o?"success":"error",variant:o?"filled":"outlined"}),(0,J.jsx)(ms,{label:"".concat(t.points," points"),variant:"outlined"})]}),(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,children:t.text}),"listening"===e.type&&t.audioText&&(0,J.jsx)(Ns,{severity:"info",sx:{mb:2},children:(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Audio :"})," ",t.audioText]})}),t.options&&(0,J.jsxs)(ce,{sx:{mb:2},children:[(0,J.jsx)(Te,{variant:"subtitle2",gutterBottom:!0,children:"Options :"}),t.options.map((e,n)=>(0,J.jsxs)(Te,{variant:"body2",sx:{p:1,mb:.5,bgcolor:e===t.correctAnswer?"success.light":e!==r||o?"grey.50":"error.light",borderRadius:1},children:[e===t.correctAnswer&&"\u2705 ",e===r&&!o&&"\u274c ",e]},n))]}),iy({questionId:t.id,level:t.level||s.level||"B2",isCorrect:!!r&&o,questionText:t.text,userAnswer:r||"",correctAnswer:t.correctAnswer,grammarFocus:t.grammarFocus,vocabularyFocus:t.vocabularyFocus,customExplanation:t.explanation})]})},t.id)})]},e.id))]})})]});const N=T&&void 0!==h[T.id];return(0,J.jsx)(ce,{sx:{p:3},children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{mb:3},children:[(0,J.jsx)(Te,{variant:"h4",gutterBottom:!0,children:s.title}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",children:s.description})]}),(0,J.jsxs)(ce,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[(0,J.jsx)(na,{variant:"determinate",value:R,sx:{flexGrow:1,height:8,borderRadius:4}}),(0,J.jsxs)(Te,{variant:"body2",children:[_," / ",j]}),(0,J.jsx)(ms,{icon:(0,J.jsx)(sa,{}),label:"".concat(Math.floor(w/60),":").concat(String(w%60).padStart(2,"0")),color:"primary"})]}),(0,J.jsx)(Lv,{activeStep:l,sx:{mb:3},children:s.sections.map((e,t)=>(0,J.jsx)(zv,{children:(0,J.jsx)(ry,{children:e.name})},e.id))}),T&&(0,J.jsx)(Ye,{variant:"outlined",sx:{mb:3},children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,J.jsx)(ms,{icon:"listening"===(null===I||void 0===I?void 0:I.type)?(0,J.jsx)(Ap,{}):(0,J.jsx)(oa,{}),label:"Question ".concat(u+1," / ").concat(I.questions.length),color:"primary"}),(0,J.jsx)(ms,{label:"".concat(T.points," points"),variant:"outlined"})]}),"listening"===(null===I||void 0===I?void 0:I.type)&&T.audioText&&(0,J.jsxs)(ce,{sx:{mb:3,textAlign:"center"},children:[(0,J.jsx)(pn,{variant:"outlined",startIcon:A?(0,J.jsx)(ip,{}):(0,J.jsx)(Ap,{}),onClick:()=>{null!==T&&void 0!==T&&T.audioText&&(A?E():k(T.audioText))},sx:{mb:2},children:A?"Arr\xeater l'audio":"\xc9couter la question"}),T.audioText&&(0,J.jsx)(Ns,{severity:"info",sx:{mt:2},children:(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Audio :"})," ",T.audioText]})})]}),(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,sx:{mb:3},children:T.text}),(0,J.jsx)(ba,{component:"fieldset",fullWidth:!0,children:(0,J.jsx)(Hc,{value:h[T.id]||"",onChange:e=>{return t=T.id,n=e.target.value,void p(e=>(0,i.A)((0,i.A)({},e),{},{[t]:n}));var t,n},children:T.options.map((e,t)=>(0,J.jsx)(su,{value:e,control:(0,J.jsx)(Eu,{}),label:e,sx:{p:2,mb:1,border:1,borderColor:"grey.300",borderRadius:2,"&:hover":{bgcolor:"grey.50"}}},t))})})]})}),(0,J.jsxs)(ce,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,J.jsx)(pn,{variant:"outlined",onClick:()=>{if(u>0)d(e=>e-1);else if(l>0){c(e=>e-1);const e=s.sections[l-1];d(e.questions.length-1)}},disabled:0===l&&0===u,children:"Pr\xe9c\xe9dent"}),(0,J.jsx)(pn,{variant:"contained",onClick:()=>{T&&u<I.questions.length-1?d(e=>e+1):l<s.sections.length-1?(c(e=>e+1),d(0)):P()},disabled:!N,endIcon:_===j?(0,J.jsx)(ca,{}):void 0,children:_===j?"Terminer le test":"Suivant"})]})]})})})},ay=e=>{let{testId:n="toefl_c1",level:r,onComplete:o}=e;const[s,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(0),[u,d]=(0,t.useState)(0),[h,p]=(0,t.useState)({}),[f,m]=(0,t.useState)({reading:0,listening:0,writing:0,total:0}),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),[x]=(0,t.useState)(()=>Date.now()),[w,S]=(0,t.useState)(0),{speak:k,isSpeaking:A,stop:E}=cp(),{addResponse:C}=as();(0,t.useEffect)(()=>{(async()=>{try{const e=await fetch("/data/toeic_toefl/toefl_all_levels.json"),t=await e.json();let o;o=r?t.tests.find(e=>e.level===r):t.tests.find(e=>e.id===n),o||(o=t.tests[0]),a(o)}catch(Sy){console.error("Erreur chargement test TOEFL:",Sy)}})()},[n,r]),(0,t.useEffect)(()=>{if(!g&&s){const e=setInterval(()=>{S(Math.floor((Date.now()-x)/1e3))},1e3);return()=>clearInterval(e)}},[g,x,s]);const I=null===s||void 0===s?void 0:s.sections[l],T=null===I||void 0===I?void 0:I.questions[u],j=(null===s||void 0===s?void 0:s.sections.reduce((e,t)=>e+t.questions.length,0))||0,_=Object.keys(h).length,R=j>0?_/j*100:0,P=(e,t)=>{p(n=>(0,i.A)((0,i.A)({},n),{},{[e]:t}))},N=()=>{if(!s)return;let e=0,t=0,n=0;s.sections.forEach(r=>{r.questions.forEach(o=>{const i=h[o.id];"essay"===o.type?i&&i.length>50&&(n+=.7*o.points):i&&o.correctAnswer&&i.toLowerCase().trim()===o.correctAnswer.toLowerCase().trim()&&("reading"===r.id?e+=o.points:"listening"===r.id&&(t+=o.points))})});const r=e+t+n,a={reading:e,listening:t,writing:n,total:r};m(a),v(!0);const l=r/s.totalPoints*100;let c;c=l>=85?"C1":l>=70?"B2":l>=50?"B1":"A2",o&&o((0,i.A)((0,i.A)({},a),{},{level:c}))};if(!s)return(0,J.jsx)(ce,{sx:{p:3,textAlign:"center"},children:(0,J.jsx)(Te,{variant:"h6",children:"Chargement du test TOEFL..."})});if(g){const e=f.reading/s.sections[0].points*100,t=f.listening/s.sections[1].points*100,n=f.writing/s.sections[2].points*100,r=f.total/s.totalPoints*100;let o;return o=r>=85?"C1":r>=70?"B2":r>=50?"B1":"A2",(0,J.jsx)(ce,{sx:{p:3},children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsx)(Te,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\u2705 Vos r\xe9sultats sont pr\xeats"}),(0,J.jsxs)(Be,{container:!0,spacing:3,sx:{mb:3},children:[(0,J.jsx)(Be,{item:!0,xs:12,md:4,children:(0,J.jsx)(Ye,{variant:"outlined",children:(0,J.jsxs)(tt,{sx:{textAlign:"center"},children:[(0,J.jsx)(Te,{variant:"h6",color:"primary",gutterBottom:!0,children:"READING"}),(0,J.jsxs)(Te,{variant:"h3",color:"primary",children:[f.reading.toFixed(1)," / ",s.sections[0].points," pts"]}),(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",children:[e.toFixed(1),"%"]})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:4,children:(0,J.jsx)(Ye,{variant:"outlined",children:(0,J.jsxs)(tt,{sx:{textAlign:"center"},children:[(0,J.jsx)(Te,{variant:"h6",color:"success.main",gutterBottom:!0,children:"LISTENING"}),(0,J.jsxs)(Te,{variant:"h3",color:"success.main",children:[f.listening.toFixed(1)," / ",s.sections[1].points," pts"]}),(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",children:[t.toFixed(1),"%"]})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:4,children:(0,J.jsx)(Ye,{variant:"outlined",children:(0,J.jsxs)(tt,{sx:{textAlign:"center"},children:[(0,J.jsx)(Te,{variant:"h6",color:"secondary.main",gutterBottom:!0,children:"WRITING"}),(0,J.jsxs)(Te,{variant:"h3",color:"secondary.main",children:[f.writing.toFixed(1)," / ",s.sections[2].points," pts"]}),(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",children:[n.toFixed(1),"%"]})]})})})]}),(0,J.jsx)(Ye,{sx:{bgcolor:"primary.light",mb:3},children:(0,J.jsxs)(tt,{sx:{textAlign:"center"},children:[(0,J.jsxs)(Te,{variant:"h5",gutterBottom:!0,children:["TOTAL: ",f.total.toFixed(1)," / ",s.totalPoints," pts"]}),(0,J.jsx)(Te,{variant:"h5",gutterBottom:!0,children:"NIVEAU DE LANGUE"}),(0,J.jsx)(ms,{label:o,color:"primary",sx:{fontSize:"2rem",height:"auto",py:2,px:3}})]})}),(0,J.jsx)(ce,{sx:{textAlign:"center"},children:(0,J.jsx)(pn,{variant:"contained",color:"primary",onClick:()=>b(!0),sx:{mt:2},children:"Voir les analyses d\xe9taill\xe9es"})})]})})})}if(y&&s)return(0,J.jsxs)(ce,{sx:{p:3},children:[(0,J.jsx)(pn,{variant:"text",onClick:()=>b(!1),sx:{mb:2},children:"\u2190 Retour aux r\xe9sultats"}),(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsx)(Te,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\ud83d\udcca Analyses de Compr\xe9hension D\xe9taill\xe9es"}),(0,J.jsxs)(Te,{variant:"h6",gutterBottom:!0,sx:{mb:2},children:["Test : ",s.title]}),s.sections.map((e,t)=>(0,J.jsxs)(ce,{sx:{mb:4},children:[(0,J.jsx)(wv,{sx:{mb:2}}),(0,J.jsx)(Te,{variant:"h5",gutterBottom:!0,sx:{mb:2},children:e.name}),e.questions.map((t,n)=>{const r=h[t.id],o="essay"===t.type?!!(r&&r.length>50):!(!r||!t.correctAnswer||r.toLowerCase().trim()!==t.correctAnswer.toLowerCase().trim());return(0,J.jsx)(Ye,{variant:"outlined",sx:{mb:3},children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,J.jsx)(ms,{label:"Question ".concat(n+1),color:o?"success":"error",variant:o?"filled":"outlined"}),(0,J.jsx)(ms,{label:"".concat(t.points," points"),variant:"outlined"})]}),(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,children:t.text}),"listening"===e.type&&t.audioText&&(0,J.jsx)(Ns,{severity:"info",sx:{mb:2},children:(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Audio :"})," ",t.audioText]})}),t.options&&(0,J.jsxs)(ce,{sx:{mb:2},children:[(0,J.jsx)(Te,{variant:"subtitle2",gutterBottom:!0,children:"Options :"}),t.options.map((e,n)=>(0,J.jsxs)(Te,{variant:"body2",sx:{p:1,mb:.5,bgcolor:e===t.correctAnswer?"success.light":e!==r||o?"grey.50":"error.light",borderRadius:1},children:[e===t.correctAnswer&&"\u2705 ",e===r&&!o&&"\u274c ",e]},n))]}),"essay"!==t.type&&iy({questionId:t.id,level:t.level||s.level||"C1",isCorrect:!!r&&o,questionText:t.text,userAnswer:r||"",correctAnswer:t.correctAnswer||"",grammarFocus:t.grammarFocus,vocabularyFocus:t.vocabularyFocus,customExplanation:t.explanation}),"essay"===t.type&&r&&(0,J.jsxs)(ce,{sx:{mt:2},children:[(0,J.jsx)(Te,{variant:"subtitle2",gutterBottom:!0,children:(0,J.jsx)("strong",{children:"Votre r\xe9ponse :"})}),(0,J.jsx)(Te,{variant:"body2",sx:{mb:2,p:2,bgcolor:"grey.50",borderRadius:1},children:r}),(0,J.jsx)(Ns,{severity:"info",children:(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Explication :"})," ",t.explanation]})})]})]})},t.id)})]},e.id))]})})]});const O=T&&("essay"===T.type?h[T.id]&&h[T.id].length>50:void 0!==h[T.id]);return(0,J.jsx)(ce,{sx:{p:3},children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{mb:3},children:[(0,J.jsx)(Te,{variant:"h4",gutterBottom:!0,children:s.title}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",children:s.description})]}),(0,J.jsxs)(ce,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[(0,J.jsx)(na,{variant:"determinate",value:R,sx:{flexGrow:1,height:8,borderRadius:4}}),(0,J.jsxs)(Te,{variant:"body2",children:[_," / ",j]}),(0,J.jsx)(ms,{icon:(0,J.jsx)(sa,{}),label:"".concat(Math.floor(w/60),":").concat(String(w%60).padStart(2,"0")),color:"primary"})]}),(0,J.jsx)(Lv,{activeStep:l,sx:{mb:3},children:s.sections.map((e,t)=>(0,J.jsx)(zv,{children:(0,J.jsx)(ry,{children:e.name})},e.id))}),T&&(0,J.jsx)(Ye,{variant:"outlined",sx:{mb:3},children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,J.jsx)(ms,{icon:"listening"===(null===I||void 0===I?void 0:I.type)?(0,J.jsx)(Ap,{}):"writing"===(null===I||void 0===I?void 0:I.type)?(0,J.jsx)(Ep,{}):(0,J.jsx)(oa,{}),label:"Question ".concat(u+1," / ").concat(I.questions.length),color:"primary"}),(0,J.jsx)(ms,{label:"".concat(T.points," points"),variant:"outlined"})]}),"listening"===(null===I||void 0===I?void 0:I.type)&&T.audioText&&(0,J.jsxs)(ce,{sx:{mb:3,textAlign:"center"},children:[(0,J.jsx)(pn,{variant:"outlined",startIcon:A?(0,J.jsx)(ip,{}):(0,J.jsx)(Ap,{}),onClick:()=>{null!==T&&void 0!==T&&T.audioText&&(A?E():k(T.audioText))},sx:{mb:2},children:A?"Arr\xeater l'audio":"\xc9couter la question"}),T.audioText&&(0,J.jsx)(Ns,{severity:"info",sx:{mt:2},children:(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Audio :"})," ",T.audioText]})})]}),(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,sx:{mb:3},children:T.text}),"essay"===T.type?(0,J.jsx)(zu,{fullWidth:!0,multiline:!0,rows:8,placeholder:"\xc9crivez votre r\xe9ponse ici (minimum 100 mots recommand\xe9)...",value:h[T.id]||"",onChange:e=>P(T.id,e.target.value),sx:{mb:2}}):T.options?(0,J.jsx)(ba,{component:"fieldset",fullWidth:!0,children:(0,J.jsx)(Hc,{value:h[T.id]||"",onChange:e=>P(T.id,e.target.value),children:T.options.map((e,t)=>(0,J.jsx)(su,{value:e,control:(0,J.jsx)(Eu,{}),label:e,sx:{p:2,mb:1,border:1,borderColor:"grey.300",borderRadius:2,"&:hover":{bgcolor:"grey.50"}}},t))})}):null]})}),(0,J.jsxs)(ce,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,J.jsx)(pn,{variant:"outlined",onClick:()=>{if(u>0)d(e=>e-1);else if(l>0){c(e=>e-1);const e=s.sections[l-1];d(e.questions.length-1)}},disabled:0===l&&0===u,children:"Pr\xe9c\xe9dent"}),(0,J.jsx)(pn,{variant:"contained",onClick:()=>{T&&u<I.questions.length-1?d(e=>e+1):l<s.sections.length-1?(c(e=>e+1),d(0)):N()},disabled:!O,children:_===j?"Terminer le test":"Suivant"})]})]})})})},ly=hi((0,J.jsx)("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"}),"Mic"),cy=()=>/Android/i.test(navigator.userAgent),uy=()=>window.isSecureContext||"https:"===window.location.protocol||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,dy=e=>{let{testId:n="efset_b2",level:r,onComplete:o}=e;const[s,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(0),[u,d]=(0,t.useState)(0),[h,p]=(0,t.useState)("B2"),[f,m]=(0,t.useState)({}),[g,v]=(0,t.useState)({reading:0,listening:0,writing:0,speaking:0,total:0}),[y,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)(!1),[S]=(0,t.useState)(()=>Date.now()),[k,A]=(0,t.useState)(0),{speak:E,isSpeaking:C,stop:I}=cp(),{transcript:T,listening:j,startListening:_,stopListening:R}=(()=>{const e="undefined"!==typeof window&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window)&&uy(),[n,r]=(0,t.useState)(""),[o,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)(0),[l,c]=(0,t.useState)(()=>e?null:uy()?"Votre navigateur ne supporte pas la reconnaissance vocale.":"HTTPS requis pour la reconnaissance vocale. Veuillez utiliser une connexion s\xe9curis\xe9e."),[u,d]=(0,t.useState)(!1),h=(0,t.useRef)(null),p=(0,t.useRef)(null),f=(0,t.useCallback)(async()=>{try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(e=>e.stop()),d(!0),c(null),!0}catch(e){return console.error("Microphone permission error:",e),"NotAllowedError"===e.name||"PermissionDeniedError"===e.name?c("Permission microphone refus\xe9e. Veuillez autoriser l'acc\xe8s au microphone."):"NotFoundError"===e.name?c("Aucun microphone d\xe9tect\xe9 sur votre appareil."):c("Erreur d'acc\xe8s au microphone."),d(!1),!1}},[]);(0,t.useEffect)(()=>{if(!e)return;const t=new(window.SpeechRecognition||window.webkitSpeechRecognition);return t.continuous=!0,t.interimResults=!0,t.lang="en-US",t.maxAlternatives=1,cy()&&(t.continuous=!1),t.onresult=e=>{let n="",i="";for(let t=e.resultIndex;t<e.results.length;t++){const r=e.results[t][0].transcript;if(e.results[t].isFinal){i+=r+" ";const n=e.results[t][0].confidence;a(n?Math.round(100*n):80)}else n+=r}r(e=>{const t=e+i;return n?t+n:t}),cy()&&i&&o&&(p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{try{t.start()}catch(e){}},300))},t.onerror=e=>{switch(console.error("Speech recognition error:",e.error),e.error){case"network":c("Erreur r\xe9seau. V\xe9rifiez votre connexion Internet.");break;case"not-allowed":c("Permission microphone refus\xe9e."),d(!1);break;case"no-speech":c("Aucune parole d\xe9tect\xe9e. R\xe9essayez.");break;case"audio-capture":c("Impossible d'acc\xe9der au microphone.");break;case"aborted":break;default:c("Erreur de reconnaissance: ".concat(e.error))}i(!1)},t.onstart=()=>{c(null),i(!0)},t.onend=()=>{i(!1),p.current&&clearTimeout(p.current)},h.current=t,()=>{if(h.current)try{h.current.stop()}catch(e){}p.current&&clearTimeout(p.current)}},[e,o]);const m=(0,t.useCallback)(async()=>{if(h.current&&!o&&await f())try{try{h.current.stop()}catch(e){}await new Promise(e=>setTimeout(e,100)),h.current.start(),i(!0),c(null)}catch(l){if(console.error("Error starting recognition:",l),"InvalidStateError"===l.name)try{h.current.stop(),setTimeout(()=>{h.current.start()},200)}catch(e){c("Impossible de d\xe9marrer la reconnaissance vocale.")}else c("Erreur lors du d\xe9marrage de la reconnaissance vocale.");i(!1)}},[o,f]),g=(0,t.useCallback)(()=>{if(h.current&&o)try{h.current.stop(),i(!1)}catch(l){console.error("Error stopping recognition:",l)}p.current&&(clearTimeout(p.current),p.current=null)},[o]),v=(0,t.useCallback)(()=>{r(""),a(0),c(null)},[]);return{transcript:n,listening:o,startListening:m,stopListening:g,resetTranscript:v,browserSupportsSpeechRecognition:e,confidence:s,error:l,permissionGranted:u}})(),{addResponse:P}=as();(0,t.useEffect)(()=>{(async()=>{try{var e;const t=await fetch("/data/toeic_toefl/efset_all_levels.json"),o=await t.json();let i;i=r?o.tests.find(e=>e.level===r):o.tests.find(e=>e.id===n),i||(i=o.tests[0]),a(i),null!==(e=i.sections[0])&&void 0!==e&&e.initialLevel?p(i.sections[0].initialLevel):i.level&&p(i.level)}catch(Sy){console.error("Erreur chargement test EF SET:",Sy)}})()},[n,r]),(0,t.useEffect)(()=>{if(!y&&s){const e=setInterval(()=>{A(Math.floor((Date.now()-S)/1e3))},1e3);return()=>clearInterval(e)}},[y,S,s]);const N=(()=>{if(!s)return[];const e=s.sections[l];return e.adaptive?e.questions.filter(e=>e.level===h):e.questions})(),O=null===s||void 0===s?void 0:s.sections[l],L=N[u],M=(null===s||void 0===s?void 0:s.sections.reduce((e,t)=>t.adaptive?e+t.questions.length/2:e+t.questions.length,0))||0,D=Object.keys(f).length,F=M>0?D/M*100:0,z=(e,t)=>{if(m(n=>(0,i.A)((0,i.A)({},n),{},{[e]:t})),L&&L.options){var n;const e=t.toLowerCase().trim()===(null===(n=L.correctAnswer)||void 0===n?void 0:n.toLowerCase().trim());null!==O&&void 0!==O&&O.adaptive&&(e&&L.nextLevel?p(L.nextLevel):!e&&L.wrongLevel&&p(L.wrongLevel))}},V=()=>{if(!s)return;let e=0,t=0,n=0,r=0;s.sections.forEach(o=>{o.questions.forEach(i=>{const s=f[i.id];"essay"===i.type||"speaking"===i.type?s&&s.length>50&&("writing"===o.id?n+=.7*i.points:"speaking"===o.id&&(r+=.7*i.points)):s&&i.correctAnswer&&s.toLowerCase().trim()===i.correctAnswer.toLowerCase().trim()&&("reading"===o.id?e+=i.points:"listening"===o.id&&(t+=i.points))})});const a=e+t+n+r,l={reading:e,listening:t,writing:n,speaking:r,total:a};v(l),b(!0);const c=a/s.totalPoints*100;let u;u=c>=85?"C1":c>=70?"B2":c>=50?"B1":"A2",o&&o((0,i.A)((0,i.A)({},l),{},{level:u}))};if(!s)return(0,J.jsx)(ce,{sx:{p:3,textAlign:"center"},children:(0,J.jsx)(Te,{variant:"h6",children:"Chargement du test EF SET..."})});if(y){const e=g.reading/s.sections[0].points*100,t=g.listening/s.sections[1].points*100,n=g.writing/s.sections[2].points*100,r=g.speaking/s.sections[3].points*100,o=g.total/s.totalPoints*100;let i;return i=o>=85?"C1":o>=70?"B2":o>=50?"B1":"A2",(0,J.jsx)(ce,{sx:{p:3},children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsx)(Te,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\u2705 Vos r\xe9sultats sont pr\xeats"}),(0,J.jsx)(Te,{variant:"h6",align:"center",color:"text.secondary",sx:{mb:4},children:"Test EF SET - 4 Comp\xe9tences"}),(0,J.jsxs)(Be,{container:!0,spacing:3,sx:{mb:3},children:[(0,J.jsx)(Be,{item:!0,xs:12,md:6,children:(0,J.jsx)(Ye,{variant:"outlined",children:(0,J.jsxs)(tt,{sx:{textAlign:"center"},children:[(0,J.jsx)(oa,{sx:{fontSize:40,color:"primary.main",mb:1}}),(0,J.jsx)(Te,{variant:"h6",color:"primary",gutterBottom:!0,children:"READING"}),(0,J.jsxs)(Te,{variant:"h3",color:"primary",children:[g.reading.toFixed(1)," / ",s.sections[0].points," pts"]}),(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",children:[e.toFixed(1),"%"]})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:6,children:(0,J.jsx)(Ye,{variant:"outlined",children:(0,J.jsxs)(tt,{sx:{textAlign:"center"},children:[(0,J.jsx)(Ap,{sx:{fontSize:40,color:"success.main",mb:1}}),(0,J.jsx)(Te,{variant:"h6",color:"success.main",gutterBottom:!0,children:"LISTENING"}),(0,J.jsxs)(Te,{variant:"h3",color:"success.main",children:[g.listening.toFixed(1)," / ",s.sections[1].points," pts"]}),(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",children:[t.toFixed(1),"%"]})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:6,children:(0,J.jsx)(Ye,{variant:"outlined",children:(0,J.jsxs)(tt,{sx:{textAlign:"center"},children:[(0,J.jsx)(Ep,{sx:{fontSize:40,color:"secondary.main",mb:1}}),(0,J.jsx)(Te,{variant:"h6",color:"secondary.main",gutterBottom:!0,children:"WRITING"}),(0,J.jsxs)(Te,{variant:"h3",color:"secondary.main",children:[g.writing.toFixed(1)," / ",s.sections[2].points," pts"]}),(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",children:[n.toFixed(1),"%"]})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:6,children:(0,J.jsx)(Ye,{variant:"outlined",children:(0,J.jsxs)(tt,{sx:{textAlign:"center"},children:[(0,J.jsx)(ly,{sx:{fontSize:40,color:"warning.main",mb:1}}),(0,J.jsx)(Te,{variant:"h6",color:"warning.main",gutterBottom:!0,children:"SPEAKING"}),(0,J.jsxs)(Te,{variant:"h3",color:"warning.main",children:[g.speaking.toFixed(1)," / ",s.sections[3].points," pts"]}),(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",children:[r.toFixed(1),"%"]})]})})})]}),(0,J.jsx)(Ye,{sx:{bgcolor:"primary.light",mb:3},children:(0,J.jsxs)(tt,{sx:{textAlign:"center"},children:[(0,J.jsx)(Te,{variant:"h5",gutterBottom:!0,children:"NIVEAU CECR"}),(0,J.jsx)(ms,{label:i,color:"primary",sx:{fontSize:"2rem",height:"auto",py:2,px:3}}),(0,J.jsxs)(Te,{variant:"h6",sx:{mt:2},children:["Total: ",g.total.toFixed(1)," / ",s.totalPoints," pts (",o.toFixed(1),"%)"]})]})}),(0,J.jsx)(ce,{sx:{textAlign:"center"},children:(0,J.jsxs)(Te,{variant:"body2",color:"text.secondary",paragraph:!0,children:["Temps total: ",Math.floor(k/60)," min ",k%60," sec"]})})]})})})}const U=L&&("essay"===L.type||"speaking"===L.type?f[L.id]&&f[L.id].length>50:void 0!==f[L.id]);return(0,J.jsx)(ce,{sx:{p:3},children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{mb:3},children:[(0,J.jsx)(Te,{variant:"h4",gutterBottom:!0,children:s.title}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",children:s.description}),(null===O||void 0===O?void 0:O.adaptive)&&(0,J.jsx)(ms,{label:"Niveau actuel: ".concat(h),color:"info",sx:{mt:1}})]}),(0,J.jsxs)(ce,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[(0,J.jsx)(na,{variant:"determinate",value:F,sx:{flexGrow:1,height:8,borderRadius:4}}),(0,J.jsxs)(Te,{variant:"body2",children:[D," / ~",Math.round(M)]}),(0,J.jsx)(ms,{icon:(0,J.jsx)(sa,{}),label:"".concat(Math.floor(k/60),":").concat(String(k%60).padStart(2,"0")),color:"primary"})]}),(0,J.jsx)(Lv,{activeStep:l,sx:{mb:3},children:s.sections.map((e,t)=>(0,J.jsx)(zv,{children:(0,J.jsx)(ry,{children:e.name})},e.id))}),L&&(0,J.jsx)(Ye,{variant:"outlined",sx:{mb:3},children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(ce,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,J.jsx)(ms,{icon:"listening"===(null===O||void 0===O?void 0:O.type)?(0,J.jsx)(Ap,{}):"writing"===(null===O||void 0===O?void 0:O.type)?(0,J.jsx)(Ep,{}):"speaking"===(null===O||void 0===O?void 0:O.type)?(0,J.jsx)(ly,{}):(0,J.jsx)(oa,{}),label:"Question ".concat(u+1," / ").concat(N.length),color:"primary"}),(0,J.jsx)(ms,{label:"".concat(L.points," points (").concat(L.level,")"),variant:"outlined"})]}),"listening"===(null===O||void 0===O?void 0:O.type)&&L.audioText&&(0,J.jsxs)(ce,{sx:{mb:3,textAlign:"center"},children:[(0,J.jsx)(pn,{variant:"outlined",startIcon:C?(0,J.jsx)(ip,{}):(0,J.jsx)(Ap,{}),onClick:()=>{null!==L&&void 0!==L&&L.audioText&&(C?I():E(L.audioText))},sx:{mb:2},children:C?"Arr\xeater l'audio":"\xc9couter la question"}),L.audioText&&(0,J.jsx)(Ns,{severity:"info",sx:{mt:2},children:(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Audio :"})," ",L.audioText]})})]}),(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,sx:{mb:3},children:L.text}),"essay"===L.type?(0,J.jsx)(zu,{fullWidth:!0,multiline:!0,rows:8,placeholder:"\xc9crivez votre r\xe9ponse ici (minimum 150 mots recommand\xe9)...",value:f[L.id]||"",onChange:e=>z(L.id,e.target.value),sx:{mb:2}}):"speaking"===L.type?(0,J.jsxs)(ce,{sx:{mb:3},children:[(0,J.jsx)(pn,{variant:j?"contained":"outlined",startIcon:(0,J.jsx)(ly,{}),onClick:()=>{j?R():_()},sx:{mb:2},color:j?"error":"primary",children:j?"Arr\xeater l'enregistrement":"Commencer \xe0 parler"}),T&&(0,J.jsx)(Ns,{severity:"info",sx:{mt:2},children:(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Transcription :"})," ",T]})}),L.audioText&&(0,J.jsx)(Ns,{severity:"info",sx:{mt:2},children:(0,J.jsxs)(Te,{variant:"body2",children:[(0,J.jsx)("strong",{children:"Consigne :"})," ",L.audioText]})})]}):L.options?(0,J.jsx)(ba,{component:"fieldset",fullWidth:!0,children:(0,J.jsx)(Hc,{value:f[L.id]||"",onChange:e=>z(L.id,e.target.value),children:L.options.map((e,t)=>(0,J.jsx)(su,{value:e,control:(0,J.jsx)(Eu,{}),label:e,sx:{p:2,mb:1,border:1,borderColor:"grey.300",borderRadius:2,"&:hover":{bgcolor:"grey.50"}}},t))})}):null]})}),(0,J.jsxs)(ce,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,J.jsx)(pn,{variant:"outlined",onClick:()=>{if(u>0)d(e=>e-1);else if(l>0){c(e=>e-1);const e=s.sections[l-1],t=e.adaptive?e.questions.filter(e=>e.level===h):e.questions;d(t.length-1)}},disabled:0===l&&0===u,children:"Pr\xe9c\xe9dent"}),(0,J.jsx)(pn,{variant:"contained",onClick:()=>{if(L&&u<N.length-1)d(e=>e+1);else if(l<s.sections.length-1){c(e=>e+1),d(0);const e=s.sections[l+1];e.initialLevel&&p(e.initialLevel)}else V()},disabled:!U,children:D>=M?"Terminer le test":"Suivant"})]})]})})})},hy=["A1","A2","B1","B2","C1"],py={A1:"D\xe9butant - Compr\xe9hension et expression basiques",A2:"\xc9l\xe9mentaire - Communication simple sur des sujets familiers",B1:"Interm\xe9diaire - Communication dans des situations quotidiennes",B2:"Interm\xe9diaire sup\xe9rieur - Communication fluide sur des sujets complexes",C1:"Avanc\xe9 - Expression fluide et pr\xe9cise sur des sujets techniques"},fy={efset:"EF SET",toeic:"TOEIC",toefl:"TOEFL"},my=e=>{let{testType:n,onSelectLevel:r,onCancel:o}=e;const[i,s]=(0,t.useState)("");return(0,J.jsxs)(Fp,{open:!0,onClose:o,maxWidth:"md",fullWidth:!0,children:[(0,J.jsx)(qp,{children:(0,J.jsxs)(ce,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,J.jsx)(gi,{sx:{fontSize:32,color:"primary.main"}}),(0,J.jsxs)(Te,{variant:"h5",children:["Choisir le niveau de test ",fy[n]]})]})}),(0,J.jsxs)(Gp,{children:[(0,J.jsx)(ce,{sx:{mb:3},children:(0,J.jsxs)(Te,{variant:"body1",color:"text.secondary",paragraph:!0,children:["S\xe9lectionnez le niveau CECR pour le test ",fy[n],". Le test sera adapt\xe9 \xe0 ce niveau."]})}),(0,J.jsxs)(ba,{fullWidth:!0,sx:{mb:3},children:[(0,J.jsx)(Ra,{id:"level-select-label",children:"Niveau CECR"}),(0,J.jsx)(jc,{labelId:"level-select-label",id:"level-select",value:i,label:"Niveau CECR",onChange:e=>s(e.target.value),children:hy.map(e=>(0,J.jsx)(Mc,{value:e,children:(0,J.jsxs)(ce,{children:[(0,J.jsxs)(Te,{variant:"body1",fontWeight:"bold",children:["Niveau ",e]}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",children:py[e]})]})},e))})]}),i&&(0,J.jsx)(Ye,{variant:"outlined",sx:{bgcolor:"grey.50"},children:(0,J.jsxs)(tt,{children:[(0,J.jsxs)(Te,{variant:"h6",gutterBottom:!0,children:["Niveau ",i," s\xe9lectionn\xe9"]}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",children:py[i]})]})}),(0,J.jsxs)(ce,{sx:{mt:3},children:[(0,J.jsx)(Te,{variant:"subtitle2",gutterBottom:!0,children:"Niveaux disponibles :"}),(0,J.jsx)(ce,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:hy.map(e=>(0,J.jsx)(ms,{label:"".concat(e," - ").concat(py[e].split(" - ")[1]),onClick:()=>s(e),color:i===e?"primary":"default",variant:i===e?"filled":"outlined"},e))})]})]}),(0,J.jsxs)(Yp,{children:[o&&(0,J.jsx)(pn,{onClick:o,color:"inherit",children:"Annuler"}),(0,J.jsxs)(pn,{onClick:()=>{i&&r(i)},variant:"contained",disabled:!i,children:["Commencer le test niveau ",i]})]})]})},gy=()=>{console.log("=".repeat(50)),console.log("\ud83d\ude80 V\xe9rification de l'initialisation"),console.log("=".repeat(50));const e=(console.log("\ud83d\udd0d V\xe9rification de l'initialisation Firebase..."),Ti?console.log("\u2705 Firebase App initialis\xe9"):console.warn("\u26a0\ufe0f Firebase App non initialis\xe9 (variables d'environnement manquantes)"),ji?console.log("\u2705 Firestore initialis\xe9"):console.warn("\u26a0\ufe0f Firestore non initialis\xe9"),{app:!!Ti,db:!!ji}),t=(()=>{console.log("\ud83d\udd0d V\xe9rification de la plateforme Capacitor...");const e=pp.getPlatform(),t=pp.isNativePlatform();return console.log("\ud83d\udcf1 Plateforme: ".concat(e)),console.log("\ud83d\udcf1 Native: ".concat(t?"Oui":"Non")),{platform:e,isNative:t}})();return console.log("=".repeat(50)),{firebase:e,capacitor:t}},vy=q({palette:{primary:{main:"#1976d2"},secondary:{main:"#dc004e"},success:{main:"#2e7d32"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h4:{fontWeight:600,fontSize:"clamp(1.5rem, 5vw, 2.125rem)"},h5:{fontWeight:600,fontSize:"clamp(1.25rem, 4vw, 1.5rem)"},h6:{fontWeight:500,fontSize:"clamp(1rem, 3vw, 1.25rem)"},body1:{fontSize:"clamp(0.875rem, 2vw, 1rem)"},button:{textTransform:"none",fontSize:"clamp(0.875rem, 2.5vw, 1rem)"}},components:{MuiButton:{styleOverrides:{root:{minHeight:44,minWidth:44,borderRadius:8,padding:"10px 20px","@media (hover: none)":{"&:active":{transform:"scale(0.98)",transition:"transform 0.1s"}}},sizeLarge:{minHeight:56,padding:"14px 28px",fontSize:"1.1rem"}}},MuiIconButton:{styleOverrides:{root:{minHeight:44,minWidth:44,padding:12}}},MuiTextField:{defaultProps:{variant:"outlined"},styleOverrides:{root:{"& .MuiInputBase-input":{fontSize:"clamp(0.875rem, 2vw, 1rem)",padding:"14px"}}}},MuiCard:{styleOverrides:{root:{borderRadius:12,"@media (max-width: 600px)":{boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}}},MuiChip:{styleOverrides:{root:{minHeight:32,fontSize:"clamp(0.75rem, 2vw, 0.875rem)"}}},MuiDrawer:{styleOverrides:{paper:{"@media (max-width: 600px)":{width:"75vw",maxWidth:280}}}}},breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}}),yy=()=>{const{isAuthenticated:e,login:n,logout:r,user:o}=as(),[s,a]=(0,t.useState)("dashboard"),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[h,p]=(0,t.useState)(null),[f,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(()=>!localStorage.getItem("levelAssessed"));t.useEffect(()=>{gy()},[]);if(window.location.pathname.includes("/verify-email/"))return(0,J.jsx)(gv,{onSuccess:(e,t)=>{n(e,t)},onSwitchToLogin:()=>{window.location.href="/"}});if(!e)return g?(0,J.jsx)(Wf,{onSwitchToLogin:()=>v(!1),onSuccess:()=>{v(!1)}}):f?(0,J.jsx)(qf,{onSuccess:(e,t)=>{n(e,t),m(!1)},onSwitchToLogin:()=>m(!1)}):(0,J.jsx)(Vf,{onSuccess:(e,t)=>{n(e,t)},onSwitchToSignup:()=>m(!0),onSwitchToForgotPassword:()=>v(!0)});const x=[{id:"dashboard",label:"Tableau de bord",icon:(0,J.jsx)(pi,{})},{id:"learning",label:"Mon Programme",icon:(0,J.jsx)(fi,{})},{id:"exercises",label:"Exercices",icon:(0,J.jsx)(mi,{})},{id:"progress",label:"Progression",icon:(0,J.jsx)(fi,{})},{id:"tests",label:"Tests TOEIC/TOEFL",icon:(0,J.jsx)(gi,{})}],w=()=>{localStorage.setItem("levelAssessed","true"),b(!1),a("learning")},S=()=>{localStorage.removeItem("levelAssessed"),b(!0)},k=e=>{a(e)},A=e=>{p(e);const t=u;d(null),"efset"===t?a("efset"):"toeic"===t?a("toeic"):"toefl"===t&&a("toefl")};return(0,J.jsxs)(ce,{sx:{display:"flex",minHeight:"100vh"},children:[(0,J.jsx)(yn,{position:"fixed",sx:{zIndex:e=>e.zIndex.drawer+1},children:(0,J.jsxs)(Sn,{children:[(0,J.jsx)(In,{color:"inherit",edge:"start",onClick:()=>c(!l),sx:{mr:2,display:{sm:"none"}},children:(0,J.jsx)(vi,{})}),(0,J.jsx)(yi,{sx:{mr:2}}),(0,J.jsx)(Te,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:"AI English Trainer for IT Professionals"}),o&&(0,J.jsx)(Te,{variant:"body2",sx:{mr:2,fontStyle:"italic"},children:o.name}),(0,J.jsx)(Te,{variant:"body2",sx:{mr:2,fontStyle:"italic"},children:"B2 \u2192 C1"}),(0,J.jsx)(In,{color:"inherit",onClick:r,title:"D\xe9connexion",children:(0,J.jsx)(bi,{})})]})}),(0,J.jsx)(Hr,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box",mt:8}},children:(0,J.jsx)($r,{children:x.map(e=>(0,J.jsxs)(ho,{button:!0,selected:s===e.id,onClick:()=>a(e.id),sx:{"&.Mui-selected":{bgcolor:"primary.light",color:"primary.main","&:hover":{bgcolor:"primary.light"}}},children:[(0,J.jsx)(vo,{sx:{color:s===e.id?"primary.main":"inherit"},children:e.icon}),(0,J.jsx)(So,{primary:e.label})]},e.id))})}),(0,J.jsx)(Hr,{variant:"temporary",open:l,onClose:()=>c(!1),sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,boxSizing:"border-box",mt:8}},children:(0,J.jsx)($r,{children:x.map(e=>(0,J.jsxs)(ho,{button:!0,selected:s===e.id,onClick:()=>{a(e.id),c(!1)},children:[(0,J.jsx)(vo,{children:e.icon}),(0,J.jsx)(So,{primary:e.label})]},e.id))})}),(0,J.jsx)(ce,{component:"main",sx:{flexGrow:1,mt:8,bgcolor:"grey.50"},children:(0,J.jsx)(Uo,{maxWidth:"xl",children:(()=>{if(y)return(0,J.jsx)(Tp,{onComplete:w});if(u&&!h)return(0,J.jsx)(my,{testType:u,onSelectLevel:A,onCancel:()=>{d(null),a("tests")}});switch(s){case"dashboard":default:return(0,J.jsx)(la,{onStartAssessment:S,onNavigate:k});case"learning":return(0,J.jsx)(tf,{onNavigate:k});case"progress":return(0,J.jsx)(ha,{});case"exercises":return(0,J.jsx)(kp,{});case"tests":return(0,J.jsxs)(ce,{sx:{p:3},children:[(0,J.jsx)(Te,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"Tests d'\xc9valuation"}),(0,J.jsxs)(Be,{container:!0,spacing:3,children:[(0,J.jsx)(Be,{item:!0,xs:12,md:4,children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,children:"EF SET - 4 Skills"}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Test adaptatif complet inspir\xe9 d'EF SET : Reading, Listening, Writing, Speaking (90 min)."}),(0,J.jsx)(pn,{variant:"contained",fullWidth:!0,color:"primary",onClick:()=>d("efset"),children:"Passer le test EF SET"})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:4,children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,children:"Test TOEIC"}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Testez votre niveau d'anglais avec un test TOEIC complet (Grammaire + Compr\xe9hension audio)."}),(0,J.jsx)(pn,{variant:"contained",fullWidth:!0,onClick:()=>d("toeic"),children:"Passer le test TOEIC"})]})})}),(0,J.jsx)(Be,{item:!0,xs:12,md:4,children:(0,J.jsx)(Ye,{elevation:3,children:(0,J.jsxs)(tt,{children:[(0,J.jsx)(Te,{variant:"h6",gutterBottom:!0,children:"Test TOEFL"}),(0,J.jsx)(Te,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Testez votre niveau d'anglais avec un test TOEFL avanc\xe9 (Reading + Listening + Writing)."}),(0,J.jsx)(pn,{variant:"contained",fullWidth:!0,onClick:()=>d("toefl"),children:"Passer le test TOEFL"})]})})})]})]});case"efset":return(0,J.jsxs)(ce,{sx:{p:0},children:[(0,J.jsx)(pn,{variant:"text",onClick:()=>a("tests"),sx:{mb:2},children:"\u2190 Retour aux tests"}),(0,J.jsx)(dy,{level:h||void 0,onComplete:e=>{if(o){const t=(0,i.A)((0,i.A)({},o),{},{currentLevel:e.level,lastActivity:new Date});localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("efsetResults",JSON.stringify(e)),localStorage.setItem("lastTestType","efset"),window.location.reload()}setTimeout(()=>a("tests"),5e3)}})]});case"toeic":return(0,J.jsxs)(ce,{sx:{p:0},children:[(0,J.jsx)(pn,{variant:"text",onClick:()=>a("tests"),sx:{mb:2},children:"\u2190 Retour aux tests"}),(0,J.jsx)(sy,{level:h||void 0,onComplete:e=>{if(o){const t=(0,i.A)((0,i.A)({},o),{},{currentLevel:e.level,lastActivity:new Date});localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("toeicResults",JSON.stringify(e)),localStorage.setItem("lastTestType","toeic"),window.location.reload()}p(null),setTimeout(()=>a("tests"),5e3)}})]});case"toefl":return(0,J.jsxs)(ce,{sx:{p:0},children:[(0,J.jsx)(pn,{variant:"text",onClick:()=>a("tests"),sx:{mb:2},children:"\u2190 Retour aux tests"}),(0,J.jsx)(ay,{level:h||void 0,onComplete:e=>{if(o){const t=(0,i.A)((0,i.A)({},o),{},{currentLevel:e.level,lastActivity:new Date});localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("toeflResults",JSON.stringify(e)),localStorage.setItem("lastTestType","toefl"),window.location.reload()}p(null),setTimeout(()=>a("tests"),5e3)}})]})}})()})})]})},by=()=>(0,J.jsxs)(ni,{theme:vy,children:[(0,J.jsx)(si,{}),(0,J.jsx)(ss,{children:(0,J.jsx)(yy,{})})]});class xy extends t.Component{constructor(e){super(e),this.handleReload=()=>{try{localStorage.clear()}catch(e){console.error("Impossible de vider localStorage:",e)}window.location.reload()},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){console.error("\u274c Erreur captur\xe9e par ErrorBoundary:",e),console.error("\ud83d\udccb Info:",t),this.setState({error:e,errorInfo:t}),"undefined"!==typeof window.Capacitor&&console.error("Erreur sur Capacitor/Android:",e.message)}render(){return this.state.hasError?(0,J.jsx)(ce,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",p:3,bgcolor:"#f5f5f5"},children:(0,J.jsxs)(Ge,{elevation:3,sx:{p:4,maxWidth:600,textAlign:"center"},children:[(0,J.jsx)(Hf,{sx:{fontSize:64,color:"error.main",mb:2}}),(0,J.jsx)(Te,{variant:"h5",gutterBottom:!0,color:"error",children:"Une erreur est survenue"}),(0,J.jsx)(Te,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"L'application a rencontr\xe9 un probl\xe8me. Veuillez r\xe9essayer."}),this.state.error&&(0,J.jsx)(Ge,{variant:"outlined",sx:{p:2,mb:3,bgcolor:"#fff3f3",textAlign:"left",maxHeight:200,overflow:"auto"},children:(0,J.jsxs)(Te,{variant:"caption",component:"pre",sx:{whiteSpace:"pre-wrap"},children:[this.state.error.toString(),this.state.errorInfo&&"\n\n".concat(this.state.errorInfo.componentStack)]})}),(0,J.jsx)(pn,{variant:"contained",color:"primary",onClick:this.handleReload,size:"large",children:"Recharger l'application"})]})}):this.props.children}}const wy=e=>{const t="string"===typeof e?e:e.message,n="string"===typeof e?"":e.stack||"";return[/Extension context invalidated/i,/chrome-extension:/i,/moz-extension:/i,/Cannot access contents of/i,/The message port closed/i,/Receiving end does not exist/i].some(e=>e.test(t)||e.test(n))};window.addEventListener("error",e=>!wy(e.error||e.message)||(e.preventDefault(),!1)),window.addEventListener("unhandledrejection",e=>{const t=e.reason;t&&(wy(t)||"string"===typeof t&&wy(t))&&e.preventDefault()});o.createRoot(document.getElementById("root")).render((0,J.jsx)(t.StrictMode,{children:(0,J.jsx)(xy,{children:(0,J.jsx)(by,{})})}))})()})();
//# sourceMappingURL=main.2f6afbbd.js.map