{
    /*
     * ENVIRONNEMENTS
     * Déclare les environnements dans lesquels le code s'exécute.
     * Cela permet à ESLint de connaître les variables globales disponibles.
     */
    "env": {
      "browser": true,   // Active les variables globales du navigateur (window, document, etc.)
      "es2021": true,    // Active les fonctionnalités ES2021 (ex: Promise.any, replaceAll)
      "node": true       // Active les variables globales Node.js (require, module, etc.)
    },

    /*
     * EXTENSIONS
     * Étend les configurations ESLint existantes pour hériter de leurs règles.
     * Ordre important : les règles des extensions ultérieures écrasent les précédentes.
     */
    "extends": [
      "eslint:recommended",                // Règles de base recommandées par ESLint
      "plugin:react/recommended",          // Règles spécifiques à React
      "plugin:react-hooks/recommended"     // Règles pour les React Hooks (useState, useEffect, etc.)
    ],

    /*
     * PARSEUR
     * Spécifie le parseur à utiliser pour analyser le code.
     * react-scripts utilise déjà un parseur configuré pour TypeScript.
     */
    /*
     * OPTIONS DU PARSEUR
     * Configure le comportement du parseur.
     */
    "parserOptions": {
      "ecmaFeatures": {
        "jsx": true  // Active le support JSX
      },
      "ecmaVersion": "latest",  // Utilise la dernière version d'ECMAScript
      "sourceType": "module"    // Active le support des modules ES (import/export)
    },

    /*
     * PLUGINS
     * Liste des plugins ESLint à utiliser.
     * Chaque plugin ajoute des règles spécifiques.
     */
    "plugins": [
      "react",                // Plugin pour React
      "react-hooks"           // Plugin pour les React Hooks
    ],

    /*
     * RÈGLES
     * Configuration personnalisée des règles ESLint.
     * Format: "nom-de-la-règle": ["niveau", "options"]
     * Niveaux: "off" (0), "warn" (1), "error" (2)
     */
    "rules": {
      /* ========== RÈGLES DE BASE ========== */
      "indent": ["error", 2],  // Force une indentation de 2 espaces (standard React/JS)
      "quotes": ["error", "double"],  // Utilise des guillemets doubles ("") pour les chaînes
      "semi": ["error", "always"],  // Oblige à mettre un point-virgule à la fin des instructions
      "no-console": "warn",  // Avertit si console.log() est utilisé (utile en production)

      /* ========== RÈGLES REACT ========== */
      "react/prop-types": "off",  // Désactive la vérification des propTypes (TypeScript les remplace)
      "react/react-in-jsx-scope": "off",  // Pas besoin d'importer React dans chaque fichier (React 17+)
      "react/self-closing-comp": ["error", {
        "component": true,  // Force les composants sans enfants à être auto-fermants (<Comp />)
        "html": true         // Force les balises HTML sans enfants à être auto-fermantes (<img />)
      }],
      "react/jsx-uses-react": "off",  // Pas besoin d'importer React avec la nouvelle JSX transform
      "react/jsx-uses-vars": "error"  // Vérifie que les variables JSX sont utilisées
    },

    /*
     * PARAMÈTRES
     * Configuration supplémentaire pour les plugins.
     */
    "settings": {
      "react": {
        "version": "detect"  // Détecte automatiquement la version de React utilisée
      }
    },

    /*
     * SURCHARGES
     * Règles spécifiques pour certains fichiers.
     */
    "overrides": [
      {
        // Applique ces règles uniquement aux fichiers de test
        "files": ["**/*.test.ts", "**/*.test.tsx"],
        "rules": {
          "no-console": "off"  // Autorise console.log dans les tests
        }
      }
    ]
  }
