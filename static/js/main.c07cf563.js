/*! For license information please see main.c07cf563.js.LICENSE.txt */
(()=>{var e={219:(e,t,n)=>{"use strict";var r=n(3763),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||o}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var o=p(n);o&&o!==f&&e(t,o,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!i[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7868)},528:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case s:case i:case u:case d:case f:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case a:return e;default:return t}}case r:return t}}}t.vM=c,t.lD=h},579:(e,t,n)=>{"use strict";e.exports=n(1153)},869:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(5043);var r=n(3290),o=n(579);function i(e){const{styles:t,defaultTheme:n={}}=e,i="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,o.jsx)(r.mL,{styles:i})}},918:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},1153:(e,t,n)=>{"use strict";var r=n(5043),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},1188:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},1722:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>o,sk:()=>i});function r(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}var o=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},i=function(e,t,n){o(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},2374:(e,t,n)=>{"use strict";t.A=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(5043)),o=n(3174);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(o.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},2730:(e,t,n)=>{"use strict";var r=n(5043),o=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),I=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,D=Object.assign;function z(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function B(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case C:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ie(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function Ce(e){if(e=xo(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function Ae(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Ie(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function je(e,t){return e(t)}function Te(){}var _e=!1;function Re(e,t,n){if(_e)return e(t,n);_e=!0;try{return je(e,t,n)}finally{_e=!1,(null!==ke||null!==Ee)&&(Te(),Ie())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=So(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ne=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Ne=!1}function Oe(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,De=null,ze=!1,Fe=null,Ve={onError:function(e){Me=!0,De=e}};function Be(e,t,n,r,o,i,s,a,l){Me=!1,De=null,Oe.apply(Ve,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return We(o),e;if(s===r)return We(o),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=o.unstable_scheduleCallback,Qe=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,Ye=o.unstable_requestPaint,$e=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?r=dt(a):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~o)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,kt,Et,Ct,At=!1,It=[],jt=null,Tt=null,_t=null,Rt=new Map,Pt=new Map,Nt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=xo(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Dt(e){var t=bo(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Ct(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xo(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ft(e,t,n){zt(e)&&n.delete(t)}function Vt(){At=!1,null!==jt&&zt(jt)&&(jt=null),null!==Tt&&zt(Tt)&&(Tt=null),null!==_t&&zt(_t)&&(_t=null),Rt.forEach(Ft),Pt.forEach(Ft)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Vt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Bt(jt,e),null!==Tt&&Bt(Tt,e),null!==_t&&Bt(_t,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Nt.shift()}var qt=x.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var o=bt,i=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=o,qt.transition=i}}function Gt(e,t,n,r){var o=bt,i=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=o,qt.transition=i}}function Kt(e,t,n,r){if(Wt){var o=Xt(e,t,n,r);if(null===o)Wr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return jt=Mt(jt,e,t,n,r,o),!0;case"dragenter":return Tt=Mt(Tt,e,t,n,r,o),!0;case"mouseover":return _t=Mt(_t,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Rt.set(i,Mt(Rt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Pt.set(i,Mt(Pt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==o;){var i=xo(o);if(null!==i&&wt(i),null===(i=Xt(e,t,n,r))&&Wr(e,t,r,Qt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=bo(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,o="value"in $t?$t.value:$t.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=D({},cn,{view:0,detail:0}),hn=on(dn),pn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=on(pn),mn=on(D({},pn,{dataTransfer:0})),gn=on(D({},dn,{relatedTarget:0})),vn=on(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),xn=on(D({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return En}var An=D({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(An),jn=on(D({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),_n=on(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=D({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Rn),Nn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Mn=u&&"TextEvent"in window&&!On,Dn=u&&(!Ln||On&&8<On&&11>=On),zn=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ae(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){zr(e,0)}function Xn(e){if(K(wo(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function ir(e,t){if("click"===e)return Xn(t)}function sr(e,t){if("input"===e||"change"===e)return Xn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ar(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var s=ur(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Er={};function Cr(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Ar=Cr("animationend"),Ir=Cr("animationiteration"),jr=Cr("animationstart"),Tr=Cr("transitionend"),_r=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){_r.set(e,t),l(t,[e])}for(var Nr=0;Nr<Rr.length;Nr++){var Lr=Rr[Nr];Pr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Pr(Ar,"onAnimationEnd"),Pr(Ir,"onAnimationIteration"),Pr(jr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,a,l,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(i(198));var u=De;Me=!1,De=null,ze||(ze=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Dr(o,a,c),i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Dr(o,a,c),i=l}}}if(ze)throw e=Fe,ze=!1,Fe=null,e}function Fr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Br]){e[Br]=!0,s.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var o=Ht;break;case 4:o=Gt;break;default:o=Kt}n=o.bind(null,t,n,e),o=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=bo(a)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}a=a.parentNode}}r=r.return}Re(function(){var r=i,o=we(n),s=[];e:{var a=_r.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Ar:case Ir:case jr:l=vn;break;case Tr:l=_n;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Pe(f,h))&&u.push(Hr(f,m,p)))),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,o),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=jn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:wo(l),p=null==c?a:wo(c),(a=new u(m,f+"leave",l,n,o)).target=d,a.relatedTarget=p,m=null,bo(o)===r&&((u=new u(h,f+"enter",c,n,o)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Kr(p))f++;for(p=0,m=h;m;m=Kr(m))p++;for(;0<f-p;)u=Kr(u),f--;for(;0<p-f;)h=Kr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==d&&Qr(s,d,c,u,!0)}if("select"===(l=(a=r?wo(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(Wn(a))if($n)g=sr;else{g=or;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?Hn(s,g,n,o):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wo(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(s,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(s,n,o)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Jt="value"in($t=o)?$t.value:$t.textContent,Un=!0)),0<(v=Gr(r,b)).length&&(b=new xn(b,e,null,n,o),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Fn=!0,zn);case"textInput":return(e=t.data)===zn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Ln&&Vn(e,t)?(e=en(),Zt=Jt=$t=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(o=new xn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=y))}zr(s,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Pe(e,n))&&r.unshift(Hr(e,i,o)),null!=(i=Pe(e,t))&&r.push(Hr(e,i,o))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=Pe(n,i))&&s.unshift(Hr(n,l,a)):o||null!=(l=Pe(n,i))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(i(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout(function(){throw e})}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ut(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),po="__reactFiber$"+ho,fo="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,vo="__reactListeners$"+ho,yo="__reactHandles$"+ho;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function xo(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function So(e){return e[fo]||null}var ko=[],Eo=-1;function Co(e){return{current:e}}function Ao(e){0>Eo||(e.current=ko[Eo],ko[Eo]=null,Eo--)}function Io(e,t){Eo++,ko[Eo]=e.current,e.current=t}var jo={},To=Co(jo),_o=Co(!1),Ro=jo;function Po(e,t){var n=e.type.contextTypes;if(!n)return jo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function No(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lo(){Ao(_o),Ao(To)}function Oo(e,t,n){if(To.current!==jo)throw Error(i(168));Io(To,t),Io(_o,n)}function Mo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,q(e)||"Unknown",o));return D({},n,r)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jo,Ro=To.current,Io(To,e),Io(_o,_o.current),!0}function zo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Mo(e,t,Ro),r.__reactInternalMemoizedMergedChildContext=e,Ao(_o),Ao(To),Io(To,e)):Ao(_o),Io(_o,n)}var Fo=null,Vo=!1,Bo=!1;function Uo(e){null===Fo?Fo=[e]:Fo.push(e)}function qo(){if(!Bo&&null!==Fo){Bo=!0;var e=0,t=bt;try{var n=Fo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fo=null,Vo=!1}catch(o){throw null!==Fo&&(Fo=Fo.slice(e+1)),Ke(Ze,qo),o}finally{bt=t,Bo=!1}}return null}var Wo=[],Ho=0,Go=null,Ko=0,Qo=[],Xo=0,Yo=null,$o=1,Jo="";function Zo(e,t){Wo[Ho++]=Ko,Wo[Ho++]=Go,Go=e,Ko=t}function ei(e,t,n){Qo[Xo++]=$o,Qo[Xo++]=Jo,Qo[Xo++]=Yo,Yo=e;var r=$o;e=Jo;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,$o=1<<32-st(t)+o|n<<o|r,Jo=i+e}else $o=1<<i|n<<o|r,Jo=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ni(e){for(;e===Go;)Go=Wo[--Ho],Wo[Ho]=null,Ko=Wo[--Ho],Wo[Ho]=null;for(;e===Yo;)Yo=Qo[--Xo],Qo[Xo]=null,Jo=Qo[--Xo],Qo[Xo]=null,$o=Qo[--Xo],Qo[Xo]=null}var ri=null,oi=null,ii=!1,si=null;function ai(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yo?{id:$o,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw pi(),Error(i(418));for(;t;)ai(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=co(e.nextSibling)}function fi(){oi=ri=null,ii=!1}function mi(e){null===si?si=[e]:si.push(e)}var gi=x.ReactCurrentBatchConfig;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&bi(i)===t.type)?((r=o(t,n.props)).ref=vi(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=vi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case S:return(t=zc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?c(e,t,n,r):null;case S:return n.key===o?u(e,t,n,r):null;case P:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||O(n))return null!==o?null:d(e,t,n,r,null);yi(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case P:return f(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,o,null);yi(t,r)}return null}function m(o,i,a,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(o,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),i=s(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(o,d),ii&&Zo(o,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(o,a[m],l))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Zo(o,m),c}for(d=r(o,d);m<a.length;m++)null!==(g=f(d,o,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),ii&&Zo(o,m),c}function g(o,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),ii&&Zo(o,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(o,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return ii&&Zo(o,g),u}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=f(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(o,e)}),ii&&Zo(o,g),u}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===k){if(7===u.tag){n(r,u.sibling),(i=o(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&bi(c)===u.type){n(r,u.sibling),(i=o(u,s.props)).ref=vi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===k?((i=Oc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Lc(s.type,s.key,s.props,null,r.mode,l)).ref=vi(r,i,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=zc(s,r.mode,l)).return=r,r=i}return a(r);case P:return e(r,i,(u=s._init)(s._payload),l)}if(te(s))return m(r,i,s,l);if(O(s))return g(r,i,s,l);yi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=Dc(s,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var wi=xi(!0),Si=xi(!1),ki=Co(null),Ei=null,Ci=null,Ai=null;function Ii(){Ai=Ci=Ei=null}function ji(e){var t=ki.current;Ao(ki),e._currentValue=t}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _i(e,t){Ei=e,Ai=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ri(e){var t=e._currentValue;if(Ai!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===Ei)throw Error(i(308));Ci=e,Ei.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Pi=null;function Ni(e){null===Pi?Pi=[e]:Pi.push(e)}function Li(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ni(t)):(n.next=o.next,o.next=n),t.interleaved=n,Oi(e,r)}function Oi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mi=!1;function Di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&jl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Oi(e,n)}return null===(o=r.interleaved)?(t.next=t,Ni(r)):(t.next=o.next,o.next=t),r.interleaved=t,Oi(e,n)}function Bi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qi(e,t,n,r){var o=e.updateQueue;Mi=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(s=0,u=c=l=null,a=i;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=D({},d,h);break e;case 2:Mi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=d}}function Wi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Hi={},Gi=Co(Hi),Ki=Co(Hi),Qi=Co(Hi);function Xi(e){if(e===Hi)throw Error(i(174));return e}function Yi(e,t){switch(Io(Qi,t),Io(Ki,e),Io(Gi,Hi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ao(Gi),Io(Gi,t)}function $i(){Ao(Gi),Ao(Ki),Ao(Qi)}function Ji(e){Xi(Qi.current);var t=Xi(Gi.current),n=le(t,e.type);t!==n&&(Io(Ki,e),Io(Gi,n))}function Zi(e){Ki.current===e&&(Ao(Gi),Ao(Ki))}var es=Co(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var os=x.ReactCurrentDispatcher,is=x.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,ps=0;function fs(){throw Error(i(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,o,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,o),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(i(301));s+=1,cs=ls=null,t.updateQueue=null,os.current=ta,e=n(r,o)}while(ds)}if(os.current=Js,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(i(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function xs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ls,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,as.lanes|=s,Ml|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ks(){}function Es(e,t){var n=as,r=bs(),o=t(),s=!ar(r.memoizedState,o);if(s&&(r.memoizedState=o,ba=!0),r=r.queue,Ms(Is.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Rs(9,As.bind(null,n,r,o,t),void 0,null),null===Tl)throw Error(i(349));0!==(30&ss)||Cs(n,t,o)}return o}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function As(e,t,n,r){t.value=n,t.getSnapshot=r,js(t)&&Ts(e)}function Is(e,t,n){return n(function(){js(t)&&Ts(e)})}function js(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ts(e){var t=Oi(e,1);null!==t&&nc(t,e,1,-1)}function _s(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,as,e),[t.memoizedState,e]}function Rs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ps(){return bs().memoizedState}function Ns(e,t,n,r){var o=ys();as.flags|=e,o.memoizedState=Rs(1|t,n,void 0,void 0===r?null:r)}function Ls(e,t,n,r){var o=bs();r=void 0===r?null:r;var i=void 0;if(null!==ls){var s=ls.memoizedState;if(i=s.destroy,null!==r&&ms(r,s.deps))return void(o.memoizedState=Rs(t,n,i,r))}as.flags|=e,o.memoizedState=Rs(1|t,n,i,r)}function Os(e,t){return Ns(8390656,8,e,t)}function Ms(e,t){return Ls(2048,8,e,t)}function Ds(e,t){return Ls(4,2,e,t)}function zs(e,t){return Ls(4,4,e,t)}function Fs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ls(4,4,Fs.bind(null,t,e),n)}function Bs(){}function Us(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Ml|=n,e.baseState=!0),t)}function Hs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{bt=n,is.transition=r}}function Gs(){return bs().memoizedState}function Ks(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(e))Ys(t,n);else if(null!==(n=Li(e,t,n,r))){nc(n,e,r,ec()),$s(n,t,r)}}function Qs(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))Ys(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(o.next=o,Ni(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Li(e,t,o,r))&&(nc(n,e,r,o=ec()),$s(n,t,r))}}function Xs(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ys(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $s(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Js={readContext:Ri,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Zs={readContext:Ri,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:Os,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ns(4194308,4,Fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ns(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ks.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:_s,useDebugValue:Bs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=_s(!1),t=e[0];return e=Hs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,o=ys();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Tl)throw Error(i(349));0!==(30&ss)||Cs(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Os(Is.bind(null,r,s,e),[e]),r.flags|=2048,Rs(9,As.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Tl.identifierPrefix;if(ii){var n=Jo;t=":"+t+"R"+(n=($o&~(1<<32-st($o)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ri,useCallback:Us,useContext:Ri,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Ds,useLayoutEffect:zs,useMemo:qs,useReducer:ws,useRef:Ps,useState:function(){return ws(xs)},useDebugValue:Bs,useDeferredValue:function(e){return Ws(bs(),ls.memoizedState,e)},useTransition:function(){return[ws(xs)[0],bs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Es,useId:Gs,unstable_isNewReconciler:!1},ta={readContext:Ri,useCallback:Us,useContext:Ri,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Ds,useLayoutEffect:zs,useMemo:qs,useReducer:Ss,useRef:Ps,useState:function(){return Ss(xs)},useDebugValue:Bs,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Ws(t,ls.memoizedState,e)},useTransition:function(){return[Ss(xs)[0],bs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Es,useId:Gs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=Fi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Vi(e,i,o))&&(nc(t,e,o,r),Bi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=Fi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Vi(e,i,o))&&(nc(t,e,o,r),Bi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=Fi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Vi(e,o,r))&&(nc(t,e,r,n),Bi(t,e,r))}};function ia(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function sa(e,t,n){var r=!1,o=jo,i=t.contextType;return"object"===typeof i&&null!==i?i=Ri(i):(o=No(t)?Ro:To.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Po(e,o):jo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Di(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ri(i):(i=No(t)?Ro:To.current,o.context=Po(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),qi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),da(0,t)},n}function fa(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){da(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,Vi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ya=x.ReactCurrentOwner,ba=!1;function xa(e,t,n,r){t.child=null===e?Si(t,null,n,r):wi(t,e.child,n,r)}function wa(e,t,n,r,o){n=n.render;var i=t.ref;return _i(t,o),r=gs(e,t,n,r,i,o),n=vs(),null===e||ba?(ii&&n&&ti(t),t.flags|=1,xa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function Sa(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Pc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ka(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wa(e,t,o)}return t.flags|=1,(e=Nc(i,r)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Wa(e,t,o);0!==(131072&e.flags)&&(ba=!0)}}return Aa(e,t,n,r,o)}function Ea(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Io(Nl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Io(Nl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Io(Nl,Pl),Pl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Io(Nl,Pl),Pl|=r;return xa(e,t,o,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Aa(e,t,n,r,o){var i=No(n)?Ro:To.current;return i=Po(t,i),_i(t,o),n=gs(e,t,n,r,i,o),r=vs(),null===e||ba?(ii&&r&&ti(t),t.flags|=1,xa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function Ia(e,t,n,r,o){if(No(n)){var i=!0;Do(t)}else i=!1;if(_i(t,o),null===t.stateNode)qa(e,t),sa(t,n,r),la(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ri(c):c=Po(t,c=No(n)?Ro:To.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Mi=!1;var h=t.memoizedState;s.state=h,qi(t,r,s,o),l=t.memoizedState,a!==r||h!==l||_o.current||Mi?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Mi||ia(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,zi(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ri(l):l=Po(t,l=No(n)?Ro:To.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),Mi=!1,h=t.memoizedState,s.state=h,qi(t,r,s,o);var f=t.memoizedState;a!==d||h!==f||_o.current||Mi?("function"===typeof p&&(ra(t,n,p,r),f=t.memoizedState),(c=Mi||ia(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ja(e,t,n,r,i,o)}function ja(e,t,n,r,o,i){Ca(e,t);var s=0!==(128&t.flags);if(!r&&!s)return o&&zo(t,n,!1),Wa(e,t,i);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,a,i)):xa(e,t,a,i),t.memoizedState=r.state,o&&zo(t,n,!0),t.child}function Ta(e){var t=e.stateNode;t.pendingContext?Oo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oo(0,t.context,!1),Yi(e,t.containerInfo)}function _a(e,t,n,r,o){return fi(),mi(o),t.flags|=256,xa(e,t,n,r),t.child}var Ra,Pa,Na,La,Oa={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Da(e,t,n){var r,o=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Io(es,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mc(l,o,0,null),e=Oc(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=Oa,e):za(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,Fa(e,t,a,r=ua(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Mc({mode:"visible",children:r.children},o,0,null),(s=Oc(s,o,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=Oa,s);if(0===(1&t.mode))return Fa(e,t,a,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Fa(e,t,a,r=ua(s=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Tl)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Oi(e,o),nc(r,e,o,-1))}return mc(),Fa(e,t,a,r=ua(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,si=null,null!==e&&(Qo[Xo++]=$o,Qo[Xo++]=Jo,Qo[Xo++]=Yo,$o=e.id,Jo=e.overflow,Yo=t),t=za(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,s,n);if(a){a=o.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Nc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Nc(r,a):(a=Oc(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Oa,o}return e=(a=e.child).sibling,o=Nc(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function za(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,n,r){return null!==r&&mi(r),wi(t,e.child,null,n),(e=za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function Ba(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ua(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Io(es,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ba(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ba(t,!0,n,null,i);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return No(t.type)&&Lo(),Ga(t),null;case 3:return r=t.stateNode,$i(),Ao(_o),Ao(To),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==si&&(sc(si),si=null))),Pa(e,t),Ga(t),null;case 5:Zi(t);var o=Xi(Qi.current);if(n=t.type,null!==e&&null!=t.stateNode)Na(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ga(t),null}if(e=Xi(Gi.current),hi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[po]=t,r[fo]=s,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(o=0;o<Or.length;o++)Fr(Or[o],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,s),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",r);break;case"textarea":oe(r,s),Fr("invalid",r)}for(var l in ye(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":G(r),Z(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[fo]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),o=r;break;case"iframe":case"object":case"embed":Fr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Or.length;o++)Fr(Or[o],e);o=r;break;case"source":Fr("error",e),o=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),o=r;break;case"details":Fr("toggle",e),o=r;break;case"input":Y(e,r),o=X(e,r),Fr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=D({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Fr("invalid",e)}for(s in ye(n,o),c=o)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Fr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Xi(Qi.current),Xi(Gi.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(s=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Ga(t),null;case 13:if(Ao(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))pi(),fi(),t.flags|=98560,s=!1;else if(s=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[po]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==si&&(sc(si),si=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return $i(),Pa(e,t),null===e&&Ur(t.stateNode.containerInfo),Ga(t),null;case 10:return ji(t.type._context),Ga(t),null;case 19:if(Ao(es),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Io(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>Ul&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ii)return Ga(t),null}else 2*$e()-s.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=es.current,Io(es,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Qa(e,t){switch(ni(t),t.tag){case 1:return No(t.type)&&Lo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $i(),Ao(_o),Ao(To),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(Ao(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ao(es),null;case 4:return $i(),null;case 10:return ji(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Na=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Xi(Gi.current);var i,s=null;switch(n){case"input":o=X(e,o),r=X(e,r),s=[];break;case"select":o=D({},o,{value:void 0}),r=D({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,Ya=!1,$a="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[fo],delete t[go],delete t[vo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=ul,o=dl;ul=null,hl(e,t,n),dl=o,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Ut(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,t,s),o=o.next}while(o!==r)}hl(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ec(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,hl(e,t,n),Ya=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach(function(t){var r=jc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));pl(s,a,o),ul=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){Ec(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ec(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&$(o,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):b(o,d,h,u)}switch(l){case"input":J(o,s);break;case"textarea":ie(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(o,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[fo]=s}catch(g){Ec(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){Ec(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Bl=$e())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||d,ml(t,e),Ya=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(f=(p=Ja).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Za(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==f?(f.return=p,Ja=f):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),cl(e,al(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(i(161))}}catch(a){Ec(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var o=Ja,i=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Xa;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Xa;var c=Ya;if(Xa=s,(Ya=l)&&!c)for(Ja=o;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Sl(o):null!==l?(l.return=s,Ja=l):Sl(o);for(;null!==i;)Ja=i,bl(i,t,n),i=i.sibling;Ja=o,Xa=a,Ya=c}xl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Ja=i):xl(e)}}function xl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wi(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(i(163))}Ya||512&t.flags&&ol(t)}catch(p){Ec(t,t.return,p)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function wl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Sl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){Ec(t,o,l)}}var i=t.return;try{ol(t)}catch(l){Ec(t,i,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Ec(t,s,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var kl,El=Math.ceil,Cl=x.ReactCurrentDispatcher,Al=x.ReactCurrentOwner,Il=x.ReactCurrentBatchConfig,jl=0,Tl=null,_l=null,Rl=0,Pl=0,Nl=Co(0),Ll=0,Ol=null,Ml=0,Dl=0,zl=0,Fl=null,Vl=null,Bl=0,Ul=1/0,ql=null,Wl=!1,Hl=null,Gl=null,Kl=!1,Ql=null,Xl=0,Yl=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&jl)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&jl)&&0!==Rl?Rl&-Rl:null!==gi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,$l=null,Error(i(185));vt(e,n,r),0!==(2&jl)&&e===Tl||(e===Tl&&(0===(2&jl)&&(Dl|=n),4===Ll&&ac(e,Rl)),rc(e,r),1===n&&0===jl&&0===(1&t.mode)&&(Ul=$e()+500,Vo&&qo()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&r)||(o[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=ht(e,e===Tl?Rl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vo=!0,Uo(e)}(lc.bind(null,e)):Uo(lc.bind(null,e)),so(function(){0===(6&jl)&&qo()}),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Jl=-1,Zl=0,0!==(6&jl))throw Error(i(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var o=jl;jl|=2;var s=fc();for(Tl===e&&Rl===t||(ql=null,Ul=$e()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}Ii(),Cl.current=s,jl=o,null!==_l?t=0:(Tl=null,Rl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(o=ft(e))&&(r=o,t=ic(e,o))),1===t)throw n=Ol,hc(e,0),ac(e,r),rc(e,$e()),n;if(6===t)ac(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ar(i(),o))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gc(e,r))&&(0!==(s=ft(e))&&(r=s,t=ic(e,s))),1===t))throw n=Ol,hc(e,0),ac(e,r),rc(e,$e()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Vl,ql);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Bl+500-$e())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wc.bind(null,e,Vl,ql),t);break}wc(e,Vl,ql);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>o&&(o=a),r&=~s}if(r=o,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ro(wc.bind(null,e,Vl,ql),r);break}wc(e,Vl,ql);break;default:throw Error(i(329))}}}return rc(e,$e()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&sc(t)),e}function sc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function ac(e,t){for(t&=~zl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&jl))throw Error(i(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ol,hc(e,0),ac(e,t),rc(e,$e()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vl,ql),rc(e,$e()),null}function cc(e,t){var n=jl;jl|=1;try{return e(t)}finally{0===(jl=n)&&(Ul=$e()+500,Vo&&qo())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&jl)&&Sc();var t=jl;jl|=1;var n=Il.transition,r=bt;try{if(Il.transition=null,bt=1,e)return e()}finally{bt=r,Il.transition=n,0===(6&(jl=t))&&qo()}}function dc(){Pl=Nl.current,Ao(Nl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==_l)for(n=_l.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Lo();break;case 3:$i(),Ao(_o),Ao(To),rs();break;case 5:Zi(r);break;case 4:$i();break;case 13:case 19:Ao(es);break;case 10:ji(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Tl=e,_l=e=Nc(e.current,null),Rl=Pl=t,Ll=0,Ol=null,zl=Dl=Ml=0,Vl=Fl=null,null!==Pi){for(t=0;t<Pi.length;t++)if(null!==(r=(n=Pi[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=o,r.next=s}n.pending=r}Pi=null}return e}function pc(e,t){for(;;){var n=_l;try{if(Ii(),os.current=Js,us){for(var r=as.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,Al.current=null,null===n||null===n.return){Ll=1,Ol=t,_l=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ga(a);if(null!==f){f.flags&=-257,va(f,a,l,0,t),1&f.mode&&ma(s,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mi(ca(c,l));break e}}s=c=ca(c,l),4!==Ll&&(Ll=2),null===Fl?Fl=[s]:Fl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ui(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Ui(s,fa(s,l,t));break e}}s=s.return}while(null!==s)}xc(n)}catch(x){t=x,_l===n&&null!==n&&(_l=n=n.return);continue}break}}function fc(){var e=Cl.current;return Cl.current=Js,null===e?Js:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Tl||0===(268435455&Ml)&&0===(268435455&Dl)||ac(Tl,Rl)}function gc(e,t){var n=jl;jl|=2;var r=fc();for(Tl===e&&Rl===t||(ql=null,hc(e,t));;)try{vc();break}catch(o){pc(e,o)}if(Ii(),jl=n,Cl.current=r,null!==_l)throw Error(i(261));return Tl=null,Rl=0,Ll}function vc(){for(;null!==_l;)bc(_l)}function yc(){for(;null!==_l&&!Xe();)bc(_l)}function bc(e){var t=kl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?xc(e):_l=t,Al.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Pl)))return void(_l=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(_l=n);if(null===e)return Ll=6,void(_l=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(_l=t);_l=t=e}while(null!==t);0===Ll&&(Ll=5)}function wc(e,t,n){var r=bt,o=Il.transition;try{Il.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&jl))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,s),e===Tl&&(_l=Tl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Tc(tt,function(){return Sc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Il.transition,Il.transition=null;var a=bt;bt=1;var l=jl;jl|=4,Al.current=null,function(e,t){if(eo=Wt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==o&&3!==h.nodeType||(l=a+o),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===o&&(l=a),p===s&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Wt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(to),Wt=!!eo,to=eo=null,e.current=n,yl(n,e,o),Ye(),jl=l,bt=a,Il.transition=s}else e.current=n;if(Kl&&(Kl=!1,Ql=e,Xl=o),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Xl)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===$l?Yl++:(Yl=0,$l=e):Yl=0,qo()}(e,t,n,r)}finally{Il.transition=o,bt=r}return null}function Sc(){if(null!==Ql){var e=xt(Xl),t=Il.transition,n=bt;try{if(Il.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Xl=0,0!==(6&jl))throw Error(i(331));var o=jl;for(jl|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var p=(d=Ja).sibling,f=d.return;if(il(d),d===u){Ja=null;break}if(null!==p){p.return=f,Ja=p;break}Ja=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var b=e.current;for(Ja=b;null!==Ja;){var x=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==x)x.return=a,Ja=x;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Ec(l,l.return,S)}if(l===a){Ja=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ja=w;break e}Ja=l.return}}if(jl=o,qo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(S){}r=!0}return r}finally{bt=n,Il.transition=t}}return!1}function kc(e,t,n){e=Vi(e,t=pa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Vi(t,e=fa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Rl&n)===n&&(4===Ll||3===Ll&&(130023424&Rl)===Rl&&500>$e()-Bl?hc(e,0):zl|=n),rc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Oi(e,t))&&(vt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function jc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Ac(e,n)}function Tc(e,t){return Ke(e,t)}function _c(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new _c(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,o,s){var a=2;if(r=e,"function"===typeof e)Pc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Oc(n.children,o,s,t);case E:a=8,o|=8;break;case C:return(e=Rc(12,n,t,2|o)).elementType=C,e.lanes=s,e;case T:return(e=Rc(13,n,t,o)).elementType=T,e.lanes=s,e;case _:return(e=Rc(19,n,t,o)).elementType=_,e.lanes=s,e;case N:return Mc(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:a=10;break e;case I:a=9;break e;case j:a=11;break e;case R:a=14;break e;case P:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Rc(a,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function Oc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,o,i,s,a,l){return e=new Fc(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Rc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(i),e}function Bc(e){if(!e)return jo;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(No(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(No(n))return Mo(e,n,t)}return t}function Uc(e,t,n,r,o,i,s,a,l){return(e=Vc(n,r,!0,e,0,i,0,a,l)).context=Bc(null),n=e.current,(i=Fi(r=ec(),o=tc(n))).callback=void 0!==t&&null!==t?t:null,Vi(n,i,o),e.current.lanes=o,vt(e,o,r),rc(e,r),e}function qc(e,t,n,r){var o=t.current,i=ec(),s=tc(o);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vi(o,t,s))&&(nc(e,o,s,i),Bi(e,o,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_o.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ta(t),fi();break;case 5:Ji(t);break;case 1:No(t.type)&&Do(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Io(ki,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Io(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Da(e,t,n):(Io(es,1&es.current),null!==(e=Wa(e,t,n))?e.sibling:null);Io(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ua(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Io(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Ea(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,ii&&0!==(1048576&t.flags)&&ei(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var o=Po(t,To.current);_i(t,n),o=gs(null,t,r,e,o,n);var s=vs();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,No(r)?(s=!0,Do(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Di(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,la(t,r,e,n),t=ja(null,t,r,!0,s,n)):(t.tag=0,ii&&s&&ti(t),xa(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===R)return 14}return 2}(r),e=na(r,e),o){case 0:t=Aa(null,t,r,e,n);break e;case 1:t=Ia(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Aa(e,t,r,o=t.elementType===r?o:na(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ia(e,t,r,o=t.elementType===r?o:na(r,o),n);case 3:e:{if(Ta(t),null===e)throw Error(i(387));r=t.pendingProps,o=(s=t.memoizedState).element,zi(e,t),qi(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=_a(e,t,r,n,o=ca(Error(i(423)),t));break e}if(r!==o){t=_a(e,t,r,n,o=ca(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,si=null,n=Si(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===o){t=Wa(e,t,n);break e}xa(e,t,r,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ui(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(r,o)?a=null:null!==s&&no(r,s)&&(t.flags|=32),Ca(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Da(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,wa(e,t,r,o=t.elementType===r?o:na(r,o),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,Io(ki,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===o.children&&!_o.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Fi(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ti(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ti(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}xa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,_i(t,n),r=r(o=Ri(o)),t.flags|=1,xa(e,t,r,n),t.child;case 14:return o=na(r=t.type,t.pendingProps),Sa(e,t,r,o=na(r.type,o),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:na(r,o),qa(e,t),t.tag=1,No(r)?(e=!0,Do(t)):e=!1,_i(t,n),sa(t,r,o),la(t,r,o,n),ja(null,t,r,!0,e,n);case 19:return Ua(e,t,n);case 22:return Ea(e,t,n)}throw Error(i(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof o){var a=o;o=function(){var e=Wc(s);a.call(e)}}qc(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Wc(s);i.call(e)}}var s=Uc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[mo]=s.current,Ur(8===e.nodeType?e.parentNode:e),uc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[mo]=l.current,Ur(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,o,r);return Wc(s)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));qc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[mo]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,$e()),0===(6&jl)&&(Ul=$e()+500,qo()))}break;case 13:uc(function(){var t=Oi(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Oi(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Oi(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},Et=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(i(90));K(r),J(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},je=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[xo,wo,So,Ae,Ie,cc]},tu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(i(299));var n=!1,r="",o=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,o,0,s,a),e[mo]=t.current,Ur(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},3174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>S.A,StyledEngineProvider:()=>w,ThemeContext:()=>o.T,css:()=>v.AH,default:()=>k,internal_processStyles:()=>E,internal_serializeStyles:()=>A,keyframes:()=>v.i7});var r=n(8168),o=n(9369),i=n(6598),s=n(9436),a=n(1722),l=n(5043),c=n(918),u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,d=(0,c.A)(function(e){return u.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),h=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?d:h},f=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,a.SF)(t,n,r),(0,s.s)(function(){return(0,a.sk)(t,n,r)}),null},g=function e(t,n){var s,c,u=t.__emotion_real===t,d=u&&t.__emotion_base||t;void 0!==n&&(s=n.label,c=n.target);var h=f(t,n,u),g=h||p(d),v=!g("as");return function(){var y=arguments,b=u&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==s&&b.push("label:"+s+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{var x=y[0];b.push(x[0]);for(var w=y.length,S=1;S<w;S++)b.push(y[S],x[S])}var k=(0,o.w)(function(e,t,n){var r=v&&e.as||d,s="",u=[],f=e;if(null==e.theme){for(var y in f={},e)f[y]=e[y];f.theme=l.useContext(o.T)}"string"===typeof e.className?s=(0,a.Rk)(t.registered,u,e.className):null!=e.className&&(s=e.className+" ");var x=(0,i.J)(b.concat(u),t.registered,f);s+=t.key+"-"+x.name,void 0!==c&&(s+=" "+c);var w=v&&void 0===h?p(r):g,S={};for(var k in e)v&&"as"===k||w(k)&&(S[k]=e[k]);return S.className=s,n&&(S.ref=n),l.createElement(l.Fragment,null,l.createElement(m,{cache:t,serialized:x,isStringTag:"string"===typeof r}),l.createElement(r,S))});return k.displayName=void 0!==s?s:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",k.defaultProps=t.defaultProps,k.__emotion_real=k,k.__emotion_base=d,k.__emotion_styles=b,k.__emotion_forwardProp=h,Object.defineProperty(k,"toString",{value:function(){return"."+c}}),k.withComponent=function(t,o){return e(t,(0,r.A)({},n,o,{shouldForwardProp:f(k,o,!0)})).apply(void 0,b)},k}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){g[e]=g(e)});var v=n(3290),y=n(3803),b=n(579);const x=new Map;function w(e){const{injectFirst:t,enableCssLayer:n,children:r}=e,i=l.useMemo(()=>{const e="".concat(t,"-").concat(n);if("object"===typeof document&&x.has(e))return x.get(e);const r=function(e,t){const n=(0,y.A)({key:"css",prepend:e});if(t){const e=n.insert;n.insert=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n[1].styles.match(/^@layer\s+[^{]*$/)||(n[1].styles="@layer mui {".concat(n[1].styles,"}")),e(...n)}}return n}(t,n);return x.set(e,r),r},[t,n]);return t||n?(0,b.jsx)(o.C,{value:i,children:r}):r}var S=n(869);function k(e,t){return g(e,t)}const E=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},C=[];function A(e){return C[0]=e,(0,i.J)(C)}},3234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>o.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>i.A});var r=n(8812),o=n(8698),i=n(7758)},3290:(e,t,n)=>{"use strict";n.d(t,{AH:()=>u,i7:()=>d,mL:()=>c});var r=n(9369),o=n(5043),i=n(1722),s=n(9436),a=n(6598),l=(n(3803),n(219),function(e,t){var n=arguments;if(null==t||!r.h.call(t,"css"))return o.createElement.apply(void 0,n);var i=n.length,s=new Array(i);s[0]=r.E,s[1]=(0,r.c)(e,t);for(var a=2;a<i;a++)s[a]=n[a];return o.createElement.apply(null,s)});!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(l||(l={}));var c=(0,r.w)(function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,o.useContext(r.T)),c=o.useRef();return(0,s.i)(function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),c.current=[n,r],function(){n.flush()}},[t]),(0,s.i)(function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,i.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}},[t,l.name]),null});function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}function d(){var e=u.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},3382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>i});var r=n(528);const o=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i(e){const t="".concat(e).match(o);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||i(e)||t}function a(e,t,n){const r=s(t);return e.displayName||(""!==r?"".concat(n,"(").concat(r,")"):n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.vM:return a(e,e.render,"ForwardRef");case r.lD:return a(e,e.type,"memo");default:return}}}},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},3803:(e,t,n)=>{"use strict";n.d(t,{A:()=>oe});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),o=Math.abs,i=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function p(e){return e.length}function f(e,t){return t.push(e),e}var m=1,g=1,v=0,y=0,b=0,x="";function w(e,t,n,r,o,i,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:m,column:g,length:s,return:""}}function S(e,t){return s(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function k(){return b=y>0?u(x,--y):0,g--,10===b&&(g=1,m--),b}function E(){return b=y<v?u(x,y++):0,g++,10===b&&(g=1,m++),b}function C(){return u(x,y)}function A(){return y}function I(e,t){return d(x,e,t)}function j(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function T(e){return m=g=1,v=h(x=e),y=0,[]}function _(e){return x="",e}function R(e){return a(I(y-1,L(91===e?e+2:40===e?e+1:e)))}function P(e){for(;(b=C())&&b<33;)E();return j(e)>2||j(b)>3?"":" "}function N(e,t){for(;--t&&E()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return I(e,A()+(t<6&&32==C()&&32==E()))}function L(e){for(;E();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&L(b);break;case 40:41===e&&L(e);break;case 92:E()}return y}function O(e,t){for(;E()&&e+b!==57&&(e+b!==84||47!==C()););return"/*"+I(t,y-1)+"*"+i(47===e?e:E())}function M(e){for(;!j(C());)E();return I(e,y)}var D="-ms-",z="-moz-",F="-webkit-",V="comm",B="rule",U="decl",q="@keyframes";function W(e,t){for(var n="",r=p(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function H(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case U:return e.return=e.return||e.value;case V:return"";case q:return e.return=e.value+"{"+W(e.children,r)+"}";case B:e.value=e.props.join(",")}return h(n=W(e.children,r))?e.return=e.value+"{"+n+"}":""}function G(e){return _(K("",null,null,null,[""],e=T(e),0,[0],e))}function K(e,t,n,r,o,s,a,d,p){for(var m=0,g=0,v=a,y=0,b=0,x=0,w=1,S=1,I=1,j=0,T="",_=o,L=s,D=r,z=T;S;)switch(x=j,j=E()){case 40:if(108!=x&&58==u(z,v-1)){-1!=c(z+=l(R(j),"&","&\f"),"&\f")&&(I=-1);break}case 34:case 39:case 91:z+=R(j);break;case 9:case 10:case 13:case 32:z+=P(x);break;case 92:z+=N(A()-1,7);continue;case 47:switch(C()){case 42:case 47:f(X(O(E(),A()),t,n),p);break;default:z+="/"}break;case 123*w:d[m++]=h(z)*I;case 125*w:case 59:case 0:switch(j){case 0:case 125:S=0;case 59+g:-1==I&&(z=l(z,/\f/g,"")),b>0&&h(z)-v&&f(b>32?Y(z+";",r,n,v-1):Y(l(z," ","")+";",r,n,v-2),p);break;case 59:z+=";";default:if(f(D=Q(z,t,n,m,g,o,d,T,_=[],L=[],v),s),123===j)if(0===g)K(z,t,D,D,_,s,v,d,L);else switch(99===y&&110===u(z,3)?100:y){case 100:case 108:case 109:case 115:K(e,D,D,r&&f(Q(e,D,D,0,0,o,d,T,o,_=[],v),L),o,L,v,d,r?_:L);break;default:K(z,D,D,D,[""],L,0,d,L)}}m=g=b=0,w=I=1,T=z="",v=a;break;case 58:v=1+h(z),b=x;default:if(w<1)if(123==j)--w;else if(125==j&&0==w++&&125==k())continue;switch(z+=i(j),j*w){case 38:I=g>0?1:(z+="\f",-1);break;case 44:d[m++]=(h(z)-1)*I,I=1;break;case 64:45===C()&&(z+=R(E())),y=C(),g=v=h(T=z+=M(A())),j++;break;case 45:45===x&&2==h(z)&&(w=0)}}return s}function Q(e,t,n,r,i,s,c,u,h,f,m){for(var g=i-1,v=0===i?s:[""],y=p(v),b=0,x=0,S=0;b<r;++b)for(var k=0,E=d(e,g+1,g=o(x=c[b])),C=e;k<y;++k)(C=a(x>0?v[k]+" "+E:l(E,/&\f/g,v[k])))&&(h[S++]=C);return w(e,t,n,0===i?B:u,h,f,m)}function X(e,t,n){return w(e,t,n,V,i(b),d(e,2,-2),0)}function Y(e,t,n,r){return w(e,t,n,U,d(e,0,r),d(e,r+1,-1),r)}var $=function(e,t,n){for(var r=0,o=0;r=o,o=C(),38===r&&12===o&&(t[n]=1),!j(o);)E();return I(e,y)},J=function(e,t){return _(function(e,t){var n=-1,r=44;do{switch(j(r)){case 0:38===r&&12===C()&&(t[n]=1),e[n]+=$(y-1,t,n);break;case 2:e[n]+=R(r);break;case 4:if(44===r){e[++n]=58===C()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=i(r)}}while(r=E());return e}(T(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!r){Z.set(e,!0);for(var o=[],i=J(t,o),s=n.props,a=0,l=0;a<i.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=o[a]?i[a].replace(/&\f/g,s[c]):s[c]+" "+i[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return F+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return F+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return F+e+z+e+D+e+e;case 6828:case 4268:return F+e+D+e+e;case 6165:return F+e+D+"flex-"+e+e;case 5187:return F+e+l(e,/(\w+).+(:[^]+)/,F+"box-$1$2"+D+"flex-$1$2")+e;case 5443:return F+e+D+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return F+e+D+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return F+e+D+l(e,"shrink","negative")+e;case 5292:return F+e+D+l(e,"basis","preferred-size")+e;case 6060:return F+"box-"+l(e,"-grow","")+F+e+D+l(e,"grow","positive")+e;case 4554:return F+l(e,/([^-])(transform)/g,"$1"+F+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,F+"$1"),/(image-set)/,F+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,F+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,F+"box-pack:$3"+D+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+F+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,F+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+F+"$2-$3$1"+z+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+F)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+F+(45===u(e,14)?"inline-":"")+"box$3$1"+F+"$2$3$1"+D+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return F+e+D+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return F+e+D+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return F+e+D+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return F+e+D+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case U:e.return=ne(e.value,e.length);break;case q:return W([S(e,{value:l(e.value,"@","@"+F)})],r);case B:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([S(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return W([S(e,{props:[l(t,/:(plac\w+)/,":"+F+"input-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,D+"input-$1")]})],r)}return""})}}],oe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var o,i,s=e.stylisPlugins||re,a={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)});var c,u,d=[H,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=p(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}([ee,te].concat(s,d));i=function(e,t,n,r){c=n,W(G(e?e+"{"+t.styles+"}":t.styles),h),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return f.sheet.hydrate(l),f}},3815:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9172);const o=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,o)&&!E.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:a,props:i,_owner:k.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+j(l,0):i,w(s)?(o="",null!=e&&(o=e.replace(I,"$&/")+"/"),T(s,t,o,"",function(e){return e})):null!=s&&(A(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+j(a=e[c],c);l+=T(a,t,o,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=T(a=a.value,t,o,u=i+j(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",function(e){return t.call(n,e,o++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},N={transition:null},L={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:N,ReactCurrentOwner:k};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,n){_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _(e,function(){t++}),t},toArray:function(e){return _(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4853:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8587),o=n(8168);const i=["values","unit","step"],s=e=>{const t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>(0,o.A)({},e,{[t.key]:t.val}),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,r.A)(e,i),c=s(t),u=Object.keys(c);function d(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function h(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-a/100).concat(n,")")}function p(e,r){const o=u.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[u[o]]?t[u[o]]:r)-a/100).concat(n,")")}return(0,o.A)({keys:u,values:c,up:d,down:h,between:p,only:function(e){return u.indexOf(e)+1<u.length?p(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):p(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case o:return t}}}function S(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===a||e===s||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===v)},t.typeOf=w},4989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>o.A,unstable_applyStyles:()=>i.A});var r=n(8280),o=n(4853),i=n(9703)},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5403:(e,t,n)=>{"use strict";var r;n.d(t,{E_:()=>l,F3:()=>a}),function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(r||(r={}));class o extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const i=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},i=n.Plugins=n.Plugins||{},s=()=>null!==t?t.name:(e=>{var t,n;return(null===e||void 0===e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null===e||void 0===e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e),a=e=>{var t;return null===(t=n.PluginHeaders)||void 0===t?void 0:t.find(t=>t.name===e)},l=new Map;return n.convertFileSrc||(n.convertFileSrc=e=>e),n.getPlatform=s,n.handleError=t=>e.console.error(t),n.isNativePlatform=()=>"web"!==s(),n.isPluginAvailable=e=>{const t=l.get(e);return!!(null===t||void 0===t?void 0:t.platforms.has(s()))||!!a(e)},n.registerPlugin=function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u=l.get(e);if(u)return console.warn('Capacitor plugin "'.concat(e,'" already registered. Cannot register plugins twice.')),u.proxy;const d=s(),h=a(e);let p;const f=i=>{let s;const a=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];const f=(async()=>(!p&&d in c?p=p="function"===typeof c[d]?await c[d]():c[d]:null!==t&&!p&&"web"in c&&(p=p="function"===typeof c.web?await c.web():c.web),p))().then(t=>{const a=((t,i)=>{var s,a;if(!h){if(t)return null===(a=t[i])||void 0===a?void 0:a.bind(t);throw new o('"'.concat(e,'" plugin is not implemented on ').concat(d),r.Unimplemented)}{const r=null===h||void 0===h?void 0:h.methods.find(e=>i===e.name);if(r)return"promise"===r.rtype?t=>n.nativePromise(e,i.toString(),t):(t,r)=>n.nativeCallback(e,i.toString(),t,r);if(t)return null===(s=t[i])||void 0===s?void 0:s.bind(t)}})(t,i);if(a){const e=a(...l);return s=null===e||void 0===e?void 0:e.remove,e}throw new o('"'.concat(e,".").concat(i,'()" is not implemented on ').concat(d),r.Unimplemented)});return"addListener"===i&&(f.remove=async()=>s()),f};return a.toString=()=>"".concat(i.toString(),"() { [capacitor code] }"),Object.defineProperty(a,"name",{value:i,writable:!1,configurable:!1}),a},m=f("addListener"),g=f("removeListener"),v=(e,t)=>{const n=m({eventName:e},t),r=async()=>{const r=await n;g({eventName:e,callbackId:r},t)},o=new Promise(e=>n.then(()=>e({remove:r})));return o.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await r()},o},y=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return h?v:m;case"removeListener":return g;default:return f(t)}}});return i[e]=y,l.set(e,{name:e,proxy:y,platforms:new Set([...Object.keys(c),...h?[d]:[]])}),y},n.Exception=o,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},s=(e=>e.Capacitor=i(e))("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}),a=s.registerPlugin;class l{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r),n&&this.sendRetainedArgumentsForEvent(e);return Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const r=this.listeners[e];if(r)r.forEach(e=>e(t));else if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}}hasListeners(e){var t;return!!(null===(t=this.listeners[e])||void 0===t?void 0:t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not implemented";return new s.Exception(e,r.Unimplemented)}unavailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not available";return new s.Exception(e,r.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const r=n.indexOf(t);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(t=>{this.notifyListeners(e,t)}))}}const c=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),u=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class d extends l{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(e=>{if(e.length<=0)return;let[n,r]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=u(n).trim(),r=u(r).trim(),t[n]=r}),t}async setCookie(e){try{const t=c(e.key),n=c(e.value),r="; expires=".concat((e.expires||"").replace("expires=","")),o=(e.path||"/").replace("path=",""),i=null!=e.url&&e.url.length>0?"domain=".concat(e.url):"";document.cookie="".concat(t,"=").concat(n||"").concat(r,"; path=").concat(o,"; ").concat(i,";")}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie="".concat(e.key,"=; Max-Age=0")}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat((new Date).toUTCString(),";path=/"))}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}a("CapacitorCookies",{web:()=>new d});const h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object.assign({method:e.method||"GET",headers:e.headers},t),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.keys(e);return Object.keys(e).map(e=>e.toLocaleLowerCase()).reduce((n,r,o)=>(n[r]=e[t[o]],n),{})}(e.headers),o=r["content-type"]||"";if("string"===typeof e.data)n.body=e.data;else if(o.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,r]of Object.entries(e.data||{}))t.set(n,r);n.body=t.toString()}else if(o.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach((e,n)=>{t.append(n,e)});else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const r=new Headers(n.headers);r.delete("content-type"),n.headers=r}else(o.includes("application/json")||"object"===typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class p extends l{async request(e){const t=h(e,e.webFetchExtra),n=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?Object.entries(e).reduce((e,n)=>{const[r,o]=n;let i,s;return Array.isArray(o)?(s="",o.forEach(e=>{i=t?encodeURIComponent(e):e,s+="".concat(r,"=").concat(i,"&")}),s.slice(0,-1)):(i=t?encodeURIComponent(o):o,s="".concat(r,"=").concat(i)),"".concat(e,"&").concat(s)},"").substr(1):null}(e.params,e.shouldEncodeUrlParams),r=n?"".concat(e.url,"?").concat(n):e.url,o=await fetch(r,t),i=o.headers.get("content-type")||"";let s,a,{responseType:l="text"}=o.ok?e:{};switch(i.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":a=await o.blob(),s=await(async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const e=r.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},r.onerror=e=>n(e),r.readAsDataURL(e)}))(a);break;case"json":s=await o.json();break;default:s=await o.text()}const c={};return o.headers.forEach((e,t)=>{c[t]=e}),{data:s,headers:c,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}a("CapacitorHttp",{web:()=>new p})},6531:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(1188)},6598:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(918),i=!1,s=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},u=(0,o.A)(function(e){return l(e)?e:e.replace(s,"-$&").toLowerCase()}),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,function(e,t,n){return f={name:t,styles:n,next:f},t})}return 1===r[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},h="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function p(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return f={name:o.name,styles:o.styles,next:f},o.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)f={name:a.name,styles:a.styles,next:f},a=a.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=p(e,t,n[o])+";";else for(var s in n){var a=n[s];if("object"!==typeof a){var l=a;null!=t&&void 0!==t[l]?r+=s+"{"+t[l]+"}":c(l)&&(r+=u(s)+":"+d(s,l)+";")}else{if("NO_COMPONENT_SELECTOR"===s&&i)throw new Error(h);if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var f=p(e,t,a);switch(s){case"animation":case"animationName":r+=u(s)+":"+f+";";break;default:r+=s+"{"+f+"}"}}else for(var m=0;m<a.length;m++)c(a[m])&&(r+=u(s)+":"+d(s,a[m])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var l=f,m=n(e);return f=l,p(e,t,m)}}var g=n;if(null==t)return g;var v=t[g];return void 0!==v?v:g}var f,m=/label:\s*([^\s;{]+)\s*(;|$)/g;function g(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";f=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=p(n,t,i)):o+=i[0];for(var s=1;s<e.length;s++){if(o+=p(n,t,e[s]),r)o+=i[s]}m.lastIndex=0;for(var a,l="";null!==(a=m.exec(o));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:f}}},7162:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>i});var r=n(7598),o=n(9751);function i(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=n)return n}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function s(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||o:i(e,n)||o,t&&(r=t(r,o,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=i(e.theme,a)||{};return(0,o.NI)(e,c,e=>{let o=s(u,l,e);return e===o&&"string"===typeof e&&(o=s(u,l,"".concat(t).concat("default"===e?"":(0,r.A)(e)),e)),!1===n?o:{[n]:o}})};return c.propTypes={},c.filterProps=[t],c}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,N(S);else{var t=r(u);null!==t&&L(w,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(A),A=-1),f=!0;var i=p;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&o(c),x(n)}else o(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&L(w,d.startTime-n),l=!1}return l}finally{h=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,C=null,A=-1,I=5,j=-1;function T(){return!(t.unstable_now()-j<I)}function _(){if(null!==C){var e=t.unstable_now();j=e;var n=!0;try{n=C(!0,e)}finally{n?k():(E=!1,C=null)}}else E=!1}if("function"===typeof b)k=function(){b(_)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=_,k=function(){P.postMessage(null)}}else k=function(){v(_,0)};function N(e){C=e,E||(E=!0,k())}function L(e,n){A=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(A),A=-1):g=!0,L(w,i-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,N(S))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7266:(e,t,n)=>{"use strict";var r=n(4994);t.X4=p,t.e$=f,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var o=r(n(457)),i=r(n(6531));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,i.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", "),")"):""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,o.default)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,o.default)(10,r))}else i=i.split(",");return i=i.map(e=>parseFloat(e)),{type:n,values:i,colorSpace:r}}const c=e=>{const t=l(e);return t.values.slice(0,3).map((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?"".concat(e,"%"):e).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),u({type:a,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,u(e)}function f(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?f(e,t):m(e,t)}},7598:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7868);function o(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7758:(e,t,n)=>{"use strict";n.d(t,{A:()=>L});var r=n(8604),o=n(7162),i=n(3815);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>(t.filterProps.forEach(n=>{e[n]=t}),e),{}),o=e=>Object.keys(e).reduce((t,n)=>r[n]?(0,i.A)(t,r[n](e)):t,{});return o.propTypes={},o.filterProps=t.reduce((e,t)=>e.concat(t.filterProps),[]),o};var a=n(9751);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function c(e,t){return(0,o.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),p=c("borderBottom",l),f=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),b=c("borderLeftColor"),x=c("outline",l),w=c("outlineColor"),S=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};S.propTypes={},S.filterProps=["borderRadius"];s(u,d,h,p,f,m,g,v,y,b,S,x,w);const k=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};k.propTypes={},k.filterProps=["gap"];const E=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};E.propTypes={},E.filterProps=["columnGap"];const C=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};C.propTypes={},C.filterProps=["rowGap"];s(k,E,C,(0,o.Ay)({prop:"gridColumn"}),(0,o.Ay)({prop:"gridRow"}),(0,o.Ay)({prop:"gridAutoFlow"}),(0,o.Ay)({prop:"gridAutoColumns"}),(0,o.Ay)({prop:"gridAutoRows"}),(0,o.Ay)({prop:"gridTemplateColumns"}),(0,o.Ay)({prop:"gridTemplateRows"}),(0,o.Ay)({prop:"gridTemplateAreas"}),(0,o.Ay)({prop:"gridArea"}));function A(e,t){return"grey"===t?t:e}s((0,o.Ay)({prop:"color",themeKey:"palette",transform:A}),(0,o.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:A}),(0,o.Ay)({prop:"backgroundColor",themeKey:"palette",transform:A}));function I(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const j=(0,o.Ay)({prop:"width",transform:I}),T=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return o?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(o).concat(e.theme.breakpoints.unit)}:{maxWidth:o}:{maxWidth:I(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};T.filterProps=["maxWidth"];const _=(0,o.Ay)({prop:"minWidth",transform:I}),R=(0,o.Ay)({prop:"height",transform:I}),P=(0,o.Ay)({prop:"maxHeight",transform:I}),N=(0,o.Ay)({prop:"minHeight",transform:I}),L=((0,o.Ay)({prop:"size",cssProperty:"width",transform:I}),(0,o.Ay)({prop:"size",cssProperty:"height",transform:I}),s(j,T,_,R,P,N,(0,o.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:A},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:A},backgroundColor:{themeKey:"palette",transform:A},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:k},rowGap:{style:C},columnGap:{style:E},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:I},maxWidth:{style:T},minWidth:{transform:I},height:{transform:I},maxHeight:{transform:I},minHeight:{transform:I},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},7868:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},7918:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7598)},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8052:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=g,rootShouldForwardProp:r=f,slotShouldForwardProp:l=f}=e,u=e=>(0,c.default)((0,o.default)({},e,{theme:y((0,o.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));const{name:d,slot:p,skipVariantsResolver:m,skipSx:g,overridesResolver:w=b(v(p))}=c,S=(0,i.default)(c,h),k=d&&d.startsWith("Mui")||p?"components":"custom",E=void 0!==m?m:p&&"Root"!==p&&"root"!==p||!1,C=g||!1;let A=f;"Root"===p||"root"===p?A=r:p?A=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(A=void 0);const I=(0,s.default)(e,(0,o.default)({shouldForwardProp:A,label:undefined},S)),j=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>{const i=y({theme:r.theme,defaultTheme:n,themeId:t});return x(e,(0,o.default)({},r,{theme:i}),i.modularCssLayers?k:void 0)}:e,T=function(r){let i=j(r);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=a?a.map(j):[];d&&w&&c.push(e=>{const r=y((0,o.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const i=r.components[d].styleOverrides,s={};return Object.entries(i).forEach(t=>{let[n,i]=t;s[n]=x(i,(0,o.default)({},e,{theme:r}),r.modularCssLayers?"theme":void 0)}),w(e,s)}),d&&!E&&c.push(e=>{var r;const i=y((0,o.default)({},e,{defaultTheme:n,themeId:t}));return x({variants:null==i||null==(r=i.components)||null==(r=r[d])?void 0:r.variants},(0,o.default)({},e,{theme:i}),i.modularCssLayers?"theme":void 0)}),C||c.push(u);const h=c.length-a.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const p=I(i,...c);return e.muiName&&(p.muiName=e.muiName),p};return I.withConfig&&(T.withConfig=I.withConfig),T}};var o=r(n(4634)),i=r(n(4893)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(3174)),a=n(9482),l=(r(n(7918)),r(n(3382)),r(n(4989))),c=r(n(3234));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function m(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}const g=(0,l.default)(),v=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function y(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function b(e){return e?(t,n)=>n[e]:null}function x(e,t,n){let{ownerState:r}=t,a=(0,i.default)(t,u);const l="function"===typeof e?e((0,o.default)({ownerState:r},a)):e;if(Array.isArray(l))return l.flatMap(e=>x(e,(0,o.default)({ownerState:r},a),n));if(l&&"object"===typeof l&&Array.isArray(l.variants)){const{variants:e=[]}=l;let t=(0,i.default)(l,d);return e.forEach(e=>{let i=!0;if("function"===typeof e.props?i=e.props((0,o.default)({ownerState:r},a,r)):Object.keys(e.props).forEach(t=>{(null==r?void 0:r[t])!==e.props[t]&&a[t]!==e.props[t]&&(i=!1)}),i){Array.isArray(t)||(t=[t]);const i="function"===typeof e.style?e.style((0,o.default)({ownerState:r},a,r)):e.style;t.push(n?m((0,s.internal_serializeStyles)(i),n):i)}}),t}return n?m((0,s.internal_serializeStyles)(l),n):l}},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8280:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(8168),o=n(8587),i=n(9172),s=n(4853);const a={borderRadius:4};var l=n(8604);var c=n(8812),u=n(7758),d=n(9703);const h=["breakpoints","palette","spacing","shape"];const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:p,shape:f={}}=e,m=(0,o.A)(e,h),g=(0,s.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map(e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return n.mui=!0,n}(p);let y=(0,i.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:v,shape:(0,r.A)({},a,f)},m);y.applyStyles=d.A;for(var b=arguments.length,x=new Array(b>1?b-1:0),w=1;w<b;w++)x[w-1]=arguments[w];return y=x.reduce((e,t)=>(0,i.A)(e,t),y),y.unstable_sxConfig=(0,r.A)({},u.A,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},y}},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},8604:(e,t,n)=>{"use strict";n.d(t,{LX:()=>f,MA:()=>p,_W:()=>m,Lc:()=>y,Ms:()=>b});var r=n(9751),o=n(7162),i=n(3815);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}(e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],o=a[n]||"";return Array.isArray(o)?o.map(e=>r+e):[r+o]}),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function p(e,t,n,r){var i;const s=null!=(i=(0,o.Yn)(e,t,!1))?i:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function f(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,o){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce((e,r)=>(e[r]=m(t,n),e),{})}(c(n),o),s=e[n];return(0,r.NI)(e,s,i)}function v(e,t){const n=f(e.theme);return Object.keys(e).map(r=>g(e,t,r,n)).reduce(i.A,{})}function y(e){return v(e,u)}function b(e){return v(e,d)}function x(e){return v(e,h)}y.propTypes={},y.filterProps=u,b.propTypes={},b.filterProps=d,x.propTypes={},x.filterProps=h},8698:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),o=n(8587),i=n(9172),s=n(7758);const a=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach(t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]}),r};function c(e){const{sx:t}=e,n=(0,o.A)(e,a),{systemProps:s,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[s,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,i.Q)(e)?(0,r.A)({},s,e):s}:(0,r.A)({},s,t),(0,r.A)({},c,{sx:u})}},8812:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(7598),o=n(3815),i=n(7162),s=n(9751),a=n(7758);function l(){function e(e,t,n,o){const a={[e]:t,theme:n},l=o[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const p=(0,i.Yn)(n,u)||{};if(h)return h(a);return(0,s.NI)(a,t,t=>{let n=(0,i.BO)(p,d,t);return t===n&&"string"===typeof t&&(n=(0,i.BO)(p,d,"".concat(e).concat("default"===t?"":(0,r.A)(t)),t)),!1===c?n:{[c]:n}})}return function t(n){var r;const{sx:i,theme:l={},nested:c}=n||{};if(!i)return null;const u=null!=(r=l.unstable_sxConfig)?r:a.A;function d(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const i=(0,s.EU)(l.breakpoints),a=Object.keys(i);let d=i;return Object.keys(r).forEach(n=>{const i=(a=r[n],c=l,"function"===typeof a?a(c):a);var a,c;if(null!==i&&void 0!==i)if("object"===typeof i)if(u[n])d=(0,o.A)(d,e(n,i,l,u));else{const e=(0,s.NI)({theme:l},i,e=>({[n]:e}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>e.concat(Object.keys(t)),[]),o=new Set(r);return t.every(e=>o.size===Object.keys(e).length)}(e,i)?d=(0,o.A)(d,e):d[n]=t({sx:i,theme:l,nested:!0})}else d=(0,o.A)(d,e(n,i,l,u))}),!c&&l.modularCssLayers?{"@layer sx":(0,s.vf)(a,d)}:(0,s.vf)(a,d)}return Array.isArray(i)?i.map(d):d(i)}}const c=l();c.filterProps=["sx"];const u=c},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9172:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,Q:()=>i});var r=n(8168),o=n(5043);function i(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function s(e){if(o.isValidElement(e)||!i(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=s(e[n])}),t}function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const l=n.clone?(0,r.A)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach(r=>{o.isValidElement(t[r])?l[r]=t[r]:i(t[r])&&Object.prototype.hasOwnProperty.call(e,r)&&i(e[r])?l[r]=a(e[r],t[r],n):n.clone?l[r]=i(t[r])?s(t[r]):t[r]:l[r]=t[r]}),l}},9369:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,E:()=>g,T:()=>d,c:()=>f,h:()=>h,w:()=>u});var r=n(5043),o=n(3803),i=n(1722),s=n(6598),a=n(9436),l=r.createContext("undefined"!==typeof HTMLElement?(0,o.A)({key:"css"}):null),c=l.Provider,u=function(e){return(0,r.forwardRef)(function(t,n){var o=(0,r.useContext)(l);return e(t,o,n)})},d=r.createContext({});var h={}.hasOwnProperty,p="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=function(e,t){var n={};for(var r in t)h.call(t,r)&&(n[r]=t[r]);return n[p]=e,n},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,i.SF)(t,n,r),(0,a.s)(function(){return(0,i.sk)(t,n,r)}),null},g=u(function(e,t,n){var o=e.css;"string"===typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var a=e[p],l=[o],c="";"string"===typeof e.className?c=(0,i.Rk)(t.registered,l,e.className):null!=e.className&&(c=e.className+" ");var u=(0,s.J)(l,void 0,r.useContext(d));c+=t.key+"-"+u.name;var f={};for(var g in e)h.call(e,g)&&"css"!==g&&g!==p&&(f[g]=e[g]);return f.className=c,n&&(f.ref=n),r.createElement(r.Fragment,null,r.createElement(m,{cache:t,serialized:u,isStringTag:"string"===typeof a}),r.createElement(a,f))})},9436:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a,s:()=>s});var o=n(5043),i=!!(r||(r=n.t(o,2))).useInsertionEffect&&(r||(r=n.t(o,2))).useInsertionEffect,s=i||function(e){return e()},a=i||o.useLayoutEffect},9482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(9172)},9703:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},9751:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>s,iZ:()=>c,kW:()=>u,vf:()=>l,zu:()=>o});var r=n(9172);const o={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(o[e],"px)")};function s(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||i;return t.reduce((r,o,i)=>(r[e.up(e.keys[i])]=n(t[i]),r),{})}if("object"===typeof t){const e=r.breakpoints||i;return Object.keys(t).reduce((r,i)=>{if(-1!==Object.keys(e.values||o).indexOf(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r},{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce((t,n)=>(t[e.up(n)]={},t),{}))||{}}function l(e,t){return e.reduce((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e},t)}function c(e){const t=a(e);for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];const s=[t,...o].reduce((e,t)=>(0,r.A)(e,t),{});return l(Object.keys(t),s)}function u(e){let{values:t,breakpoints:n,base:r}=e;const o=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((t,r)=>{r<e.length&&(n[t]=!0)}):r.forEach(t=>{null!=e[t]&&(n[t]=!0)}),n}(t,n),i=Object.keys(o);if(0===i.length)return t;let s;return i.reduce((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e),{})}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".6014e6a9.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="ai-english-trainer-it:";n.l=(r,o,i,s)=>{if(e[r])e[r].push(o);else{var a,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+i),a.src=r),e[r]=[o];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((n,r)=>o=e[t]=[n,r]);r.push(o[2]=i);var s=n.p+n.u(t),a=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,o[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var o,i,[s,a,l]=r,c=0;if(s.some(t=>0!==e[t])){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)l(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkai_english_trainer_it=self.webpackChunkai_english_trainer_it||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(5043),t=n.t(e,2),r=n(4391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=n(8168),u=n(8587),d=n(7868),h=n(9172),p=n(7758),f=n(8812),m=n(8280);function g(e,t){return(0,c.A)({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var v=n(7266);const y={black:"#000",white:"#fff"},b={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},x={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},w={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},S={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},k={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},E={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},C={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},A=["mode","contrastThreshold","tonalOffset"],I={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:y.white,default:y.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},j={text:{primary:y.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:y.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function T(e,t,n,r){const o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,v.a)(e.main,o):"dark"===t&&(e.dark=(0,v.e$)(e.main,i)))}function _(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,o=(0,u.A)(e,A),i=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:k[200],light:k[50],dark:k[400]}:{main:k[700],light:k[400],dark:k[800]}}(t),s=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:x[200],light:x[50],dark:x[400]}:{main:x[500],light:x[300],dark:x[700]}}(t),a=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:w[500],light:w[300],dark:w[700]}:{main:w[700],light:w[400],dark:w[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:E[400],light:E[300],dark:E[700]}:{main:E[700],light:E[500],dark:E[900]}}(t),p=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:C[400],light:C[300],dark:C[700]}:{main:C[800],light:C[500],dark:C[900]}}(t),f=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:S[400],light:S[300],dark:S[700]}:{main:"#ed6c02",light:S[500],dark:S[900]}}(t);function m(e){return(0,v.eM)(e,j.text.primary)>=n?j.text.primary:I.text.primary}const g=e=>{let{color:t,name:n,mainShade:o=500,lightShade:i=300,darkShade:s=700}=e;if(t=(0,c.A)({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,d.A)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,d.A)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return T(t,"light",i,r),T(t,"dark",s,r),t.contrastText||(t.contrastText=m(t.main)),t},_={dark:j,light:I};return(0,h.A)((0,c.A)({common:(0,c.A)({},y),mode:t,primary:g({color:i,name:"primary"}),secondary:g({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:a,name:"error"}),warning:g({color:f,name:"warning"}),info:g({color:l,name:"info"}),success:g({color:p,name:"success"}),grey:b,contrastThreshold:n,getContrastText:m,augmentColor:g,tonalOffset:r},_[t]),o)}const R=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const P={textTransform:"uppercase"},N='"Roboto", "Helvetica", "Arial", sans-serif';function L(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=N,fontSize:o=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:d=16,allVariants:p,pxToRem:f}=n,m=(0,u.A)(n,R);const g=o/14,v=f||(e=>"".concat(e/d*g,"rem")),y=(e,t,n,o,i)=>{return(0,c.A)({fontFamily:r,fontWeight:e,fontSize:v(t),lineHeight:n},r===N?{letterSpacing:"".concat((s=o/t,Math.round(1e5*s)/1e5),"em")}:{},i,p);var s},b={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(a,14,1.75,.4,P),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,P),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,h.A)((0,c.A)({htmlFontSize:d,pxToRem:v,fontFamily:r,fontSize:o,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},b),m,{clone:!1})}function O(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const M=["none",O(0,2,1,-1,0,1,1,0,0,1,3,0),O(0,3,1,-2,0,2,2,0,0,1,5,0),O(0,3,3,-2,0,3,4,0,0,1,8,0),O(0,2,4,-1,0,4,5,0,0,1,10,0),O(0,3,5,-1,0,5,8,0,0,1,14,0),O(0,3,5,-1,0,6,10,0,0,1,18,0),O(0,4,5,-2,0,7,10,1,0,2,16,1),O(0,5,5,-3,0,8,10,1,0,3,14,2),O(0,5,6,-3,0,9,12,1,0,3,16,2),O(0,6,6,-3,0,10,14,1,0,4,18,3),O(0,6,7,-4,0,11,15,1,0,4,20,3),O(0,7,8,-4,0,12,17,2,0,5,22,4),O(0,7,8,-4,0,13,19,2,0,5,24,4),O(0,7,9,-4,0,14,21,2,0,5,26,4),O(0,8,9,-5,0,15,22,2,0,6,28,5),O(0,8,10,-5,0,16,24,2,0,6,30,5),O(0,8,11,-5,0,17,26,2,0,6,32,5),O(0,9,11,-5,0,18,28,2,0,7,34,6),O(0,9,12,-6,0,19,29,2,0,7,36,6),O(0,10,13,-6,0,20,31,3,0,8,38,7),O(0,10,13,-6,0,21,33,3,0,8,40,7),O(0,10,14,-6,0,22,35,3,0,8,42,7),O(0,11,14,-7,0,23,36,3,0,9,44,8),O(0,11,15,-7,0,24,38,3,0,9,46,8)],D=["duration","easing","delay"],z={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},F={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function V(e){return"".concat(Math.round(e),"ms")}function B(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function U(e){const t=(0,c.A)({},z,e.easing),n=(0,c.A)({},F,e.duration);return(0,c.A)({getAutoHeightDuration:B,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:o=n.standard,easing:i=t.easeInOut,delay:s=0}=r;(0,u.A)(r,D);return(Array.isArray(e)?e:[e]).map(e=>"".concat(e," ").concat("string"===typeof o?o:V(o)," ").concat(i," ").concat("string"===typeof s?s:V(s))).join(",")}},e,{easing:t,duration:n})}const q={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},W=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function H(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:o={}}=e,i=(0,u.A)(e,W);if(e.vars&&void 0===e.generateCssVars)throw new Error((0,d.A)(18));const s=_(n),a=(0,m.A)(e);let l=(0,h.A)(a,{mixins:g(a.breakpoints,t),palette:s,shadows:M.slice(),typography:L(s,o),transitions:U(r),zIndex:(0,c.A)({},q)});l=(0,h.A)(l,i);for(var v=arguments.length,y=new Array(v>1?v-1:0),b=1;b<v;b++)y[b-1]=arguments[b];return l=y.reduce((e,t)=>(0,h.A)(e,t),l),l.unstable_sxConfig=(0,c.A)({},p.A,null==i?void 0:i.unstable_sxConfig),l.unstable_sx=function(e){return(0,f.A)({sx:e,theme:this})},l}const G=H;function K(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=K(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Q=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=K(e))&&(r&&(r+=" "),r+=t);return r};var X=n(3174),Y=n(8698),$=n(9369);const J=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=e.useContext($.T);return n&&(r=n,0!==Object.keys(r).length)?n:t;var r},Z=(0,m.A)();const ee=function(){return J(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z)};var te=n(579);const ne=["className","component"];const re=e=>e,oe=(()=>{let e=re;return{configure(t){e=t},generate:t=>e(t),reset(){e=re}}})(),ie="$$material",se={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ae(e,t){const n=se[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(oe.generate(e),"-").concat(t)}function le(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach(t=>{r[t]=ae(e,t,n)}),r}const ce=le("MuiBox",["root"]),ue=G(),de=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:o="MuiBox-root",generateClassName:i}=t,s=(0,X.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(f.A),a=e.forwardRef(function(e,t){const a=ee(r),l=(0,Y.A)(e),{className:d,component:h="div"}=l,p=(0,u.A)(l,ne);return(0,te.jsx)(s,(0,c.A)({as:h,ref:t,className:Q(d,i?i(o):o),theme:n&&a[n]||a},p))});return a}({themeId:ie,defaultTheme:ue,defaultClassName:ce.root,generateClassName:oe.generate}),he=de;function pe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach(o=>{r[o]=e[o].reduce((e,r)=>{if(r){const o=t(r);""!==o&&e.push(o),n&&n[r]&&e.push(n[r])}return e},[]).join(" ")}),r}var fe=n(8052);const me=G();const ge=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},ve=e=>ge(e)&&"classes"!==e,ye=(0,fe.Ay)({themeId:ie,defaultTheme:me,rootShouldForwardProp:ve});function be(e,t){const n=(0,c.A)({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=(0,c.A)({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const o=e[r]||{},i=t[r];n[r]={},i&&Object.keys(i)?o&&Object.keys(o)?(n[r]=(0,c.A)({},i),Object.keys(o).forEach(e=>{n[r][e]=be(o[e],i[e])})):n[r]=i:n[r]=o}else void 0===n[r]&&(n[r]=e[r])}),n}const xe=e.createContext(void 0);function we(t){let{props:n,name:r}=t;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?be(o.defaultProps,r):o.styleOverrides||o.variants?r:be(o,r)}({props:n,name:r,theme:{components:e.useContext(xe)}})}const Se=function(e){let{value:t,children:n}=e;return(0,te.jsx)(xe.Provider,{value:t,children:n})};function ke(e){return we(e)}var Ee=n(7598);const Ce=Ee.A;function Ae(e){return ae("MuiTypography",e)}le("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Ie=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],je=ye("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(Ce(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})}),Te={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},_e={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Re=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiTypography"}),r=(e=>_e[e]||e)(n.color),o=(0,Y.A)((0,c.A)({},n,{color:r})),{align:i="inherit",className:s,component:a,gutterBottom:l=!1,noWrap:d=!1,paragraph:h=!1,variant:p="body1",variantMapping:f=Te}=o,m=(0,u.A)(o,Ie),g=(0,c.A)({},o,{align:i,color:r,className:s,component:a,gutterBottom:l,noWrap:d,paragraph:h,variant:p,variantMapping:f}),v=a||(h?"p":f[p]||Te[p])||"span",y=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:s}=e;return pe({root:["root",i,"inherit"!==e.align&&"align".concat(Ce(t)),n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]},Ae,s)})(g);return(0,te.jsx)(je,(0,c.A)({as:v,ref:t,ownerState:g,className:Q(y.root,s)},m))}),Pe=Re;var Ne=n(9751);function Le(){const e=ee(me);return e[ie]||e}const Oe=e.createContext();function Me(e){return ae("MuiGrid",e)}const De=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ze=le("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map(e=>"spacing-xs-".concat(e)),...["column-reverse","column","row-reverse","row"].map(e=>"direction-xs-".concat(e)),...["nowrap","wrap-reverse","wrap"].map(e=>"wrap-xs-".concat(e)),...De.map(e=>"grid-xs-".concat(e)),...De.map(e=>"grid-sm-".concat(e)),...De.map(e=>"grid-md-".concat(e)),...De.map(e=>"grid-lg-".concat(e)),...De.map(e=>"grid-xl-".concat(e))]),Fe=ze,Ve=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Be(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function Ue(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach(e=>{""===r&&0!==n[e]&&(r=e)});const o=Object.keys(t).sort((e,n)=>t[e]-t[n]);return o.slice(0,o.indexOf(r))}const qe=ye("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:o,item:i,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach(t=>{const o=e[t];Number(o)>0&&r.push(n["spacing-".concat(t,"-").concat(String(o))])}),r}(s,c,t));const d=[];return c.forEach(e=>{const r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])}),[t.root,r&&t.container,i&&t.item,l&&t.zeroMinWidth,...u,"row"!==o&&t["direction-xs-".concat(String(o))],"wrap"!==a&&t["wrap-xs-".concat(String(a))],...d]}})(e=>{let{ownerState:t}=e;return(0,c.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})},function(e){let{theme:t,ownerState:n}=e;const r=(0,Ne.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,Ne.NI)({theme:t},r,e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(Fe.item)]={maxWidth:"none"}),t})},function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:o}=n;let i={};if(r&&0!==o){const e=(0,Ne.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=Ue({breakpoints:t.breakpoints.values,values:e})),i=(0,Ne.NI)({theme:t},e,(e,r)=>{var o;const i=t.spacing(e);return"0px"!==i?{marginTop:"-".concat(Be(i)),["& > .".concat(Fe.item)]:{paddingTop:Be(i)}}:null!=(o=n)&&o.includes(r)?{}:{marginTop:0,["& > .".concat(Fe.item)]:{paddingTop:0}}})}return i},function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:o}=n;let i={};if(r&&0!==o){const e=(0,Ne.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=Ue({breakpoints:t.breakpoints.values,values:e})),i=(0,Ne.NI)({theme:t},e,(e,r)=>{var o;const i=t.spacing(e);return"0px"!==i?{width:"calc(100% + ".concat(Be(i),")"),marginLeft:"-".concat(Be(i)),["& > .".concat(Fe.item)]:{paddingLeft:Be(i)}}:null!=(o=n)&&o.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat(Fe.item)]:{paddingLeft:0}}})}return i},function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce((e,o)=>{let i={};if(r[o]&&(t=r[o]),!t)return e;if(!0===t)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=(0,Ne.kW)({values:r.columns,breakpoints:n.breakpoints.values}),a="object"===typeof s?s[o]:s;if(void 0===a||null===a)return e;const l="".concat(Math.round(t/a*1e8)/1e6,"%");let u={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(l," + ").concat(Be(e),")");u={flexBasis:t,maxWidth:t}}}i=(0,c.A)({flexBasis:l,flexGrow:0,maxWidth:l},u)}return 0===n.breakpoints.values[o]?Object.assign(e,i):e[n.breakpoints.up(o)]=i,e},{})});const We=e=>{const{classes:t,container:n,direction:r,item:o,spacing:i,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach(t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}}),n}(i,l));const u=[];l.forEach(t=>{const n=e[t];n&&u.push("grid-".concat(t,"-").concat(String(n)))});return pe({root:["root",n&&"container",o&&"item",a&&"zeroMinWidth",...c,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==s&&"wrap-xs-".concat(String(s)),...u]},Me,t)},He=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiGrid"}),{breakpoints:o}=Le(),i=(0,Y.A)(r),{className:s,columns:a,columnSpacing:l,component:d="div",container:h=!1,direction:p="row",item:f=!1,rowSpacing:m,spacing:g=0,wrap:v="wrap",zeroMinWidth:y=!1}=i,b=(0,u.A)(i,Ve),x=m||g,w=l||g,S=e.useContext(Oe),k=h?a||12:S,E={},C=(0,c.A)({},b);o.keys.forEach(e=>{null!=b[e]&&(E[e]=b[e],delete C[e])});const A=(0,c.A)({},i,{columns:k,container:h,direction:p,item:f,rowSpacing:x,columnSpacing:w,wrap:v,zeroMinWidth:y,spacing:g},E,{breakpoints:o.keys}),I=We(A);return(0,te.jsx)(Oe.Provider,{value:k,children:(0,te.jsx)(qe,(0,c.A)({ownerState:A,className:Q(I.root,s),as:d,ref:n},C))})});const Ge=He,Ke=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function Qe(e){return ae("MuiPaper",e)}le("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Xe=["className","component","elevation","square","variant"],Ye=ye("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})(e=>{let{theme:t,ownerState:n}=e;var r;return(0,c.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&(0,c.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,v.X4)("#fff",Ke(n.elevation)),", ").concat((0,v.X4)("#fff",Ke(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))}),$e=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiPaper"}),{className:r,component:o="div",elevation:i=1,square:s=!1,variant:a="elevation"}=n,l=(0,u.A)(n,Xe),d=(0,c.A)({},n,{component:o,elevation:i,square:s,variant:a}),h=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e;return pe({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},Qe,o)})(d);return(0,te.jsx)(Ye,(0,c.A)({as:o,ownerState:d,className:Q(h.root,r),ref:t},l))}),Je=$e;function Ze(e){return ae("MuiCard",e)}le("MuiCard",["root"]);const et=["className","raised"],tt=ye(Je,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),nt=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiCard"}),{className:r,raised:o=!1}=n,i=(0,u.A)(n,et),s=(0,c.A)({},n,{raised:o}),a=(e=>{const{classes:t}=e;return pe({root:["root"]},Ze,t)})(s);return(0,te.jsx)(tt,(0,c.A)({className:Q(a.root,r),elevation:o?8:void 0,ref:t,ownerState:s},i))}),rt=nt;function ot(e){return ae("MuiCardContent",e)}le("MuiCardContent",["root"]);const it=["className","component"],st=ye("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),at=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiCardContent"}),{className:r,component:o="div"}=n,i=(0,u.A)(n,it),s=(0,c.A)({},n,{component:o}),a=(e=>{const{classes:t}=e;return pe({root:["root"]},ot,t)})(s);return(0,te.jsx)(st,(0,c.A)({as:o,className:Q(a.root,r),ownerState:s,ref:t},i))}),lt=at;function ct(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function ut(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useMemo(()=>n.every(e=>null==e)?null:e=>{n.forEach(t=>{ct(t,e)})},n)}const dt=ut,ht="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;const pt=function(t){const n=e.useRef(t);return ht(()=>{n.current=t}),e.useRef(function(){return(0,n.current)(...arguments)}).current},ft=pt,mt={};const gt=[];class vt{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new vt}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function yt(){const t=function(t,n){const r=e.useRef(mt);return r.current===mt&&(r.current=t(n)),r}(vt.create).current;var n;return n=t.disposeEffect,e.useEffect(n,gt),t}let bt=!0,xt=!1;const wt=new vt,St={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function kt(e){e.metaKey||e.altKey||e.ctrlKey||(bt=!0)}function Et(){bt=!1}function Ct(){"hidden"===this.visibilityState&&xt&&(bt=!0)}function At(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return bt||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!St[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function It(){const t=e.useCallback(e=>{null!=e&&function(e){e.addEventListener("keydown",kt,!0),e.addEventListener("mousedown",Et,!0),e.addEventListener("pointerdown",Et,!0),e.addEventListener("touchstart",Et,!0),e.addEventListener("visibilitychange",Ct,!0)}(e.ownerDocument)},[]),n=e.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!At(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(xt=!0,wt.start(100,()=>{xt=!1}),n.current=!1,!0)},ref:t}}const jt=It;function Tt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _t(e,t){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_t(e,t)}function Rt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_t(e,t)}const Pt=e.createContext(null);function Nt(t,n){var r=Object.create(null);return t&&e.Children.map(t,function(e){return e}).forEach(function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)}),r}function Lt(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Ot(t,n,r){var o=Nt(t.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var s in e)s in t?i.length&&(o[s]=i,i=[]):i.push(s);var a={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var c=o[l][r];a[o[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<i.length;r++)a[i[r]]=n(i[r]);return a}(n,o);return Object.keys(i).forEach(function(s){var a=i[s];if((0,e.isValidElement)(a)){var l=s in n,c=s in o,u=n[s],d=(0,e.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,e.isValidElement)(u)&&(i[s]=(0,e.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:Lt(a,"exit",t),enter:Lt(a,"enter",t)})):i[s]=(0,e.cloneElement)(a,{in:!1}):i[s]=(0,e.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:Lt(a,"exit",t),enter:Lt(a,"enter",t)})}}),i}var Mt=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Dt=function(t){function n(e,n){var r,o=(r=t.call(this,e,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}Rt(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,o,i=n.children,s=n.handleExited;return{children:n.firstRender?(r=t,o=s,Nt(r.children,function(t){return(0,e.cloneElement)(t,{onExited:o.bind(null,t),in:!0,appear:Lt(t,"appear",r),enter:Lt(t,"enter",r),exit:Lt(t,"exit",r)})})):Ot(t,i,s),firstRender:!1}},r.handleExited=function(e,t){var n=Nt(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=(0,c.A)({},t.children);return delete n[e.key],{children:n}}))},r.render=function(){var t=this.props,n=t.component,r=t.childFactory,o=(0,u.A)(t,["component","childFactory"]),i=this.state.contextValue,s=Mt(this.state.children).map(r);return delete o.appear,delete o.enter,delete o.exit,null===n?e.createElement(Pt.Provider,{value:i},s):e.createElement(Pt.Provider,{value:i},e.createElement(n,o,s))},n}(e.Component);Dt.propTypes={},Dt.defaultProps={component:"div",childFactory:function(e){return e}};const zt=Dt;var Ft=n(3290);const Vt=function(t){const{className:n,classes:r,pulsate:o=!1,rippleX:i,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=t,[d,h]=e.useState(!1),p=Q(n,r.ripple,r.rippleVisible,o&&r.ripplePulsate),f={width:a,height:a,top:-a/2+s,left:-a/2+i},m=Q(r.child,d&&r.childLeaving,o&&r.childPulsate);return l||d||h(!0),e.useEffect(()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}},[c,l,u]),(0,te.jsx)("span",{className:p,style:f,children:(0,te.jsx)("span",{className:m})})};const Bt=le("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var Ut,qt,Wt,Ht;const Gt=["center","classes","className"];let Kt,Qt,Xt,Yt;const $t=(0,Ft.i7)(Kt||(Kt=Ut||(Ut=Tt(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Jt=(0,Ft.i7)(Qt||(Qt=qt||(qt=Tt(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Zt=(0,Ft.i7)(Xt||(Xt=Wt||(Wt=Tt(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),en=ye("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),tn=ye(Vt,{name:"MuiTouchRipple",slot:"Ripple"})(Yt||(Yt=Ht||(Ht=Tt(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Bt.rippleVisible,$t,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},Bt.ripplePulsate,e=>{let{theme:t}=e;return t.transitions.duration.shorter},Bt.child,Bt.childLeaving,Jt,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},Bt.childPulsate,Zt,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),nn=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:s}=r,a=(0,u.A)(r,Gt),[l,d]=e.useState([]),h=e.useRef(0),p=e.useRef(null);e.useEffect(()=>{p.current&&(p.current(),p.current=null)},[l]);const f=e.useRef(!1),m=yt(),g=e.useRef(null),v=e.useRef(null),y=e.useCallback(e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:o,cb:s}=e;d(e=>[...e,(0,te.jsx)(tn,{classes:{ripple:Q(i.ripple,Bt.ripple),rippleVisible:Q(i.rippleVisible,Bt.rippleVisible),ripplePulsate:Q(i.ripplePulsate,Bt.ripplePulsate),child:Q(i.child,Bt.child),childLeaving:Q(i.childLeaving,Bt.childLeaving),childPulsate:Q(i.childPulsate,Bt.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o},h.current)]),h.current+=1,p.current=s},[i]),b=e.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:i=o||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&f.current)return void(f.current=!1);"touchstart"===(null==e?void 0:e.type)&&(f.current=!0);const a=s?null:v.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(i||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(i)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===g.current&&(g.current=()=>{y({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},m.start(80,()=>{g.current&&(g.current(),g.current=null)})):y({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},[o,y,m]),x=e.useCallback(()=>{b({},{pulsate:!0})},[b]),w=e.useCallback((e,t)=>{if(m.clear(),"touchend"===(null==e?void 0:e.type)&&g.current)return g.current(),g.current=null,void m.start(0,()=>{w(e,t)});g.current=null,d(e=>e.length>0?e.slice(1):e),p.current=t},[m]);return e.useImperativeHandle(n,()=>({pulsate:x,start:b,stop:w}),[x,b,w]),(0,te.jsx)(en,(0,c.A)({className:Q(Bt.root,i.root,s),ref:v},a,{children:(0,te.jsx)(zt,{component:null,exit:!0,children:l})}))}),rn=nn;function on(e){return ae("MuiButtonBase",e)}const sn=le("MuiButtonBase",["root","disabled","focusVisible"]),an=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],ln=ye("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(sn.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),cn=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:s,className:a,component:l="button",disabled:d=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:f=!1,LinkComponent:m="a",onBlur:g,onClick:v,onContextMenu:y,onDragLeave:b,onFocus:x,onFocusVisible:w,onKeyDown:S,onKeyUp:k,onMouseDown:E,onMouseLeave:C,onMouseUp:A,onTouchEnd:I,onTouchMove:j,onTouchStart:T,tabIndex:_=0,TouchRippleProps:R,touchRippleRef:P,type:N}=r,L=(0,u.A)(r,an),O=e.useRef(null),M=e.useRef(null),D=dt(M,P),{isFocusVisibleRef:z,onFocus:F,onBlur:V,ref:B}=jt(),[U,q]=e.useState(!1);d&&U&&q(!1),e.useImperativeHandle(o,()=>({focusVisible:()=>{q(!0),O.current.focus()}}),[]);const[W,H]=e.useState(!1);e.useEffect(()=>{H(!0)},[]);const G=W&&!h&&!d;function K(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;return ft(r=>{t&&t(r);return!n&&M.current&&M.current[e](r),!0})}e.useEffect(()=>{U&&f&&!h&&W&&M.current.pulsate()},[h,f,U,W]);const X=K("start",E),Y=K("stop",y),$=K("stop",b),J=K("stop",A),Z=K("stop",e=>{U&&e.preventDefault(),C&&C(e)}),ee=K("start",T),ne=K("stop",I),re=K("stop",j),oe=K("stop",e=>{V(e),!1===z.current&&q(!1),g&&g(e)},!1),ie=ft(e=>{O.current||(O.current=e.currentTarget),F(e),!0===z.current&&(q(!0),w&&w(e)),x&&x(e)}),se=()=>{const e=O.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},ae=e.useRef(!1),le=ft(e=>{f&&!ae.current&&U&&M.current&&" "===e.key&&(ae.current=!0,M.current.stop(e,()=>{M.current.start(e)})),e.target===e.currentTarget&&se()&&" "===e.key&&e.preventDefault(),S&&S(e),e.target===e.currentTarget&&se()&&"Enter"===e.key&&!d&&(e.preventDefault(),v&&v(e))}),ce=ft(e=>{f&&" "===e.key&&M.current&&U&&!e.defaultPrevented&&(ae.current=!1,M.current.stop(e,()=>{M.current.pulsate(e)})),k&&k(e),v&&e.target===e.currentTarget&&se()&&" "===e.key&&!e.defaultPrevented&&v(e)});let ue=l;"button"===ue&&(L.href||L.to)&&(ue=m);const de={};"button"===ue?(de.type=void 0===N?"button":N,de.disabled=d):(L.href||L.to||(de.role="button"),d&&(de["aria-disabled"]=d));const he=dt(n,B,O);const fe=(0,c.A)({},r,{centerRipple:i,component:l,disabled:d,disableRipple:h,disableTouchRipple:p,focusRipple:f,tabIndex:_,focusVisible:U}),me=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,i=pe({root:["root",t&&"disabled",n&&"focusVisible"]},on,o);return n&&r&&(i.root+=" ".concat(r)),i})(fe);return(0,te.jsxs)(ln,(0,c.A)({as:ue,className:Q(me.root,a),ownerState:fe,onBlur:oe,onClick:v,onContextMenu:Y,onFocus:ie,onKeyDown:le,onKeyUp:ce,onMouseDown:X,onMouseLeave:Z,onMouseUp:J,onDragLeave:$,onTouchEnd:ne,onTouchMove:re,onTouchStart:ee,ref:he,tabIndex:d?-1:_,type:N},de,L,{children:[s,G?(0,te.jsx)(rn,(0,c.A)({ref:D,center:i},R)):null]}))}),un=cn;function dn(e){return ae("MuiButton",e)}const hn=le("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const pn=e.createContext({});const fn=e.createContext(void 0),mn=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],gn=e=>(0,c.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),vn=ye(un,{shouldForwardProp:e=>ve(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(Ce(n.color))],t["size".concat(Ce(n.size))],t["".concat(n.variant,"Size").concat(Ce(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(e=>{let{theme:t,ownerState:n}=e;var r,o;const i="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],s="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,c.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,c.A)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,v.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,v.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,v.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,c.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(hn.focusVisible)]:(0,c.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(hn.disabled)]:(0,c.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat((0,v.X4)(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(o=t.palette).getContrastText)?void 0:r.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})},e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(hn.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(hn.disabled)]:{boxShadow:"none"}}}),yn=ye("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat(Ce(n.size))]]}})(e=>{let{ownerState:t}=e;return(0,c.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},gn(t))}),bn=ye("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat(Ce(n.size))]]}})(e=>{let{ownerState:t}=e;return(0,c.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},gn(t))}),xn=e.forwardRef(function(t,n){const r=e.useContext(pn),o=e.useContext(fn),i=ke({props:be(r,t),name:"MuiButton"}),{children:s,color:a="primary",component:l="button",className:d,disabled:h=!1,disableElevation:p=!1,disableFocusRipple:f=!1,endIcon:m,focusVisibleClassName:g,fullWidth:v=!1,size:y="medium",startIcon:b,type:x,variant:w="text"}=i,S=(0,u.A)(i,mn),k=(0,c.A)({},i,{color:a,component:l,disabled:h,disableElevation:p,disableFocusRipple:f,fullWidth:v,size:y,type:x,variant:w}),E=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:i,classes:s}=e,a=pe({root:["root",i,"".concat(i).concat(Ce(t)),"size".concat(Ce(o)),"".concat(i,"Size").concat(Ce(o)),"color".concat(Ce(t)),n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat(Ce(o))],endIcon:["icon","endIcon","iconSize".concat(Ce(o))]},dn,s);return(0,c.A)({},s,a)})(k),C=b&&(0,te.jsx)(yn,{className:E.startIcon,ownerState:k,children:b}),A=m&&(0,te.jsx)(bn,{className:E.endIcon,ownerState:k,children:m}),I=o||"";return(0,te.jsxs)(vn,(0,c.A)({ownerState:k,className:Q(r.className,E.root,d,I),component:l,disabled:h,focusRipple:!f,focusVisibleClassName:Q(E.focusVisible,g),ref:n,type:x},S,{classes:E,children:[C,s,A]}))}),wn=xn;function Sn(e){return ae("MuiAppBar",e)}le("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const kn=["className","color","enableColorOnDark","position"],En=(e,t)=>e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t,Cn=ye(Je,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat(Ce(n.position))],t["color".concat(Ce(n.color))]]}})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,c.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,c.A)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,c.A)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,c.A)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:En(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:En(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:En(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:En(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},!["inherit","transparent"].includes(n.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),An=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiAppBar"}),{className:r,color:o="primary",enableColorOnDark:i=!1,position:s="fixed"}=n,a=(0,u.A)(n,kn),l=(0,c.A)({},n,{color:o,position:s,enableColorOnDark:i}),d=(e=>{const{color:t,position:n,classes:r}=e;return pe({root:["root","color".concat(Ce(t)),"position".concat(Ce(n))]},Sn,r)})(l);return(0,te.jsx)(Cn,(0,c.A)({square:!0,component:"header",ownerState:l,elevation:4,className:Q(d.root,r,"fixed"===s&&"mui-fixed"),ref:t},a))}),In=An;function jn(e){return ae("MuiToolbar",e)}le("MuiToolbar",["root","gutters","regular","dense"]);const Tn=["className","component","disableGutters","variant"],_n=ye("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})},e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar}),Rn=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiToolbar"}),{className:r,component:o="div",disableGutters:i=!1,variant:s="regular"}=n,a=(0,u.A)(n,Tn),l=(0,c.A)({},n,{component:o,disableGutters:i,variant:s}),d=(e=>{const{classes:t,disableGutters:n,variant:r}=e;return pe({root:["root",!n&&"gutters",r]},jn,t)})(l);return(0,te.jsx)(_n,(0,c.A)({as:o,className:Q(d.root,r),ref:t,ownerState:l},a))}),Pn=Rn;function Nn(e){return ae("MuiIconButton",e)}const Ln=le("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),On=["edge","children","className","color","disabled","disableFocusRipple","size"],Mn=ye(un,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat(Ce(n.color))],n.edge&&t["edge".concat(Ce(n.edge))],t["size".concat(Ce(n.size))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,v.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})},e=>{let{theme:t,ownerState:n}=e;var r;const o=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,c.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,c.A)({color:null==o?void 0:o.main},!n.disableRipple&&{"&:hover":(0,c.A)({},o&&{backgroundColor:t.vars?"rgba(".concat(o.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,v.X4)(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(Ln.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Dn=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:i,color:s="default",disabled:a=!1,disableFocusRipple:l=!1,size:d="medium"}=n,h=(0,u.A)(n,On),p=(0,c.A)({},n,{edge:r,color:s,disabled:a,disableFocusRipple:l,size:d}),f=(e=>{const{classes:t,disabled:n,color:r,edge:o,size:i}=e;return pe({root:["root",n&&"disabled","default"!==r&&"color".concat(Ce(r)),o&&"edge".concat(Ce(o)),"size".concat(Ce(i))]},Nn,t)})(p);return(0,te.jsx)(Mn,(0,c.A)({className:Q(f.root,i),centerRipple:!0,focusRipple:!l,disabled:a,ref:t},h,{ownerState:p,children:o}))}),zn=Dn,Fn=["value"],Vn=e.createContext();const Bn=()=>{const t=e.useContext(Vn);return null!=t&&t},Un=function(e){let{value:t}=e,n=(0,u.A)(e,Fn);return(0,te.jsx)(Vn.Provider,(0,c.A)({value:null==t||t},n))};const qn=function(e){return"string"===typeof e};const Wn=function(e,t,n){return void 0===e||qn(e)?t:(0,c.A)({},t,{ownerState:(0,c.A)({},t.ownerState,n)})};const Hn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)).forEach(t=>{n[t]=e[t]}),n};const Gn=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])).forEach(n=>{t[n]=e[n]}),t};const Kn=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const e=Q(null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),t=(0,c.A)({},null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),s=(0,c.A)({},n,o,r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=Hn((0,c.A)({},o,r)),a=Gn(r),l=Gn(o),u=t(s),d=Q(null==u?void 0:u.className,null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),h=(0,c.A)({},null==u?void 0:u.style,null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),p=(0,c.A)({},u,n,l,a);return d.length>0&&(p.className=d),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:u.ref}};const Qn=function(e,t,n){return"function"===typeof e?e(t,n):e},Xn=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const Yn=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:i=!1}=e,s=(0,u.A)(e,Xn),a=i?{}:Qn(r,o),{props:l,internalRef:d}=Kn((0,c.A)({},s,{externalSlotProps:a})),h=ut(d,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref);return Wn(n,(0,c.A)({},l,{ref:h}),o)};function $n(t){var n;return parseInt(e.version,10)>=19?(null==t||null==(n=t.props)?void 0:n.ref)||null:(null==t?void 0:t.ref)||null}function Jn(e){return e&&e.ownerDocument||document}const Zn=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function er(e){const t=[],n=[];return Array.from(e.querySelectorAll(Zn)).forEach((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))}),n.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function tr(){return!0}const nr=function(t){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:o=!1,disableRestoreFocus:i=!1,getTabbable:s=er,isEnabled:a=tr,open:l}=t,c=e.useRef(!1),u=e.useRef(null),d=e.useRef(null),h=e.useRef(null),p=e.useRef(null),f=e.useRef(!1),m=e.useRef(null),g=ut($n(n),m),v=e.useRef(null);e.useEffect(()=>{l&&m.current&&(f.current=!r)},[r,l]),e.useEffect(()=>{if(!l||!m.current)return;const e=Jn(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{i||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}},[l]),e.useEffect(()=>{if(!l||!m.current)return;const e=Jn(m.current),t=t=>{v.current=t,!o&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(o&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){var r,i;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(i=v.current)?void 0:i.key)),t=n[0],o=n[n.length-1];"string"!==typeof t&&"string"!==typeof o&&(e?o.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval(()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()},50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}},[r,o,i,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,te.jsxs)(e.Fragment,{children:[(0,te.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),e.cloneElement(n,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,p.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,te.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})};var rr=n(7950);const or=e.forwardRef(function(t,n){const{children:r,container:o,disablePortal:i=!1}=t,[s,a]=e.useState(null),l=ut(e.isValidElement(r)?$n(r):null,n);if(ht(()=>{i||a(function(e){return"function"===typeof e?e():e}(o)||document.body)},[o,i]),ht(()=>{if(s&&!i)return ct(n,s),()=>{ct(n,null)}},[n,s,i]),i){if(e.isValidElement(r)){const t={ref:l};return e.cloneElement(r,t)}return(0,te.jsx)(e.Fragment,{children:r})}return(0,te.jsx)(e.Fragment,{children:s?rr.createPortal(r,s):s})}),ir=!1;var sr="unmounted",ar="exited",lr="entering",cr="entered",ur="exiting",dr=function(t){function n(e,n){var r;r=t.call(this,e,n)||this;var o,i=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?i?(o=ar,r.appearStatus=lr):o=cr:o=e.unmountOnExit||e.mountOnEnter?sr:ar,r.state={status:o},r.nextCallback=null,r}Rt(n,t),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===sr?{status:ar}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==lr&&n!==cr&&(t=lr):n!==lr&&n!==cr||(t=ur)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===lr){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:rr.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ar&&this.setState({status:sr})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[rr.findDOMNode(this),r],i=o[0],s=o[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||ir?this.safeSetState({status:cr},function(){t.props.onEntered(i)}):(this.props.onEnter(i,s),this.safeSetState({status:lr},function(){t.props.onEntering(i,s),t.onTransitionEnd(l,function(){t.safeSetState({status:cr},function(){t.props.onEntered(i,s)})})}))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:rr.findDOMNode(this);t&&!ir?(this.props.onExit(r),this.safeSetState({status:ur},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:ar},function(){e.props.onExited(r)})})})):this.safeSetState({status:ar},function(){e.props.onExited(r)})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:rr.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],s=o[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===sr)return null;var n=this.props,r=n.children,o=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,u.A)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Pt.Provider,{value:null},"function"===typeof r?r(t,o):e.cloneElement(e.Children.only(r),o))},n}(e.Component);function hr(){}dr.contextType=Pt,dr.propTypes={},dr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:hr,onEntering:hr,onEntered:hr,onExit:hr,onExiting:hr,onExited:hr},dr.UNMOUNTED=sr,dr.EXITED=ar,dr.ENTERING=lr,dr.ENTERED=cr,dr.EXITING=ur;const pr=dr,fr=e=>e.scrollTop;function mr(e,t){var n,r;const{timeout:o,easing:i,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof o?o:o[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof i?i[t.mode]:i,delay:s.transitionDelay}}const gr=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],vr={entering:{opacity:1},entered:{opacity:1}},yr=e.forwardRef(function(t,n){const r=Le(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:a,easing:l,in:d,onEnter:h,onEntered:p,onEntering:f,onExit:m,onExited:g,onExiting:v,style:y,timeout:b=o,TransitionComponent:x=pr}=t,w=(0,u.A)(t,gr),S=e.useRef(null),k=dt(S,$n(a),n),E=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},C=E(f),A=E((e,t)=>{fr(e);const n=mr({style:y,timeout:b,easing:l},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)}),I=E(p),j=E(v),T=E(e=>{const t=mr({style:y,timeout:b,easing:l},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)}),_=E(g);return(0,te.jsx)(x,(0,c.A)({appear:s,in:d,nodeRef:S,onEnter:A,onEntered:I,onEntering:C,onExit:T,onExited:_,onExiting:j,addEndListener:e=>{i&&i(S.current,e)},timeout:b},w,{children:(t,n)=>e.cloneElement(a,(0,c.A)({style:(0,c.A)({opacity:0,visibility:"exited"!==t||d?void 0:"hidden"},vr[t],y,a.props.style),ref:k},n))}))}),br=yr;function xr(e){return ae("MuiBackdrop",e)}le("MuiBackdrop",["root","invisible"]);const wr=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Sr=ye("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(e=>{let{ownerState:t}=e;return(0,c.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})}),kr=e.forwardRef(function(e,t){var n,r,o;const i=ke({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:l="div",components:d={},componentsProps:h={},invisible:p=!1,open:f,slotProps:m={},slots:g={},TransitionComponent:v=br,transitionDuration:y}=i,b=(0,u.A)(i,wr),x=(0,c.A)({},i,{component:l,invisible:p}),w=(e=>{const{classes:t,invisible:n}=e;return pe({root:["root",n&&"invisible"]},xr,t)})(x),S=null!=(n=m.root)?n:h.root;return(0,te.jsx)(v,(0,c.A)({in:f,timeout:y},b,{children:(0,te.jsx)(Sr,(0,c.A)({"aria-hidden":!0},S,{as:null!=(r=null!=(o=g.root)?o:d.Root)?r:l,className:Q(w.root,a,null==S?void 0:S.className),ownerState:(0,c.A)({},x,null==S?void 0:S.ownerState),classes:w,ref:t,children:s}))}))}),Er=kr;function Cr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)},()=>{})}function Ar(e){return Jn(e).defaultView||window}function Ir(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function jr(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Tr(e){return parseInt(Ar(e).getComputedStyle(e).paddingRight,10)||0}function _r(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,e=>{const t=-1===i.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&jr(e,o)})}function Rr(e,t){let n=-1;return e.some((e,r)=>!!t(e)&&(n=r,!0)),n}function Pr(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=Jn(e);return t.body===e?Ar(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=Ir(Jn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Tr(r)+e,"px");const t=Jn(r).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(Tr(t)+e,"px")})}let e;if(r.parentNode instanceof DocumentFragment)e=Jn(r).body;else{const t=r.parentElement,n=Ar(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach(e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)})}}const Nr=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&jr(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);_r(t,e.mount,e.modalRef,r,!0);const o=Rr(this.containers,e=>e.container===t);return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=Rr(this.containers,t=>-1!==t.modals.indexOf(e)),r=this.containers[n];r.restore||(r.restore=Pr(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=Rr(this.containers,t=>-1!==t.modals.indexOf(e)),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&jr(e.modalRef,t),_r(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&jr(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const Lr=function(t){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:o=!1,manager:i=Nr,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:l,children:u,onClose:d,open:h,rootRef:p}=t,f=e.useRef({}),m=e.useRef(null),g=e.useRef(null),v=ut(g,p),[y,b]=e.useState(!h),x=function(e){return!!e&&e.props.hasOwnProperty("in")}(u);let w=!0;"false"!==t["aria-hidden"]&&!1!==t["aria-hidden"]||(w=!1);const S=()=>(f.current.modalRef=g.current,f.current.mount=m.current,f.current),k=()=>{i.mount(S(),{disableScrollLock:o}),g.current&&(g.current.scrollTop=0)},E=pt(()=>{const e=function(e){return"function"===typeof e?e():e}(n)||Jn(m.current).body;i.add(S(),e),g.current&&k()}),C=e.useCallback(()=>i.isTopModal(S()),[i]),A=pt(e=>{m.current=e,e&&(h&&C()?k():g.current&&jr(g.current,w))}),I=e.useCallback(()=>{i.remove(S(),w)},[w,i]);e.useEffect(()=>()=>{I()},[I]),e.useEffect(()=>{h?E():x&&s||I()},[h,I,x,s,E]);const j=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&C()&&(r||(t.stopPropagation(),d&&d(t,"escapeKeyDown")))},T=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Hn(t);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,c.A)({},n,e);return(0,c.A)({role:"presentation"},r,{onKeyDown:j(r),ref:v})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.A)({"aria-hidden":!0},e,{onClick:T(e),open:h})},getTransitionProps:()=>({onEnter:Cr(()=>{b(!1),a&&a()},null==u?void 0:u.props.onEnter),onExited:Cr(()=>{b(!0),l&&l(),s&&I()},null==u?void 0:u.props.onExited)}),rootRef:v,portalRef:A,isTopModal:C,exited:y,hasTransition:x}};function Or(e){return ae("MuiModal",e)}le("MuiModal",["root","hidden","backdrop"]);const Mr=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Dr=ye("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})}),zr=ye(Er,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Fr=e.forwardRef(function(t,n){var r,o,i,s,a,l;const d=ke({name:"MuiModal",props:t}),{BackdropComponent:h=zr,BackdropProps:p,className:f,closeAfterTransition:m=!1,children:g,container:v,component:y,components:b={},componentsProps:x={},disableAutoFocus:w=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:k=!1,disablePortal:E=!1,disableRestoreFocus:C=!1,disableScrollLock:A=!1,hideBackdrop:I=!1,keepMounted:j=!1,onBackdropClick:T,open:_,slotProps:R,slots:P}=d,N=(0,u.A)(d,Mr),L=(0,c.A)({},d,{closeAfterTransition:m,disableAutoFocus:w,disableEnforceFocus:S,disableEscapeKeyDown:k,disablePortal:E,disableRestoreFocus:C,disableScrollLock:A,hideBackdrop:I,keepMounted:j}),{getRootProps:O,getBackdropProps:M,getTransitionProps:D,portalRef:z,isTopModal:F,exited:V,hasTransition:B}=Lr((0,c.A)({},L,{rootRef:n})),U=(0,c.A)({},L,{exited:V}),q=(e=>{const{open:t,exited:n,classes:r}=e;return pe({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Or,r)})(U),W={};if(void 0===g.props.tabIndex&&(W.tabIndex="-1"),B){const{onEnter:e,onExited:t}=D();W.onEnter=e,W.onExited=t}const H=null!=(r=null!=(o=null==P?void 0:P.root)?o:b.Root)?r:Dr,G=null!=(i=null!=(s=null==P?void 0:P.backdrop)?s:b.Backdrop)?i:h,K=null!=(a=null==R?void 0:R.root)?a:x.root,X=null!=(l=null==R?void 0:R.backdrop)?l:x.backdrop,Y=Yn({elementType:H,externalSlotProps:K,externalForwardedProps:N,getSlotProps:O,additionalProps:{ref:n,as:y},ownerState:U,className:Q(f,null==K?void 0:K.className,null==q?void 0:q.root,!U.open&&U.exited&&(null==q?void 0:q.hidden))}),$=Yn({elementType:G,externalSlotProps:X,additionalProps:p,getSlotProps:e=>M((0,c.A)({},e,{onClick:t=>{T&&T(t),null!=e&&e.onClick&&e.onClick(t)}})),className:Q(null==X?void 0:X.className,null==p?void 0:p.className,null==q?void 0:q.backdrop),ownerState:U});return j||_||B&&!V?(0,te.jsx)(or,{ref:z,container:v,disablePortal:E,children:(0,te.jsxs)(H,(0,c.A)({},Y,{children:[!I&&h?(0,te.jsx)(G,(0,c.A)({},$)):null,(0,te.jsx)(nr,{disableEnforceFocus:S,disableAutoFocus:w,disableRestoreFocus:C,isEnabled:F,open:_,children:e.cloneElement(g,W)})]}))}):null}),Vr=Fr;function Br(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout(()=>{e.apply(this,o)},n)}return r.clear=()=>{clearTimeout(t)},r}const Ur=Br,qr=Ar,Wr=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Hr(e,t,n){var r;const o=function(e,t,n){const r=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),i=qr(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const e=i.getComputedStyle(t);s=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let a=0,l=0;if(s&&"none"!==s&&"string"===typeof s){const e=s.split("(")[1].split(")")[0].split(",");a=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?"translateX(".concat(o?o.right+a-r.left:i.innerWidth+a-r.left,"px)"):"right"===e?"translateX(-".concat(o?r.right-o.left-a:r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(o?o.bottom+l-r.top:i.innerHeight+l-r.top,"px)"):"translateY(-".concat(o?r.top-o.top+r.height-l:r.top+r.height-l,"px)")}(e,t,"function"===typeof(r=n)?r():r);o&&(t.style.webkitTransform=o,t.style.transform=o)}const Gr=e.forwardRef(function(t,n){const r=Le(),o={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:l,container:d,direction:h="down",easing:p=o,in:f,onEnter:m,onEntered:g,onEntering:v,onExit:y,onExited:b,onExiting:x,style:w,timeout:S=i,TransitionComponent:k=pr}=t,E=(0,u.A)(t,Wr),C=e.useRef(null),A=dt($n(l),C,n),I=e=>t=>{e&&(void 0===t?e(C.current):e(C.current,t))},j=I((e,t)=>{Hr(h,e,d),fr(e),m&&m(e,t)}),T=I((e,t)=>{const n=mr({timeout:S,style:w,easing:p},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",(0,c.A)({},n)),e.style.transition=r.transitions.create("transform",(0,c.A)({},n)),e.style.webkitTransform="none",e.style.transform="none",v&&v(e,t)}),_=I(g),R=I(x),P=I(e=>{const t=mr({timeout:S,style:w,easing:p},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),Hr(h,e,d),y&&y(e)}),N=I(e=>{e.style.webkitTransition="",e.style.transition="",b&&b(e)}),L=e.useCallback(()=>{C.current&&Hr(h,C.current,d)},[h,d]);return e.useEffect(()=>{if(f||"down"===h||"right"===h)return;const e=Ur(()=>{C.current&&Hr(h,C.current,d)}),t=qr(C.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[h,f,d]),e.useEffect(()=>{f||L()},[f,L]),(0,te.jsx)(k,(0,c.A)({nodeRef:C,onEnter:j,onEntered:_,onEntering:T,onExit:P,onExited:N,onExiting:R,addEndListener:e=>{s&&s(C.current,e)},appear:a,in:f,timeout:S},E,{children:(t,n)=>e.cloneElement(l,(0,c.A)({ref:A,style:(0,c.A)({visibility:"exited"!==t||f?void 0:"hidden"},w,l.props.style)},n))}))}),Kr=Gr;function Qr(e){return ae("MuiDrawer",e)}le("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Xr=["BackdropProps"],Yr=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],$r=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},Jr=ye(Vr,{name:"MuiDrawer",slot:"Root",overridesResolver:$r})(e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}}),Zr=ye("div",{shouldForwardProp:ve,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:$r})({flex:"0 0 auto"}),eo=ye(Je,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["paperAnchor".concat(Ce(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat(Ce(n.anchor))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:"1px solid ".concat((t.vars||t).palette.divider)},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider)},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:"1px solid ".concat((t.vars||t).palette.divider)})}),to={left:"right",right:"left",top:"down",bottom:"up"};const no=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiDrawer"}),o=Le(),i=Bn(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:d,className:h,elevation:p=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:m}={},onClose:g,open:v=!1,PaperProps:y={},SlideProps:b,TransitionComponent:x=Kr,transitionDuration:w=s,variant:S="temporary"}=r,k=(0,u.A)(r.ModalProps,Xr),E=(0,u.A)(r,Yr),C=e.useRef(!1);e.useEffect(()=>{C.current=!0},[]);const A=function(e,t){let{direction:n}=e;return"rtl"===n&&function(e){return-1!==["left","right"].indexOf(e)}(t)?to[t]:t}({direction:i?"rtl":"ltr"},a),I=a,j=(0,c.A)({},r,{anchor:I,elevation:p,open:v,variant:S},E),T=(e=>{const{classes:t,anchor:n,variant:r}=e;return pe({root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(Ce(n)),"temporary"!==r&&"paperAnchorDocked".concat(Ce(n))]},Qr,t)})(j),_=(0,te.jsx)(eo,(0,c.A)({elevation:"temporary"===S?p:0,square:!0},y,{className:Q(T.paper,y.className),ownerState:j,children:d}));if("permanent"===S)return(0,te.jsx)(Zr,(0,c.A)({className:Q(T.root,T.docked,h),ownerState:j,ref:n},E,{children:_}));const R=(0,te.jsx)(x,(0,c.A)({in:v,direction:to[A],timeout:w,appear:C.current},b,{children:_}));return"persistent"===S?(0,te.jsx)(Zr,(0,c.A)({className:Q(T.root,T.docked,h),ownerState:j,ref:n},E,{children:R})):(0,te.jsx)(Jr,(0,c.A)({BackdropProps:(0,c.A)({},l,m,{transitionDuration:w}),className:Q(T.root,T.modal,h),open:v,ownerState:j,onClose:g,hideBackdrop:f,ref:n},E,k,{children:R}))}),ro=no;const oo=e.createContext({});function io(e){return ae("MuiList",e)}le("MuiList",["root","padding","dense","subheader"]);const so=["children","className","component","dense","disablePadding","subheader"],ao=ye("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(e=>{let{ownerState:t}=e;return(0,c.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})}),lo=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiList"}),{children:o,className:i,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:d}=r,h=(0,u.A)(r,so),p=e.useMemo(()=>({dense:a}),[a]),f=(0,c.A)({},r,{component:s,dense:a,disablePadding:l}),m=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e;return pe({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},io,t)})(f);return(0,te.jsx)(oo.Provider,{value:p,children:(0,te.jsxs)(ao,(0,c.A)({as:s,className:Q(m.root,i),ref:n,ownerState:f},h,{children:[d,o]}))})}),co=lo;const uo=function(t,n){var r,o;return e.isValidElement(t)&&-1!==n.indexOf(null!=(r=t.type.muiName)?r:null==(o=t.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)},ho=ht;function po(e){return ae("MuiListItem",e)}const fo=le("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);const mo=le("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function go(e){return ae("MuiListItemSecondaryAction",e)}le("MuiListItemSecondaryAction",["root","disableGutters"]);const vo=["className"],yo=ye("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(e=>{let{ownerState:t}=e;return(0,c.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})}),bo=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiListItemSecondaryAction"}),{className:o}=r,i=(0,u.A)(r,vo),s=e.useContext(oo),a=(0,c.A)({},r,{disableGutters:s.disableGutters}),l=(e=>{const{disableGutters:t,classes:n}=e;return pe({root:["root",t&&"disableGutters"]},go,n)})(a);return(0,te.jsx)(yo,(0,c.A)({className:Q(l.root,o),ownerState:a,ref:n},i))});bo.muiName="ListItemSecondaryAction";const xo=bo,wo=["className"],So=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],ko=ye("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,c.A)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{["& > .".concat(mo.root)]:{paddingRight:48}},{["&.".concat(fo.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(fo.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,v.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(fo.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,v.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(fo.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(fo.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,v.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,v.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})}),Eo=ye("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Co=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiListItem"}),{alignItems:o="center",autoFocus:i=!1,button:s=!1,children:a,className:l,component:d,components:h={},componentsProps:p={},ContainerComponent:f="li",ContainerProps:{className:m}={},dense:g=!1,disabled:v=!1,disableGutters:y=!1,disablePadding:b=!1,divider:x=!1,focusVisibleClassName:w,secondaryAction:S,selected:k=!1,slotProps:E={},slots:C={}}=r,A=(0,u.A)(r.ContainerProps,wo),I=(0,u.A)(r,So),j=e.useContext(oo),T=e.useMemo(()=>({dense:g||j.dense||!1,alignItems:o,disableGutters:y}),[o,j.dense,g,y]),_=e.useRef(null);ho(()=>{i&&_.current&&_.current.focus()},[i]);const R=e.Children.toArray(a),P=R.length&&uo(R[R.length-1],["ListItemSecondaryAction"]),N=(0,c.A)({},r,{alignItems:o,autoFocus:i,button:s,dense:T.dense,disabled:v,disableGutters:y,disablePadding:b,divider:x,hasSecondaryAction:P,selected:k}),L=(e=>{const{alignItems:t,button:n,classes:r,dense:o,disabled:i,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=e;return pe({root:["root",o&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",i&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},po,r)})(N),O=dt(_,n),M=C.root||h.Root||ko,D=E.root||p.root||{},z=(0,c.A)({className:Q(L.root,D.className,l),disabled:v},I);let F=d||"li";return s&&(z.component=d||"div",z.focusVisibleClassName=Q(fo.focusVisible,w),F=un),P?(F=z.component||d?F:"div","li"===f&&("li"===F?F="div":"li"===z.component&&(z.component="div")),(0,te.jsx)(oo.Provider,{value:T,children:(0,te.jsxs)(Eo,(0,c.A)({as:f,className:Q(L.container,m),ref:O,ownerState:N},A,{children:[(0,te.jsx)(M,(0,c.A)({},D,!qn(M)&&{as:F,ownerState:(0,c.A)({},N,D.ownerState)},z,{children:R})),R.pop()]}))})):(0,te.jsx)(oo.Provider,{value:T,children:(0,te.jsxs)(M,(0,c.A)({},D,{as:F,ref:O},!qn(M)&&{ownerState:(0,c.A)({},N,D.ownerState)},z,{children:[R,S&&(0,te.jsx)(xo,{children:S})]}))})}),Ao=Co;function Io(e){return ae("MuiListItemIcon",e)}const jo=le("MuiListItemIcon",["root","alignItemsFlexStart"]),To=["className"],_o=ye("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})}),Ro=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiListItemIcon"}),{className:o}=r,i=(0,u.A)(r,To),s=e.useContext(oo),a=(0,c.A)({},r,{alignItems:s.alignItems}),l=(e=>{const{alignItems:t,classes:n}=e;return pe({root:["root","flex-start"===t&&"alignItemsFlexStart"]},Io,n)})(a);return(0,te.jsx)(_o,(0,c.A)({className:Q(l.root,o),ownerState:a,ref:n},i))}),Po=Ro;function No(e){return ae("MuiListItemText",e)}const Lo=le("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Oo=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Mo=ye("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(Lo.primary)]:t.primary},{["& .".concat(Lo.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(e=>{let{ownerState:t}=e;return(0,c.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})}),Do=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiListItemText"}),{children:o,className:i,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:d,secondary:h,secondaryTypographyProps:p}=r,f=(0,u.A)(r,Oo),{dense:m}=e.useContext(oo);let g=null!=l?l:o,v=h;const y=(0,c.A)({},r,{disableTypography:s,inset:a,primary:!!g,secondary:!!v,dense:m}),b=(e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:i}=e;return pe({root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},No,t)})(y);return null==g||g.type===Pe||s||(g=(0,te.jsx)(Pe,(0,c.A)({variant:m?"body2":"body1",className:b.primary,component:null!=d&&d.variant?void 0:"span",display:"block"},d,{children:g}))),null==v||v.type===Pe||s||(v=(0,te.jsx)(Pe,(0,c.A)({variant:"body2",className:b.secondary,color:"text.secondary",display:"block"},p,{children:v}))),(0,te.jsxs)(Mo,(0,c.A)({className:Q(b.root,i),ownerState:y,ref:n},f,{children:[g,v]}))}),zo=Do;function Fo(e){let{props:t,name:n,defaultTheme:r,themeId:o}=e,i=ee(r);o&&(i=i[o]||i);const s=function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?be(t.components[n].defaultProps,r):r}({theme:i,name:n,props:t});return s}const Vo=["ownerState"],Bo=["variants"],Uo=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function qo(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function Wo(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}const Ho=(0,m.A)(),Go=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function Ko(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function Qo(e){return e?(t,n)=>n[e]:null}function Xo(e,t,n){let{ownerState:r}=t,o=(0,u.A)(t,Vo);const i="function"===typeof e?e((0,c.A)({ownerState:r},o)):e;if(Array.isArray(i))return i.flatMap(e=>Xo(e,(0,c.A)({ownerState:r},o),n));if(i&&"object"===typeof i&&Array.isArray(i.variants)){const{variants:e=[]}=i;let t=(0,u.A)(i,Bo);return e.forEach(e=>{let i=!0;if("function"===typeof e.props?i=e.props((0,c.A)({ownerState:r},o,r)):Object.keys(e.props).forEach(t=>{(null==r?void 0:r[t])!==e.props[t]&&o[t]!==e.props[t]&&(i=!1)}),i){Array.isArray(t)||(t=[t]);const i="function"===typeof e.style?e.style((0,c.A)({ownerState:r},o,r)):e.style;t.push(n?Wo((0,X.internal_serializeStyles)(i),n):i)}}),t}return n?Wo((0,X.internal_serializeStyles)(i),n):i}const Yo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=Ho,rootShouldForwardProp:r=qo,slotShouldForwardProp:o=qo}=e,i=e=>(0,f.A)((0,c.A)({},e,{theme:Ko((0,c.A)({},e,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,X.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));const{name:a,slot:l,skipVariantsResolver:d,skipSx:p,overridesResolver:f=Qo(Go(l))}=s,m=(0,u.A)(s,Uo),g=a&&a.startsWith("Mui")||l?"components":"custom",v=void 0!==d?d:l&&"Root"!==l&&"root"!==l||!1,y=p||!1;let b=qo;"Root"===l||"root"===l?b=r:l?b=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(b=void 0);const x=(0,X.default)(e,(0,c.A)({shouldForwardProp:b,label:undefined},m)),w=e=>"function"===typeof e&&e.__emotion_real!==e||(0,h.Q)(e)?r=>{const o=Ko({theme:r.theme,defaultTheme:n,themeId:t});return Xo(e,(0,c.A)({},r,{theme:o}),o.modularCssLayers?g:void 0)}:e,S=function(r){let o=w(r);for(var s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];const d=l?l.map(w):[];a&&f&&d.push(e=>{const r=Ko((0,c.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[a]||!r.components[a].styleOverrides)return null;const o=r.components[a].styleOverrides,i={};return Object.entries(o).forEach(t=>{let[n,o]=t;i[n]=Xo(o,(0,c.A)({},e,{theme:r}),r.modularCssLayers?"theme":void 0)}),f(e,i)}),a&&!v&&d.push(e=>{var r;const o=Ko((0,c.A)({},e,{defaultTheme:n,themeId:t}));return Xo({variants:null==o||null==(r=o.components)||null==(r=r[a])?void 0:r.variants},(0,c.A)({},e,{theme:o}),o.modularCssLayers?"theme":void 0)}),y||d.push(i);const h=d.length-l.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");o=[...r,...e],o.raw=[...r.raw,...e]}const p=x(o,...d);return e.muiName&&(p.muiName=e.muiName),p};return x.withConfig&&(S.withConfig=x.withConfig),S}}(),$o=Yo,Jo=["className","component","disableGutters","fixed","maxWidth","classes"],Zo=(0,m.A)(),ei=$o("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,Ee.A)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),ti=e=>Fo({props:e,name:"MuiContainer",defaultTheme:Zo});const ni=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=ei,useThemeProps:r=ti,componentName:o="MuiContainer"}=t,i=n(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})},e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce((e,n)=>{const r=n,o=t.breakpoints.values[r];return 0!==o&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(o).concat(t.breakpoints.unit)}),e},{})},e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}})}),s=e.forwardRef(function(e,t){const n=r(e),{className:s,component:a="div",disableGutters:l=!1,fixed:d=!1,maxWidth:h="lg"}=n,p=(0,u.A)(n,Jo),f=(0,c.A)({},n,{component:a,disableGutters:l,fixed:d,maxWidth:h}),m=((e,t)=>{const{classes:n,fixed:r,disableGutters:o,maxWidth:i}=e;return pe({root:["root",i&&"maxWidth".concat((0,Ee.A)(String(i))),r&&"fixed",o&&"disableGutters"]},e=>ae(t,e),n)})(f,o);return(0,te.jsx)(i,(0,c.A)({as:a,ownerState:f,className:Q(m.root,s),ref:t},p))});return s}({createStyledComponent:ye("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat(Ce(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>ke({props:e,name:"MuiContainer"})}),ri=ni;const oi=e.createContext(null);function ii(){return e.useContext(oi)}const si="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const ai=function(t){const{children:n,theme:r}=t,o=ii(),i=e.useMemo(()=>{const e=null===o?r:function(e,t){if("function"===typeof t)return t(e);return(0,c.A)({},e,t)}(o,r);return null!=e&&(e[si]=null!==o),e},[r,o]);return(0,te.jsx)(oi.Provider,{value:i,children:n})};let li=0;const ci=t["useId".toString()];function ui(t){if(void 0!==ci){const e=ci();return null!=t?t:e}return function(t){const[n,r]=e.useState(t),o=t||n;return e.useEffect(()=>{null==n&&(li+=1,r("mui-".concat(li)))},[n]),o}(t)}var di=n(869);function hi(e){const t=(0,X.internal_serializeStyles)(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles="@layer global{".concat(t.styles,"}")),t):e}const pi=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const o=ee(r),i=n&&o[n]||o;let s="function"===typeof t?t(i):t;return i.modularCssLayers&&(s=Array.isArray(s)?s.map(e=>hi("function"===typeof e?e(i):e)):hi(s)),(0,te.jsx)(di.A,{styles:s})};const fi={};function mi(t,n,r){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.useMemo(()=>{const e=t&&n[t]||n;if("function"===typeof r){const i=r(e),s=t?(0,c.A)({},n,{[t]:i}):i;return o?()=>s:s}return t?(0,c.A)({},n,{[t]:r}):(0,c.A)({},n,r)},[t,n,r,o])}const gi=function(e){const{children:t,theme:n,themeId:r}=e,o=J(fi),i=ii()||fi,s=mi(r,o,n),a=mi(r,i,n,!0),l="rtl"===s.direction,c=function(e){const t=J(),n=ui()||"",{modularCssLayers:r}=e;let o="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return o=r&&null===t?"string"===typeof r?r.replace(/mui(?!\.)/g,o):"@layer ".concat(o,";"):"",ht(()=>{const e=document.querySelector("head");if(!e)return;const t=e.firstChild;if(o){var r;if(t&&null!=(r=t.hasAttribute)&&r.call(t,"data-mui-layer-order")&&t.getAttribute("data-mui-layer-order")===n)return;const i=document.createElement("style");i.setAttribute("data-mui-layer-order",n),i.textContent=o,e.prepend(i)}else{var i;null==(i=e.querySelector('style[data-mui-layer-order="'.concat(n,'"]')))||i.remove()}},[o,n]),o?(0,te.jsx)(pi,{styles:o}):null}(s);return(0,te.jsx)(ai,{theme:a,children:(0,te.jsx)($.T.Provider,{value:s,children:(0,te.jsx)(Un,{value:l,children:(0,te.jsxs)(Se,{value:null==s?void 0:s.components,children:[c,t]})})})})},vi=["theme"];function yi(e){let{theme:t}=e,n=(0,u.A)(e,vi);const r=t[ie];let o=r||t;return"function"!==typeof t&&(r&&!r.vars?o=(0,c.A)({},r,{vars:null}):t&&!t.vars&&(o=(0,c.A)({},t,{vars:null}))),(0,te.jsx)(gi,(0,c.A)({},n,{themeId:r?ie:void 0,theme:o}))}const bi=function(e){return(0,te.jsx)(pi,(0,c.A)({},e,{defaultTheme:me,themeId:ie}))},xi=(e,t)=>(0,c.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),wi=e=>(0,c.A)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const Si=function(t){const n=ke({props:t,name:"MuiCssBaseline"}),{children:r,enableColorScheme:o=!1}=n;return(0,te.jsxs)(e.Fragment,{children:[(0,te.jsx)(bi,{styles:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(t=>{let[n,o]=t;var i;r[e.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(i=o.palette)?void 0:i.mode}});let o=(0,c.A)({html:xi(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,c.A)({margin:0},wi(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const i=null==(n=e.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return i&&(o=[o,i]),o}(e,o)}),r]})};function ki(e){return ae("MuiSvgIcon",e)}le("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Ei=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Ci=ye("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(Ce(n.color))],t["fontSize".concat(Ce(n.fontSize))]]}})(e=>{let{theme:t,ownerState:n}=e;var r,o,i,s,a,l,c,u,d,h,p,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(o=r.create)?void 0:o.call(r,"fill",{duration:null==(i=t.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[n.color])?void 0:p.main)?h:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}}),Ai=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiSvgIcon"}),{children:o,className:i,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:d,inheritViewBox:h=!1,titleAccess:p,viewBox:f="0 0 24 24"}=r,m=(0,u.A)(r,Ei),g=e.isValidElement(o)&&"svg"===o.type,v=(0,c.A)({},r,{color:s,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:h,viewBox:f,hasSvgAsChild:g}),y={};h||(y.viewBox=f);const b=(e=>{const{color:t,fontSize:n,classes:r}=e;return pe({root:["root","inherit"!==t&&"color".concat(Ce(t)),"fontSize".concat(Ce(n))]},ki,r)})(v);return(0,te.jsxs)(Ci,(0,c.A)({as:a,className:Q(b.root,i),focusable:"false",color:d,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:n},y,m,g&&o.props,{ownerState:v,children:[g?o.props.children:o,p?(0,te.jsx)("title",{children:p}):null]}))});Ai.muiName="SvgIcon";const Ii=Ai;function ji(t,n){function r(e,r){return(0,te.jsx)(Ii,(0,c.A)({"data-testid":"".concat(n,"Icon"),ref:r},e,{children:t}))}return r.muiName=Ii.muiName,e.memo(e.forwardRef(r))}const Ti=ji((0,te.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),_i=ji((0,te.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Assessment"),Ri=ji((0,te.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),Pi=ji([(0,te.jsx)("circle",{cx:"9",cy:"9",r:"4"},"0"),(0,te.jsx)("path",{d:"M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m7.76-9.64-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27M20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14"},"1")],"RecordVoiceOver"),Ni=ji([(0,te.jsx)("path",{d:"M13 8.57c-.79 0-1.43.64-1.43 1.43s.64 1.43 1.43 1.43 1.43-.64 1.43-1.43-.64-1.43-1.43-1.43"},"0"),(0,te.jsx)("path",{d:"M13 3C9.25 3 6.2 5.94 6.02 9.64L4.1 12.2c-.25.33-.01.8.4.8H6v3c0 1.1.9 2 2 2h1v3h7v-4.68c2.36-1.12 4-3.53 4-6.32 0-3.87-3.13-7-7-7m3 7c0 .13-.01.26-.02.39l.83.66c.08.06.1.16.05.25l-.8 1.39c-.05.09-.16.12-.24.09l-.99-.4c-.21.16-.43.29-.67.39L14 13.83c-.01.1-.1.17-.2.17h-1.6c-.1 0-.18-.07-.2-.17l-.15-1.06c-.25-.1-.47-.23-.68-.39l-.99.4c-.09.03-.2 0-.25-.09l-.8-1.39c-.05-.08-.03-.19.05-.25l.84-.66c-.01-.13-.02-.26-.02-.39s.02-.27.04-.39l-.85-.66c-.08-.06-.1-.16-.05-.26l.8-1.38c.05-.09.15-.12.24-.09l1 .4c.2-.15.43-.29.67-.39L12 6.17c.02-.1.1-.17.2-.17h1.6c.1 0 .18.07.2.17l.15 1.06c.24.1.46.23.67.39l1-.4c.09-.03.2 0 .24.09l.8 1.38c.05.09.03.2-.05.26l-.85.66c.03.12.04.25.04.39"},"1")],"Psychology"),Li=ji((0,te.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),Oi=ji((0,te.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"}),"VolumeUp"),Mi=ji((0,te.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp");function Di(e,t){if(null==e)return{};var n,r,o=(0,u.A)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const zi=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},Fi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const t=e[o],i=o+1<e.length,s=i?e[o+1]:0,a=o+2<e.length,l=a?e[o+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zi(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const t=n[e.charAt(o++)],i=o<e.length?n[e.charAt(o)]:0;++o;const s=o<e.length?n[e.charAt(o)]:64;++o;const a=o<e.length?n[e.charAt(o)]:64;if(++o,null==t||null==i||null==s||null==a)throw new Vi;const l=t<<2|i>>4;if(r.push(l),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Vi extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bi=function(e){return function(e){const t=zi(e);return Fi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ui=function(e){try{return Fi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function qi(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Wi=()=>{try{return qi().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:5001/api",REACT_APP_FIREBASE_API_KEY:"AIzaSyA4VxXsU3yI3GedYREVkUIOgHo8NU1DUsw",REACT_APP_FIREBASE_APP_ID:"1:764765123671:web:c6861709d1a881fcfe1f12",REACT_APP_FIREBASE_AUTH_DOMAIN:"ia-project-91c03.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"764765123671",REACT_APP_FIREBASE_PROJECT_ID:"ia-project-91c03",REACT_APP_FIREBASE_STORAGE_BUCKET:"ia-project-91c03.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Ui(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Hi=e=>{var t;return null===(t=Wi())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},Gi=e=>{const t=Hi(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ki=()=>{var e;return null===(e=Wi())||void 0===e?void 0:e.config},Qi=e=>{var t;return null===(t=Wi())||void 0===t?void 0:t["_".concat(e)]};class Xi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Yi(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function $i(e){return(await fetch(e,{credentials:"include"})).ok}function Ji(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=l({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Bi(JSON.stringify({alg:"none",type:"JWT"})),Bi(JSON.stringify(i)),""].join(".")}const Zi={};let es=!1;function ts(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Yi(window.location.host)||Zi[e]===t||Zi[e]||es)return;function n(e){return"__firebase__banner__".concat(e)}Zi[e]=t;const r="__firebase__banner",o=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Zi))Zi[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{es=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}o?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function ns(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function rs(){var e;const t=null===(e=Wi())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function os(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function is(){return!rs()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ss(){try{return"object"===typeof indexedDB}catch(e){return!1}}function as(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class ls extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cs.prototype.create)}}class cs{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],o=r?function(e,t){return e.replace(us,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(o," (").concat(n,").");return new ls(n,i,t)}}const us=/\{\$([^}]+)}/g;function ds(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(hs(n)&&hs(i)){if(!ds(n,i))return!1}else if(n!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function hs(e){return null!==e&&"object"===typeof e}function ps(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function fs(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function ms(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class gs{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=vs),void 0===r.error&&(r.error=vs),void 0===r.complete&&(r.complete=vs);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vs(){}function ys(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function bs(e){return e&&e._delegate?e._delegate:e}class xs{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ws="[DEFAULT]";class Ss{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Xi;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ws;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ws;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ws;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ks(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ws;return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function ks(e){return e===ws?void 0:e}class Es{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ss(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Cs=[];var As;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(As||(As={}));const Is={debug:As.DEBUG,verbose:As.VERBOSE,info:As.INFO,warn:As.WARN,error:As.ERROR,silent:As.SILENT},js=As.INFO,Ts={[As.DEBUG]:"log",[As.VERBOSE]:"log",[As.INFO]:"info",[As.WARN]:"warn",[As.ERROR]:"error"},_s=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Ts[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var o=arguments.length,i=new Array(o>2?o-2:0),s=2;s<o;s++)i[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class Rs{constructor(e){this.name=e,this._logLevel=js,this._logHandler=_s,this._userLogHandler=null,Cs.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in As))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Is[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,As.DEBUG,...t),this._logHandler(this,As.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,As.VERBOSE,...t),this._logHandler(this,As.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,As.INFO,...t),this._logHandler(this,As.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,As.WARN,...t),this._logHandler(this,As.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,As.ERROR,...t),this._logHandler(this,As.ERROR,...t)}}let Ps,Ns;const Ls=new WeakMap,Os=new WeakMap,Ms=new WeakMap,Ds=new WeakMap,zs=new WeakMap;let Fs={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Os.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ms.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Us(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Vs(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ns||(Ns=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qs(this),n),Us(Ls.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Us(e.apply(qs(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.call(qs(this),t,...r);return Ms.set(i,t.sort?t.sort():[t]),Us(i)}}function Bs(e){return"function"===typeof e?Vs(e):(e instanceof IDBTransaction&&function(e){if(Os.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});Os.set(e,t)}(e),t=e,(Ps||(Ps=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Fs):e);var t}function Us(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(Us(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&Ls.set(t,e)}).catch(()=>{}),zs.set(t,e),t}(e);if(Ds.has(e))return Ds.get(e);const t=Bs(e);return t!==e&&(Ds.set(e,t),zs.set(t,e)),t}const qs=e=>zs.get(e);function Ws(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Us(s);return r&&s.addEventListener("upgradeneeded",e=>{r(Us(s.result),e.oldVersion,e.newVersion,Us(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{i&&e.addEventListener("close",()=>i()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}const Hs=["get","getKey","getAll","getAllKeys","count"],Gs=["put","add","delete","clear"],Ks=new Map;function Qs(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ks.get(t))return Ks.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=Gs.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!Hs.includes(n))return;const i=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(i=i.index(a.shift())),(await Promise.all([i[n](...a),o&&t.done]))[0]};return Ks.set(t,i),i}Fs=(e=>l(l({},e),{},{get:(t,n,r)=>Qs(t,n)||e.get(t,n,r),has:(t,n)=>!!Qs(t,n)||e.has(t,n)}))(Fs);class Xs{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Ys="@firebase/app",$s="0.14.5",Js=new Rs("@firebase/app"),Zs="@firebase/app-compat",ea="@firebase/analytics-compat",ta="@firebase/analytics",na="@firebase/app-check-compat",ra="@firebase/app-check",oa="@firebase/auth",ia="@firebase/auth-compat",sa="@firebase/database",aa="@firebase/data-connect",la="@firebase/database-compat",ca="@firebase/functions",ua="@firebase/functions-compat",da="@firebase/installations",ha="@firebase/installations-compat",pa="@firebase/messaging",fa="@firebase/messaging-compat",ma="@firebase/performance",ga="@firebase/performance-compat",va="@firebase/remote-config",ya="@firebase/remote-config-compat",ba="@firebase/storage",xa="@firebase/storage-compat",wa="@firebase/firestore",Sa="@firebase/ai",ka="@firebase/firestore-compat",Ea="firebase",Ca="[DEFAULT]",Aa={[Ys]:"fire-core",[Zs]:"fire-core-compat",[ta]:"fire-analytics",[ea]:"fire-analytics-compat",[ra]:"fire-app-check",[na]:"fire-app-check-compat",[oa]:"fire-auth",[ia]:"fire-auth-compat",[sa]:"fire-rtdb",[aa]:"fire-data-connect",[la]:"fire-rtdb-compat",[ca]:"fire-fn",[ua]:"fire-fn-compat",[da]:"fire-iid",[ha]:"fire-iid-compat",[pa]:"fire-fcm",[fa]:"fire-fcm-compat",[ma]:"fire-perf",[ga]:"fire-perf-compat",[va]:"fire-rc",[ya]:"fire-rc-compat",[ba]:"fire-gcs",[xa]:"fire-gcs-compat",[wa]:"fire-fst",[ka]:"fire-fst-compat",[Sa]:"fire-vertex","fire-js":"fire-js",[Ea]:"fire-js-all"},Ia=new Map,ja=new Map,Ta=new Map;function _a(e,t){try{e.container.addComponent(t)}catch(n){Js.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ra(e){const t=e.name;if(Ta.has(t))return Js.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ta.set(t,e);for(const n of Ia.values())_a(n,e);for(const n of ja.values())_a(n,e);return!0}function Pa(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Na(e){return null!==e&&void 0!==e&&void 0!==e.settings}const La=new cs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Oa{constructor(e,t,n){this._isDeleted=!1,this._options=l({},e),this._config=l({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw La.create("app-deleted",{appName:this._name})}}const Ma="12.5.0";function Da(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=l({name:Ca,automaticDataCollectionEnabled:!0},t),o=r.name;if("string"!==typeof o||!o)throw La.create("bad-app-name",{appName:String(o)});if(n||(n=Ki()),!n)throw La.create("no-options");const i=Ia.get(o);if(i){if(ds(n,i.options)&&ds(r,i.config))return i;throw La.create("duplicate-app",{appName:o})}const s=new Es(o);for(const l of Ta.values())s.addComponent(l);const a=new Oa(n,r,s);return Ia.set(o,a),a}function za(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca;const t=Ia.get(e);if(!t&&e===Ca&&Ki())return Da();if(!t)throw La.create("no-app",{appName:e});return t}function Fa(e,t,n){var r;let o=null!==(r=Aa[e])&&void 0!==r?r:e;n&&(o+="-".concat(n));const i=o.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),i&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Js.warn(e.join(" "))}Ra(new xs("".concat(o,"-version"),()=>({library:o,version:t}),"VERSION"))}const Va="firebase-heartbeat-store";let Ba=null;function Ua(){return Ba||(Ba=Ws("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Va)}catch(n){console.warn(n)}}}).catch(e=>{throw La.create("idb-open",{originalErrorMessage:e.message})})),Ba}async function qa(e,t){try{const n=(await Ua()).transaction(Va,"readwrite"),r=n.objectStore(Va);await r.put(t,Wa(e)),await n.done}catch(n){if(n instanceof ls)Js.warn(n.message);else{const e=La.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Js.warn(e.message)}}}function Wa(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ha{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ka(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ga();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Js.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ga(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const o of e){const e=n.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),Qa(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Qa(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=Bi(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Js.warn(t),""}}}function Ga(){return(new Date).toISOString().substring(0,10)}class Ka{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ss()&&as().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Ua()).transaction(Va),n=await t.objectStore(Va).get(Wa(e));return await t.done,n}catch(t){if(t instanceof ls)Js.warn(t.message);else{const e=La.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Js.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return qa(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return qa(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Qa(e){return Bi(JSON.stringify({version:2,heartbeats:e})).length}var Xa;Xa="",Ra(new xs("platform-logger",e=>new Xs(e),"PRIVATE")),Ra(new xs("heartbeat",e=>new Ha(e),"PRIVATE")),Fa(Ys,$s,Xa),Fa(Ys,$s,"esm2020"),Fa("fire-js","");const Ya=["providerId"],$a=["uid","auth","stsTokenManager"],Ja=["providerId","signInMethod"];function Za(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const el=Za,tl=new cs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nl=new Rs("@firebase/auth");function rl(e){if(nl.logLevel<=As.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];nl.error("Auth (".concat(Ma,"): ").concat(e),...n)}}function ol(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw cl(e,...n)}function il(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return cl(e,...n)}function sl(e,t,n){const r=l(l({},el()),{},{[t]:n});return new cs("auth","Firebase",r).create(t,{appName:e.name})}function al(e){return sl(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ll(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ol(e,"argument-error"),sl(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function cl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return tl.create(e,...n)}function ul(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];throw cl(t,...r)}}function dl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw rl(t),new Error(t)}function hl(e,t){e||dl(t)}function pl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function fl(){return"http:"===ml()||"https:"===ml()}function ml(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class gl{constructor(e,t){this.shortDelay=e,this.longDelay=t,hl(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ns())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(fl()||os()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function vl(e,t){hl(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class yl{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void dl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void dl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void dl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bl={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xl=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wl=new gl(3e4,6e4);function Sl(e,t){return e.tenantId&&!t.tenantId?l(l({},t),{},{tenantId:e.tenantId}):t}async function kl(e,t,n,r){return El(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let o={},i={};r&&("GET"===t?i=r:o={body:JSON.stringify(r)});const s=ps(l({key:e.config.apiKey},i)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const c=l({method:t,headers:a},o);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&Yi(e.emulatorConfig.host)&&(c.credentials="include"),yl.fetch()(await Al(e,e.config.apiHost,n,s),c)})}async function El(e,t,n){e._canInitEmulator=!1;const r=l(l({},bl),t);try{const t=new jl(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw Tl(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const t=o.ok?i.errorMessage:i.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Tl(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw Tl(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw Tl(e,"user-disabled",i);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw sl(e,a,s);ol(e,a)}}catch(o){if(o instanceof ls)throw o;ol(e,"network-request-failed",{message:String(o)})}}async function Cl(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await kl(e,t,n,r,o);return"mfaPendingCredential"in i&&ol(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function Al(e,t,n,r){const o="".concat(t).concat(n,"?").concat(r),i=e,s=i.config.emulator?vl(e.config,o):"".concat(e.config.apiScheme,"://").concat(o);if(xl.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(s).toString()}return s}function Il(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jl{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(il(this.auth,"network-request-failed")),wl.get())})}}function Tl(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=il(e,t,r);return o.customData._tokenResponse=n,o}function _l(e){return void 0!==e&&void 0!==e.enterprise}class Rl{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Il(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Pl(e,t){return kl(e,"GET","/v2/recaptchaConfig",Sl(e,t))}async function Nl(e,t){return kl(e,"POST","/v1/accounts:lookup",t)}function Ll(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Ol(e){return 1e3*Number(e)}function Ml(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return rl("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ui(n);return e?JSON.parse(e):(rl("Failed to decode base64 JWT payload"),null)}catch(o){return rl("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Dl(e){const t=Ml(e);return ul(t,"internal-error"),ul("undefined"!==typeof t.exp,"internal-error"),ul("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function zl(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof ls&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Fl{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Vl{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bl(e){var t;const n=e.auth,r=await e.getIdToken(),o=await zl(e,Nl(n,{idToken:r}));ul(null===o||void 0===o?void 0:o.users.length,n,"internal-error");const i=o.users[0];e._notifyReloadListener(i);const s=null!==(t=i.providerUserInfo)&&void 0!==t&&t.length?Ul(i.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null!==a&&void 0!==a&&a.length),h=!!u&&d,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Vl(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function Ul(e){return e.map(e=>{let{providerId:t}=e,n=Di(e,Ya);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ul(e.idToken,"internal-error"),ul("undefined"!==typeof e.idToken,"internal-error"),ul("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Dl(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ul(0!==e.length,"internal-error");const t=Dl(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(ul(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await El(e,{},async()=>{const n=ps({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,i=await Al(e,r,"/v1/token","key=".concat(o)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:s,body:n};return e.emulatorConfig&&Yi(e.emulatorConfig.host)&&(a.credentials="include"),yl.fetch()(i,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,i=new ql;return n&&(ul("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(ul("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),o&&(ul("number"===typeof o,"internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ql,this.toJSON())}_performRefresh(){return dl("not implemented")}}function Wl(e,t){ul("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Hl{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,o=Di(e,$a);this.providerId="firebase",this.proactiveRefresh=new Fl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vl(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await zl(this,this.stsTokenManager.getToken(this.auth,e));return ul(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=bs(e),r=await n.getIdToken(t),o=Ml(r);ul(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"===typeof o.firebase?o.firebase:void 0,s=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:Ll(Ol(o.auth_time)),issuedAtTime:Ll(Ol(o.iat)),expirationTime:Ll(Ol(o.exp)),signInProvider:s||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=bs(e);await Bl(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ul(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>l({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hl(l(l({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ul(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Bl(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Na(this.auth.app))return Promise.reject(al(this.auth));const e=await this.getIdToken();return await zl(this,async function(e,t){return kl(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return l(l({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>l({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,o,i,s,a,c,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,p=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,m=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:x,isAnonymous:w,providerData:S,stsTokenManager:k}=t;ul(b&&k,e,"internal-error");const E=ql.fromJSON(this.name,k);ul("string"===typeof b,e,"internal-error"),Wl(d,e.name),Wl(h,e.name),ul("boolean"===typeof x,e,"internal-error"),ul("boolean"===typeof w,e,"internal-error"),Wl(p,e.name),Wl(f,e.name),Wl(m,e.name),Wl(g,e.name),Wl(v,e.name),Wl(y,e.name);const C=new Hl({uid:b,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:w,photoURL:f,phoneNumber:p,tenantId:m,stsTokenManager:E,createdAt:v,lastLoginAt:y});return S&&Array.isArray(S)&&(C.providerData=S.map(e=>l({},e))),g&&(C._redirectEventId=g),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ql;r.updateFromServerResponse(t);const o=new Hl({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Bl(o),o}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];ul(void 0!==r.localId,"internal-error");const o=void 0!==r.providerUserInfo?Ul(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null!==o&&void 0!==o&&o.length),s=new ql;s.updateFromIdToken(n);const a=new Hl({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Vl(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==o&&void 0!==o&&o.length)};return Object.assign(a,l),a}}const Gl=new Map;function Kl(e){hl(e instanceof Function,"Expected a class definition");let t=Gl.get(e);return t?(hl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Gl.set(e,t),t)}class Ql{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ql.type="NONE";const Xl=Ql;function Yl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class $l{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=Yl(this.userKey,r.apiKey,o),this.fullPersistenceKey=Yl("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Nl(this.auth,{idToken:e}).catch(()=>{});return t?Hl._fromGetAccountInfoResponse(this.auth,t,e):null}return Hl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new $l(Kl(Xl),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let o=r[0]||Kl(Xl);const i=Yl(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const r=await Nl(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Hl._fromGetAccountInfoResponse(e,r,t)}else n=Hl._fromJSON(e,t);c!==o&&(s=n),o=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return o._shouldAllowMigration&&a.length?(o=a[0],s&&await o._set(i,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==o)try{await e._remove(i)}catch(t){}})),new $l(o,e,n)):new $l(o,e,n)}}function Jl(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oc(t))return"Blackberry";if(ic(t))return"Webos";if(ec(t))return"Safari";if((t.includes("chrome/")||tc(t))&&!t.includes("edge/"))return"Chrome";if(rc(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Zl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns();return/firefox\//i.test(e)}function ec(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns();return/crios\//i.test(e)}function nc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns();return/iemobile/i.test(e)}function rc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns();return/android/i.test(e)}function oc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns();return/blackberry/i.test(e)}function ic(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns();return/webos/i.test(e)}function sc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ac(){return function(){const e=ns();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function lc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns();return sc(e)||rc(e)||ic(e)||oc(e)||/windows phone/i.test(e)||nc(e)}function cc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Jl(ns());break;case"Worker":t="".concat(Jl(ns()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ma,"/").concat(r)}class uc{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(o){r(o)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class dc{constructor(e){var t,n,r,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,o,i,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(o=a.containsUppercaseLetter)||void 0===o||o),a.isValid&&(a.isValid=null===(i=a.containsNumericCharacter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class hc{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fc(this),this.idTokenSubscription=new fc(this),this.beforeStateQueue=new uc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Kl(t)),this._initializationPromise=this.queue(async()=>{var n,r,o;if(!this._deleted&&(this.persistenceManager=await $l.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(o=this.currentUser)||void 0===o?void 0:o.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Nl(this,{idToken:e}),n=await Hl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Na(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var o,i;await this.getOrInitRedirectPersistenceManager();const t=null===(o=this.redirectUser)||void 0===o?void 0:o._redirectEventId,s=null===(i=n)||void 0===i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==s||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ul(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bl(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Na(this.app))return Promise.reject(al(this));const t=e?bs(e):null;return t&&ul(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ul(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Na(this.app)?Promise.reject(al(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Na(this.app)?Promise.reject(al(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kl(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return kl(e,"GET","/v2/passwordPolicy",Sl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new dc(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cs("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return kl(e,"POST","/v2/accounts:revokeToken",Sl(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Kl(e)||this._popupRedirectResolver;ul(t,this,"argument-error"),this.redirectPersistenceManager=await $l.create(this,[Kl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"===typeof t?t:t.next.bind(t);let i=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ul(s,this,"internal-error"),s.then(()=>{i||o(this.currentUser)}),"function"===typeof t){const o=e.addObserver(t,n,r);return()=>{i=!0,o()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ul(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Na(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(nl.logLevel<=As.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];nl.warn("Auth (".concat(Ma,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function pc(e){return bs(e)}class fc{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new gs(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return ul(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gc(e){return mc.loadJS(e)}function vc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class yc{constructor(){this.enterprise=new bc}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class bc{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const xc="NO_RECAPTCHA";class wc{constructor(e){this.type="recaptcha-enterprise",this.auth=pc(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const o=window.grecaptcha;_l(o)?o.enterprise.ready(()=>{o.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(xc)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new yc).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Pl(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Rl(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(o=>{if(!t&&_l(window.grecaptcha))n(o,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=mc.recaptchaEnterpriseScript;0!==t.length&&(t+=o),gc(t).then(()=>{n(o,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Sc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new wc(e);let s;if(o)s=xc;else try{s=await i.verify(n)}catch(c){s=await i.verify(n,!0)}const a=l({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function kc(e,t,n,r,o){if("EMAIL_PASSWORD_PROVIDER"===o){var i;if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Sc(e,t,n,"getOobCode"===n);return r(e,o)}return r(e,t).catch(async o=>{if(o.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const o=await Sc(e,t,n,"getOobCode"===n);return r(e,o)}return Promise.reject(o)})}if("PHONE_PROVIDER"===o){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const o=await Sc(e,t,n);return r(e,o).catch(async o=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(o.code==="auth/".concat("missing-recaptcha-token")||o.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const o=await Sc(e,t,n,!1,!0);return r(e,o)}return Promise.reject(o)})}{const o=await Sc(e,t,n,!1,!0);return r(e,o)}}return Promise.reject(o+" provider is not supported.")}async function Ec(e){const t=pc(e),n=await Pl(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Rl(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new wc(t).verify()}}function Cc(e,t,n){const r=pc(e);ul(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!(null===n||void 0===n||!n.disableWarnings),i=Ac(t),{host:s,port:a}=function(e){const t=Ac(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:Ic(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ic(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(i,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator)return ul(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void ul(ds(c,r.config.emulator)&&ds(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Yi(s)?($i("".concat(i,"//").concat(s).concat(l)),ts("Auth",!0)):o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ac(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ic(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class jc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return dl("not implemented")}_getIdTokenResponse(e){return dl("not implemented")}_linkToIdToken(e,t){return dl("not implemented")}_getReauthenticationResolver(e){return dl("not implemented")}}async function Tc(e,t){return kl(e,"POST","/v1/accounts:resetPassword",Sl(e,t))}async function _c(e,t){return kl(e,"POST","/v1/accounts:signUp",t)}async function Rc(e,t){return Cl(e,"POST","/v1/accounts:signInWithPassword",Sl(e,t))}async function Pc(e,t){return kl(e,"POST","/v1/accounts:sendOobCode",Sl(e,t))}async function Nc(e,t){return Pc(e,t)}class Lc extends jc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Lc(e,t,"password")}static _fromEmailAndCode(e,t){return new Lc(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return kc(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Rc,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Cl(e,"POST","/v1/accounts:signInWithEmailLink",Sl(e,t))}(e,{email:this._email,oobCode:this._password});default:ol(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return kc(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_c,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Cl(e,"POST","/v1/accounts:signInWithEmailLink",Sl(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ol(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Oc(e,t){return Cl(e,"POST","/v1/accounts:signInWithIdp",Sl(e,t))}class Mc extends jc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Mc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ol("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,o=Di(t,Ja);if(!n||!r)return null;const i=new Mc(n,r);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){return Oc(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Oc(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oc(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ps(t)}return e}}async function Dc(e,t){return kl(e,"POST","/v1/accounts:sendVerificationCode",Sl(e,t))}const zc={USER_NOT_FOUND:"user-not-found"};class Fc extends jc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Fc({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Fc({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Cl(e,"POST","/v1/accounts:signInWithPhoneNumber",Sl(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Cl(e,"POST","/v1/accounts:signInWithPhoneNumber",Sl(e,t));if(n.temporaryProof)throw Tl(e,"account-exists-with-different-credential",n);return n}(e,l({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Cl(e,"POST","/v1/accounts:signInWithPhoneNumber",Sl(e,l(l({},t),{},{operation:"REAUTH"})),zc)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new Fc({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}class Vc{constructor(e){var t,n,r,o,i,s;const a=fs(ms(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);ul(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(o=a.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(i=a.lang)&&void 0!==i?i:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=fs(ms(e)).link,n=t?fs(ms(t)).deep_link_id:null,r=fs(ms(e)).deep_link_id;return(r?fs(ms(r)).link:null)||r||n||t||e}(e);try{return new Vc(t)}catch(n){return null}}}class Bc{constructor(){this.providerId=Bc.PROVIDER_ID}static credential(e,t){return Lc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Vc.parseLink(t);return ul(n,"argument-error"),Lc._fromEmailAndCode(e,n.code,n.tenantId)}}Bc.PROVIDER_ID="password",Bc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Bc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Uc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class qc extends Uc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wc extends qc{constructor(){super("facebook.com")}static credential(e){return Mc._fromParams({providerId:Wc.PROVIDER_ID,signInMethod:Wc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wc.credentialFromTaggedObject(e)}static credentialFromError(e){return Wc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Wc.credential(t.oauthAccessToken)}catch(n){return null}}}Wc.FACEBOOK_SIGN_IN_METHOD="facebook.com",Wc.PROVIDER_ID="facebook.com";class Hc extends qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Mc._fromParams({providerId:Hc.PROVIDER_ID,signInMethod:Hc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hc.credentialFromTaggedObject(e)}static credentialFromError(e){return Hc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Hc.credential(n,r)}catch(o){return null}}}Hc.GOOGLE_SIGN_IN_METHOD="google.com",Hc.PROVIDER_ID="google.com";class Gc extends qc{constructor(){super("github.com")}static credential(e){return Mc._fromParams({providerId:Gc.PROVIDER_ID,signInMethod:Gc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gc.credentialFromTaggedObject(e)}static credentialFromError(e){return Gc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Gc.credential(t.oauthAccessToken)}catch(n){return null}}}Gc.GITHUB_SIGN_IN_METHOD="github.com",Gc.PROVIDER_ID="github.com";class Kc extends qc{constructor(){super("twitter.com")}static credential(e,t){return Mc._fromParams({providerId:Kc.PROVIDER_ID,signInMethod:Kc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Kc.credentialFromTaggedObject(e)}static credentialFromError(e){return Kc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Kc.credential(n,r)}catch(o){return null}}}async function Qc(e,t){return Cl(e,"POST","/v1/accounts:signUp",Sl(e,t))}Kc.TWITTER_SIGN_IN_METHOD="twitter.com",Kc.PROVIDER_ID="twitter.com";class Xc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=await Hl._fromIdTokenResponse(e,n,r),i=Yc(n);return new Xc({user:o,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Yc(n);return new Xc({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Yc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class $c extends ls{constructor(e,t,n,r){var o;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new $c(e,t,n,r)}}function Jc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw $c._fromErrorAndOperation(e,n,t,r);throw n})}async function Zc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await zl(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Xc._forOperation(e,"link",r)}async function eu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Na(r.app))return Promise.reject(al(r));const o="reauthenticate";try{const i=await zl(e,Jc(r,o,t,e),n);ul(i.idToken,r,"internal-error");const s=Ml(i.idToken);ul(s,r,"internal-error");const{sub:a}=s;return ul(e.uid===a,r,"user-mismatch"),Xc._forOperation(e,o,i)}catch(i){throw(null===i||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&ol(r,"user-mismatch"),i}}async function tu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Na(e.app))return Promise.reject(al(e));const r="signIn",o=await Jc(e,r,t),i=await Xc._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(i.user),i}async function nu(e,t){return tu(pc(e),t)}class ru{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?ou._fromServerResponse(e,t):"totpInfo"in t?iu._fromServerResponse(e,t):ol(e,"internal-error")}}class ou extends ru{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new ou(t)}}class iu extends ru{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new iu(t)}}function su(e,t,n){var r;ul((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ul("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),ul("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ul(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ul(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function au(e){const t=pc(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function lu(e,t){await async function(e,t){return kl(e,"POST","/v1/accounts:update",Sl(e,t))}(bs(e),{oobCode:t})}async function cu(e,t){const n=bs(e),r=await Tc(n,{oobCode:t}),o=r.requestType;switch(ul(o,n,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ul(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ul(r.mfaInfo,n,"internal-error");default:ul(r.email,n,"internal-error")}let i=null;return r.mfaInfo&&(i=ru._fromServerResponse(pc(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:i},operation:o}}async function uu(e,t){const n=bs(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&su(n.auth,r,t);const{email:o}=await async function(e,t){return Pc(e,t)}(n.auth,r);o!==e.email&&await e.reload()}async function du(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const o=bs(e),i={idToken:await o.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await zl(o,async function(e,t){return kl(e,"POST","/v1/accounts:update",t)}(o.auth,i));o.displayName=s.displayName||null,o.photoURL=s.photoUrl||null;const a=o.providerData.find(e=>{let{providerId:t}=e;return"password"===t});a&&(a.displayName=o.displayName,a.photoURL=o.photoURL),await o._updateTokensIfNecessary(s)}function hu(e,t){return kl(e,"POST","/v2/accounts/mfaEnrollment:start",Sl(e,t))}new WeakMap;const pu="__sak";class fu{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pu,"1"),this.storage.removeItem(pu),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class mu extends fu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lc(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);ac()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mu.type="LOCAL";const gu=mu;function vu(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),o=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(o))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function yu(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class bu{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=yu(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return vu(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=yu(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=yu(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=vu(n);const o=setInterval(()=>{const e=vu(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(o))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}bu.type="COOKIE";class xu extends fu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xu.type="SESSION";const wu=xu;class Su{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Su(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,i=this.handlersMap[r];if(null===i||void 0===i||!i.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(i).map(async e=>e(t.origin,o)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ku(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Su.receivers=[];class Eu{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,i;return new Promise((s,a)=>{const l=ku("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(t.data.response);break;default:clearTimeout(c),clearTimeout(o),a(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function Cu(){return window}function Au(){return"undefined"!==typeof Cu().WorkerGlobalScope&&"function"===typeof Cu().importScripts}const Iu="firebaseLocalStorageDb",ju="firebaseLocalStorage",Tu="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ru(e,t){return e.transaction([ju],t?"readwrite":"readonly").objectStore(ju)}function Pu(){const e=indexedDB.open(Iu,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(ju,{keyPath:Tu})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(ju)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Iu);return new _u(e).toPromise()}(),t(await Pu()))})})}async function Nu(e,t,n){const r=Ru(e,!0).put({[Tu]:t,value:n});return new _u(r).toPromise()}function Lu(e,t){const n=Ru(e,!0).delete(t);return new _u(n).toPromise()}class Ou{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Pu()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Au()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Su._getInstance(Au()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Eu(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pu();return await Nu(e,pu,"1"),await Lu(e,pu),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nu(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Ru(e,!1).get(t),r=await new _u(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Lu(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Ru(e,!1).getAll();return new _u(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ou.type="LOCAL";const Mu=Ou;function Du(e,t){return kl(e,"POST","/v2/accounts/mfaSignIn:start",Sl(e,t))}vc("rcb"),new gl(3e4,6e4);const zu="recaptcha";async function Fu(e,t,n){if(!e._getRecaptchaConfig())try{await Ec(e)}catch(o){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let o;if(o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){ul("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=kc(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===xc){ul((null===n||void 0===n?void 0:n.type)===zu,e,"argument-error");return hu(e,await Vu(e,t,n))}return hu(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;ul("signin"===t.type,e,"internal-error");const i=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;ul(i,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=kc(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===xc){ul((null===n||void 0===n?void 0:n.type)===zu,e,"argument-error");return Du(e,await Vu(e,t,n))}return Du(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=kc(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===xc){ul((null===n||void 0===n?void 0:n.type)===zu,e,"argument-error");return Dc(e,await Vu(e,t,n))}return Dc(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Vu(e,t,n){ul(n.type===zu,e,"argument-error");const r=await n.verify();ul("string"===typeof r,e,"argument-error");const o=l({},t);if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.captchaResponse,n=o.phoneEnrollmentInfo.clientType,i=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),o}if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.captchaResponse,t=o.phoneSignInInfo.clientType,n=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),o}return Object.assign(o,{recaptchaToken:r}),o}class Bu{constructor(e){this.providerId=Bu.PROVIDER_ID,this.auth=pc(e)}verifyPhoneNumber(e,t){return Fu(this.auth,e,bs(t))}static credential(e,t){return Fc._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Bu.credentialFromTaggedObject(t)}static credentialFromError(e){return Bu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Fc._fromTokenResponse(n,r):null}}function Uu(e,t){return t?Kl(t):(ul(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Bu.PROVIDER_ID="phone",Bu.PHONE_SIGN_IN_METHOD="phone";class qu extends jc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Wu(e){return tu(e.auth,new qu(e),e.bypassAuthState)}function Hu(e){const{auth:t,user:n}=e;return ul(n,t,"internal-error"),eu(n,new qu(e),e.bypassAuthState)}async function Gu(e){const{auth:t,user:n}=e;return ul(n,t,"internal-error"),Zc(n,new qu(e),e.bypassAuthState)}class Ku{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:i,type:s}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wu;case"linkViaPopup":case"linkViaRedirect":return Gu;case"reauthViaPopup":case"reauthViaRedirect":return Hu;default:ol(this.auth,"internal-error")}}resolve(e){hl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qu=new gl(2e3,1e4);class Xu extends Ku{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,Xu.currentPopupAction&&Xu.currentPopupAction.cancel(),Xu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ul(e,this.auth,"internal-error"),e}async onExecution(){hl(1===this.filter.length,"Popup operations only handle one event");const e=ku();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(il(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(il(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(il(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Qu.get())};e()}}Xu.currentPopupAction=null;const Yu=new Map;class $u extends Ku{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Yu.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ed(t),r=Zu(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Yu.set(this.auth._key(),e)}return this.bypassAuthState||Yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ju(e,t){Yu.set(e._key(),t)}function Zu(e){return Kl(e._redirectPersistence)}function ed(e){return Yl("pendingRedirect",e.config.apiKey,e.name)}async function td(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Na(e.app))return Promise.reject(al(e));const r=pc(e),o=Uu(r,t),i=new $u(r,o,n),s=await i.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class nd{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return od(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!od(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(il(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rd(e))}saveEventToCache(e){this.cachedEventUids.add(rd(e)),this.lastProcessedEventTime=Date.now()}}function rd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function od(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const id=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sd=/^https?/;async function ad(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return kl(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ld(r))return}catch(n){}ol(e,"unauthorized-domain")}function ld(e){const t=pl(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!sd.test(n))return!1;if(id.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const cd=new gl(3e4,6e4);function ud(){const e=Cu().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function dd(e){return new Promise((t,n)=>{var r,o;function i(){ud(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ud(),n(il(e,"network-request-failed"))},timeout:cd.get()})}if(null!==(r=Cu().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(o=Cu().gapi)||void 0===o||!o.load){const t=vc("iframefcb");return Cu()[t]=()=>{gapi.load?i():n(il(e,"network-request-failed"))},gc("".concat(mc.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}i()}}).catch(e=>{throw hd=null,e})}let hd=null;const pd=new gl(5e3,15e3),fd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},md=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gd(e){const t=e.config;ul(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?vl(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ma},o=md.get(e.config.apiHost);o&&(r.eid=o);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(ps(r).slice(1))}async function vd(e){const t=await function(e){return hd=hd||dd(e),hd}(e),n=Cu().gapi;return ul(n,e,"internal-error"),t.open({where:document.body,url:gd(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fd,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const o=il(e,"network-request-failed"),i=Cu().setTimeout(()=>{r(o)},pd.get());function s(){Cu().clearTimeout(i),n(t)}t.ping(s).then(s,()=>{r(o)})}))}const yd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function xd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=l(l({},yd),{},{width:r.toString(),height:o.toString(),top:i,left:s}),u=ns().toLowerCase();n&&(a=tc(u)?"_blank":n),Zl(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return sc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new bd(null);const h=window.open(t||"",a,d);ul(h,e,"popup-blocked");try{h.focus()}catch(p){}return new bd(h)}const wd="__/auth/handler",Sd="emulator/auth/handler",kd=encodeURIComponent("fac");async function Ed(e,t,n,r,o,i){ul(e.config.authDomain,e,"auth-domain-config-required"),ul(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ma,eventId:o};if(t instanceof Uc){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))s[e]=t}if(t instanceof qc){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(kd,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(wd);return vl(t,Sd)}(e),"?").concat(ps(a).slice(1)).concat(c)}const Cd="webStorageSupport";const Ad=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wu,this._completeRedirectFn=td,this._overrideRedirectResult=Ju}async _openPopup(e,t,n,r){var o;hl(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return xd(e,await Ed(e,t,n,pl(),r),ku())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Cu().location.href=e}(await Ed(e,t,n,pl(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(hl(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await vd(e),n=new nd(e);return t.register("authEvent",t=>{ul(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cd,{type:Cd},n=>{var r;const o=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Cd];void 0!==o&&t(!!o),ol(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ad(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lc()||ec()||sc()}};var Id="@firebase/auth",jd="1.11.1";class Td{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ul(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const _d=Qi("authIdTokenMaxAge")||300;let Rd=null;var Pd;mc={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=il("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Pd="Browser",Ra(new xs("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ul(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Pd,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cc(Pd)},c=new hc(r,o,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kl);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ra(new xs("auth-internal",e=>(e=>new Td(e))(pc(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Fa(Id,jd,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Pd)),Fa(Id,jd,"esm2020");Fa("firebase","12.5.0","app");var Nd,Ld,Od="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Md={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var o=0;o<16;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;o<16;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];let i,s=e.g[3];i=t+(s^n&(o^s))+r[0]+3614090360&4294967295,i=s+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[1]+3905402710&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[2]+606105819&4294967295,i=n+(t^(o=s+(i<<17&4294967295|i>>>15))&(s^t))+r[3]+3250441966&4294967295,i=t+(s^(n=o+(i<<22&4294967295|i>>>10))&(o^s))+r[4]+4118548399&4294967295,i=s+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[5]+1200080426&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[6]+2821735955&4294967295,i=n+(t^(o=s+(i<<17&4294967295|i>>>15))&(s^t))+r[7]+4249261313&4294967295,i=t+(s^(n=o+(i<<22&4294967295|i>>>10))&(o^s))+r[8]+1770035416&4294967295,i=s+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[9]+2336552879&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[10]+4294925233&4294967295,i=n+(t^(o=s+(i<<17&4294967295|i>>>15))&(s^t))+r[11]+2304563134&4294967295,i=t+(s^(n=o+(i<<22&4294967295|i>>>10))&(o^s))+r[12]+1804603682&4294967295,i=s+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[13]+4254626195&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[14]+2792965006&4294967295,i=n+(t^(o=s+(i<<17&4294967295|i>>>15))&(s^t))+r[15]+1236535329&4294967295,i=t+(o^s&((n=o+(i<<22&4294967295|i>>>10))^o))+r[1]+4129170786&4294967295,i=s+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[6]+3225465664&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[11]+643717713&4294967295,i=n+(s^t&((o=s+(i<<14&4294967295|i>>>18))^s))+r[0]+3921069994&4294967295,i=t+(o^s&((n=o+(i<<20&4294967295|i>>>12))^o))+r[5]+3593408605&4294967295,i=s+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[10]+38016083&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[15]+3634488961&4294967295,i=n+(s^t&((o=s+(i<<14&4294967295|i>>>18))^s))+r[4]+3889429448&4294967295,i=t+(o^s&((n=o+(i<<20&4294967295|i>>>12))^o))+r[9]+568446438&4294967295,i=s+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[14]+3275163606&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[3]+4107603335&4294967295,i=n+(s^t&((o=s+(i<<14&4294967295|i>>>18))^s))+r[8]+1163531501&4294967295,i=t+(o^s&((n=o+(i<<20&4294967295|i>>>12))^o))+r[13]+2850285829&4294967295,i=s+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[2]+4243563512&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[7]+1735328473&4294967295,i=n+(s^t&((o=s+(i<<14&4294967295|i>>>18))^s))+r[12]+2368359562&4294967295,i=t+((n=o+(i<<20&4294967295|i>>>12))^o^s)+r[5]+4294588738&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[8]+2272392833&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[11]+1839030562&4294967295,i=n+((o=s+(i<<16&4294967295|i>>>16))^s^t)+r[14]+4259657740&4294967295,i=t+((n=o+(i<<23&4294967295|i>>>9))^o^s)+r[1]+2763975236&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[4]+1272893353&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[7]+4139469664&4294967295,i=n+((o=s+(i<<16&4294967295|i>>>16))^s^t)+r[10]+3200236656&4294967295,i=t+((n=o+(i<<23&4294967295|i>>>9))^o^s)+r[13]+681279174&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[0]+3936430074&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[3]+3572445317&4294967295,i=n+((o=s+(i<<16&4294967295|i>>>16))^s^t)+r[6]+76029189&4294967295,i=t+((n=o+(i<<23&4294967295|i>>>9))^o^s)+r[9]+3654602809&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[12]+3873151461&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[15]+530742520&4294967295,i=n+((o=s+(i<<16&4294967295|i>>>16))^s^t)+r[2]+3299628645&4294967295,i=t+(o^((n=o+(i<<23&4294967295|i>>>9))|~s))+r[0]+4096336452&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[7]+1126891415&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[14]+2878612391&4294967295,i=n+(s^((o=s+(i<<15&4294967295|i>>>17))|~t))+r[5]+4237533241&4294967295,i=t+(o^((n=o+(i<<21&4294967295|i>>>11))|~s))+r[12]+1700485571&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[3]+2399980690&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[10]+4293915773&4294967295,i=n+(s^((o=s+(i<<15&4294967295|i>>>17))|~t))+r[1]+2240044497&4294967295,i=t+(o^((n=o+(i<<21&4294967295|i>>>11))|~s))+r[8]+1873313359&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[15]+4264355552&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[6]+2734768916&4294967295,i=n+(s^((o=s+(i<<15&4294967295|i>>>17))|~t))+r[13]+1309151649&4294967295,i=t+(o^((n=o+(i<<21&4294967295|i>>>11))|~s))+r[4]+4149444226&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[11]+3174756917&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[2]+718787259&4294967295,i=n+(s^((o=s+(i<<15&4294967295|i>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let o=e.length-1;o>=0;o--){const i=0|e[o];r&&i==t||(n[o]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,o=this.C;let i=this.h,s=0;for(;s<t;){if(0==i)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(o[i++]=e.charCodeAt(s++),i==this.blockSize){n(this,o),i=0;break}}else for(;s<t;)if(o[i++]=e[s++],i==this.blockSize){n(this,o),i=0;break}}this.h=i,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var o={};function i(e){return-128<=e&&e<128?function(e,t){var n=o;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return h(s(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=v(n),r=v(r);var o=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=i.add(r);c.l(e)<=0&&(o=o.add(n),i=c),r=y(r,1),n=y(n,1)}return t=p(e,o.j(t)),new m(o,t)}for(o=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(i=s(n)).j(t);d(c)||c.l(e)>0;)c=(i=s(n-=r)).j(t);u(i)&&(i=l),o=o.add(i),e=p(e,c)}return new m(o,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const o=e.g.length-n,i=[];for(let r=0;r<o;r++)i[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=s(Math.pow(e,6));var n=this;let r="";for(;;){const o=g(n,t).g;let i=(((n=p(n,o.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=o))return i+r;for(;i.length<6;)i="0"+i;r=i+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let o=0;for(let r=0;r<=t;r++){let t=o+(65535&this.i(r))+(65535&e.i(r)),i=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);o=i>>>16,t&=65535,i&=65535,n[r]=i<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return s(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var o=0;o<2*t;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(let t=0;t<e.g.length;t++){const r=this.i(o)>>>16,i=65535&this.i(o),s=e.i(t)>>>16,a=65535&e.i(t);n[2*o+2*t]+=i*a,f(n,2*o+2*t),n[2*o+2*t+1]+=r*a,f(n,2*o+2*t+1),n[2*o+2*t+1]+=i*s,f(n,2*o+2*t+1),n[2*o+2*t+2]+=r*s,f(n,2*o+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,Ld=Md.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=s(Math.pow(n,8));let o=a;for(let a=0;a<t.length;a+=8){var i=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+i),n);i<8?(i=s(Math.pow(n,i)),o=o.j(i).add(s(e))):(o=o.j(r),o=o.add(s(e)))}return o},Nd=Md.Integer=r}).apply("undefined"!==typeof Od?Od:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Dd,zd,Fd,Vd,Bd,Ud,qd,Wd,Hd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Gd={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Hd&&Hd];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var o=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in o))break e;o=o[s]}(r=r(i=o[e=e[e.length-1]]))!=i&&null!=r&&t(o,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var o=o||{},i=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let o=0;o<r;o++)e[n+o]=t[o]}else e.push(t)}}function f(e){i.setTimeout(()=>{throw e},0)}function m(){var e=x;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,b=!1,x=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},w=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(S)}};function S(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){f(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function k(){this.u=this.u,this.C=this.C}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function A(e){return/^[\s\xa0]*$/.test(e)}function I(e,t){E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(I,E),I.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&I.Z.h.call(this)},I.prototype.h=function(){I.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),T=0;function _(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=o,this.key=++T,this.da=this.fa=!1}function R(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function P(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function N(e){const t={};for(const n in e)t[n]=e[n];return t}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(e,t){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)e[n]=r[n];for(let t=0;t<L.length;t++)n=L[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function M(e){this.src=e,this.g={},this.h=0}function D(e,t){const n=t.type;if(n in e.g){var r,o=e.g[n],i=Array.prototype.indexOf.call(o,t,void 0);(r=i>=0)&&Array.prototype.splice.call(o,i,1),r&&(R(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function z(e,t,n,r){for(let o=0;o<e.length;++o){const i=e[o];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return o}return-1}M.prototype.add=function(e,t,n,r,o){const i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);const s=z(e,t,r,o);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new _(t,this.src,i,!!r,o)).fa=n,e.push(t)),t};var F="closure_lm_"+(1e6*Math.random()|0),V={};function B(e,t,n,r,o){if(r&&r.once)return q(e,t,n,r,o);if(Array.isArray(t)){for(let i=0;i<t.length;i++)B(e,t[i],n,r,o);return null}return n=Y(n),e&&e[j]?e.J(t,n,s(r)?!!r.capture:!!r,o):U(e,t,n,!1,r,o)}function U(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");const a=s(o)?!!o.capture:!!o;let l=Q(e);if(l||(e[F]=l=new M(e)),(n=l.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=K;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)C||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(G(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,o){if(Array.isArray(t)){for(let i=0;i<t.length;i++)q(e,t[i],n,r,o);return null}return n=Y(n),e&&e[j]?e.K(t,n,s(r)?!!r.capture:!!r,o):U(e,t,n,!0,r,o)}function W(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)W(e,t[i],n,r,o);else r=s(r)?!!r.capture:!!r,n=Y(n),e&&e[j]?(e=e.i,(i=String(t).toString())in e.g&&((n=z(t=e.g[i],n,r,o))>-1&&(R(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[i],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,n,r,o)),(n=e>-1?t[e]:null)&&H(n))}function H(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[j])D(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(G(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(D(n,e),0==n.h&&(n.src=null,t[F]=null)):R(e)}}}function G(e){return e in V?V[e]:V[e]="on"+e}function K(e,t){if(e.da)e=!0;else{t=new I(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&H(e),e=n.call(r,t)}return e}function Q(e){return(e=e[F])instanceof M?e:null}var X="__closure_events_fn_"+(1e9*Math.random()>>>0);function Y(e){return"function"===typeof e?e:(e[X]||(e[X]=function(t){return e.handleEvent(t)}),e[X])}function $(){k.call(this),this.i=new M(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var o=t;O(t=new E(r,e),o)}let i,s;if(o=!0,n)for(s=n.length-1;s>=0;s--)i=t.g=n[s],o=Z(i,r,!0,t)&&o;if(i=t.g=e,o=Z(i,r,!0,t)&&o,o=Z(i,r,!1,t)&&o,n)for(s=0;s<n.length;s++)i=t.g=n[s],o=Z(i,r,!1,t)&&o}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let o=!0;for(let i=0;i<t.length;++i){const s=t[i];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&D(e.i,s),o=!1!==t.call(n,r)&&o}}return o&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:i.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u($,k),$.prototype[j]=!0,$.prototype.removeEventListener=function(e,t,n,r){W(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)R(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends k{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){k.call(this),this.h=e,this.g={}}u(ne,k);var re=[];function oe(e){P(e.g,function(e,t){this.g.hasOwnProperty(t)&&H(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),oe(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ie=i.JSON.stringify,se=i.JSON.parse,ae=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){E.call(this,"d")}function he(){E.call(this,"c")}u(de,E),u(he,E);var pe={},fe=null;function me(){return fe=fe||new $}function ge(e){E.call(this,pe.Ia,e)}function ve(e){const t=me();J(t,new ge(t))}function ye(e,t){E.call(this,pe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();J(t,new ye(t,e))}function xe(e,t){E.call(this,pe.Ja,e),this.size=t}function we(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Se(){this.g=!0}function ke(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const i=JSON.parse(t);if(i)for(e=0;e<i.length;e++)if(Array.isArray(i[e])){var n=i[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(let e=1;e<r.length;e++)r[e]=""}}}return ie(i)}catch(i){return t}}(e,n)+(r?" "+r:"")})}pe.Ia="serverreachability",u(ge,E),pe.STAT_EVENT="statevent",u(ye,E),pe.Ja="timingevent",u(xe,E),Se.prototype.ua=function(){this.g=!1},Se.prototype.info=function(){};var Ee,Ce={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ae={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ie(){}function je(e){return encodeURIComponent(String(e))}function Te(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _e(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}u(Ie,le),Ie.prototype.g=function(){return new XMLHttpRequest},Ee=new Ie;var Pe={},Ne={};function Le(e,t,n){e.M=1,e.A=it(et(t)),e.u=n,e.R=!0,Oe(e,null)}function Oe(e,t){e.F=Date.now(),ze(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Re,e.g=sn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var o="readystatechange";Array.isArray(o)||(o&&(re[0]=o.toString()),o=re);for(let i=0;i<o.length;i++){const e=B(n,o[i],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?N(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,o,i){e.info(function(){if(e.g)if(i){var s="",a=i.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Me(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function De(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ne:(n=Number(t.substring(n,r)),isNaN(n)?Pe:(r+=1)+n>t.length?Ne:(t=t.slice(r,r+n),e.C=r+n,t))}function ze(e){e.T=Date.now()+e.H,Fe(e,e.H)}function Fe(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=we(l(e.aa,e),t)}function Ve(e){e.D&&(i.clearTimeout(e.D),e.D=null)}function Be(e){0==e.j.I||e.K||en(e.j,e)}function Ue(e){Ve(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,oe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Qe(n.h,e)))if(!e.L&&Qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),qt(n)}Yt(n),be(18)}}else n.xa=o[1],0<n.xa-n.K&&o[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=we(l(n.Va,n),6e3));Ke(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!A(t))for(o=n.Ba.g.parse(t),t=0;t<o.length;t++){let l=o[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const o=l[4];null!=o&&(n.za=o,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(Xe(i,i.h),i.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,ot(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=on(r,r.L?r.ba:null,r.W),s.L){Ye(r.h,s);var a=s,c=r.O;c&&(a.H=c),a.D&&(Ve(a),ze(a)),r.g=s}else Xt(r);n.i.length>0&&Ht(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Ut(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ve()}catch(u){}}_e.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==zt(e)?t.j():this.Y(e)},_e.prototype.Y=function(e){try{if(e==this.g)e:{const l=zt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||4!=l||7==c||ve(),Ve(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Me(e))return e.g.la();const t=Ft(e.g);if(""===t)return"";let n="";const r=t.length,o=4==zt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Ue(e),Be(e),"";e.h.i=new i.TextDecoder}for(let i=0;i<r;i++)e.h.h=!0,n+=e.h.i.decode(t[i],{stream:!(o&&i==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,o,i,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+i+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,o=this.g;if((r=o.g?o.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,be(12),Ue(this),Be(this);break e}ke(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=De(this,n),t==Ne){4==l&&(this.m=4,be(14),e=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}if(t==Pe){this.m=4,be(15),ke(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}ke(this.i,this.l,t,null),qe(this,t)}if(Me(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(a),a.P=!0,be(11))}}else ke(this.i,this.l,n,"[Invalid Chunked Response]"),Ue(this),Be(this)}else ke(this.i,this.l,n,null),qe(this,n);4==l&&Ue(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&zt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(A(e[r]))continue;var n=Te(e[r]);const o=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[o]||[];t[o]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Ue(this),Be(this)}}}catch(Ah){}},_e.prototype.cancel=function(){this.K=!0,Ue(this)},_e.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),be(17)),Ue(this),this.m=2,Be(this)):Fe(this,this.T-e)};var We=class{constructor(e,t){this.g=e,this.map=t}};function He(e){this.l=e||10,i.PerformanceNavigationTiming?e=(e=i.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ge(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ke(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Xe(e,t){e.g?e.g.add(t):e.h=t}function Ye(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}He.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,xt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=st(t[2]||""),this.g=st(t[3]||"",!0),nt(this,t[4]),this.h=st(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=st(t[7]||"")):(this.l=!1,this.i=new ft(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?st(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof ft?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,ht)),e.i=new ft(t,e.l))}function ot(e,t,n){e.i.set(t,n)}function it(e){return ot(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function st(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,ct,!0),"@"),e.push(je(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,pt)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var o=t.h.lastIndexOf("/");-1!=o&&(r=t.h.slice(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(-1!=o.indexOf("./")||-1!=o.indexOf("/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");const e=[];for(let t=0;t<o.length;){const n=o[t++];"."==n?r&&t==o.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==o.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=o}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,xt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,pt=/#/g;function ft(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let o,i=null;r>=0?(o=e[n].substring(0,r),i=e[n].substring(r+1)):o=e[n],t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=wt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vt(e,t){return mt(e),t=wt(e,t),e.g.has(t)}function yt(e,t){mt(e);let n=[];if("string"===typeof t)vt(e,t)&&(n=n.concat(e.g.get(wt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(wt(e,t),h(n)),e.h+=n.length)}function xt(e){const t=new ft;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function wt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,n,r,o){try{o&&(o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null),r(n)}catch(i){}}function kt(){this.g=new ae}function Et(e){this.i=e.Sb||null,this.h=e.ab||!1}function Ct(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function At(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function It(e){e.readyState=4,e.l=null,e.j=null,e.B=null,jt(e)}function jt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Tt(e){let t="";return P(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function _t(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Tt(n),"string"===typeof e?null!=n&&je(n):ot(e,t,n))}function Rt(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=ft.prototype).add=function(e,t){mt(this),this.i=null,e=wt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,vt(this,e=wt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=yt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const o=je(n);n=yt(this,n);for(let t=0;t<n.length;t++){let r=o;""!==n[t]&&(r+="="+je(n[t])),e.push(r)}}return this.i=e.join("&")},u(Et,le),Et.prototype.g=function(){return new Ct(this.i,this.h)},u(Ct,$),(e=Ct.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,jt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||i).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,It(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jt(this)),this.g&&(this.readyState=3,jt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;At(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?It(this):jt(this),3==this.readyState&&At(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,It(this))},e.Na=function(e){this.g&&(this.response=e,It(this))},e.ga=function(){this.g&&It(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ct.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Rt,$);var Pt=/^https?$/i,Nt=["POST","PUT"];function Lt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Ot(e),Dt(e)}function Ot(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Mt(e){if(e.h&&"undefined"!=typeof o)if(e.v&&4==zt(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==zt(e)){e.h=!1;try{const o=e.ca();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){let t=String(e.D).match(Je)[1]||null;!t&&i.self&&i.self.location&&(t=i.self.location.protocol.slice(0,-1)),r=!Pt.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var s=zt(e)>2?e.g.statusText:""}catch(a){s=""}e.l=s+" ["+e.ca()+"]",Ot(e)}}finally{Dt(e)}}}function Dt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function zt(e){return e.g?e.g.readyState:0}function Ft(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bt(e){this.za=0,this.i=[],this.j=new Se,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vt("baseRetryDelayMs",5e3,e),this.Za=Vt("retryDelaySeedMs",1e4,e),this.Ta=Vt("forwardChannelMaxRetries",2,e),this.va=Vt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new He(e&&e.concurrentRequestLimit),this.Ba=new kt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Ut(e){if(Wt(e),3==e.I){var t=e.V++,n=et(e.J);if(ot(n,"SID",e.M),ot(n,"RID",t),ot(n,"TYPE","terminate"),Kt(e,n),(t=new _e(e,e.j,t)).M=2,t.A=it(et(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.A,n=!0),n||(t.g=sn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),ze(t)}rn(e)}function qt(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function Wt(e){qt(e),e.v&&(i.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&i.clearTimeout(e.m),e.m=null)}function Ht(e){if(!Ge(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||w(),b||(y(),b=!0),x.add(t,e),e.D=0}}function Gt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);ot(r,"SID",e.M),ot(r,"RID",n),ot(r,"AID",e.K),Kt(e,r),e.u&&e.o&&_t(r,e.u,e.o),n=new _e(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Qt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Xe(e.h,n),Le(n,r,t)}function Kt(e,t){e.H&&P(e.H,function(e,n){ot(t,n,e)}),e.l&&P({},function(e,n){ot(t,n,e)})}function Qt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var o=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=o[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var i=o[c].g;const n=o[c].map;if((i-=t)<0)t=Math.max(0,o[c].g-100),l=!1;else try{i="req"+i+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;s(n)&&(r=ie(n)),e.push(i+t+"="+encodeURIComponent(r))}}catch(Qd){throw e.push(i+"type="+encodeURIComponent("_badmap")),Qd}}catch(Qd){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function Xt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||w(),b||(y(),b=!0),x.add(t,e),e.A=0}}function Yt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=we(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(i.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new _e(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);ot(t,"RID","rpc"),ot(t,"SID",e.M),ot(t,"AID",e.K),ot(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&ot(t,"TO",e.ia),ot(t,"TYPE","xmlhttp"),Kt(e,t),e.u&&e.o&&_t(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=it(et(t)),n.u=null,n.R=!0,Oe(n,e)}function Zt(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),$t(e),e.g=null;var r=2}else{if(!Qe(e.h,t))return;n=t.G,Ye(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var o=e.D;J(r=me(),new xe(r,n)),Ht(e)}else Xt(e);else if(3==(o=t.m)||0==o&&t.X>0||!(1==r&&function(e,t){return!(Ke(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=we(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Yt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),o){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||tt(r,"https"),it(r),t?function(e,t){const n=new Se;if(i.Image){const r=new Image;r.onload=c(St,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(St,n,"TestLoadImage: error",!1,t,r),r.onabort=c(St,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(St,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Se;const n=new AbortController,r=setTimeout(()=>{n.abort(),St(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?St(0,0,!0,t):St(0,0,!1,t)}).catch(()=>{clearTimeout(r),St(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),Wt(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(p(e.ja,t),p(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function on(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),o&&nt(e,o),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&ot(r,n,t),ot(r,"VER",e.ka),Kt(e,r),r}function sn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Rt(new Et({ab:n})):new Rt(e.ma)).Fa(e.L),t}function an(){}function ln(){}function cn(e,t){$.call(this),this.g=new Bt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!A(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hn(this)}function un(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dn(){he.call(this),this.status=1}function hn(e){this.g=e}(e=Rt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ee.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Lt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=i.FormData&&e instanceof i.FormData,!(Array.prototype.indexOf.call(Nt,t,void 0)>=0)||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){Lt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Dt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dt(this,!0)),Rt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Mt(this):this.Xa())},e.Xa=function(){Mt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return zt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),se(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Bt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=on(this,null,this.W),Ht(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const o=new _e(this,this.j,e);let i=this.o;if(this.U&&(i?(i=N(i),O(i,this.U)):i=this.U),null!==this.u||this.R||(o.J=i,i=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qt(this,o,t),ot(n=et(this.J),"RID",e),ot(n,"CVER",22),this.G&&ot(n,"X-HTTP-Session-Id",this.G),Kt(this,n),i&&(this.R?t="headers="+je(Tt(i))+"&"+t:this.u&&_t(n,this.u,i)),Xe(this.h,o),this.Ra&&ot(n,"TYPE","init"),this.S?(ot(n,"$req",t),ot(n,"SID","null"),o.U=!0,Le(o,n,null)):Le(o,n,t),this.I=2}}else 3==this.I&&(e?Gt(this,e):0==this.i.length||Ge(this.h)||Gt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=we(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),qt(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,qt(this),Yt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=an.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,$),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Ut(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ie(e),e=n);t.i.push(new We(t.Ya++,e)),3==t.I&&Ht(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Ut(this.g),delete this.g,cn.Z.N.call(this)},u(un,de),u(dn,he),u(hn,an),hn.prototype.ra=function(){J(this.g,"a")},hn.prototype.qa=function(e){J(this.g,new un(e))},hn.prototype.pa=function(e){J(this.g,new dn)},hn.prototype.oa=function(){J(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Wd=Gd.createWebChannelTransport=function(){return new ln},qd=Gd.getStatEventTarget=function(){return me()},Ud=Gd.Event=pe,Bd=Gd.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,Vd=Gd.ErrorCode=Ce,Ae.COMPLETE="complete",Fd=Gd.EventType=Ae,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",$.prototype.listen=$.prototype.J,zd=Gd.WebChannel=ce,Gd.FetchXmlHttpFactory=Et,Rt.prototype.listenOnce=Rt.prototype.K,Rt.prototype.getLastError=Rt.prototype.Ha,Rt.prototype.getLastErrorCode=Rt.prototype.ya,Rt.prototype.getStatus=Rt.prototype.ca,Rt.prototype.getResponseJson=Rt.prototype.La,Rt.prototype.getResponseText=Rt.prototype.la,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Fa,Dd=Gd.XhrIo=Rt}).apply("undefined"!==typeof Hd?Hd:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Kd="@firebase/firestore",Qd="4.9.2";class Xd{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xd.UNAUTHENTICATED=new Xd(null),Xd.GOOGLE_CREDENTIALS=new Xd("google-credentials-uid"),Xd.FIRST_PARTY=new Xd("first-party-uid"),Xd.MOCK_USER=new Xd("mock-user");let Yd="12.3.0";const $d=new Rs("@firebase/firestore");function Jd(){return $d.logLevel}function Zd(e){if($d.logLevel<=As.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(nh);$d.debug("Firestore (".concat(Yd,"): ").concat(e),...o)}}function eh(e){if($d.logLevel<=As.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(nh);$d.error("Firestore (".concat(Yd,"): ").concat(e),...o)}}function th(e){if($d.logLevel<=As.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(nh);$d.warn("Firestore (".concat(Yd,"): ").concat(e),...o)}}function nh(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function rh(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,oh(e,r,n)}function oh(e,t,n){let r="FIRESTORE (".concat(Yd,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw eh(r),new Error(r)}function ih(e,t,n,r){let o="Unexpected state";"string"==typeof n?o=n:r=n,e||oh(t,o,r)}function sh(e,t){return e}const ah={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lh extends ls{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ch{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class uh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class dh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xd.UNAUTHENTICATED))}shutdown(){}}class hh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ph{constructor(e){this.t=e,this.currentUser=Xd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ih(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let o=new ch;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ch,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=o;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{Zd("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Zd("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ch)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Zd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ih("string"==typeof t.accessToken,31837,{l:t}),new uh(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ih(null===e||"string"==typeof e,2055,{h:e}),new Xd(e)}}class fh{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Xd.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mh{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new fh(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Xd.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vh{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Na(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ih(void 0===this.o,3512);const n=e=>{null!=e.error&&Zd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Zd("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Zd("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Zd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gh(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(ih("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new gh(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yh(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class bh{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=yh(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function xh(e,t){return e<t?-1:e>t?1:0}function wh(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),o=t.charAt(r);if(n!==o)return Eh(n)===Eh(o)?xh(n,o):Eh(n)?1:-1}return xh(e.length,t.length)}const Sh=55296,kh=57343;function Eh(e){const t=e.charCodeAt(0);return t>=Sh&&t<=kh}function Ch(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Ah="__name__";class Ih{constructor(e,t,n){void 0===t?t=0:t>e.length&&rh(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&rh(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ih.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ih?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Ih.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return xh(e.length,t.length)}static compareSegments(e,t){const n=Ih.isNumericId(e),r=Ih.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Ih.extractNumericId(e).compare(Ih.extractNumericId(t)):wh(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nd.fromString(e.substring(4,e.length-2))}}class jh extends Ih{construct(e,t,n){return new jh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n){if(o.indexOf("//")>=0)throw new lh(ah.INVALID_ARGUMENT,"Invalid segment (".concat(o,"). Paths must not contain // in them."));e.push(...o.split("/").filter(e=>e.length>0))}return new jh(e)}static emptyPath(){return new jh([])}}const Th=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _h extends Ih{construct(e,t,n){return new _h(e,t,n)}static isValidIdentifier(e){return Th.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_h.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ah}static keyField(){return new _h([Ah])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(0===n.length)throw new lh(ah.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new lh(ah.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new lh(ah.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(o(),r++)}if(o(),i)throw new lh(ah.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _h(t)}static emptyPath(){return new _h([])}}class Rh{constructor(e){this.path=e}static fromPath(e){return new Rh(jh.fromString(e))}static fromName(e){return new Rh(jh.fromString(e).popFirst(5))}static empty(){return new Rh(jh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return jh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rh(new jh(e.slice()))}}function Ph(e,t,n){if(!n)throw new lh(ah.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Nh(e){if(!Rh.isDocumentKey(e))throw new lh(ah.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Lh(e){if(Rh.isDocumentKey(e))throw new lh(ah.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Oh(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Mh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":rh(12329,{type:typeof e})}function Dh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new lh(ah.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mh(e);throw new lh(ah.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function zh(e,t){if(t<=0)throw new lh(ah.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function Fh(e,t){const n={typeString:e};return t&&(n.value=t),n}function Vh(e,t){if(!Oh(e))throw new lh(ah.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(o&&typeof s!==o){n="JSON field '".concat(r,"' must be a ").concat(o,".");break}if(void 0!==i&&s!==i.value){n="Expected '".concat(r,"' field to equal '").concat(i.value,"'");break}}if(n)throw new lh(ah.INVALID_ARGUMENT,n);return!0}const Bh=-62135596800,Uh=1e6;class qh{static now(){return qh.fromMillis(Date.now())}static fromDate(e){return qh.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Uh);return new qh(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new lh(ah.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new lh(ah.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Bh)throw new lh(ah.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lh(ah.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uh}_compareTo(e){return this.seconds===e.seconds?xh(this.nanoseconds,e.nanoseconds):xh(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qh._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vh(e,qh._jsonSchema))return new qh(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Bh;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qh._jsonSchemaVersion="firestore/timestamp/1.0",qh._jsonSchema={type:Fh("string",qh._jsonSchemaVersion),seconds:Fh("number"),nanoseconds:Fh("number")};class Wh{static fromTimestamp(e){return new Wh(e)}static min(){return new Wh(new qh(0,0))}static max(){return new Wh(new qh(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hh=-1;class Gh{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Gh.UNKNOWN_ID=-1;function Kh(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=Wh.fromTimestamp(1e9===r?new qh(n+1,0):new qh(n,r));return new Xh(o,Rh.empty(),t)}function Qh(e){return new Xh(e.readTime,e.key,Hh)}class Xh{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Xh(Wh.min(),Rh.empty(),Hh)}static max(){return new Xh(Wh.max(),Rh.empty(),Hh)}}function Yh(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Rh.comparator(e.documentKey,t.documentKey),0!==n?n:xh(e.largestBatchId,t.largestBatchId))}const $h="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Zh(e){if(e.code!==ah.FAILED_PRECONDITION||e.message!==$h)throw e;Zd("LocalStore","Unexpectedly lost primary lease")}class ep{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rh(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ep((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ep?t:ep.resolve(t)}catch(e){return ep.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ep.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ep.reject(t)}static resolve(e){return new ep((t,n)=>{t(e)})}static reject(e){return new ep((t,n)=>{n(e)})}static waitFor(e){return new ep((t,n)=>{let r=0,o=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++o,i&&o===r&&t()},e=>n(e))}),i=!0,o===r&&t()})}static or(e){let t=ep.resolve(!1);for(const n of e)t=t.next(e=>e?ep.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new ep((n,r)=>{const o=e.length,i=new Array(o);let s=0;for(let a=0;a<o;a++){const l=a;t(e[l]).next(e=>{i[l]=e,++s,s===o&&n(i)},e=>r(e))}})}static doWhile(e,t){return new ep((n,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):n()};o()})}}function tp(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function np(e){return"IndexedDbTransactionError"===e.name}class rp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rp.ce=-1;const op=-1;function ip(e){return null==e}function sp(e){return 0===e&&1/e==-1/0}function ap(e){return"number"==typeof e&&Number.isInteger(e)&&!sp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const lp="\x01";function cp(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=dp(t)),t=up(e.get(n),t);return dp(t)}function up(e,t){let n=t;const r=e.length;for(let o=0;o<r;o++){const t=e.charAt(o);switch(t){case"\0":n+="\x01\x10";break;case lp:n+="\x01\x11";break;default:n+=t}}return n}function dp(e){return e+lp+"\x01"}const hp="remoteDocuments",pp="owner",fp="mutationQueues",mp="mutations";const gp="documentMutations",vp="remoteDocumentsV14",yp="remoteDocumentGlobal",bp="targets",xp="targetDocuments",wp="targetGlobal",Sp="collectionParents",kp="clientMetadata",Ep="bundles",Cp="namedQueries",Ap="indexConfiguration",Ip="indexState",jp="indexEntries",Tp="documentOverlays",_p="globals",Rp=[fp,mp,gp,hp,bp,pp,wp,xp,kp,yp,Sp,Ep,Cp],Pp=[fp,mp,gp,vp,bp,pp,wp,xp,kp,yp,Sp,Ep,Cp,Tp],Np=Pp,Lp=[...Np,Ap,Ip,jp];function Op(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Mp(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Dp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class zp{constructor(e,t){this.comparator=e,this.root=t||Vp.EMPTY}insert(e,t){return new zp(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vp.BLACK,null,null))}remove(e){return new zp(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vp.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fp(this.root,e,this.comparator,!0)}}class Fp{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vp{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:Vp.RED,this.left=null!=r?r:Vp.EMPTY,this.right=null!=o?o:Vp.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new Vp(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Vp.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Vp.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vp.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vp.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rh(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rh(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw rh(27949);return e+(this.isRed()?0:1)}}Vp.EMPTY=null,Vp.RED=!0,Vp.BLACK=!1,Vp.EMPTY=new class{constructor(){this.size=0}get key(){throw rh(57766)}get value(){throw rh(16141)}get color(){throw rh(16727)}get left(){throw rh(29726)}get right(){throw rh(36894)}copy(e,t,n,r,o){return this}insert(e,t,n){return new Vp(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bp{constructor(e){this.comparator=e,this.data=new zp(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Up(this.data.getIterator())}getIteratorFrom(e){return new Up(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Bp))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bp(this.comparator);return t.data=e,t}}class Up{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qp{constructor(e){this.fields=e,e.sort(_h.comparator)}static empty(){return new qp([])}unionWith(e){let t=new Bp(_h.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new qp(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ch(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Wp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Hp{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Wp("Invalid base64 string: "+e):e}}(e);return new Hp(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Hp(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xh(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hp.EMPTY_BYTE_STRING=new Hp("");const Gp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kp(e){if(ih(!!e,39018),"string"==typeof e){let t=0;const n=Gp.exec(e);if(ih(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Qp(e.seconds),nanos:Qp(e.nanos)}}function Qp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Xp(e){return"string"==typeof e?Hp.fromBase64String(e):Hp.fromUint8Array(e)}const Yp="server_timestamp",$p="__type__",Jp="__previous_value__",Zp="__local_write_time__";function ef(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[$p])||void 0===t?void 0:t.stringValue)===Yp}function tf(e){const t=e.mapValue.fields[Jp];return ef(t)?tf(t):t}function nf(e){const t=Kp(e.mapValue.fields[Zp].timestampValue);return new qh(t.seconds,t.nanos)}class rf{constructor(e,t,n,r,o,i,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const of="(default)";class sf{constructor(e,t){this.projectId=e,this.database=t||of}static empty(){return new sf("","")}get isDefaultDatabase(){return this.database===of}isEqual(e){return e instanceof sf&&e.projectId===this.projectId&&e.database===this.database}}const af="__type__",lf="__max__",cf={mapValue:{fields:{__type__:{stringValue:lf}}}},uf="__vector__",df="value";function hf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ef(e)?4:Tf(e)?9007199254740991:If(e)?10:11:rh(28295,{value:e})}function pf(e,t){if(e===t)return!0;const n=hf(e);if(n!==hf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return nf(e).isEqual(nf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Kp(e.timestampValue),r=Kp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Xp(e.bytesValue).isEqual(Xp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Qp(e.geoPointValue.latitude)===Qp(t.geoPointValue.latitude)&&Qp(e.geoPointValue.longitude)===Qp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Qp(e.integerValue)===Qp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Qp(e.doubleValue),r=Qp(t.doubleValue);return n===r?sp(n)===sp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ch(e.arrayValue.values||[],t.arrayValue.values||[],pf);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Op(n)!==Op(r))return!1;for(const o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!pf(n[o],r[o])))return!1;return!0}(e,t);default:return rh(52216,{left:e})}}function ff(e,t){return void 0!==(e.values||[]).find(e=>pf(e,t))}function mf(e,t){if(e===t)return 0;const n=hf(e),r=hf(t);if(n!==r)return xh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xh(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Qp(e.integerValue||e.doubleValue),r=Qp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return gf(e.timestampValue,t.timestampValue);case 4:return gf(nf(e),nf(t));case 5:return wh(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Xp(e),r=Xp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let o=0;o<n.length&&o<r.length;o++){const e=xh(n[o],r[o]);if(0!==e)return e}return xh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=xh(Qp(e.latitude),Qp(t.latitude));return 0!==n?n:xh(Qp(e.longitude),Qp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return vf(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,o,i;const s=e.fields||{},a=t.fields||{},l=null===(n=s[df])||void 0===n?void 0:n.arrayValue,c=null===(r=a[df])||void 0===r?void 0:r.arrayValue,u=xh((null===l||void 0===l||null===(o=l.values)||void 0===o?void 0:o.length)||0,(null===c||void 0===c||null===(i=c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:vf(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===cf.mapValue&&t===cf.mapValue)return 0;if(e===cf.mapValue)return 1;if(t===cf.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),o=t.fields||{},i=Object.keys(o);r.sort(),i.sort();for(let s=0;s<r.length&&s<i.length;++s){const e=wh(r[s],i[s]);if(0!==e)return e;const t=mf(n[r[s]],o[i[s]]);if(0!==t)return t}return xh(r.length,i.length)}(e.mapValue,t.mapValue);default:throw rh(23264,{he:n})}}function gf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xh(e,t);const n=Kp(e),r=Kp(t),o=xh(n.seconds,r.seconds);return 0!==o?o:xh(n.nanos,r.nanos)}function vf(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const e=mf(n[o],r[o]);if(e)return e}return xh(n.length,r.length)}function yf(e){return bf(e)}function bf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Kp(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Xp(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Rh.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=bf(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const o of t)r?r=!1:n+=",",n+="".concat(o,":").concat(bf(e.fields[o]));return n+"}"}(e.mapValue):rh(61005,{value:e})}function xf(e){switch(hf(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=tf(e);return t?16+xf(t):16;case 5:return 2*e.stringValue.length;case 6:return Xp(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+xf(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Mp(e.fields,(e,n)=>{t+=e.length+xf(n)}),t}(e.mapValue);default:throw rh(13486,{value:e})}}function wf(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Sf(e){return!!e&&"integerValue"in e}function kf(e){return!!e&&"arrayValue"in e}function Ef(e){return!!e&&"nullValue"in e}function Cf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Af(e){return!!e&&"mapValue"in e}function If(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[af])||void 0===t?void 0:t.stringValue)===uf}function jf(e){if(e.geoPointValue)return{geoPointValue:l({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:l({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Mp(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=jf(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jf(e.arrayValue.values[n]);return t}return l({},e)}function Tf(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===lf}class _f{constructor(e){this.value=e}static empty(){return new _f({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Af(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jf(t)}setAll(e){let t=_h.emptyPath(),n={},r=[];e.forEach((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=o.popLast()}e?n[o.lastSegment()]=jf(e):r.push(o.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());Af(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pf(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Af(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Mp(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new _f(jf(this.value))}}function Rf(e){const t=[];return Mp(e.fields,(e,n)=>{const r=new _h([e]);if(Af(n)){const e=Rf(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new qp(t)}class Pf{constructor(e,t,n,r,o,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Pf(e,0,Wh.min(),Wh.min(),Wh.min(),_f.empty(),0)}static newFoundDocument(e,t,n,r){return new Pf(e,1,t,Wh.min(),n,r,0)}static newNoDocument(e,t){return new Pf(e,2,t,Wh.min(),Wh.min(),_f.empty(),0)}static newUnknownDocument(e,t){return new Pf(e,3,t,Wh.min(),Wh.min(),_f.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_f.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_f.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wh.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pf&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pf(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Nf{constructor(e,t){this.position=e,this.inclusive=t}}function Lf(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const i=t[o],s=e.position[o];if(r=i.field.isKeyField()?Rh.comparator(Rh.fromName(s.referenceValue),n.key):mf(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Of(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!pf(e.position[n],t.position[n]))return!1;return!0}class Mf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Df(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class zf{}class Ff extends zf{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Kf(e,t,n):"array-contains"===t?new $f(e,n):"in"===t?new Jf(e,n):"not-in"===t?new Zf(e,n):"array-contains-any"===t?new em(e,n):new Ff(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Qf(e,n):new Xf(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(mf(t,this.value)):null!==t&&hf(this.value)===hf(t)&&this.matchesComparison(mf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rh(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vf extends zf{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Vf(e,t)}matches(e){return Bf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bf(e){return"and"===e.op}function Uf(e){return qf(e)&&Bf(e)}function qf(e){for(const t of e.filters)if(t instanceof Vf)return!1;return!0}function Wf(e){if(e instanceof Ff)return e.field.canonicalString()+e.op.toString()+yf(e.value);if(Uf(e))return e.filters.map(e=>Wf(e)).join(",");{const t=e.filters.map(e=>Wf(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Hf(e,t){return e instanceof Ff?function(e,t){return t instanceof Ff&&e.op===t.op&&e.field.isEqual(t.field)&&pf(e.value,t.value)}(e,t):e instanceof Vf?function(e,t){return t instanceof Vf&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Hf(n,t.filters[r]),!0)}(e,t):void rh(19439)}function Gf(e){return e instanceof Ff?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(yf(e.value))}(e):e instanceof Vf?function(e){return e.op.toString()+" {"+e.getFilters().map(Gf).join(" ,")+"}"}(e):"Filter"}class Kf extends Ff{constructor(e,t,n){super(e,t,n),this.key=Rh.fromName(n.referenceValue)}matches(e){const t=Rh.comparator(e.key,this.key);return this.matchesComparison(t)}}class Qf extends Ff{constructor(e,t){super(e,"in",t),this.keys=Yf("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Xf extends Ff{constructor(e,t){super(e,"not-in",t),this.keys=Yf("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Yf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Rh.fromName(e.referenceValue))}class $f extends Ff{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kf(t)&&ff(t.arrayValue,this.value)}}class Jf extends Ff{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ff(this.value.arrayValue,t)}}class Zf extends Ff{constructor(e,t){super(e,"not-in",t)}matches(e){if(ff(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!ff(this.value.arrayValue,t)}}class em extends Ff{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>ff(this.value.arrayValue,e))}}class tm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=s,this.Te=null}}function nm(e){return new tm(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function rm(e){const t=sh(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Wf(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),ip(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>yf(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>yf(e)).join(",")),t.Te=e}return t.Te}function om(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Df(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Hf(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Of(e.startAt,t.startAt)&&Of(e.endAt,t.endAt)}function im(e){return Rh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class sm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function am(e,t,n,r,o,i,s,a){return new sm(e,t,n,r,o,i,s,a)}function lm(e){return new sm(e)}function cm(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function um(e){return null!==e.collectionGroup}function dm(e){const t=sh(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Bp(_h.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Mf(r,n))}),e.has(_h.keyField().canonicalString())||t.Ie.push(new Mf(_h.keyField(),n))}return t.Ie}function hm(e){const t=sh(e);return t.Ee||(t.Ee=pm(t,dm(e))),t.Ee}function pm(e,t){if("F"===e.limitType)return nm(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Mf(e.field,t)});const n=e.endAt?new Nf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Nf(e.startAt.position,e.startAt.inclusive):null;return nm(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function fm(e,t){const n=e.filters.concat([t]);return new sm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function mm(e,t,n){return new sm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function gm(e,t){return om(hm(e),hm(t))&&e.limitType===t.limitType}function vm(e){return"".concat(rm(hm(e)),"|lt:").concat(e.limitType)}function ym(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Gf(e)).join(", "),"]")),ip(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>yf(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>yf(e)).join(",")),"Target(".concat(t,")")}(hm(e)),"; limitType=").concat(e.limitType,")")}function bm(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Rh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of dm(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Lf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,dm(e),t))&&!(e.endAt&&!function(e,t,n){const r=Lf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,dm(e),t))}(e,t)}function xm(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function wm(e){return(t,n)=>{let r=!1;for(const o of dm(e)){const e=Sm(o,t,n);if(0!==e)return e;r=r||o.field.isKeyField()}return 0}}function Sm(e,t,n){const r=e.field.isKeyField()?Rh.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),o=n.data.field(e);return null!==r&&null!==o?mf(r,o):rh(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return rh(19790,{direction:e.dir})}}class km{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Mp(this.inner,(t,n)=>{for(const[r,o]of n)e(r,o)})}isEmpty(){return Dp(this.inner)}size(){return this.innerSize}}const Em=new zp(Rh.comparator);function Cm(){return Em}const Am=new zp(Rh.comparator);function Im(){let e=Am;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.insert(o.key,o);return e}function jm(e){let t=Am;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Tm(){return Rm()}function _m(){return Rm()}function Rm(){return new km(e=>e.toString(),(e,t)=>e.isEqual(t))}const Pm=new zp(Rh.comparator),Nm=new Bp(Rh.comparator);function Lm(){let e=Nm;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.add(o);return e}const Om=new Bp(xh);function Mm(){return Om}function Dm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sp(t)?"-0":t}}function zm(e){return{integerValue:""+e}}function Fm(e,t){return ap(t)?zm(t):Dm(e,t)}class Vm{constructor(){this._=void 0}}function Bm(e,t,n){return e instanceof Wm?function(e,t){const n={fields:{[$p]:{stringValue:Yp},[Zp]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ef(t)&&(t=tf(t)),t&&(n.fields[Jp]=t),{mapValue:n}}(n,t):e instanceof Hm?Gm(e,t):e instanceof Km?Qm(e,t):function(e,t){const n=qm(e,t),r=Ym(n)+Ym(e.Ae);return Sf(n)&&Sf(e.Ae)?zm(r):Dm(e.serializer,r)}(e,t)}function Um(e,t,n){return e instanceof Hm?Gm(e,t):e instanceof Km?Qm(e,t):n}function qm(e,t){return e instanceof Xm?function(e){return Sf(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Wm extends Vm{}class Hm extends Vm{constructor(e){super(),this.elements=e}}function Gm(e,t){const n=$m(t);for(const r of e.elements)n.some(e=>pf(e,r))||n.push(r);return{arrayValue:{values:n}}}class Km extends Vm{constructor(e){super(),this.elements=e}}function Qm(e,t){let n=$m(t);for(const r of e.elements)n=n.filter(e=>!pf(e,r));return{arrayValue:{values:n}}}class Xm extends Vm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ym(e){return Qp(e.integerValue||e.doubleValue)}function $m(e){return kf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Jm{constructor(e,t){this.field=e,this.transform=t}}class Zm{constructor(e,t){this.version=e,this.transformResults=t}}class eg{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new eg}static exists(e){return new eg(void 0,e)}static updateTime(e){return new eg(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ng{}function rg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new pg(e.key,eg.none()):new lg(e.key,e.data,eg.none());{const n=e.data,r=_f.empty();let o=new Bp(_h.comparator);for(let e of t.fields)if(!o.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),o=o.add(e)}return new cg(e.key,r,new qp(o.toArray()),eg.none())}}function og(e,t,n){e instanceof lg?function(e,t,n){const r=e.value.clone(),o=dg(e.fieldTransforms,t,n.transformResults);r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof cg?function(e,t,n){if(!tg(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=dg(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(ug(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ig(e,t,n,r){return e instanceof lg?function(e,t,n,r){if(!tg(e.precondition,t))return n;const o=e.value.clone(),i=hg(e.fieldTransforms,r,t);return o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null}(e,t,n,r):e instanceof cg?function(e,t,n,r){if(!tg(e.precondition,t))return n;const o=hg(e.fieldTransforms,r,t),i=t.data;return i.setAll(ug(e)),i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return tg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function sg(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),o=qm(r.transform,e||null);null!=o&&(null===n&&(n=_f.empty()),n.set(r.field,o))}return n||null}function ag(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ch(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Hm&&t instanceof Hm||e instanceof Km&&t instanceof Km?Ch(e.elements,t.elements,pf):e instanceof Xm&&t instanceof Xm?pf(e.Ae,t.Ae):e instanceof Wm&&t instanceof Wm}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class lg extends ng{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class cg extends ng{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ug(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function dg(e,t,n){const r=new Map;ih(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const i=e[o],s=i.transform,a=t.data.field(i.field);r.set(i.field,Um(s,a,n[o]))}return r}function hg(e,t,n){const r=new Map;for(const o of e){const e=o.transform,i=n.data.field(o.field);r.set(o.field,Bm(e,i,t))}return r}class pg extends ng{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fg extends ng{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mg{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&og(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ig(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ig(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=_m();return this.mutations.forEach(r=>{const o=e.get(r.key),i=o.overlayedDocument;let s=this.applyToLocalView(i,o.mutatedFields);s=t.has(r.key)?null:s;const a=rg(i,s);null!==a&&n.set(r.key,a),i.isValidDocument()||i.convertToNoDocument(Wh.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Lm())}isEqual(e){return this.batchId===e.batchId&&Ch(this.mutations,e.mutations,(e,t)=>ag(e,t))&&Ch(this.baseMutations,e.baseMutations,(e,t)=>ag(e,t))}}class gg{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ih(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Pm;const o=e.mutations;for(let i=0;i<o.length;i++)r=r.insert(o[i].key,n[i].version);return new gg(e,t,n,r)}}class vg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class yg{constructor(e,t){this.count=e,this.unchangedNames=t}}var bg,xg;function wg(e){switch(e){case ah.OK:return rh(64938);case ah.CANCELLED:case ah.UNKNOWN:case ah.DEADLINE_EXCEEDED:case ah.RESOURCE_EXHAUSTED:case ah.INTERNAL:case ah.UNAVAILABLE:case ah.UNAUTHENTICATED:return!1;case ah.INVALID_ARGUMENT:case ah.NOT_FOUND:case ah.ALREADY_EXISTS:case ah.PERMISSION_DENIED:case ah.FAILED_PRECONDITION:case ah.ABORTED:case ah.OUT_OF_RANGE:case ah.UNIMPLEMENTED:case ah.DATA_LOSS:return!0;default:return rh(15467,{code:e})}}function Sg(e){if(void 0===e)return eh("GRPC error has no .code"),ah.UNKNOWN;switch(e){case bg.OK:return ah.OK;case bg.CANCELLED:return ah.CANCELLED;case bg.UNKNOWN:return ah.UNKNOWN;case bg.DEADLINE_EXCEEDED:return ah.DEADLINE_EXCEEDED;case bg.RESOURCE_EXHAUSTED:return ah.RESOURCE_EXHAUSTED;case bg.INTERNAL:return ah.INTERNAL;case bg.UNAVAILABLE:return ah.UNAVAILABLE;case bg.UNAUTHENTICATED:return ah.UNAUTHENTICATED;case bg.INVALID_ARGUMENT:return ah.INVALID_ARGUMENT;case bg.NOT_FOUND:return ah.NOT_FOUND;case bg.ALREADY_EXISTS:return ah.ALREADY_EXISTS;case bg.PERMISSION_DENIED:return ah.PERMISSION_DENIED;case bg.FAILED_PRECONDITION:return ah.FAILED_PRECONDITION;case bg.ABORTED:return ah.ABORTED;case bg.OUT_OF_RANGE:return ah.OUT_OF_RANGE;case bg.UNIMPLEMENTED:return ah.UNIMPLEMENTED;case bg.DATA_LOSS:return ah.DATA_LOSS;default:return rh(39323,{code:e})}}(xg=bg||(bg={}))[xg.OK=0]="OK",xg[xg.CANCELLED=1]="CANCELLED",xg[xg.UNKNOWN=2]="UNKNOWN",xg[xg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xg[xg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xg[xg.NOT_FOUND=5]="NOT_FOUND",xg[xg.ALREADY_EXISTS=6]="ALREADY_EXISTS",xg[xg.PERMISSION_DENIED=7]="PERMISSION_DENIED",xg[xg.UNAUTHENTICATED=16]="UNAUTHENTICATED",xg[xg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xg[xg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xg[xg.ABORTED=10]="ABORTED",xg[xg.OUT_OF_RANGE=11]="OUT_OF_RANGE",xg[xg.UNIMPLEMENTED=12]="UNIMPLEMENTED",xg[xg.INTERNAL=13]="INTERNAL",xg[xg.UNAVAILABLE=14]="UNAVAILABLE",xg[xg.DATA_LOSS=15]="DATA_LOSS";let kg=null;function Eg(){return new TextEncoder}const Cg=new Nd([4294967295,4294967295],0);function Ag(e){const t=Eg().encode(e),n=new Ld;return n.update(t),new Uint8Array(n.digest())}function Ig(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Nd([n,r],0),new Nd([o,i],0)]}class jg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Tg("Invalid padding: ".concat(t));if(n<0)throw new Tg("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Tg("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Tg("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Nd.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Nd.fromNumber(n)));return 1===r.compare(Cg)&&(r=new Nd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Ag(e),[n,r]=Ig(t);for(let o=0;o<this.hashCount;o++){const e=this.ye(n,r,o);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new jg(o,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=Ag(e),[n,r]=Ig(t);for(let o=0;o<this.hashCount;o++){const e=this.ye(n,r,o);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Tg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _g{constructor(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Rg.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new _g(Wh.min(),r,new zp(xh),Cm(),Lm())}}class Rg{constructor(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Rg(n,t,Lm(),Lm(),Lm())}}class Pg{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Ng{constructor(e,t){this.targetId=e,this.Ce=t}}class Lg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hp.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Og{constructor(){this.ve=0,this.Fe=zg(),this.Me=Hp.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Lm(),t=Lm(),n=Lm();return this.Fe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:rh(38017,{changeType:o})}}),new Rg(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=zg()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ih(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Mg{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cm(),this.Je=Dg(),this.He=Dg(),this.Ye=new zp(xh)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:rh(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(im(i))if(0===n){const e=new Rh(i.path);this.et(t,e,Pf.newNoDocument(e,Wh.min()))}else ih(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var o;const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(o=kg)||void 0===o||o.lt(function(e,t,n,r,o){var i,s,a,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===o,hashCount:null!==(i=null===d||void 0===d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(s=null===d||void 0===d||null===(a=d.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==s?s:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=t;let i,s;try{i=Xp(n).toUint8Array()}catch(e){if(e instanceof Wp)return th("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new jg(i,r,o)}catch(e){return th(e instanceof Tg?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const o=this.Ge.ht(),i="projects/".concat(o.projectId,"/databases/").concat(o.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const o=this.ot(r);if(o){if(n.current&&im(o.target)){const t=new Rh(o.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Pf.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Lm();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new _g(e,t,this.Ye,this.je,n);return this.je=Cm(),this.Je=Dg(),this.He=Dg(),this.Ye=new zp(xh),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Og,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Bp(xh),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Bp(xh),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Zd("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Og),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Dg(){return new zp(Rh.comparator)}function zg(){return new zp(Rh.comparator)}const Fg={asc:"ASCENDING",desc:"DESCENDING"},Vg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bg={and:"AND",or:"OR"};class Ug{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qg(e,t){return e.useProto3Json||ip(t)?t:{value:t}}function Wg(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Hg(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Gg(e,t){return Wg(e,t.toTimestamp())}function Kg(e){return ih(!!e,49232),Wh.fromTimestamp(function(e){const t=Kp(e);return new qh(t.seconds,t.nanos)}(e))}function Qg(e,t){return Xg(e,t).canonicalString()}function Xg(e,t){const n=function(e){return new jh(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Yg(e){const t=jh.fromString(e);return ih(gv(t),10190,{key:t.toString()}),t}function $g(e,t){return Qg(e.databaseId,t.path)}function Jg(e,t){const n=Yg(t);if(n.get(1)!==e.databaseId.projectId)throw new lh(ah.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new lh(ah.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Rh(nv(n))}function Zg(e,t){return Qg(e.databaseId,t)}function ev(e){const t=Yg(e);return 4===t.length?jh.emptyPath():nv(t)}function tv(e){return new jh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function nv(e){return ih(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function rv(e,t,n){return{name:$g(e,t),fields:n.value.mapValue.fields}}function ov(e,t){let n;if(t instanceof lg)n={update:rv(e,t.key,t.value)};else if(t instanceof pg)n={delete:$g(e,t.key)};else if(t instanceof cg)n={update:rv(e,t.key,t.data),updateMask:mv(t.fieldMask)};else{if(!(t instanceof fg))return rh(16599,{Vt:t.type});n={verify:$g(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Wm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Hm)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Km)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Xm)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw rh(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Gg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:rh(27497)}(e,t.precondition)),n}function iv(e,t){return{documents:[Zg(e,t.path)]}}function sv(e,t){const n={structuredQuery:{}},r=t.path;let o;null!==t.collectionGroup?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Zg(e,o);const i=function(e){if(0!==e.length)return fv(Vf.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:hv(e.field),direction:cv(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=qg(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:o}}function av(e){let t=ev(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){ih(1===r,65062);const e=n.from[0];e.allDescendants?o=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=lv(e);return t instanceof Vf&&Uf(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new Mf(pv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ip(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Nf(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Nf(n,t)}(n.endAt)),am(t,o,s,i,a,"F",l,c)}function lv(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=pv(e.unaryFilter.field);return Ff.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=pv(e.unaryFilter.field);return Ff.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=pv(e.unaryFilter.field);return Ff.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=pv(e.unaryFilter.field);return Ff.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return rh(61313);default:return rh(60726)}}(e):void 0!==e.fieldFilter?function(e){return Ff.create(pv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return rh(58110);default:return rh(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Vf.create(e.compositeFilter.filters.map(e=>lv(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return rh(1026)}}(e.compositeFilter.op))}(e):rh(30097,{filter:e})}function cv(e){return Fg[e]}function uv(e){return Vg[e]}function dv(e){return Bg[e]}function hv(e){return{fieldPath:e.canonicalString()}}function pv(e){return _h.fromServerFormat(e.fieldPath)}function fv(e){return e instanceof Ff?function(e){if("=="===e.op){if(Cf(e.value))return{unaryFilter:{field:hv(e.field),op:"IS_NAN"}};if(Ef(e.value))return{unaryFilter:{field:hv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Cf(e.value))return{unaryFilter:{field:hv(e.field),op:"IS_NOT_NAN"}};if(Ef(e.value))return{unaryFilter:{field:hv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hv(e.field),op:uv(e.op),value:e.value}}}(e):e instanceof Vf?function(e){const t=e.getFilters().map(e=>fv(e));return 1===t.length?t[0]:{compositeFilter:{op:dv(e.op),filters:t}}}(e):rh(54877,{filter:e})}function mv(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function gv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class vv{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Wh.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Wh.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Hp.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new vv(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vv(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yv{constructor(e){this.yt=e}}function bv(e){const t=av({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?mm(t,t.limit,"L"):t}class xv{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Qp(e.integerValue));else if("doubleValue"in e){const n=Qp(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),sp(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Kp(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Xp(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Tf(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):If(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):rh(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const o=df,i=(null===(n=r[o].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Qp(i)),this.Ot(o,t),this.Ct(r[o],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Rh.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}xv.Kt=new xv;class wv{constructor(){this.Cn=new Sv}addToCollectionParentIndex(e,t){return this.Cn.add(t),ep.resolve()}getCollectionParents(e,t){return ep.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ep.resolve()}deleteFieldIndex(e,t){return ep.resolve()}deleteAllFieldIndexes(e){return ep.resolve()}createTargetIndexes(e,t){return ep.resolve()}getDocumentsMatchingTarget(e,t){return ep.resolve(null)}getIndexType(e,t){return ep.resolve(0)}getFieldIndexes(e,t){return ep.resolve([])}getNextCollectionGroupToUpdate(e){return ep.resolve(null)}getMinOffset(e,t){return ep.resolve(Xh.min())}getMinOffsetFromCollectionGroup(e,t){return ep.resolve(Xh.min())}updateCollectionGroup(e,t,n){return ep.resolve()}updateIndexEntries(e,t){return ep.resolve()}}class Sv{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Bp(jh.comparator),o=!r.has(n);return this.index[t]=r.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Bp(jh.comparator)).toArray()}}new Uint8Array(0);const kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ev=41943040;class Cv{static withCacheSize(e){return new Cv(e,Cv.DEFAULT_COLLECTION_PERCENTILE,Cv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Cv.DEFAULT_COLLECTION_PERCENTILE=10,Cv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cv.DEFAULT=new Cv(Ev,Cv.DEFAULT_COLLECTION_PERCENTILE,Cv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cv.DISABLED=new Cv(-1,0,0);class Av{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Av(0)}static cr(){return new Av(-1)}}const Iv="LruGarbageCollector",jv=1048576;function Tv(e,t){let[n,r]=e,[o,i]=t;const s=xh(n,o);return 0===s?xh(r,i):s}class _v{constructor(e){this.Ir=e,this.buffer=new Bp(Tv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Tv(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rv{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Zd(Iv,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){np(e)?Zd(Iv,"Ignoring IndexedDB error during garbage collection: ",e):await Zh(e)}await this.Vr(3e5)})}}class Pv{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return ep.resolve(rp.ce);const n=new _v(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Zd("LruGarbageCollector","Garbage collection skipped; disabled"),ep.resolve(kv)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Zd("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),kv):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,o,i,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Zd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(o=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Jd()<=As.DEBUG&&Zd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-i)+"ms\n"+"\tRemoved ".concat(o," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),ep.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})))}}function Nv(e,t){return new Pv(e,t)}class Lv{constructor(){this.changes=new km(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pf.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ep.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ov{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Mv{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&ig(n.mutation,e,qp.empty(),qh.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Lm()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lm();const r=Tm();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Im();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Tm();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Lm()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let o=Cm();const i=Rm(),s=Rm();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof cg)?o=o.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),ig(s.mutation,t,s.mutation.getFieldMask(),qh.now())):i.set(t.key,qp.empty())}),this.recalculateAndSaveOverlays(e,o).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new Ov(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=Rm();let r=new zp((e,t)=>e-t),o=Lm();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const o of e)o.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let s=n.get(e)||qp.empty();s=o.applyToLocalView(i,s),n.set(e,s);const a=(r.get(o.batchId)||Lm()).add(e);r=r.insert(o.batchId,a)})}).next(()=>{const i=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=_m();l.forEach(e=>{if(!o.has(e)){const r=rg(t.get(e),n.get(e));null!==r&&c.set(e,r),o=o.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,a,c))}return ep.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Rh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):um(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(o=>{const i=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):ep.resolve(Tm());let s=Hh,a=o;return i.next(t=>ep.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),o.get(t)?ep.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,o)).next(()=>this.computeViews(e,a,t,Lm())).next(e=>({batchId:s,changes:jm(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rh(t)).next(e=>{let t=Im();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const o=t.collectionGroup;let i=Im();return this.indexManager.getCollectionParents(e,o).next(s=>ep.forEach(s,s=>{const a=function(e,t){return new sm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(o));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,r))).next(e=>{o.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Pf.newInvalidDocument(r)))});let n=Im();return e.forEach((e,r)=>{const i=o.get(e);void 0!==i&&ig(i.mutation,r,qp.empty(),qh.now()),bm(t,r)&&(n=n.insert(e,r))}),n})}}class Dv{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ep.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Kg(e.createTime)}}(t)),ep.resolve()}getNamedQuery(e,t){return ep.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:bv(e.bundledQuery),readTime:Kg(e.readTime)}}(t)),ep.resolve()}}class zv{constructor(){this.overlays=new zp(Rh.comparator),this.qr=new Map}getOverlay(e,t){return ep.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Tm();return ep.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),ep.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),ep.resolve()}getOverlaysForCollection(e,t,n){const r=Tm(),o=t.length+1,i=new Rh(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===o&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ep.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let o=new zp((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=o.get(e.largestBatchId);null===t&&(t=Tm(),o=o.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Tm(),a=o.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return ep.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new vg(t,n));let o=this.qr.get(t);void 0===o&&(o=Lm(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}class Fv{constructor(){this.sessionToken=Hp.EMPTY_BYTE_STRING}getSessionToken(e){return ep.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ep.resolve()}}class Vv{constructor(){this.Qr=new Bp(Bv.$r),this.Ur=new Bp(Bv.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Bv(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Bv(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Rh(new jh([])),n=new Bv(t,e),r=new Bv(t,e+1),o=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),o.push(e.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Rh(new jh([])),n=new Bv(t,e),r=new Bv(t,e+1);let o=Lm();return this.Ur.forEachInRange([n,r],e=>{o=o.add(e.key)}),o}containsKey(e){const t=new Bv(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Bv{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Rh.comparator(e.key,t.key)||xh(e.Yr,t.Yr)}static Kr(e,t){return xh(e.Yr,t.Yr)||Rh.comparator(e.key,t.key)}}class Uv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Bp(Bv.$r)}checkEmpty(e){return ep.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new mg(o,t,n,r);this.mutationQueue.push(i);for(const s of r)this.Zr=this.Zr.add(new Bv(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ep.resolve(i)}lookupMutationBatch(e,t){return ep.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),o=r<0?0:r;return ep.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ep.resolve(0===this.mutationQueue.length?op:this.tr-1)}getAllMutationBatches(e){return ep.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Bv(t,0),r=new Bv(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);o.push(t)}),ep.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Bp(xh);return t.forEach(e=>{const t=new Bv(e,0),r=new Bv(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),ep.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let o=n;Rh.isDocumentKey(o)||(o=o.child(""));const i=new Bv(new Rh(o),0);let s=new Bp(xh);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},i),ep.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){ih(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return ep.forEach(t.mutations,r=>{const o=new Bv(r.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Bv(t,0),r=this.Zr.firstAfterOrEqual(n);return ep.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ep.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qv{constructor(e){this.ri=e,this.docs=new zp(Rh.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),o=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ep.resolve(n?n.document.mutableCopy():Pf.newInvalidDocument(t))}getEntries(e,t){let n=Cm();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Pf.newInvalidDocument(e))}),ep.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let o=Cm();const i=t.path,s=new Rh(i.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Yh(Qh(s),n)<=0||(r.has(s.key)||bm(t,s))&&(o=o.insert(s.key,s.mutableCopy()))}return ep.resolve(o)}getAllFromCollectionGroup(e,t,n,r){rh(9500)}ii(e,t){return ep.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Wv(this)}getSize(e){return ep.resolve(this.size)}}class Wv extends Lv{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),ep.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Hv{constructor(e){this.persistence=e,this.si=new km(e=>rm(e),om),this.lastRemoteSnapshotVersion=Wh.min(),this.highestTargetId=0,this.oi=0,this._i=new Vv,this.targetCount=0,this.ai=Av.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),ep.resolve()}getLastRemoteSnapshotVersion(e){return ep.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ep.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ep.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),ep.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Av(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ep.resolve()}updateTargetData(e,t){return this.Pr(t),ep.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ep.resolve()}removeTargets(e,t,n){let r=0;const o=[];return this.si.forEach((i,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(i),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),ep.waitFor(o).next(()=>r)}getTargetCount(e){return ep.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return ep.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),ep.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(t=>{o.push(r.markPotentiallyOrphaned(e,t))}),ep.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ep.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return ep.resolve(n)}containsKey(e,t){return ep.resolve(this._i.containsKey(t))}}class Gv{constructor(e,t){this.ui={},this.overlays={},this.ci=new rp(0),this.li=!1,this.li=!0,this.hi=new Fv,this.referenceDelegate=e(this),this.Pi=new Hv(this),this.indexManager=new wv,this.remoteDocumentCache=function(e){return new qv(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new yv(t),this.Ii=new Dv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Uv(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Zd("MemoryPersistence","Starting transaction:",e);const r=new Kv(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return ep.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Kv extends Jh{constructor(e){super(),this.currentSequenceNumber=e}}class Qv{constructor(e){this.persistence=e,this.Ri=new Vv,this.Vi=null}static mi(e){return new Qv(e)}get fi(){if(this.Vi)return this.Vi;throw rh(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),ep.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),ep.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ep.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ep.forEach(this.fi,n=>{const r=Rh.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Wh.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ep.or([()=>ep.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Xv{constructor(e,t){this.persistence=e,this.pi=new km(e=>cp(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Nv(this,t)}static mi(e,t){return new Xv(e,t)}Ei(){}di(e){return ep.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return ep.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?ep.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,o.removeEntry(r,Wh.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ep.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ep.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ep.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ep.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xf(e.data.value)),t}br(e,t,n){return ep.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return ep.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Yv{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Lm(),r=Lm();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Yv(e,t.fromCache,n,r)}}class $v{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Jv{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=is()?8:tp(ns())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const o={result:null};return this.ys(e,t).next(e=>{o.result=e}).next(()=>{if(!o.result)return this.ws(e,t,r,n).next(e=>{o.result=e})}).next(()=>{if(o.result)return;const n=new $v;return this.Ss(e,t,n).next(r=>{if(o.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>o.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Jd()<=As.DEBUG&&Zd("QueryEngine","SDK will not create cache indexes for query:",ym(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ep.resolve()):(Jd()<=As.DEBUG&&Zd("QueryEngine","Query:",ym(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Jd()<=As.DEBUG&&Zd("QueryEngine","The SDK decides to create cache indexes for query:",ym(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hm(t))):ep.resolve())}ys(e,t){if(cm(t))return ep.resolve(null);let n=hm(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=mm(t,null,"F"),n=hm(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const o=Lm(...r);return this.ps.getDocuments(e,o).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,r);return this.Cs(t,i,o,n.readTime)?this.ys(e,mm(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,r){return cm(t)||r.isEqual(Wh.min())?ep.resolve(null):this.ps.getDocuments(e,n).next(o=>{const i=this.Ds(t,o);return this.Cs(t,i,n,r)?ep.resolve(null):(Jd()<=As.DEBUG&&Zd("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ym(t)),this.vs(e,i,t,Kh(r,Hh)).next(e=>e))})}Ds(e,t){let n=new Bp(wm(e));return t.forEach((t,r)=>{bm(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,t,n){return Jd()<=As.DEBUG&&Zd("QueryEngine","Using full collection scan to execute query:",ym(t)),this.ps.getDocumentsMatchingQuery(e,t,Xh.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Zv="LocalStore";class ey{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new zp(xh),this.xs=new km(e=>rm(e),om),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mv(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function ty(e,t,n,r){return new ey(e,t,n,r)}async function ny(e,t){const n=sh(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(o=>(r=o,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const o=[],i=[];let s=Lm();for(const e of r){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:o,addedBatchIds:i}))})})}function ry(e){const t=sh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function oy(e,t,n){let r=Lm(),o=Lm();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Cm();return n.forEach((n,i)=>{const s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(o=o.add(n)),i.isNoDocument()&&i.version.isEqual(Wh.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Zd(Zv,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)}),{ks:r,qs:o}})}function iy(e,t){const n=sh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=op),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function sy(e,t){const n=sh(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(o=>o?(r=o,ep.resolve(r)):n.Pi.allocateTargetId(e).next(o=>(r=new vv(t,o,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function ay(e,t,n){const r=sh(e),o=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,o))}catch(e){if(!np(e))throw e;Zd(Zv,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function ly(e,t,n){const r=sh(e);let o=Wh.min(),i=Lm();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=sh(e),o=r.xs.get(n);return void 0!==o?ep.resolve(r.Ms.get(o)):r.Pi.getTargetData(t,n)}(r,e,hm(t)).next(t=>{if(t)return o=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?o:Wh.min(),n?i:Lm())).next(e=>(cy(r,xm(t),e),{documents:e,Qs:i})))}function cy(e,t,n){let r=e.Os.get(t)||Wh.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class uy{constructor(){this.activeTargetIds=Mm()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dy{constructor(){this.Mo=new uy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new uy,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hy{Oo(e){}shutdown(){}}const py="ConnectivityMonitor";class fy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Zd(py,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Zd(py,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let my=null;function gy(){return null===my?my=268435456+Math.round(2147483648*Math.random()):my++,"0x"+my.toString(16)}const vy="RestConnection",yy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class by{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===of?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,o){const i=gy(),s=this.zo(e,t.toUriEncodedString());Zd(vy,"Sending RPC '".concat(e,"' ").concat(i,":"),s,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,o);const{host:l}=new URL(s),c=Yi(l);return this.Jo(e,s,a,n,c).then(t=>(Zd(vy,"Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw th(vy,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,o,i){return this.Go(e,t,n,r,o)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=yy[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class xy{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const wy="WebChannelConnection";class Sy extends by{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,o){const i=gy();return new Promise((o,s)=>{const a=new Dd;a.setWithCredentials(!0),a.listenOnce(Fd.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Vd.NO_ERROR:const n=a.getResponseJson();Zd(wy,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(n)),o(n);break;case Vd.TIMEOUT:Zd(wy,"RPC '".concat(e,"' ").concat(i," timed out")),s(new lh(ah.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const r=a.getStatus();if(Zd(wy,"RPC '".concat(e,"' ").concat(i," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ah).indexOf(t)>=0?t:ah.UNKNOWN}(n.status);s(new lh(e,n.message))}else s(new lh(ah.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new lh(ah.UNAVAILABLE,"Connection failed."));break;default:rh(9055,{l_:e,streamId:i,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{Zd(wy,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Zd(wy,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=gy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Wd(),s=qd(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=o.join("");Zd(wy,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=i.createWebChannel(c,a);this.I_(u);let d=!1,h=!1;const p=new xy({Yo:t=>{h?Zd(wy,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Zd(wy,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Zd(wy,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(u,zd.EventType.OPEN,()=>{h||(Zd(wy,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.o_())}),f(u,zd.EventType.CLOSE,()=>{h||(h=!0,Zd(wy,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.a_(),this.E_(u))}),f(u,zd.EventType.ERROR,t=>{h||(h=!0,th(wy,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),p.a_(new lh(ah.UNAVAILABLE,"The operation could not be completed")))}),f(u,zd.EventType.MESSAGE,t=>{if(!h){var n;const o=t.data[0];ih(!!o,16349);const i=o,s=(null===i||void 0===i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){Zd(wy,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=bg[e];if(void 0!==t)return Sg(t)}(t),o=s.message;void 0===n&&(n=ah.INTERNAL,o="Unknown error status: "+t+" with message "+s.message),h=!0,p.a_(new lh(n,o)),u.close()}else Zd(wy,"RPC '".concat(e,"' stream ").concat(r," received:"),o),p.u_(o)}}),f(s,Ud.STAT_EVENT,t=>{t.stat===Bd.PROXY?Zd(wy,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Bd.NOPROXY&&Zd(wy,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function ky(){return"undefined"!=typeof document?document:null}function Ey(e){return new Ug(e,!0)}class Cy{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Zd("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ay="PersistentStream";class Iy{constructor(e,t,n,r,o,i,s,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cy(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===ah.RESOURCE_EXHAUSTED?(eh(t.toString()),eh("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ah.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new lh(ah.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Zd(Ay,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Zd(Ay,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jy extends Iy{constructor(e,t,n,r,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:rh(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(ih(void 0===t||"string"==typeof t,58123),Hp.fromBase64String(t||"")):(ih(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Hp.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?ah.UNKNOWN:Sg(e.code);return new lh(t,e.message||"")}(s);n=new Lg(r,o,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Jg(e,r.document.name),i=Kg(r.document.updateTime),s=r.document.createTime?Kg(r.document.createTime):Wh.min(),a=new _f({mapValue:{fields:r.document.fields}}),l=Pf.newFoundDocument(o,i,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Pg(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Jg(e,r.document),i=r.readTime?Kg(r.readTime):Wh.min(),s=Pf.newNoDocument(o,i),a=r.removedTargetIds||[];n=new Pg([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Jg(e,r.document),i=r.removedTargetIds||[];n=new Pg([],i,o,null)}else{if(!("filter"in t))return rh(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:o}=e,i=new yg(r,o),s=e.targetId;n=new Ng(s,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Wh.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Wh.min():t.readTime?Kg(t.readTime):Wh.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=tv(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=im(r)?{documents:iv(e,r)}:{query:sv(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Hg(e,t.resumeToken);const r=qg(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Wh.min())>0){n.readTime=Wg(e,t.snapshotVersion.toTimestamp());const r=qg(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rh(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=tv(this.serializer),t.removeTarget=e,this.q_(t)}}class Ty extends Iy{constructor(e,t,n,r,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ih(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ih(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){ih(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(ih(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Kg(e.updateTime):Kg(t);return n.isEqual(Wh.min())&&(n=Kg(t)),new Zm(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Kg(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=tv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>ov(this.serializer,e))};this.q_(t)}}class _y{}class Ry extends _y{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new lh(ah.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[i,s]=o;return this.connection.Go(e,Xg(t,n),r,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ah.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new lh(ah.UNKNOWN,e.toString())})}Ho(e,t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Ho(e,Xg(t,n),r,s,a,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ah.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new lh(ah.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Py{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(eh(t),this.aa=!1):Zd("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Ny="RemoteStore";class Ly{constructor(e,t,n,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{qy(this)&&(Zd(Ny,"Restarting streams for network reachability change."),await async function(e){const t=sh(e);t.Ea.add(4),await My(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Oy(t)}(this))})}),this.Ra=new Py(n,r)}}async function Oy(e){if(qy(e))for(const t of e.da)await t(!0)}async function My(e){for(const t of e.da)await t(!1)}function Dy(e,t){const n=sh(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Uy(n)?By(n):lb(n).O_()&&Fy(n,t))}function zy(e,t){const n=sh(e),r=lb(n);n.Ia.delete(t),r.O_()&&Vy(n,t),0===n.Ia.size&&(r.O_()?r.L_():qy(n)&&n.Ra.set("Unknown"))}function Fy(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Wh.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}lb(e).Y_(t)}function Vy(e,t){e.Va.Ue(t),lb(e).Z_(t)}function By(e){e.Va=new Mg({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),lb(e).start(),e.Ra.ua()}function Uy(e){return qy(e)&&!lb(e).x_()&&e.Ia.size>0}function qy(e){return 0===sh(e).Ea.size}function Wy(e){e.Va=void 0}async function Hy(e){e.Ra.set("Online")}async function Gy(e){e.Ia.forEach((t,n)=>{Fy(e,t)})}async function Ky(e,t){Wy(e),Uy(e)?(e.Ra.ha(t),By(e)):e.Ra.set("Unknown")}async function Qy(e,t,n){if(e.Ra.set("Online"),t instanceof Lg&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){Zd(Ny,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Xy(e,n)}else if(t instanceof Pg?e.Va.Ze(t):t instanceof Ng?e.Va.st(t):e.Va.tt(t),!n.isEqual(Wh.min()))try{const t=await ry(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const o=e.Ia.get(r);o&&e.Ia.set(r,o.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Hp.EMPTY_BYTE_STRING,r.snapshotVersion)),Vy(e,t);const o=new vv(r.target,t,n,r.sequenceNumber);Fy(e,o)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Zd(Ny,"Failed to raise snapshot:",t),await Xy(e,t)}}async function Xy(e,t,n){if(!np(t))throw t;e.Ea.add(1),await My(e),e.Ra.set("Offline"),n||(n=()=>ry(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Zd(Ny,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Oy(e)})}function Yy(e,t){return t().catch(n=>Xy(e,n,t))}async function $y(e){const t=sh(e),n=cb(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:op;for(;Jy(t);)try{const e=await iy(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Zy(t,e)}catch(e){await Xy(t,e)}eb(t)&&tb(t)}function Jy(e){return qy(e)&&e.Ta.length<10}function Zy(e,t){e.Ta.push(t);const n=cb(e);n.O_()&&n.X_&&n.ea(t.mutations)}function eb(e){return qy(e)&&!cb(e).x_()&&e.Ta.length>0}function tb(e){cb(e).start()}async function nb(e){cb(e).ra()}async function rb(e){const t=cb(e);for(const n of e.Ta)t.ea(n.mutations)}async function ob(e,t,n){const r=e.Ta.shift(),o=gg.from(r,t,n);await Yy(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await $y(e)}async function ib(e,t){t&&cb(e).X_&&await async function(e,t){if(function(e){return wg(e)&&e!==ah.ABORTED}(t.code)){const n=e.Ta.shift();cb(e).B_(),await Yy(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await $y(e)}}(e,t),eb(e)&&tb(e)}async function sb(e,t){const n=sh(e);n.asyncQueue.verifyOperationInProgress(),Zd(Ny,"RemoteStore received new credentials");const r=qy(n);n.Ea.add(3),await My(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Oy(n)}async function ab(e,t){const n=sh(e);t?(n.Ea.delete(2),await Oy(n)):t||(n.Ea.add(2),await My(n),n.Ra.set("Unknown"))}function lb(e){return e.ma||(e.ma=function(e,t,n){const r=sh(e);return r.sa(),new jy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Hy.bind(null,e),t_:Gy.bind(null,e),r_:Ky.bind(null,e),H_:Qy.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Uy(e)?By(e):e.Ra.set("Unknown")):(await e.ma.stop(),Wy(e))})),e.ma}function cb(e){return e.fa||(e.fa=function(e,t,n){const r=sh(e);return r.sa(),new Ty(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:nb.bind(null,e),r_:ib.bind(null,e),ta:rb.bind(null,e),na:ob.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await $y(e)):(await e.fa.stop(),e.Ta.length>0&&(Zd(Ny,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class ub{constructor(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new ch,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,o){const i=Date.now()+n,s=new ub(e,t,i,r,o);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lh(ah.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function db(e,t){if(eh("AsyncQueue","".concat(t,": ").concat(e)),np(e))return new lh(ah.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class hb{static emptySet(e){return new hb(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Rh.comparator(t.key,n.key):(e,t)=>Rh.comparator(e.key,t.key),this.keyedMap=Im(),this.sortedSet=new zp(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hb))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new hb;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class pb{constructor(){this.ga=new zp(Rh.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):rh(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class fb{constructor(e,t,n,r,o,i,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,o){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new fb(e,t,hb.emptySet(t),i,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class mb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class gb{constructor(){this.queries=vb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=sh(e),r=n.queries;n.queries=vb(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new lh(ah.ABORTED,"Firestore shutting down"))}}function vb(){return new km(e=>vm(e),gm)}async function yb(e,t){const n=sh(e);let r=3;const o=t.query;let i=n.queries.get(o);i?!i.ba()&&t.Da()&&(r=2):(i=new mb,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(o,!0);break;case 1:i.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(e){const n=db(e,"Initialization of query '".concat(ym(t.query),"' failed"));return void t.onError(n)}n.queries.set(o,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&Sb(n)}async function bb(e,t){const n=sh(e),r=t.query;let o=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?o=t.Da()?0:1:!i.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xb(e,t){const n=sh(e);let r=!1;for(const o of t){const e=o.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(o)&&(r=!0);t.wa=o}}r&&Sb(n)}function wb(e,t,n){const r=sh(e),o=r.queries.get(t);if(o)for(const i of o.Sa)i.onError(n);r.queries.delete(t)}function Sb(e){e.Ca.forEach(e=>{e.next()})}var kb,Eb;(Eb=kb||(kb={})).Ma="default",Eb.Cache="cache";class Cb{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new fb(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=fb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kb.Cache}}class Ab{constructor(e){this.key=e}}class Ib{constructor(e){this.key=e}}class jb{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lm(),this.mutatedKeys=Lm(),this.eu=wm(e),this.tu=new hb(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new pb,r=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,i=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=bm(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.su(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(s=!0)),p&&(u?(i=i.add(u),o=h?o.add(e):o.delete(e)):(i=i.delete(e),o=o.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),o=o.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:s,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rh(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==i.length||l?{snapshot:new fb(this.query,e.tu,o,i,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Lm(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Ib(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Ab(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Lm();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return fb.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Tb="SyncEngine";class _b{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Rb{constructor(e){this.key=e,this.hu=!1}}class Pb{constructor(e,t,n,r,o,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new km(e=>vm(e),gm),this.Iu=new Map,this.Eu=new Set,this.du=new zp(Rh.comparator),this.Au=new Map,this.Ru=new Vv,this.Vu={},this.mu=new Map,this.fu=Av.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Nb(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=ex(e);let o;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.lu()):o=await Ob(r,t,n,!0),o}async function Lb(e,t){const n=ex(e);await Ob(n,t,!0,!1)}async function Ob(e,t,n,r){const o=await sy(e.localStore,hm(t)),i=o.targetId,s=e.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Mb(e,t,i,"current"===s,o.resumeToken)),e.isPrimaryClient&&n&&Dy(e.remoteStore,o),a}async function Mb(e,t,n,r,o){e.pu=(t,n,r)=>async function(e,t,n,r){let o=t.view.ru(n);o.Cs&&(o=await ly(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,o)}));const i=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(o,e.isPrimaryClient,i,s);return Qb(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const i=await ly(e.localStore,t,!0),s=new jb(t,i.Qs),a=s.ru(i.documents),l=Rg.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,o),c=s.applyChanges(a,e.isPrimaryClient,l);Qb(e,n,c.au);const u=new _b(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Db(e,t,n){const r=sh(e),o=r.Tu.get(t),i=r.Iu.get(o.targetId);if(i.length>1)return r.Iu.set(o.targetId,i.filter(e=>!gm(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ay(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&zy(r.remoteStore,o.targetId),Gb(r,o.targetId)}).catch(Zh)):(Gb(r,o.targetId),await ay(r.localStore,o.targetId,!0))}async function zb(e,t){const n=sh(e),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&1===o.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zy(n.remoteStore,r.targetId))}async function Fb(e,t){const n=sh(e);try{const e=await function(e,t){const n=sh(e),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const s=[];t.targetChanges.forEach((i,a)=>{const l=o.get(a);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,i.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Hp.EMPTY_BYTE_STRING,Wh.min()).withLastLimboFreeSnapshotVersion(Wh.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),o=o.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&s.push(n.Pi.updateTargetData(e,c))});let a=Cm(),l=Lm();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(oy(e,i,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(Wh.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return ep.waitFor(s).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=o,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(ih(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?ih(r.hu,14607):e.removedDocuments.size>0&&(ih(r.hu,42227),r.hu=!1))}),await $b(n,e,t)}catch(e){await Zh(e)}}function Vb(e,t,n){const r=sh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const o=r.view.va(t);o.snapshot&&e.push(o.snapshot)}),function(e,t){const n=sh(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const o of n.Sa)o.va(t)&&(r=!0)}),r&&Sb(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Bb(e,t,n){const r=sh(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),i=o&&o.key;if(i){let e=new zp(Rh.comparator);e=e.insert(i,Pf.newNoDocument(i,Wh.min()));const n=Lm().add(i),o=new _g(Wh.min(),new Map,new zp(xh),e,n);await Fb(r,o),r.du=r.du.remove(i),r.Au.delete(t),Yb(r)}else await ay(r.localStore,t,!1).then(()=>Gb(r,t,n)).catch(Zh)}async function Ub(e,t){const n=sh(e),r=t.batch.batchId;try{const e=await function(e,t){const n=sh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const o=n.batch,i=o.keys();let s=ep.resolve();return i.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);ih(null!==i,48541),t.version.compareTo(i)<0&&(o.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,o))}(n,e,t,o).next(()=>o.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Lm();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Hb(n,r,null),Wb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $b(n,e)}catch(e){await Zh(e)}}async function qb(e,t,n){const r=sh(e);try{const e=await function(e,t){const n=sh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(ih(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Hb(r,t,n),Wb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await $b(r,e)}catch(n){await Zh(n)}}function Wb(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Hb(e,t,n){const r=sh(e);let o=r.Vu[r.currentUser.toKey()];if(o){const e=o.get(t);e&&(n?e.reject(n):e.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Gb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||Kb(e,t)})}function Kb(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(zy(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Yb(e))}function Qb(e,t,n){for(const r of n)r instanceof Ab?(e.Ru.addReference(r.key,t),Xb(e,r)):r instanceof Ib?(Zd(Tb,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Kb(e,r.key)):rh(19791,{wu:r})}function Xb(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Zd(Tb,"New document in limbo: "+n),e.Eu.add(r),Yb(e))}function Yb(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Rh(jh.fromString(t)),r=e.fu.next();e.Au.set(r,new Rb(n)),e.du=e.du.insert(n,r),Dy(e.remoteStore,new vv(hm(lm(n.path)),r,"TargetPurposeLimboResolution",rp.ce))}}async function $b(e,t,n){const r=sh(e),o=[],i=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{s.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const o=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,o?"current":"not-current")}if(e){o.push(e);const t=Yv.As(a.targetId,e);i.push(t)}}))}),await Promise.all(s),r.Pu.H_(o),await async function(e,t){const n=sh(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ep.forEach(t,t=>ep.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>ep.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!np(e))throw e;Zd(Zv,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,o=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,o)}}}(r.localStore,i))}async function Jb(e,t){const n=sh(e);if(!n.currentUser.isEqual(t)){Zd(Tb,"User change. New user:",t.toKey());const e=await ny(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new lh(ah.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await $b(n,e.Ls)}}function Zb(e,t){const n=sh(e),r=n.Au.get(t);if(r&&r.hu)return Lm().add(r.key);{let e=Lm();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function ex(e){const t=sh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Fb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Bb.bind(null,t),t.Pu.H_=xb.bind(null,t.eventManager),t.Pu.yu=wb.bind(null,t.eventManager),t}function tx(e){const t=sh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ub.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qb.bind(null,t),t}class nx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ey(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ty(this.persistence,new Jv,e.initialUser,this.serializer)}Cu(e){return new Gv(Qv.mi,this.serializer)}Du(e){return new dy}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nx.provider={build:()=>new nx};class rx extends nx{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ih(this.persistence.referenceDelegate instanceof Xv,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Rv(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Cv.withCacheSize(this.cacheSizeBytes):Cv.DEFAULT;return new Gv(e=>Xv.mi(e,t),this.serializer)}}class ox{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Vb(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jb.bind(null,this.syncEngine),await ab(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new gb}createDatastore(e){const t=Ey(e.databaseInfo.databaseId),n=function(e){return new Sy(e)}(e.databaseInfo);return function(e,t,n,r){return new Ry(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,o){return new Ly(e,t,n,r,o)}(this.localStore,this.datastore,e.asyncQueue,e=>Vb(this.syncEngine,e,0),fy.v()?new fy:new hy)}createSyncEngine(e,t){return function(e,t,n,r,o,i,s){const a=new Pb(e,t,n,r,o,i);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=sh(e);Zd(Ny,"RemoteStore shutting down."),t.Ea.add(5),await My(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}ox.provider={build:()=>new ox};class ix{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):eh("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const sx="FirestoreClient";class ax{constructor(e,t,n,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Xd.UNAUTHENTICATED,this.clientId=bh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async e=>{Zd(sx,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Zd(sx,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ch;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=db(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function lx(e,t){e.asyncQueue.verifyOperationInProgress(),Zd(sx,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await ny(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function cx(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ux(e);Zd(sx,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>sb(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>sb(t.remoteStore,n)),e._onlineComponents=t}async function ux(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Zd(sx,"Using user provided OfflineComponentProvider");try{await lx(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===ah.FAILED_PRECONDITION||e.code===ah.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;th("Error using user provided cache. Falling back to memory cache: "+n),await lx(e,new nx)}}else Zd(sx,"Using default OfflineComponentProvider"),await lx(e,new rx(void 0));return e._offlineComponents}async function dx(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Zd(sx,"Using user provided OnlineComponentProvider"),await cx(e,e._uninitializedComponentsProvider._online)):(Zd(sx,"Using default OnlineComponentProvider"),await cx(e,new ox))),e._onlineComponents}function hx(e){return dx(e).then(e=>e.syncEngine)}async function px(e){const t=await dx(e),n=t.eventManager;return n.onListen=Nb.bind(null,t.syncEngine),n.onUnlisten=Db.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Lb.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=zb.bind(null,t.syncEngine),n}function fx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ch;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,o){const i=new ix({next:a=>{i.Nu(),t.enqueueAndForget(()=>bb(e,s));const l=a.docs.has(n);!l&&a.fromCache?o.reject(new lh(ah.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?o.reject(new lh(ah.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(a)},error:e=>o.reject(e)}),s=new Cb(lm(n.path),i,{includeMetadataChanges:!0,qa:!0});return yb(e,s)}(await px(e),e.asyncQueue,t,n,r)),r.promise}function mx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ch;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,o){const i=new ix({next:n=>{i.Nu(),t.enqueueAndForget(()=>bb(e,s)),n.fromCache&&"server"===r.source?o.reject(new lh(ah.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:e=>o.reject(e)}),s=new Cb(n,i,{includeMetadataChanges:!0,qa:!0});return yb(e,s)}(await px(e),e.asyncQueue,t,n,r)),r.promise}function gx(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const vx=new Map,yx="firestore.googleapis.com",bx=!0;class xx{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new lh(ah.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yx,this.ssl=bx}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:bx;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Ev;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<jv)throw new lh(ah.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new lh(ah.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gx(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new lh(ah.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new lh(ah.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new lh(ah.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wx{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lh(ah.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new lh(ah.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xx(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new dh;switch(e.type){case"firstParty":return new mh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new lh(ah.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=vx.get(e);t&&(Zd("ComponentProvider","Removing Datastore"),vx.delete(e),t.terminate())}(this),Promise.resolve()}}class Sx{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Sx(this.firestore,e,this._query)}}class kx{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ex(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kx(this.firestore,e,this._key)}toJSON(){return{type:kx._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Vh(t,kx._jsonSchema))return new kx(e,n||null,new Rh(jh.fromString(t.referencePath)))}}kx._jsonSchemaVersion="firestore/documentReference/1.0",kx._jsonSchema={type:Fh("string",kx._jsonSchemaVersion),referencePath:Fh("string")};class Ex extends Sx{constructor(e,t,n){super(e,t,lm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kx(this.firestore,null,new Rh(e))}withConverter(e){return new Ex(this.firestore,e,this._path)}}function Cx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=bs(e),Ph("collection","path",t),e instanceof wx){const n=jh.fromString(t,...r);return Lh(n),new Ex(e,null,n)}{if(!(e instanceof kx||e instanceof Ex))throw new lh(ah.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(jh.fromString(t,...r));return Lh(n),new Ex(e.firestore,null,n)}}function Ax(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=bs(e),1===arguments.length&&(t=bh.newId()),Ph("doc","path",t),e instanceof wx){const n=jh.fromString(t,...r);return Nh(n),new kx(e,null,new Rh(n))}{if(!(e instanceof kx||e instanceof Ex))throw new lh(ah.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(jh.fromString(t,...r));return Nh(n),new kx(e.firestore,e instanceof Ex?e.converter:null,new Rh(n))}}const Ix="AsyncQueue";class jx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cy(this,"async_queue_retry"),this._c=()=>{const e=ky();e&&Zd(Ix,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=ky();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ky();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new ch;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!np(e))throw e;Zd(Ix,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,eh("INTERNAL UNHANDLED ERROR: ",Tx(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=ub.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&rh(47125,{Pc:Tx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Tx(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function _x(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Rx extends wx{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new jx,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jx(e),this._firestoreClient=void 0,await e}}}function Px(e){if(e._terminated)throw new lh(ah.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Nx(e),e._firestoreClient}function Nx(e){var t,n,r;const o=e._freezeSettings(),i=function(e,t,n,r){return new rf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,gx(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||null!==(n=o.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=o.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new ax(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Lx{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lx(Hp.fromBase64String(e))}catch(e){throw new lh(ah.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Lx(Hp.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Lx._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vh(e,Lx._jsonSchema))return Lx.fromBase64String(e.bytes)}}Lx._jsonSchemaVersion="firestore/bytes/1.0",Lx._jsonSchema={type:Fh("string",Lx._jsonSchemaVersion),bytes:Fh("string")};class Ox{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new lh(ah.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _h(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mx{constructor(e){this._methodName=e}}class Dx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new lh(ah.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new lh(ah.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xh(this._lat,e._lat)||xh(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dx._jsonSchemaVersion}}static fromJSON(e){if(Vh(e,Dx._jsonSchema))return new Dx(e.latitude,e.longitude)}}Dx._jsonSchemaVersion="firestore/geoPoint/1.0",Dx._jsonSchema={type:Fh("string",Dx._jsonSchemaVersion),latitude:Fh("number"),longitude:Fh("number")};class zx{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:zx._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vh(e,zx._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new zx(e.vectorValues);throw new lh(ah.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zx._jsonSchemaVersion="firestore/vectorValue/1.0",zx._jsonSchema={type:Fh("string",zx._jsonSchemaVersion),vectorValues:Fh("object")};const Fx=/^__.*__$/;class Vx{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new cg(e,this.data,this.fieldMask,t,this.fieldTransforms):new lg(e,this.data,t,this.fieldTransforms)}}class Bx{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new cg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ux(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rh(40011,{Ac:e})}}class qx{constructor(e,t,n,r,o,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qx(l(l({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sw(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(Ux(this.Ac)&&Fx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Wx{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ey(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new qx({Ac:e,methodName:t,Dc:n,path:_h.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hx(e){const t=e._freezeSettings(),n=Ey(e._databaseId);return new Wx(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Gx(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(i.merge||i.mergeFields?2:0,t,n,o);nw("Data must be an object, but it was:",s,r);const a=ew(r,s);let l,c;if(i.merge)l=new qp(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const o=rw(t,r,n);if(!s.contains(o))throw new lh(ah.INVALID_ARGUMENT,"Field '".concat(o,"' is specified in your field mask but missing from your input data."));aw(e,o)||e.push(o)}l=new qp(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new Vx(new _f(a),l,c)}class Kx extends Mx{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kx}}class Qx extends Mx{_toFieldTransform(e){return new Jm(e.path,new Wm)}isEqual(e){return e instanceof Qx}}class Xx extends Mx{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Xm(e.serializer,Fm(e.serializer,this.Fc));return new Jm(e.path,t)}isEqual(e){return e instanceof Xx&&this.Fc===e.Fc}}function Yx(e,t,n,r){const o=e.Cc(1,t,n);nw("Data must be an object, but it was:",o,r);const i=[],s=_f.empty();Mp(r,(e,r)=>{const a=iw(t,e,n);r=bs(r);const l=o.yc(a);if(r instanceof Kx)i.push(a);else{const e=Zx(r,l);null!=e&&(i.push(a),s.set(a,e))}});const a=new qp(i);return new Bx(s,a,o.fieldTransforms)}function $x(e,t,n,r,o,i){const s=e.Cc(1,t,n),a=[rw(t,r,n)],l=[o];if(i.length%2!=0)throw new lh(ah.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<i.length;h+=2)a.push(rw(t,i[h])),l.push(i[h+1]);const c=[],u=_f.empty();for(let h=a.length-1;h>=0;--h)if(!aw(c,a[h])){const e=a[h];let t=l[h];t=bs(t);const n=s.yc(e);if(t instanceof Kx)c.push(e);else{const r=Zx(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new qp(c);return new Bx(u,d,s.fieldTransforms)}function Jx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Zx(n,e.Cc(r?4:3,t))}function Zx(e,t){if(tw(e=bs(e)))return nw("Unsupported field value:",t,e),ew(e,t);if(e instanceof Mx)return function(e,t){if(!Ux(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const o of e){let e=Zx(o,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=bs(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Fm(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=qh.fromDate(e);return{timestampValue:Wg(t.serializer,n)}}if(e instanceof qh){const n=new qh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Wg(t.serializer,n)}}if(e instanceof Dx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Lx)return{bytesValue:Hg(t.serializer,e._byteString)};if(e instanceof kx){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Qg(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof zx)return function(e,t){return{mapValue:{fields:{[af]:{stringValue:uf},[df]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Dm(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Mh(e)))}(e,t)}function ew(e,t){const n={};return Dp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Mp(e,(e,r)=>{const o=Zx(r,t.mc(e));null!=o&&(n[e]=o)}),{mapValue:{fields:n}}}function tw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof qh||e instanceof Dx||e instanceof Lx||e instanceof kx||e instanceof Mx||e instanceof zx)}function nw(e,t,n){if(!tw(n)||!Oh(n)){const r=Mh(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function rw(e,t,n){if((t=bs(t))instanceof Ox)return t._internalPath;if("string"==typeof t)return iw(e,t);throw sw("Field path arguments must be of type string or ",e,!1,void 0,n)}const ow=new RegExp("[~\\*/\\[\\]]");function iw(e,t,n){if(t.search(ow)>=0)throw sw("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Ox(...t.split("."))._internalPath}catch(K){throw sw("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function sw(e,t,n,r,o){const i=r&&!r.isEmpty(),s=void 0!==o;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(o)),l+=")"),new lh(ah.INVALID_ARGUMENT,a+e+l)}function aw(e,t){return e.some(e=>e.isEqual(t))}class lw{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kx(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cw extends lw{data(){return super.data()}}function uw(e,t){return"string"==typeof t?iw(e,t):t instanceof Ox?t._internalPath:t._delegate._internalPath}function dw(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new lh(ah.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hw{}class pw extends hw{}function fw(e,t){let n=[];for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t instanceof hw&&n.push(t),n=n.concat(o),function(e){const t=e.filter(e=>e instanceof vw).length,n=e.filter(e=>e instanceof mw).length;if(t>1||t>0&&n>0)throw new lh(ah.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class mw extends pw{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new mw(e,t,n)}_apply(e){const t=this._parse(e);return Ew(e._query,t),new Sx(e.firestore,e.converter,fm(e._query,t))}_parse(e){const t=Hx(e.firestore),n=function(e,t,n,r,o,i,s){let a;if(o.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new lh(ah.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){kw(s,i);const t=[];for(const n of s)t.push(Sw(r,e,n));a={arrayValue:{values:t}}}else a=Sw(r,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||kw(s,i),a=Jx(n,t,s,"in"===i||"not-in"===i);return Ff.create(o,i,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function gw(e,t,n){const r=t,o=uw("where",e);return mw._create(o,r,n)}class vw extends hw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vw(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Vf.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const o of r)Ew(n,o),n=fm(n,o)}(e._query,t),new Sx(e.firestore,e.converter,fm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class yw extends pw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new yw(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new lh(ah.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new lh(ah.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mf(t,n)}(e._query,this._field,this._direction);return new Sx(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new sm(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function bw(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=uw("orderBy",e);return yw._create(n,t)}class xw extends pw{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new xw(e,t,n)}_apply(e){return new Sx(e.firestore,e.converter,mm(e._query,this._limit,this._limitType))}}function ww(e){return zh("limit",e),xw._create("limit",e,"F")}function Sw(e,t,n){if("string"==typeof(n=bs(n))){if(""===n)throw new lh(ah.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!um(t)&&-1!==n.indexOf("/"))throw new lh(ah.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(jh.fromString(n));if(!Rh.isDocumentKey(r))throw new lh(ah.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return wf(e,new Rh(r))}if(n instanceof kx)return wf(e,n._key);throw new lh(ah.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Mh(n),"."))}function kw(e,t){if(!Array.isArray(e)||0===e.length)throw new lh(ah.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Ew(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new lh(ah.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new lh(ah.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Cw{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(hf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw rh(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Mp(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[df].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>Qp(e.doubleValue));return new zx(n)}convertGeoPoint(e){return new Dx(Qp(e.latitude),Qp(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=tf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(nf(e));default:return null}}convertTimestamp(e){const t=Kp(e);return new qh(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=jh.fromString(e);ih(gv(n),9688,{name:e});const r=new sf(n.get(1),n.get(3)),o=new Rh(n.popFirst(5));return r.isEqual(t)||eh("Document ".concat(o," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),o}}function Aw(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Iw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jw extends lw{constructor(e,t,n,r,o,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Tw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(uw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lh(ah.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=jw._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}jw._jsonSchemaVersion="firestore/documentSnapshot/1.0",jw._jsonSchema={type:Fh("string",jw._jsonSchemaVersion),bundleSource:Fh("string","DocumentSnapshot"),bundleName:Fh("string"),bundle:Fh("string")};class Tw extends jw{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class _w{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Iw(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Tw(this._firestore,this._userDataWriter,n.key,n,new Iw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new lh(ah.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Tw(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Iw(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Tw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Iw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let o=-1,i=-1;return 0!==t.type&&(o=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Rw(t.type),doc:r,oldIndex:o,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lh(ah.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_w._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Rw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rh(61501,{type:e})}}function Pw(e){e=Dh(e,kx);const t=Dh(e.firestore,Rx);return fx(Px(t),e._key).then(n=>Fw(t,e,n))}_w._jsonSchemaVersion="firestore/querySnapshot/1.0",_w._jsonSchema={type:Fh("string",_w._jsonSchemaVersion),bundleSource:Fh("string","QuerySnapshot"),bundleName:Fh("string"),bundle:Fh("string")};class Nw extends Cw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lx(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kx(this.firestore,null,t)}}function Lw(e){e=Dh(e,Sx);const t=Dh(e.firestore,Rx),n=Px(t),r=new Nw(t);return dw(e._query),mx(n,e._query).then(n=>new _w(t,r,e,n))}function Ow(e,t,n){e=Dh(e,kx);const r=Dh(e.firestore,Rx),o=Aw(e.converter,t,n);return zw(r,[Gx(Hx(r),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,eg.none())])}function Mw(e,t,n){e=Dh(e,kx);const r=Dh(e.firestore,Rx),o=Hx(r);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return i="string"==typeof(t=bs(t))||t instanceof Ox?$x(o,"updateDoc",e._key,t,n,a):Yx(o,"updateDoc",e._key,t),zw(r,[i.toMutation(e._key,eg.exists(!0))])}function Dw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=bs(e);let o={includeMetadataChanges:!1,source:"default"},i=0;"object"!=typeof n[i]||_x(n[i])||(o=n[i++]);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(_x(n[i])){var a,l,c;const e=n[i];n[i]=null===(a=e.next)||void 0===a?void 0:a.bind(e),n[i+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[i+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,d,h;if(e instanceof kx)d=Dh(e.firestore,Rx),h=lm(e._key.path),u={next:t=>{n[i]&&n[i](Fw(d,e,t))},error:n[i+1],complete:n[i+2]};else{const t=Dh(e,Sx);d=Dh(t.firestore,Rx),h=t._query;const r=new Nw(d);u={next:e=>{n[i]&&n[i](new _w(d,r,t,e))},error:n[i+1],complete:n[i+2]},dw(e._query)}return function(e,t,n,r){const o=new ix(r),i=new Cb(t,o,n);return e.asyncQueue.enqueueAndForget(async()=>yb(await px(e),i)),()=>{o.Nu(),e.asyncQueue.enqueueAndForget(async()=>bb(await px(e),i))}}(Px(d),h,s,u)}function zw(e,t){return function(e,t){const n=new ch;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=tx(e);try{const e=await function(e,t){const n=sh(e),r=qh.now(),o=t.reduce((e,t)=>e.add(t.key),Lm());let i,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Cm(),l=Lm();return n.Ns.getEntries(e,o).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(o=>{i=o;const s=[];for(const e of t){const t=sg(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new cg(e.key,t,Rf(t.value.mapValue),eg.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:jm(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new zp(xh)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await $b(r,e.changes),await $y(r.remoteStore)}catch(e){const t=db(e,"Failed to persist write");n.reject(t)}}(await hx(e),t,n)),n.promise}(Px(e),t)}function Fw(e,t,n){const r=n.docs.get(t._key),o=new Nw(e);return new jw(e,o,t._key,r,new Iw(n.hasPendingWrites,n.fromCache),t.converter)}function Vw(){return new Qx("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Yd=e}(Ma),Ra(new xs("firestore",(e,n)=>{let{instanceIdentifier:r,options:o}=n;const i=e.getProvider("app").getImmediate(),s=new Rx(new ph(e.getProvider("auth-internal")),new vh(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new lh(ah.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sf(e.options.projectId,t)}(i,r),i);return o=l({useFetchStreams:t},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Fa(Kd,Qd,e),Fa(Kd,Qd,"esm2020")}();const Bw="firebasestorage.googleapis.com",Uw="storageBucket";class qw extends ls{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Gw(e),"Firebase Storage: ".concat(t," (").concat(Gw(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qw.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Ww,Hw;function Gw(e){return"storage/"+e}function Kw(){return new qw(Ww.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Qw(){return new qw(Ww.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Xw(){return new qw(Ww.CANCELED,"User canceled the upload/download.")}function Yw(e){return new qw(Ww.INVALID_ARGUMENT,e)}function $w(){return new qw(Ww.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ww||(Ww={}));class Jw{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Jw.makeFromUrl(e,t)}catch(o){return new Jw(e,"")}if(""===n.path)return n;throw r=e,new qw(Ww.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const o=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://".concat(t===Bw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let o=r[t.indices.path];o||(o=""),n=new Jw(e,o),t.postModify(n);break}}if(null==n)throw function(e){return new qw(Ww.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Zw{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function eS(e,t,n,r){if(r<t)throw Yw("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Yw("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function tS(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function nS(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),o=-1!==t.indexOf(e);return n||r||o}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Hw||(Hw={}));class rS{constructor(e,t,n,r,o,i,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new oS(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Hw.NO_ERROR,o=n.getStatus();if(!t||nS(o,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Hw.ABORT;return void e(!1,new oS(!1,null,t))}const i=-1!==this.successCodes_.indexOf(o);e(!0,new oS(i,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,o=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(o,o.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(i){r(i)}else if(null!==o){const e=Kw();e.serverResponse=o.getErrorText(),this.errorCallback_?r(this.errorCallback_(o,e)):r(e)}else if(t.canceled){r(this.appDelete_?$w():Xw())}else{r(Qw())}};this.canceled_?t(0,new oS(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,o=null,i=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){o=setTimeout(()=>{o=null,e(p,l())},t)}function h(){i&&clearTimeout(i)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),d(i)}let f=!1;function m(e){f||(f=!0,h(),c||(null!==o?(e||(a=2),clearTimeout(o),d(0)):e||(a=1)))}return d(0),i=setTimeout(()=>{s=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class oS{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function iS(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class sS{constructor(e,t){this._service=e,this._location=t instanceof Jw?t:Jw.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new sS(e,t)}get root(){const e=new Jw(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iS(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Jw(this._location.bucket,e);return new sS(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new qw(Ww.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function aS(e,t){const n=null===t||void 0===t?void 0:t[Uw];return null==n?null:Jw.makeFromBucketSpec(n,e)}class lS{constructor(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=i,this._bucket=null,this._host=Bw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Jw.makeFromBucketSpec(r,this._host):aS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Jw.makeFromBucketSpec(this._url,e):this._bucket=aS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Na(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sS(this,e)}_makeRequest(e,t,n,r){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Zw($w());{const i=function(e,t,n,r,o,i){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=tS(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new rS(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o,s,a)}(e,this._appId,n,r,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const cS="@firebase/storage",uS="0.14.0",dS="storage";function hS(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new lS(r,o,i,n,Ma)}Ra(new xs(dS,hS,"PUBLIC").setMultipleInstances(!0)),Fa(cS,uS,""),Fa(cS,uS,"esm2020");const pS="@firebase/installations",fS="0.6.19",mS=1e4,gS="w:".concat(fS),vS="FIS_v2",yS=36e5,bS=new cs("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xS(e){return e instanceof ls&&e.code.includes("request-failed")}function wS(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function SS(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function kS(e,t){const n=(await t.json()).error;return bS.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ES(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CS(e,t){let{refreshToken:n}=t;const r=ES(e);return r.append("Authorization",function(e){return"".concat(vS," ").concat(e)}(n)),r}async function AS(e){const t=await e();return t.status>=500&&t.status<600?e():t}function IS(e){return new Promise(t=>{setTimeout(t,e)})}const jS=/^[cdef][\w-]{21}$/;function TS(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return jS.test(t)?t:""}catch(e){return""}}function _S(e){return"".concat(e.appName,"!").concat(e.appId)}const RS=new Map;function PS(e,t){const n=_S(e);NS(n,t),function(e,t){const n=OS();n&&n.postMessage({key:e,fid:t});MS()}(n,t)}function NS(e,t){const n=RS.get(e);if(n)for(const r of n)r(t)}let LS=null;function OS(){return!LS&&"BroadcastChannel"in self&&(LS=new BroadcastChannel("[Firebase] FID Change"),LS.onmessage=e=>{NS(e.data.key,e.data.fid)}),LS}function MS(){0===RS.size&&LS&&(LS.close(),LS=null)}const DS="firebase-installations-store";let zS=null;function FS(){return zS||(zS=Ws("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(DS)}})),zS}async function VS(e,t){const n=_S(e),r=(await FS()).transaction(DS,"readwrite"),o=r.objectStore(DS),i=await o.get(n);return await o.put(t,n),await r.done,i&&i.fid===t.fid||PS(e,t.fid),t}async function BS(e){const t=_S(e),n=(await FS()).transaction(DS,"readwrite");await n.objectStore(DS).delete(t),await n.done}async function US(e,t){const n=_S(e),r=(await FS()).transaction(DS,"readwrite"),o=r.objectStore(DS),i=await o.get(n),s=t(i);return void 0===s?await o.delete(n):await o.put(s,n),await r.done,!s||i&&i.fid===s.fid||PS(e,s.fid),s}async function qS(e){let t;const n=await US(e.appConfig,n=>{const r=function(e){const t=e||{fid:TS(),registrationStatus:0};return GS(t)}(n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(bS.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:o}=t;const i=wS(n),s=ES(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:o,authVersion:vS,appId:n.appId,sdkVersion:gS},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await AS(()=>fetch(i,c));if(u.ok){const e=await u.json();return{fid:e.fid||o,registrationStatus:2,refreshToken:e.refreshToken,authToken:SS(e.authToken)}}throw await kS("Create Installation",u)}(e,t);return VS(e.appConfig,n)}catch(n){throw xS(n)&&409===n.customData.serverCode?await BS(e.appConfig):await VS(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:WS(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function WS(e){let t=await HS(e.appConfig);for(;1===t.registrationStatus;)await IS(100),t=await HS(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await qS(e);return n||t}return t}function HS(e){return US(e,e=>{if(!e)throw bS.create("installation-not-found");return GS(e)})}function GS(e){return 1===(t=e).registrationStatus&&t.registrationTime+mS<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function KS(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const o=function(e,t){let{fid:n}=t;return"".concat(wS(e),"/").concat(n,"/authTokens:generate")}(n,t),i=CS(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const a={installation:{sdkVersion:gS,appId:n.appId}},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await AS(()=>fetch(o,l));if(c.ok){return SS(await c.json())}throw await kS("Generate Auth Token",c)}async function QS(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await US(e.appConfig,r=>{if(!YS(r))throw bS.create("not-registered");const o=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+yS}(e)}(o))return r;if(1===o.requestStatus)return t=async function(e,t){let n=await XS(e.appConfig);for(;1===n.authToken.requestStatus;)await IS(100),n=await XS(e.appConfig);const r=n.authToken;return 0===r.requestStatus?QS(e,t):r}(e,n),r;{if(!navigator.onLine)throw bS.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return l(l({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await KS(e,t),r=l(l({},t),{},{authToken:n});return await VS(e.appConfig,r),n}catch(n){if(!xS(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=l(l({},t),{},{authToken:{requestStatus:0}});await VS(e.appConfig,n)}else await BS(e.appConfig);throw n}}(e,n),n}});return t?await t:r.authToken}function XS(e){return US(e,e=>{if(!YS(e))throw bS.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+mS<Date.now()?l(l({},e),{},{authToken:{requestStatus:0}}):e;var n})}function YS(e){return void 0!==e&&2===e.registrationStatus}async function $S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await qS(e);t&&await t}(n);return(await QS(n,t)).token}function JS(e){return bS.create("missing-app-config-values",{valueName:e})}const ZS="installations",ek=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw JS("App Configuration");if(!e.name)throw JS("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw JS(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Pa(t,"heartbeat"),_delete:()=>Promise.resolve()}},tk=e=>{const t=Pa(e.getProvider("app").getImmediate(),ZS).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await qS(t);return r?r.catch(console.error):QS(t).catch(console.error),n.fid}(t),getToken:e=>$S(t,e)}};Ra(new xs(ZS,ek,"PUBLIC")),Ra(new xs("installations-internal",tk,"PRIVATE")),Fa(pS,fS),Fa(pS,fS,"esm2020");const nk="analytics",rk="https://www.googletagmanager.com/gtag/js",ok=new Rs("@firebase/analytics"),ik=new cs("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function sk(e){if(!e.startsWith(rk)){const t=ik.create("invalid-gtag-resource",{gtagURL:e});return ok.warn(t.message),""}return e}function ak(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function lk(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:sk}),r=document.createElement("script"),o="".concat(rk,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function ck(e,t,n,r){return async function(o){try{for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if("event"===o){const[r,o]=s;await async function(e,t,n,r,o){try{let i=[];if(o&&o.send_to){let e=o.send_to;Array.isArray(e)||(e=[e]);const r=await ak(n);for(const n of e){const e=r.find(e=>e.measurementId===n),o=e&&t[e.appId];if(!o){i=[];break}i.push(o)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,o||{})}catch(i){ok.error(i)}}(e,t,n,r,o)}else if("config"===o){const[o,i]=s;await async function(e,t,n,r,o,i){const s=r[o];try{if(s)await t[s];else{const e=(await ak(n)).find(e=>e.measurementId===o);e&&await t[e.appId]}}catch(a){ok.error(a)}e("config",o,i)}(e,t,n,r,o,i)}else if("consent"===o){const[t,n]=s;e("consent",t,n)}else if("get"===o){const[t,n,r]=s;e("get",t,n,r)}else if("set"===o){const[t]=s;e("set",t)}else e(o,...s)}catch(l){ok.error(l)}}}const uk=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function dk(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function hk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uk,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:o,measurementId:i}=e.options;if(!r)throw ik.create("no-app-id");if(!o){if(i)return{measurementId:i,appId:r};throw ik.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new fk;return setTimeout(async()=>{a.abort()},void 0!==n?n:6e4),pk({appId:r,apiKey:o,measurementId:i},s,a,t)}async function pk(e,t,n){let{throttleEndTimeMillis:r,backoffCount:o}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:uk;const{appId:s,measurementId:a}=e;try{await function(e,t){return new Promise((n,r)=>{const o=Math.max(t-Date.now(),0),i=setTimeout(n,o);e.addEventListener(()=>{clearTimeout(i),r(ik.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(c){if(a)return ok.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:s,measurementId:a};throw c}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:dk(n)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),i=await fetch(o,r);if(200!==i.status&&304!==i.status){let e="";try{var s;const t=await i.json();null!==(s=t.error)&&void 0!==s&&s.message&&(e=t.error.message)}catch(a){}throw ik.create("config-fetch-failed",{httpStatus:i.status,responseMessage:e})}return i.json()}(e);return i.deleteThrottleMetadata(s),t}catch(c){var l;const t=c;if(!function(e){if(!(e instanceof ls)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(i.deleteThrottleMetadata(s),a)return ok.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:s,measurementId:a};throw c}const r=503===Number(null===t||void 0===t||null===(l=t.customData)||void 0===l?void 0:l.httpStatus)?ys(o,i.intervalMillis,30):ys(o,i.intervalMillis),u={throttleEndTimeMillis:Date.now()+r,backoffCount:o+1};return i.setThrottleMetadata(s,u),ok.debug("Calling attemptFetch again in ".concat(r," millis")),pk(e,u,n,i)}}class fk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let mk,gk;function vk(e){gk=e}function yk(e){mk=e}async function bk(e,t,n,r,o,i,s){var a;const l=hk(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&ok.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>ok.error(e)),t.push(l);const c=async function(){if(!ss())return ok.warn(ik.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await as()}catch(e){return ok.warn(ik.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(rk)&&n.src.includes(e))return n;return null})(i)||lk(i,u.measurementId),gk&&(o("consent","default",gk),vk(void 0)),o("js",new Date);const h=null!==(a=null===s||void 0===s?void 0:s.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),o("config",u.measurementId,h),mk&&(o("set",mk),yk(void 0)),u.measurementId}class xk{constructor(e){this.app=e}_delete(){return delete wk[this.app.options.appId],Promise.resolve()}}let wk={},Sk=[];const kk={};let Ek,Ck,Ak="dataLayer",Ik="gtag",jk=!1;function Tk(){const e=[];if(os()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=ik.create("invalid-analytics-context",{errorInfo:t});ok.warn(n.message)}}function _k(e,t,n){Tk();const r=e.options.appId;if(!r)throw ik.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ik.create("no-api-key");ok.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=wk[r])throw ik.create("already-exists",{id:r});if(!jk){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Ak);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,o){let i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[o]&&"function"===typeof window[o]&&(i=window[o]),window[o]=ck(i,e,t,n),{gtagCore:i,wrappedGtag:window[o]}}(wk,Sk,kk,Ak,Ik);Ck=e,Ek=t,jk=!0}wk[r]=bk(e,Sk,kk,t,Ek,Ak,n);return new xk(e)}function Rk(e,t,n){e=bs(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties.".concat(e)]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(Ck,wk[e.app.options.appId],t,n).catch(e=>ok.error(e))}function Pk(e,t,n,r){e=bs(e),async function(e,t,n,r,o){if(o&&o.global)e("event",n,r);else{const o=await t;e("event",n,l(l({},r),{},{send_to:o}))}}(Ck,wk[e.app.options.appId],t,n,r).catch(e=>ok.error(e))}const Nk="@firebase/analytics",Lk="0.10.19";Ra(new xs(nk,(e,t)=>{let{options:n}=t;return _k(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),Ra(new xs("analytics-internal",function(e){try{const t=e.getProvider(nk).getImmediate();return{logEvent:(e,n,r)=>Pk(t,e,n,r),setUserProperties:(e,n)=>Rk(t,e,n)}}catch(t){throw ik.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Fa(Nk,Lk),Fa(Nk,Lk,"esm2020");const Ok=Da({apiKey:"AIzaSyA4VxXsU3yI3GedYREVkUIOgHo8NU1DUsw",authDomain:"ia-project-91c03.firebaseapp.com",projectId:"ia-project-91c03",storageBucket:"ia-project-91c03.firebasestorage.app",messagingSenderId:"764765123671",appId:"1:764765123671:web:c6861709d1a881fcfe1f12",measurementId:""}),Mk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za();const t=Pa(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Pa(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ds(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ol(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ad,persistence:[Mu,gu,wu]}),r=Qi("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(o=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>_d)return;const r=null===t||void 0===t?void 0:t.token;Rd!==r&&(Rd=r,await fetch(o,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){bs(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){bs(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var o;const i=Hi("auth");return i&&Cc(n,"http://".concat(i)),n}(Ok),Dk=function(e,t){const n="object"==typeof e?e:za(),r="string"==typeof e?e:t||of,o=Pa(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const e=Gi("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Dh(e,wx);const o=Yi(t),i=e._getSettings(),s=l(l({},i),{},{emulatorOptions:e._getEmulatorOptions()}),a="".concat(t,":").concat(n);o&&($i("https://".concat(a)),ts("Firestore",!0)),i.host!==yx&&i.host!==a&&th("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=l(l({},i),{},{host:a,ssl:o,emulatorOptions:r});if(!ds(c,s)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Xd.MOCK_USER;else{var u;t=Ji(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new lh(ah.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Xd(o)}e._authCredentials=new hh(new uh(t,n))}}(o,...e)}return o}(Ok);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za(),t=arguments.length>1?arguments[1]:void 0;e=bs(e);const n=Pa(e,dS).getImmediate({identifier:t}),r=Gi("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const o=Yi(t);o&&($i("https://".concat(e.host,"/b")),ts("Storage",!0)),e._isUsingEmulator=!0,e._protocol=o?"https":"http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Ji(i,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(Ok);let zk=null;"undefined"!==typeof window&&(zk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za();e=bs(e);const t=Pa(e,nk);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Pa(e,nk);if(n.isInitialized()){const e=n.getImmediate();if(ds(t,n.getOptions()))return e;throw ik.create("already-initialized")}return n.initialize({options:t})}(e)}(Ok));const Fk=async(e,t,n)=>{try{const r=await async function(e,t,n){if(Na(e.app))return Promise.reject(al(e));const r=pc(e),o=kc(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qc,"EMAIL_PASSWORD_PROVIDER"),i=await o.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&au(e),t}),s=await Xc._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}(Mk,e,t);return n&&await du(r.user,{displayName:n}),await uu(r.user),{success:!0,user:r.user,message:"Registration successful. Please check your email for verification."}}catch(r){return console.error("Registration error:",r),{success:!1,error:r.code,message:Hk(r.code)}}},Vk=async(e,t)=>{try{const n=await function(e,t,n){return Na(e.app)?Promise.reject(al(e)):nu(bs(e),Bc.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&au(e),t})}(Mk,e,t);return{success:!0,user:n.user}}catch(n){return console.error("Login error:",n),{success:!1,error:n.code,message:Hk(n.code)}}},Bk=async()=>{try{return await function(e){return bs(e).signOut()}(Mk),{success:!0,message:"Logout successful"}}catch(e){return console.error("Logout error:",e),{success:!1,error:e.code,message:Hk(e.code)}}},Uk=async e=>{try{return await async function(e,t,n){const r=pc(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&su(r,o,n),await kc(r,o,"getOobCode",Nc,"EMAIL_PASSWORD_PROVIDER")}(Mk,e),{success:!0,message:"Password reset email sent. Please check your inbox."}}catch(t){return console.error("Password reset error:",t),{success:!1,error:t.code,message:Hk(t.code)}}},qk=async()=>{try{const e=new Hc,t=await async function(e,t,n){if(Na(e.app))return Promise.reject(il(e,"operation-not-supported-in-this-environment"));const r=pc(e);ll(e,t,Uc);const o=Uu(r,n);return new Xu(r,"signInViaPopup",t,o).executeNotNull()}(Mk,e);return{success:!0,user:t.user}}catch(e){return console.error("Google sign-in error:",e),{success:!1,error:e.code,message:Hk(e.code)}}},Wk=e=>function(e,t,n,r){return bs(e).onAuthStateChanged(t,n,r)}(Mk,e),Hk=e=>({"auth/email-already-in-use":"This email is already registered.","auth/invalid-email":"Invalid email address.","auth/operation-not-allowed":"Operation not allowed. Please contact support.","auth/weak-password":"Password is too weak. Use at least 6 characters.","auth/user-disabled":"This account has been disabled.","auth/user-not-found":"No account found with this email.","auth/wrong-password":"Incorrect password.","auth/too-many-requests":"Too many failed attempts. Please try again later.","auth/network-request-failed":"Network error. Please check your connection.","auth/popup-closed-by-user":"Sign-in popup was closed before completion.","auth/cancelled-popup-request":"Only one popup request is allowed at a time."}[e]||"An error occurred. Please try again."),Gk=()=>{const[t,n]=(0,e.useState)(null),[r,o]=(0,e.useState)(!0),[i,s]=(0,e.useState)(null);(0,e.useEffect)(()=>{const e=Wk(e=>{n(e),o(!1)});return()=>e()},[]);return{user:t,loading:r,error:i,register:async(e,t,n)=>{o(!0),s(null);const r=await Fk(e,t,n);return r.success||s(r.message||null),o(!1),r},login:async(e,t)=>{o(!0),s(null);const n=await Vk(e,t);return n.success||s(n.message||null),o(!1),n},logout:async()=>{o(!0),s(null);const e=await Bk();return e.success||s(e.message||null),o(!1),e},resetPassword:async e=>{o(!0),s(null);const t=await Uk(e);return t.success||s(t.message||null),o(!1),t},signInWithGoogle:async()=>{o(!0),s(null);const e=await qk();return e.success||s(e.message||null),o(!1),e},clearError:()=>{s(null)},isAuthenticated:!!t}},Kk="users",Qk="progress",Xk="test_results",Yk=async(e,t)=>{try{const n=Ax(Dk,Kk,e);return(await Pw(n)).exists()?await Mw(n,l(l({},t),{},{updatedAt:Vw()})):await Ow(n,l(l({},t),{},{createdAt:Vw(),updatedAt:Vw()})),{success:!0,message:"User profile saved successfully"}}catch(n){return console.error("Error saving user profile:",n),{success:!1,error:n.message}}},$k=async(e,t)=>{try{const n=Ax(Dk,Qk,e);return(await Pw(n)).exists()?await Mw(n,l(l({},t),{},{updatedAt:Vw()})):await Ow(n,l(l({userId:e},t),{},{createdAt:Vw(),updatedAt:Vw()})),{success:!0,message:"Progress saved successfully"}}catch(n){return console.error("Error saving progress:",n),{success:!1,error:n.message}}},Jk=async e=>{try{const t=Ax(Dk,Qk,e),n=await Pw(t);return n.exists()?{success:!0,data:l({id:n.id},n.data())}:{success:!1,message:"Progress not found"}}catch(t){return console.error("Error getting progress:",t),{success:!1,error:t.message}}},Zk=async(e,t)=>{try{const r=Ax(Cx(Dk,Xk));await Ow(r,l(l({userId:e},t),{},{createdAt:Vw()}));const o=Ax(Dk,Qk,e);return await Mw(o,{totalTests:(n=1,new Xx("increment",n)),updatedAt:Vw()}),{success:!0,message:"Test result saved successfully",testId:r.id}}catch(r){return console.error("Error saving test result:",r),{success:!1,error:r.message}}var n},eE=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{const n=fw(Cx(Dk,Xk),gw("userId","==",e),bw("createdAt","desc"),ww(t)),r=await Lw(n),o=[];return r.forEach(e=>{o.push(l({id:e.id},e.data()))}),{success:!0,data:o}}catch(n){return console.error("Error getting test results:",n),{success:!1,error:n.message}}},tE=(e,t)=>Dw(Ax(Dk,Qk,e),e=>{e.exists()?t(l({id:e.id},e.data())):t(null)}),nE=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return Dw(fw(Cx(Dk,Xk),gw("userId","==",e),bw("createdAt","desc"),ww(n)),e=>{const n=[];e.forEach(e=>{n.push(l({id:e.id},e.data()))}),t(n)})},rE=function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const[r,o]=(0,e.useState)(null),[i,s]=(0,e.useState)(!0),[a,c]=(0,e.useState)(null);(0,e.useEffect)(()=>{if(!t){const e=setTimeout(()=>{o(null),s(!1)},0);return()=>clearTimeout(e)}if(n){const e=tE(t,e=>{o(e),s(!1)});return()=>e()}(async()=>{s(!0);const e=await Jk(t);e.success?o(e.data):c(e.error||e.message||null),s(!1)})()},[t,n]);return{progress:r,loading:i,error:a,updateProgress:async e=>{if(!t)return{success:!1,message:"User ID required"};s(!0);const i=await $k(t,e);return i.success&&!n?o(l(l({},r),e)):i.success||c(i.error||null),s(!1),i}}},oE=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const[o,i]=(0,e.useState)([]),[s,a]=(0,e.useState)(!0),[c,u]=(0,e.useState)(null);(0,e.useEffect)(()=>{if(!t){const e=setTimeout(()=>{i([]),a(!1)},0);return()=>clearTimeout(e)}if(r){const e=nE(t,e=>{i(e),a(!1)},n);return()=>e()}(async()=>{a(!0);const e=await eE(t,n);e.success?i(e.data):u(e.error||e.message||null),a(!1)})()},[t,n,r]);return{testResults:o,loading:s,error:c,addTestResult:async e=>{if(!t)return{success:!1,message:"User ID required"};a(!0);const n=await Zk(t,e);return n.success&&!r?i([l({id:n.testId},e),...o]):n.success||u(n.error||null),a(!1),n}}},iE=(0,e.createContext)(void 0),sE=t=>{var n,r;let{children:o}=t;const i=Gk(),[s,a]=(0,e.useState)(null),[c,u]=(0,e.useState)(null),[d,h]=(0,e.useState)([]),[p,f]=(0,e.useState)({totalExercises:0,completedExercises:0,averageScore:0,timeSpent:0,streakDays:0,levelProgress:{},domainProgress:{}}),{progress:m,updateProgress:g}=rE((null===(n=i.user)||void 0===n?void 0:n.uid)||null,!0),{testResults:v,addTestResult:y}=oE((null===(r=i.user)||void 0===r?void 0:r.uid)||null,20,!0);(0,e.useEffect)(()=>{if(i.user){const e={id:i.user.uid,name:i.user.displayName||i.user.email||"Utilisateur",currentLevel:"B1",targetLevel:"C1",strengths:[],weaknesses:[],completedExercises:(null===m||void 0===m?void 0:m.totalTests)||0,totalScore:0,createdAt:new Date(i.user.metadata.creationTime||Date.now()),lastActivity:new Date};a(e),Yk(i.user.uid,{email:i.user.email,displayName:i.user.displayName,currentLevel:"B1",targetLevel:"C1",emailVerified:i.user.emailVerified}).catch(e=>console.error("Error syncing user profile:",e))}else{const e=localStorage.getItem("token"),n=localStorage.getItem("user");if(e&&n)try{const t=JSON.parse(n);u(e);const r={id:t.id||"user_".concat(Date.now()),name:"".concat(t.firstName||""," ").concat(t.lastName||"").trim()||t.email||"Utilisateur",currentLevel:t.currentLevel||"B1",targetLevel:t.targetLevel||"C1",strengths:[],weaknesses:t.weaknesses||[],completedExercises:0,totalScore:0,createdAt:t.createdAt?new Date(t.createdAt):new Date,lastActivity:t.lastLogin?new Date(t.lastLogin):new Date};a(r)}catch(t){console.error("Erreur chargement utilisateur:",t),localStorage.removeItem("token"),localStorage.removeItem("user")}}const e=localStorage.getItem("userResponses");if(e)try{h(JSON.parse(e))}catch(t){console.error("Erreur chargement r\xe9ponses:",t)}},[i.user,m]),(0,e.useEffect)(()=>{s&&localStorage.setItem("userProfile",JSON.stringify(s))},[s]),(0,e.useEffect)(()=>{localStorage.setItem("userResponses",JSON.stringify(d)),b()},[d]);const b=()=>{const e=new Set(d.map(e=>e.exerciseId)),t=d.filter(e=>e.isCorrect).length,n=d.length>0?t/d.length*100:0,r=d.reduce((e,t)=>e+t.timeSpent,0),o={totalExercises:e.size,completedExercises:e.size,averageScore:Math.round(100*n)/100,timeSpent:r,streakDays:x(),levelProgress:{},domainProgress:{}};f(o),i.user&&s&&g({totalTests:o.totalExercises,averageScore:o.averageScore,timeSpent:o.timeSpent,streakDays:o.streakDays,currentLevel:s.currentLevel,targetLevel:s.targetLevel}).catch(e=>console.error("Error updating progress in Firebase:",e))},x=()=>{if(0===d.length)return 0;const e=d.map(e=>new Date(e.timestamp).toDateString()).filter((e,t,n)=>n.indexOf(e)===t).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime());let t=0,n=new Date;for(const r of e){const e=new Date(r);if(Math.floor((n.getTime()-e.getTime())/864e5)!==t)break;t++,n=e}return t},w=()=>{u(null),a(null),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("userProfile"),localStorage.removeItem("userResponses"),localStorage.removeItem("levelAssessed")},S=!!c&&!!s||i.isAuthenticated;return(0,te.jsx)(iE.Provider,{value:{user:s,token:c,isAuthenticated:S,loading:i.loading,error:i.error,login:(e,t)=>{u(e),localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t));const n={id:t.id||"user_".concat(Date.now()),name:"".concat(t.firstName||""," ").concat(t.lastName||"").trim()||t.email||"Utilisateur",currentLevel:t.currentLevel||"B1",targetLevel:t.targetLevel||"C1",strengths:[],weaknesses:t.weaknesses||[],completedExercises:0,totalScore:0,createdAt:t.createdAt?new Date(t.createdAt):new Date,lastActivity:new Date};a(n)},firebaseLogin:async(e,t)=>await i.login(e,t),firebaseRegister:async(e,t,n)=>await i.register(e,t,n),firebaseLogout:async()=>{const e=await i.logout();return e.success&&w(),e},googleSignIn:async()=>await i.signInWithGoogle(),logout:w,setUser:a,responses:d,addResponse:e=>{if(h(t=>[...t,e]),s){const t=l(l({},s),{},{completedExercises:s.completedExercises+1,lastActivity:new Date});a(t),i.user&&y({exerciseId:e.exerciseId,questionId:e.questionId,answer:e.answer,isCorrect:e.isCorrect,timeSpent:e.timeSpent,timestamp:e.timestamp}).catch(e=>console.error("Error saving test result to Firebase:",e))}},stats:p,updateStats:b},children:o})},aE=()=>{const t=(0,e.useContext)(iE);if(!t)throw new Error("useUser must be used within a UserProvider");return t},lE=ji((0,te.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function cE(e){return ae("MuiChip",e)}const uE=le("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),dE=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],hE=ye("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:i,onDelete:s,size:a,variant:l}=n;return[{["& .".concat(uE.avatar)]:t.avatar},{["& .".concat(uE.avatar)]:t["avatar".concat(Ce(a))]},{["& .".concat(uE.avatar)]:t["avatarColor".concat(Ce(r))]},{["& .".concat(uE.icon)]:t.icon},{["& .".concat(uE.icon)]:t["icon".concat(Ce(a))]},{["& .".concat(uE.icon)]:t["iconColor".concat(Ce(o))]},{["& .".concat(uE.deleteIcon)]:t.deleteIcon},{["& .".concat(uE.deleteIcon)]:t["deleteIcon".concat(Ce(a))]},{["& .".concat(uE.deleteIcon)]:t["deleteIconColor".concat(Ce(r))]},{["& .".concat(uE.deleteIcon)]:t["deleteIcon".concat(Ce(l),"Color").concat(Ce(r))]},t.root,t["size".concat(Ce(a))],t["color".concat(Ce(r))],i&&t.clickable,i&&"default"!==r&&t["clickableColor".concat(Ce(r),")")],s&&t.deletable,s&&"default"!==r&&t["deletableColor".concat(Ce(r))],t[l],t["".concat(l).concat(Ce(r))]]}})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return(0,c.A)({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(uE.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(uE.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},["& .".concat(uE.avatarColorPrimary)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},["& .".concat(uE.avatarColorSecondary)]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},["& .".concat(uE.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},["& .".concat(uE.icon)]:(0,c.A)({marginLeft:5,marginRight:-6},"small"===n.size&&{fontSize:18,marginLeft:4,marginRight:-4},n.iconColor===n.color&&(0,c.A)({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},"default"!==n.color&&{color:"inherit"})),["& .".concat(uE.deleteIcon)]:(0,c.A)({WebkitTapHighlightColor:"transparent",color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.26)"):(0,v.X4)(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.4)"):(0,v.X4)(t.palette.text.primary,.4)}},"small"===n.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==n.color&&{color:t.vars?"rgba(".concat(t.vars.palette[n.color].contrastTextChannel," / 0.7)"):(0,v.X4)(t.palette[n.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].contrastText}})},"small"===n.size&&{height:24},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},n.onDelete&&{["&.".concat(uE.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,v.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},n.onDelete&&"default"!==n.color&&{["&.".concat(uE.focusVisible)]:{backgroundColor:(t.vars||t).palette[n.color].dark}})},e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({},n.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,v.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},["&.".concat(uE.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,v.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},n.clickable&&"default"!==n.color&&{["&:hover, &.".concat(uE.focusVisible)]:{backgroundColor:(t.vars||t).palette[n.color].dark}})},e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({},"outlined"===n.variant&&{backgroundColor:"transparent",border:t.vars?"1px solid ".concat(t.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]),["&.".concat(uE.clickable,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(uE.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["& .".concat(uE.avatar)]:{marginLeft:4},["& .".concat(uE.avatarSmall)]:{marginLeft:2},["& .".concat(uE.icon)]:{marginLeft:4},["& .".concat(uE.iconSmall)]:{marginLeft:2},["& .".concat(uE.deleteIcon)]:{marginRight:5},["& .".concat(uE.deleteIconSmall)]:{marginRight:3}},"outlined"===n.variant&&"default"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.7)"):(0,v.X4)(t.palette[n.color].main,.7)),["&.".concat(uE.clickable,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,v.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity)},["&.".concat(uE.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):(0,v.X4)(t.palette[n.color].main,t.palette.action.focusOpacity)},["& .".concat(uE.deleteIcon)]:{color:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.7)"):(0,v.X4)(t.palette[n.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].main}}})}),pE=ye("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t["label".concat(Ce(r))]]}})(e=>{let{ownerState:t}=e;return(0,c.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===t.variant&&{paddingLeft:11,paddingRight:11},"small"===t.size&&{paddingLeft:8,paddingRight:8},"small"===t.size&&"outlined"===t.variant&&{paddingLeft:7,paddingRight:7})});function fE(e){return"Backspace"===e.key||"Delete"===e.key}const mE=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiChip"}),{avatar:o,className:i,clickable:s,color:a="default",component:l,deleteIcon:d,disabled:h=!1,icon:p,label:f,onClick:m,onDelete:g,onKeyDown:v,onKeyUp:y,size:b="medium",variant:x="filled",tabIndex:w,skipFocusWhenDisabled:S=!1}=r,k=(0,u.A)(r,dE),E=e.useRef(null),C=dt(E,n),A=e=>{e.stopPropagation(),g&&g(e)},I=!(!1===s||!m)||s,j=I||g?un:l||"div",T=(0,c.A)({},r,{component:j,disabled:h,size:b,color:a,iconColor:e.isValidElement(p)&&p.props.color||a,onDelete:!!g,clickable:I,variant:x}),_=(e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:i,onDelete:s,clickable:a,variant:l}=e;return pe({root:["root",l,n&&"disabled","size".concat(Ce(r)),"color".concat(Ce(o)),a&&"clickable",a&&"clickableColor".concat(Ce(o)),s&&"deletable",s&&"deletableColor".concat(Ce(o)),"".concat(l).concat(Ce(o))],label:["label","label".concat(Ce(r))],avatar:["avatar","avatar".concat(Ce(r)),"avatarColor".concat(Ce(o))],icon:["icon","icon".concat(Ce(r)),"iconColor".concat(Ce(i))],deleteIcon:["deleteIcon","deleteIcon".concat(Ce(r)),"deleteIconColor".concat(Ce(o)),"deleteIcon".concat(Ce(l),"Color").concat(Ce(o))]},cE,t)})(T),R=j===un?(0,c.A)({component:l||"div",focusVisibleClassName:_.focusVisible},g&&{disableRipple:!0}):{};let P=null;g&&(P=d&&e.isValidElement(d)?e.cloneElement(d,{className:Q(d.props.className,_.deleteIcon),onClick:A}):(0,te.jsx)(lE,{className:Q(_.deleteIcon),onClick:A}));let N=null;o&&e.isValidElement(o)&&(N=e.cloneElement(o,{className:Q(_.avatar,o.props.className)}));let L=null;return p&&e.isValidElement(p)&&(L=e.cloneElement(p,{className:Q(_.icon,p.props.className)})),(0,te.jsxs)(hE,(0,c.A)({as:j,className:Q(_.root,i),disabled:!(!I||!h)||void 0,onClick:m,onKeyDown:e=>{e.currentTarget===e.target&&fE(e)&&e.preventDefault(),v&&v(e)},onKeyUp:e=>{e.currentTarget===e.target&&(g&&fE(e)?g(e):"Escape"===e.key&&E.current&&E.current.blur()),y&&y(e)},ref:C,tabIndex:S&&h?-1:w,ownerState:T},R,k,{children:[N||L,(0,te.jsx)(pE,{className:Q(_.label),ownerState:T,children:f}),P]}))}),gE=mE,vE=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],yE=["component","slots","slotProps"],bE=["component"];function xE(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,getSlotOwnerState:s,internalForwardedProps:a}=t,l=(0,u.A)(t,vE),{component:d,slots:h={[e]:void 0},slotProps:p={[e]:void 0}}=i,f=(0,u.A)(i,yE),m=h[e]||r,g=Qn(p[e],o),v=Kn((0,c.A)({className:n},l,{externalForwardedProps:"root"===e?f:void 0,externalSlotProps:g})),{props:{component:y},internalRef:b}=v,x=(0,u.A)(v.props,bE),w=ut(b,null==g?void 0:g.ref,t.ref),S=s?s(x):{},k=(0,c.A)({},o,S),E="root"===e?y||d:y,C=Wn(m,(0,c.A)({},"root"===e&&!d&&!h[e]&&a,"root"!==e&&!h[e]&&a,x,E&&{as:E},{ref:w}),k);return Object.keys(S).forEach(e=>{delete C[e]}),[m,C]}function wE(e){return ae("MuiAlert",e)}const SE=le("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),kE=ji((0,te.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),EE=ji((0,te.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),CE=ji((0,te.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),AE=ji((0,te.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),IE=ji((0,te.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),jE=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],TE=ye(Je,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(Ce(n.color||n.severity))]]}})(e=>{let{theme:t}=e;const n="light"===t.palette.mode?v.e$:v.a,r="light"===t.palette.mode?v.a:v.e$;return(0,c.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[o]=e;return{props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:n(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(o,"StandardBg")]:r(t.palette[o].light,.9),["& .".concat(SE.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(r,"Color")]:n(t.palette[r].light,.6),border:"1px solid ".concat((t.vars||t).palette[r].light),["& .".concat(SE.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(r,"IconColor")]}:{color:t.palette[r].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.dark}).map(e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:(0,c.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(n,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(n,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}})]})}),_E=ye("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),RE=ye("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),PE=ye("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),NE={success:(0,te.jsx)(kE,{fontSize:"inherit"}),warning:(0,te.jsx)(EE,{fontSize:"inherit"}),error:(0,te.jsx)(CE,{fontSize:"inherit"}),info:(0,te.jsx)(AE,{fontSize:"inherit"})},LE=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiAlert"}),{action:r,children:o,className:i,closeText:s="Close",color:a,components:l={},componentsProps:d={},icon:h,iconMapping:p=NE,onClose:f,role:m="alert",severity:g="success",slotProps:v={},slots:y={},variant:b="standard"}=n,x=(0,u.A)(n,jE),w=(0,c.A)({},n,{color:a,severity:g,variant:b,colorSeverity:a||g}),S=(e=>{const{variant:t,color:n,severity:r,classes:o}=e;return pe({root:["root","color".concat(Ce(n||r)),"".concat(t).concat(Ce(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]},wE,o)})(w),k={slots:(0,c.A)({closeButton:l.CloseButton,closeIcon:l.CloseIcon},y),slotProps:(0,c.A)({},d,v)},[E,C]=xE("closeButton",{elementType:zn,externalForwardedProps:k,ownerState:w}),[A,I]=xE("closeIcon",{elementType:IE,externalForwardedProps:k,ownerState:w});return(0,te.jsxs)(TE,(0,c.A)({role:m,elevation:0,ownerState:w,className:Q(S.root,i),ref:t},x,{children:[!1!==h?(0,te.jsx)(_E,{ownerState:w,className:S.icon,children:h||p[g]||NE[g]}):null,(0,te.jsx)(RE,{ownerState:w,className:S.message,children:o}),null!=r?(0,te.jsx)(PE,{ownerState:w,className:S.action,children:r}):null,null==r&&f?(0,te.jsx)(PE,{ownerState:w,className:S.action,children:(0,te.jsx)(E,(0,c.A)({size:"small","aria-label":s,title:s,color:"inherit",onClick:f},C,{children:(0,te.jsx)(A,(0,c.A)({fontSize:"small"},I))}))}):null]}))}),OE=LE;function ME(e){return ae("MuiLinearProgress",e)}le("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var DE,zE,FE,VE,BE,UE;const qE=["className","color","value","valueBuffer","variant"];let WE,HE,GE,KE,QE,XE;const YE=(0,Ft.i7)(WE||(WE=DE||(DE=Tt(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),$E=(0,Ft.i7)(HE||(HE=zE||(zE=Tt(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),JE=(0,Ft.i7)(GE||(GE=FE||(FE=Tt(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),ZE=(e,t)=>"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?(0,v.a)(e.palette[t].main,.62):(0,v.e$)(e.palette[t].main,.5),eC=ye("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat(Ce(n.color))],t[n.variant]]}})(e=>{let{ownerState:t,theme:n}=e;return(0,c.A)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:ZE(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})}),tC=ye("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t["dashedColor".concat(Ce(n.color))]]}})(e=>{let{ownerState:t,theme:n}=e;const r=ZE(n,t.color);return(0,c.A)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},(0,Ft.AH)(KE||(KE=VE||(VE=Tt(["\n    animation: "," 3s infinite linear;\n  "]))),JE)),nC=ye("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat(Ce(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})(e=>{let{ownerState:t,theme:n}=e;return(0,c.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})},e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,Ft.AH)(QE||(QE=BE||(BE=Tt(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),YE)}),rC=ye("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat(Ce(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})(e=>{let{ownerState:t,theme:n}=e;return(0,c.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:ZE(n,t.color),transition:"transform .".concat(4,"s linear")})},e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,Ft.AH)(XE||(XE=UE||(UE=Tt(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),$E)}),oC=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiLinearProgress"}),{className:r,color:o="primary",value:i,valueBuffer:s,variant:a="indeterminate"}=n,l=(0,u.A)(n,qE),d=(0,c.A)({},n,{color:o,variant:a}),h=(e=>{const{classes:t,variant:n,color:r}=e;return pe({root:["root","color".concat(Ce(r)),n],dashed:["dashed","dashedColor".concat(Ce(r))],bar1:["bar","barColor".concat(Ce(r)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat(Ce(r)),"buffer"===n&&"color".concat(Ce(r)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]},ME,t)})(d),p=Bn(),f={},m={bar1:{},bar2:{}};if("determinate"===a||"buffer"===a)if(void 0!==i){f["aria-valuenow"]=Math.round(i),f["aria-valuemin"]=0,f["aria-valuemax"]=100;let e=i-100;p&&(e=-e),m.bar1.transform="translateX(".concat(e,"%)")}else 0;if("buffer"===a)if(void 0!==s){let e=(s||0)-100;p&&(e=-e),m.bar2.transform="translateX(".concat(e,"%)")}else 0;return(0,te.jsxs)(eC,(0,c.A)({className:Q(h.root,r),ownerState:d,role:"progressbar"},f,{ref:t},l,{children:["buffer"===a?(0,te.jsx)(tC,{className:h.dashed,ownerState:d}):null,(0,te.jsx)(nC,{className:h.bar1,ownerState:d,style:m.bar1}),"determinate"===a?null:(0,te.jsx)(rC,{className:h.bar2,ownerState:d,style:m.bar2})]}))}),iC=oC,sC=ji((0,te.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),aC=ji([(0,te.jsx)("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),(0,te.jsx)("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")],"MenuBook"),lC=ji((0,te.jsx)("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"}),"EmojiEvents"),cC=ji((0,te.jsx)("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer"),uC=ji((0,te.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),dC=e=>{let{onStartAssessment:t,onNavigate:n}=e;const{user:r,stats:o}=aE();if(!r)return null;const i=Math.min(100,o.averageScore/85*100);return(0,te.jsxs)(he,{sx:{p:3},children:[(0,te.jsxs)(he,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,te.jsx)(Pe,{variant:"h4",sx:{fontWeight:"bold"},children:"Tableau de bord"}),(0,te.jsx)(gE,{label:"Niveau ".concat(r.currentLevel," \u2192 Objectif ").concat(r.targetLevel),color:"primary",sx:{fontSize:"0.9rem",py:2}})]}),(0,te.jsx)(OE,{severity:"info",action:(0,te.jsx)(wn,{color:"inherit",size:"small",startIcon:(0,te.jsx)(sC,{}),onClick:t,children:"Refaire"}),sx:{mb:3},children:(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Conseil :"})," Vous pouvez refaire l'\xe9valuation de niveau \xe0 tout moment pour ajuster votre programme d'apprentissage en fonction de vos progr\xe8s."]})}),(0,te.jsxs)(Ge,{container:!0,spacing:3,children:[(0,te.jsx)(Ge,{item:!0,xs:12,md:6,lg:3,children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,te.jsx)(Ri,{sx:{mr:1,color:"primary.main"}}),(0,te.jsx)(Pe,{variant:"h6",children:"Niveau actuel"})]}),(0,te.jsx)(Pe,{variant:"h3",color:"primary",children:r.currentLevel}),(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",children:["Objectif: ",r.targetLevel]}),(0,te.jsx)(iC,{variant:"determinate",value:i,sx:{mt:2,height:8,borderRadius:4}})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:6,lg:3,children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,te.jsx)(aC,{sx:{mr:1,color:"success.main"}}),(0,te.jsx)(Pe,{variant:"h6",children:"Exercices"})]}),(0,te.jsx)(Pe,{variant:"h3",color:"success.main",children:o.completedExercises}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",children:"exercices compl\xe9t\xe9s"})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:6,lg:3,children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,te.jsx)(lC,{sx:{mr:1,color:"warning.main"}}),(0,te.jsx)(Pe,{variant:"h6",children:"Score moyen"})]}),(0,te.jsxs)(Pe,{variant:"h3",color:"warning.main",children:[o.averageScore.toFixed(1),"%"]}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",children:"sur tous les exercices"})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:6,lg:3,children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,te.jsx)(cC,{sx:{mr:1,color:"info.main"}}),(0,te.jsx)(Pe,{variant:"h6",children:"Temps d'\xe9tude"})]}),(0,te.jsxs)(Pe,{variant:"h3",color:"info.main",children:[Math.floor(o.timeSpent/60),"h"]}),(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",children:[o.streakDays," jours cons\xe9cutifs"]})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:4,children:(0,te.jsx)(rt,{elevation:3,sx:{height:"100%"},children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,te.jsx)(Ri,{sx:{mr:1,color:"primary.main"}}),(0,te.jsx)(Pe,{variant:"h6",children:"Exercices"})]}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Acc\xe9dez \xe0 plus de 400 exercices (QCM et textes \xe0 trous) pour pratiquer votre anglais technique dans les domaines IT, IA, DevOps et Cybers\xe9curit\xe9."}),(0,te.jsx)(wn,{variant:"contained",fullWidth:!0,color:"primary",startIcon:(0,te.jsx)(Ri,{}),onClick:()=>null===n||void 0===n?void 0:n("exercises"),sx:{mt:2},children:"Lancer les exercices"})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:4,children:(0,te.jsx)(rt,{elevation:3,sx:{height:"100%"},children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,te.jsx)(_i,{sx:{mr:1,color:"primary.main"}}),(0,te.jsx)(Pe,{variant:"h6",children:"\xc9valuation de niveau"})]}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Refaites l'\xe9valuation compl\xe8te (18 questions - Listening, Reading, Writing) pour mettre \xe0 jour votre niveau et adapter votre programme."}),(0,te.jsx)(wn,{variant:"outlined",fullWidth:!0,startIcon:(0,te.jsx)(sC,{}),onClick:t,sx:{mt:2},children:"Refaire l'\xe9valuation"})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:4,children:(0,te.jsx)(rt,{elevation:3,sx:{height:"100%"},children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,te.jsx)(uC,{sx:{mr:1,color:"success.main"}}),(0,te.jsx)(Pe,{variant:"h6",children:"Programme adaptatif"})]}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Consultez votre programme d'apprentissage personnalis\xe9 qui s'adapte automatiquement en fonction de vos performances et points faibles."}),(0,te.jsx)(wn,{variant:"contained",fullWidth:!0,color:"success",onClick:()=>null===n||void 0===n?void 0:n("learning"),sx:{mt:2},children:"Voir mon programme"})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:6,children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,te.jsx)(Ni,{sx:{mr:1,color:"error.main"}}),(0,te.jsx)(Pe,{variant:"h6",children:"Points \xe0 am\xe9liorer"})]}),(0,te.jsx)(he,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.weaknesses.length>0?r.weaknesses.map((e,t)=>(0,te.jsx)(gE,{label:e,color:"error",variant:"outlined",size:"small"},t)):(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",children:"Aucune faiblesse identifi\xe9e pour le moment"})})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:6,children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,te.jsx)(uC,{sx:{mr:1,color:"success.main"}}),(0,te.jsx)(Pe,{variant:"h6",children:"Points forts"})]}),(0,te.jsx)(he,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.strengths.length>0?r.strengths.map((e,t)=>(0,te.jsx)(gE,{label:e,color:"success",variant:"outlined",size:"small"},t)):(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",children:"Compl\xe9tez des exercices pour identifier vos forces"})})]})})})]})]})},hC=ji((0,te.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),pC=e=>e.toLowerCase().match(/\b\w+\b/g)||[];const fC=new class{constructor(){this.GRAMMAR_KEYWORDS=["present_perfect","past_simple","future_continuous","conditional","passive_voice","relative_clauses","prepositions","articles","modal_verbs"],this.TECH_VOCAB=["technical_debt","memory_leak","ci_cd","mlops","rag_system","gdpr","ai_act","angular","devops","cybersecurity","vibe_coding","cursor","pipeline"]}analyzeProgress(e,t,n){const r=this.calculateGrammarScore(e,t),o=this.calculateVocabularyScore(e,t),i=(r+o)/2,s=this.identifyWeakAreas(e,t),a=this.identifyStrongAreas(e,t),l=this.recommendExercises(s,n),c=this.determineNextLevel(i,n.currentLevel);return{overallScore:Math.round(100*i)/100,grammarScore:Math.round(100*r)/100,vocabularyScore:Math.round(100*o)/100,weakAreas:s,strongAreas:a,recommendedExercises:l,nextLevel:c}}calculateGrammarScore(e,t){const n=e.filter(e=>{const n=t.find(t=>t.id===e.exerciseId);return null===n||void 0===n?void 0:n.questions.some(e=>e.grammarFocus&&e.grammarFocus.length>0)});if(0===n.length)return 0;const r=n.filter(e=>e.isCorrect).length;return r/n.length*100}calculateVocabularyScore(e,t){const n=e.filter(e=>{const n=t.find(t=>t.id===e.exerciseId);return null===n||void 0===n?void 0:n.questions.some(e=>e.vocabularyFocus&&e.vocabularyFocus.length>0)});if(0===n.length)return 0;const r=n.filter(e=>e.isCorrect).length;return r/n.length*100}identifyWeakAreas(e,t){const n=new Map;return e.forEach(e=>{if(!e.isCorrect){const r=t.find(t=>t.id===e.exerciseId),o=null===r||void 0===r?void 0:r.questions.find(t=>t.id===e.questionId);null!==o&&void 0!==o&&o.grammarFocus&&o.grammarFocus.forEach(e=>{n.set(e,(n.get(e)||0)+1)}),null!==o&&void 0!==o&&o.vocabularyFocus&&o.vocabularyFocus.forEach(e=>{n.set(e,(n.get(e)||0)+1)}),null!==r&&void 0!==r&&r.domain&&n.set(r.domain,(n.get(r.domain)||0)+1)}}),Array.from(n.entries()).sort((e,t)=>t[1]-e[1]).slice(0,5).map(e=>{let[t]=e;return t})}identifyStrongAreas(e,t){const n=new Map;return e.forEach(e=>{const r=t.find(t=>t.id===e.exerciseId),o=null===r||void 0===r?void 0:r.questions.find(t=>t.id===e.questionId);[...(null===o||void 0===o?void 0:o.grammarFocus)||[],...(null===o||void 0===o?void 0:o.vocabularyFocus)||[],null===r||void 0===r?void 0:r.domain].filter(Boolean).forEach(t=>{const r=n.get(t)||{correct:0,total:0};r.total+=1,e.isCorrect&&(r.correct+=1),n.set(t,r)})}),Array.from(n.entries()).filter(e=>{let[,t]=e;return t.total>=3&&t.correct/t.total>=.8}).sort((e,t)=>t[1].correct/t[1].total-e[1].correct/e[1].total).slice(0,5).map(e=>{let[t]=e;return t})}recommendExercises(e,t){const n=[];return e.forEach(e=>{this.GRAMMAR_KEYWORDS.includes(e)?n.push("grammar_".concat(e,"_").concat(t.currentLevel)):this.TECH_VOCAB.some(t=>e.includes(t))?n.push("vocab_".concat(e,"_").concat(t.currentLevel)):n.push("mixed_".concat(e,"_").concat(t.currentLevel))}),n.slice(0,3)}determineNextLevel(e,t){const n=["A2","B1","B2","C1"],r=n.indexOf(t);if(e>=85&&r<n.length-1)return n[r+1]}analyzeWrittenResponse(e,t,n){const r=pC(e.toLowerCase()),o=pC(t.toLowerCase()),i=this.calculateSimilarity(r,o),s=Math.max(0,Math.min(100,100*i));return{score:s,feedback:this.generateFeedback(s,n),suggestions:this.generateSuggestions(e,t,n)}}calculateSimilarity(e,t){const n=new Set(e),r=new Set(t),o=new Set([...n].filter(e=>r.has(e))),i=new Set([...n,...r]);return o.size/i.size}generateFeedback(e,t){return e>=90?"Excellent travail ! Votre r\xe9ponse d\xe9montre une ma\xeetrise solide des concepts.":e>=75?"Bonne r\xe9ponse ! Quelques points \xe0 am\xe9liorer sur : ".concat(t.join(", "),"."):e>=60?"R\xe9ponse correcte mais n\xe9cessite des am\xe9liorations. Concentrez-vous sur : ".concat(t.join(", "),"."):"R\xe9ponse \xe0 retravailler. Revoyez les r\xe8gles concernant : ".concat(t.join(", "),".")}generateSuggestions(e,t,n){const r=[];return e.length<.7*t.length&&r.push("Votre r\xe9ponse est trop courte. D\xe9veloppez davantage vos arguments."),!e.includes(".")&&t.includes(".")&&r.push("N'oubliez pas la ponctuation pour structurer vos phrases."),n.forEach(e=>{r.push("R\xe9visez les r\xe8gles de : ".concat(e))}),r.slice(0,3)}},mC=()=>{const{user:t,responses:n}=aE(),r=(0,e.useMemo)(()=>t&&n.length>0?fC.analyzeProgress(n,[],t):null,[t,n]);return t&&r?(0,te.jsxs)(he,{sx:{p:3},children:[(0,te.jsx)(Pe,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"Analyse de progression"}),(0,te.jsxs)(Ge,{container:!0,spacing:3,children:[(0,te.jsx)(Ge,{item:!0,xs:12,md:4,children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:"Score global"}),(0,te.jsxs)(Pe,{variant:"h2",color:"primary",sx:{mb:2},children:[r.overallScore.toFixed(0),"%"]}),(0,te.jsx)(iC,{variant:"determinate",value:r.overallScore,sx:{height:10,borderRadius:5}})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:4,children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:"Grammaire"}),(0,te.jsxs)(Pe,{variant:"h2",color:"success.main",sx:{mb:2},children:[r.grammarScore.toFixed(0),"%"]}),(0,te.jsx)(iC,{variant:"determinate",value:r.grammarScore,color:"success",sx:{height:10,borderRadius:5}})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:4,children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:"Vocabulaire"}),(0,te.jsxs)(Pe,{variant:"h2",color:"info.main",sx:{mb:2},children:[r.vocabularyScore.toFixed(0),"%"]}),(0,te.jsx)(iC,{variant:"determinate",value:r.vocabularyScore,color:"info",sx:{height:10,borderRadius:5}})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:6,children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,te.jsx)(Ni,{sx:{mr:1,color:"error.main"}}),(0,te.jsx)(Pe,{variant:"h6",children:"Domaines \xe0 am\xe9liorer"})]}),(0,te.jsx)(he,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.weakAreas.length>0?r.weakAreas.map((e,t)=>(0,te.jsx)(gE,{label:e,color:"error",variant:"outlined",size:"medium"},t)):(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",children:"Aucun domaine faible identifi\xe9"})})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:6,children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,te.jsx)(uC,{sx:{mr:1,color:"success.main"}}),(0,te.jsx)(Pe,{variant:"h6",children:"Points forts"})]}),(0,te.jsx)(he,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.strongAreas.length>0?r.strongAreas.map((e,t)=>(0,te.jsx)(gE,{label:e,color:"success",variant:"outlined",size:"medium"},t)):(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",children:"Continuez pour identifier vos forces"})})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,te.jsx)(hC,{sx:{mr:1,color:"primary.main"}}),(0,te.jsx)(Pe,{variant:"h6",children:"Exercices recommand\xe9s"})]}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Bas\xe9s sur votre analyse, voici les exercices qui vous aideront le plus :"}),(0,te.jsx)(he,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.recommendedExercises.map((e,t)=>(0,te.jsx)(gE,{label:e,color:"primary",variant:"filled",size:"medium"},t))})]})})}),r.nextLevel&&(0,te.jsx)(Ge,{item:!0,xs:12,children:(0,te.jsx)(rt,{elevation:3,sx:{bgcolor:"success.light"},children:(0,te.jsxs)(lt,{children:[(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,sx:{color:"success.contrastText"},children:"\ud83c\udf89 F\xe9licitations !"}),(0,te.jsxs)(Pe,{variant:"body1",sx:{color:"success.contrastText"},children:["Votre niveau actuel vous permet de passer au niveau ",(0,te.jsx)("strong",{children:r.nextLevel}),". Continuez votre excellent travail !"]})]})})})]})]}):(0,te.jsxs)(he,{sx:{p:3},children:[(0,te.jsx)(Pe,{variant:"h5",gutterBottom:!0,children:"Analyse de progression"}),(0,te.jsx)(Pe,{variant:"body1",color:"text.secondary",children:"Compl\xe9tez quelques exercices pour voir votre analyse de progression."})]})};function gC(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function vC(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(gC(e.value)&&""!==e.value||t&&gC(e.defaultValue)&&""!==e.defaultValue)}const yC=e.createContext(void 0);function bC(e){return ae("MuiFormControl",e)}le("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const xC=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],wC=ye("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,c.A)({},t.root,t["margin".concat(Ce(n.margin))],n.fullWidth&&t.fullWidth)}})(e=>{let{ownerState:t}=e;return(0,c.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})}),SC=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiFormControl"}),{children:o,className:i,color:s="primary",component:a="div",disabled:l=!1,error:d=!1,focused:h,fullWidth:p=!1,hiddenLabel:f=!1,margin:m="none",required:g=!1,size:v="medium",variant:y="outlined"}=r,b=(0,u.A)(r,xC),x=(0,c.A)({},r,{color:s,component:a,disabled:l,error:d,fullWidth:p,hiddenLabel:f,margin:m,required:g,size:v,variant:y}),w=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return pe({root:["root","none"!==n&&"margin".concat(Ce(n)),r&&"fullWidth"]},bC,t)})(x),[S,k]=e.useState(()=>{let t=!1;return o&&e.Children.forEach(o,e=>{if(!uo(e,["Input","Select"]))return;const n=uo(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}),t}),[E,C]=e.useState(()=>{let t=!1;return o&&e.Children.forEach(o,e=>{uo(e,["Input","Select"])&&(vC(e.props,!0)||vC(e.props.inputProps,!0))&&(t=!0)}),t}),[A,I]=e.useState(!1);l&&A&&I(!1);const j=void 0===h||l?A:h;let T;const _=e.useMemo(()=>({adornedStart:S,setAdornedStart:k,color:s,disabled:l,error:d,filled:E,focused:j,fullWidth:p,hiddenLabel:f,size:v,onBlur:()=>{I(!1)},onEmpty:()=>{C(!1)},onFilled:()=>{C(!0)},onFocus:()=>{I(!0)},registerEffect:T,required:g,variant:y}),[S,s,l,d,E,j,p,f,T,g,v,y]);return(0,te.jsx)(yC.Provider,{value:_,children:(0,te.jsx)(wC,(0,c.A)({as:a,ownerState:x,className:Q(w.root,i),ref:n},b,{children:o}))})}),kC=SC;function EC(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e),{})}function CC(){return e.useContext(yC)}function AC(e){return ae("MuiFormLabel",e)}const IC=le("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),jC=["children","className","color","component","disabled","error","filled","focused","required"],TC=ye("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,c.A)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(IC.focused)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(IC.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(IC.error)]:{color:(t.vars||t).palette.error.main}})}),_C=ye("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(e=>{let{theme:t}=e;return{["&.".concat(IC.error)]:{color:(t.vars||t).palette.error.main}}}),RC=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiFormLabel"}),{children:r,className:o,component:i="label"}=n,s=(0,u.A)(n,jC),a=EC({props:n,muiFormControl:CC(),states:["color","required","focused","disabled","error","filled"]}),l=(0,c.A)({},n,{color:a.color||"primary",component:i,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),d=(e=>{const{classes:t,color:n,focused:r,disabled:o,error:i,filled:s,required:a}=e;return pe({root:["root","color".concat(Ce(n)),o&&"disabled",i&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]},AC,t)})(l);return(0,te.jsxs)(TC,(0,c.A)({as:i,ownerState:l,className:Q(d.root,o),ref:t},s,{children:[r,a.required&&(0,te.jsxs)(_C,{ownerState:l,"aria-hidden":!0,className:d.asterisk,children:["\u2009","*"]})]}))}),PC=RC;function NC(e){return ae("MuiInputLabel",e)}le("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const LC=["disableAnimation","margin","shrink","variant","className"],OC=ye(PC,{shouldForwardProp:e=>ve(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(IC.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,c.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,c.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,c.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))}),MC=e.forwardRef(function(e,t){const n=ke({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:o,className:i}=n,s=(0,u.A)(n,LC),a=CC();let l=o;"undefined"===typeof l&&a&&(l=a.filled||a.focused||a.adornedStart);const d=EC({props:n,muiFormControl:a,states:["size","variant","required","focused"]}),h=(0,c.A)({},n,{disableAnimation:r,formControl:a,shrink:l,size:d.size,variant:d.variant,required:d.required,focused:d.focused}),p=(e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:i,variant:s,required:a}=e,l=pe({root:["root",n&&"formControl",!i&&"animated",o&&"shrink",r&&"normal"!==r&&"size".concat(Ce(r)),s],asterisk:[a&&"asterisk"]},NC,t);return(0,c.A)({},t,l)})(h);return(0,te.jsx)(OC,(0,c.A)({"data-shrink":l,ownerState:h,ref:t,className:Q(p.root,i)},s,{classes:p}))}),DC=MC,zC=Jn,FC=Ir,VC=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function BC(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function UC(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function qC(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function WC(e,t,n,r,o,i){let s=!1,a=o(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&qC(a,i)&&!t)return a.focus(),!0;a=o(e,a,n)}return!1}const HC=e.forwardRef(function(t,n){const{actions:r,autoFocus:o=!1,autoFocusItem:i=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:d=!1,onKeyDown:h,variant:p="selectedMenu"}=t,f=(0,u.A)(t,VC),m=e.useRef(null),g=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ho(()=>{o&&m.current.focus()},[o]),e.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!m.current.style.width;if(e.clientHeight<m.current.clientHeight&&r){const t="".concat(FC(zC(e)),"px");m.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,m.current.style.width="calc(100% + ".concat(t,")")}return m.current}}),[]);const v=dt(m,n);let y=-1;e.Children.forEach(s,(t,n)=>{e.isValidElement(t)?(t.props.disabled||("selectedMenu"===p&&t.props.selected||-1===y)&&(y=n),y===n&&(t.props.disabled||t.props.muiSkipListHighlight||t.type.muiSkipListHighlight)&&(y+=1,y>=s.length&&(y=-1))):y===n&&(y+=1,y>=s.length&&(y=-1))});const b=e.Children.map(s,(t,n)=>{if(n===y){const n={};return i&&(n.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===p&&(n.tabIndex=0),e.cloneElement(t,n)}return t});return(0,te.jsx)(co,(0,c.A)({role:"menu",ref:v,className:a,onKeyDown:e=>{const t=m.current,n=e.key,r=zC(t).activeElement;if("ArrowDown"===n)e.preventDefault(),WC(t,r,d,l,BC);else if("ArrowUp"===n)e.preventDefault(),WC(t,r,d,l,UC);else if("Home"===n)e.preventDefault(),WC(t,null,d,l,BC);else if("End"===n)e.preventDefault(),WC(t,null,d,l,UC);else if(1===n.length){const o=g.current,i=n.toLowerCase(),s=performance.now();o.keys.length>0&&(s-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&i!==o.keys[0]&&(o.repeating=!1)),o.lastTime=s,o.keys.push(i);const a=r&&!o.repeating&&qC(r,o);o.previousKeyMatched&&(a||WC(t,r,!1,l,BC,o))?e.preventDefault():o.previousKeyMatched=!1}h&&h(e)},tabIndex:o?0:-1},f,{children:b}))}),GC=HC,KC=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function QC(e){return"scale(".concat(e,", ").concat(e**2,")")}const XC={entering:{opacity:1,transform:QC(1)},entered:{opacity:1,transform:"none"}},YC="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),$C=e.forwardRef(function(t,n){const{addEndListener:r,appear:o=!0,children:i,easing:s,in:a,onEnter:l,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:g,timeout:v="auto",TransitionComponent:y=pr}=t,b=(0,u.A)(t,KC),x=yt(),w=e.useRef(),S=Le(),k=e.useRef(null),E=dt(k,$n(i),n),C=e=>t=>{if(e){const n=k.current;void 0===t?e(n):e(n,t)}},A=C(h),I=C((e,t)=>{fr(e);const{duration:n,delay:r,easing:o}=mr({style:g,timeout:v,easing:s},{mode:"enter"});let i;"auto"===v?(i=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=i):i=n,e.style.transition=[S.transitions.create("opacity",{duration:i,delay:r}),S.transitions.create("transform",{duration:YC?i:.666*i,delay:r,easing:o})].join(","),l&&l(e,t)}),j=C(d),T=C(m),_=C(e=>{const{duration:t,delay:n,easing:r}=mr({style:g,timeout:v,easing:s},{mode:"exit"});let o;"auto"===v?(o=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=o):o=t,e.style.transition=[S.transitions.create("opacity",{duration:o,delay:n}),S.transitions.create("transform",{duration:YC?o:.666*o,delay:YC?n:n||.333*o,easing:r})].join(","),e.style.opacity=0,e.style.transform=QC(.75),p&&p(e)}),R=C(f);return(0,te.jsx)(y,(0,c.A)({appear:o,in:a,nodeRef:k,onEnter:I,onEntered:j,onEntering:A,onExit:_,onExited:R,onExiting:T,addEndListener:e=>{"auto"===v&&x.start(w.current||0,e),r&&r(k.current,e)},timeout:"auto"===v?null:v},b,{children:(t,n)=>e.cloneElement(i,(0,c.A)({style:(0,c.A)({opacity:0,transform:QC(.75),visibility:"exited"!==t||a?void 0:"hidden"},XC[t],g,i.props.style),ref:E},n))}))});$C.muiSupportAuto=!0;const JC=$C;function ZC(e){return ae("MuiPopover",e)}le("MuiPopover",["root","paper"]);const eA=["onEntering"],tA=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],nA=["slotProps"];function rA(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function oA(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function iA(e){return[e.horizontal,e.vertical].map(e=>"number"===typeof e?"".concat(e,"px"):e).join(" ")}function sA(e){return"function"===typeof e?e():e}const aA=ye(Vr,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),lA=ye(Je,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),cA=e.forwardRef(function(t,n){var r,o,i;const s=ke({props:t,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:h,anchorReference:p="anchorEl",children:f,className:m,container:g,elevation:v=8,marginThreshold:y=16,open:b,PaperProps:x={},slots:w,slotProps:S,transformOrigin:k={vertical:"top",horizontal:"left"},TransitionComponent:E=JC,transitionDuration:C="auto",TransitionProps:{onEntering:A}={},disableScrollLock:I=!1}=s,j=(0,u.A)(s.TransitionProps,eA),T=(0,u.A)(s,tA),_=null!=(r=null==S?void 0:S.paper)?r:x,R=e.useRef(),P=dt(R,_.ref),N=(0,c.A)({},s,{anchorOrigin:d,anchorReference:p,elevation:v,marginThreshold:y,externalPaperSlotProps:_,transformOrigin:k,TransitionComponent:E,transitionDuration:C,TransitionProps:j}),L=(e=>{const{classes:t}=e;return pe({root:["root"],paper:["paper"]},ZC,t)})(N),O=e.useCallback(()=>{if("anchorPosition"===p)return h;const e=sA(l),t=(e&&1===e.nodeType?e:zC(R.current).body).getBoundingClientRect();return{top:t.top+rA(t,d.vertical),left:t.left+oA(t,d.horizontal)}},[l,d.horizontal,d.vertical,h,p]),M=e.useCallback(e=>({vertical:rA(e,k.vertical),horizontal:oA(e,k.horizontal)}),[k.horizontal,k.vertical]),D=e.useCallback(e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=M(t);if("none"===p)return{top:null,left:null,transformOrigin:iA(n)};const r=O();let o=r.top-n.vertical,i=r.left-n.horizontal;const s=o+t.height,a=i+t.width,c=qr(sA(l)),u=c.innerHeight-y,d=c.innerWidth-y;if(null!==y&&o<y){const e=o-y;o-=e,n.vertical+=e}else if(null!==y&&s>u){const e=s-u;o-=e,n.vertical+=e}if(null!==y&&i<y){const e=i-y;i-=e,n.horizontal+=e}else if(a>d){const e=a-d;i-=e,n.horizontal+=e}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(i),"px"),transformOrigin:iA(n)}},[l,p,O,M,y]),[z,F]=e.useState(b),V=e.useCallback(()=>{const e=R.current;if(!e)return;const t=D(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,F(!0)},[D]);e.useEffect(()=>(I&&window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V)),[l,I,V]);e.useEffect(()=>{b&&V()}),e.useImperativeHandle(a,()=>b?{updatePosition:()=>{V()}}:null,[b,V]),e.useEffect(()=>{if(!b)return;const e=Ur(()=>{V()}),t=qr(l);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[l,b,V]);let B=C;"auto"!==C||E.muiSupportAuto||(B=void 0);const U=g||(l?zC(sA(l)).body:void 0),q=null!=(o=null==w?void 0:w.root)?o:aA,W=null!=(i=null==w?void 0:w.paper)?i:lA,H=Yn({elementType:W,externalSlotProps:(0,c.A)({},_,{style:z?_.style:(0,c.A)({},_.style,{opacity:0})}),additionalProps:{elevation:v,ref:P},ownerState:N,className:Q(L.paper,null==_?void 0:_.className)}),G=Yn({elementType:q,externalSlotProps:(null==S?void 0:S.root)||{},externalForwardedProps:T,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:U,open:b},ownerState:N,className:Q(L.root,m)}),{slotProps:K}=G,X=(0,u.A)(G,nA);return(0,te.jsx)(q,(0,c.A)({},X,!qn(q)&&{slotProps:K,disableScrollLock:I},{children:(0,te.jsx)(E,(0,c.A)({appear:!0,in:b,onEntering:(e,t)=>{A&&A(e,t),V()},onExited:()=>{F(!1)},timeout:B},j,{children:(0,te.jsx)(W,(0,c.A)({},H,{children:f}))}))}))}),uA=cA;function dA(e){return ae("MuiMenu",e)}le("MuiMenu",["root","paper","list"]);const hA=["onEntering"],pA=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],fA={vertical:"top",horizontal:"right"},mA={vertical:"top",horizontal:"left"},gA=ye(uA,{shouldForwardProp:e=>ve(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),vA=ye(lA,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),yA=ye(GC,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),bA=e.forwardRef(function(t,n){var r,o;const i=ke({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:d=!1,MenuListProps:h={},onClose:p,open:f,PaperProps:m={},PopoverClasses:g,transitionDuration:v="auto",TransitionProps:{onEntering:y}={},variant:b="selectedMenu",slots:x={},slotProps:w={}}=i,S=(0,u.A)(i.TransitionProps,hA),k=(0,u.A)(i,pA),E=Bn(),C=(0,c.A)({},i,{autoFocus:s,disableAutoFocusItem:d,MenuListProps:h,onEntering:y,PaperProps:m,transitionDuration:v,TransitionProps:S,variant:b}),A=(e=>{const{classes:t}=e;return pe({root:["root"],paper:["paper"],list:["list"]},dA,t)})(C),I=s&&!d&&f,j=e.useRef(null);let T=-1;e.Children.map(a,(t,n)=>{e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===b&&t.props.selected||-1===T)&&(T=n))});const _=null!=(r=x.paper)?r:vA,R=null!=(o=w.paper)?o:m,P=Yn({elementType:x.root,externalSlotProps:w.root,ownerState:C,className:[A.root,l]}),N=Yn({elementType:_,externalSlotProps:R,ownerState:C,className:A.paper});return(0,te.jsx)(gA,(0,c.A)({onClose:p,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?fA:mA,slots:{paper:_,root:x.root},slotProps:{root:P,paper:N},open:f,ref:n,transitionDuration:v,TransitionProps:(0,c.A)({onEntering:(e,t)=>{j.current&&j.current.adjustStyleForScrollbar(e,{direction:E?"rtl":"ltr"}),y&&y(e,t)}},S),ownerState:C},k,{classes:g,children:(0,te.jsx)(yA,(0,c.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),p&&p(e,"tabKeyDown"))},actions:j,autoFocus:s&&(-1===T||d),autoFocusItem:I,variant:b},h,{className:Q(A.list,h.className),children:a}))}))}),xA=bA;function wA(e){return ae("MuiNativeSelect",e)}const SA=le("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),kA=["className","disabled","error","IconComponent","inputRef","variant"],EA=e=>{let{ownerState:t,theme:n}=e;return(0,c.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,c.A)({},n.vars?{backgroundColor:"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(SA.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},CA=ye("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ve,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(SA.multiple)]:t.multiple}]}})(EA),AA=e=>{let{ownerState:t,theme:n}=e;return(0,c.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,["&.".concat(SA.disabled)]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},IA=ye("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(Ce(n.variant))],n.open&&t.iconOpen]}})(AA),jA=e.forwardRef(function(t,n){const{className:r,disabled:o,error:i,IconComponent:s,inputRef:a,variant:l="standard"}=t,d=(0,u.A)(t,kA),h=(0,c.A)({},t,{disabled:o,variant:l,error:i}),p=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e;return pe({select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon","icon".concat(Ce(n)),i&&"iconOpen",r&&"disabled"]},wA,t)})(h);return(0,te.jsxs)(e.Fragment,{children:[(0,te.jsx)(CA,(0,c.A)({ownerState:h,className:Q(p.select,r),disabled:o,ref:a||n},d)),t.multiple?null:(0,te.jsx)(IA,{as:s,ownerState:h,className:p.icon})]})}),TA=jA;function _A(t){let{controlled:n,default:r,name:o,state:i="value"}=t;const{current:s}=e.useRef(void 0!==n),[a,l]=e.useState(r);return[s?n:a,e.useCallback(e=>{s||l(e)},[])]}const RA=_A;function PA(e){return ae("MuiSelect",e)}const NA=le("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var LA;const OA=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],MA=ye("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(NA.select)]:t.select},{["&.".concat(NA.select)]:t[n.variant]},{["&.".concat(NA.error)]:t.error},{["&.".concat(NA.multiple)]:t.multiple}]}})(EA,{["&.".concat(NA.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),DA=ye("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(Ce(n.variant))],n.open&&t.iconOpen]}})(AA),zA=ye("input",{shouldForwardProp:e=>ge(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function FA(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function VA(e){return null==e||"string"===typeof e&&!e.trim()}const BA=e.forwardRef(function(t,n){var r;const{"aria-describedby":o,"aria-label":i,autoFocus:s,autoWidth:a,children:l,className:h,defaultOpen:p,defaultValue:f,disabled:m,displayEmpty:g,error:v=!1,IconComponent:y,inputRef:b,labelId:x,MenuProps:w={},multiple:S,name:k,onBlur:E,onChange:C,onClose:A,onFocus:I,onOpen:j,open:T,readOnly:_,renderValue:R,SelectDisplayProps:P={},tabIndex:N,value:L,variant:O="standard"}=t,M=(0,u.A)(t,OA),[D,z]=RA({controlled:L,default:f,name:"Select"}),[F,V]=RA({controlled:T,default:p,name:"Select"}),B=e.useRef(null),U=e.useRef(null),[q,W]=e.useState(null),{current:H}=e.useRef(null!=T),[G,K]=e.useState(),X=dt(n,b),Y=e.useCallback(e=>{U.current=e,e&&W(e)},[]),$=null==q?void 0:q.parentNode;e.useImperativeHandle(X,()=>({focus:()=>{U.current.focus()},node:B.current,value:D}),[D]),e.useEffect(()=>{p&&F&&q&&!H&&(K(a?null:$.clientWidth),U.current.focus())},[q,a]),e.useEffect(()=>{s&&U.current.focus()},[s]),e.useEffect(()=>{if(!x)return;const e=zC(U.current).getElementById(x);if(e){const t=()=>{getSelection().isCollapsed&&U.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[x]);const J=(e,t)=>{e?j&&j(t):A&&A(t),H||(K(a?null:$.clientWidth),V(e))},Z=e.Children.toArray(l),ee=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(S){n=Array.isArray(D)?D.slice():[];const t=D.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),D!==n&&(z(n),C)){const r=t.nativeEvent||t,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:k}}),C(o,e)}S||J(!1,t)}},ne=null!==q&&F;let re,oe;delete M["aria-invalid"];const ie=[];let se=!1,ae=!1;(vC({value:D})||g)&&(R?re=R(D):se=!0);const le=Z.map(t=>{if(!e.isValidElement(t))return null;let n;if(S){if(!Array.isArray(D))throw new Error((0,d.A)(2));n=D.some(e=>FA(e,t.props.value)),n&&se&&ie.push(t.props.children)}else n=FA(D,t.props.value),n&&se&&(oe=t.props.children);return n&&(ae=!0),e.cloneElement(t,{"aria-selected":n?"true":"false",onClick:ee(t),onKeyUp:e=>{" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:n,value:void 0,"data-value":t.props.value})});se&&(re=S?0===ie.length?null:ie.reduce((e,t,n)=>(e.push(t),n<ie.length-1&&e.push(", "),e),[]):oe);let ce,ue=G;!a&&H&&q&&(ue=$.clientWidth),ce="undefined"!==typeof N?N:m?null:0;const de=P.id||(k?"mui-component-select-".concat(k):void 0),he=(0,c.A)({},t,{variant:O,value:D,open:ne,error:v}),fe=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e;return pe({select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon","icon".concat(Ce(n)),i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},PA,t)})(he),me=(0,c.A)({},w.PaperProps,null==(r=w.slotProps)?void 0:r.paper),ge=ui();return(0,te.jsxs)(e.Fragment,{children:[(0,te.jsx)(MA,(0,c.A)({ref:Y,tabIndex:ce,role:"combobox","aria-controls":ge,"aria-disabled":m?"true":void 0,"aria-expanded":ne?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,de].filter(Boolean).join(" ")||void 0,"aria-describedby":o,onKeyDown:e=>{if(!_){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),J(!0,e))}},onMouseDown:m||_?null:e=>{0===e.button&&(e.preventDefault(),U.current.focus(),J(!0,e))},onBlur:e=>{!ne&&E&&(Object.defineProperty(e,"target",{writable:!0,value:{value:D,name:k}}),E(e))},onFocus:I},P,{ownerState:he,className:Q(P.className,fe.select,h),id:de,children:VA(re)?LA||(LA=(0,te.jsx)("span",{className:"notranslate",children:"\u200b"})):re})),(0,te.jsx)(zA,(0,c.A)({"aria-invalid":v,value:Array.isArray(D)?D.join(","):D,name:k,ref:B,"aria-hidden":!0,onChange:e=>{const t=Z.find(t=>t.props.value===e.target.value);void 0!==t&&(z(t.props.value),C&&C(e,t))},tabIndex:-1,disabled:m,className:fe.nativeInput,autoFocus:s,ownerState:he},M)),(0,te.jsx)(DA,{as:y,className:fe.icon,ownerState:he}),(0,te.jsx)(xA,(0,c.A)({id:"menu-".concat(k||""),anchorEl:$,open:ne,onClose:e=>{J(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:(0,c.A)({"aria-labelledby":x,role:"listbox","aria-multiselectable":S?"true":void 0,disableListWrap:!0,id:ge},w.MenuListProps),slotProps:(0,c.A)({},w.slotProps,{paper:(0,c.A)({},me,{style:(0,c.A)({minWidth:ue},null!=me?me.style:null)})}),children:le}))]})}),UA=BA,qA=ji((0,te.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),WA=["onChange","maxRows","minRows","style","value"];function HA(e){return parseInt(e,10)||0}const GA={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function KA(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const QA=e.forwardRef(function(t,n){const{onChange:r,maxRows:o,minRows:i=1,style:s,value:a}=t,l=(0,u.A)(t,WA),{current:d}=e.useRef(null!=a),h=e.useRef(null),p=ut(n,h),f=e.useRef(null),m=e.useRef(null),g=e.useCallback(()=>{const e=h.current,n=m.current;if(!e||!n)return;const r=Ar(e).getComputedStyle(e);if("0px"===r.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=r.width,n.value=e.value||t.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const s=r.boxSizing,a=HA(r.paddingBottom)+HA(r.paddingTop),l=HA(r.borderBottomWidth)+HA(r.borderTopWidth),c=n.scrollHeight;n.value="x";const u=n.scrollHeight;let d=c;i&&(d=Math.max(Number(i)*u,d)),o&&(d=Math.min(Number(o)*u,d)),d=Math.max(d,u);return{outerHeightStyle:d+("border-box"===s?a+l:0),overflowing:Math.abs(d-c)<=1}},[o,i,t.placeholder]),v=pt(()=>{const e=h.current,t=g();if(!e||!t||KA(t))return!1;const n=t.outerHeightStyle;return null!=f.current&&f.current!==n}),y=e.useCallback(()=>{const e=h.current,t=g();if(!e||!t||KA(t))return;const n=t.outerHeightStyle;f.current!==n&&(f.current=n,e.style.height="".concat(n,"px")),e.style.overflow=t.overflowing?"hidden":""},[g]),b=e.useRef(-1);ht(()=>{const e=Br(y),t=null==h?void 0:h.current;if(!t)return;const n=Ar(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver(()=>{v()&&(r.unobserve(t),cancelAnimationFrame(b.current),y(),b.current=requestAnimationFrame(()=>{r.observe(t)}))}),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(b.current),n.removeEventListener("resize",e),r&&r.disconnect()}},[g,y,v]),ht(()=>{y()});return(0,te.jsxs)(e.Fragment,{children:[(0,te.jsx)("textarea",(0,c.A)({value:a,onChange:e=>{d||y(),r&&r(e)},ref:p,rows:i,style:s},l)),(0,te.jsx)("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:m,tabIndex:-1,style:(0,c.A)({},GA,s,{paddingTop:0,paddingBottom:0})})]})}),XA=QA;function YA(e){return ae("MuiInputBase",e)}const $A=le("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),JA=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],ZA=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Ce(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},eI=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},tI=ye("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ZA})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat($A.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,c.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})}),nI=ye("input",{name:"MuiInputBase",slot:"Input",overridesResolver:eI})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,o=(0,c.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,c.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat($A.formControl," &")]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},["&.".concat($A.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})}),rI=(0,te.jsx)(bi,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),oI=e.forwardRef(function(t,n){var r;const o=ke({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:a,className:l,components:h={},componentsProps:p={},defaultValue:f,disabled:m,disableInjectingGlobalStyles:g,endAdornment:v,fullWidth:y=!1,id:b,inputComponent:x="input",inputProps:w={},inputRef:S,maxRows:k,minRows:E,multiline:C=!1,name:A,onBlur:I,onChange:j,onClick:T,onFocus:_,onKeyDown:R,onKeyUp:P,placeholder:N,readOnly:L,renderSuffix:O,rows:M,slotProps:D={},slots:z={},startAdornment:F,type:V="text",value:B}=o,U=(0,u.A)(o,JA),q=null!=w.value?w.value:B,{current:W}=e.useRef(null!=q),H=e.useRef(),G=e.useCallback(e=>{0},[]),K=dt(H,S,w.ref,G),[X,Y]=e.useState(!1),$=CC();const J=EC({props:o,muiFormControl:$,states:["color","disabled","error","hiddenLabel","size","required","filled"]});J.focused=$?$.focused:X,e.useEffect(()=>{!$&&m&&X&&(Y(!1),I&&I())},[$,m,X,I]);const Z=$&&$.onFilled,ee=$&&$.onEmpty,ne=e.useCallback(e=>{vC(e)?Z&&Z():ee&&ee()},[Z,ee]);ho(()=>{W&&ne({value:q})},[q,ne,W]);e.useEffect(()=>{ne(H.current)},[]);let re=x,oe=w;C&&"input"===re&&(oe=M?(0,c.A)({type:void 0,minRows:M,maxRows:M},oe):(0,c.A)({type:void 0,maxRows:k,minRows:E},oe),re=XA);e.useEffect(()=>{$&&$.setAdornedStart(Boolean(F))},[$,F]);const ie=(0,c.A)({},o,{color:J.color||"primary",disabled:J.disabled,endAdornment:v,error:J.error,focused:J.focused,formControl:$,fullWidth:y,hiddenLabel:J.hiddenLabel,multiline:C,size:J.size,startAdornment:F,type:V}),se=(e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=e;return pe({root:["root","color".concat(Ce(n)),r&&"disabled",o&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&"size".concat(Ce(h)),u&&"multiline",p&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]},YA,t)})(ie),ae=z.root||h.Root||tI,le=D.root||p.root||{},ce=z.input||h.Input||nI;return oe=(0,c.A)({},oe,null!=(r=D.input)?r:p.input),(0,te.jsxs)(e.Fragment,{children:[!g&&rI,(0,te.jsxs)(ae,(0,c.A)({},le,!qn(ae)&&{ownerState:(0,c.A)({},ie,le.ownerState)},{ref:n,onClick:e=>{H.current&&e.currentTarget===e.target&&H.current.focus(),T&&T(e)}},U,{className:Q(se.root,le.className,l,L&&"MuiInputBase-readOnly"),children:[F,(0,te.jsx)(yC.Provider,{value:null,children:(0,te.jsx)(ce,(0,c.A)({ownerState:ie,"aria-invalid":J.error,"aria-describedby":i,autoComplete:s,autoFocus:a,defaultValue:f,disabled:J.disabled,id:b,onAnimationStart:e=>{ne("mui-auto-fill-cancel"===e.animationName?H.current:{value:"x"})},name:A,placeholder:N,readOnly:L,required:J.required,rows:M,value:q,onKeyDown:R,onKeyUp:P,type:V},oe,!qn(ce)&&{as:re,ownerState:(0,c.A)({},ie,oe.ownerState)},{ref:K,className:Q(se.input,oe.className,L&&"MuiInputBase-readOnly"),onBlur:e=>{I&&I(e),w.onBlur&&w.onBlur(e),$&&$.onBlur?$.onBlur(e):Y(!1)},onChange:function(e){if(!W){const t=e.target||H.current;if(null==t)throw new Error((0,d.A)(1));ne({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];w.onChange&&w.onChange(e,...n),j&&j(e,...n)},onFocus:e=>{J.disabled?e.stopPropagation():(_&&_(e),w.onFocus&&w.onFocus(e),$&&$.onFocus?$.onFocus(e):Y(!0))}}))}),v,O?O((0,c.A)({},J,{startAdornment:F})):null]}))]})}),iI=oI;function sI(e){return ae("MuiInput",e)}const aI=(0,c.A)({},$A,le("MuiInput",["root","underline","input"])),lI=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],cI=ye(tI,{shouldForwardProp:e=>ve(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...ZA(e,t),!n.disableUnderline&&t.underline]}})(e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r="rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")")),(0,c.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(aI.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(aI.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(aI.disabled,", .").concat(aI.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},["&.".concat(aI.disabled,":before")]:{borderBottomStyle:"dotted"}})}),uI=ye(nI,{name:"MuiInput",slot:"Input",overridesResolver:eI})({}),dI=e.forwardRef(function(e,t){var n,r,o,i;const s=ke({props:e,name:"MuiInput"}),{disableUnderline:a,components:l={},componentsProps:d,fullWidth:p=!1,inputComponent:f="input",multiline:m=!1,slotProps:g,slots:v={},type:y="text"}=s,b=(0,u.A)(s,lI),x=(e=>{const{classes:t,disableUnderline:n}=e,r=pe({root:["root",!n&&"underline"],input:["input"]},sI,t);return(0,c.A)({},t,r)})(s),w={root:{ownerState:{disableUnderline:a}}},S=(null!=g?g:d)?(0,h.A)(null!=g?g:d,w):w,k=null!=(n=null!=(r=v.root)?r:l.Root)?n:cI,E=null!=(o=null!=(i=v.input)?i:l.Input)?o:uI;return(0,te.jsx)(iI,(0,c.A)({slots:{root:k,input:E},slotProps:S,fullWidth:p,inputComponent:f,multiline:m,ref:t,type:y},b,{classes:x}))});dI.muiName="Input";const hI=dI;function pI(e){return ae("MuiFilledInput",e)}const fI=(0,c.A)({},$A,le("MuiFilledInput",["root","underline","input"])),mI=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],gI=ye(tI,{shouldForwardProp:e=>ve(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...ZA(e,t),!n.disableUnderline&&t.underline]}})(e=>{let{theme:t,ownerState:n}=e;var r;const o="light"===t.palette.mode,i=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,c.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},["&.".concat(fI.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},["&.".concat(fI.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat(null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(fI.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(fI.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")"):i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(fI.disabled,", .").concat(fI.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(fI.disabled,":before")]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,c.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))}),vI=ye(nI,{name:"MuiFilledInput",slot:"Input",overridesResolver:eI})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})}),yI=e.forwardRef(function(e,t){var n,r,o,i;const s=ke({props:e,name:"MuiFilledInput"}),{components:a={},componentsProps:l,fullWidth:d=!1,inputComponent:p="input",multiline:f=!1,slotProps:m,slots:g={},type:v="text"}=s,y=(0,u.A)(s,mI),b=(0,c.A)({},s,{fullWidth:d,inputComponent:p,multiline:f,type:v}),x=(e=>{const{classes:t,disableUnderline:n}=e,r=pe({root:["root",!n&&"underline"],input:["input"]},pI,t);return(0,c.A)({},t,r)})(s),w={root:{ownerState:b},input:{ownerState:b}},S=(null!=m?m:l)?(0,h.A)(w,null!=m?m:l):w,k=null!=(n=null!=(r=g.root)?r:a.Root)?n:gI,E=null!=(o=null!=(i=g.input)?i:a.Input)?o:vI;return(0,te.jsx)(iI,(0,c.A)({slots:{root:k,input:E},componentsProps:S,fullWidth:d,inputComponent:p,multiline:f,ref:t,type:v},y,{classes:x}))});yI.muiName="Input";const bI=yI;var xI;const wI=["children","classes","className","label","notched"],SI=ye("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:ve})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),kI=ye("legend",{name:"MuiNotchedOutlined",shouldForwardProp:ve})(e=>{let{ownerState:t,theme:n}=e;return(0,c.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,c.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))});function EI(e){return ae("MuiOutlinedInput",e)}const CI=(0,c.A)({},$A,le("MuiOutlinedInput",["root","notchedOutline","input"])),AI=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],II=ye(tI,{shouldForwardProp:e=>ve(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:ZA})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,c.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(CI.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(CI.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):r}},["&.".concat(CI.focused," .").concat(CI.notchedOutline)]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},["&.".concat(CI.error," .").concat(CI.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(CI.disabled," .").concat(CI.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,c.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))}),jI=ye(function(e){const{className:t,label:n,notched:r}=e,o=(0,u.A)(e,wI),i=null!=n&&""!==n,s=(0,c.A)({},e,{notched:r,withLabel:i});return(0,te.jsx)(SI,(0,c.A)({"aria-hidden":!0,className:t,ownerState:s},o,{children:(0,te.jsx)(kI,{ownerState:s,children:i?(0,te.jsx)("span",{children:n}):xI||(xI=(0,te.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))},{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}}),TI=ye(nI,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:eI})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})}),_I=e.forwardRef(function(t,n){var r,o,i,s,a;const l=ke({props:t,name:"MuiOutlinedInput"}),{components:d={},fullWidth:h=!1,inputComponent:p="input",label:f,multiline:m=!1,notched:g,slots:v={},type:y="text"}=l,b=(0,u.A)(l,AI),x=(e=>{const{classes:t}=e,n=pe({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},EI,t);return(0,c.A)({},t,n)})(l),w=CC(),S=EC({props:l,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),k=(0,c.A)({},l,{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:w,fullWidth:h,hiddenLabel:S.hiddenLabel,multiline:m,size:S.size,type:y}),E=null!=(r=null!=(o=v.root)?o:d.Root)?r:II,C=null!=(i=null!=(s=v.input)?s:d.Input)?i:TI;return(0,te.jsx)(iI,(0,c.A)({slots:{root:E,input:C},renderSuffix:t=>(0,te.jsx)(jI,{ownerState:k,className:x.notchedOutline,label:null!=f&&""!==f&&S.required?a||(a=(0,te.jsxs)(e.Fragment,{children:[f,"\u2009","*"]})):f,notched:"undefined"!==typeof g?g:Boolean(t.startAdornment||t.filled||t.focused)}),fullWidth:h,inputComponent:p,multiline:m,ref:n,type:y},b,{classes:(0,c.A)({},x,{notchedOutline:null})}))});_I.muiName="Input";const RI=_I,PI=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],NI=["root"],LI={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>ve(e)&&"variant"!==e,slot:"Root"},OI=ye(hI,LI)(""),MI=ye(RI,LI)(""),DI=ye(bI,LI)(""),zI=e.forwardRef(function(t,n){const r=ke({name:"MuiSelect",props:t}),{autoWidth:o=!1,children:i,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:d=!1,IconComponent:p=qA,id:f,input:m,inputProps:g,label:v,labelId:y,MenuProps:b,multiple:x=!1,native:w=!1,onClose:S,onOpen:k,open:E,renderValue:C,SelectDisplayProps:A,variant:I="outlined"}=r,j=(0,u.A)(r,PI),T=w?TA:UA,_=EC({props:r,muiFormControl:CC(),states:["variant","error"]}),R=_.variant||I,P=(0,c.A)({},r,{variant:R,classes:s}),N=(e=>{const{classes:t}=e;return t})(P),L=(0,u.A)(N,NI),O=m||{standard:(0,te.jsx)(OI,{ownerState:P}),outlined:(0,te.jsx)(MI,{label:v,ownerState:P}),filled:(0,te.jsx)(DI,{ownerState:P})}[R],M=dt(n,$n(O));return(0,te.jsx)(e.Fragment,{children:e.cloneElement(O,(0,c.A)({inputComponent:T,inputProps:(0,c.A)({children:i,error:_.error,IconComponent:p,variant:R,type:void 0,multiple:x},w?{id:f}:{autoWidth:o,defaultOpen:l,displayEmpty:d,labelId:y,MenuProps:b,onClose:S,onOpen:k,open:E,renderValue:C,SelectDisplayProps:(0,c.A)({id:f},A)},g,{classes:g?(0,h.A)(L,g.classes):L},m?m.props.inputProps:{})},(x&&w||d)&&"outlined"===R?{notched:!0}:{},{ref:M,className:Q(O.props.className,a,N.root)},!m&&{variant:R},j))})});zI.muiName="Select";const FI=zI;function VI(e){return ae("MuiDivider",e)}const BI=le("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function UI(e){return ae("MuiMenuItem",e)}const qI=le("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),WI=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],HI=ye(un,{shouldForwardProp:e=>ve(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(qI.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,v.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(qI.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,v.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(qI.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,v.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,v.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(qI.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(qI.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(BI.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(BI.inset)]:{marginLeft:52},["& .".concat(Lo.root)]:{marginTop:0,marginBottom:0},["& .".concat(Lo.inset)]:{paddingLeft:36},["& .".concat(jo.root)]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,c.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(jo.root," svg")]:{fontSize:"1.25rem"}}))}),GI=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiMenuItem"}),{autoFocus:o=!1,component:i="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:d,role:h="menuitem",tabIndex:p,className:f}=r,m=(0,u.A)(r,WI),g=e.useContext(oo),v=e.useMemo(()=>({dense:s||g.dense||!1,disableGutters:l}),[g.dense,s,l]),y=e.useRef(null);ho(()=>{o&&y.current&&y.current.focus()},[o]);const b=(0,c.A)({},r,{dense:v.dense,divider:a,disableGutters:l}),x=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:i,classes:s}=e,a=pe({root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},UI,s);return(0,c.A)({},s,a)})(r),w=dt(y,n);let S;return r.disabled||(S=void 0!==p?p:-1),(0,te.jsx)(oo.Provider,{value:v,children:(0,te.jsx)(HI,(0,c.A)({ref:w,role:h,tabIndex:S,component:i,focusVisibleClassName:Q(x.focusVisible,d),className:Q(x.root,f)},m,{ownerState:b,classes:x}))})}),KI=GI;function QI(e){return ae("MuiFormGroup",e)}le("MuiFormGroup",["root","row","error"]);const XI=["className","row"],YI=ye("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(e=>{let{ownerState:t}=e;return(0,c.A)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})}),$I=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiFormGroup"}),{className:r,row:o=!1}=n,i=(0,u.A)(n,XI),s=EC({props:n,muiFormControl:CC(),states:["error"]}),a=(0,c.A)({},n,{row:o,error:s.error}),l=(e=>{const{classes:t,row:n,error:r}=e;return pe({root:["root",n&&"row",r&&"error"]},QI,t)})(a);return(0,te.jsx)(YI,(0,c.A)({className:Q(l.root,r),ownerState:a,ref:t},i))}),JI=$I;function ZI(e){return ae("MuiRadioGroup",e)}le("MuiRadioGroup",["root","row","error"]);const ej=e.createContext(void 0),tj=ui,nj=["actions","children","className","defaultValue","name","onChange","value"],rj=e.forwardRef(function(t,n){const{actions:r,children:o,className:i,defaultValue:s,name:a,onChange:l,value:d}=t,h=(0,u.A)(t,nj),p=e.useRef(null),f=(e=>{const{classes:t,row:n,error:r}=e;return pe({root:["root",n&&"row",r&&"error"]},ZI,t)})(t),[m,g]=RA({controlled:d,default:s,name:"RadioGroup"});e.useImperativeHandle(r,()=>({focus:()=>{let e=p.current.querySelector("input:not(:disabled):checked");e||(e=p.current.querySelector("input:not(:disabled)")),e&&e.focus()}}),[]);const v=dt(n,p),y=tj(a),b=e.useMemo(()=>({name:y,onChange(e){g(e.target.value),l&&l(e,e.target.value)},value:m}),[y,l,g,m]);return(0,te.jsx)(ej.Provider,{value:b,children:(0,te.jsx)(JI,(0,c.A)({role:"radiogroup",ref:v,className:Q(f.root,i)},h,{children:o}))})}),oj=rj;var ij=n(8604);const sj=["component","direction","spacing","divider","children","className","useFlexGap"],aj=(0,m.A)(),lj=$o("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function cj(e){return Fo({props:e,name:"MuiStack",defaultTheme:aj})}function uj(t,n){const r=e.Children.toArray(t).filter(Boolean);return r.reduce((t,o,i)=>(t.push(o),i<r.length-1&&t.push(e.cloneElement(n,{key:"separator-".concat(i)})),t),[])}const dj=e=>{let{ownerState:t,theme:n}=e,r=(0,c.A)({display:"flex",flexDirection:"column"},(0,Ne.NI)({theme:n},(0,Ne.kW)({values:t.direction,breakpoints:n.breakpoints.values}),e=>({flexDirection:e})));if(t.spacing){const e=(0,ij.LX)(n),o=Object.keys(n.breakpoints.values).reduce((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e),{}),i=(0,Ne.kW)({values:t.direction,base:o}),s=(0,Ne.kW)({values:t.spacing,base:o});"object"===typeof i&&Object.keys(i).forEach((e,t,n)=>{if(!i[e]){const r=t>0?i[n[t-1]]:"column";i[e]=r}});const a=(n,r)=>{return t.useFlexGap?{gap:(0,ij._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((o=r?i[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]))]:(0,ij._W)(e,n)}};var o};r=(0,h.A)(r,(0,Ne.NI)({theme:n},s,a))}return r=(0,Ne.iZ)(n.breakpoints,r),r};const hj=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=lj,useThemeProps:r=cj,componentName:o="MuiStack"}=t,i=n(dj),s=e.forwardRef(function(e,t){const n=r(e),s=(0,Y.A)(n),{component:a="div",direction:l="column",spacing:d=0,divider:h,children:p,className:f,useFlexGap:m=!1}=s,g=(0,u.A)(s,sj),v={direction:l,spacing:d,useFlexGap:m},y=pe({root:["root"]},e=>ae(o,e),{});return(0,te.jsx)(i,(0,c.A)({as:a,ownerState:v,ref:t,className:Q(y.root,f)},g,{children:h?uj(p,h):p}))});return s}({createStyledComponent:ye("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>ke({props:e,name:"MuiStack"})}),pj=hj;function fj(e){return ae("MuiFormControlLabel",e)}const mj=le("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),gj=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],vj=ye("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(mj.label)]:t.label},t.root,t["labelPlacement".concat(Ce(n.labelPlacement))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(mj.disabled)]:{cursor:"default"}},"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},{["& .".concat(mj.label)]:{["&.".concat(mj.disabled)]:{color:(t.vars||t).palette.text.disabled}}})}),yj=ye("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(e=>{let{theme:t}=e;return{["&.".concat(mj.error)]:{color:(t.vars||t).palette.error.main}}}),bj=e.forwardRef(function(t,n){var r,o;const i=ke({props:t,name:"MuiFormControlLabel"}),{className:s,componentsProps:a={},control:l,disabled:d,disableTypography:h,label:p,labelPlacement:f="end",required:m,slotProps:g={}}=i,v=(0,u.A)(i,gj),y=CC(),b=null!=(r=null!=d?d:l.props.disabled)?r:null==y?void 0:y.disabled,x=null!=m?m:l.props.required,w={disabled:b,required:x};["checked","name","onChange","value","inputRef"].forEach(e=>{"undefined"===typeof l.props[e]&&"undefined"!==typeof i[e]&&(w[e]=i[e])});const S=EC({props:i,muiFormControl:y,states:["error"]}),k=(0,c.A)({},i,{disabled:b,labelPlacement:f,required:x,error:S.error}),E=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:o,required:i}=e;return pe({root:["root",n&&"disabled","labelPlacement".concat(Ce(r)),o&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]},fj,t)})(k),C=null!=(o=g.typography)?o:a.typography;let A=p;return null==A||A.type===Pe||h||(A=(0,te.jsx)(Pe,(0,c.A)({component:"span"},C,{className:Q(E.label,null==C?void 0:C.className),children:A}))),(0,te.jsxs)(vj,(0,c.A)({className:Q(E.root,s),ownerState:k,ref:n},v,{children:[e.cloneElement(l,w),x?(0,te.jsxs)(pj,{display:"block",children:[A,(0,te.jsxs)(yj,{ownerState:k,"aria-hidden":!0,className:E.asterisk,children:["\u2009","*"]})]}):A]}))}),xj=bj;function wj(e){return ae("PrivateSwitchBase",e)}le("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Sj=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],kj=ye(un,{name:"MuiSwitchBase"})(e=>{let{ownerState:t}=e;return(0,c.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})}),Ej=ye("input",{name:"MuiSwitchBase",shouldForwardProp:ve})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Cj=e.forwardRef(function(e,t){const{autoFocus:n,checked:r,checkedIcon:o,className:i,defaultChecked:s,disabled:a,disableFocusRipple:l=!1,edge:d=!1,icon:h,id:p,inputProps:f,inputRef:m,name:g,onBlur:v,onChange:y,onFocus:b,readOnly:x,required:w=!1,tabIndex:S,type:k,value:E}=e,C=(0,u.A)(e,Sj),[A,I]=RA({controlled:r,default:Boolean(s),name:"SwitchBase",state:"checked"}),j=CC();let T=a;j&&"undefined"===typeof T&&(T=j.disabled);const _="checkbox"===k||"radio"===k,R=(0,c.A)({},e,{checked:A,disabled:T,disableFocusRipple:l,edge:d}),P=(e=>{const{classes:t,checked:n,disabled:r,edge:o}=e;return pe({root:["root",n&&"checked",r&&"disabled",o&&"edge".concat(Ce(o))],input:["input"]},wj,t)})(R);return(0,te.jsxs)(kj,(0,c.A)({component:"span",className:Q(P.root,i),centerRipple:!0,focusRipple:!l,disabled:T,tabIndex:null,role:void 0,onFocus:e=>{b&&b(e),j&&j.onFocus&&j.onFocus(e)},onBlur:e=>{v&&v(e),j&&j.onBlur&&j.onBlur(e)},ownerState:R,ref:t},C,{children:[(0,te.jsx)(Ej,(0,c.A)({autoFocus:n,checked:r,defaultChecked:s,className:P.input,disabled:T,id:_?p:void 0,name:g,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;I(t),y&&y(e,t)},readOnly:x,ref:m,required:w,ownerState:R,tabIndex:S,type:k},"checkbox"===k&&void 0===E?{}:{value:E},f)),A?o:h]}))}),Aj=Cj,Ij=ji((0,te.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),jj=ji((0,te.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),Tj=ye("span",{name:"MuiRadioButtonIcon",shouldForwardProp:ve})({position:"relative",display:"flex"}),_j=ye(Ij,{name:"MuiRadioButtonIcon"})({transform:"scale(1)"}),Rj=ye(jj,{name:"MuiRadioButtonIcon"})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})});const Pj=function(e){const{checked:t=!1,classes:n={},fontSize:r}=e,o=(0,c.A)({},e,{checked:t});return(0,te.jsxs)(Tj,{className:n.root,ownerState:o,children:[(0,te.jsx)(_j,{fontSize:r,className:n.background,ownerState:o}),(0,te.jsx)(Rj,{fontSize:r,className:n.dot,ownerState:o})]})},Nj=Cr;function Lj(e){return ae("MuiRadio",e)}const Oj=le("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),Mj=["checked","checkedIcon","color","icon","name","onChange","size","className"],Dj=ye(Aj,{shouldForwardProp:e=>ve(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"medium"!==n.size&&t["size".concat(Ce(n.size))],t["color".concat(Ce(n.color))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,v.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(Oj.checked)]:{color:(t.vars||t).palette[n.color].main}},{["&.".concat(Oj.disabled)]:{color:(t.vars||t).palette.action.disabled}})});const zj=(0,te.jsx)(Pj,{checked:!0}),Fj=(0,te.jsx)(Pj,{}),Vj=e.forwardRef(function(t,n){var r,o;const i=ke({props:t,name:"MuiRadio"}),{checked:s,checkedIcon:a=zj,color:l="primary",icon:d=Fj,name:h,onChange:p,size:f="medium",className:m}=i,g=(0,u.A)(i,Mj),v=(0,c.A)({},i,{color:l,size:f}),y=(e=>{const{classes:t,color:n,size:r}=e,o={root:["root","color".concat(Ce(n)),"medium"!==r&&"size".concat(Ce(r))]};return(0,c.A)({},t,pe(o,Lj,t))})(v),b=e.useContext(ej);let x=s;const w=Nj(p,b&&b.onChange);let S=h;var k,E;return b&&("undefined"===typeof x&&(k=b.value,x="object"===typeof(E=i.value)&&null!==E?k===E:String(k)===String(E)),"undefined"===typeof S&&(S=b.name)),(0,te.jsx)(Dj,(0,c.A)({type:"radio",icon:e.cloneElement(d,{fontSize:null!=(r=Fj.props.fontSize)?r:f}),checkedIcon:e.cloneElement(a,{fontSize:null!=(o=zj.props.fontSize)?o:f}),ownerState:v,classes:y,name:S,checked:x,onChange:w,ref:n,className:Q(y.root,m)},g))}),Bj=Vj,Uj=ji((0,te.jsx)("path",{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.3 3-3.4 3-5.7 0-3.9-3.1-7-7-7"}),"Lightbulb"),qj=ji((0,te.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),Wj=t=>{var n;let{question:r,onAnswer:o,showExplanation:i=!0}=t;const[s,a]=(0,e.useState)(""),[l,c]=(0,e.useState)(!1),[u]=(0,e.useState)(()=>Date.now()),d=l&&s===r.correctAnswer;l&&r.correctAnswer;return(0,te.jsx)(rt,{elevation:3,sx:{mb:3},children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{mb:3},children:[(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:r.text}),r.grammarFocus&&r.grammarFocus.length>0&&(0,te.jsx)(he,{sx:{display:"flex",gap:1,mt:2,flexWrap:"wrap"},children:r.grammarFocus.map((e,t)=>(0,te.jsx)(gE,{label:e,size:"small",color:"primary",variant:"outlined",icon:(0,te.jsx)(Uj,{})},t))})]}),(0,te.jsx)(kC,{component:"fieldset",fullWidth:!0,disabled:l,children:(0,te.jsx)(oj,{value:s,onChange:e=>a(e.target.value),children:null===(n=r.options)||void 0===n?void 0:n.map((e,t)=>(0,te.jsx)(xj,{value:e,control:(0,te.jsx)(Bj,{}),label:(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,te.jsx)(Pe,{children:e}),l&&e===r.correctAnswer&&(0,te.jsx)(hC,{color:"success",fontSize:"small"}),l&&e===s&&e!==r.correctAnswer&&(0,te.jsx)(qj,{color:"error",fontSize:"small"})]}),sx:{p:2,mb:1,border:1,borderColor:l&&e===r.correctAnswer?"success.main":l&&e===s?"error.main":"grey.300",borderRadius:2,bgcolor:l&&e===r.correctAnswer?"success.light":l&&e===s?"error.light":"transparent"}},t))})}),!l&&(0,te.jsx)(wn,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{const e=s===r.correctAnswer,t=Math.floor((Date.now()-u)/1e3);c(!0),o(s,e,t)},disabled:!s,sx:{mt:3},children:"Valider la r\xe9ponse"}),l&&(0,te.jsxs)(he,{sx:{mt:3},children:[(0,te.jsx)(OE,{severity:d?"success":"error",icon:d?(0,te.jsx)(hC,{}):(0,te.jsx)(qj,{}),children:(0,te.jsx)(Pe,{variant:"subtitle2",children:d?"Bonne r\xe9ponse !":"R\xe9ponse incorrecte"})}),i&&(0,te.jsxs)(he,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,te.jsx)(Pe,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Explication :"}),(0,te.jsx)(Pe,{variant:"body2",children:r.explanation})]})]})]})})};function Hj(e){return ae("MuiFormHelperText",e)}const Gj=le("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Kj;const Qj=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Xj=ye("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat(Ce(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(Gj.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(Gj.error)]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})}),Yj=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiFormHelperText"}),{children:r,className:o,component:i="p"}=n,s=(0,u.A)(n,Qj),a=EC({props:n,muiFormControl:CC(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,c.A)({},n,{component:i,contained:"filled"===a.variant||"outlined"===a.variant,variant:a.variant,size:a.size,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),d=(e=>{const{classes:t,contained:n,size:r,disabled:o,error:i,filled:s,focused:a,required:l}=e;return pe({root:["root",o&&"disabled",i&&"error",r&&"size".concat(Ce(r)),n&&"contained",a&&"focused",s&&"filled",l&&"required"]},Hj,t)})(l);return(0,te.jsx)(Xj,(0,c.A)({as:i,ownerState:l,className:Q(d.root,o),ref:t},s,{children:" "===r?Kj||(Kj=(0,te.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))}),$j=Yj;function Jj(e){return ae("MuiTextField",e)}le("MuiTextField",["root"]);const Zj=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],eT={standard:hI,filled:bI,outlined:RI},tT=ye(kC,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),nT=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:o=!1,children:i,className:s,color:a="primary",defaultValue:l,disabled:d=!1,error:h=!1,FormHelperTextProps:p,fullWidth:f=!1,helperText:m,id:g,InputLabelProps:v,inputProps:y,InputProps:b,inputRef:x,label:w,maxRows:S,minRows:k,multiline:E=!1,name:C,onBlur:A,onChange:I,onFocus:j,placeholder:T,required:_=!1,rows:R,select:P=!1,SelectProps:N,type:L,value:O,variant:M="outlined"}=n,D=(0,u.A)(n,Zj),z=(0,c.A)({},n,{autoFocus:o,color:a,disabled:d,error:h,fullWidth:f,multiline:E,required:_,select:P,variant:M}),F=(e=>{const{classes:t}=e;return pe({root:["root"]},Jj,t)})(z);const V={};"outlined"===M&&(v&&"undefined"!==typeof v.shrink&&(V.notched=v.shrink),V.label=w),P&&(N&&N.native||(V.id=void 0),V["aria-describedby"]=void 0);const B=ui(g),U=m&&B?"".concat(B,"-helper-text"):void 0,q=w&&B?"".concat(B,"-label"):void 0,W=eT[M],H=(0,te.jsx)(W,(0,c.A)({"aria-describedby":U,autoComplete:r,autoFocus:o,defaultValue:l,fullWidth:f,multiline:E,name:C,rows:R,maxRows:S,minRows:k,type:L,value:O,id:B,inputRef:x,onBlur:A,onChange:I,onFocus:j,placeholder:T,inputProps:y},V,b));return(0,te.jsxs)(tT,(0,c.A)({className:Q(F.root,s),disabled:d,error:h,fullWidth:f,ref:t,required:_,color:a,variant:M,ownerState:z},D,{children:[null!=w&&""!==w&&(0,te.jsx)(DC,(0,c.A)({htmlFor:B,id:q},v,{children:w})),P?(0,te.jsx)(FI,(0,c.A)({"aria-describedby":U,id:B,labelId:q,value:O,input:H},N,{children:i})):H,m&&(0,te.jsx)($j,(0,c.A)({id:U},p,{children:m}))]}))}),rT=nT,oT=t=>{let{question:n,onAnswer:r,showExplanation:o=!0}=t;const[i,s]=(0,e.useState)(""),[a,l]=(0,e.useState)(!1),[c]=(0,e.useState)(()=>Date.now()),u=a&&i.trim().toLowerCase()===(Array.isArray(n.correctAnswer)?n.correctAnswer[0]:n.correctAnswer).toLowerCase();return(0,te.jsx)(rt,{elevation:3,sx:{mb:3},children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{mb:3},children:[(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:"Compl\xe9tez le texte \xe0 trous"}),n.grammarFocus&&n.grammarFocus.length>0&&(0,te.jsx)(he,{sx:{display:"flex",gap:1,mt:2,mb:3,flexWrap:"wrap"},children:n.grammarFocus.map((e,t)=>(0,te.jsx)(gE,{label:e,size:"small",color:"primary",variant:"outlined",icon:(0,te.jsx)(Uj,{})},t))}),(0,te.jsx)(he,{sx:{p:3,bgcolor:"grey.50",borderRadius:2,fontSize:"1.1rem",lineHeight:2},children:(0,te.jsx)(Pe,{component:"div",variant:"body1",children:(t=>{const n=t.split("___");return n.map((t,r)=>(0,te.jsxs)(e.Fragment,{children:[t,r<n.length-1&&(0,te.jsx)(rT,{size:"small",variant:"outlined",disabled:a,value:i,onChange:e=>s(e.target.value),sx:{mx:1,minWidth:150,"& .MuiOutlinedInput-root":{bgcolor:a?u?"success.light":"error.light":"white"}}})]},r))})(n.text)})})]}),!a&&(0,te.jsx)(wn,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{const e=Array.isArray(n.correctAnswer)?n.correctAnswer[0]:n.correctAnswer,t=i.trim().toLowerCase()===e.toLowerCase(),o=Math.floor((Date.now()-c)/1e3);l(!0),r(i,t,o)},disabled:!i.trim(),sx:{mt:3},children:"Valider la r\xe9ponse"}),a&&(0,te.jsxs)(he,{sx:{mt:3},children:[(0,te.jsxs)(OE,{severity:u?"success":"error",icon:u?(0,te.jsx)(hC,{}):(0,te.jsx)(qj,{}),children:[(0,te.jsx)(Pe,{variant:"subtitle2",children:u?"Bonne r\xe9ponse !":"R\xe9ponse incorrecte"}),!u&&(0,te.jsxs)(Pe,{variant:"body2",sx:{mt:1},children:["La r\xe9ponse correcte \xe9tait : ",(0,te.jsx)("strong",{children:n.correctAnswer})]})]}),o&&(0,te.jsxs)(he,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,te.jsx)(Pe,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Explication :"}),(0,te.jsx)(Pe,{variant:"body2",children:n.explanation})]})]})]})})},iT=t=>{var n;let{question:r,onAnswer:o,audioUrl:i,transcript:s,showExplanation:a=!0}=t;const[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(!1),[h]=(0,e.useState)(()=>Date.now()),[p,f]=(0,e.useState)(!1),m=(0,e.useRef)(null),g=u&&l===r.correctAnswer;u&&r.correctAnswer;return(0,te.jsx)(rt,{elevation:3,sx:{mb:3},children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{mb:3},children:[(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:r.text}),r.grammarFocus&&r.grammarFocus.length>0&&(0,te.jsx)(he,{sx:{display:"flex",gap:1,mt:2,flexWrap:"wrap"},children:r.grammarFocus.map((e,t)=>(0,te.jsx)(gE,{label:e,size:"small",color:"primary",variant:"outlined"},t))}),i&&(0,te.jsxs)(he,{sx:{mt:3,mb:2,p:2,bgcolor:"primary.light",borderRadius:2,border:2,borderColor:"primary.main"},children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,te.jsx)(Pe,{variant:"h6",sx:{color:"white",flexGrow:1},children:"Audio"}),(0,te.jsx)("audio",{ref:m,src:i,controls:!0,style:{flexGrow:1,maxWidth:"400px"},onPlay:()=>f(!0),onPause:()=>f(!1),onEnded:()=>f(!1)})]}),(0,te.jsx)(Pe,{variant:"caption",sx:{display:"block",mt:1,color:"white"},children:"\ud83d\udca1 \xc9coutez attentivement l'audio avant de r\xe9pondre"})]}),s&&!u&&(0,te.jsx)(OE,{severity:"info",sx:{mt:2},children:(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Conseil :"})," \xc9coutez l'audio attentivement. La transcription sera disponible apr\xe8s avoir r\xe9pondu."]})}),s&&u&&(0,te.jsxs)(he,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,te.jsx)(Pe,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Transcription :"}),(0,te.jsx)(Pe,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:s})]})]}),(0,te.jsx)(kC,{component:"fieldset",fullWidth:!0,disabled:u,children:(0,te.jsx)(oj,{value:l,onChange:e=>c(e.target.value),children:null===(n=r.options)||void 0===n?void 0:n.map((e,t)=>(0,te.jsx)(xj,{value:e,control:(0,te.jsx)(Bj,{}),label:(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,te.jsx)(Pe,{children:e}),u&&e===r.correctAnswer&&(0,te.jsx)(hC,{color:"success",fontSize:"small"}),u&&e===l&&e!==r.correctAnswer&&(0,te.jsx)(qj,{color:"error",fontSize:"small"})]}),sx:{p:2,mb:1,border:1,borderColor:u&&e===r.correctAnswer?"success.main":u&&e===l?"error.main":"grey.300",borderRadius:2,bgcolor:u&&e===r.correctAnswer?"success.light":u&&e===l?"error.light":"transparent"}},t))})}),!u&&(0,te.jsx)(wn,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{const e=l===r.correctAnswer,t=Math.floor((Date.now()-h)/1e3);d(!0),o(l,e,t)},disabled:!l,sx:{mt:3},children:"Valider la r\xe9ponse"}),u&&(0,te.jsxs)(he,{sx:{mt:3},children:[(0,te.jsx)(OE,{severity:g?"success":"error",icon:g?(0,te.jsx)(hC,{}):(0,te.jsx)(qj,{}),children:(0,te.jsx)(Pe,{variant:"subtitle2",children:g?"Bonne r\xe9ponse !":"R\xe9ponse incorrecte"})}),a&&(0,te.jsxs)(he,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,te.jsx)(Pe,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Explication :"}),(0,te.jsx)(Pe,{variant:"body2",children:r.explanation})]})]})]})})},sT=t=>{var n;let{question:r,onAnswer:o,text:i,showExplanation:s=!0}=t;const[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(!1),[d]=(0,e.useState)(()=>Date.now()),h=c&&a===r.correctAnswer;c&&r.correctAnswer;return(0,te.jsx)(rt,{elevation:3,sx:{mb:3},children:(0,te.jsxs)(lt,{children:[i&&(0,te.jsx)(he,{sx:{mb:3,p:3,bgcolor:"grey.50",borderRadius:2},children:(0,te.jsx)(Pe,{variant:"body1",sx:{whiteSpace:"pre-wrap",lineHeight:1.8},children:i})}),(0,te.jsxs)(he,{sx:{mb:3},children:[(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:r.text}),r.grammarFocus&&r.grammarFocus.length>0&&(0,te.jsx)(he,{sx:{display:"flex",gap:1,mt:2,flexWrap:"wrap"},children:r.grammarFocus.map((e,t)=>(0,te.jsx)(gE,{label:e,size:"small",color:"primary",variant:"outlined"},t))})]}),(0,te.jsx)(kC,{component:"fieldset",fullWidth:!0,disabled:c,children:(0,te.jsx)(oj,{value:a,onChange:e=>l(e.target.value),children:null===(n=r.options)||void 0===n?void 0:n.map((e,t)=>(0,te.jsx)(xj,{value:e,control:(0,te.jsx)(Bj,{}),label:(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,te.jsx)(Pe,{children:e}),c&&e===r.correctAnswer&&(0,te.jsx)(hC,{color:"success",fontSize:"small"}),c&&e===a&&e!==r.correctAnswer&&(0,te.jsx)(qj,{color:"error",fontSize:"small"})]}),sx:{p:2,mb:1,border:1,borderColor:c&&e===r.correctAnswer?"success.main":c&&e===a?"error.main":"grey.300",borderRadius:2,bgcolor:c&&e===r.correctAnswer?"success.light":c&&e===a?"error.light":"transparent"}},t))})}),!c&&(0,te.jsx)(wn,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{const e=a===r.correctAnswer,t=Math.floor((Date.now()-d)/1e3);u(!0),o(a,e,t)},disabled:!a,sx:{mt:3},children:"Valider la r\xe9ponse"}),c&&(0,te.jsxs)(he,{sx:{mt:3},children:[(0,te.jsx)(OE,{severity:h?"success":"error",icon:h?(0,te.jsx)(hC,{}):(0,te.jsx)(qj,{}),children:(0,te.jsx)(Pe,{variant:"subtitle2",children:h?"Bonne r\xe9ponse !":"R\xe9ponse incorrecte"})}),s&&(0,te.jsxs)(he,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:2},children:[(0,te.jsx)(Pe,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Explication :"}),(0,te.jsx)(Pe,{variant:"body2",children:r.explanation})]})]})]})})};var aT=n(2374);function lT(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function cT(e){return e instanceof lT(e).Element||e instanceof Element}function uT(e){return e instanceof lT(e).HTMLElement||e instanceof HTMLElement}function dT(e){return"undefined"!==typeof ShadowRoot&&(e instanceof lT(e).ShadowRoot||e instanceof ShadowRoot)}var hT=Math.max,pT=Math.min,fT=Math.round;function mT(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function gT(){return!/^((?!chrome|android).)*safari/i.test(mT())}function vT(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&uT(e)&&(o=e.offsetWidth>0&&fT(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&fT(r.height)/e.offsetHeight||1);var s=(cT(e)?lT(e):window).visualViewport,a=!gT()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/o,c=(r.top+(a&&s?s.offsetTop:0))/i,u=r.width/o,d=r.height/i;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function yT(e){var t=lT(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function bT(e){return e?(e.nodeName||"").toLowerCase():null}function xT(e){return((cT(e)?e.ownerDocument:e.document)||window.document).documentElement}function wT(e){return vT(xT(e)).left+yT(e).scrollLeft}function ST(e){return lT(e).getComputedStyle(e)}function kT(e){var t=ST(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function ET(e,t,n){void 0===n&&(n=!1);var r=uT(t),o=uT(t)&&function(e){var t=e.getBoundingClientRect(),n=fT(t.width)/e.offsetWidth||1,r=fT(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=xT(t),s=vT(e,o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==bT(t)||kT(i))&&(a=function(e){return e!==lT(e)&&uT(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:yT(e);var t}(t)),uT(t)?((l=vT(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=wT(i))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function CT(e){var t=vT(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function AT(e){return"html"===bT(e)?e:e.assignedSlot||e.parentNode||(dT(e)?e.host:null)||xT(e)}function IT(e){return["html","body","#document"].indexOf(bT(e))>=0?e.ownerDocument.body:uT(e)&&kT(e)?e:IT(AT(e))}function jT(e,t){var n;void 0===t&&(t=[]);var r=IT(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=lT(r),s=o?[i].concat(i.visualViewport||[],kT(r)?r:[]):r,a=t.concat(s);return o?a:a.concat(jT(AT(s)))}function TT(e){return["table","td","th"].indexOf(bT(e))>=0}function _T(e){return uT(e)&&"fixed"!==ST(e).position?e.offsetParent:null}function RT(e){for(var t=lT(e),n=_T(e);n&&TT(n)&&"static"===ST(n).position;)n=_T(n);return n&&("html"===bT(n)||"body"===bT(n)&&"static"===ST(n).position)?t:n||function(e){var t=/firefox/i.test(mT());if(/Trident/i.test(mT())&&uT(e)&&"fixed"===ST(e).position)return null;var n=AT(e);for(dT(n)&&(n=n.host);uT(n)&&["html","body"].indexOf(bT(n))<0;){var r=ST(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var PT="top",NT="bottom",LT="right",OT="left",MT="auto",DT=[PT,NT,LT,OT],zT="start",FT="end",VT="viewport",BT="popper",UT=DT.reduce(function(e,t){return e.concat([t+"-"+zT,t+"-"+FT])},[]),qT=[].concat(DT,[MT]).reduce(function(e,t){return e.concat([t,t+"-"+zT,t+"-"+FT])},[]),WT=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function HT(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||o(e)}),r}function GT(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var KT={placement:"bottom",modifiers:[],strategy:"absolute"};function QT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function XT(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?KT:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},KT,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:o,setOptions:function(n){var a="function"===typeof n?n(o.options):n;c(),o.options=Object.assign({},i,o.options,a),o.scrollParents={reference:cT(e)?jT(e):e.contextElement?jT(e.contextElement):[],popper:jT(t)};var u=function(e){var t=HT(e);return WT.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,o.options.modifiers)));return o.orderedModifiers=u.filter(function(e){return e.enabled}),o.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var a=i({state:o,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}}),l.update()},forceUpdate:function(){if(!a){var e=o.elements,t=e.reference,n=e.popper;if(QT(t,n)){o.rects={reference:ET(t,RT(n),"fixed"===o.options.strategy),popper:CT(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(e){return o.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],s=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"===typeof s&&(o=s({state:o,options:u,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:GT(function(){return new Promise(function(e){l.forceUpdate(),e(o)})}),destroy:function(){c(),a=!0}};if(!QT(e,t))return l;function c(){s.forEach(function(e){return e()}),s=[]}return l.setOptions(n).then(function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)}),l}}var YT={passive:!0};function $T(e){return e.split("-")[0]}function JT(e){return e.split("-")[1]}function ZT(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function e_(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?$T(o):null,s=o?JT(o):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case PT:t={x:a,y:n.y-r.height};break;case NT:t={x:a,y:n.y+n.height};break;case LT:t={x:n.x+n.width,y:l};break;case OT:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?ZT(i):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case zT:t[c]=t[c]-(n[u]/2-r[u]/2);break;case FT:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var t_={top:"auto",right:"auto",bottom:"auto",left:"auto"};function n_(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,p=void 0===h?0:h,f=s.y,m=void 0===f?0:f,g="function"===typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=OT,x=PT,w=window;if(c){var S=RT(n),k="clientHeight",E="clientWidth";if(S===lT(n)&&"static"!==ST(S=xT(n)).position&&"absolute"===a&&(k="scrollHeight",E="scrollWidth"),o===PT||(o===OT||o===LT)&&i===FT)x=NT,m-=(d&&S===w&&w.visualViewport?w.visualViewport.height:S[k])-r.height,m*=l?1:-1;if(o===OT||(o===PT||o===NT)&&i===FT)b=LT,p-=(d&&S===w&&w.visualViewport?w.visualViewport.width:S[E])-r.width,p*=l?1:-1}var C,A=Object.assign({position:a},c&&t_),I=!0===u?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:fT(n*o)/o||0,y:fT(r*o)/o||0}}({x:p,y:m},lT(n)):{x:p,y:m};return p=I.x,m=I.y,l?Object.assign({},A,((C={})[x]=y?"0":"",C[b]=v?"0":"",C.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",C)):Object.assign({},A,((t={})[x]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const r_={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];uT(o)&&bT(o)&&(Object.assign(o.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});uT(r)&&bT(r)&&(Object.assign(r.style,i),Object.keys(o).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]};const o_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,s=qT.reduce(function(e,n){return e[n]=function(e,t,n){var r=$T(e),o=[OT,PT].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[OT,LT].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,i),e},{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var i_={left:"right",right:"left",bottom:"top",top:"bottom"};function s_(e){return e.replace(/left|right|bottom|top/g,function(e){return i_[e]})}var a_={start:"end",end:"start"};function l_(e){return e.replace(/start|end/g,function(e){return a_[e]})}function c_(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&dT(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function u_(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function d_(e,t,n){return t===VT?u_(function(e,t){var n=lT(e),r=xT(e),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;var c=gT();(c||!c&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a+wT(e),y:l}}(e,n)):cT(t)?function(e,t){var n=vT(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):u_(function(e){var t,n=xT(e),r=yT(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=hT(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=hT(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+wT(e),l=-r.scrollTop;return"rtl"===ST(o||n).direction&&(a+=hT(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}(xT(e)))}function h_(e,t,n,r){var o="clippingParents"===t?function(e){var t=jT(AT(e)),n=["absolute","fixed"].indexOf(ST(e).position)>=0&&uT(e)?RT(e):e;return cT(n)?t.filter(function(e){return cT(e)&&c_(e,n)&&"body"!==bT(e)}):[]}(e):[].concat(t),i=[].concat(o,[n]),s=i[0],a=i.reduce(function(t,n){var o=d_(e,n,r);return t.top=hT(o.top,t.top),t.right=pT(o.right,t.right),t.bottom=pT(o.bottom,t.bottom),t.left=hT(o.left,t.left),t},d_(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function p_(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function f_(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function m_(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,s=void 0===i?e.strategy:i,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,u=void 0===c?VT:c,d=n.elementContext,h=void 0===d?BT:d,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,v=p_("number"!==typeof g?g:f_(g,DT)),y=h===BT?"reference":BT,b=e.rects.popper,x=e.elements[f?y:h],w=h_(cT(x)?x:x.contextElement||xT(e.elements.popper),l,u,s),S=vT(e.elements.reference),k=e_({reference:S,element:b,strategy:"absolute",placement:o}),E=u_(Object.assign({},b,k)),C=h===BT?E:S,A={top:w.top-C.top+v.top,bottom:C.bottom-w.bottom+v.bottom,left:w.left-C.left+v.left,right:C.right-w.right+v.right},I=e.modifiersData.offset;if(h===BT&&I){var j=I[o];Object.keys(A).forEach(function(e){var t=[LT,NT].indexOf(e)>=0?1:-1,n=[PT,NT].indexOf(e)>=0?"y":"x";A[e]+=j[n]*t})}return A}function g_(e,t,n){return hT(e,pT(t,n))}const v_={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=m_(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=$T(t.placement),y=JT(t.placement),b=!y,x=ZT(v),w="x"===x?"y":"x",S=t.modifiersData.popperOffsets,k=t.rects.reference,E=t.rects.popper,C="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,A="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(S){if(i){var T,_="y"===x?PT:OT,R="y"===x?NT:LT,P="y"===x?"height":"width",N=S[x],L=N+g[_],O=N-g[R],M=p?-E[P]/2:0,D=y===zT?k[P]:E[P],z=y===zT?-E[P]:-k[P],F=t.elements.arrow,V=p&&F?CT(F):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=B[_],q=B[R],W=g_(0,k[P],V[P]),H=b?k[P]/2-M-W-U-A.mainAxis:D-W-U-A.mainAxis,G=b?-k[P]/2+M+W+q+A.mainAxis:z+W+q+A.mainAxis,K=t.elements.arrow&&RT(t.elements.arrow),Q=K?"y"===x?K.clientTop||0:K.clientLeft||0:0,X=null!=(T=null==I?void 0:I[x])?T:0,Y=N+G-X,$=g_(p?pT(L,N+H-X-Q):L,N,p?hT(O,Y):O);S[x]=$,j[x]=$-N}if(a){var J,Z="x"===x?PT:OT,ee="x"===x?NT:LT,te=S[w],ne="y"===w?"height":"width",re=te+g[Z],oe=te-g[ee],ie=-1!==[PT,OT].indexOf(v),se=null!=(J=null==I?void 0:I[w])?J:0,ae=ie?re:te-k[ne]-E[ne]-se+A.altAxis,le=ie?te+k[ne]+E[ne]-se-A.altAxis:oe,ce=p&&ie?function(e,t,n){var r=g_(e,t,n);return r>n?n:r}(ae,te,le):g_(p?ae:re,te,p?le:oe);S[w]=ce,j[w]=ce-te}t.modifiersData[r]=j}},requiresIfExists:["offset"]};const y_={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=$T(n.placement),l=ZT(a),c=[OT,LT].indexOf(a)>=0?"height":"width";if(i&&s){var u=function(e,t){return p_("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:f_(e,DT))}(o.padding,n),d=CT(i),h="y"===l?PT:OT,p="y"===l?NT:LT,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=RT(i),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,b=u[h],x=v-d[c]-u[p],w=v/2-d[c]/2+y,S=g_(b,w,x),k=l;n.modifiersData[r]=((t={})[k]=S,t.centerOffset=S-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&c_(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function b_(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function x_(e){return[PT,LT,NT,OT].some(function(t){return e[t]>=0})}var w_=XT({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,s=r.resize,a=void 0===s||s,l=lT(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(e){e.addEventListener("scroll",n.update,YT)}),a&&l.addEventListener("resize",n.update,YT),function(){i&&c.forEach(function(e){e.removeEventListener("scroll",n.update,YT)}),a&&l.removeEventListener("resize",n.update,YT)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=e_({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,s=void 0===i||i,a=n.roundOffsets,l=void 0===a||a,c={placement:$T(t.placement),variation:JT(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,n_(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,n_(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},r_,o_,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=$T(g),y=l||(v===g||!f?[s_(g)]:function(e){if($T(e)===MT)return[];var t=s_(e);return[l_(e),t,l_(t)]}(g)),b=[g].concat(y).reduce(function(e,n){return e.concat($T(n)===MT?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?qT:l,u=JT(r),d=u?a?UT:UT.filter(function(e){return JT(e)===u}):DT,h=d.filter(function(e){return c.indexOf(e)>=0});0===h.length&&(h=d);var p=h.reduce(function(t,n){return t[n]=m_(e,{placement:n,boundary:o,rootBoundary:i,padding:s})[$T(n)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)},[]),x=t.rects.reference,w=t.rects.popper,S=new Map,k=!0,E=b[0],C=0;C<b.length;C++){var A=b[C],I=$T(A),j=JT(A)===zT,T=[PT,NT].indexOf(I)>=0,_=T?"width":"height",R=m_(t,{placement:A,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),P=T?j?LT:OT:j?NT:PT;x[_]>w[_]&&(P=s_(P));var N=s_(P),L=[];if(i&&L.push(R[I]<=0),a&&L.push(R[P]<=0,R[N]<=0),L.every(function(e){return e})){E=A,k=!1;break}S.set(A,L)}if(k)for(var O=function(e){var t=b.find(function(t){var n=S.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return E=t,"break"},M=f?3:1;M>0;M--){if("break"===O(M))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},v_,y_,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=m_(t,{elementContext:"reference"}),a=m_(t,{altBoundary:!0}),l=b_(s,r),c=b_(a,o,i),u=x_(l),d=x_(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});function S_(e){return ae("MuiPopper",e)}le("MuiPopper",["root"]);const k_=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],E_=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function C_(e){return"function"===typeof e?e():e}function A_(e){return void 0!==e.nodeType}const I_={},j_=e.forwardRef(function(t,n){var r;const{anchorEl:o,children:i,direction:s,disablePortal:a,modifiers:l,open:d,placement:h,popperOptions:p,popperRef:f,slotProps:m={},slots:g={},TransitionProps:v}=t,y=(0,u.A)(t,k_),b=e.useRef(null),x=ut(b,n),w=e.useRef(null),S=ut(w,f),k=e.useRef(S);ht(()=>{k.current=S},[S]),e.useImperativeHandle(f,()=>w.current,[]);const E=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(h,s),[C,A]=e.useState(E),[I,j]=e.useState(C_(o));e.useEffect(()=>{w.current&&w.current.forceUpdate()}),e.useEffect(()=>{o&&j(C_(o))},[o]),ht(()=>{if(!I||!d)return;let e=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;A(t.placement)}}];null!=l&&(e=e.concat(l)),p&&null!=p.modifiers&&(e=e.concat(p.modifiers));const t=w_(I,b.current,(0,c.A)({placement:E},p,{modifiers:e}));return k.current(t),()=>{t.destroy(),k.current(null)}},[I,a,l,d,p,E]);const T={placement:C};null!==v&&(T.TransitionProps=v);const _=(e=>{const{classes:t}=e;return pe({root:["root"]},S_,t)})(t),R=null!=(r=g.root)?r:"div",P=Yn({elementType:R,externalSlotProps:m.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:x},ownerState:t,className:_.root});return(0,te.jsx)(R,(0,c.A)({},P,{children:"function"===typeof i?i(T):i}))}),T_=e.forwardRef(function(t,n){const{anchorEl:r,children:o,container:i,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:d,open:h,placement:p="bottom",popperOptions:f=I_,popperRef:m,style:g,transition:v=!1,slotProps:y={},slots:b={}}=t,x=(0,u.A)(t,E_),[w,S]=e.useState(!0);if(!l&&!h&&(!v||w))return null;let k;if(i)k=i;else if(r){const e=C_(r);k=e&&A_(e)?Jn(e).body:Jn(null).body}const E=h||!l||v&&!w?void 0:"none",C=v?{in:h,onEnter:()=>{S(!1)},onExited:()=>{S(!0)}}:void 0;return(0,te.jsx)(or,{disablePortal:a,container:k,children:(0,te.jsx)(j_,(0,c.A)({anchorEl:r,direction:s,disablePortal:a,modifiers:d,ref:n,open:v?!w:h,placement:p,popperOptions:f,popperRef:m,slotProps:y,slots:b},x,{style:(0,c.A)({position:"fixed",top:0,left:0,display:E},g),TransitionProps:C,children:o}))})}),__=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],R_=ye(T_,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),P_=e.forwardRef(function(e,t){var n;const r=(0,aT.A)(),o=ke({props:e,name:"MuiPopper"}),{anchorEl:i,component:s,components:a,componentsProps:l,container:d,disablePortal:h,keepMounted:p,modifiers:f,open:m,placement:g,popperOptions:v,popperRef:y,transition:b,slots:x,slotProps:w}=o,S=(0,u.A)(o,__),k=null!=(n=null==x?void 0:x.root)?n:null==a?void 0:a.Root,E=(0,c.A)({anchorEl:i,container:d,disablePortal:h,keepMounted:p,modifiers:f,open:m,placement:g,popperOptions:v,popperRef:y,transition:b},S);return(0,te.jsx)(R_,(0,c.A)({as:s,direction:null==r?void 0:r.direction,slots:{root:k},slotProps:null!=w?w:l},E,{ref:t}))}),N_=P_;function L_(e){return ae("MuiTooltip",e)}const O_=le("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),M_=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const D_=ye(N_,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(e=>{let{theme:t,ownerState:n,open:r}=e;return(0,c.A)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},n.arrow&&{['&[data-popper-placement*="bottom"] .'.concat(O_.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(O_.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(O_.arrow)]:(0,c.A)({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),['&[data-popper-placement*="left"] .'.concat(O_.arrow)]:(0,c.A)({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})}),z_=ye("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat(Ce(n.placement.split("-")[0]))]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,v.X4)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:"".concat((r=16/14,Math.round(1e5*r)/1e5),"em"),fontWeight:t.typography.fontWeightRegular},{[".".concat(O_.popper,'[data-popper-placement*="left"] &')]:(0,c.A)({transformOrigin:"right center"},n.isRtl?(0,c.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,c.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[".".concat(O_.popper,'[data-popper-placement*="right"] &')]:(0,c.A)({transformOrigin:"left center"},n.isRtl?(0,c.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,c.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[".".concat(O_.popper,'[data-popper-placement*="top"] &')]:(0,c.A)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[".".concat(O_.popper,'[data-popper-placement*="bottom"] &')]:(0,c.A)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})});var r}),F_=ye("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,v.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}});let V_=!1;const B_=new vt;let U_={x:0,y:0};function q_(e,t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t&&t(n,...o),e(n,...o)}}const W_=e.forwardRef(function(t,n){var r,o,i,s,a,l,d,h,p,f,m,g,v,y,b,x,w,S,k;const E=ke({props:t,name:"MuiTooltip"}),{arrow:C=!1,children:A,components:I={},componentsProps:j={},describeChild:T=!1,disableFocusListener:_=!1,disableHoverListener:R=!1,disableInteractive:P=!1,disableTouchListener:N=!1,enterDelay:L=100,enterNextDelay:O=0,enterTouchDelay:M=700,followCursor:D=!1,id:z,leaveDelay:F=0,leaveTouchDelay:V=1500,onClose:B,onOpen:U,open:q,placement:W="bottom",PopperComponent:H,PopperProps:G={},slotProps:K={},slots:X={},title:Y,TransitionComponent:$=JC,TransitionProps:J}=E,Z=(0,u.A)(E,M_),ee=e.isValidElement(A)?A:(0,te.jsx)("span",{children:A}),ne=Le(),re=Bn(),[oe,ie]=e.useState(),[se,ae]=e.useState(null),le=e.useRef(!1),ce=P||D,ue=yt(),de=yt(),he=yt(),fe=yt(),[me,ge]=RA({controlled:q,default:!1,name:"Tooltip",state:"open"});let ve=me;const ye=tj(z),be=e.useRef(),xe=ft(()=>{void 0!==be.current&&(document.body.style.WebkitUserSelect=be.current,be.current=void 0),fe.clear()});e.useEffect(()=>xe,[xe]);const we=e=>{B_.clear(),V_=!0,ge(!0),U&&!ve&&U(e)},Se=ft(e=>{B_.start(800+F,()=>{V_=!1}),ge(!1),B&&ve&&B(e),ue.start(ne.transitions.duration.shortest,()=>{le.current=!1})}),Ee=e=>{le.current&&"touchstart"!==e.type||(oe&&oe.removeAttribute("title"),de.clear(),he.clear(),L||V_&&O?de.start(V_?O:L,()=>{we(e)}):we(e))},Ae=e=>{de.clear(),he.start(F,()=>{Se(e)})},{isFocusVisibleRef:Ie,onBlur:je,onFocus:Te,ref:_e}=jt(),[,Re]=e.useState(!1),Pe=e=>{je(e),!1===Ie.current&&(Re(!1),Ae(e))},Ne=e=>{oe||ie(e.currentTarget),Te(e),!0===Ie.current&&(Re(!0),Ee(e))},Oe=e=>{le.current=!0;const t=ee.props;t.onTouchStart&&t.onTouchStart(e)},Me=e=>{Oe(e),he.clear(),ue.clear(),xe(),be.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",fe.start(M,()=>{document.body.style.WebkitUserSelect=be.current,Ee(e)})},De=e=>{ee.props.onTouchEnd&&ee.props.onTouchEnd(e),xe(),he.start(V,()=>{Se(e)})};e.useEffect(()=>{if(ve)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||Se(e)}},[Se,ve]);const ze=dt($n(ee),_e,ie,n);Y||0===Y||(ve=!1);const Fe=e.useRef(),Ve={},Be="string"===typeof Y;T?(Ve.title=ve||!Be||R?null:Y,Ve["aria-describedby"]=ve?ye:null):(Ve["aria-label"]=Be?Y:null,Ve["aria-labelledby"]=ve&&!Be?ye:null);const Ue=(0,c.A)({},Ve,Z,ee.props,{className:Q(Z.className,ee.props.className),onTouchStart:Oe,ref:ze},D?{onMouseMove:e=>{const t=ee.props;t.onMouseMove&&t.onMouseMove(e),U_={x:e.clientX,y:e.clientY},Fe.current&&Fe.current.update()}}:{});const qe={};N||(Ue.onTouchStart=Me,Ue.onTouchEnd=De),R||(Ue.onMouseOver=q_(Ee,Ue.onMouseOver),Ue.onMouseLeave=q_(Ae,Ue.onMouseLeave),ce||(qe.onMouseOver=Ee,qe.onMouseLeave=Ae)),_||(Ue.onFocus=q_(Ne,Ue.onFocus),Ue.onBlur=q_(Pe,Ue.onBlur),ce||(qe.onFocus=Ne,qe.onBlur=Pe));const We=e.useMemo(()=>{var e;let t=[{name:"arrow",enabled:Boolean(se),options:{element:se,padding:4}}];return null!=(e=G.popperOptions)&&e.modifiers&&(t=t.concat(G.popperOptions.modifiers)),(0,c.A)({},G.popperOptions,{modifiers:t})},[se,G]),He=(0,c.A)({},E,{isRtl:re,arrow:C,disableInteractive:ce,placement:W,PopperComponentProp:H,touch:le.current}),Ge=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:i}=e;return pe({popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch","tooltipPlacement".concat(Ce(i.split("-")[0]))],arrow:["arrow"]},L_,t)})(He),Ke=null!=(r=null!=(o=X.popper)?o:I.Popper)?r:D_,Qe=null!=(i=null!=(s=null!=(a=X.transition)?a:I.Transition)?s:$)?i:JC,Xe=null!=(l=null!=(d=X.tooltip)?d:I.Tooltip)?l:z_,Ye=null!=(h=null!=(p=X.arrow)?p:I.Arrow)?h:F_,$e=Wn(Ke,(0,c.A)({},G,null!=(f=K.popper)?f:j.popper,{className:Q(Ge.popper,null==G?void 0:G.className,null==(m=null!=(g=K.popper)?g:j.popper)?void 0:m.className)}),He),Je=Wn(Qe,(0,c.A)({},J,null!=(v=K.transition)?v:j.transition),He),Ze=Wn(Xe,(0,c.A)({},null!=(y=K.tooltip)?y:j.tooltip,{className:Q(Ge.tooltip,null==(b=null!=(x=K.tooltip)?x:j.tooltip)?void 0:b.className)}),He),et=Wn(Ye,(0,c.A)({},null!=(w=K.arrow)?w:j.arrow,{className:Q(Ge.arrow,null==(S=null!=(k=K.arrow)?k:j.arrow)?void 0:S.className)}),He);return(0,te.jsxs)(e.Fragment,{children:[e.cloneElement(ee,Ue),(0,te.jsx)(Ke,(0,c.A)({as:null!=H?H:N_,placement:W,anchorEl:D?{getBoundingClientRect:()=>({top:U_.y,left:U_.x,right:U_.x,bottom:U_.y,width:0,height:0})}:oe,popperRef:Fe,open:!!oe&&ve,id:ye,transition:!0},qe,$e,{popperOptions:We,children:e=>{let{TransitionProps:t}=e;return(0,te.jsx)(Qe,(0,c.A)({timeout:ne.transitions.duration.shorter},t,Je,{children:(0,te.jsxs)(Xe,(0,c.A)({},Ze,{children:[Y,C?(0,te.jsx)(Ye,(0,c.A)({},et,{ref:ae})):null]}))}))}}))]})}),H_=W_;var G_=n(1188);const K_={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};const Q_=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;return e.length===t.length&&e.every((e,r)=>n(e,t[r]))};function X_(e,t){return e-t}function Y_(e,t){var n;const{index:r}=null!=(n=e.reduce((e,n,r)=>{const o=Math.abs(t-n);return null===e||o<e.distance||o===e.distance?{distance:o,index:r}:e},null))?n:{};return r}function $_(e,t){if(void 0!==t.current&&e.changedTouches){const n=e;for(let e=0;e<n.changedTouches.length;e+=1){const r=n.changedTouches[e];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function J_(e,t,n){return 100*(e-t)/(n-t)}function Z_(e,t,n){const r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){const t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}(t)))}function eR(e){let{values:t,newValue:n,index:r}=e;const o=t.slice();return o[r]=n,o.sort(X_)}function tR(e){let{sliderRef:t,activeIndex:n,setActive:r}=e;var o,i;const s=Jn(t.current);var a;null!=(o=t.current)&&o.contains(s.activeElement)&&Number(null==s||null==(i=s.activeElement)?void 0:i.getAttribute("data-index"))===n||(null==(a=t.current)||a.querySelector('[type="range"][data-index="'.concat(n,'"]')).focus());r&&r(n)}function nR(e,t){return"number"===typeof e&&"number"===typeof t?e===t:"object"===typeof e&&"object"===typeof t&&Q_(e,t)}const rR={horizontal:{offset:e=>({left:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},"horizontal-reverse":{offset:e=>({right:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},vertical:{offset:e=>({bottom:"".concat(e,"%")}),leap:e=>({height:"".concat(e,"%")})}},oR=e=>e;let iR;function sR(){return void 0===iR&&(iR="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),iR}function aR(t){const{"aria-labelledby":n,defaultValue:r,disabled:o=!1,disableSwap:i=!1,isRtl:s=!1,marks:a=!1,max:l=100,min:u=0,name:d,onChange:h,onChangeCommitted:p,orientation:f="horizontal",rootRef:m,scale:g=oR,step:v=1,shiftStep:y=10,tabIndex:b,value:x}=t,w=e.useRef(void 0),[S,k]=e.useState(-1),[E,C]=e.useState(-1),[A,I]=e.useState(!1),j=e.useRef(0),[T,_]=_A({controlled:x,default:null!=r?r:u,name:"Slider"}),R=h&&((e,t,n)=>{const r=e.nativeEvent||e,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:t,name:d}}),h(o,t,n)}),P=Array.isArray(T);let N=P?T.slice().sort(X_):[T];N=N.map(e=>null==e?u:(0,G_.A)(e,u,l));const L=!0===a&&null!==v?[...Array(Math.floor((l-u)/v)+1)].map((e,t)=>({value:u+v*t})):a||[],O=L.map(e=>e.value),{isFocusVisibleRef:M,onBlur:D,onFocus:z,ref:F}=It(),[V,B]=e.useState(-1),U=e.useRef(null),q=ut(F,U),W=ut(m,q),H=e=>t=>{var n;const r=Number(t.currentTarget.getAttribute("data-index"));z(t),!0===M.current&&B(r),C(r),null==e||null==(n=e.onFocus)||n.call(e,t)},G=e=>t=>{var n;D(t),!1===M.current&&B(-1),C(-1),null==e||null==(n=e.onBlur)||n.call(e,t)},K=(e,t)=>{const n=Number(e.currentTarget.getAttribute("data-index")),r=N[n],o=O.indexOf(r);let s=t;if(L&&null==v){const e=O[O.length-1];s=s>e?e:s<O[0]?O[0]:s<r?O[o-1]:O[o+1]}if(s=(0,G_.A)(s,u,l),P){i&&(s=(0,G_.A)(s,N[n-1]||-1/0,N[n+1]||1/0));const e=s;s=eR({values:N,newValue:s,index:n});let t=n;i||(t=s.indexOf(e)),tR({sliderRef:U,activeIndex:t})}_(s),B(n),R&&!nR(s,T)&&R(e,s,n),p&&p(e,s)},Q=e=>t=>{var n;if(null!==v){const e=Number(t.currentTarget.getAttribute("data-index")),n=N[e];let r=null;("ArrowLeft"===t.key||"ArrowDown"===t.key)&&t.shiftKey||"PageDown"===t.key?r=Math.max(n-y,u):(("ArrowRight"===t.key||"ArrowUp"===t.key)&&t.shiftKey||"PageUp"===t.key)&&(r=Math.min(n+y,l)),null!==r&&(K(t,r),t.preventDefault())}null==e||null==(n=e.onKeyDown)||n.call(e,t)};ht(()=>{var e;o&&U.current.contains(document.activeElement)&&(null==(e=document.activeElement)||e.blur())},[o]),o&&-1!==S&&k(-1),o&&-1!==V&&B(-1);const X=e.useRef(void 0);let Y=f;s&&"horizontal"===f&&(Y+="-reverse");const $=e=>{let{finger:t,move:n=!1}=e;const{current:r}=U,{width:o,height:s,bottom:a,left:c}=r.getBoundingClientRect();let d,h;if(d=0===Y.indexOf("vertical")?(a-t.y)/s:(t.x-c)/o,-1!==Y.indexOf("-reverse")&&(d=1-d),h=function(e,t,n){return(n-t)*e+t}(d,u,l),v)h=Z_(h,v,u);else{const e=Y_(O,h);h=O[e]}h=(0,G_.A)(h,u,l);let p=0;if(P){p=n?X.current:Y_(N,h),i&&(h=(0,G_.A)(h,N[p-1]||-1/0,N[p+1]||1/0));const e=h;h=eR({values:N,newValue:h,index:p}),i&&n||(p=h.indexOf(e),X.current=p)}return{newValue:h,activeIndex:p}},J=pt(e=>{const t=$_(e,w);if(!t)return;if(j.current+=1,"mousemove"===e.type&&0===e.buttons)return void Z(e);const{newValue:n,activeIndex:r}=$({finger:t,move:!0});tR({sliderRef:U,activeIndex:r,setActive:k}),_(n),!A&&j.current>2&&I(!0),R&&!nR(n,T)&&R(e,n,r)}),Z=pt(e=>{const t=$_(e,w);if(I(!1),!t)return;const{newValue:n}=$({finger:t,move:!0});k(-1),"touchend"===e.type&&C(-1),p&&p(e,n),w.current=void 0,te()}),ee=pt(e=>{if(o)return;sR()||e.preventDefault();const t=e.changedTouches[0];null!=t&&(w.current=t.identifier);const n=$_(e,w);if(!1!==n){const{newValue:t,activeIndex:r}=$({finger:n});tR({sliderRef:U,activeIndex:r,setActive:k}),_(t),R&&!nR(t,T)&&R(e,t,r)}j.current=0;const r=Jn(U.current);r.addEventListener("touchmove",J,{passive:!0}),r.addEventListener("touchend",Z,{passive:!0})}),te=e.useCallback(()=>{const e=Jn(U.current);e.removeEventListener("mousemove",J),e.removeEventListener("mouseup",Z),e.removeEventListener("touchmove",J),e.removeEventListener("touchend",Z)},[Z,J]);e.useEffect(()=>{const{current:e}=U;return e.addEventListener("touchstart",ee,{passive:sR()}),()=>{e.removeEventListener("touchstart",ee),te()}},[te,ee]),e.useEffect(()=>{o&&te()},[o,te]);const ne=J_(P?N[0]:u,u,l),re=J_(N[N.length-1],u,l)-ne,oe=e=>t=>{var n;null==(n=e.onMouseLeave)||n.call(e,t),C(-1)};return{active:S,axis:Y,axisProps:rR,dragging:A,focusedThumbIndex:V,getHiddenInputProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r;const i=Hn(e),a={onChange:(h=i||{},e=>{var t;null==(t=h.onChange)||t.call(h,e),K(e,e.target.valueAsNumber)}),onFocus:H(i||{}),onBlur:G(i||{}),onKeyDown:Q(i||{})};var h;const p=(0,c.A)({},i,a);return(0,c.A)({tabIndex:b,"aria-labelledby":n,"aria-orientation":f,"aria-valuemax":g(l),"aria-valuemin":g(u),name:d,type:"range",min:t.min,max:t.max,step:null===t.step&&t.marks?"any":null!=(r=t.step)?r:void 0,disabled:o},e,p,{style:(0,c.A)({},K_,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Hn(e),n={onMouseDown:(r=t||{},e=>{var t;if(null==(t=r.onMouseDown)||t.call(r,e),o)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const n=$_(e,w);if(!1!==n){const{newValue:t,activeIndex:r}=$({finger:n});tR({sliderRef:U,activeIndex:r,setActive:k}),_(t),R&&!nR(t,T)&&R(e,t,r)}j.current=0;const i=Jn(U.current);i.addEventListener("mousemove",J,{passive:!0}),i.addEventListener("mouseup",Z)})};var r;const i=(0,c.A)({},t,n);return(0,c.A)({},e,{ref:W},i)},getThumbProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Hn(e),n={onMouseOver:(r=t||{},e=>{var t;null==(t=r.onMouseOver)||t.call(r,e);const n=Number(e.currentTarget.getAttribute("data-index"));C(n)}),onMouseLeave:oe(t||{})};var r;return(0,c.A)({},e,t,n)},marks:L,open:E,range:P,rootRef:W,trackLeap:re,trackOffset:ne,values:N,getThumbStyle:e=>({pointerEvents:-1!==S&&S!==e?"none":void 0})}}const lR=e=>!e||!qn(e);function cR(e){return ae("MuiSlider",e)}const uR=le("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);const dR=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function hR(e){return e}const pR=ye("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat(Ce(n.color))],"medium"!==n.size&&t["size".concat(Ce(n.size))],n.marked&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})(e=>{let{theme:t}=e;var n;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},["&.".concat(uR.disabled)]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},["&.".concat(uR.dragging)]:{["& .".concat(uR.thumb,", & .").concat(uR.track)]:{transition:"none"}},variants:[...Object.keys((null!=(n=t.vars)?n:t).palette).filter(e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main}).map(e=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),fR=ye("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),mR=ye("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(e=>{let{theme:t}=e;var n;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys((null!=(n=t.vars)?n:t).palette).filter(e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main}).map(e=>({props:{color:e,track:"inverted"},style:(0,c.A)({},t.vars?{backgroundColor:t.vars.palette.Slider["".concat(e,"Track")],borderColor:t.vars.palette.Slider["".concat(e,"Track")]}:(0,c.A)({backgroundColor:(0,v.a)(t.palette[e].main,.62),borderColor:(0,v.a)(t.palette[e].main,.62)},t.applyStyles("dark",{backgroundColor:(0,v.e$)(t.palette[e].main,.5)}),t.applyStyles("dark",{borderColor:(0,v.e$)(t.palette[e].main,.5)})))}))]}}),gR=ye("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t["thumbColor".concat(Ce(n.color))],"medium"!==n.size&&t["thumbSize".concat(Ce(n.size))]]}})(e=>{let{theme:t}=e;var n;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},["&.".concat(uR.disabled)]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.keys((null!=(n=t.vars)?n:t).palette).filter(e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main}).map(e=>({props:{color:e},style:{["&:hover, &.".concat(uR.focusVisible)]:(0,c.A)({},t.vars?{boxShadow:"0px 0px 0px 8px rgba(".concat(t.vars.palette[e].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 8px ".concat((0,v.X4)(t.palette[e].main,.16))},{"@media (hover: none)":{boxShadow:"none"}}),["&.".concat(uR.active)]:(0,c.A)({},t.vars?{boxShadow:"0px 0px 0px 14px rgba(".concat(t.vars.palette[e].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 14px ".concat((0,v.X4)(t.palette[e].main,.16))})}}))]}}),vR=ye(function(t){const{children:n,className:r,value:o}=t,i=(e=>{const{open:t}=e;return{offset:Q(t&&uR.valueLabelOpen),circle:uR.valueLabelCircle,label:uR.valueLabelLabel}})(t);return n?e.cloneElement(n,{className:Q(n.props.className)},(0,te.jsxs)(e.Fragment,{children:[n.props.children,(0,te.jsx)("span",{className:Q(i.offset,r),"aria-hidden":!0,children:(0,te.jsx)("span",{className:i.circle,children:(0,te.jsx)("span",{className:i.label,children:o})})})]})):null},{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(e=>{let{theme:t}=e;return(0,c.A)({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},["&.".concat(uR.valueLabelOpen)]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},["&.".concat(uR.valueLabelOpen)]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})}),yR=ye("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>ge(e)&&"markActive"!==e,overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})(e=>{let{theme:t}=e;return{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}}),bR=ye("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>ge(e)&&"markLabelActive"!==e,overridesResolver:(e,t)=>t.markLabel})(e=>{let{theme:t}=e;return(0,c.A)({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})}),xR=e=>{let{children:t}=e;return t},wR=e.forwardRef(function(t,n){var r,o,i,s,a,l,d,h,p,f,m,g,v,y,b,x,w,S,k,E,C,A,I,j;const T=ke({props:t,name:"MuiSlider"}),_=Bn(),{"aria-label":R,"aria-valuetext":P,"aria-labelledby":N,component:L="span",components:O={},componentsProps:M={},color:D="primary",classes:z,className:F,disableSwap:V=!1,disabled:B=!1,getAriaLabel:U,getAriaValueText:q,marks:W=!1,max:H=100,min:G=0,orientation:K="horizontal",shiftStep:X=10,size:Y="medium",step:$=1,scale:J=hR,slotProps:Z,slots:ee,track:ne="normal",valueLabelDisplay:re="off",valueLabelFormat:oe=hR}=T,ie=(0,u.A)(T,dR),se=(0,c.A)({},T,{isRtl:_,max:H,min:G,classes:z,disabled:B,disableSwap:V,orientation:K,marks:W,color:D,size:Y,step:$,shiftStep:X,scale:J,track:ne,valueLabelDisplay:re,valueLabelFormat:oe}),{axisProps:ae,getRootProps:le,getHiddenInputProps:ce,getThumbProps:ue,open:de,active:he,axis:fe,focusedThumbIndex:me,range:ge,dragging:ve,marks:ye,values:be,trackOffset:xe,trackLeap:we,getThumbStyle:Se}=aR((0,c.A)({},se,{rootRef:n}));se.marked=ye.length>0&&ye.some(e=>e.label),se.dragging=ve,se.focusedThumbIndex=me;const Ee=(e=>{const{disabled:t,dragging:n,marked:r,orientation:o,track:i,classes:s,color:a,size:l}=e;return pe({root:["root",t&&"disabled",n&&"dragging",r&&"marked","vertical"===o&&"vertical","inverted"===i&&"trackInverted",!1===i&&"trackFalse",a&&"color".concat(Ce(a)),l&&"size".concat(Ce(l))],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&"thumbSize".concat(Ce(l)),a&&"thumbColor".concat(Ce(a))],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]},cR,s)})(se),Ae=null!=(r=null!=(o=null==ee?void 0:ee.root)?o:O.Root)?r:pR,Ie=null!=(i=null!=(s=null==ee?void 0:ee.rail)?s:O.Rail)?i:fR,je=null!=(a=null!=(l=null==ee?void 0:ee.track)?l:O.Track)?a:mR,Te=null!=(d=null!=(h=null==ee?void 0:ee.thumb)?h:O.Thumb)?d:gR,_e=null!=(p=null!=(f=null==ee?void 0:ee.valueLabel)?f:O.ValueLabel)?p:vR,Re=null!=(m=null!=(g=null==ee?void 0:ee.mark)?g:O.Mark)?m:yR,Pe=null!=(v=null!=(y=null==ee?void 0:ee.markLabel)?y:O.MarkLabel)?v:bR,Ne=null!=(b=null!=(x=null==ee?void 0:ee.input)?x:O.Input)?b:"input",Le=null!=(w=null==Z?void 0:Z.root)?w:M.root,Oe=null!=(S=null==Z?void 0:Z.rail)?S:M.rail,Me=null!=(k=null==Z?void 0:Z.track)?k:M.track,De=null!=(E=null==Z?void 0:Z.thumb)?E:M.thumb,ze=null!=(C=null==Z?void 0:Z.valueLabel)?C:M.valueLabel,Fe=null!=(A=null==Z?void 0:Z.mark)?A:M.mark,Ve=null!=(I=null==Z?void 0:Z.markLabel)?I:M.markLabel,Be=null!=(j=null==Z?void 0:Z.input)?j:M.input,Ue=Yn({elementType:Ae,getSlotProps:le,externalSlotProps:Le,externalForwardedProps:ie,additionalProps:(0,c.A)({},lR(Ae)&&{as:L}),ownerState:(0,c.A)({},se,null==Le?void 0:Le.ownerState),className:[Ee.root,F]}),qe=Yn({elementType:Ie,externalSlotProps:Oe,ownerState:se,className:Ee.rail}),We=Yn({elementType:je,externalSlotProps:Me,additionalProps:{style:(0,c.A)({},ae[fe].offset(xe),ae[fe].leap(we))},ownerState:(0,c.A)({},se,null==Me?void 0:Me.ownerState),className:Ee.track}),He=Yn({elementType:Te,getSlotProps:ue,externalSlotProps:De,ownerState:(0,c.A)({},se,null==De?void 0:De.ownerState),className:Ee.thumb}),Ge=Yn({elementType:_e,externalSlotProps:ze,ownerState:(0,c.A)({},se,null==ze?void 0:ze.ownerState),className:Ee.valueLabel}),Ke=Yn({elementType:Re,externalSlotProps:Fe,ownerState:se,className:Ee.mark}),Qe=Yn({elementType:Pe,externalSlotProps:Ve,ownerState:se,className:Ee.markLabel}),Xe=Yn({elementType:Ne,getSlotProps:ce,externalSlotProps:Be,ownerState:se});return(0,te.jsxs)(Ae,(0,c.A)({},Ue,{children:[(0,te.jsx)(Ie,(0,c.A)({},qe)),(0,te.jsx)(je,(0,c.A)({},We)),ye.filter(e=>e.value>=G&&e.value<=H).map((t,n)=>{const r=J_(t.value,G,H),o=ae[fe].offset(r);let i;return i=!1===ne?-1!==be.indexOf(t.value):"normal"===ne&&(ge?t.value>=be[0]&&t.value<=be[be.length-1]:t.value<=be[0])||"inverted"===ne&&(ge?t.value<=be[0]||t.value>=be[be.length-1]:t.value>=be[0]),(0,te.jsxs)(e.Fragment,{children:[(0,te.jsx)(Re,(0,c.A)({"data-index":n},Ke,!qn(Re)&&{markActive:i},{style:(0,c.A)({},o,Ke.style),className:Q(Ke.className,i&&Ee.markActive)})),null!=t.label?(0,te.jsx)(Pe,(0,c.A)({"aria-hidden":!0,"data-index":n},Qe,!qn(Pe)&&{markLabelActive:i},{style:(0,c.A)({},o,Qe.style),className:Q(Ee.markLabel,Qe.className,i&&Ee.markLabelActive),children:t.label})):null]},n)}),be.map((e,t)=>{const n=J_(e,G,H),r=ae[fe].offset(n),o="off"===re?xR:_e;return(0,te.jsx)(o,(0,c.A)({},!qn(o)&&{valueLabelFormat:oe,valueLabelDisplay:re,value:"function"===typeof oe?oe(J(e),t):oe,index:t,open:de===t||he===t||"on"===re,disabled:B},Ge,{children:(0,te.jsx)(Te,(0,c.A)({"data-index":t},He,{className:Q(Ee.thumb,He.className,he===t&&Ee.active,me===t&&Ee.focusVisible),style:(0,c.A)({},r,Se(t),He.style),children:(0,te.jsx)(Ne,(0,c.A)({"data-index":t,"aria-label":U?U(t):R,"aria-valuenow":J(e),"aria-labelledby":N,"aria-valuetext":q?q(J(e),t):P,value:be[t]},Xe))}))}),t)})]}))}),SR=wR,kR=ji((0,te.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),ER=ji((0,te.jsx)("path",{d:"M6 6h12v12H6z"}),"Stop"),CR=ji((0,te.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),AR=ji((0,te.jsx)("path",{d:"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83"}),"Speed"),IR=()=>/Android/i.test(navigator.userAgent),jR=()=>{const[t,n]=(0,e.useState)(!1),[r,o]=(0,e.useState)(!1),[i,s]=(0,e.useState)(!1),[a,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(null),[d,h]=(0,e.useState)(1),[p,f]=(0,e.useState)(1),[m,g]=(0,e.useState)(1),[v,y]=(0,e.useState)(null),b=(0,e.useRef)(null),x=(0,e.useRef)(!1);(0,e.useEffect)(()=>{if("speechSynthesis"in window){setTimeout(()=>s(!0),0);const e=()=>{const t=window.speechSynthesis.getVoices();if(0===t.length&&!x.current)return void setTimeout(e,100);x.current=!0;const n=t.map(e=>({name:e.name,lang:e.lang,default:e.default}));l(n);let r=t.find(e=>e.lang.startsWith("en-")&&e.localService&&e.name.toLowerCase().includes("google"));r||(r=t.find(e=>e.lang.startsWith("en-")&&(e.name.includes("Google")||e.name.includes("Microsoft")))),r||(r=t.find(e=>e.lang.startsWith("en-"))),r?u(r):t.length>0&&u(t[0])};if(e(),window.speechSynthesis.onvoiceschanged=e,IR()){const e=setInterval(()=>{window.speechSynthesis.speaking&&(window.speechSynthesis.pause(),window.speechSynthesis.resume())},1e4);return()=>{clearInterval(e),window.speechSynthesis.cancel()}}return()=>{window.speechSynthesis.cancel()}}setTimeout(()=>y("La synth\xe8se vocale n'est pas support\xe9e sur votre appareil."),0)},[]);const w=(0,e.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if(!i||!e)return void y("Synth\xe8se vocale non support\xe9e ou texte vide.");window.speechSynthesis.cancel(),IR()&&await new Promise(e=>setTimeout(e,50));const r=new SpeechSynthesisUtterance(e);if(b.current=r,c&&(r.voice=c),r.lang=t,r.rate=d,r.pitch=p,r.volume=m,IR()&&e.length>200){const r=e.match(/[^.!?]+[.!?]+/g)||[e];for(let e=0;e<r.length;e++){const i=new SpeechSynthesisUtterance(r[e]);i.voice=c,i.lang=t,i.rate=d,i.pitch=p,i.volume=m,0===e&&(i.onstart=()=>{n(!0),o(!1),y(null)}),e===r.length-1&&(i.onend=()=>{n(!1),o(!1)}),i.onerror=e=>{console.error("Erreur de synth\xe8se vocale:",e),y("Erreur de synth\xe8se: ".concat(e.error)),n(!1),o(!1)},window.speechSynthesis.speak(i)}return}r.onstart=()=>{n(!0),o(!1),y(null)},r.onend=()=>{n(!1),o(!1)},r.onerror=e=>{switch(console.error("Erreur de synth\xe8se vocale:",e),e.error){case"network":y("Erreur r\xe9seau lors de la synth\xe8se vocale.");break;case"synthesis-failed":y("\xc9chec de la synth\xe8se vocale.");break;case"audio-busy":y("Audio occup\xe9. R\xe9essayez.");break;case"not-allowed":y("Permission audio refus\xe9e.");break;default:y("Erreur: ".concat(e.error))}n(!1),o(!1)},r.onpause=()=>{o(!0)},r.onresume=()=>{o(!1)};try{window.speechSynthesis.speak(r)}catch(s){console.error("Error speaking:",s),y("Impossible de lancer la synth\xe8se vocale."),n(!1)}},[i,c,d,p,m]),S=(0,e.useCallback)(()=>{if(i)try{window.speechSynthesis.cancel(),n(!1),o(!1),y(null)}catch(e){console.error("Error stopping speech:",e)}},[i]),k=(0,e.useCallback)(()=>{if(i)try{window.speechSynthesis.pause(),o(!0)}catch(e){console.error("Error pausing speech:",e)}},[i]),E=(0,e.useCallback)(()=>{if(i)try{window.speechSynthesis.resume(),o(!1)}catch(e){console.error("Error resuming speech:",e)}},[i]),C=(0,e.useCallback)(e=>{const t=window.speechSynthesis.getVoices().find(t=>t.name===e);t?(u(t),y(null)):y("Voix non trouv\xe9e.")},[]);return{speak:w,stop:S,pause:k,resume:E,isSpeaking:t,isPaused:r,isSupported:i,voices:a,setVoice:C,setRate:h,setPitch:f,setVolume:g,error:v}},TR=t=>{let{text:n,lang:r="en-US",title:o,showControls:i=!0,autoPlay:s=!1}=t;const{speak:a,stop:l,isSpeaking:c,isSupported:u,setRate:d,setVolume:h,error:p}=jR(),[f,m]=e.useState(1),[g,v]=e.useState(1);e.useEffect(()=>(s&&u&&n&&a(n,r),()=>{l()}),[s]);return u?(0,te.jsxs)(he,{sx:{p:{xs:1.5,sm:2},bgcolor:"primary.light",borderRadius:2,border:2,borderColor:"primary.main"},children:[o&&(0,te.jsx)(Pe,{variant:"h6",sx:{color:"white",mb:2},children:o}),p&&(0,te.jsx)(OE,{severity:"error",sx:{mb:2},children:p}),(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:{xs:1,sm:2},mb:2,flexDirection:{xs:"column",sm:"row"}},children:[(0,te.jsx)(Oi,{sx:{fontSize:{xs:24,sm:30},color:"white",display:{xs:"none",sm:"block"}}}),(0,te.jsx)(he,{sx:{flexGrow:1,width:"100%",p:{xs:1.5,sm:2},bgcolor:"white",borderRadius:1},children:(0,te.jsx)(Pe,{variant:"body1",sx:{fontStyle:"italic",fontSize:{xs:"0.9rem",sm:"1rem"}},children:n})}),(0,te.jsx)(H_,{title:c?"Arr\xeater":"\xc9couter",children:(0,te.jsx)(zn,{onClick:()=>{c?l():a(n,r)},sx:{bgcolor:"white","&:hover":{bgcolor:"grey.200"},width:{xs:52,sm:56},height:{xs:52,sm:56},minWidth:44,minHeight:44,"@media (hover: none)":{"&:active":{transform:"scale(0.95)",transition:"transform 0.1s"}}},children:c?(0,te.jsx)(ER,{sx:{fontSize:{xs:24,sm:28}}}):(0,te.jsx)(CR,{sx:{fontSize:{xs:24,sm:28}}})})})]}),i&&(0,te.jsxs)(he,{sx:{bgcolor:"white",p:{xs:1.5,sm:2},borderRadius:1},children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:{xs:1,sm:2},mb:2,flexDirection:{xs:"column",sm:"row"}},children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:1,width:{xs:"100%",sm:"auto"}},children:[(0,te.jsx)(AR,{sx:{color:"text.secondary"}}),(0,te.jsxs)(Pe,{variant:"body2",sx:{minWidth:{xs:80,sm:100}},children:["Vitesse: ",f.toFixed(1),"x"]})]}),(0,te.jsx)(SR,{value:f,onChange:(e,t)=>{const n=t;m(n),d(n)},min:.5,max:2,step:.1,sx:{flexGrow:1,width:{xs:"100%",sm:"auto"},"& .MuiSlider-thumb":{width:{xs:24,sm:20},height:{xs:24,sm:20}},"& .MuiSlider-track":{height:{xs:6,sm:4}},"& .MuiSlider-rail":{height:{xs:6,sm:4}}},disabled:c})]}),(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:{xs:1,sm:2},flexDirection:{xs:"column",sm:"row"}},children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:1,width:{xs:"100%",sm:"auto"}},children:[(0,te.jsx)(Oi,{sx:{color:"text.secondary"}}),(0,te.jsxs)(Pe,{variant:"body2",sx:{minWidth:{xs:80,sm:100}},children:["Volume: ",Math.round(100*g),"%"]})]}),(0,te.jsx)(SR,{value:g,onChange:(e,t)=>{const n=t;v(n),h(n)},min:0,max:1,step:.1,sx:{flexGrow:1,width:{xs:"100%",sm:"auto"},"& .MuiSlider-thumb":{width:{xs:24,sm:20},height:{xs:24,sm:20}},"& .MuiSlider-track":{height:{xs:6,sm:4}},"& .MuiSlider-rail":{height:{xs:6,sm:4}}},disabled:c})]})]}),(0,te.jsxs)(Pe,{variant:"caption",sx:{display:"block",mt:1,color:"white",fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:["\ud83d\udca1 Cliquez sur le bouton lecture pour entendre le texte en anglais",i&&" \u2022 Ajustez la vitesse et le volume selon vos besoins"]})]}):(0,te.jsxs)(OE,{severity:"warning",sx:{my:2},icon:(0,te.jsx)(kR,{}),children:[(0,te.jsx)(Pe,{variant:"body2",gutterBottom:!0,children:"Votre navigateur ne supporte pas la synth\xe8se vocale."}),(0,te.jsxs)(Pe,{variant:"caption",children:["Veuillez utiliser ",(0,te.jsx)("strong",{children:"Chrome"}),", ",(0,te.jsx)("strong",{children:"Edge"})," ou ",(0,te.jsx)("strong",{children:"Safari"}),"."]})]})},_R=()=>{const[t,n]=(0,e.useState)([]),[r,o]=(0,e.useState)(null),[i,s]=(0,e.useState)("all"),[a,c]=(0,e.useState)("all"),[u,d]=(0,e.useState)(0),{addResponse:h}=aE();(0,e.useEffect)(()=>{f()},[]);const p=e=>{if(!e.questions||0===e.questions.length)return!1;for(const t of e.questions){if(t.options){const e=[/^primary use of/i,/^alternative answer \d+$/i,/^incorrect statement [a-z]$/i,/^correct statement about/i,/^explanation about/i,/^other \d+$/i];for(const n of t.options)if(e.some(e=>e.test(n)))return!1}if("string"===typeof t.correctAnswer&&/^primary use of|^correct statement about|^explanation about/i.test(t.correctAnswer))return!1;if(t.explanation&&/^explanation about|^this is correct because/i.test(t.explanation))return!1;if(!t.text||t.text.trim().length<10)return!1}return!0},f=async()=>{try{const t=await fetch("/data/exercises/all_qcm_200.json");if(!t.ok)throw new Error("Erreur HTTP ".concat(t.status," pour all_qcm_200.json"));const r=await t.json(),o=await fetch("/data/exercises/all_cloze_200.json");if(!o.ok)throw new Error("Erreur HTTP ".concat(o.status," pour all_cloze_200.json"));const i=await o.json();let s=[];try{const e=await fetch("/corpus/listening/all_listening_100.json");if(e.ok){const t=await e.json();s=(t.texts||[]).map(e=>(e=>{if(!e.questions||0===e.questions.length)return null;const t=e.questions.map((t,n)=>({id:t.id||"q".concat(n+1),text:t.text,options:t.options||[],correctAnswer:t.correctAnswer,explanation:"This question tests your understanding of: ".concat(e.topic||"the listening text","."),grammarFocus:[],vocabularyFocus:[]}));return{id:e.id,type:"listening",level:e.level,domain:"ai",title:e.title,description:e.topic||"Listening exercise",content:e.transcript||"",questions:t,estimatedTime:Math.ceil((e.duration||120)/60),difficulty:3,audioUrl:e.audioFile?"/corpus/listening/".concat(e.audioFile):void 0,transcript:e.transcript,listeningData:e}})(e)).filter(e=>null!==e&&void 0!==e),console.log("\u2705 Charg\xe9 ".concat(s.length," exercices listening"))}}catch(e){console.warn("Erreur chargement listening:",e)}let a=[];try{const e=await fetch("/corpus/reading/all_reading_100.json");if(e.ok){const t=await e.json();a=(t.texts||[]).map(e=>(e=>{if(!e.questions||0===e.questions.length)return null;const t=e.questions.map((t,n)=>({id:t.id||"q".concat(n+1),text:t.text,options:t.options||[],correctAnswer:t.correctAnswer,explanation:"This question tests your understanding of: ".concat(e.topic||"the reading text","."),grammarFocus:[],vocabularyFocus:[]}));return{id:e.id,type:"reading",level:e.level,domain:"ai",title:e.title,description:e.topic||"Reading exercise",content:e.text||"",questions:t,estimatedTime:e.readingTime||5,difficulty:3,readingText:e.text,readingData:e}})(e)).filter(e=>null!==e&&void 0!==e),console.log("\u2705 Charg\xe9 ".concat(a.length," exercices reading"))}}catch(e){console.warn("Erreur chargement reading:",e)}const l=Array.isArray(r)?r:r.exercises||[],c=Array.isArray(i)?i:i.exercises||[],u=[...l,...c,...s,...a];console.log("\ud83d\udcda Total exercices charg\xe9s: ".concat(u.length," (").concat(l.length," QCM + ").concat(c.length," Cloze + ").concat(s.length," Listening + ").concat(a.length," Reading)"));const h=u.filter(e=>{if(!p(e))return!1;if(e.questions&&("listening"===e.type||"reading"===e.type))for(const t of e.questions)if(t.options){if(t.options.some(e=>/^other \d+$/i.test(e.trim())))return console.warn("\u26a0\ufe0f Exercice ".concat(e.id,' filtr\xe9 : contient des options placeholder "Other X"')),!1}return!0}),f=u.length-h.length;f>0&&(console.warn("\u26a0\ufe0f ".concat(f," exercices incomplets filtr\xe9s (contiennent des placeholders)")),d(f)),console.log("\u2705 Charg\xe9 ".concat(h.length," exercices complets \xe0 100% (").concat(f," incomplets filtr\xe9s)")),n(h)}catch(t){console.error("Erreur chargement exercices:",t);try{const e=await fetch("/data/exercises/qcm_exercises.json"),t=await fetch("/data/exercises/cloze_exercises.json"),r=await e.json(),o=await t.json(),i=[...r.exercises||[],...o.exercises||[]].filter(e=>p(e));console.log("\u2705 Charg\xe9 ".concat(i.length," exercices fallback complets")),n(i)}catch(r){console.error("Erreur chargement fallback:",r),n([])}}},m=t.filter(e=>{const t="all"===i||e.level===i,n="all"===a||e.type===a;return t&&n}),g=(0,e.useCallback)(e=>{var t;if(console.log("\ud83d\udd04 Clic sur exercice:",e.id,e.title),console.log("\ud83d\udccb Exercice complet:",e),console.log("\ud83d\udcdd Questions:",(null===(t=e.questions)||void 0===t?void 0:t.length)||0),!e||!e.id)return console.error("\u274c Erreur: exercice invalide",e),void alert("Erreur: exercice invalide");if(!e.questions||0===e.questions.length)return console.error("\u274c Erreur: l'exercice n'a pas de questions",e),void alert("Cet exercice n'a pas de questions disponibles. Veuillez choisir un autre exercice.");const n=l(l({},e),{},{questions:[...e.questions]});console.log("\u2705 D\xe9finition de l'exercice s\xe9lectionn\xe9:",n.id),o(n)},[]),v=(e,t,n,o)=>{r&&h({exerciseId:r.id,questionId:e,answer:t,isCorrect:n,timeSpent:o,timestamp:new Date})},y=()=>{o(null)};return r?(console.log("\ud83c\udfaf Rendu de l'exercice s\xe9lectionn\xe9:",r.id,r.title),(0,te.jsxs)(he,{sx:{p:3},children:[(0,te.jsx)(wn,{onClick:y,sx:{mb:3},variant:"outlined",children:"\u2190 Retour aux exercices"}),"qcm"===r.type?(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"h5",gutterBottom:!0,children:r.title}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",sx:{mb:3},children:r.description}),r.questions&&r.questions.length>0?r.questions.map(e=>(0,te.jsx)(Wj,{question:e,onAnswer:(t,n,r)=>v(e.id,t,n,r)},e.id)):(0,te.jsx)(OE,{severity:"error",children:"Aucune question disponible pour cet exercice."})]}):"cloze"===r.type?(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"h5",gutterBottom:!0,children:r.title}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",sx:{mb:3},children:r.description}),r.questions&&r.questions.length>0?r.questions.map(e=>(0,te.jsx)(oT,{question:e,onAnswer:(t,n,r)=>v(e.id,t,n,r)},e.id)):(0,te.jsx)(OE,{severity:"error",children:"Aucune question disponible pour cet exercice."})]}):"listening"===r.type?(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"h5",gutterBottom:!0,children:r.title}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",sx:{mb:3},children:r.description}),r.transcript&&(0,te.jsxs)(he,{sx:{mb:3},children:[(0,te.jsx)(TR,{text:r.transcript,lang:"en-US",title:"Audio - \xc9coutez la transcription",showControls:!0,autoPlay:!1}),(0,te.jsx)(OE,{severity:"info",sx:{mt:2},children:(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Conseil :"})," Cliquez sur le bouton lecture dans le lecteur audio ci-dessus pour \xe9couter la transcription. La transcription compl\xe8te sera disponible apr\xe8s avoir r\xe9pondu aux questions."]})})]}),r.questions&&r.questions.length>0?(0,te.jsxs)(te.Fragment,{children:[r.questions.map((e,t)=>(console.log("\ud83d\udcdd Question ".concat(t+1,":"),e),(0,te.jsx)(iT,{question:e,onAnswer:(t,n,r)=>v(e.id,t,n,r),audioUrl:void 0,transcript:void 0},e.id||"q".concat(t)))),r.transcript&&(0,te.jsxs)(he,{sx:{mt:4,p:3,bgcolor:"grey.100",borderRadius:2},children:[(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:"Transcription compl\xe8te"}),(0,te.jsx)(Pe,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.8},children:r.transcript})]})]}):(0,te.jsx)(OE,{severity:"error",children:"Aucune question disponible pour cet exercice."})]}):"reading"===r.type?(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"h5",gutterBottom:!0,children:r.title}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",sx:{mb:3},children:r.description}),r.readingText||r.content?(0,te.jsxs)(he,{sx:{mb:3,p:3,bgcolor:"grey.50",borderRadius:2},children:[(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:"Texte \xe0 lire :"}),(0,te.jsx)(Pe,{variant:"body1",sx:{whiteSpace:"pre-wrap",lineHeight:1.8},children:r.readingText||r.content})]}):null,r.questions&&r.questions.length>0?r.questions.map(e=>(0,te.jsx)(sT,{question:e,onAnswer:(t,n,r)=>v(e.id,t,n,r),text:void 0},e.id)):(0,te.jsx)(OE,{severity:"error",children:"Aucune question disponible pour cet exercice."})]}):(0,te.jsxs)(OE,{severity:"error",children:["Type d'exercice non support\xe9: ",r.type]})]})):(0,te.jsxs)(he,{sx:{p:3},children:[" ",u>0&&(0,te.jsx)(OE,{severity:"warning",sx:{mb:3},children:(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Note :"})," ",u," exercice(s) incomplet(s) ont \xe9t\xe9 automatiquement filtr\xe9s car ils contiennent des placeholders au lieu de contenu r\xe9el. Seuls les exercices complets sont affich\xe9s."]})}),0===t.length&&(0,te.jsx)(OE,{severity:"error",sx:{mb:3},children:(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Erreur :"})," Aucun exercice n'a pu \xeatre charg\xe9. V\xe9rifiez la console pour plus de d\xe9tails."]})}),(0,te.jsxs)(Pe,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:["Exercices disponibles",t.length>0&&(0,te.jsx)(gE,{label:"".concat(t.length," exercice(s) au total"),color:"primary",sx:{ml:2}})]}),(0,te.jsxs)(he,{sx:{display:"flex",gap:2,mb:4},children:[(0,te.jsxs)(kC,{sx:{minWidth:200},children:[(0,te.jsx)(DC,{children:"Niveau"}),(0,te.jsxs)(FI,{value:i,label:"Niveau",onChange:e=>s(e.target.value),children:[(0,te.jsx)(KI,{value:"all",children:"Tous les niveaux"}),(0,te.jsx)(KI,{value:"A2",children:"A2"}),(0,te.jsx)(KI,{value:"B1",children:"B1"}),(0,te.jsx)(KI,{value:"B2",children:"B2"}),(0,te.jsx)(KI,{value:"C1",children:"C1"})]})]}),(0,te.jsxs)(kC,{sx:{minWidth:200},children:[(0,te.jsx)(DC,{children:"Type"}),(0,te.jsxs)(FI,{value:a,label:"Type",onChange:e=>c(e.target.value),children:[(0,te.jsx)(KI,{value:"all",children:"Tous les types"}),(0,te.jsx)(KI,{value:"qcm",children:"QCM"}),(0,te.jsx)(KI,{value:"cloze",children:"Texte \xe0 trous"}),(0,te.jsx)(KI,{value:"listening",children:"Listening (Compr\xe9hension orale)"}),(0,te.jsx)(KI,{value:"reading",children:"Reading (Compr\xe9hension \xe9crite)"})]})]}),(0,te.jsx)(gE,{label:"".concat(m.length," exercice(s)"),color:"primary",sx:{ml:"auto",alignSelf:"center"}})]}),(0,te.jsx)(Ge,{container:!0,spacing:3,children:m.map(e=>(0,te.jsx)(Ge,{item:!0,xs:12,sm:6,md:4,children:(0,te.jsxs)(rt,{elevation:3,sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,te.jsxs)(lt,{sx:{flexGrow:1},children:[(0,te.jsxs)(he,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,te.jsx)(gE,{label:e.level,color:"C1"===e.level?"error":"B2"===e.level?"warning":"B1"===e.level?"info":"success",size:"small"}),(0,te.jsx)(gE,{label:"qcm"===e.type?"QCM":"Texte \xe0 trous",variant:"outlined",size:"small"})]}),(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,sx:{minHeight:60},children:e.title}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",sx:{mb:2,minHeight:40},children:e.description}),(0,te.jsxs)(he,{sx:{display:"flex",gap:2,mb:2},children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,te.jsx)(Ri,{fontSize:"small",color:"action"}),(0,te.jsxs)(Pe,{variant:"caption",children:[e.questions.length," question(s)"]})]}),(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,te.jsx)(cC,{fontSize:"small",color:"action"}),(0,te.jsxs)(Pe,{variant:"caption",children:["~",e.estimatedTime," min"]})]}),(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,te.jsx)(uC,{fontSize:"small",color:"action"}),(0,te.jsxs)(Pe,{variant:"caption",children:["Niveau ",e.difficulty,"/5"]})]})]}),(0,te.jsx)(gE,{label:e.domain,size:"small",sx:{mt:1}})]}),(0,te.jsx)(he,{sx:{p:2,pt:0},children:(0,te.jsx)(wn,{variant:"contained",fullWidth:!0,type:"button",onClick:t=>{var n;t.preventDefault(),t.stopPropagation(),console.log("\ud83d\uddb1\ufe0f \xc9V\xc9NEMENT CLIC D\xc9TECT\xc9 pour:",e.id,e.title),console.log("\ud83d\udd0d Exercice au moment du clic:",{id:e.id,title:e.title,questionsCount:(null===(n=e.questions)||void 0===n?void 0:n.length)||0,type:e.type}),g(e)},onMouseDown:t=>{t.stopPropagation(),console.log("\ud83d\uddb1\ufe0f MouseDown d\xe9tect\xe9 pour:",e.id)},disabled:!e.questions||0===e.questions.length,sx:{cursor:e.questions&&e.questions.length>0?"pointer":"not-allowed","&:hover":{backgroundColor:e.questions&&e.questions.length>0?"primary.dark":"action.disabled"}},children:e.questions&&e.questions.length>0?"Commencer":"Indisponible"})})]})},e.id))}),0===m.length&&(0,te.jsxs)(he,{sx:{textAlign:"center",py:8},children:[(0,te.jsx)(Pe,{variant:"h6",color:"text.secondary",children:"Aucun exercice trouv\xe9 pour ces crit\xe8res"}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Essayez de changer les filtres"})]})]})},RR=ji((0,te.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9v7c0 1.1.9 2 2 2h4v-8H5v-1c0-3.87 3.13-7 7-7s7 3.13 7 7v1h-4v8h4c1.1 0 2-.9 2-2v-7c0-4.97-4.03-9-9-9"}),"Headphones"),PR=ji((0,te.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),NR=[{id:"l1",section:"listening",question:"Listen to the audio: 'The system was deployed yesterday.' What tense is used?",audioText:"The system was deployed yesterday.",options:["Present Simple","Past Simple","Present Perfect","Past Perfect"],correctAnswer:"Past Simple",level:"B1",points:1},{id:"l2",section:"listening",question:"Listen: 'We have been working on this project for three months.' What does this indicate?",audioText:"We have been working on this project for three months.",options:["The project is finished","The project started in the past and continues now","The project will start in three months","The project lasted only three months"],correctAnswer:"The project started in the past and continues now",level:"B2",points:2},{id:"l3",section:"listening",question:"Listen: 'The vulnerability could have been prevented.' What is the meaning?",audioText:"The vulnerability could have been prevented.",options:["It was prevented","It will be prevented","It was possible to prevent it but it wasn't done","It cannot be prevented"],correctAnswer:"It was possible to prevent it but it wasn't done",level:"C1",points:3},{id:"l4",section:"listening",question:"Listen: 'By implementing CI/CD, deployment time has decreased significantly.' What happened?",audioText:"By implementing CI/CD, deployment time has decreased significantly.",options:["Deployment takes more time now","Deployment time stayed the same","Deployment became much faster","CI/CD was not implemented"],correctAnswer:"Deployment became much faster",level:"B2",points:2},{id:"l5",section:"listening",question:"Listen: 'Had the team followed best practices, the security breach would not have occurred.' What does this mean?",audioText:"Had the team followed best practices, the security breach would not have occurred.",options:["The team followed best practices","The team didn't follow best practices and there was a breach","There was no security breach","Best practices are not important"],correctAnswer:"The team didn't follow best practices and there was a breach",level:"C1",points:3},{id:"l6",section:"listening",question:"Listen: 'The application is being tested by the QA team.' What is the current status?",audioText:"The application is being tested by the QA team.",options:["Testing is complete","Testing will start soon","Testing is happening right now","Testing was cancelled"],correctAnswer:"Testing is happening right now",level:"B2",points:2},{id:"r1",section:"reading",question:"What is the main topic of this text?",readingText:"Technical debt occurs when developers choose quick solutions over better approaches. While these shortcuts save time initially, they accumulate interest in the form of increased maintenance costs and reduced code quality. Managing technical debt requires regular refactoring and prioritization.",options:["Quick coding techniques","Managing shortcuts in software development","Cost reduction strategies","Code quality standards"],correctAnswer:"Managing shortcuts in software development",level:"B2",points:2},{id:"r2",section:"reading",question:"According to the text, what is the consequence of technical debt?",readingText:"Technical debt occurs when developers choose quick solutions over better approaches. While these shortcuts save time initially, they accumulate interest in the form of increased maintenance costs and reduced code quality. Managing technical debt requires regular refactoring and prioritization.",options:["Faster development","Better code quality","Increased maintenance costs","No consequences"],correctAnswer:"Increased maintenance costs",level:"B2",points:2},{id:"r3",section:"reading",question:"What does RAG stand for in AI systems?",readingText:"Retrieval-Augmented Generation (RAG) is an AI framework that combines the power of large language models with external knowledge retrieval. Rather than relying solely on pre-trained knowledge, RAG systems query a database or document corpus to retrieve relevant information, which is then used to generate more accurate and contextually appropriate responses.",options:["Rapid Application Generation","Retrieval-Augmented Generation","Random Access Gateway","Real-time Analytics Generator"],correctAnswer:"Retrieval-Augmented Generation",level:"C1",points:3},{id:"r4",section:"reading",question:"How does RAG improve AI responses?",readingText:"Retrieval-Augmented Generation (RAG) is an AI framework that combines the power of large language models with external knowledge retrieval. Rather than relying solely on pre-trained knowledge, RAG systems query a database or document corpus to retrieve relevant information, which is then used to generate more accurate and contextually appropriate responses.",options:["By using only pre-trained data","By accessing external knowledge sources","By generating random responses","By reducing computation time"],correctAnswer:"By accessing external knowledge sources",level:"C1",points:3},{id:"r5",section:"reading",question:"What is the primary purpose of MLOps?",readingText:"MLOps (Machine Learning Operations) applies DevOps principles to machine learning workflows. It encompasses the practices, tools, and cultural philosophies necessary to deploy, monitor, and maintain ML models in production. Key aspects include automated testing, continuous integration/continuous deployment (CI/CD), model versioning, and performance monitoring.",options:["To replace DevOps engineers","To deploy and maintain ML models in production","To train machine learning models","To reduce computational costs"],correctAnswer:"To deploy and maintain ML models in production",level:"B2",points:2},{id:"r6",section:"reading",question:"Which is NOT mentioned as a key aspect of MLOps?",readingText:"MLOps (Machine Learning Operations) applies DevOps principles to machine learning workflows. It encompasses the practices, tools, and cultural philosophies necessary to deploy, monitor, and maintain ML models in production. Key aspects include automated testing, continuous integration/continuous deployment (CI/CD), model versioning, and performance monitoring.",options:["Automated testing","Model versioning","Manual deployment","Performance monitoring"],correctAnswer:"Manual deployment",level:"B2",points:2},{id:"w1",section:"writing",question:"Complete the sentence: The bug ___ fixed by the developer yesterday.",correctAnswer:["was"],level:"B1",points:1},{id:"w2",section:"writing",question:"Complete: We have ___ implementing microservices for two years.",correctAnswer:["been"],level:"B2",points:2},{id:"w3",section:"writing",question:"Complete: Technical debt accumulates when teams choose quick solutions ___ of better approaches.",correctAnswer:["instead"],level:"B2",points:2},{id:"w4",section:"writing",question:"Complete: Had the team ___ the security audit, the breach would not have occurred.",correctAnswer:["conducted","performed","done","completed"],level:"C1",points:3},{id:"w5",section:"writing",question:"Complete: Not only ___ the system more secure, but it also improved performance.",correctAnswer:["did it make","did we make"],level:"C1",points:3},{id:"w6",section:"writing",question:"Complete: The application ___ currently ___ tested by the QA team.",correctAnswer:["is being"],level:"B2",points:2}],LR=(e,t)=>({l1:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:"R\xe8gle : Past Simple (Pass\xe9 simple)"})}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:["Le ",(0,te.jsx)("strong",{children:"Past Simple"})," est utilis\xe9 pour d\xe9crire une action termin\xe9e dans le pass\xe9, souvent accompagn\xe9e d'un indicateur de temps pr\xe9cis."]}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Structure :"}),(0,te.jsx)("br",{}),"\u2022 Forme affirmative : Sujet + verbe-ed (ou verbe irr\xe9gulier)",(0,te.jsx)("br",{}),'\u2022 Exemple : "The system ',(0,te.jsx)("strong",{children:"was deployed"}),' yesterday."',(0,te.jsx)("br",{}),"\u2022 Indicateurs : yesterday, last week, in 2020, ago"]}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:[(0,te.jsx)("strong",{children:"\u26a0\ufe0f Attention :"}),' "was deployed" est \xe0 la voix passive. Voix active \xe9quivalente : "They deployed the system yesterday."']}),(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Autres exemples :"}),(0,te.jsx)("br",{}),'\u2022 "I worked on this project last month."',(0,te.jsx)("br",{}),'\u2022 "The bug was fixed two days ago."',(0,te.jsx)("br",{}),'\u2022 "She tested the application yesterday."']})]}),l2:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:"R\xe8gle : Present Perfect Continuous"})}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:["Le ",(0,te.jsx)("strong",{children:"Present Perfect Continuous"})," exprime une action qui a commenc\xe9 dans le pass\xe9 et qui continue jusqu'\xe0 maintenant, avec emphase sur la dur\xe9e."]}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Structure :"}),(0,te.jsx)("br",{}),"\u2022 Have/Has + been + verbe-ing",(0,te.jsx)("br",{}),'\u2022 Exemple : "We ',(0,te.jsx)("strong",{children:"have been working"}),' for three months."',(0,te.jsx)("br",{}),"\u2022 Indicateurs : for (dur\xe9e), since (point de d\xe9part)"]}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:[(0,te.jsx)("strong",{children:"Diff\xe9rence avec Present Perfect Simple :"}),(0,te.jsx)("br",{}),"\u2022 Perfect Continuous : emphase sur la dur\xe9e/continuit\xe9",(0,te.jsx)("br",{}),"\u2022 Perfect Simple : emphase sur le r\xe9sultat/ach\xe8vement",(0,te.jsx)("br",{}),'Exemple : "I have been reading" (je lis encore) vs "I have read" (j\'ai fini)']}),(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Autres exemples :"}),(0,te.jsx)("br",{}),'\u2022 "She has been learning English for 5 years."',(0,te.jsx)("br",{}),'\u2022 "They have been developing this feature since January."',(0,te.jsx)("br",{}),'\u2022 "The server has been running continuously."']})]}),l3:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:"R\xe8gle : Modal Perfect (Could have + past participle)"})}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:[(0,te.jsx)("strong",{children:'"Could have + past participle"'})," exprime une possibilit\xe9 dans le pass\xe9 qui ne s'est pas r\xe9alis\xe9e (regret, reproche, ou constat)."]}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Structure :"}),(0,te.jsx)("br",{}),"\u2022 Modal (could/should/would) + have + past participle",(0,te.jsx)("br",{}),'\u2022 Exemple : "The vulnerability ',(0,te.jsx)("strong",{children:"could have been prevented"}),'."',(0,te.jsx)("br",{}),"\u2022 Signification : C'\xe9tait possible de le pr\xe9venir, mais \xe7a n'a pas \xe9t\xe9 fait."]}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:[(0,te.jsx)("strong",{children:"Autres modaux au pass\xe9 :"}),(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Should have :"})," obligation non respect\xe9e (reproche)",(0,te.jsx)("br",{}),'\xa0\xa0"You should have tested the code."',(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Would have :"})," conditionnel pass\xe9",(0,te.jsx)("br",{}),'\xa0\xa0"I would have fixed it if I had known."',(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Must have :"})," d\xe9duction logique sur le pass\xe9",(0,te.jsx)("br",{}),'\xa0\xa0"He must have forgotten the meeting."']}),(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Exemples IT :"}),(0,te.jsx)("br",{}),'\u2022 "The data breach could have been prevented with proper encryption."',(0,te.jsx)("br",{}),'\u2022 "The deployment should have been tested in staging first."',(0,te.jsx)("br",{}),'\u2022 "The bug would have been caught if we had unit tests."']})]}),l4:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:"R\xe8gle : Present Perfect + Cause/Effect"})}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:["Le ",(0,te.jsx)("strong",{children:"Present Perfect"}),' est utilis\xe9 ici pour montrer un r\xe9sultat pr\xe9sent d\'une action pass\xe9e. "By implementing" (g\xe9rondif) exprime le moyen/la cause.']}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Structure :"}),(0,te.jsx)("br",{}),"\u2022 By + verb-ing (moyen) \u2192 r\xe9sultat",(0,te.jsx)("br",{}),'\u2022 Exemple : "',(0,te.jsx)("strong",{children:"By implementing"})," CI/CD, time ",(0,te.jsx)("strong",{children:"has decreased"}),'."',(0,te.jsx)("br",{}),'\u2022 "By" = "en faisant", "gr\xe2ce \xe0"']}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:[(0,te.jsx)("strong",{children:"Vocabulaire cl\xe9 :"}),(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Significantly :"})," de mani\xe8re significative",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Decrease :"})," diminuer (\u2260 increase : augmenter)",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Deployment :"})," d\xe9ploiement, mise en production"]}),(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Expressions similaires :"}),(0,te.jsx)("br",{}),'\u2022 "By using automation, we have improved efficiency."',(0,te.jsx)("br",{}),'\u2022 "Through refactoring, code quality has increased."',(0,te.jsx)("br",{}),'\u2022 "Thanks to monitoring, downtime has reduced."']})]}),l5:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:"R\xe8gle : Third Conditional (Inversion)"})}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:["Le ",(0,te.jsx)("strong",{children:"Third Conditional"}),' exprime une situation hypoth\xe9tique dans le pass\xe9 et son r\xe9sultat irr\xe9el. L\'inversion avec "Had" rend la phrase plus formelle.']}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Structure classique :"}),(0,te.jsx)("br",{}),"\u2022 If + past perfect \u2192 would have + past participle",(0,te.jsx)("br",{}),'\u2022 "If the team ',(0,te.jsx)("strong",{children:"had followed"})," practices, breach ",(0,te.jsx)("strong",{children:"would not have occurred"}),'."']}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"warning.light",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Structure avec inversion (formelle) :"}),(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Had + sujet + past participle"})," \u2192 would have + past participle",(0,te.jsx)("br",{}),'\u2022 "',(0,te.jsx)("strong",{children:"Had the team followed"}),' practices, breach would not have occurred."',(0,te.jsx)("br",{}),'\u2022 Note : "If" dispara\xeet, "had" passe en t\xeate']}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:[(0,te.jsx)("strong",{children:"Signification :"})," L'\xe9quipe n'a PAS suivi les bonnes pratiques, et en cons\xe9quence, la faille de s\xe9curit\xe9 s'est produite."]}),(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Autres exemples avec inversion :"}),(0,te.jsx)("br",{}),'\u2022 "Had I known, I would have acted differently."',(0,te.jsx)("br",{}),'\u2022 "Had they tested properly, the bug would have been caught."',(0,te.jsx)("br",{}),'\u2022 "Had we deployed earlier, the deadline would have been met."']})]}),l6:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:"R\xe8gle : Present Continuous Passive"})}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:["Le ",(0,te.jsx)("strong",{children:"Present Continuous Passive"})," d\xe9crit une action en cours de r\xe9alisation au moment pr\xe9sent, \xe0 la voix passive (l'agent n'est pas l'acteur principal)."]}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Structure :"}),(0,te.jsx)("br",{}),"\u2022 Is/Are + being + past participle",(0,te.jsx)("br",{}),'\u2022 Exemple : "The application ',(0,te.jsx)("strong",{children:"is being tested"}),' by the QA team."',(0,te.jsx)("br",{}),'\u2022 Forme active : "The QA team is testing the application."']}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:[(0,te.jsx)("strong",{children:"Quand l'utiliser :"}),(0,te.jsx)("br",{}),"\u2022 Action en cours maintenant",(0,te.jsx)("br",{}),"\u2022 Focus sur l'objet de l'action (pas l'agent)",(0,te.jsx)("br",{}),"\u2022 Processus temporaire"]}),(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Exemples IT :"}),(0,te.jsx)("br",{}),'\u2022 "The code is being reviewed by senior developers."',(0,te.jsx)("br",{}),'\u2022 "New features are being developed right now."',(0,te.jsx)("br",{}),'\u2022 "The database is being migrated to the cloud."',(0,te.jsx)("br",{}),'\u2022 "Security patches are being deployed across all servers."']})]}),r1:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:"Compr\xe9hension \xe9crite : Id\xe9e principale"})}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:["Le texte parle de la ",(0,te.jsx)("strong",{children:"dette technique"})," : des solutions rapides qui cr\xe9ent des probl\xe8mes \xe0 long terme."]}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Vocabulaire cl\xe9 :"}),(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Technical debt :"})," dette technique",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Shortcuts :"})," raccourcis, solutions rapides",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Accumulate interest :"})," accumuler des int\xe9r\xeats (m\xe9taphore financi\xe8re)",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Maintenance costs :"})," co\xfbts de maintenance"]}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:[(0,te.jsx)("strong",{children:"Expressions courantes IT :"}),(0,te.jsx)("br",{}),'\u2022 "Quick and dirty solution" = solution rapide mais de mauvaise qualit\xe9',(0,te.jsx)("br",{}),'\u2022 "Cut corners" = prendre des raccourcis',(0,te.jsx)("br",{}),'\u2022 "Pay down technical debt" = rembourser la dette technique',(0,te.jsx)("br",{}),'\u2022 "Code smells" = signes de mauvaise qualit\xe9 de code']})]}),r2:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:"Compr\xe9hension : Cause et cons\xe9quence"})}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:["Le texte explique que la dette technique ",(0,te.jsx)("strong",{children:"augmente les co\xfbts de maintenance"}),"."]}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Mots de liaison cause/cons\xe9quence :"}),(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Because / Since / As :"})," parce que",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Therefore / Thus / Hence :"})," donc, par cons\xe9quent",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"As a result / Consequently :"})," en cons\xe9quence",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Due to / Owing to :"})," en raison de"]}),(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Exemple :"}),' "Due to technical debt, maintenance costs increased."']})]}),r3:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:"Acronyme : RAG (Retrieval-Augmented Generation)"})}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:[(0,te.jsx)("strong",{children:"RAG"})," est un framework d'IA qui combine g\xe9n\xe9ration de texte et recherche d'informations externes pour des r\xe9ponses plus pr\xe9cises."]}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Vocabulaire technique IA :"}),(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Framework :"})," cadre de travail, infrastructure",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Retrieval :"})," r\xe9cup\xe9ration, recherche",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Augmented :"})," augment\xe9, am\xe9lior\xe9",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Query :"})," requ\xeate, interrogation",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Corpus :"})," ensemble de documents"]}),(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Autres acronymes IA courants :"}),(0,te.jsx)("br",{}),"\u2022 LLM: Large Language Model",(0,te.jsx)("br",{}),"\u2022 NLP: Natural Language Processing",(0,te.jsx)("br",{}),"\u2022 MLOps: Machine Learning Operations",(0,te.jsx)("br",{}),"\u2022 API: Application Programming Interface"]})]}),r4:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:"Compr\xe9hension : M\xe9canisme de fonctionnement"})}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:["RAG am\xe9liore les r\xe9ponses en ",(0,te.jsx)("strong",{children:"acc\xe9dant \xe0 des sources de connaissances externes"}),", pas seulement aux donn\xe9es pr\xe9-entra\xeen\xe9es."]}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:'Expression : "Rather than"'}),(0,te.jsx)("br",{}),'\u2022 Signification : "plut\xf4t que", "au lieu de"',(0,te.jsx)("br",{}),'\u2022 Exemple : "Rather than relying on memory, it queries a database."',(0,te.jsx)("br",{}),"\u2022 Synonymes : instead of, in lieu of"]}),(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Expressions de comparaison :"}),(0,te.jsx)("br",{}),'\u2022 "Unlike X, Y does..." = Contrairement \xe0 X, Y fait...',(0,te.jsx)("br",{}),'\u2022 "Whereas X is limited, Y can..." = Alors que X est limit\xe9, Y peut...',(0,te.jsx)("br",{}),'\u2022 "In contrast to X, Y..." = Par opposition \xe0 X, Y...']})]}),r5:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:"MLOps : Machine Learning Operations"})}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:["MLOps applique les principes DevOps au machine learning pour ",(0,te.jsx)("strong",{children:"d\xe9ployer et maintenir des mod\xe8les en production"}),"."]}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Vocabulaire MLOps :"}),(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Deploy :"})," d\xe9ployer, mettre en production",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Monitor :"})," surveiller, monitorer",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Maintain :"})," maintenir, entretenir",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Pipeline :"})," cha\xeene de traitement automatis\xe9e",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Versioning :"})," gestion des versions"]}),(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Concepts MLOps cl\xe9s :"}),(0,te.jsx)("br",{}),"\u2022 Model training pipeline",(0,te.jsx)("br",{}),"\u2022 Continuous Integration / Continuous Deployment (CI/CD)",(0,te.jsx)("br",{}),"\u2022 Model monitoring and drift detection",(0,te.jsx)("br",{}),"\u2022 A/B testing for models"]})]}),r6:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:"Compr\xe9hension : D\xe9tails du texte"})}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:["Le texte mentionne automated testing, CI/CD, model versioning, et performance monitoring, mais PAS le ",(0,te.jsx)("strong",{children:"d\xe9ploiement manuel"}),"."]}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Astuce lecture :"}),(0,te.jsx)("br",{}),'\u2022 Questions "NOT mentioned" = attention redoubl\xe9e',(0,te.jsx)("br",{}),"\u2022 Scanner le texte pour chaque option",(0,te.jsx)("br",{}),"\u2022 \xc9liminer les options pr\xe9sentes",(0,te.jsx)("br",{}),"\u2022 La r\xe9ponse est celle qui n'appara\xeet PAS"]}),(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Mots de n\xe9gation en anglais :"}),(0,te.jsx)("br",{}),"\u2022 Which is NOT...",(0,te.jsx)("br",{}),"\u2022 Except for...",(0,te.jsx)("br",{}),"\u2022 All of the following EXCEPT...",(0,te.jsx)("br",{}),"\u2022 Neither... nor..."]})]}),w1:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:"R\xe8gle : Passive Voice (Past Simple)"})}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:['"The bug ',(0,te.jsx)("strong",{children:"was"}),' fixed" est \xe0 la voix passive au pass\xe9 simple.']}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Structure voix passive :"}),(0,te.jsx)("br",{}),"\u2022 Be (conjugu\xe9) + past participle",(0,te.jsx)("br",{}),"\u2022 Pass\xe9 simple : was/were + past participle",(0,te.jsx)("br",{}),'\u2022 Exemple : "was fixed", "were tested", "was deployed"']}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:[(0,te.jsx)("strong",{children:"Quand utiliser la voix passive :"}),(0,te.jsx)("br",{}),"\u2022 Agent inconnu ou non important",(0,te.jsx)("br",{}),"\u2022 Focus sur l'objet, pas l'agent",(0,te.jsx)("br",{}),"\u2022 Style formel/technique"]}),(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Exemples IT :"}),(0,te.jsx)("br",{}),'\u2022 "The code was reviewed by the team."',(0,te.jsx)("br",{}),'\u2022 "The server was restarted at midnight."',(0,te.jsx)("br",{}),'\u2022 "All tests were passed successfully."']})]}),w2:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:"R\xe8gle : Present Perfect Continuous"})}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:['"We have ',(0,te.jsx)("strong",{children:"been"}),' implementing" exprime une action commenc\xe9e dans le pass\xe9 et qui continue.']}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Structure :"}),(0,te.jsx)("br",{}),"\u2022 Have/Has + been + verb-ing",(0,te.jsx)("br",{}),'\u2022 Exemple : "have been implementing"',(0,te.jsx)("br",{}),'\u2022 Indicateur temporel : "for two years" (dur\xe9e)']}),(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"\u26a0\ufe0f Erreurs courantes :"}),(0,te.jsx)("br",{}),'\u2022 \u274c "have implementing" \u2192 \u2705 "have been implementing"',(0,te.jsx)("br",{}),'\u2022 \u274c "have been implement" \u2192 \u2705 "have been implementing"',(0,te.jsx)("br",{}),'\u2022 \u274c "has been implementing" (avec "we") \u2192 \u2705 "have been implementing"']})]}),w3:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:'Expression : "instead of"'})}),(0,te.jsx)(Pe,{variant:"body2",paragraph:!0,children:'"Instead of" = au lieu de, \xe0 la place de'}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Structure :"}),(0,te.jsx)("br",{}),"\u2022 Instead of + noun/gerund",(0,te.jsx)("br",{}),'\u2022 Exemple : "instead of better approaches"',(0,te.jsx)("br",{}),'\u2022 Avec verbe : "instead of using" (g\xe9rondif)']}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:[(0,te.jsx)("strong",{children:"\u26a0\ufe0f Ne pas confondre :"}),(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Instead of :"})," au lieu de (+ nom/g\xe9rondif)",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"Instead :"}),' \xe0 la place (seul, sans "of")',(0,te.jsx)("br",{}),'Exemple : "I didn\'t go; I stayed home instead."']}),(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Expressions similaires :"}),(0,te.jsx)("br",{}),'\u2022 "Rather than" = plut\xf4t que',(0,te.jsx)("br",{}),'\u2022 "In place of" = \xe0 la place de',(0,te.jsx)("br",{}),'\u2022 "As an alternative to" = comme alternative \xe0']})]}),w4:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:"R\xe8gle : Third Conditional (Past Perfect)"})}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:['"Had the team ',(0,te.jsx)("strong",{children:"conducted"})," the audit\" = Si l'\xe9quipe avait effectu\xe9 l'audit"]}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Verbes accept\xe9s :"}),(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"conducted"})," (mener, effectuer) - le plus courant",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"performed"})," (r\xe9aliser, effectuer)",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"done"})," (faire) - moins formel",(0,te.jsx)("br",{}),"\u2022 ",(0,te.jsx)("strong",{children:"completed"})," (compl\xe9ter, achever)"]}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:[(0,te.jsx)("strong",{children:'Collocations avec "audit" :'}),(0,te.jsx)("br",{}),"\u2022 Conduct an audit (le plus fr\xe9quent)",(0,te.jsx)("br",{}),"\u2022 Perform an audit",(0,te.jsx)("br",{}),"\u2022 Carry out an audit",(0,te.jsx)("br",{}),"\u2022 Complete an audit"]}),(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Autres exemples :"}),(0,te.jsx)("br",{}),'\u2022 "Had we conducted a code review..."',(0,te.jsx)("br",{}),'\u2022 "Had they performed load testing..."',(0,te.jsx)("br",{}),'\u2022 "Had the team completed the migration..."']})]}),w5:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:"R\xe8gle : Inversion (Emphase)"})}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:['"Not only ',(0,te.jsx)("strong",{children:"did it make"}),"\" est une structure d'inversion pour l'emphase."]}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Structure :"}),(0,te.jsx)("br",{}),"\u2022 Not only + auxiliaire + sujet + verbe de base",(0,te.jsx)("br",{}),'\u2022 Exemple : "Not only ',(0,te.jsx)("strong",{children:"did it make"}),' the system more secure"',(0,te.jsx)("br",{}),'\u2022 Normal : "It not only made the system more secure"']}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"warning.light",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:'\u26a0\ufe0f Apr\xe8s "not only" en d\xe9but de phrase :'}),(0,te.jsx)("br",{}),"\u2022 L'ordre sujet-verbe s'inverse",(0,te.jsx)("br",{}),"\u2022 On ajoute un auxiliaire (do/does/did)",(0,te.jsx)("br",{}),"\u2022 Niveau C1 - Structure formelle"]}),(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Autres structures similaires :"}),(0,te.jsx)("br",{}),'\u2022 "Never have I seen..." (jamais je n\'ai vu...)',(0,te.jsx)("br",{}),'\u2022 "Rarely does he..." (rarement il...)',(0,te.jsx)("br",{}),'\u2022 "Seldom do we..." (rarement nous...)',(0,te.jsx)("br",{}),"\u2022 \"Only then did I realize...\" (c'est alors que j'ai r\xe9alis\xe9...)"]})]}),w6:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:(0,te.jsx)("strong",{children:"R\xe8gle : Present Continuous Passive"})}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:['"The application ',(0,te.jsx)("strong",{children:"is being"}),' tested" exprime une action passive en cours.']}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,sx:{bgcolor:"grey.100",p:2,borderRadius:1},children:[(0,te.jsx)("strong",{children:"Structure :"}),(0,te.jsx)("br",{}),"\u2022 Is/Are + being + past participle",(0,te.jsx)("br",{}),'\u2022 Exemple : "',(0,te.jsx)("strong",{children:"is being"}),' tested"',(0,te.jsx)("br",{}),'\u2022 Note : deux mots n\xe9cessaires ("is" + "being")']}),(0,te.jsxs)(Pe,{variant:"body2",paragraph:!0,children:[(0,te.jsx)("strong",{children:"\u26a0\ufe0f Erreurs fr\xe9quentes :"}),(0,te.jsx)("br",{}),'\u2022 \u274c "is tested" \u2192 pr\xe9sent simple passif (pas en cours)',(0,te.jsx)("br",{}),'\u2022 \u274c "is testing" \u2192 pr\xe9sent continu actif (mauvaise voix)',(0,te.jsx)("br",{}),'\u2022 \u274c "has been tested" \u2192 present perfect (action termin\xe9e)',(0,te.jsx)("br",{}),'\u2022 \u2705 "is being tested" \u2192 pr\xe9sent continu passif (action en cours)']}),(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Exemples IT :"}),(0,te.jsx)("br",{}),'\u2022 "The code is being reviewed right now."',(0,te.jsx)("br",{}),'\u2022 "New features are being developed as we speak."',(0,te.jsx)("br",{}),'\u2022 "The database is being migrated this week."']})]})}[e.id]||(0,te.jsx)(Pe,{variant:"body2",children:"Explication \xe0 venir pour cette question."})),OR=t=>{var n;let{onComplete:r}=t;const[o,i]=(0,e.useState)("listening"),[s,a]=(0,e.useState)(0),[c,u]=(0,e.useState)({}),[d,h]=(0,e.useState)(!1),[p,f]=(0,e.useState)(null),[m,g]=(0,e.useState)(!1),{user:v,setUser:y}=aE(),{speak:b,stop:x,isSpeaking:w,isSupported:S}=jR(),k=NR.filter(e=>e.section===o),E=k[s],C=NR.length,A=Object.keys(c).length,I=A/C*100,j=(e,t)=>{u(n=>l(l({},n),{},{[e]:t}))},T=()=>{let e=0,t=0;NR.forEach(n=>{var r;t+=n.points;const o=null===(r=c[n.id])||void 0===r?void 0:r.toLowerCase().trim();Array.isArray(n.correctAnswer)?n.correctAnswer.some(e=>o===e.toLowerCase())&&(e+=n.points):o===n.correctAnswer.toLowerCase()&&(e+=n.points)});const n=e/t*100;let r;r=n>=80?"C1":n>=65?"B2":n>=45?"B1":"A2",f(r),h(!0),v&&y(l(l({},v),{},{currentLevel:r,lastActivity:new Date}))},_=void 0!==c[null===E||void 0===E?void 0:E.id];return m&&d&&p?(0,te.jsxs)(he,{sx:{p:3,maxWidth:1200,mx:"auto"},children:[(0,te.jsx)(Pe,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:"\ud83d\udcdd Correction d\xe9taill\xe9e de l'\xe9valuation"}),(0,te.jsx)(OE,{severity:"info",sx:{mb:3},children:(0,te.jsx)(Pe,{variant:"body2",children:"Voici la correction compl\xe8te avec explications grammaticales, exemples et exceptions. Prenez le temps de bien comprendre chaque point."})}),NR.map((e,t)=>{const n=(e=>{var t;const n=null===(t=c[e.id])||void 0===t?void 0:t.toLowerCase().trim();return Array.isArray(e.correctAnswer)?e.correctAnswer.some(e=>n===e.toLowerCase()):n===e.correctAnswer.toLowerCase()})(e),r=c[e.id],o=Array.isArray(e.correctAnswer)?e.correctAnswer[0]:e.correctAnswer;return(0,te.jsx)(rt,{sx:{mb:3,border:2,borderColor:n?"success.main":"error.main"},children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,te.jsx)(gE,{label:"Question ".concat(t+1),color:n?"success":"error"}),(0,te.jsx)(gE,{label:e.section.toUpperCase(),size:"small"}),(0,te.jsx)(gE,{label:"Niveau ".concat(e.level),size:"small",variant:"outlined"}),n?(0,te.jsx)(hC,{color:"success"}):(0,te.jsxs)(he,{sx:{color:"error.main",display:"flex",alignItems:"center",gap:.5},children:["\u274c ",(0,te.jsx)(Pe,{variant:"body2",children:"Incorrect"})]})]}),(0,te.jsx)(Pe,{variant:"h6",sx:{mb:2},children:e.question}),e.audioText&&(0,te.jsx)(he,{sx:{mb:2,p:2,bgcolor:"grey.100",borderRadius:1},children:(0,te.jsxs)(Pe,{variant:"body2",sx:{fontStyle:"italic"},children:['\ud83d\udd0a Texte audio : "',e.audioText,'"']})}),e.readingText&&(0,te.jsx)(he,{sx:{mb:2,p:2,bgcolor:"grey.100",borderRadius:1},children:(0,te.jsx)(Pe,{variant:"body2",children:e.readingText})}),(0,te.jsx)(he,{sx:{mb:3},children:(0,te.jsxs)(Ge,{container:!0,spacing:2,children:[(0,te.jsx)(Ge,{item:!0,xs:12,md:6,children:(0,te.jsxs)(he,{sx:{p:2,bgcolor:n?"success.light":"error.light",borderRadius:1},children:[(0,te.jsx)(Pe,{variant:"subtitle2",sx:{color:n?"success.dark":"error.dark",mb:1},children:n?"\u2705 Votre r\xe9ponse (correcte)":"\u274c Votre r\xe9ponse"}),(0,te.jsx)(Pe,{variant:"body1",sx:{fontWeight:"bold"},children:r||"(non r\xe9pondu)"})]})}),!n&&(0,te.jsx)(Ge,{item:!0,xs:12,md:6,children:(0,te.jsxs)(he,{sx:{p:2,bgcolor:"success.light",borderRadius:1},children:[(0,te.jsx)(Pe,{variant:"subtitle2",sx:{color:"success.dark",mb:1},children:"\u2705 R\xe9ponse correcte"}),(0,te.jsx)(Pe,{variant:"body1",sx:{fontWeight:"bold"},children:o}),Array.isArray(e.correctAnswer)&&e.correctAnswer.length>1&&(0,te.jsxs)(Pe,{variant:"caption",display:"block",sx:{mt:1},children:["Autres r\xe9ponses accept\xe9es : ",e.correctAnswer.slice(1).join(", ")]})]})})]})}),(0,te.jsxs)(he,{sx:{p:3,bgcolor:"primary.light",borderRadius:2},children:[(0,te.jsx)(Pe,{variant:"h6",sx:{color:"white",mb:2},children:"\ud83d\udcda Explication grammaticale"}),(0,te.jsx)(he,{sx:{p:2,bgcolor:"white",borderRadius:1},children:LR(e)})]})]})},e.id)}),(0,te.jsxs)(he,{sx:{display:"flex",gap:2,justifyContent:"center",mt:4},children:[(0,te.jsx)(wn,{variant:"outlined",onClick:()=>g(!1),children:"Retour au r\xe9sultat"}),(0,te.jsx)(wn,{variant:"contained",onClick:r,children:"Terminer et continuer"})]})]}):d&&p?(0,te.jsx)(he,{sx:{p:3,maxWidth:800,mx:"auto"},children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{sx:{textAlign:"center",py:6},children:[(0,te.jsx)(hC,{sx:{fontSize:80,color:"success.main",mb:3}}),(0,te.jsx)(Pe,{variant:"h4",gutterBottom:!0,children:"\xc9valuation compl\xe8te termin\xe9e !"}),(0,te.jsxs)(he,{sx:{my:4,p:3,bgcolor:"primary.light",borderRadius:2},children:[(0,te.jsx)(Pe,{variant:"h5",sx:{color:"white",mb:1},children:"Votre niveau estim\xe9 :"}),(0,te.jsx)(Pe,{variant:"h2",sx:{color:"white",fontWeight:"bold"},children:p})]}),(0,te.jsxs)(OE,{severity:"info",sx:{mb:3,textAlign:"left"},children:[(0,te.jsx)(Pe,{variant:"body2",sx:{mb:2},children:(0,te.jsx)("strong",{children:"R\xe9sultats d\xe9taill\xe9s :"})}),(0,te.jsxs)(he,{sx:{display:"flex",gap:2,justifyContent:"space-around"},children:[(0,te.jsxs)(he,{children:[(0,te.jsx)(RR,{sx:{verticalAlign:"middle",mr:.5}}),(0,te.jsxs)(Pe,{variant:"caption",children:["Listening: ",NR.filter(e=>{var t;return"listening"===e.section&&(null===(t=c[e.id])||void 0===t?void 0:t.toLowerCase())===(Array.isArray(e.correctAnswer)?e.correctAnswer[0]:e.correctAnswer).toLowerCase()}).length,"/6"]})]}),(0,te.jsxs)(he,{children:[(0,te.jsx)(aC,{sx:{verticalAlign:"middle",mr:.5}}),(0,te.jsxs)(Pe,{variant:"caption",children:["Reading: ",NR.filter(e=>{var t;return"reading"===e.section&&(null===(t=c[e.id])||void 0===t?void 0:t.toLowerCase())===(Array.isArray(e.correctAnswer)?e.correctAnswer[0]:e.correctAnswer).toLowerCase()}).length,"/6"]})]}),(0,te.jsxs)(he,{children:[(0,te.jsx)(PR,{sx:{verticalAlign:"middle",mr:.5}}),(0,te.jsxs)(Pe,{variant:"caption",children:["Writing: ",NR.filter(e=>"writing"===e.section&&Array.isArray(e.correctAnswer)&&e.correctAnswer.some(t=>{var n;return(null===(n=c[e.id])||void 0===n?void 0:n.toLowerCase().trim())===t.toLowerCase()})).length,"/6"]})]})]})]}),(0,te.jsx)(Pe,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Les exercices seront adapt\xe9s \xe0 votre niveau. Vous pouvez commencer d\xe8s maintenant !"}),(0,te.jsxs)(he,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[(0,te.jsx)(wn,{variant:"outlined",size:"large",onClick:()=>g(!0),children:"\ud83d\udcdd Voir la correction d\xe9taill\xe9e"}),(0,te.jsx)(wn,{variant:"contained",size:"large",onClick:r,children:"Commencer les exercices"})]})]})})}):(0,te.jsxs)(he,{sx:{p:3,maxWidth:1e3,mx:"auto"},children:[(0,te.jsx)(Pe,{variant:"h4",gutterBottom:!0,sx:{mb:2},children:"\xc9valuation compl\xe8te de niveau"}),(0,te.jsxs)(OE,{severity:"info",sx:{mb:3},children:["Cette \xe9valuation comporte 18 questions r\xe9parties en 3 sections :",(0,te.jsx)("strong",{children:" Listening (compr\xe9hension orale)"}),",",(0,te.jsx)("strong",{children:" Reading (compr\xe9hension \xe9crite)"}),", et",(0,te.jsx)("strong",{children:" Writing (expression \xe9crite)"}),"."]}),(0,te.jsxs)(he,{sx:{mb:3},children:[(0,te.jsxs)(he,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",children:["Progression globale : ",A,"/",C," questions"]}),(0,te.jsxs)(Pe,{variant:"body2",color:"primary",children:[Math.round(I),"%"]})]}),(0,te.jsx)(iC,{variant:"determinate",value:I,sx:{height:8,borderRadius:1}})]}),(0,te.jsxs)(he,{sx:{display:"flex",gap:2,mb:4},children:[(0,te.jsx)(gE,{icon:(0,te.jsx)(RR,{}),label:"Listening",color:"listening"===o?"primary":"default",variant:"listening"===o?"filled":"outlined"}),(0,te.jsx)(gE,{icon:(0,te.jsx)(aC,{}),label:"Reading",color:"reading"===o?"primary":"default",variant:"reading"===o?"filled":"outlined"}),(0,te.jsx)(gE,{icon:(0,te.jsx)(PR,{}),label:"Writing",color:"writing"===o?"primary":"default",variant:"writing"===o?"filled":"outlined"})]}),(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{mb:3},children:[(0,te.jsxs)(Pe,{variant:"overline",color:"text.secondary",children:[o.toUpperCase()," - Question ",s+1," / ",k.length]}),"listening"===o&&E.audioText&&(0,te.jsxs)(he,{sx:{my:2,p:3,bgcolor:"primary.light",borderRadius:2,border:2,borderColor:"primary.main"},children:[!S&&(0,te.jsx)(OE,{severity:"warning",sx:{mb:2},children:"Votre navigateur ne supporte pas la synth\xe8se vocale. Veuillez utiliser Chrome, Edge ou Safari."}),(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,te.jsx)(Oi,{sx:{fontSize:40,color:"white"}}),(0,te.jsx)(Pe,{variant:"h6",sx:{color:"white",flexGrow:1},children:"Section d'\xe9coute"}),(0,te.jsx)(H_,{title:w?"Arr\xeater":"\xc9couter",children:(0,te.jsx)("span",{children:(0,te.jsx)(zn,{onClick:()=>{return e=E.audioText,void(w?x():b(e,"en-US"));var e},disabled:!S,sx:{bgcolor:"white","&:hover":{bgcolor:"grey.200"},width:60,height:60},children:w?(0,te.jsx)(ER,{sx:{fontSize:30}}):(0,te.jsx)(CR,{sx:{fontSize:30}})})})})]}),(0,te.jsx)(he,{sx:{p:2,bgcolor:"white",borderRadius:1},children:(0,te.jsxs)(Pe,{variant:"body1",sx:{fontStyle:"italic",color:"text.primary"},children:['"',E.audioText,'"']})}),(0,te.jsx)(Pe,{variant:"caption",sx:{display:"block",mt:1,color:"white"},children:"\ud83d\udca1 Cliquez sur le bouton lecture pour entendre le texte en anglais"})]}),"reading"===o&&E.readingText&&(0,te.jsx)(he,{sx:{my:2,p:3,bgcolor:"grey.50",borderRadius:2,border:1,borderColor:"grey.300"},children:(0,te.jsx)(Pe,{variant:"body1",sx:{lineHeight:1.8},children:E.readingText})}),(0,te.jsx)(Pe,{variant:"h6",sx:{mt:2,mb:3},children:E.question}),"writing"===o?(0,te.jsx)(rT,{fullWidth:!0,variant:"outlined",placeholder:"Entrez votre r\xe9ponse ici...",value:c[E.id]||"",onChange:e=>j(E.id,e.target.value),multiline:!1,sx:{mb:2}}):(0,te.jsx)(kC,{component:"fieldset",fullWidth:!0,children:(0,te.jsx)(oj,{value:c[E.id]||"",onChange:e=>j(E.id,e.target.value),children:null===(n=E.options)||void 0===n?void 0:n.map((e,t)=>(0,te.jsx)(xj,{value:e,control:(0,te.jsx)(Bj,{}),label:e,sx:{p:2,mb:1,border:1,borderColor:"grey.300",borderRadius:2,"&:hover":{bgcolor:"grey.50"}}},t))})})]}),(0,te.jsxs)(he,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[(0,te.jsx)(wn,{onClick:()=>{s>0?a(e=>e-1):"reading"===o?(i("listening"),a(NR.filter(e=>"listening"===e.section).length-1)):"writing"===o&&(i("reading"),a(NR.filter(e=>"reading"===e.section).length-1))},disabled:"listening"===o&&0===s,children:"Pr\xe9c\xe9dent"}),(0,te.jsx)(wn,{variant:"contained",onClick:()=>{s<k.length-1?a(e=>e+1):"listening"===o?(i("reading"),a(0)):"reading"===o?(i("writing"),a(0)):T()},disabled:!_,children:"writing"===o&&s===k.length-1?"Terminer l'\xe9valuation":"Suivant"})]})]})})]})};function MR(e){return ae("MuiDialog",e)}const DR=le("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const zR=e.createContext({}),FR=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],VR=ye(Er,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),BR=ye(Vr,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),UR=ye("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t["scroll".concat(Ce(n.scroll))]]}})(e=>{let{ownerState:t}=e;return(0,c.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})}),qR=ye(Je,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["scrollPaper".concat(Ce(n.scroll))],t["paperWidth".concat(Ce(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(DR.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit),["&.".concat(DR.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(DR.paperScrollBody)]:{margin:0,maxWidth:"100%"}})}),WR=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiDialog"}),o=Le(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,BackdropComponent:l,BackdropProps:d,children:h,className:p,disableEscapeKeyDown:f=!1,fullScreen:m=!1,fullWidth:g=!1,maxWidth:v="sm",onBackdropClick:y,onClick:b,onClose:x,open:w,PaperComponent:S=Je,PaperProps:k={},scroll:E="paper",TransitionComponent:C=br,transitionDuration:A=i,TransitionProps:I}=r,j=(0,u.A)(r,FR),T=(0,c.A)({},r,{disableEscapeKeyDown:f,fullScreen:m,fullWidth:g,maxWidth:v,scroll:E}),_=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e;return pe({root:["root"],container:["container","scroll".concat(Ce(n))],paper:["paper","paperScroll".concat(Ce(n)),"paperWidth".concat(Ce(String(r))),o&&"paperFullWidth",i&&"paperFullScreen"]},MR,t)})(T),R=e.useRef(),P=ui(a),N=e.useMemo(()=>({titleId:P}),[P]);return(0,te.jsx)(BR,(0,c.A)({className:Q(_.root,p),closeAfterTransition:!0,components:{Backdrop:VR},componentsProps:{backdrop:(0,c.A)({transitionDuration:A,as:l},d)},disableEscapeKeyDown:f,onClose:x,open:w,ref:n,onClick:e=>{b&&b(e),R.current&&(R.current=null,y&&y(e),x&&x(e,"backdropClick"))},ownerState:T},j,{children:(0,te.jsx)(C,(0,c.A)({appear:!0,in:w,timeout:A,role:"presentation"},I,{children:(0,te.jsx)(UR,{className:Q(_.container),onMouseDown:e=>{R.current=e.target===e.currentTarget},ownerState:T,children:(0,te.jsx)(qR,(0,c.A)({as:S,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":P},k,{className:Q(_.paper,k.className),ownerState:T,children:(0,te.jsx)(zR.Provider,{value:N,children:h})}))})}))}))}),HR=WR;function GR(e){return ae("MuiDialogTitle",e)}const KR=le("MuiDialogTitle",["root"]),QR=["className","id"],XR=ye(Pe,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),YR=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiDialogTitle"}),{className:o,id:i}=r,s=(0,u.A)(r,QR),a=r,l=(e=>{const{classes:t}=e;return pe({root:["root"]},GR,t)})(a),{titleId:d=i}=e.useContext(zR);return(0,te.jsx)(XR,(0,c.A)({component:"h2",className:Q(l.root,o),ownerState:a,ref:n,variant:"h6",id:null!=i?i:d},s))}),$R=YR;function JR(e){return ae("MuiDialogContent",e)}le("MuiDialogContent",["root","dividers"]);const ZR=["className","dividers"],eP=ye("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:{[".".concat(KR.root," + &")]:{paddingTop:0}})}),tP=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiDialogContent"}),{className:r,dividers:o=!1}=n,i=(0,u.A)(n,ZR),s=(0,c.A)({},n,{dividers:o}),a=(e=>{const{classes:t,dividers:n}=e;return pe({root:["root",n&&"dividers"]},JR,t)})(s);return(0,te.jsx)(eP,(0,c.A)({className:Q(a.root,r),ownerState:s,ref:t},i))}),nP=tP;function rP(e){return ae("MuiDialogActions",e)}le("MuiDialogActions",["root","spacing"]);const oP=["className","disableSpacing"],iP=ye("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(e=>{let{ownerState:t}=e;return(0,c.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})}),sP=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:o=!1}=n,i=(0,u.A)(n,oP),s=(0,c.A)({},n,{disableSpacing:o}),a=(e=>{const{classes:t,disableSpacing:n}=e;return pe({root:["root",!n&&"spacing"]},rP,t)})(s);return(0,te.jsx)(iP,(0,c.A)({className:Q(a.root,r),ownerState:s,ref:t},i))}),aP=sP,lP=ji((0,te.jsx)("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline"),cP=ji((0,te.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove"),uP=t=>{let{onNavigate:n}=t;const{user:r,responses:o}=aE(),[i,s]=(0,e.useState)(0),[a,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(null),[h,p]=(0,e.useState)(!0),[f,m]=(0,e.useState)([]),[g,v]=(0,e.useState)(new Set),y=(e,t)=>{const n=t.filter(t=>t.exerciseLevel===e);if(0===n.length)return 0;const r=n.filter(e=>e.isCorrect).length;return Math.round(r/n.length*100)},b=(0,e.useMemo)(()=>{if(!r)return[];const e=(e=>{if(0===e.length)return{overallScore:0,grammarScore:0,vocabularyScore:0,weakAreas:[],strongAreas:[],recommendedExercises:[]};const t=e.filter(e=>e.isCorrect).length,n=Math.round(t/e.length*100),r=e.filter(e=>!e.isCorrect),o=[];r.length>.3*e.length&&o.push("Grammaire g\xe9n\xe9rale"),r.length>.4*e.length&&o.push("Vocabulaire technique"),r.length>.5*e.length&&o.push("Compr\xe9hension globale");const i=[];return n>=80&&i.push("Compr\xe9hension globale"),n>=90&&i.push("Ma\xeetrise technique"),{overallScore:n,grammarScore:n,vocabularyScore:n,weakAreas:o,strongAreas:i,recommendedExercises:["qcm_001","cloze_001"]}})(o);return e.weakAreas.map(e=>({area:e,severity:"moderate",occurrences:o.filter(e=>!e.isCorrect).length,recommendedExercises:10}))},[r,o,i]),x=(0,e.useMemo)(()=>{if(!r)return[];const e=[],t=r.currentLevel,n=r.targetLevel;if(e.push({id:"consolidate",title:"Consolider le niveau ".concat(t),description:"Ma\xeetriser les fondamentaux de votre niveau actuel",priority:"high",targetLevel:t,estimatedWeeks:2,progress:y(t,o),exerciseTypes:["qcm","cloze"],domains:["ai","angular","devops"],completed:!1}),b.length>0&&e.push({id:"weaknesses",title:"Am\xe9liorer les points faibles",description:"Travailler sur : ".concat(b.map(e=>e.area).join(", ")),priority:"high",targetLevel:t,estimatedWeeks:3,progress:0,exerciseTypes:["cloze","writing"],domains:["ai","devops"],completed:!1}),"C1"!==t){const n=(e=>{const t=["A2","B1","B2","C1"],n=t.indexOf(e);return t[Math.min(n+1,t.length-1)]})(t);e.push({id:"next_level",title:"Progresser vers le niveau ".concat(n),description:"Introduction aux concepts du niveau sup\xe9rieur",priority:"medium",targetLevel:n,estimatedWeeks:4,progress:0,exerciseTypes:["qcm","reading"],domains:["ai","cybersecurity"],completed:!1})}return e.push({id:"exam_prep",title:"Pr\xe9paration TOEIC/TOEFL",description:"Entra\xeenement cibl\xe9 pour le niveau ".concat(n),priority:"low",targetLevel:n,estimatedWeeks:6,progress:0,exerciseTypes:["listening","reading"],domains:["ai","devops","cybersecurity"],completed:!1}),e.filter(e=>!g.has(e.id)).map(e=>f.find(t=>t.id===e.id)||e)},[r,o,i,b,f,g]),w=(0,e.useCallback)(e=>{console.log("\ud83d\udd04 Clic sur 'Commencer' pour l'objectif:",e.id,e.title),console.log("\ud83d\udccb Objectif complet:",e),e.completed?console.warn("\u26a0\ufe0f Objectif d\xe9j\xe0 compl\xe9t\xe9"):n?(console.log("\u2705 Navigation vers la vue exercices avec filtres:",{level:e.targetLevel,types:e.exerciseTypes,domains:e.domains}),localStorage.setItem("goalFilters",JSON.stringify({level:e.targetLevel,types:e.exerciseTypes,domains:e.domains,goalId:e.id})),n("exercises")):(console.error("\u274c Erreur: onNavigate non d\xe9fini"),window.location.hash="#exercises")},[n]),S=e=>{switch(e){case"critical":return"error";case"moderate":return"warning";case"minor":return"info";default:return"default"}},k=e=>{switch(e){case"high":return"error";case"medium":return"warning";case"low":return"info";default:return"default"}};return r?(0,te.jsxs)(he,{sx:{p:3},children:[(0,te.jsxs)(he,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,te.jsx)(Pe,{variant:"h4",children:"Programme d'apprentissage adaptatif"}),(0,te.jsxs)(he,{sx:{display:"flex",gap:2},children:[(0,te.jsx)(H_,{title:"R\xe9actualiser le programme",children:(0,te.jsx)(wn,{startIcon:(0,te.jsx)(sC,{}),onClick:()=>{s(e=>e+1),m([]),v(new Set)},variant:"outlined",children:"Actualiser"})}),(0,te.jsx)(gE,{label:h?"Adaptation auto : ON":"Adaptation auto : OFF",color:h?"success":"default",onClick:()=>p(!h),sx:{cursor:"pointer"}})]})]}),(0,te.jsx)(OE,{severity:"info",sx:{mb:3},children:(0,te.jsx)(Pe,{variant:"body2",children:"Ce programme s'adapte automatiquement en fonction de vos r\xe9ponses aux exercices. Vous pouvez le modifier \xe0 tout moment en cliquant sur les boutons d'\xe9dition."})}),(0,te.jsx)(rt,{sx:{mb:3,bgcolor:"primary.light"},children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,te.jsx)(lP,{sx:{fontSize:40,color:"white"}}),(0,te.jsxs)(he,{sx:{flexGrow:1},children:[(0,te.jsxs)(Pe,{variant:"h6",sx:{color:"white"},children:["Niveau actuel : ",r.currentLevel]}),(0,te.jsxs)(Pe,{variant:"body2",sx:{color:"white",opacity:.9},children:["Objectif : ",r.targetLevel," \u2022 ",o.length," exercices compl\xe9t\xe9s"]})]})]}),(0,te.jsx)(iC,{variant:"determinate",value:y(r.currentLevel,o),sx:{height:8,borderRadius:1,bgcolor:"rgba(255,255,255,0.3)"}})]})}),b.length>0&&(0,te.jsx)(rt,{sx:{mb:3},children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(Pe,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,te.jsx)(kR,{color:"warning"}),"Points \xe0 am\xe9liorer"]}),(0,te.jsx)(Ge,{container:!0,spacing:2,children:b.map((e,t)=>(0,te.jsx)(Ge,{item:!0,xs:12,sm:6,md:4,children:(0,te.jsx)(rt,{variant:"outlined",children:(0,te.jsxs)(lt,{children:[(0,te.jsx)(gE,{label:e.severity,color:S(e.severity),size:"small",sx:{mb:1}}),(0,te.jsx)(Pe,{variant:"subtitle2",gutterBottom:!0,children:e.area}),(0,te.jsxs)(Pe,{variant:"caption",color:"text.secondary",children:[e.occurrences," erreurs \u2022 ",e.recommendedExercises," exercices recommand\xe9s"]})]})})},t))})]})}),(0,te.jsx)(Pe,{variant:"h5",gutterBottom:!0,sx:{mb:2},children:"Vos objectifs d'apprentissage"}),(0,te.jsx)(Ge,{container:!0,spacing:3,children:x.map(e=>(0,te.jsx)(Ge,{item:!0,xs:12,md:6,children:(0,te.jsx)(rt,{elevation:3,sx:{height:"100%"},children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,te.jsx)(gE,{label:e.priority,color:k(e.priority),size:"small"}),(0,te.jsxs)(he,{children:[(0,te.jsx)(zn,{size:"small",onClick:()=>(e=>{d(e),c(!0)})(e),children:(0,te.jsx)(PR,{fontSize:"small"})}),(0,te.jsx)(zn,{size:"small",onClick:()=>{return t=e.id,void v(e=>new Set(e).add(t));var t},children:(0,te.jsx)(cP,{fontSize:"small"})})]})]}),(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:e.title}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),(0,te.jsxs)(he,{sx:{mb:2},children:[(0,te.jsxs)(he,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,te.jsx)(Pe,{variant:"caption",color:"text.secondary",children:"Progression"}),(0,te.jsxs)(Pe,{variant:"caption",color:"primary",children:[e.progress,"%"]})]}),(0,te.jsx)(iC,{variant:"determinate",value:e.progress,sx:{height:6,borderRadius:1}})]}),(0,te.jsxs)(he,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:[(0,te.jsx)(gE,{label:"Niveau ".concat(e.targetLevel),size:"small",variant:"outlined"}),(0,te.jsx)(gE,{label:"~".concat(e.estimatedWeeks," semaines"),size:"small",variant:"outlined"})]}),(0,te.jsx)(he,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:2},children:e.exerciseTypes.map((e,t)=>(0,te.jsx)(gE,{label:e,size:"small"},t))}),(0,te.jsx)(wn,{variant:"contained",fullWidth:!0,startIcon:(0,te.jsx)(CR,{}),disabled:e.completed,type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("\ud83d\uddb1\ufe0f \xc9V\xc9NEMENT CLIC D\xc9TECT\xc9 pour l'objectif:",e.id,e.title),w(e)},onMouseDown:t=>{t.stopPropagation(),console.log("\ud83d\uddb1\ufe0f MouseDown d\xe9tect\xe9 pour l'objectif:",e.id)},sx:{cursor:e.completed?"not-allowed":"pointer","&:hover":{backgroundColor:e.completed?"action.disabled":"primary.dark"}},children:e.completed?"Compl\xe9t\xe9":"Commencer"})]})})},e.id))}),(0,te.jsxs)(HR,{open:a,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[(0,te.jsx)($R,{children:"Modifier l'objectif"}),(0,te.jsx)(nP,{children:u&&(0,te.jsxs)(he,{sx:{pt:2,display:"flex",flexDirection:"column",gap:2},children:[(0,te.jsx)(rT,{label:"Titre",fullWidth:!0,value:u.title,onChange:e=>d(l(l({},u),{},{title:e.target.value}))}),(0,te.jsx)(rT,{label:"Description",fullWidth:!0,multiline:!0,rows:3,value:u.description,onChange:e=>d(l(l({},u),{},{description:e.target.value}))}),(0,te.jsxs)(kC,{fullWidth:!0,children:[(0,te.jsx)(DC,{children:"Priorit\xe9"}),(0,te.jsxs)(FI,{value:u.priority,label:"Priorit\xe9",onChange:e=>d(l(l({},u),{},{priority:e.target.value})),children:[(0,te.jsx)(KI,{value:"high",children:"Haute"}),(0,te.jsx)(KI,{value:"medium",children:"Moyenne"}),(0,te.jsx)(KI,{value:"low",children:"Basse"})]})]}),(0,te.jsx)(rT,{label:"Dur\xe9e estim\xe9e (semaines)",type:"number",fullWidth:!0,value:u.estimatedWeeks,onChange:e=>d(l(l({},u),{},{estimatedWeeks:parseInt(e.target.value)||0}))})]})}),(0,te.jsxs)(aP,{children:[(0,te.jsx)(wn,{onClick:()=>c(!1),children:"Annuler"}),(0,te.jsx)(wn,{onClick:()=>{u&&(m(e=>e.find(e=>e.id===u.id)?e.map(e=>e.id===u.id?u:e):[...e,u]),c(!1),d(null))},variant:"contained",children:"Enregistrer"})]})]})]}):(0,te.jsx)(OE,{severity:"info",children:"Veuillez d'abord compl\xe9ter l'\xe9valuation de niveau."})};function dP(e){return ae("MuiInputAdornment",e)}const hP=le("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var pP;const fP=["children","className","component","disablePointerEvents","disableTypography","position","variant"],mP=ye("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat(Ce(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{["&.".concat(hP.positionStart,"&:not(.").concat(hP.hiddenLabel,")")]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})}),gP=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiInputAdornment"}),{children:o,className:i,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:d,variant:h}=r,p=(0,u.A)(r,fP),f=CC()||{};let m=h;h&&f.variant,f&&!m&&(m=f.variant);const g=(0,c.A)({},r,{hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:a,position:d,variant:m}),v=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:s}=e;return pe({root:["root",n&&"disablePointerEvents",o&&"position".concat(Ce(o)),s,r&&"hiddenLabel",i&&"size".concat(Ce(i))]},dP,t)})(g);return(0,te.jsx)(yC.Provider,{value:null,children:(0,te.jsx)(mP,(0,c.A)({as:s,ownerState:g,className:Q(v.root,i),ref:n},p,{children:"string"!==typeof o||l?(0,te.jsxs)(e.Fragment,{children:["start"===d?pP||(pP=(0,te.jsx)("span",{className:"notranslate",children:"\u200b"})):null,o]}):(0,te.jsx)(Pe,{color:"text.secondary",children:o})}))})}),vP=gP;function yP(e){return ae("MuiCircularProgress",e)}le("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var bP,xP,wP,SP;const kP=["className","color","disableShrink","size","style","thickness","value","variant"];let EP,CP,AP,IP;const jP=44,TP=(0,Ft.i7)(EP||(EP=bP||(bP=Tt(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),_P=(0,Ft.i7)(CP||(CP=xP||(xP=Tt(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),RP=ye("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat(Ce(n.color))]]}})(e=>{let{ownerState:t,theme:n}=e;return(0,c.A)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,Ft.AH)(AP||(AP=wP||(wP=Tt(["\n      animation: "," 1.4s linear infinite;\n    "]))),TP)}),PP=ye("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),NP=ye("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat(Ce(n.variant))],n.disableShrink&&t.circleDisableShrink]}})(e=>{let{ownerState:t,theme:n}=e;return(0,c.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,Ft.AH)(IP||(IP=SP||(SP=Tt(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),_P)}),LP=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:i=!1,size:s=40,style:a,thickness:l=3.6,value:d=0,variant:h="indeterminate"}=n,p=(0,u.A)(n,kP),f=(0,c.A)({},n,{color:o,disableShrink:i,size:s,thickness:l,value:d,variant:h}),m=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e;return pe({root:["root",n,"color".concat(Ce(r))],svg:["svg"],circle:["circle","circle".concat(Ce(n)),o&&"circleDisableShrink"]},yP,t)})(f),g={},v={},y={};if("determinate"===h){const e=2*Math.PI*((jP-l)/2);g.strokeDasharray=e.toFixed(3),y["aria-valuenow"]=Math.round(d),g.strokeDashoffset="".concat(((100-d)/100*e).toFixed(3),"px"),v.transform="rotate(-90deg)"}return(0,te.jsx)(RP,(0,c.A)({className:Q(m.root,r),style:(0,c.A)({width:s,height:s},v,a),ownerState:f,ref:t,role:"progressbar"},y,p,{children:(0,te.jsx)(PP,{className:m.svg,ownerState:f,viewBox:"".concat(22," ").concat(22," ").concat(jP," ").concat(jP),children:(0,te.jsx)(NP,{className:m.circle,style:g,ownerState:f,cx:jP,cy:jP,r:(jP-l)/2,fill:"none",strokeWidth:l})})}))}),OP=LP;function MP(e){return ae("MuiLink",e)}const DP=le("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var zP=n(7162);const FP={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},VP=e=>{let{theme:t,ownerState:n}=e;const r=(e=>FP[e]||e)(n.color),o=(0,zP.Yn)(t,"palette.".concat(r),!1)||n.color,i=(0,zP.Yn)(t,"palette.".concat(r,"Channel"));return"vars"in t&&i?"rgba(".concat(i," / 0.4)"):(0,v.X4)(o,.4)},BP=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],UP=ye(Pe,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["underline".concat(Ce(n.underline))],"button"===n.component&&t.button]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,c.A)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:VP({theme:t,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(DP.focusVisible)]:{outline:"auto"}})}),qP=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiLink"}),{className:o,color:i="primary",component:s="a",onBlur:a,onFocus:l,TypographyClasses:d,underline:h="always",variant:p="inherit",sx:f}=r,m=(0,u.A)(r,BP),{isFocusVisibleRef:g,onBlur:v,onFocus:y,ref:b}=jt(),[x,w]=e.useState(!1),S=dt(n,b),k=(0,c.A)({},r,{color:i,component:s,focusVisible:x,underline:h,variant:p}),E=(e=>{const{classes:t,component:n,focusVisible:r,underline:o}=e;return pe({root:["root","underline".concat(Ce(o)),"button"===n&&"button",r&&"focusVisible"]},MP,t)})(k);return(0,te.jsx)(UP,(0,c.A)({color:i,className:Q(E.root,o),classes:d,component:s,onBlur:e=>{v(e),!1===g.current&&w(!1),a&&a(e)},onFocus:e=>{y(e),!0===g.current&&w(!0),l&&l(e)},ref:S,ownerState:k,variant:p,sx:[...Object.keys(FP).includes(i)?[]:[{color:i}],...Array.isArray(f)?f:[f]]},m))}),WP=qP,HP=ji((0,te.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),GP=ji((0,te.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock"),KP=ji((0,te.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),QP=ji((0,te.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),XP=t=>{let{onSuccess:n,onSwitchToSignup:r,onSwitchToForgotPassword:o}=t;const[i,s]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(""),[p,f]=(0,e.useState)(!1);return(0,te.jsx)(he,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100"},children:(0,te.jsx)(rt,{sx:{maxWidth:450,width:"100%",m:2},children:(0,te.jsxs)(lt,{sx:{p:4},children:[(0,te.jsx)(Pe,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3,fontWeight:"bold"},children:"\ud83c\udf93 AI English Trainer"}),(0,te.jsx)(Pe,{variant:"body1",color:"text.secondary",align:"center",sx:{mb:3},children:"Connectez-vous pour acc\xe9der \xe0 votre programme d'apprentissage"}),d&&(0,te.jsx)(OE,{severity:"error",sx:{mb:2},children:d}),(0,te.jsxs)(he,{component:"form",onSubmit:async e=>{e.preventDefault(),h(""),f(!0);try{const e=await Vk(i,a);if(e.success&&e.user){var t;const r=e.user,o={id:r.uid,email:r.email||"",name:r.displayName||(null===(t=r.email)||void 0===t?void 0:t.split("@")[0])||"Utilisateur",emailVerified:r.emailVerified,currentLevel:"B1",targetLevel:"C1",createdAt:(new Date).toISOString(),lastLogin:(new Date).toISOString()},i=await r.getIdToken();localStorage.setItem("token",i),localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("firebaseUser",JSON.stringify({uid:r.uid,email:r.email,displayName:r.displayName})),n(i,o)}else h(e.message||"Erreur de connexion")}catch(r){console.error("Erreur de connexion Firebase:",r);let e="Erreur de connexion. V\xe9rifiez vos identifiants.";if(r.code)switch(r.code){case"auth/user-not-found":e="Aucun compte trouv\xe9 avec cet email. Cr\xe9ez un compte pour commencer.";break;case"auth/wrong-password":e="Mot de passe incorrect.";break;case"auth/invalid-credential":e="Email ou mot de passe incorrect. V\xe9rifiez vos identifiants ou cr\xe9ez un compte.";break;case"auth/invalid-email":e="Adresse email invalide.";break;case"auth/user-disabled":e="Ce compte a \xe9t\xe9 d\xe9sactiv\xe9.";break;case"auth/too-many-requests":e="Trop de tentatives. Veuillez r\xe9essayer plus tard.";break;case"auth/network-request-failed":e="Erreur r\xe9seau. V\xe9rifiez votre connexion internet.";break;default:e=r.message||"Erreur de connexion. Veuillez r\xe9essayer."}else r.message&&(e=r.message);h(e)}finally{f(!1)}},children:[(0,te.jsx)(rT,{fullWidth:!0,label:"Email",type:"email",value:i,onChange:e=>s(e.target.value),margin:"normal",required:!0,autoComplete:"email",InputProps:{startAdornment:(0,te.jsx)(vP,{position:"start",children:(0,te.jsx)(HP,{})})}}),(0,te.jsx)(rT,{fullWidth:!0,label:"Mot de passe",type:c?"text":"password",value:a,onChange:e=>l(e.target.value),margin:"normal",required:!0,autoComplete:"current-password",InputProps:{startAdornment:(0,te.jsx)(vP,{position:"start",children:(0,te.jsx)(GP,{})}),endAdornment:(0,te.jsx)(vP,{position:"end",children:(0,te.jsx)(zn,{onClick:()=>u(!c),edge:"end",children:c?(0,te.jsx)(KP,{}):(0,te.jsx)(QP,{})})})}}),(0,te.jsx)(wn,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2,py:1.5},disabled:p,children:p?(0,te.jsx)(OP,{size:24}):"Se connecter"}),(0,te.jsxs)(he,{sx:{textAlign:"center",mt:2},children:[(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Pas encore de compte ?"," ",(0,te.jsx)(WP,{component:"button",variant:"body2",onClick:r,sx:{cursor:"pointer"},children:"S'inscrire"})]}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",children:(0,te.jsx)(WP,{component:"button",variant:"body2",onClick:o,sx:{cursor:"pointer"},children:"Mot de passe oubli\xe9 ?"})})]})]})]})})})},YP=ji((0,te.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),$P=e=>{let{email:t,onSwitchToLogin:n,onResendEmail:r}=e;return(0,te.jsx)(he,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,te.jsx)(rt,{sx:{maxWidth:600,width:"100%",m:2},children:(0,te.jsxs)(lt,{sx:{p:4},children:[(0,te.jsxs)(he,{sx:{textAlign:"center",mb:3},children:[(0,te.jsx)(HP,{sx:{fontSize:64,color:"primary.main",mb:2}}),(0,te.jsx)(Pe,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold"},children:"\ud83d\udce7 V\xe9rifiez votre email"})]}),(0,te.jsxs)(OE,{severity:"info",sx:{mb:3},children:[(0,te.jsx)(Pe,{variant:"body1",gutterBottom:!0,children:(0,te.jsx)("strong",{children:"Inscription r\xe9ussie !"})}),(0,te.jsxs)(Pe,{variant:"body2",children:["Un email de v\xe9rification a \xe9t\xe9 envoy\xe9 \xe0 : ",(0,te.jsx)("strong",{children:t})]})]}),(0,te.jsxs)(he,{sx:{mb:3},children:[(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,children:"Pour activer votre compte, veuillez :"}),(0,te.jsxs)(he,{component:"ol",sx:{pl:3},children:[(0,te.jsx)("li",{children:(0,te.jsx)(Pe,{variant:"body2",paragraph:!0,children:"Ouvrir votre bo\xeete de r\xe9ception (et le dossier spam si n\xe9cessaire)"})}),(0,te.jsx)("li",{children:(0,te.jsx)(Pe,{variant:"body2",paragraph:!0,children:"Cliquer sur le lien de v\xe9rification dans l'email"})}),(0,te.jsx)("li",{children:(0,te.jsx)(Pe,{variant:"body2",paragraph:!0,children:"Vous serez automatiquement connect\xe9 apr\xe8s v\xe9rification"})})]})]}),r&&(0,te.jsxs)(he,{sx:{mb:3,textAlign:"center"},children:[(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Vous n'avez pas re\xe7u l'email ?"}),(0,te.jsx)(wn,{variant:"outlined",onClick:r,sx:{mb:2},children:"Renvoyer l'email de v\xe9rification"})]}),(0,te.jsxs)(he,{sx:{textAlign:"center",mt:3},children:[(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"D\xe9j\xe0 v\xe9rifi\xe9 votre email ?"}),(0,te.jsx)(wn,{variant:"text",onClick:n,sx:{textTransform:"none"},children:"Me connecter"})]}),(0,te.jsx)(he,{sx:{mt:3,textAlign:"center"},children:(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",children:[(0,te.jsx)("strong",{children:"Note :"})," Le lien de v\xe9rification expire dans 24 heures."]})})]})})})},JP=t=>{let{onSuccess:n,onSwitchToLogin:r}=t;const[o,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(""),[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(""),[h,p]=(0,e.useState)(""),[f,m]=(0,e.useState)(!1),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(""),[x,w]=(0,e.useState)(!1),[S,k]=(0,e.useState)(!1),[E,C]=(0,e.useState)("");e.useEffect(()=>{y&&console.log("\u2705 Erreur dans le state:",y)},[y]);return S?(0,te.jsx)($P,{email:E||l,onSwitchToLogin:r,onResendEmail:async()=>{console.log("Renvoyer l'email de v\xe9rification \xe0:",E||l)}}):(0,te.jsx)(he,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,te.jsx)(rt,{sx:{maxWidth:600,width:"100%",m:2},children:(0,te.jsxs)(lt,{sx:{p:4},children:[(0,te.jsx)(Pe,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3,fontWeight:"bold"},children:"\ud83c\udf93 Cr\xe9er un compte"}),(0,te.jsx)(Pe,{variant:"body1",color:"text.secondary",align:"center",sx:{mb:3},children:"Commencez votre parcours vers l'anglais C1"}),y&&(0,te.jsx)(he,{children:(0,te.jsxs)(OE,{severity:"error",sx:{mb:2,width:"100%",visibility:"visible",opacity:1},onClose:()=>b(""),children:[(0,te.jsx)("strong",{children:"Erreur :"})," ",y]})}),(0,te.jsxs)(he,{component:"form",onSubmit:async e=>{if(e.preventDefault(),e.stopPropagation(),x)return;b("");const t=u.length<8?"Le mot de passe doit contenir au moins 8 caract\xe8res":/(?=.*[a-z])/.test(u)?/(?=.*[A-Z])/.test(u)?/(?=.*\d)/.test(u)?/(?=.*[@$!%*?&])/.test(u)?u!==h?"Les mots de passe ne correspondent pas":"":"Le mot de passe doit contenir au moins un caract\xe8re sp\xe9cial (@$!%*?&)":"Le mot de passe doit contenir au moins un chiffre":"Le mot de passe doit contenir au moins une majuscule":"Le mot de passe doit contenir au moins une minuscule";if(t)b(t);else{w(!0);try{const e="".concat(o," ").concat(s).trim()||l.split("@")[0],t=await Fk(l,u,e);if(t.success&&t.user){const n=t.user;C(l),k(!0),b("");const r={id:n.uid,email:n.email,name:e,firstName:o,lastName:s,emailVerified:!1,currentLevel:"B1",targetLevel:"C1",createdAt:(new Date).toISOString()};localStorage.setItem("pendingUser",JSON.stringify(r)),localStorage.setItem("firebaseUser",JSON.stringify({uid:n.uid,email:n.email,displayName:e}))}else b(t.message||"Erreur d'inscription")}catch(n){console.error("Erreur inscription Firebase:",n);let e="Erreur d'inscription. Veuillez r\xe9essayer.";if(n.code)switch(n.code){case"auth/email-already-in-use":e="Un compte existe d\xe9j\xe0 avec cet email. Essayez de vous connecter.";break;case"auth/invalid-email":e="Adresse email invalide.";break;case"auth/weak-password":e="Le mot de passe est trop faible. Utilisez au moins 6 caract\xe8res.";break;case"auth/operation-not-allowed":e="L'inscription par email/mot de passe n'est pas activ\xe9e. Contactez l'administrateur.";break;case"auth/network-request-failed":e="Erreur r\xe9seau. V\xe9rifiez votre connexion internet.";break;default:e=n.message||"Erreur d'inscription. Veuillez r\xe9essayer."}else n.message&&(e=n.message);b(e)}finally{w(!1)}}},children:[(0,te.jsxs)(Ge,{container:!0,spacing:2,children:[(0,te.jsx)(Ge,{item:!0,xs:12,sm:6,children:(0,te.jsx)(rT,{fullWidth:!0,label:"Pr\xe9nom",value:o,onChange:e=>i(e.target.value),margin:"normal",InputProps:{startAdornment:(0,te.jsx)(vP,{position:"start",children:(0,te.jsx)(YP,{})})}})}),(0,te.jsx)(Ge,{item:!0,xs:12,sm:6,children:(0,te.jsx)(rT,{fullWidth:!0,label:"Nom",value:s,onChange:e=>a(e.target.value),margin:"normal",InputProps:{startAdornment:(0,te.jsx)(vP,{position:"start",children:(0,te.jsx)(YP,{})})}})})]}),(0,te.jsx)(rT,{fullWidth:!0,label:"Email",type:"email",value:l,onChange:e=>c(e.target.value),margin:"normal",required:!0,InputProps:{startAdornment:(0,te.jsx)(vP,{position:"start",children:(0,te.jsx)(HP,{})})}}),(0,te.jsx)(rT,{fullWidth:!0,label:"Mot de passe",type:f?"text":"password",value:u,onChange:e=>d(e.target.value),margin:"normal",required:!0,helperText:"Min. 8 caract\xe8res, 1 majuscule, 1 chiffre, 1 caract\xe8re sp\xe9cial",InputProps:{startAdornment:(0,te.jsx)(vP,{position:"start",children:(0,te.jsx)(GP,{})}),endAdornment:(0,te.jsx)(vP,{position:"end",children:(0,te.jsx)(zn,{onClick:()=>m(!f),edge:"end",children:f?(0,te.jsx)(KP,{}):(0,te.jsx)(QP,{})})})}}),(0,te.jsx)(rT,{fullWidth:!0,label:"Confirmer le mot de passe",type:g?"text":"password",value:h,onChange:e=>p(e.target.value),margin:"normal",required:!0,InputProps:{startAdornment:(0,te.jsx)(vP,{position:"start",children:(0,te.jsx)(GP,{})}),endAdornment:(0,te.jsx)(vP,{position:"end",children:(0,te.jsx)(zn,{onClick:()=>v(!g),edge:"end",children:g?(0,te.jsx)(KP,{}):(0,te.jsx)(QP,{})})})}}),(0,te.jsx)(wn,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2,py:1.5},disabled:x,children:x?(0,te.jsx)(OP,{size:24}):"S'inscrire"}),(0,te.jsx)(he,{sx:{textAlign:"center",mt:2},children:(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",children:["D\xe9j\xe0 un compte ?"," ",(0,te.jsx)(WP,{component:"button",variant:"body2",onClick:r,sx:{cursor:"pointer"},children:"Se connecter"})]})})]})]})})})},ZP=t=>{let{onSwitchToLogin:n,onSuccess:r}=t;const[o,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(""),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(""),[h,p]=(0,e.useState)(!1);return(0,te.jsx)(he,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,te.jsx)(rt,{sx:{maxWidth:500,width:"100%",m:2},children:(0,te.jsxs)(lt,{sx:{p:4},children:[(0,te.jsx)(Pe,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3,fontWeight:"bold"},children:"\ud83d\udd12 R\xe9initialisation de mot de passe"}),s&&(0,te.jsx)(OE,{severity:"error",sx:{mb:2},children:s}),u&&(0,te.jsx)(OE,{severity:"success",sx:{mb:2},children:u}),h?(0,te.jsxs)(he,{sx:{textAlign:"center"},children:[(0,te.jsx)(hC,{sx:{fontSize:64,color:"success.main",mb:2}}),(0,te.jsxs)(Pe,{variant:"body1",color:"text.secondary",sx:{mb:2},children:["Un email de r\xe9initialisation a \xe9t\xe9 envoy\xe9 \xe0 ",(0,te.jsx)("strong",{children:o})]}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Cliquez sur le lien dans l'email pour r\xe9initialiser votre mot de passe. Le lien est valide pendant 1 heure."}),(0,te.jsx)(wn,{fullWidth:!0,variant:"outlined",onClick:()=>{p(!1),i(""),d("")},sx:{mb:2},children:"Envoyer un autre email"}),(0,te.jsx)(wn,{fullWidth:!0,variant:"text",onClick:n,children:"Retour \xe0 la connexion"})]}):(0,te.jsxs)(he,{component:"form",onSubmit:async e=>{e.preventDefault(),a(""),d(""),c(!0);try{const e=await Uk(o);e.success?(d("Un email de r\xe9initialisation a \xe9t\xe9 envoy\xe9. V\xe9rifiez votre bo\xeete de r\xe9ception et cliquez sur le lien pour r\xe9initialiser votre mot de passe."),p(!0)):a(e.message||"Erreur lors de la demande de r\xe9initialisation")}catch(t){console.error("Erreur r\xe9initialisation Firebase:",t);let e="Erreur lors de la demande de r\xe9initialisation.";if(t.code)switch(t.code){case"auth/user-not-found":return d("Si cet email existe, un lien de r\xe9initialisation a \xe9t\xe9 envoy\xe9. V\xe9rifiez votre bo\xeete de r\xe9ception."),p(!0),void c(!1);case"auth/invalid-email":e="Adresse email invalide.";break;case"auth/network-request-failed":e="Erreur r\xe9seau. V\xe9rifiez votre connexion internet.";break;default:e=t.message||"Erreur lors de la demande de r\xe9initialisation."}else t.message&&(e=t.message);a(e)}finally{c(!1)}},children:[(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Entrez votre adresse email. Nous vous enverrons un lien pour r\xe9initialiser votre mot de passe."}),(0,te.jsx)(rT,{fullWidth:!0,label:"Email",type:"email",value:o,onChange:e=>i(e.target.value),margin:"normal",required:!0,disabled:l,InputProps:{startAdornment:(0,te.jsx)(HP,{sx:{mr:1,color:"text.secondary"}})}}),(0,te.jsx)(wn,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2,py:1.5},disabled:l,children:l?(0,te.jsx)(OP,{size:24}):"Envoyer le lien de r\xe9initialisation"}),(0,te.jsx)(he,{sx:{textAlign:"center",mt:2},children:(0,te.jsx)(WP,{component:"button",variant:"body2",onClick:n,sx:{cursor:"pointer"},children:"Retour \xe0 la connexion"})})]})]})})})},eN=ji((0,te.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");const tN=(0,n(5403).F3)("Preferences",{web:()=>n.e(828).then(n.bind(n,828)).then(e=>new e.PreferencesWeb)}),nN="undefined"!==typeof window.Capacitor,rN=nN?{get:async e=>{try{const{value:t}=await tN.get({key:e});return t}catch(t){return console.error("Erreur lors de la lecture de ".concat(e,":"),t),null}},set:async(e,t)=>{try{await tN.set({key:e,value:t})}catch(n){throw console.error("Erreur lors de l'\xe9criture de ".concat(e,":"),n),n}},remove:async e=>{try{await tN.remove({key:e})}catch(t){throw console.error("Erreur lors de la suppression de ".concat(e,":"),t),t}},clear:async()=>{try{await tN.clear()}catch(e){throw console.error("Erreur lors du nettoyage du stockage:",e),e}},keys:async()=>{try{const{keys:e}=await tN.keys();return e}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration des cl\xe9s:",e),[]}}}:{get:async e=>{try{return localStorage.getItem(e)}catch(t){return console.error("Erreur lors de la lecture de ".concat(e,":"),t),null}},set:async(e,t)=>{try{localStorage.setItem(e,t)}catch(n){if(console.error("Erreur lors de l'\xe9criture de ".concat(e,":"),n),n instanceof DOMException&&22===n.code)throw new Error("Quota de stockage d\xe9pass\xe9. Veuillez lib\xe9rer de l'espace.");throw n}},remove:async e=>{try{localStorage.removeItem(e)}catch(t){throw console.error("Erreur lors de la suppression de ".concat(e,":"),t),t}},clear:async()=>{try{localStorage.clear()}catch(e){throw console.error("Erreur lors du nettoyage du stockage:",e),e}},keys:async()=>{try{return Object.keys(localStorage)}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration des cl\xe9s:",e),[]}}},oN={TOKEN:"token",FIREBASE_USER:"firebaseUser",USER:"user",USER_PROFILE:"userProfile",PENDING_USER:"pendingUser",USER_RESPONSES:"userResponses",LEVEL_ASSESSED:"levelAssessed",EFSET_RESULTS:"efsetResults",TOEIC_RESULTS:"toeicResults",TOEFL_RESULTS:"toeflResults",LAST_TEST_TYPE:"lastTestType",SYNC_QUEUE:"syncQueue",LAST_SYNC:"lastSync",FIREBASE_AUTH_PERSISTENCE:"firebaseAuthPersistence"},iN={get:async e=>{const t=await rN.get(e);if(null===t)return null;try{return JSON.parse(t)}catch(n){return t}},set:async(e,t)=>{const n="string"===typeof t?t:JSON.stringify(t);await rN.set(e,n)},remove:async e=>{await rN.remove(e)},clear:async()=>{await rN.clear()},keys:async()=>await rN.keys(),has:async e=>null!==await rN.get(e),getMultiple:async e=>{const t={};return await Promise.all(e.map(async e=>{t[e]=await iN.get(e)})),t},setMultiple:async e=>{await Promise.all(Object.entries(e).map(e=>{let[t,n]=e;return iN.set(t,n)}))},removeMultiple:async e=>{await Promise.all(e.map(e=>rN.remove(e)))},getSize:async()=>{if(nN){const e=await rN.keys();let t=0;for(const n of e){const e=await rN.get(n);e&&(t+=n.length+e.length)}return t}{let e=0;for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n){const t=localStorage.getItem(n);t&&(e+=n.length+t.length)}}return e}}},sN=t=>{let{onSuccess:n,onSwitchToLogin:r}=t;const{login:o}=aE(),[i,s]=(0,e.useState)("loading"),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{if(d||"loading"!==i)return;(async()=>{h(!0);try{const t=new URLSearchParams(window.location.search),r=t.get("mode"),i=t.get("oobCode");if(!i){const e=Mk.currentUser;if(e&&e.emailVerified)return s("success"),void l("Votre email est d\xe9j\xe0 v\xe9rifi\xe9. Vous \xeates connect\xe9.");if(e&&!e.emailVerified){try{await uu(e),s("error"),u("Un nouvel email de v\xe9rification a \xe9t\xe9 envoy\xe9. V\xe9rifiez votre bo\xeete de r\xe9ception.")}catch(c){s("error"),u("Erreur lors de l'envoi de l'email de v\xe9rification. Veuillez r\xe9essayer.")}return}return s("error"),void u("Lien de v\xe9rification invalide. Veuillez vous connecter ou demander un nouveau lien.")}if("verifyEmail"===r&&i)try{await cu(Mk,i),await lu(Mk,i);const t=Mk.currentUser;if(t){await t.reload();const r=await iN.get(oN.PENDING_USER),i=await iN.get(oN.FIREBASE_USER);if(r||i){var e;const i=r||{id:t.uid,email:t.email,name:t.displayName||(null===(e=t.email)||void 0===e?void 0:e.split("@")[0])||"Utilisateur",emailVerified:!0,currentLevel:"B1",targetLevel:"C1",createdAt:(new Date).toISOString()},s=await t.getIdToken();await iN.setMultiple({[oN.TOKEN]:s,[oN.USER]:i,[oN.FIREBASE_USER]:{uid:t.uid,email:t.email,displayName:t.displayName}}),await iN.remove(oN.PENDING_USER),o&&await o(s,i),n&&n(s,i)}s("success"),l("Email v\xe9rifi\xe9 avec succ\xe8s ! Vous \xeates maintenant connect\xe9.")}else s("error"),u("Aucun utilisateur connect\xe9. Veuillez vous connecter.")}catch(c){console.error("Erreur v\xe9rification email Firebase:",c);let t="Le lien de v\xe9rification est invalide ou a expir\xe9.";"auth/invalid-action-code"===c.code?t="Le lien de v\xe9rification est invalide ou a d\xe9j\xe0 \xe9t\xe9 utilis\xe9.":"auth/expired-action-code"===c.code?t="Le lien de v\xe9rification a expir\xe9. Veuillez demander un nouveau lien.":"auth/user-disabled"===c.code&&(t="Ce compte a \xe9t\xe9 d\xe9sactiv\xe9. Contactez l'administrateur."),s("error"),u(t)}else s("error"),u("Lien de v\xe9rification invalide.")}catch(t){console.error("Erreur v\xe9rification email:",t),s("error"),u(t.message||"Une erreur est survenue lors de la v\xe9rification. Veuillez r\xe9essayer.")}finally{h(!1)}})()},[o,n,d,i]),"loading"===i?(0,te.jsx)(he,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100"},children:(0,te.jsx)(rt,{sx:{maxWidth:500,width:"100%",m:2},children:(0,te.jsxs)(lt,{sx:{p:4,textAlign:"center"},children:[(0,te.jsx)(OP,{sx:{mb:3}}),(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:"V\xe9rification de votre email..."}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",children:"Veuillez patienter"})]})})}):"success"===i?(0,te.jsx)(he,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,te.jsx)(rt,{sx:{maxWidth:500,width:"100%",m:2},children:(0,te.jsxs)(lt,{sx:{p:4,textAlign:"center"},children:[(0,te.jsx)(hC,{sx:{fontSize:64,color:"success.main",mb:2}}),(0,te.jsx)(Pe,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",mb:2},children:"\u2705 Email v\xe9rifi\xe9 !"}),(0,te.jsx)(OE,{severity:"success",sx:{mb:3},children:a||"Votre email a \xe9t\xe9 v\xe9rifi\xe9 avec succ\xe8s. Vous pouvez maintenant utiliser toutes les fonctionnalit\xe9s de l'application."}),r&&(0,te.jsx)(wn,{variant:"contained",size:"large",onClick:r,sx:{mt:2},children:"Continuer"})]})})}):(0,te.jsx)(he,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"grey.100",py:4},children:(0,te.jsx)(rt,{sx:{maxWidth:500,width:"100%",m:2},children:(0,te.jsxs)(lt,{sx:{p:4,textAlign:"center"},children:[(0,te.jsx)(eN,{sx:{fontSize:64,color:"error.main",mb:2}}),(0,te.jsx)(Pe,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",mb:2},children:"\u274c Erreur de v\xe9rification"}),(0,te.jsx)(OE,{severity:"error",sx:{mb:3},children:c||"Le lien de v\xe9rification est invalide ou a expir\xe9."}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Que pouvez-vous faire ?"}),(0,te.jsxs)(he,{sx:{display:"flex",flexDirection:"column",gap:2},children:[r&&(0,te.jsx)(wn,{variant:"contained",onClick:r,children:"Me connecter"}),(0,te.jsx)(wn,{variant:"outlined",onClick:()=>window.location.href="/signup",children:"R\xe9essayer l'inscription"})]})]})})})},aN=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],lN=ye("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,v.X4)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})},e=>{let{ownerState:t}=e;return(0,c.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})},e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}})},e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}})},e=>{let{ownerState:t}=e;return(0,c.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})}),cN=ye("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})(e=>{let{theme:t,ownerState:n}=e;return(0,c.A)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})}),uN=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiDivider"}),{absolute:r=!1,children:o,className:i,component:s=(o?"div":"hr"),flexItem:a=!1,light:l=!1,orientation:d="horizontal",role:h=("hr"!==s?"separator":void 0),textAlign:p="center",variant:f="fullWidth"}=n,m=(0,u.A)(n,aN),g=(0,c.A)({},n,{absolute:r,component:s,flexItem:a,light:l,orientation:d,role:h,textAlign:p,variant:f}),v=(e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:i,orientation:s,textAlign:a,variant:l}=e;return pe({root:["root",t&&"absolute",l,i&&"light","vertical"===s&&"vertical",o&&"flexItem",n&&"withChildren",n&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]},VI,r)})(g);return(0,te.jsx)(lN,(0,c.A)({as:s,className:Q(v.root,i),role:h,ref:t,ownerState:g},m,{children:o?(0,te.jsx)(cN,{className:v.wrapper,ownerState:g,children:o}):null}))});uN.muiSkipListHighlight=!0;const dN=uN;function hN(e){return ae("MuiStepper",e)}le("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const pN=e.createContext({});const fN=pN,mN=e.createContext({});const gN=mN;function vN(e){return ae("MuiStepConnector",e)}le("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const yN=["className"],bN=ye("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(e=>{let{ownerState:t}=e;return(0,c.A)({flex:"1 1 auto"},"vertical"===t.orientation&&{marginLeft:12},t.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})}),xN=ye("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.line,t["line".concat(Ce(n.orientation))]]}})(e=>{let{ownerState:t,theme:n}=e;const r="light"===n.palette.mode?n.palette.grey[400]:n.palette.grey[600];return(0,c.A)({display:"block",borderColor:n.vars?n.vars.palette.StepConnector.border:r},"horizontal"===t.orientation&&{borderTopStyle:"solid",borderTopWidth:1},"vertical"===t.orientation&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),wN=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiStepConnector"}),{className:o}=r,i=(0,u.A)(r,yN),{alternativeLabel:s,orientation:a="horizontal"}=e.useContext(fN),{active:l,disabled:d,completed:h}=e.useContext(gN),p=(0,c.A)({},r,{alternativeLabel:s,orientation:a,active:l,completed:h,disabled:d}),f=(e=>{const{classes:t,orientation:n,alternativeLabel:r,active:o,completed:i,disabled:s}=e;return pe({root:["root",n,r&&"alternativeLabel",o&&"active",i&&"completed",s&&"disabled"],line:["line","line".concat(Ce(n))]},vN,t)})(p);return(0,te.jsx)(bN,(0,c.A)({className:Q(f.root,o),ref:n,ownerState:p},i,{children:(0,te.jsx)(xN,{className:f.line,ownerState:p})}))}),SN=wN,kN=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],EN=ye("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.nonLinear&&t.nonLinear]}})(e=>{let{ownerState:t}=e;return(0,c.A)({display:"flex"},"horizontal"===t.orientation&&{flexDirection:"row",alignItems:"center"},"vertical"===t.orientation&&{flexDirection:"column"},t.alternativeLabel&&{alignItems:"flex-start"})}),CN=(0,te.jsx)(SN,{}),AN=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiStepper"}),{activeStep:o=0,alternativeLabel:i=!1,children:s,className:a,component:l="div",connector:d=CN,nonLinear:h=!1,orientation:p="horizontal"}=r,f=(0,u.A)(r,kN),m=(0,c.A)({},r,{nonLinear:h,alternativeLabel:i,orientation:p,component:l}),g=(e=>{const{orientation:t,nonLinear:n,alternativeLabel:r,classes:o}=e;return pe({root:["root",t,n&&"nonLinear",r&&"alternativeLabel"]},hN,o)})(m),v=e.Children.toArray(s).filter(Boolean),y=v.map((t,n)=>e.cloneElement(t,(0,c.A)({index:n,last:n+1===v.length},t.props))),b=e.useMemo(()=>({activeStep:o,alternativeLabel:i,connector:d,nonLinear:h,orientation:p}),[o,i,d,h,p]);return(0,te.jsx)(fN.Provider,{value:b,children:(0,te.jsx)(EN,(0,c.A)({as:l,ownerState:m,className:Q(g.root,a),ref:n},f,{children:y}))})}),IN=AN;function jN(e){return ae("MuiStep",e)}le("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const TN=["active","children","className","component","completed","disabled","expanded","index","last"],_N=ye("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(e=>{let{ownerState:t}=e;return(0,c.A)({},"horizontal"===t.orientation&&{paddingLeft:8,paddingRight:8},t.alternativeLabel&&{flex:1,position:"relative"})}),RN=e.forwardRef(function(t,n){const r=ke({props:t,name:"MuiStep"}),{active:o,children:i,className:s,component:a="div",completed:l,disabled:d,expanded:h=!1,index:p,last:f}=r,m=(0,u.A)(r,TN),{activeStep:g,connector:v,alternativeLabel:y,orientation:b,nonLinear:x}=e.useContext(fN);let[w=!1,S=!1,k=!1]=[o,l,d];g===p?w=void 0===o||o:!x&&g>p?S=void 0===l||l:!x&&g<p&&(k=void 0===d||d);const E=e.useMemo(()=>({index:p,last:f,expanded:h,icon:p+1,active:w,completed:S,disabled:k}),[p,f,h,w,S,k]),C=(0,c.A)({},r,{active:w,orientation:b,alternativeLabel:y,completed:S,disabled:k,expanded:h,component:a}),A=(e=>{const{classes:t,orientation:n,alternativeLabel:r,completed:o}=e;return pe({root:["root",n,r&&"alternativeLabel",o&&"completed"]},jN,t)})(C),I=(0,te.jsxs)(_N,(0,c.A)({as:a,className:Q(A.root,s),ref:n,ownerState:C},m,{children:[v&&y&&0!==p?v:null,i]}));return(0,te.jsx)(gN.Provider,{value:E,children:v&&!y&&0!==p?(0,te.jsxs)(e.Fragment,{children:[v,I]}):I})}),PN=RN,NN=ji((0,te.jsx)("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),LN=ji((0,te.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function ON(e){return ae("MuiStepIcon",e)}const MN=le("MuiStepIcon",["root","active","completed","error","text"]);var DN;const zN=["active","className","completed","error","icon"],FN=ye(Ii,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,t)=>t.root})(e=>{let{theme:t}=e;return{display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:(t.vars||t).palette.text.disabled,["&.".concat(MN.completed)]:{color:(t.vars||t).palette.primary.main},["&.".concat(MN.active)]:{color:(t.vars||t).palette.primary.main},["&.".concat(MN.error)]:{color:(t.vars||t).palette.error.main}}}),VN=ye("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,t)=>t.text})(e=>{let{theme:t}=e;return{fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily}}),BN=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiStepIcon"}),{active:r=!1,className:o,completed:i=!1,error:s=!1,icon:a}=n,l=(0,u.A)(n,zN),d=(0,c.A)({},n,{active:r,completed:i,error:s}),h=(e=>{const{classes:t,active:n,completed:r,error:o}=e;return pe({root:["root",n&&"active",r&&"completed",o&&"error"],text:["text"]},ON,t)})(d);if("number"===typeof a||"string"===typeof a){const e=Q(o,h.root);return s?(0,te.jsx)(FN,(0,c.A)({as:LN,className:e,ref:t,ownerState:d},l)):i?(0,te.jsx)(FN,(0,c.A)({as:NN,className:e,ref:t,ownerState:d},l)):(0,te.jsxs)(FN,(0,c.A)({className:e,ref:t,ownerState:d},l,{children:[DN||(DN=(0,te.jsx)("circle",{cx:"12",cy:"12",r:"12"})),(0,te.jsx)(VN,{className:h.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:d,children:a})]}))}return a}),UN=BN;function qN(e){return ae("MuiStepLabel",e)}const WN=le("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),HN=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],GN=ye("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation]]}})(e=>{let{ownerState:t}=e;return(0,c.A)({display:"flex",alignItems:"center",["&.".concat(WN.alternativeLabel)]:{flexDirection:"column"},["&.".concat(WN.disabled)]:{cursor:"default"}},"vertical"===t.orientation&&{textAlign:"left",padding:"8px 0"})}),KN=ye("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,t)=>t.label})(e=>{let{theme:t}=e;return(0,c.A)({},t.typography.body2,{display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),["&.".concat(WN.active)]:{color:(t.vars||t).palette.text.primary,fontWeight:500},["&.".concat(WN.completed)]:{color:(t.vars||t).palette.text.primary,fontWeight:500},["&.".concat(WN.alternativeLabel)]:{marginTop:16},["&.".concat(WN.error)]:{color:(t.vars||t).palette.error.main}})}),QN=ye("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,t)=>t.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,["&.".concat(WN.alternativeLabel)]:{paddingRight:0}})),XN=ye("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(e=>{let{theme:t}=e;return{width:"100%",color:(t.vars||t).palette.text.secondary,["&.".concat(WN.alternativeLabel)]:{textAlign:"center"}}}),YN=e.forwardRef(function(t,n){var r;const o=ke({props:t,name:"MuiStepLabel"}),{children:i,className:s,componentsProps:a={},error:l=!1,icon:d,optional:h,slotProps:p={},StepIconComponent:f,StepIconProps:m}=o,g=(0,u.A)(o,HN),{alternativeLabel:v,orientation:y}=e.useContext(fN),{active:b,disabled:x,completed:w,icon:S}=e.useContext(gN),k=d||S;let E=f;k&&!E&&(E=UN);const C=(0,c.A)({},o,{active:b,alternativeLabel:v,completed:w,disabled:x,error:l,orientation:y}),A=(e=>{const{classes:t,orientation:n,active:r,completed:o,error:i,disabled:s,alternativeLabel:a}=e;return pe({root:["root",n,i&&"error",s&&"disabled",a&&"alternativeLabel"],label:["label",r&&"active",o&&"completed",i&&"error",s&&"disabled",a&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",o&&"completed",i&&"error",s&&"disabled",a&&"alternativeLabel"],labelContainer:["labelContainer",a&&"alternativeLabel"]},qN,t)})(C),I=null!=(r=p.label)?r:a.label;return(0,te.jsxs)(GN,(0,c.A)({className:Q(A.root,s),ref:n,ownerState:C},g,{children:[k||E?(0,te.jsx)(QN,{className:A.iconContainer,ownerState:C,children:(0,te.jsx)(E,(0,c.A)({completed:w,active:b,error:l,icon:k},m))}):null,(0,te.jsxs)(XN,{className:A.labelContainer,ownerState:C,children:[i?(0,te.jsx)(KN,(0,c.A)({ownerState:C},I,{className:Q(A.label,null==I?void 0:I.className),children:i})):null,h]})]}))});YN.muiName="StepLabel";const $N=YN,JN=ji((0,te.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),ZN=e=>{const{level:t,isCorrect:n,correctAnswer:r,grammarFocus:o,customExplanation:i,userAnswer:s}=e,a={A1:{present_simple:{rule:"Present Simple (Pr\xe9sent simple)",explanation:"Le pr\xe9sent simple est utilis\xe9 pour parler de choses qui sont toujours vraies, de faits g\xe9n\xe9raux, ou d'actions qui se r\xe9p\xe8tent r\xe9guli\xe8rement. C'est la base de la communication en anglais.",structure:"Structure affirmative :\n\u2022 I/You/We/They + verbe base\n\u2022 He/She/It + verbe + 's' ou 'es'\n\nStructure interrogative :\n\u2022 Do/Does + sujet + verbe base\n\u2022 Exemple : 'Do you work?' / 'Does she work?'\n\nStructure n\xe9gative :\n\u2022 Don't/Doesn't + verbe base\n\u2022 Exemple : 'I don't work' / 'She doesn't work'",examples:["I am a developer. (Je suis d\xe9veloppeur)","She writes code every day. (Elle \xe9crit du code tous les jours)","We use computers at work. (Nous utilisons des ordinateurs au travail)","The server runs 24/7. (Le serveur fonctionne 24/7)","Do you understand? (Comprenez-vous ?)"],commonMistakes:["\u274c 'I is a developer' \u2192 \u2705 'I am a developer' (am avec I, is avec he/she/it)","\u274c 'she work every day' \u2192 \u2705 'she works every day' (ajouter 's' \xe0 la 3e personne)","\u274c 'they is working' \u2192 \u2705 'they are working' (are avec we/you/they)","\u274c 'Does you work?' \u2192 \u2705 'Do you work?' (do avec you/we/they)"],tips:["Pour la 3e personne du singulier (he, she, it), ajoutez toujours 's' ou 'es' au verbe","R\xe8gles d'ajout de 's' : verbe normal + 's', verbe finissant par -s/-sh/-ch/-x/-o + 'es'","Les verbes irr\xe9guliers 'be' et 'have' ont leurs propres formes","Utilisez 'am' avec 'I', 'is' avec 'he/she/it', 'are' avec 'we/you/they'","Pour les questions, utilisez 'do' avec I/you/we/they et 'does' avec he/she/it"],vocabulary:[{word:"developer",definition:"d\xe9veloppeur, d\xe9veloppeuse"},{word:"work",definition:"travail, travailler"},{word:"code",definition:"code (informatique)"},{word:"computer",definition:"ordinateur"},{word:"server",definition:"serveur"}]},present_continuous:{rule:"Present Continuous (Pr\xe9sent continu)",explanation:"Le pr\xe9sent continu exprime une action en cours au moment pr\xe9sent ou une action temporaire.",structure:"Structure affirmative :\n\u2022 I am + verb-ing\n\u2022 He/She/It is + verb-ing\n\u2022 You/We/They are + verb-ing\n\nStructure interrogative :\n\u2022 Am/Is/Are + sujet + verb-ing\n\u2022 Exemple : 'Are you working?' / 'Is she coding?'\n\nStructure n\xe9gative :\n\u2022 Am/Is/Are + not + verb-ing\n\u2022 Exemple : 'I am not working' / 'She isn't coding'",examples:["I am working on a project. (Je travaille sur un projet)","She is writing code now. (Elle \xe9crit du code maintenant)","We are testing the application. (Nous testons l'application)","Are you debugging? (\xcates-vous en train de d\xe9boguer ?)"],commonMistakes:["\u274c 'I work now' \u2192 \u2705 'I am working now' (action en cours)","\u274c 'She write code' \u2192 \u2705 'She is writing code' (pr\xe9sent continu)","\u274c 'They are work' \u2192 \u2705 'They are working' (verbe-ing requis)"],tips:["Utilisez le pr\xe9sent continu pour les actions en cours","Forme : be (am/is/are) + verbe-ing","Indicateurs temporels : now, at the moment, currently"],vocabulary:[{word:"to work",definition:"travailler"},{word:"to code",definition:"coder, programmer"},{word:"to test",definition:"tester"},{word:"now",definition:"maintenant"}]},articles:{rule:"Articles (a/an/the)",explanation:"Les articles d\xe9finissent ou g\xe9n\xe9ralisent les noms.",structure:"Articles ind\xe9finis :\n\u2022 a + nom commen\xe7ant par consonne : 'a developer', 'a computer'\n\u2022 an + nom commen\xe7ant par voyelle : 'an application', 'an error'\n\nArticle d\xe9fini :\n\u2022 the + nom sp\xe9cifique : 'the project', 'the code'\n\nPas d'article :\n\u2022 Noms pluriels g\xe9n\xe9raux : 'developers', 'computers'",examples:["I am a developer. (Je suis d\xe9veloppeur)","She is an engineer. (Elle est ing\xe9nieur)","The code is working. (Le code fonctionne)","Developers use computers. (Les d\xe9veloppeurs utilisent des ordinateurs)"],commonMistakes:["\u274c 'I am developer' \u2192 \u2705 'I am a developer' (article requis)","\u274c 'an computer' \u2192 \u2705 'a computer' (consonne)","\u274c 'the developers' (g\xe9n\xe9ral) \u2192 \u2705 'developers' (pas d'article)"],tips:["Utilisez 'a' avant une consonne, 'an' avant une voyelle","Utilisez 'the' pour quelque chose de sp\xe9cifique","Pas d'article pour les pluriels g\xe9n\xe9raux"],vocabulary:[{word:"a",definition:"un, une (article ind\xe9fini)"},{word:"an",definition:"un, une (article ind\xe9fini devant voyelle)"},{word:"the",definition:"le, la, les (article d\xe9fini)"}]},basic_vocabulary:{rule:"Vocabulaire de base IT",explanation:"Mots et expressions essentielles pour parler de votre travail dans l'informatique.",structure:"Vocabulaire technique de base",vocabulary:[{word:"developer",definition:"d\xe9veloppeur, d\xe9veloppeuse"},{word:"programmer",definition:"programmeur, programmeuse"},{word:"computer",definition:"ordinateur"},{word:"code",definition:"code (informatique)"},{word:"software",definition:"logiciel"},{word:"application",definition:"application"},{word:"work",definition:"travail, travailler"},{word:"project",definition:"projet"}],examples:["I am a developer. (Je suis d\xe9veloppeur)","I write code. (J'\xe9cris du code)","I use a computer. (J'utilise un ordinateur)","This is my project. (C'est mon projet)"],tips:["M\xe9morisez le vocabulaire technique de votre domaine","Pratiquez en utilisant ces mots dans des phrases simples","Les mots techniques sont souvent similaires en fran\xe7ais et en anglais"]},technical_vocabulary:{rule:"Vocabulaire technique A1",explanation:"Vocabulaire technique de base pour d\xe9buter en IT.",vocabulary:[{word:"computer",definition:"ordinateur"},{word:"keyboard",definition:"clavier"},{word:"screen",definition:"\xe9cran"},{word:"mouse",definition:"souris"},{word:"internet",definition:"internet"},{word:"website",definition:"site web"}],examples:["I use a computer. (J'utilise un ordinateur)","The screen is large. (L'\xe9cran est grand)","I browse the internet. (Je navigue sur internet)"]}},A2:{present_perfect:{rule:"Present Perfect (Pr\xe9sent parfait)",explanation:"Le pr\xe9sent parfait exprime une action commenc\xe9e dans le pass\xe9 et qui continue maintenant, une action r\xe9cente avec un r\xe9sultat pr\xe9sent, ou une exp\xe9rience de vie. Il fait le lien entre le pass\xe9 et le pr\xe9sent.",structure:"Structure affirmative :\n\u2022 I/You/We/They + have + past participle\n\u2022 He/She/It + has + past participle\n\nStructure interrogative :\n\u2022 Have/Has + sujet + past participle\n\u2022 Exemple : 'Have you finished?' / 'Has she arrived?'\n\nStructure n\xe9gative :\n\u2022 Haven't/Hasn't + past participle\n\u2022 Exemple : 'I haven't finished' / 'She hasn't arrived'\n\nIndicateurs temporels :\n\u2022 For + dur\xe9e : 'for two years', 'for a long time'\n\u2022 Since + point de d\xe9part : 'since 2020', 'since Monday'\n\u2022 Already, yet, just, ever, never",examples:["I have worked here for two years. (Je travaille ici depuis deux ans)","She has learned English. (Elle a appris l'anglais - r\xe9sultat pr\xe9sent)","We have finished the project. (Nous avons fini le projet - action r\xe9cente)","Have you seen this bug? (Avez-vous vu ce bug ?)","The system has been running since this morning. (Le syst\xe8me fonctionne depuis ce matin)"],commonMistakes:["\u274c 'I have went' \u2192 \u2705 'I have gone' (toujours past participle avec have/has)","\u274c 'she have done' \u2192 \u2705 'she has done' (has avec he/she/it)","\u274c 'I work here for 2 years' \u2192 \u2705 'I have worked here for 2 years' (action continue)","\u274c 'I finished the code yesterday' (\u2705 correct si action termin\xe9e) vs 'I have finished the code' (\u2705 correct si r\xe9sultat pr\xe9sent)"],tips:["Utilisez 'for' pour une dur\xe9e : 'for 2 years', 'for a week'","Utilisez 'since' pour un point de d\xe9part : 'since 2020', 'since Monday'","Le present perfect met l'accent sur le r\xe9sultat pr\xe9sent, le past simple sur l'action pass\xe9e","Les verbes irr\xe9guliers : go \u2192 gone, see \u2192 seen, do \u2192 done, write \u2192 written"],vocabulary:[{word:"to finish",definition:"finir, terminer"},{word:"to deploy",definition:"d\xe9ployer, mettre en production"},{word:"to complete",definition:"compl\xe9ter, achever"},{word:"already",definition:"d\xe9j\xe0"},{word:"yet",definition:"encore, toujours (n\xe9gatif/question)"}]},past_simple:{rule:"Past Simple (Pass\xe9 simple)",explanation:"Le pass\xe9 simple d\xe9crit une action termin\xe9e dans le pass\xe9, \xe0 un moment pr\xe9cis. Il est souvent accompagn\xe9 d'indicateurs temporels pr\xe9cis.",structure:"Structure affirmative :\n\u2022 Sujet + verbe-ed (verbes r\xe9guliers)\n\u2022 Sujet + forme irr\xe9guli\xe8re (verbes irr\xe9guliers)\n\nVerbes r\xe9guliers : work \u2192 worked, test \u2192 tested\nVerbes irr\xe9guliers : go \u2192 went, see \u2192 saw, do \u2192 did\n\nStructure interrogative :\n\u2022 Did + sujet + verbe base\n\u2022 Exemple : 'Did you work yesterday?'\n\nStructure n\xe9gative :\n\u2022 Didn't + verbe base\n\u2022 Exemple : 'I didn't work yesterday'\n\nIndicateurs temporels : yesterday, last week, in 2020, ago, when",examples:["I worked on this project yesterday. (J'ai travaill\xe9 sur ce projet hier)","The application was deployed last week. (L'application a \xe9t\xe9 d\xe9ploy\xe9e la semaine derni\xe8re)","She tested the code two days ago. (Elle a test\xe9 le code il y a deux jours)","Did you fix the bug? (Avez-vous corrig\xe9 le bug ?)","We didn't finish on time. (Nous n'avons pas termin\xe9 \xe0 temps)"],commonMistakes:["\u274c 'I work yesterday' \u2192 \u2705 'I worked yesterday' (toujours pass\xe9 avec indicateur temporel)","\u274c 'was deploy' \u2192 \u2705 'was deployed' (past participle dans la voix passive)","\u274c 'Did you worked?' \u2192 \u2705 'Did you work?' (verbe base apr\xe8s did)","\u274c 'I didn't went' \u2192 \u2705 'I didn't go' (verbe base apr\xe8s didn't)"],tips:["Les verbes r\xe9guliers prennent '-ed' au pass\xe9 : work \u2192 worked, test \u2192 tested","Les verbes irr\xe9guliers ont leur propre forme : go \u2192 went, see \u2192 saw, do \u2192 did","Apr\xe8s 'did' ou 'didn't', utilisez toujours le verbe \xe0 la base (sans -ed)","Utilisez le pass\xe9 simple avec des indicateurs temporels pr\xe9cis : yesterday, last week, in 2020"],vocabulary:[{word:"yesterday",definition:"hier"},{word:"last week",definition:"la semaine derni\xe8re"},{word:"ago",definition:"il y a"},{word:"when",definition:"quand (indicateur de temps)"},{word:"to deploy",definition:"d\xe9ployer"}]},future_simple:{rule:"Future Simple (Futur simple)",explanation:"Le futur simple exprime une action future ou une d\xe9cision prise au moment de parler.",structure:"Structure affirmative :\n\u2022 Will + verbe base\n\u2022 Exemple : 'I will work' / 'She will code'\n\nStructure interrogative :\n\u2022 Will + sujet + verbe base\n\u2022 Exemple : 'Will you work?' / 'Will she code?'\n\nStructure n\xe9gative :\n\u2022 Won't + verbe base\n\u2022 Exemple : 'I won't work' / 'She won't code'\n\nForme contract\xe9e : 'll pour will, won't pour will not",examples:["I will deploy the code tomorrow. (Je d\xe9ploierai le code demain)","She will test the application. (Elle testera l'application)","Will you finish on time? (Finirez-vous \xe0 temps ?)","We won't release this version. (Nous ne publierons pas cette version)"],commonMistakes:["\u274c 'I will to work' \u2192 \u2705 'I will work' (pas de 'to' apr\xe8s will)","\u274c 'She will works' \u2192 \u2705 'She will work' (verbe base)","\u274c 'I will working' \u2192 \u2705 'I will work' (verbe base, pas -ing)"],tips:["Will + verbe base (pas de -s, pas de -ing, pas de to)","Utilisez will pour d\xe9cisions spontan\xe9es ou pr\xe9dictions","Forme contract\xe9e : I'll, you'll, he'll, she'll, we'll, they'll"],vocabulary:[{word:"tomorrow",definition:"demain"},{word:"next week",definition:"la semaine prochaine"},{word:"will",definition:"verbe auxiliaire du futur"},{word:"to deploy",definition:"d\xe9ployer"}]},past_continuous:{rule:"Past Continuous (Pass\xe9 continu)",explanation:"Le pass\xe9 continu exprime une action en cours \xe0 un moment pr\xe9cis du pass\xe9.",structure:"Structure affirmative :\n\u2022 I/He/She/It was + verb-ing\n\u2022 You/We/They were + verb-ing\n\nStructure interrogative :\n\u2022 Was/Were + sujet + verb-ing\n\u2022 Exemple : 'Were you working?'\n\nStructure n\xe9gative :\n\u2022 Wasn't/Weren't + verb-ing\n\u2022 Exemple : 'I wasn't working'",examples:["I was coding when the bug appeared. (Je codais quand le bug est apparu)","They were testing the application yesterday. (Ils testaient l'application hier)","Was she working on the project? (Travaillait-elle sur le projet ?)"],commonMistakes:["\u274c 'I was work' \u2192 \u2705 'I was working' (verbe-ing requis)","\u274c 'They was working' \u2192 \u2705 'They were working' (were avec they/we/you)","\u274c 'I were coding' \u2192 \u2705 'I was coding' (was avec I/he/she/it)"],tips:["Utilisez was avec I/he/she/it, were avec you/we/they","Toujours verbe-ing apr\xe8s was/were","Souvent utilis\xe9 avec 'when' ou 'while'"],vocabulary:[{word:"was",definition:"\xe9tait, \xe9tais (pass\xe9 de be)"},{word:"were",definition:"\xe9tiez, \xe9taient (pass\xe9 de be)"},{word:"when",definition:"quand"},{word:"while",definition:"pendant que"}]},comparative_superlative:{rule:"Comparative and Superlative (Comparatif et Superlatif)",explanation:"Le comparatif compare deux \xe9l\xe9ments, le superlatif identifie le plus/moins.",structure:"Comparatif :\n\u2022 Court : adjective + -er + than : 'faster than'\n\u2022 Long : more + adjective + than : 'more efficient than'\n\nSuperlatif :\n\u2022 Court : the + adjective + -est : 'the fastest'\n\u2022 Long : the + most + adjective : 'the most efficient'\n\nExceptions : good \u2192 better/best, bad \u2192 worse/worst",examples:["This code is faster than the old one. (Ce code est plus rapide que l'ancien)","She is the most experienced developer. (Elle est la d\xe9veloppeuse la plus exp\xe9riment\xe9e)","The new version is better. (La nouvelle version est meilleure)"],commonMistakes:["\u274c 'more fast' \u2192 \u2705 'faster' (adjectif court)","\u274c 'the most fast' \u2192 \u2705 'the fastest' (adjectif court)","\u274c 'gooder' \u2192 \u2705 'better' (exception)"],tips:["Adjectifs courts (1-2 syllabes) : +er/+est","Adjectifs longs (3+ syllabes) : more/most","Exceptions importantes : good/better/best, bad/worse/worst"],vocabulary:[{word:"faster",definition:"plus rapide"},{word:"better",definition:"meilleur"},{word:"more efficient",definition:"plus efficace"},{word:"the most",definition:"le plus"}]}},B1:{conditional:{rule:"Conditional (Conditionnel)",explanation:"Le conditionnel exprime une situation hypoth\xe9tique ou une possibilit\xe9.",structure:"If + pr\xe9sent \u2192 futur\n\u2022 'If I have time, I will help' (Si j'ai le temps, j'aiderai)",examples:["If I have time, I will help you.","If you need help, I can assist you.","If the test passes, we can deploy."],commonMistakes:["\u274c 'If I will have' \u2192 \u2705 'If I have'","\u274c 'If you will need' \u2192 \u2705 'If you need'"],tips:["Dans la clause 'if', utilisez le pr\xe9sent, pas le futur","Le futur va dans la clause principale"]},passive_voice:{rule:"Passive Voice (Voix passive)",explanation:"La voix passive met l'accent sur l'action, pas sur qui la fait.",structure:"Be (conjugu\xe9) + past participle\n\u2022 'The code was reviewed' (le code a \xe9t\xe9 r\xe9vis\xe9)\n\u2022 'The app is tested' (l'app est test\xe9e)",examples:["The code was reviewed by the team.","The application is tested regularly.","The bug was fixed yesterday."],commonMistakes:["\u274c 'was review' \u2192 \u2705 'was reviewed'","\u274c 'is testing' \u2192 \u2705 'is tested'"],tips:["Utilisez la voix passive quand l'agent n'est pas important","Toujours utiliser le past participle (verbe-ed ou irr\xe9gulier)","Forme : be (conjugu\xe9) + past participle"],vocabulary:[{word:"to review",definition:"r\xe9viser, examiner"},{word:"to test",definition:"tester"},{word:"to fix",definition:"corriger, r\xe9parer"},{word:"by",definition:"par (agent dans la voix passive)"}]},past_perfect:{rule:"Past Perfect (Plus-que-parfait)",explanation:"Le past perfect exprime une action termin\xe9e avant une autre action dans le pass\xe9.",structure:"Structure affirmative :\n\u2022 Had + past participle\n\u2022 Exemple : 'I had finished' / 'She had deployed'\n\nStructure interrogative :\n\u2022 Had + sujet + past participle\n\u2022 Exemple : 'Had you finished?'\n\nStructure n\xe9gative :\n\u2022 Hadn't + past participle\n\u2022 Exemple : 'I hadn't finished'\n\nUsage : Action 1 (past perfect) \u2192 Action 2 (past simple)",examples:["I had finished the code before the meeting. (J'avais fini le code avant la r\xe9union)","She had tested the application when the bug appeared. (Elle avait test\xe9 l'application quand le bug est apparu)","Had you deployed before the deadline? (Aviez-vous d\xe9ploy\xe9 avant la date limite ?)"],commonMistakes:["\u274c 'I had finish' \u2192 \u2705 'I had finished' (past participle requis)","\u274c 'I have finished yesterday' \u2192 \u2705 'I had finished yesterday' (pass\xe9 avant pass\xe9)","\u274c 'She had deploy' \u2192 \u2705 'She had deployed' (past participle)"],tips:["Toujours past participle apr\xe8s had","Utilisez le past perfect pour l'action la plus ancienne","Indicateurs : before, after, when, by the time"],vocabulary:[{word:"before",definition:"avant"},{word:"after",definition:"apr\xe8s"},{word:"by the time",definition:"au moment o\xf9"},{word:"already",definition:"d\xe9j\xe0"}]},second_conditional:{rule:"Second Conditional (Conditionnel type 2)",explanation:"Le second conditional exprime une situation hypoth\xe9tique irr\xe9elle au pr\xe9sent ou futur.",structure:"Structure :\n\u2022 If + past simple \u2192 would/could/might + verbe base\n\u2022 Exemple : 'If I had time, I would help'\n\nInversion formelle :\n\u2022 Were + sujet \u2192 would + verbe base\n\u2022 Exemple : 'Were I you, I would test' (Si j'\xe9tais vous)",examples:["If I had more time, I would write better code. (Si j'avais plus de temps, j'\xe9crirais un meilleur code)","If she were here, she could help. (Si elle \xe9tait l\xe0, elle pourrait aider)","I would deploy if the tests passed. (Je d\xe9ploierais si les tests passaient)"],commonMistakes:["\u274c 'If I would have time' \u2192 \u2705 'If I had time' (pas de would dans la clause if)","\u274c 'If I was you' \u2192 \u2705 'If I were you' (were avec tous les sujets formel)","\u274c 'I would to help' \u2192 \u2705 'I would help' (pas de to apr\xe8s would)"],tips:["If + past simple (pas de would dans la clause if)","Would/could/might + verbe base (pas de to)","Utilis\xe9 pour situations irr\xe9elles ou hypoth\xe9tiques"],vocabulary:[{word:"would",definition:"conditionnel : je ferais"},{word:"could",definition:"pourrait"},{word:"might",definition:"pourrait (possibilit\xe9)"}]},modal_verbs:{rule:"Modal Verbs (Verbes modaux)",explanation:"Les verbes modaux expriment capacit\xe9, permission, obligation, possibilit\xe9.",structure:"Structure : Modal + verbe base (sans 'to')\n\nModaux principaux :\n\u2022 Can : capacit\xe9/permission\n\u2022 Could : capacit\xe9 pass\xe9e/politesse\n\u2022 Must : obligation forte\n\u2022 Should : conseil/obligation faible\n\u2022 May/Might : possibilit\xe9",examples:["I can code in Python. (Je peux coder en Python)","You should test the code. (Vous devriez tester le code)","We must fix this bug. (Nous devons corriger ce bug)","She could help if needed. (Elle pourrait aider si n\xe9cessaire)"],commonMistakes:["\u274c 'I can to code' \u2192 \u2705 'I can code' (pas de to apr\xe8s modal)","\u274c 'She can codes' \u2192 \u2705 'She can code' (verbe base)","\u274c 'You must to test' \u2192 \u2705 'You must test' (pas de to)"],tips:["Toujours verbe base apr\xe8s modaux (pas de -s, pas de -ing, pas de to)","Can = capacit\xe9/permission, Must = obligation forte, Should = conseil","Pas de -s \xe0 la 3e personne avec les modaux"],vocabulary:[{word:"can",definition:"pouvoir (capacit\xe9/permission)"},{word:"must",definition:"devoir (obligation forte)"},{word:"should",definition:"devoir (conseil)"},{word:"could",definition:"pourrait (capacit\xe9 pass\xe9e/politesse)"}]},technical_vocabulary:{rule:"Vocabulaire technique B1",explanation:"Vocabulaire technique interm\xe9diaire pour l'informatique.",vocabulary:[{word:"database",definition:"base de donn\xe9es"},{word:"framework",definition:"framework, cadre de travail"},{word:"API",definition:"Interface de Programmation Applicative"},{word:"backend",definition:"backend, c\xf4t\xe9 serveur"},{word:"frontend",definition:"frontend, c\xf4t\xe9 client"}],examples:["The database stores user data. (La base de donn\xe9es stocke les donn\xe9es utilisateur)","This framework is popular. (Ce framework est populaire)","The API is well documented. (L'API est bien document\xe9e)"]}},B2:{present_perfect_continuous:{rule:"Present Perfect Continuous",explanation:"Exprime une action commenc\xe9e dans le pass\xe9 et qui continue jusqu'\xe0 maintenant, avec emphase sur la dur\xe9e.",structure:"Have/Has + been + verbe-ing\n\u2022 'I have been working' (je travaille depuis...)\n\u2022 'She has been learning' (elle apprend depuis...)",examples:["I have been working on this project for three months.","She has been learning English for five years.","We have been developing this feature since January."],commonMistakes:["\u274c 'have been work' \u2192 \u2705 'have been working'","\u274c 'has been learn' \u2192 \u2705 'has been learning'"],tips:["Emphase sur la dur\xe9e/continuit\xe9","Utilisez 'for' pour une dur\xe9e, 'since' pour un point de d\xe9part"]},modal_perfect:{rule:"Modal Perfect (Could have / Should have)",explanation:"Exprime une possibilit\xe9 ou obligation dans le pass\xe9 qui ne s'est pas r\xe9alis\xe9e.",structure:"Modal + have + past participle\n\u2022 'could have been' (aurait pu \xeatre)\n\u2022 'should have done' (aurait d\xfb faire)",examples:["The vulnerability could have been prevented.","You should have tested the code first.","The bug would have been caught with better tests."],commonMistakes:["\u274c 'could has been' \u2192 \u2705 'could have been'","\u274c 'should has done' \u2192 \u2705 'should have done'"],tips:["Toujours utiliser 'have', pas 'has', apr\xe8s les modaux","Signifie 'c'\xe9tait possible, mais \xe7a n'a pas \xe9t\xe9 fait'","Could have = aurait pu, Should have = aurait d\xfb, Would have = aurait fait"],vocabulary:[{word:"could have",definition:"aurait pu"},{word:"should have",definition:"aurait d\xfb"},{word:"would have",definition:"aurait fait"},{word:"might have",definition:"aurait pu (possibilit\xe9 faible)"}]},past_perfect_continuous:{rule:"Past Perfect Continuous",explanation:"Exprime une action continue dans le pass\xe9 qui s'est termin\xe9e avant une autre action pass\xe9e.",structure:"Structure :\n\u2022 Had been + verb-ing\n\u2022 Exemple : 'I had been working' / 'She had been coding'\n\nUsage : Action continue (had been -ing) \u2192 Action 2 (past simple)",examples:["I had been coding for hours when the bug appeared. (Je codais depuis des heures quand le bug est apparu)","She had been testing the application when it crashed. (Elle testait l'application quand elle a plant\xe9)","We had been working on this feature for weeks before we released it. (Nous travaillions sur cette fonctionnalit\xe9 depuis des semaines avant de la publier)"],commonMistakes:["\u274c 'I had been work' \u2192 \u2705 'I had been working' (verbe-ing requis)","\u274c 'She had be coding' \u2192 \u2705 'She had been coding' (had + been)","\u274c 'They had being working' \u2192 \u2705 'They had been working' (had been)"],tips:["Structure : had + been + verb-ing","Emphase sur la dur\xe9e d'une action pass\xe9e","Utilis\xe9 avec 'for' (dur\xe9e) ou 'when' (moment)"],vocabulary:[{word:"for",definition:"depuis (dur\xe9e)"},{word:"when",definition:"quand"},{word:"before",definition:"avant"}]},reported_speech:{rule:"Reported Speech (Discours indirect)",explanation:"Le discours indirect rapporte ce que quelqu'un a dit sans citer ses mots exacts.",structure:"Changements de temps :\n\u2022 Present \u2192 Past : 'I work' \u2192 'He said he worked'\n\u2022 Will \u2192 Would : 'I will help' \u2192 'She said she would help'\n\u2022 Can \u2192 Could : 'I can code' \u2192 'He said he could code'\n\nVerbes introducteurs : said, told, asked, explained",examples:["He said he was working on the project. (Il a dit qu'il travaillait sur le projet)","She told me she had fixed the bug. (Elle m'a dit qu'elle avait corrig\xe9 le bug)","They asked if we could help. (Ils ont demand\xe9 si nous pouvions aider)"],commonMistakes:["\u274c 'He said he is working' \u2192 \u2705 'He said he was working' (backshift du temps)","\u274c 'She said me' \u2192 \u2705 'She told me' (told avec objet, said sans objet)","\u274c 'They asked me if did I help' \u2192 \u2705 'They asked me if I could help' (ordre normal)"],tips:["Faites le 'backshift' des temps (pr\xe9sent \u2192 pass\xe9)","Utilisez 'told' avec un objet, 'said' sans objet","Ordre normal apr\xe8s 'if' ou 'whether' dans les questions indirectes"],vocabulary:[{word:"said",definition:"a dit"},{word:"told",definition:"a dit \xe0 (avec objet)"},{word:"asked",definition:"a demand\xe9"},{word:"explained",definition:"a expliqu\xe9"}]},relative_clauses:{rule:"Relative Clauses (Propositions relatives)",explanation:"Les propositions relatives ajoutent des informations sur un nom en utilisant qui, que, o\xf9, dont.",structure:"Pronoms relatifs :\n\u2022 Who : personnes (sujet) : 'the developer who wrote this'\n\u2022 Which : choses (sujet/objet) : 'the code which runs'\n\u2022 That : personnes/choses (sujet/objet) : 'the bug that appeared'\n\u2022 Where : lieux : 'the office where I work'\n\u2022 Whose : possession : 'the developer whose code is clean'",examples:["The developer who wrote this code is experienced. (Le d\xe9veloppeur qui a \xe9crit ce code est exp\xe9riment\xe9)","This is the bug that caused the crash. (C'est le bug qui a caus\xe9 le crash)","The office where we work is modern. (Le bureau o\xf9 nous travaillons est moderne)"],commonMistakes:["\u274c 'The developer which wrote' \u2192 \u2705 'The developer who wrote' (who pour personnes)","\u274c 'The code who runs' \u2192 \u2705 'The code which/that runs' (which/that pour choses)","\u274c 'The bug who appeared' \u2192 \u2705 'The bug that/which appeared' (that/which pour choses)"],tips:["Who pour personnes (sujet), whom pour personnes (objet formel)","Which/that pour choses (sujet ou objet)","Where pour lieux, whose pour possession"],vocabulary:[{word:"who",definition:"qui (personnes)"},{word:"which",definition:"qui, que (choses)"},{word:"that",definition:"qui, que (personnes/choses)"},{word:"where",definition:"o\xf9 (lieux)"}]},technical_vocabulary:{rule:"Vocabulaire technique B2",explanation:"Vocabulaire sp\xe9cialis\xe9 avanc\xe9 pour les technologies IT.",vocabulary:[{word:"technical debt",definition:"dette technique"},{word:"deployment",definition:"d\xe9ploiement"},{word:"infrastructure",definition:"infrastructure"},{word:"automation",definition:"automatisation"},{word:"scalability",definition:"scalabilit\xe9"},{word:"microservices",definition:"microservices"}],examples:["Technical debt accumulates over time. (La dette technique s'accumule avec le temps)","The deployment was successful. (Le d\xe9ploiement a r\xe9ussi)","Infrastructure as Code automates provisioning. (L'Infrastructure as Code automatise le provisionnement)"]}},C1:{third_conditional:{rule:"Third Conditional (Conditionnel pass\xe9)",explanation:"Exprime une situation hypoth\xe9tique dans le pass\xe9 et son r\xe9sultat irr\xe9el. L'inversion avec 'Had' rend la phrase plus formelle.",structure:"Had + sujet + past participle \u2192 would have + past participle\n\u2022 'Had I known, I would have acted' (Si j'avais su, j'aurais agi)",examples:["Had the team followed best practices, the breach would not have occurred.","Had I known about the bug, I would have fixed it immediately.","Had we tested properly, the issue would have been caught."],commonMistakes:["\u274c 'If had I known' \u2192 \u2705 'Had I known' (pas de 'if')","\u274c 'would has been' \u2192 \u2705 'would have been'"],tips:["Forme formelle : 'Had' en d\xe9but de phrase (sans 'if')","Niveau C1 - Structure avanc\xe9e","Exprime un regret ou une hypoth\xe8se irr\xe9elle"],exceptions:["La forme avec 'If' est aussi correcte mais moins formelle","'If the team had followed' est \xe9quivalent mais moins \xe9l\xe9gant"]},inversion:{rule:"Inversion (Emphase)",explanation:"L'inversion de l'ordre sujet-verbe est utilis\xe9e pour mettre l'emphase, particuli\xe8rement apr\xe8s des expressions n\xe9gatives ou restrictives.",structure:"Expression restrictive + auxiliaire + sujet + verbe de base\n\u2022 'Not only did it make' (non seulement cela a rendu...)\n\u2022 'Never have I seen' (jamais je n'ai vu...)",examples:["Not only did it make the system more secure, but it also improved performance.","Never have I seen such efficient code.","Rarely do we encounter such issues.","Only then did I realize the problem."],commonMistakes:["\u274c 'Not only it made' \u2192 \u2705 'Not only did it make'","\u274c 'Never I have seen' \u2192 \u2705 'Never have I seen'"],tips:["Niveau C1 - Structure tr\xe8s formelle","Ajoutez un auxiliaire (do/does/did, have/has) apr\xe8s l'expression restrictive","Utilis\xe9 dans l'\xe9crit formel et le discours acad\xe9mique"],exceptions:["L'inversion est optionnelle avec certaines expressions","Peut \xeatre omise dans le langage informel"]},mixed_conditionals:{rule:"Mixed Conditionals (Conditionnels mixtes)",explanation:"Les conditionnels mixtes combinent diff\xe9rents temps pour exprimer des situations complexes reliant pass\xe9 et pr\xe9sent.",structure:"Type 1 : If + past perfect \u2192 would + verbe base\n\u2022 'If I had studied more, I would be better now'\n\nType 2 : If + past simple \u2192 would have + past participle\n\u2022 'If I were you, I would have tested first'",examples:["If I had fixed the bug earlier, the system would be working now. (Si j'avais corrig\xe9 le bug plus t\xf4t, le syst\xe8me fonctionnerait maintenant)","If I were more experienced, I would have caught that error. (Si j'\xe9tais plus exp\xe9riment\xe9, j'aurais attrap\xe9 cette erreur)","If we had deployed yesterday, we wouldn't have this problem today. (Si nous avions d\xe9ploy\xe9 hier, nous n'aurions pas ce probl\xe8me aujourd'hui)"],commonMistakes:["\u274c 'If I had fixed, I would be fixing' \u2192 \u2705 'If I had fixed, I would be' (temps coh\xe9rents)","\u274c 'If I were, I would have be' \u2192 \u2705 'If I were, I would have been' (past participle)"],tips:["Combinez past perfect (action pass\xe9e) avec would + base (situation pr\xe9sente)","Ou combinez past simple (situation pr\xe9sente) avec would have (action pass\xe9e)","Exprime des liens entre pass\xe9 et pr\xe9sent"],exceptions:["Ces structures sont plus rares que les conditionnels standards","Utilis\xe9es principalement dans le langage formel"]},subjunctive:{rule:"Subjunctive Mood (Subjonctif)",explanation:"Le subjonctif exprime des souhaits, des suggestions ou des situations hypoth\xe9tiques, particuli\xe8rement dans des contextes formels.",structure:"Structure :\n\u2022 It is important/recommended that + sujet + verbe base\n\u2022 I suggest/recommend that + sujet + verbe base\n\u2022 If I were you... (pas 'was')\n\nNote : Le verbe au subjonctif reste \xe0 la base, m\xeame \xe0 la 3e personne",examples:["It is important that the code be tested. (Il est important que le code soit test\xe9)","I recommend that he review the code. (Je recommande qu'il r\xe9vise le code)","If I were you, I would deploy. (Si j'\xe9tais vous, je d\xe9ploierais)","I suggest that she fix the bug. (Je sugg\xe8re qu'elle corrige le bug)"],commonMistakes:["\u274c 'It is important that he tests' \u2192 \u2705 'It is important that he test' (subjonctif)","\u274c 'If I was you' \u2192 \u2705 'If I were you' (were au subjonctif)","\u274c 'I recommend that she reviews' \u2192 \u2705 'I recommend that she review' (subjonctif)"],tips:["Verbe base m\xeame \xe0 la 3e personne au subjonctif","Were (pas was) pour tous les sujets avec 'if I were'","Utilis\xe9 apr\xe8s : suggest, recommend, important, essential, necessary"],exceptions:["Le subjonctif est souvent remplac\xe9 par l'indicatif dans le langage informel","Plus courant en anglais am\xe9ricain qu'en anglais britannique"]},advanced_modals:{rule:"Advanced Modal Verbs (Modaux avanc\xe9s)",explanation:"Utilisation avanc\xe9e des modaux pour exprimer des nuances subtiles de possibilit\xe9, obligation et probabilit\xe9.",structure:"Modaux de probabilit\xe9 :\n\u2022 Must : tr\xe8s probable (d\xe9duction)\n\u2022 Might/May : possible\n\u2022 Could : possible mais incertain\n\nModaux pass\xe9s :\n\u2022 Must have + past participle : tr\xe8s probable au pass\xe9\n\u2022 Might/May/Could have + past participle : possible au pass\xe9",examples:["The server must be down. (Le serveur doit \xeatre en panne - d\xe9duction)","She might have forgotten the meeting. (Elle a peut-\xeatre oubli\xe9 la r\xe9union)","This could be a serious bug. (Cela pourrait \xeatre un bug s\xe9rieux)","He must have fixed the code. (Il a d\xfb corriger le code - d\xe9duction pass\xe9e)"],commonMistakes:["\u274c 'She must have forget' \u2192 \u2705 'She must have forgotten' (past participle)","\u274c 'It must be a bug, I'm not sure' \u2192 \u2705 'It might be a bug' (must = certitude)","\u274c 'He can have done' \u2192 \u2705 'He could have done' (can n'a pas de pass\xe9)"],tips:["Must = tr\xe8s probable/d\xe9duction logique","Might/May = possible (might moins certain que may)","Could = possible mais moins probable que might","Must have + past participle pour d\xe9duction pass\xe9e"],exceptions:["Must pour obligation : 'You must test the code'","Must have pour d\xe9duction : 'He must have left' (il a d\xfb partir)"]},advanced_technical_vocabulary:{rule:"Vocabulaire technique avanc\xe9 C1",explanation:"Vocabulaire sp\xe9cialis\xe9 tr\xe8s avanc\xe9 et concepts complexes en IT, IA et DevOps.",vocabulary:[{word:"retrieval-augmented generation",definition:"g\xe9n\xe9ration augment\xe9e par r\xe9cup\xe9ration (RAG)"},{word:"microservices architecture",definition:"architecture microservices"},{word:"fault isolation",definition:"isolation des pannes"},{word:"observability",definition:"observabilit\xe9"},{word:"model drift",definition:"d\xe9rive du mod\xe8le"},{word:"distributed systems",definition:"syst\xe8mes distribu\xe9s"},{word:"event-driven architecture",definition:"architecture orient\xe9e \xe9v\xe9nements"}],examples:["RAG systems combine retrieval with generation. (Les syst\xe8mes RAG combinent r\xe9cup\xe9ration et g\xe9n\xe9ration)","Microservices improve fault isolation. (Les microservices am\xe9liorent l'isolation des pannes)","Observability provides deep insights into system behavior. (L'observabilit\xe9 fournit des insights profonds sur le comportement du syst\xe8me)"]}}},l=(null===o||void 0===o?void 0:o[0])||"basic_vocabulary",c=a[t]||a.B2,u=c[l]||c.basic_vocabulary,d=i?"".concat(i,"\n\n").concat(u.explanation):u.explanation;return(0,te.jsxs)(he,{sx:{mt:2},children:[(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[s?n?(0,te.jsx)(gE,{icon:(0,te.jsx)(hC,{}),label:"Bonne r\xe9ponse \u2705",color:"success"}):(0,te.jsx)(gE,{icon:(0,te.jsx)(eN,{}),label:"R\xe9ponse incorrecte \u274c",color:"error"}):(0,te.jsx)(gE,{icon:(0,te.jsx)(JN,{}),label:"Correction d\xe9taill\xe9e \ud83d\udca1",color:"info"}),(0,te.jsx)(gE,{icon:(0,te.jsx)(Ri,{}),label:"Niveau ".concat(t),variant:"outlined"})]}),(0,te.jsx)(Pe,{variant:"body1",paragraph:!0,sx:{fontWeight:"bold",fontSize:"1.1rem"},children:u.rule}),(0,te.jsx)(Pe,{variant:"body2",paragraph:!0,children:d}),u.structure&&(0,te.jsx)(he,{sx:{bgcolor:"grey.100",p:2,borderRadius:1,mb:2},children:(0,te.jsxs)(Pe,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",fontFamily:"monospace"},children:[(0,te.jsx)("strong",{children:"Structure :"}),(0,te.jsx)("br",{}),u.structure]})}),u.vocabulary&&u.vocabulary.length>0&&(0,te.jsxs)(he,{sx:{mb:2},children:[(0,te.jsx)(Pe,{variant:"subtitle2",gutterBottom:!0,children:(0,te.jsx)("strong",{children:"Vocabulaire :"})}),u.vocabulary.map((e,t)=>(0,te.jsx)(he,{sx:{mb:1},children:(0,te.jsxs)(Pe,{variant:"body2",children:["\u2022 ",(0,te.jsx)("strong",{children:e.word})," : ",e.definition]})},t))]}),u.examples&&u.examples.length>0&&(0,te.jsxs)(he,{sx:{mb:2},children:[(0,te.jsx)(Pe,{variant:"subtitle2",gutterBottom:!0,children:(0,te.jsx)("strong",{children:"Exemples :"})}),u.examples.map((e,t)=>(0,te.jsxs)(Pe,{variant:"body2",sx:{mb:.5,fontStyle:"italic"},children:['\u2022 "',e,'"']},t))]}),u.commonMistakes&&u.commonMistakes.length>0&&(0,te.jsxs)(he,{sx:{mb:2},children:[(0,te.jsx)(Pe,{variant:"subtitle2",gutterBottom:!0,children:(0,te.jsx)("strong",{children:"\u26a0\ufe0f Erreurs fr\xe9quentes :"})}),u.commonMistakes.map((e,t)=>(0,te.jsx)(Pe,{variant:"body2",sx:{mb:.5},children:e},t))]}),u.tips&&u.tips.length>0&&(0,te.jsxs)(he,{sx:{mb:2,bgcolor:"info.light",p:2,borderRadius:1},children:[(0,te.jsx)(Pe,{variant:"subtitle2",gutterBottom:!0,children:(0,te.jsx)("strong",{children:"\ud83d\udca1 Conseils :"})}),u.tips.map((e,t)=>(0,te.jsxs)(Pe,{variant:"body2",sx:{mb:.5},children:["\u2022 ",e]},t))]}),u.exceptions&&u.exceptions.length>0&&(0,te.jsxs)(he,{sx:{mb:2,bgcolor:"warning.light",p:2,borderRadius:1},children:[(0,te.jsx)(Pe,{variant:"subtitle2",gutterBottom:!0,children:(0,te.jsx)("strong",{children:"\u26a0\ufe0f Exceptions ou cas particuliers :"})}),u.exceptions.map((e,t)=>(0,te.jsxs)(Pe,{variant:"body2",sx:{mb:.5},children:["\u2022 ",e]},t))]}),(0,te.jsxs)(he,{sx:{mt:2,bgcolor:n&&s?"success.light":s?"error.light":"info.light",p:2,borderRadius:1},children:[(0,te.jsxs)(Pe,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:"bold",color:n&&s?"success.dark":"text.primary"},children:[(0,te.jsx)("strong",{children:"\u2705 Bonne r\xe9ponse :"}),' "',r,'"']}),s&&(0,te.jsxs)(Pe,{variant:"subtitle2",gutterBottom:!0,sx:{mt:1},children:[(0,te.jsx)("strong",{children:"Votre r\xe9ponse :"}),' "',s,'"',n?(0,te.jsx)(gE,{label:"\u2705 Correcte",color:"success",size:"small",sx:{ml:1}}):(0,te.jsx)(gE,{label:"\u274c Incorrecte",color:"error",size:"small",sx:{ml:1}})]}),!s&&(0,te.jsx)(Pe,{variant:"body2",sx:{mt:1,fontStyle:"italic"},children:"\ud83d\udca1 Aucune r\xe9ponse fournie. Voici la bonne r\xe9ponse avec les explications d\xe9taill\xe9es ci-dessus."})]})]})},eL=t=>{let{testId:n="toeic_b2",level:r,onComplete:o}=t;const[i,s]=(0,e.useState)(null),[a,c]=(0,e.useState)(0),[u,d]=(0,e.useState)(0),[h,p]=(0,e.useState)({}),[f,m]=(0,e.useState)({grammar:0,listening:0,total:0}),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(!1),[x]=(0,e.useState)(()=>Date.now()),[w,S]=(0,e.useState)(0),{speak:k,isSpeaking:E,stop:C}=jR(),{addResponse:A}=aE();(0,e.useEffect)(()=>{(async()=>{try{const e=await fetch("/data/toeic_toefl/toeic_all_levels.json"),t=await e.json();let o;o=r?t.tests.find(e=>e.level===r):t.tests.find(e=>e.id===n),o||(o=t.tests[0]),s(o)}catch(e){console.error("Erreur chargement test TOEIC:",e)}})()},[n,r]),(0,e.useEffect)(()=>{if(!g&&i){const e=setInterval(()=>{S(Math.floor((Date.now()-x)/1e3))},1e3);return()=>clearInterval(e)}},[g,x,i]);const I=null===i||void 0===i?void 0:i.sections[a],j=null===I||void 0===I?void 0:I.questions[u],T=(null===i||void 0===i?void 0:i.sections.reduce((e,t)=>e+t.questions.length,0))||0,_=Object.keys(h).length,R=T>0?_/T*100:0,P=()=>{if(!i)return;let e=0,t=0;i.sections.forEach(n=>{n.questions.forEach(r=>{const o=h[r.id];o&&o.toLowerCase().trim()===r.correctAnswer.toLowerCase().trim()&&("grammar"===n.id?e+=r.points:"listening"===n.id&&(t+=r.points))})});const n=e+t,r={grammar:e,listening:t,total:n};m(r),v(!0);const s=e/i.sections[0].points*100,a=t/i.sections[1].points*100,c=n/i.totalPoints*100;let u;u=c>=85&&s>=70&&a>=80?"C1":c>=70&&s>=60&&a>=70?"B2":c>=50&&s>=50&&a>=50?"B1":"A2",o&&o(l(l({},r),{},{level:u}))};if(!i)return(0,te.jsx)(he,{sx:{p:3,textAlign:"center"},children:(0,te.jsx)(Pe,{variant:"h6",children:"Chargement du test TOEIC..."})});if(g){const e=f.grammar/i.sections[0].points*100,t=f.listening/i.sections[1].points*100,n=f.total/i.totalPoints*100;let r;return r=n>=85&&e>=70&&t>=80?"C1":n>=70&&e>=60&&t>=70?"B2":n>=50&&e>=50&&t>=50?"B1":"A2",(0,te.jsx)(he,{sx:{p:3},children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsx)(Pe,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\u2705 Vos r\xe9sultats sont pr\xeats"}),(0,te.jsxs)(Ge,{container:!0,spacing:3,sx:{mb:3},children:[(0,te.jsx)(Ge,{item:!0,xs:12,md:4,children:(0,te.jsx)(rt,{variant:"outlined",children:(0,te.jsxs)(lt,{sx:{textAlign:"center"},children:[(0,te.jsx)(Pe,{variant:"h6",color:"primary",gutterBottom:!0,children:"GRAMMAIRE"}),(0,te.jsxs)(Pe,{variant:"h3",color:"primary",children:[f.grammar," / ",i.sections[0].points," pts"]}),(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",children:[e.toFixed(1),"%"]})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:4,children:(0,te.jsx)(rt,{variant:"outlined",children:(0,te.jsxs)(lt,{sx:{textAlign:"center"},children:[(0,te.jsx)(Pe,{variant:"h6",color:"success.main",gutterBottom:!0,children:"COMPREHENSION AUDIO"}),(0,te.jsxs)(Pe,{variant:"h3",color:"success.main",children:[f.listening," / ",i.sections[1].points," pts"]}),(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",children:[t.toFixed(1),"%"]})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:4,children:(0,te.jsx)(rt,{variant:"outlined",children:(0,te.jsxs)(lt,{sx:{textAlign:"center"},children:[(0,te.jsx)(Pe,{variant:"h6",color:"secondary.main",gutterBottom:!0,children:"TOTAL"}),(0,te.jsxs)(Pe,{variant:"h3",color:"secondary.main",children:[f.total," / ",i.totalPoints," pts"]}),(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",children:[n.toFixed(1),"%"]})]})})})]}),(0,te.jsx)(rt,{sx:{bgcolor:"primary.light",mb:3},children:(0,te.jsxs)(lt,{sx:{textAlign:"center"},children:[(0,te.jsx)(Pe,{variant:"h5",gutterBottom:!0,children:"NIVEAU DE LANGUE"}),(0,te.jsx)(gE,{label:r,color:"primary",sx:{fontSize:"2rem",height:"auto",py:2,px:3}})]})}),(0,te.jsxs)(he,{sx:{textAlign:"center"},children:[(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",paragraph:!0,children:["Temps total: ",Math.floor(w/60)," min ",w%60," sec"]}),(0,te.jsx)(wn,{variant:"contained",color:"primary",onClick:()=>b(!0),sx:{mt:2},children:"Voir les analyses d\xe9taill\xe9es"})]})]})})})}if(y&&i)return(0,te.jsxs)(he,{sx:{p:3},children:[(0,te.jsx)(wn,{variant:"text",onClick:()=>b(!1),sx:{mb:2},children:"\u2190 Retour aux r\xe9sultats"}),(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsx)(Pe,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\ud83d\udcca Analyses de Compr\xe9hension D\xe9taill\xe9es"}),(0,te.jsxs)(Pe,{variant:"h6",gutterBottom:!0,sx:{mb:2},children:["Test : ",i.title]}),i.sections.map((e,t)=>(0,te.jsxs)(he,{sx:{mb:4},children:[(0,te.jsx)(dN,{sx:{mb:2}}),(0,te.jsx)(Pe,{variant:"h5",gutterBottom:!0,sx:{mb:2},children:e.name}),e.questions.map((t,n)=>{const r=h[t.id],o=!(!r||!t.correctAnswer)&&r.toLowerCase().trim()===t.correctAnswer.toLowerCase().trim();return(0,te.jsx)(rt,{variant:"outlined",sx:{mb:3},children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,te.jsx)(gE,{label:"Question ".concat(n+1),color:o?"success":"error",variant:o?"filled":"outlined"}),(0,te.jsx)(gE,{label:"".concat(t.points," points"),variant:"outlined"})]}),(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:t.text}),"listening"===e.type&&t.audioText&&(0,te.jsx)(OE,{severity:"info",sx:{mb:2},children:(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Audio :"})," ",t.audioText]})}),t.options&&(0,te.jsxs)(he,{sx:{mb:2},children:[(0,te.jsx)(Pe,{variant:"subtitle2",gutterBottom:!0,children:"Options :"}),t.options.map((e,n)=>(0,te.jsxs)(Pe,{variant:"body2",sx:{p:1,mb:.5,bgcolor:e===t.correctAnswer?"success.light":e!==r||o?"grey.50":"error.light",borderRadius:1},children:[e===t.correctAnswer&&"\u2705 ",e===r&&!o&&"\u274c ",e]},n))]}),ZN({questionId:t.id,level:t.level||i.level||"B2",isCorrect:!!r&&o,questionText:t.text,userAnswer:r||"",correctAnswer:t.correctAnswer,grammarFocus:t.grammarFocus,vocabularyFocus:t.vocabularyFocus,customExplanation:t.explanation})]})},t.id)})]},e.id))]})})]});const N=j&&void 0!==h[j.id];return(0,te.jsx)(he,{sx:{p:3},children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{mb:3},children:[(0,te.jsx)(Pe,{variant:"h4",gutterBottom:!0,children:i.title}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",children:i.description})]}),(0,te.jsxs)(he,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[(0,te.jsx)(iC,{variant:"determinate",value:R,sx:{flexGrow:1,height:8,borderRadius:4}}),(0,te.jsxs)(Pe,{variant:"body2",children:[_," / ",T]}),(0,te.jsx)(gE,{icon:(0,te.jsx)(cC,{}),label:"".concat(Math.floor(w/60),":").concat(String(w%60).padStart(2,"0")),color:"primary"})]}),(0,te.jsx)(IN,{activeStep:a,sx:{mb:3},children:i.sections.map((e,t)=>(0,te.jsx)(PN,{children:(0,te.jsx)($N,{children:e.name})},e.id))}),j&&(0,te.jsx)(rt,{variant:"outlined",sx:{mb:3},children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,te.jsx)(gE,{icon:"listening"===(null===I||void 0===I?void 0:I.type)?(0,te.jsx)(RR,{}):(0,te.jsx)(aC,{}),label:"Question ".concat(u+1," / ").concat(I.questions.length),color:"primary"}),(0,te.jsx)(gE,{label:"".concat(j.points," points"),variant:"outlined"})]}),"listening"===(null===I||void 0===I?void 0:I.type)&&j.audioText&&(0,te.jsxs)(he,{sx:{mb:3,textAlign:"center"},children:[(0,te.jsx)(wn,{variant:"outlined",startIcon:E?(0,te.jsx)(ER,{}):(0,te.jsx)(RR,{}),onClick:()=>{null!==j&&void 0!==j&&j.audioText&&(E?C():k(j.audioText))},sx:{mb:2},children:E?"Arr\xeater l'audio":"\xc9couter la question"}),j.audioText&&(0,te.jsx)(OE,{severity:"info",sx:{mt:2},children:(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Audio :"})," ",j.audioText]})})]}),(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,sx:{mb:3},children:j.text}),(0,te.jsx)(kC,{component:"fieldset",fullWidth:!0,children:(0,te.jsx)(oj,{value:h[j.id]||"",onChange:e=>{return t=j.id,n=e.target.value,void p(e=>l(l({},e),{},{[t]:n}));var t,n},children:j.options.map((e,t)=>(0,te.jsx)(xj,{value:e,control:(0,te.jsx)(Bj,{}),label:e,sx:{p:2,mb:1,border:1,borderColor:"grey.300",borderRadius:2,"&:hover":{bgcolor:"grey.50"}}},t))})})]})}),(0,te.jsxs)(he,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,te.jsx)(wn,{variant:"outlined",onClick:()=>{if(u>0)d(e=>e-1);else if(a>0){c(e=>e-1);const e=i.sections[a-1];d(e.questions.length-1)}},disabled:0===a&&0===u,children:"Pr\xe9c\xe9dent"}),(0,te.jsx)(wn,{variant:"contained",onClick:()=>{j&&u<I.questions.length-1?d(e=>e+1):a<i.sections.length-1?(c(e=>e+1),d(0)):P()},disabled:!N,endIcon:_===T?(0,te.jsx)(hC,{}):void 0,children:_===T?"Terminer le test":"Suivant"})]})]})})})},tL=t=>{let{testId:n="toefl_c1",level:r,onComplete:o}=t;const[i,s]=(0,e.useState)(null),[a,c]=(0,e.useState)(0),[u,d]=(0,e.useState)(0),[h,p]=(0,e.useState)({}),[f,m]=(0,e.useState)({reading:0,listening:0,writing:0,total:0}),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(!1),[x]=(0,e.useState)(()=>Date.now()),[w,S]=(0,e.useState)(0),{speak:k,isSpeaking:E,stop:C}=jR(),{addResponse:A}=aE();(0,e.useEffect)(()=>{(async()=>{try{const e=await fetch("/data/toeic_toefl/toefl_all_levels.json"),t=await e.json();let o;o=r?t.tests.find(e=>e.level===r):t.tests.find(e=>e.id===n),o||(o=t.tests[0]),s(o)}catch(e){console.error("Erreur chargement test TOEFL:",e)}})()},[n,r]),(0,e.useEffect)(()=>{if(!g&&i){const e=setInterval(()=>{S(Math.floor((Date.now()-x)/1e3))},1e3);return()=>clearInterval(e)}},[g,x,i]);const I=null===i||void 0===i?void 0:i.sections[a],j=null===I||void 0===I?void 0:I.questions[u],T=(null===i||void 0===i?void 0:i.sections.reduce((e,t)=>e+t.questions.length,0))||0,_=Object.keys(h).length,R=T>0?_/T*100:0,P=(e,t)=>{p(n=>l(l({},n),{},{[e]:t}))},N=()=>{if(!i)return;let e=0,t=0,n=0;i.sections.forEach(r=>{r.questions.forEach(o=>{const i=h[o.id];"essay"===o.type?i&&i.length>50&&(n+=.7*o.points):i&&o.correctAnswer&&i.toLowerCase().trim()===o.correctAnswer.toLowerCase().trim()&&("reading"===r.id?e+=o.points:"listening"===r.id&&(t+=o.points))})});const r=e+t+n,s={reading:e,listening:t,writing:n,total:r};m(s),v(!0);const a=r/i.totalPoints*100;let c;c=a>=85?"C1":a>=70?"B2":a>=50?"B1":"A2",o&&o(l(l({},s),{},{level:c}))};if(!i)return(0,te.jsx)(he,{sx:{p:3,textAlign:"center"},children:(0,te.jsx)(Pe,{variant:"h6",children:"Chargement du test TOEFL..."})});if(g){const e=f.reading/i.sections[0].points*100,t=f.listening/i.sections[1].points*100,n=f.writing/i.sections[2].points*100,r=f.total/i.totalPoints*100;let o;return o=r>=85?"C1":r>=70?"B2":r>=50?"B1":"A2",(0,te.jsx)(he,{sx:{p:3},children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsx)(Pe,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\u2705 Vos r\xe9sultats sont pr\xeats"}),(0,te.jsxs)(Ge,{container:!0,spacing:3,sx:{mb:3},children:[(0,te.jsx)(Ge,{item:!0,xs:12,md:4,children:(0,te.jsx)(rt,{variant:"outlined",children:(0,te.jsxs)(lt,{sx:{textAlign:"center"},children:[(0,te.jsx)(Pe,{variant:"h6",color:"primary",gutterBottom:!0,children:"READING"}),(0,te.jsxs)(Pe,{variant:"h3",color:"primary",children:[f.reading.toFixed(1)," / ",i.sections[0].points," pts"]}),(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",children:[e.toFixed(1),"%"]})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:4,children:(0,te.jsx)(rt,{variant:"outlined",children:(0,te.jsxs)(lt,{sx:{textAlign:"center"},children:[(0,te.jsx)(Pe,{variant:"h6",color:"success.main",gutterBottom:!0,children:"LISTENING"}),(0,te.jsxs)(Pe,{variant:"h3",color:"success.main",children:[f.listening.toFixed(1)," / ",i.sections[1].points," pts"]}),(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",children:[t.toFixed(1),"%"]})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:4,children:(0,te.jsx)(rt,{variant:"outlined",children:(0,te.jsxs)(lt,{sx:{textAlign:"center"},children:[(0,te.jsx)(Pe,{variant:"h6",color:"secondary.main",gutterBottom:!0,children:"WRITING"}),(0,te.jsxs)(Pe,{variant:"h3",color:"secondary.main",children:[f.writing.toFixed(1)," / ",i.sections[2].points," pts"]}),(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",children:[n.toFixed(1),"%"]})]})})})]}),(0,te.jsx)(rt,{sx:{bgcolor:"primary.light",mb:3},children:(0,te.jsxs)(lt,{sx:{textAlign:"center"},children:[(0,te.jsxs)(Pe,{variant:"h5",gutterBottom:!0,children:["TOTAL: ",f.total.toFixed(1)," / ",i.totalPoints," pts"]}),(0,te.jsx)(Pe,{variant:"h5",gutterBottom:!0,children:"NIVEAU DE LANGUE"}),(0,te.jsx)(gE,{label:o,color:"primary",sx:{fontSize:"2rem",height:"auto",py:2,px:3}})]})}),(0,te.jsx)(he,{sx:{textAlign:"center"},children:(0,te.jsx)(wn,{variant:"contained",color:"primary",onClick:()=>b(!0),sx:{mt:2},children:"Voir les analyses d\xe9taill\xe9es"})})]})})})}if(y&&i)return(0,te.jsxs)(he,{sx:{p:3},children:[(0,te.jsx)(wn,{variant:"text",onClick:()=>b(!1),sx:{mb:2},children:"\u2190 Retour aux r\xe9sultats"}),(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsx)(Pe,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\ud83d\udcca Analyses de Compr\xe9hension D\xe9taill\xe9es"}),(0,te.jsxs)(Pe,{variant:"h6",gutterBottom:!0,sx:{mb:2},children:["Test : ",i.title]}),i.sections.map((e,t)=>(0,te.jsxs)(he,{sx:{mb:4},children:[(0,te.jsx)(dN,{sx:{mb:2}}),(0,te.jsx)(Pe,{variant:"h5",gutterBottom:!0,sx:{mb:2},children:e.name}),e.questions.map((t,n)=>{const r=h[t.id],o="essay"===t.type?!!(r&&r.length>50):!(!r||!t.correctAnswer||r.toLowerCase().trim()!==t.correctAnswer.toLowerCase().trim());return(0,te.jsx)(rt,{variant:"outlined",sx:{mb:3},children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,te.jsx)(gE,{label:"Question ".concat(n+1),color:o?"success":"error",variant:o?"filled":"outlined"}),(0,te.jsx)(gE,{label:"".concat(t.points," points"),variant:"outlined"})]}),(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:t.text}),"listening"===e.type&&t.audioText&&(0,te.jsx)(OE,{severity:"info",sx:{mb:2},children:(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Audio :"})," ",t.audioText]})}),t.options&&(0,te.jsxs)(he,{sx:{mb:2},children:[(0,te.jsx)(Pe,{variant:"subtitle2",gutterBottom:!0,children:"Options :"}),t.options.map((e,n)=>(0,te.jsxs)(Pe,{variant:"body2",sx:{p:1,mb:.5,bgcolor:e===t.correctAnswer?"success.light":e!==r||o?"grey.50":"error.light",borderRadius:1},children:[e===t.correctAnswer&&"\u2705 ",e===r&&!o&&"\u274c ",e]},n))]}),"essay"!==t.type&&ZN({questionId:t.id,level:t.level||i.level||"C1",isCorrect:!!r&&o,questionText:t.text,userAnswer:r||"",correctAnswer:t.correctAnswer||"",grammarFocus:t.grammarFocus,vocabularyFocus:t.vocabularyFocus,customExplanation:t.explanation}),"essay"===t.type&&r&&(0,te.jsxs)(he,{sx:{mt:2},children:[(0,te.jsx)(Pe,{variant:"subtitle2",gutterBottom:!0,children:(0,te.jsx)("strong",{children:"Votre r\xe9ponse :"})}),(0,te.jsx)(Pe,{variant:"body2",sx:{mb:2,p:2,bgcolor:"grey.50",borderRadius:1},children:r}),(0,te.jsx)(OE,{severity:"info",children:(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Explication :"})," ",t.explanation]})})]})]})},t.id)})]},e.id))]})})]});const L=j&&("essay"===j.type?h[j.id]&&h[j.id].length>50:void 0!==h[j.id]);return(0,te.jsx)(he,{sx:{p:3},children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{mb:3},children:[(0,te.jsx)(Pe,{variant:"h4",gutterBottom:!0,children:i.title}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",children:i.description})]}),(0,te.jsxs)(he,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[(0,te.jsx)(iC,{variant:"determinate",value:R,sx:{flexGrow:1,height:8,borderRadius:4}}),(0,te.jsxs)(Pe,{variant:"body2",children:[_," / ",T]}),(0,te.jsx)(gE,{icon:(0,te.jsx)(cC,{}),label:"".concat(Math.floor(w/60),":").concat(String(w%60).padStart(2,"0")),color:"primary"})]}),(0,te.jsx)(IN,{activeStep:a,sx:{mb:3},children:i.sections.map((e,t)=>(0,te.jsx)(PN,{children:(0,te.jsx)($N,{children:e.name})},e.id))}),j&&(0,te.jsx)(rt,{variant:"outlined",sx:{mb:3},children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,te.jsx)(gE,{icon:"listening"===(null===I||void 0===I?void 0:I.type)?(0,te.jsx)(RR,{}):"writing"===(null===I||void 0===I?void 0:I.type)?(0,te.jsx)(PR,{}):(0,te.jsx)(aC,{}),label:"Question ".concat(u+1," / ").concat(I.questions.length),color:"primary"}),(0,te.jsx)(gE,{label:"".concat(j.points," points"),variant:"outlined"})]}),"listening"===(null===I||void 0===I?void 0:I.type)&&j.audioText&&(0,te.jsxs)(he,{sx:{mb:3,textAlign:"center"},children:[(0,te.jsx)(wn,{variant:"outlined",startIcon:E?(0,te.jsx)(ER,{}):(0,te.jsx)(RR,{}),onClick:()=>{null!==j&&void 0!==j&&j.audioText&&(E?C():k(j.audioText))},sx:{mb:2},children:E?"Arr\xeater l'audio":"\xc9couter la question"}),j.audioText&&(0,te.jsx)(OE,{severity:"info",sx:{mt:2},children:(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Audio :"})," ",j.audioText]})})]}),(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,sx:{mb:3},children:j.text}),"essay"===j.type?(0,te.jsx)(rT,{fullWidth:!0,multiline:!0,rows:8,placeholder:"\xc9crivez votre r\xe9ponse ici (minimum 100 mots recommand\xe9)...",value:h[j.id]||"",onChange:e=>P(j.id,e.target.value),sx:{mb:2}}):j.options?(0,te.jsx)(kC,{component:"fieldset",fullWidth:!0,children:(0,te.jsx)(oj,{value:h[j.id]||"",onChange:e=>P(j.id,e.target.value),children:j.options.map((e,t)=>(0,te.jsx)(xj,{value:e,control:(0,te.jsx)(Bj,{}),label:e,sx:{p:2,mb:1,border:1,borderColor:"grey.300",borderRadius:2,"&:hover":{bgcolor:"grey.50"}}},t))})}):null]})}),(0,te.jsxs)(he,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,te.jsx)(wn,{variant:"outlined",onClick:()=>{if(u>0)d(e=>e-1);else if(a>0){c(e=>e-1);const e=i.sections[a-1];d(e.questions.length-1)}},disabled:0===a&&0===u,children:"Pr\xe9c\xe9dent"}),(0,te.jsx)(wn,{variant:"contained",onClick:()=>{j&&u<I.questions.length-1?d(e=>e+1):a<i.sections.length-1?(c(e=>e+1),d(0)):N()},disabled:!L,children:_===T?"Terminer le test":"Suivant"})]})]})})})},nL=ji((0,te.jsx)("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"}),"Mic"),rL=()=>/Android/i.test(navigator.userAgent),oL=()=>window.isSecureContext||"https:"===window.location.protocol||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,iL=()=>{const[t,n]=(0,e.useState)(""),[r,o]=(0,e.useState)(!1),[i,s]=(0,e.useState)(0),[a,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(!1),d=(0,e.useRef)(null),h=(0,e.useRef)(null),p="undefined"!==typeof window&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window)&&oL(),f=(0,e.useCallback)(async()=>{try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(e=>e.stop()),u(!0),l(null),!0}catch(e){return console.error("Microphone permission error:",e),"NotAllowedError"===e.name||"PermissionDeniedError"===e.name?l("Permission microphone refus\xe9e. Veuillez autoriser l'acc\xe8s au microphone."):"NotFoundError"===e.name?l("Aucun microphone d\xe9tect\xe9 sur votre appareil."):l("Erreur d'acc\xe8s au microphone."),u(!1),!1}},[]);(0,e.useEffect)(()=>{if(!p){const e=setTimeout(()=>{oL()?l("Votre navigateur ne supporte pas la reconnaissance vocale."):l("HTTPS requis pour la reconnaissance vocale. Veuillez utiliser une connexion s\xe9curis\xe9e.")},0);return()=>clearTimeout(e)}const e=new(window.SpeechRecognition||window.webkitSpeechRecognition);return e.continuous=!0,e.interimResults=!0,e.lang="en-US",e.maxAlternatives=1,rL()&&(e.continuous=!1),e.onresult=t=>{console.log("[SpeechRecognition] onresult event:",t);let o="",i="";for(let e=0;e<t.results.length;e++){const n=t.results[e][0].transcript;if(console.log("[SpeechRecognition] Transcript part:",n,"isFinal:",t.results[e].isFinal),t.results[e].isFinal){i+=n+" ";const r=t.results[e][0].confidence;s(r?Math.round(100*r):80)}else o+=n+" "}console.log("[SpeechRecognition] Final transcript:",i,"Interim:",o);n((i+o).trim()),rL()&&i&&r&&(h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{try{e.start()}catch(t){}},300))},e.onerror=e=>{switch(console.error("Speech recognition error:",e.error),e.error){case"network":l("Erreur r\xe9seau. V\xe9rifiez votre connexion Internet."),o(!1);break;case"not-allowed":l("Permission microphone refus\xe9e."),u(!1),o(!1);break;case"no-speech":console.log("[SpeechRecognition] Aucune parole d\xe9tect\xe9e, en attente...");break;case"audio-capture":l("Impossible d'acc\xe9der au microphone."),o(!1);break;case"aborted":console.log("[SpeechRecognition] Reconnaissance arr\xeat\xe9e (aborted)");break;default:l("Erreur de reconnaissance: ".concat(e.error)),o(!1)}},e.onstart=()=>{console.log("[SpeechRecognition] Recognition started (onstart event)"),l(null),o(!0)},e.onend=()=>{o(!1),h.current&&clearTimeout(h.current)},d.current=e,()=>{if(d.current)try{d.current.stop()}catch(e){}h.current&&clearTimeout(h.current)}},[p]);const m=(0,e.useCallback)(async()=>{if(console.log("[SpeechRecognition] startListening called",{hasRecognition:!!d.current,isListening:r}),!d.current||r)return void console.log("[SpeechRecognition] startListening skipped",{reason:d.current?"already listening":"no recognition"});console.log("[SpeechRecognition] Checking microphone permission...");const e=await f();if(console.log("[SpeechRecognition] Permission result:",e),e)try{try{d.current.stop()}catch(t){}await new Promise(e=>setTimeout(e,100)),console.log("[SpeechRecognition] Starting recognition..."),d.current.start(),o(!0),l(null),console.log("[SpeechRecognition] Recognition started successfully")}catch(a){if(console.error("[SpeechRecognition] Error starting recognition:",a),"InvalidStateError"===a.name)try{d.current.stop(),setTimeout(()=>{d.current.start()},200)}catch(t){l("Impossible de d\xe9marrer la reconnaissance vocale.")}else l("Erreur lors du d\xe9marrage de la reconnaissance vocale.");o(!1)}},[r,f]),g=(0,e.useCallback)(()=>{if(d.current&&r)try{d.current.stop(),o(!1)}catch(a){console.error("Error stopping recognition:",a)}h.current&&(clearTimeout(h.current),h.current=null)},[r]),v=(0,e.useCallback)(()=>{n(""),s(0),l(null)},[]);return{transcript:t,listening:r,startListening:m,stopListening:g,resetTranscript:v,browserSupportsSpeechRecognition:p,confidence:i,error:a,permissionGranted:c}},sL=t=>{let{testId:n="efset_b2",level:r,onComplete:o}=t;const[i,s]=(0,e.useState)(null),[a,c]=(0,e.useState)(0),[u,d]=(0,e.useState)(0),[h,p]=(0,e.useState)("B2"),[f,m]=(0,e.useState)({}),[g,v]=(0,e.useState)({reading:0,listening:0,writing:0,speaking:0,total:0}),[y,b]=(0,e.useState)(!1),[x,w]=(0,e.useState)(!1),[S]=(0,e.useState)(()=>Date.now()),[k,E]=(0,e.useState)(0),{speak:C,isSpeaking:A,stop:I}=jR(),{transcript:j,listening:T,startListening:_,stopListening:R}=iL(),{addResponse:P}=aE();(0,e.useEffect)(()=>{(async()=>{try{var e;const t=await fetch("/data/toeic_toefl/efset_all_levels.json"),o=await t.json();let i;i=r?o.tests.find(e=>e.level===r):o.tests.find(e=>e.id===n),i||(i=o.tests[0]),s(i),null!==(e=i.sections[0])&&void 0!==e&&e.initialLevel?p(i.sections[0].initialLevel):i.level&&p(i.level)}catch(t){console.error("Erreur chargement test EF SET:",t)}})()},[n,r]),(0,e.useEffect)(()=>{if(!y&&i){const e=setInterval(()=>{E(Math.floor((Date.now()-S)/1e3))},1e3);return()=>clearInterval(e)}},[y,S,i]);const N=(()=>{if(!i)return[];const e=i.sections[a];return e.adaptive?e.questions.filter(e=>e.level===h):e.questions})(),L=null===i||void 0===i?void 0:i.sections[a],O=N[u],M=(null===i||void 0===i?void 0:i.sections.reduce((e,t)=>t.adaptive?e+t.questions.length/2:e+t.questions.length,0))||0,D=Object.keys(f).length,z=M>0?D/M*100:0,F=(e,t)=>{if(m(n=>l(l({},n),{},{[e]:t})),O&&O.options){var n;const e=t.toLowerCase().trim()===(null===(n=O.correctAnswer)||void 0===n?void 0:n.toLowerCase().trim());null!==L&&void 0!==L&&L.adaptive&&(e&&O.nextLevel?p(O.nextLevel):!e&&O.wrongLevel&&p(O.wrongLevel))}},V=()=>{if(!i)return;let e=0,t=0,n=0,r=0;i.sections.forEach(o=>{o.questions.forEach(i=>{const s=f[i.id];"essay"===i.type||"speaking"===i.type?s&&s.length>50&&("writing"===o.id?n+=.7*i.points:"speaking"===o.id&&(r+=.7*i.points)):s&&i.correctAnswer&&s.toLowerCase().trim()===i.correctAnswer.toLowerCase().trim()&&("reading"===o.id?e+=i.points:"listening"===o.id&&(t+=i.points))})});const s=e+t+n+r,a={reading:e,listening:t,writing:n,speaking:r,total:s};v(a),b(!0);const c=s/i.totalPoints*100;let u;u=c>=85?"C1":c>=70?"B2":c>=50?"B1":"A2",o&&o(l(l({},a),{},{level:u}))};if(!i)return(0,te.jsx)(he,{sx:{p:3,textAlign:"center"},children:(0,te.jsx)(Pe,{variant:"h6",children:"Chargement du test EF SET..."})});if(y){const e=g.reading/i.sections[0].points*100,t=g.listening/i.sections[1].points*100,n=g.writing/i.sections[2].points*100,r=g.speaking/i.sections[3].points*100,o=g.total/i.totalPoints*100;let s;return s=o>=85?"C1":o>=70?"B2":o>=50?"B1":"A2",(0,te.jsx)(he,{sx:{p:3},children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsx)(Pe,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:3},children:"\u2705 Vos r\xe9sultats sont pr\xeats"}),(0,te.jsx)(Pe,{variant:"h6",align:"center",color:"text.secondary",sx:{mb:4},children:"Test EF SET - 4 Comp\xe9tences"}),(0,te.jsxs)(Ge,{container:!0,spacing:3,sx:{mb:3},children:[(0,te.jsx)(Ge,{item:!0,xs:12,md:6,children:(0,te.jsx)(rt,{variant:"outlined",children:(0,te.jsxs)(lt,{sx:{textAlign:"center"},children:[(0,te.jsx)(aC,{sx:{fontSize:40,color:"primary.main",mb:1}}),(0,te.jsx)(Pe,{variant:"h6",color:"primary",gutterBottom:!0,children:"READING"}),(0,te.jsxs)(Pe,{variant:"h3",color:"primary",children:[g.reading.toFixed(1)," / ",i.sections[0].points," pts"]}),(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",children:[e.toFixed(1),"%"]})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:6,children:(0,te.jsx)(rt,{variant:"outlined",children:(0,te.jsxs)(lt,{sx:{textAlign:"center"},children:[(0,te.jsx)(RR,{sx:{fontSize:40,color:"success.main",mb:1}}),(0,te.jsx)(Pe,{variant:"h6",color:"success.main",gutterBottom:!0,children:"LISTENING"}),(0,te.jsxs)(Pe,{variant:"h3",color:"success.main",children:[g.listening.toFixed(1)," / ",i.sections[1].points," pts"]}),(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",children:[t.toFixed(1),"%"]})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:6,children:(0,te.jsx)(rt,{variant:"outlined",children:(0,te.jsxs)(lt,{sx:{textAlign:"center"},children:[(0,te.jsx)(PR,{sx:{fontSize:40,color:"secondary.main",mb:1}}),(0,te.jsx)(Pe,{variant:"h6",color:"secondary.main",gutterBottom:!0,children:"WRITING"}),(0,te.jsxs)(Pe,{variant:"h3",color:"secondary.main",children:[g.writing.toFixed(1)," / ",i.sections[2].points," pts"]}),(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",children:[n.toFixed(1),"%"]})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:6,children:(0,te.jsx)(rt,{variant:"outlined",children:(0,te.jsxs)(lt,{sx:{textAlign:"center"},children:[(0,te.jsx)(nL,{sx:{fontSize:40,color:"warning.main",mb:1}}),(0,te.jsx)(Pe,{variant:"h6",color:"warning.main",gutterBottom:!0,children:"SPEAKING"}),(0,te.jsxs)(Pe,{variant:"h3",color:"warning.main",children:[g.speaking.toFixed(1)," / ",i.sections[3].points," pts"]}),(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",children:[r.toFixed(1),"%"]})]})})})]}),(0,te.jsx)(rt,{sx:{bgcolor:"primary.light",mb:3},children:(0,te.jsxs)(lt,{sx:{textAlign:"center"},children:[(0,te.jsx)(Pe,{variant:"h5",gutterBottom:!0,children:"NIVEAU CECR"}),(0,te.jsx)(gE,{label:s,color:"primary",sx:{fontSize:"2rem",height:"auto",py:2,px:3}}),(0,te.jsxs)(Pe,{variant:"h6",sx:{mt:2},children:["Total: ",g.total.toFixed(1)," / ",i.totalPoints," pts (",o.toFixed(1),"%)"]})]})}),(0,te.jsx)(he,{sx:{textAlign:"center"},children:(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",paragraph:!0,children:["Temps total: ",Math.floor(k/60)," min ",k%60," sec"]})})]})})})}const B=O&&("essay"===O.type||"speaking"===O.type?f[O.id]&&f[O.id].length>50:void 0!==f[O.id]);return(0,te.jsx)(he,{sx:{p:3},children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{mb:3},children:[(0,te.jsx)(Pe,{variant:"h4",gutterBottom:!0,children:i.title}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",children:i.description}),(null===L||void 0===L?void 0:L.adaptive)&&(0,te.jsx)(gE,{label:"Niveau actuel: ".concat(h),color:"info",sx:{mt:1}})]}),(0,te.jsxs)(he,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[(0,te.jsx)(iC,{variant:"determinate",value:z,sx:{flexGrow:1,height:8,borderRadius:4}}),(0,te.jsxs)(Pe,{variant:"body2",children:[D," / ~",Math.round(M)]}),(0,te.jsx)(gE,{icon:(0,te.jsx)(cC,{}),label:"".concat(Math.floor(k/60),":").concat(String(k%60).padStart(2,"0")),color:"primary"})]}),(0,te.jsx)(IN,{activeStep:a,sx:{mb:3},children:i.sections.map((e,t)=>(0,te.jsx)(PN,{children:(0,te.jsx)($N,{children:e.name})},e.id))}),O&&(0,te.jsx)(rt,{variant:"outlined",sx:{mb:3},children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(he,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,te.jsx)(gE,{icon:"listening"===(null===L||void 0===L?void 0:L.type)?(0,te.jsx)(RR,{}):"writing"===(null===L||void 0===L?void 0:L.type)?(0,te.jsx)(PR,{}):"speaking"===(null===L||void 0===L?void 0:L.type)?(0,te.jsx)(nL,{}):(0,te.jsx)(aC,{}),label:"Question ".concat(u+1," / ").concat(N.length),color:"primary"}),(0,te.jsx)(gE,{label:"".concat(O.points," points (").concat(O.level,")"),variant:"outlined"})]}),"listening"===(null===L||void 0===L?void 0:L.type)&&O.audioText&&(0,te.jsxs)(he,{sx:{mb:3,textAlign:"center"},children:[(0,te.jsx)(wn,{variant:"outlined",startIcon:A?(0,te.jsx)(ER,{}):(0,te.jsx)(RR,{}),onClick:()=>{null!==O&&void 0!==O&&O.audioText&&(A?I():C(O.audioText))},sx:{mb:2},children:A?"Arr\xeater l'audio":"\xc9couter la question"}),O.audioText&&(0,te.jsx)(OE,{severity:"info",sx:{mt:2},children:(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Audio :"})," ",O.audioText]})})]}),(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,sx:{mb:3},children:O.text}),"essay"===O.type?(0,te.jsx)(rT,{fullWidth:!0,multiline:!0,rows:8,placeholder:"\xc9crivez votre r\xe9ponse ici (minimum 150 mots recommand\xe9)...",value:f[O.id]||"",onChange:e=>F(O.id,e.target.value),sx:{mb:2}}):"speaking"===O.type?(0,te.jsxs)(he,{sx:{mb:3},children:[(0,te.jsx)(wn,{variant:T?"contained":"outlined",startIcon:(0,te.jsx)(nL,{}),onClick:()=>{T?R():_()},sx:{mb:2},color:T?"error":"primary",children:T?"Arr\xeater l'enregistrement":"Commencer \xe0 parler"}),j&&(0,te.jsx)(OE,{severity:"info",sx:{mt:2},children:(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Transcription :"})," ",j]})}),O.audioText&&(0,te.jsx)(OE,{severity:"info",sx:{mt:2},children:(0,te.jsxs)(Pe,{variant:"body2",children:[(0,te.jsx)("strong",{children:"Consigne :"})," ",O.audioText]})})]}):O.options?(0,te.jsx)(kC,{component:"fieldset",fullWidth:!0,children:(0,te.jsx)(oj,{value:f[O.id]||"",onChange:e=>F(O.id,e.target.value),children:O.options.map((e,t)=>(0,te.jsx)(xj,{value:e,control:(0,te.jsx)(Bj,{}),label:e,sx:{p:2,mb:1,border:1,borderColor:"grey.300",borderRadius:2,"&:hover":{bgcolor:"grey.50"}}},t))})}):null]})}),(0,te.jsxs)(he,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,te.jsx)(wn,{variant:"outlined",onClick:()=>{if(u>0)d(e=>e-1);else if(a>0){c(e=>e-1);const e=i.sections[a-1],t=e.adaptive?e.questions.filter(e=>e.level===h):e.questions;d(t.length-1)}},disabled:0===a&&0===u,children:"Pr\xe9c\xe9dent"}),(0,te.jsx)(wn,{variant:"contained",onClick:()=>{if(O&&u<N.length-1)d(e=>e+1);else if(a<i.sections.length-1){c(e=>e+1),d(0);const e=i.sections[a+1];e.initialLevel&&p(e.initialLevel)}else V()},disabled:!B,children:D>=M?"Terminer le test":"Suivant"})]})]})})})},aL=["A1","A2","B1","B2","C1"],lL={A1:"D\xe9butant - Compr\xe9hension et expression basiques",A2:"\xc9l\xe9mentaire - Communication simple sur des sujets familiers",B1:"Interm\xe9diaire - Communication dans des situations quotidiennes",B2:"Interm\xe9diaire sup\xe9rieur - Communication fluide sur des sujets complexes",C1:"Avanc\xe9 - Expression fluide et pr\xe9cise sur des sujets techniques"},cL={efset:"EF SET",toeic:"TOEIC",toefl:"TOEFL"},uL=t=>{let{testType:n,onSelectLevel:r,onCancel:o}=t;const[i,s]=(0,e.useState)("");return(0,te.jsxs)(HR,{open:!0,onClose:o,maxWidth:"md",fullWidth:!0,children:[(0,te.jsx)($R,{children:(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,te.jsx)(Ni,{sx:{fontSize:32,color:"primary.main"}}),(0,te.jsxs)(Pe,{variant:"h5",children:["Choisir le niveau de test ",cL[n]]})]})}),(0,te.jsxs)(nP,{children:[(0,te.jsx)(he,{sx:{mb:3},children:(0,te.jsxs)(Pe,{variant:"body1",color:"text.secondary",paragraph:!0,children:["S\xe9lectionnez le niveau CECR pour le test ",cL[n],". Le test sera adapt\xe9 \xe0 ce niveau."]})}),(0,te.jsxs)(kC,{fullWidth:!0,sx:{mb:3},children:[(0,te.jsx)(DC,{id:"level-select-label",children:"Niveau CECR"}),(0,te.jsx)(FI,{labelId:"level-select-label",id:"level-select",value:i,label:"Niveau CECR",onChange:e=>s(e.target.value),children:aL.map(e=>(0,te.jsx)(KI,{value:e,children:(0,te.jsxs)(he,{children:[(0,te.jsxs)(Pe,{variant:"body1",fontWeight:"bold",children:["Niveau ",e]}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",children:lL[e]})]})},e))})]}),i&&(0,te.jsx)(rt,{variant:"outlined",sx:{bgcolor:"grey.50"},children:(0,te.jsxs)(lt,{children:[(0,te.jsxs)(Pe,{variant:"h6",gutterBottom:!0,children:["Niveau ",i," s\xe9lectionn\xe9"]}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",children:lL[i]})]})}),(0,te.jsxs)(he,{sx:{mt:3},children:[(0,te.jsx)(Pe,{variant:"subtitle2",gutterBottom:!0,children:"Niveaux disponibles :"}),(0,te.jsx)(he,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:aL.map(e=>(0,te.jsx)(gE,{label:"".concat(e," - ").concat(lL[e].split(" - ")[1]),onClick:()=>s(e),color:i===e?"primary":"default",variant:i===e?"filled":"outlined"},e))})]})]}),(0,te.jsxs)(aP,{children:[o&&(0,te.jsx)(wn,{onClick:o,color:"inherit",children:"Annuler"}),(0,te.jsxs)(wn,{onClick:()=>{i&&r(i)},variant:"contained",disabled:!i,children:["Commencer le test niveau ",i]})]})]})};function dL(e){return ae("MuiSwitch",e)}const hL=le("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),pL=["className","color","edge","size","sx"],fL=ye("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t["edge".concat(Ce(n.edge))],t["size".concat(Ce(n.size))]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,["& .".concat(hL.thumb)]:{width:16,height:16},["& .".concat(hL.switchBase)]:{padding:4,["&.".concat(hL.checked)]:{transform:"translateX(16px)"}}}}]}),mL=ye(Aj,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{["& .".concat(hL.input)]:t.input},"default"!==n.color&&t["color".concat(Ce(n.color))]]}})(e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:"".concat("light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]),transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),["&.".concat(hL.checked)]:{transform:"translateX(20px)"},["&.".concat(hL.disabled)]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:"".concat("light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600])},["&.".concat(hL.checked," + .").concat(hL.track)]:{opacity:.5},["&.".concat(hL.disabled," + .").concat(hL.track)]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:"".concat("light"===t.palette.mode?.12:.2)},["& .".concat(hL.input)]:{left:"-100%",width:"300%"}}},e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,v.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(hL.checked)]:{color:(t.vars||t).palette[n].main,"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,v.X4)(t.palette[n].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(hL.disabled)]:{color:t.vars?t.vars.palette.Switch["".concat(n,"DisabledColor")]:"".concat("light"===t.palette.mode?(0,v.a)(t.palette[n].main,.62):(0,v.e$)(t.palette[n].main,.55))}},["&.".concat(hL.checked," + .").concat(hL.track)]:{backgroundColor:(t.vars||t).palette[n].main}}}})]}}),gL=ye("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}}),vL=ye("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}}),yL=e.forwardRef(function(e,t){const n=ke({props:e,name:"MuiSwitch"}),{className:r,color:o="primary",edge:i=!1,size:s="medium",sx:a}=n,l=(0,u.A)(n,pL),d=(0,c.A)({},n,{color:o,edge:i,size:s}),h=(e=>{const{classes:t,edge:n,size:r,color:o,checked:i,disabled:s}=e,a=pe({root:["root",n&&"edge".concat(Ce(n)),"size".concat(Ce(r))],switchBase:["switchBase","color".concat(Ce(o)),i&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},dL,t);return(0,c.A)({},t,a)})(d),p=(0,te.jsx)(vL,{className:h.thumb,ownerState:d});return(0,te.jsxs)(fL,{className:Q(h.root,r),sx:a,ownerState:d,children:[(0,te.jsx)(mL,(0,c.A)({type:"checkbox",icon:p,checkedIcon:p,ref:t,ownerState:d},l,{classes:(0,c.A)({},h,{root:h.switchBase})})),(0,te.jsx)(gL,{className:h.track,ownerState:d})]})}),bL=yL,xL=ji((0,te.jsx)("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"}),"Pause"),wL=(()=>{const e="http://localhost:5001/api";return e?e.replace(/\/$/,""):"https://backend.learning-english.iaproject.fr"})(),SL=e=>{const t=e.startsWith("/")?e:"/".concat(e);return wL?"".concat(wL).concat(t):t};console.log("[API Config] Configuration charg\xe9e:",{baseUrl:wL||"(proxy local)",environment:"production",reactAppApiUrl:"http://localhost:5001/api"});const kL="tts_cache_",EL=6048e5;const CL=new class{constructor(){this.apiEndpoint=SL("/api/text-to-speech")}getCacheKey(e,t,n){const r="".concat(e,"_").concat(t,"_").concat(n||"default");return kL+btoa(r).substring(0,50)}getCachedAudio(e){try{const t=localStorage.getItem(e);if(!t)return null;const n=JSON.parse(t);return Date.now()-n.timestamp>EL?(localStorage.removeItem(e),null):n.url}catch(t){return console.error("[TTS] Erreur lecture cache:",t),null}}setCachedAudio(e,t){try{const n={url:t,timestamp:Date.now()};localStorage.setItem(e,JSON.stringify(n))}catch(n){console.error("[TTS] Erreur \xe9criture cache:",n)}}cleanCache(){try{const e=Object.keys(localStorage),t=Date.now();e.forEach(e=>{if(e.startsWith(kL)){const n=localStorage.getItem(e);if(n){const r=JSON.parse(n);t-r.timestamp>EL&&localStorage.removeItem(e)}}})}catch(e){console.error("[TTS] Erreur nettoyage cache:",e)}}async synthesize(e){const{text:t,lang:n="en-US",voice:r,rate:o=1,pitch:i=0}=e,s=this.getCacheKey(t,n,r),a=this.getCachedAudio(s);if(a)return console.log("[TTS] Audio trouv\xe9 dans le cache"),a;console.log("[TTS] Appel \xe0 Google Cloud TTS avec:",{textLength:t.length,lang:n,voice:r||"d\xe9faut (s\xe9lection automatique)",rate:o,pitch:i});try{const e={text:t,languageCode:n,voiceName:r,speakingRate:o,pitch:i};console.log("[TTS] Requ\xeate envoy\xe9e au backend:",JSON.stringify(e,null,2));const a=await fetch(this.apiEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){const e=(await a.json().catch(()=>({}))).message||"TTS API error: ".concat(a.status);if(503===a.status)return console.warn("[TTS] Service TTS non disponible:",e),null;throw new Error(e)}const l=await a.json(),c="data:audio/mp3;base64,".concat(l.audioContent);return this.setCachedAudio(s,c),console.log("[TTS] Audio g\xe9n\xe9r\xe9 avec succ\xe8s"),c}catch(l){if(console.error("[TTS] Erreur lors de la g\xe9n\xe9ration:",l),l.message&&l.message.includes("503"))return null;throw l}}async getVoices(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US";try{const t=await fetch("".concat(this.apiEndpoint,"/voices?lang=").concat(e));if(!t.ok)throw new Error("Voices API error: ".concat(t.status));return await t.json()}catch(t){return console.error("[TTS] Erreur r\xe9cup\xe9ration voix:",t),[]}}};CL.cleanCache();const AL=new class{constructor(){this.GRAMMAR_PATTERNS=[{pattern:/\b(he|she|it)\s+(go|have|do|say)\b/gi,correction:e=>{const[t,n]=e.toLowerCase().split(/\s+/);return"".concat(t," ").concat(this.conjugateThirdPerson(n))},type:"subject_verb_agreement",explanation:"Avec he/she/it, il faut ajouter -s/-es au verbe au pr\xe9sent simple.",exceptions:["Verbes modaux (can, must, should) ne prennent jamais de -s",'Verbe "to be" : he is, she is, it is']},{pattern:/\b(I|you|we|they)\s+(goes|has|does|says)\b/gi,correction:e=>{const[t,n]=e.toLowerCase().split(/\s+/);return"".concat(t," ").concat(this.removeThirdPersonS(n))},type:"subject_verb_agreement",explanation:"Avec I/you/we/they, le verbe ne prend pas de -s au pr\xe9sent simple.",exceptions:['Sauf avec "have" qui devient "have" pour I/you/we/they']},{pattern:/\b(a)\s+([aeiou]\w+)\b/gi,correction:e=>e.replace(/^a\s+/i,"an "),type:"article",explanation:'Utilisez "an" devant un mot commen\xe7ant par une voyelle (a, e, i, o, u).',exceptions:['Exception : "a university" (son de "you"), "a European" (son de "eu")']},{pattern:/\b(an)\s+([bcdfghjklmnpqrstvwxyz]\w+)\b/gi,correction:e=>e.replace(/^an\s+/i,"a "),type:"article",explanation:'Utilisez "a" devant un mot commen\xe7ant par une consonne.',exceptions:['Exception : "an hour" (h muet), "an honest person"']},{pattern:/\bmuch\s+(people|things|cars|books)\b/gi,correction:e=>e.replace(/much/i,"many"),type:"quantifier",explanation:'"Much" s\'utilise avec les noms ind\xe9nombrables. Pour les noms d\xe9nombrables, utilisez "many".',exceptions:["Much water, much time (ind\xe9nombrables) vs many cars, many people (d\xe9nombrables)"]},{pattern:/\bmany\s+(water|money|information|time)\b/gi,correction:e=>e.replace(/many/i,"much"),type:"quantifier",explanation:'"Many" s\'utilise avec les noms d\xe9nombrables. Pour les noms ind\xe9nombrables, utilisez "much".',exceptions:[]},{pattern:/\bdidn't\s+(went|had|was|were|did)\b/gi,correction:e=>{const t=e.split(/\s+/)[1];return"didn't ".concat(this.getBaseForm(t))},type:"double_negative",explanation:'Apr\xe8s "didn\'t", utilisez la forme de base du verbe (infinitif sans "to").',exceptions:["didn't go (pas \"didn't went\")","didn't have (pas \"didn't had\")"]},{pattern:/\b(\w+)\s+(\w+\s+)?\1\b/gi,correction:e=>{const t=e.toLowerCase().split(/\s+/).filter(e=>e.length>0);if(t.length<2)return e;const n=t[0];return t.filter((e,t)=>0===t||e!==n).join(" ")},type:"word_repetition",explanation:"Vous avez r\xe9p\xe9t\xe9 le m\xeame mot. V\xe9rifiez votre phrase.",exceptions:[]},{pattern:/\b(me|you|him|her|us|them|it)\s+\w+\s+\1\b/gi,correction:e=>{const t=e.toLowerCase().split(/\s+/),n=t[0];return t.filter((e,t)=>0===t||e!==n).join(" ")},type:"pronoun_repetition",explanation:"Vous avez r\xe9p\xe9t\xe9 le m\xeame pronom. V\xe9rifiez votre phrase.",exceptions:[]},{pattern:/\b(projek|projec|proj|projeckt)\b/gi,correction:()=>"project",type:"spelling",explanation:'L\'orthographe correcte est "project".',exceptions:[]},{pattern:/\b(call|ask|tell|give)\s+(you|he|she|it|they)\s+(update|provide|give|send)\b/gi,correction:e=>{const t=e.toLowerCase().split(/\s+/),n=t[0],r=(t[1],t[2]);return"call"===n&&"update"===r?"call me to update":"".concat(n," me to ").concat(r)},type:"sentence_structure",explanation:'La structure de la phrase est incorrecte. Utilisez "call me to update" ou "update me".',exceptions:[]},{pattern:/\b(call)\s+(provide|give|send|show|update)\b/gi,correction:e=>{const t=e.toLowerCase().split(/\s+/)[1];return"please ".concat(t)},type:"sentence_structure",explanation:'La structure est incorrecte. Utilisez "please [verb]" ou "could you please [verb]".',exceptions:[]},{pattern:/\b(can you|could you)\s+(call)\s+(provide|give|send|show|update)\b/gi,correction:e=>{const t=e.toLowerCase().split(/\s+/)[3];return"could you please ".concat(t)},type:"sentence_structure",explanation:'La structure est incorrecte. Utilisez "could you please [verb]" sans "call".',exceptions:[]},{pattern:/\b(call)\s+(you)\b/gi,correction:()=>"call me",type:"pronoun_error",explanation:'Utilisez "call me" pour dire que vous allez appeler quelqu\'un, ou "I\'ll call you" pour dire que vous allez l\'appeler.',exceptions:[]},{pattern:/\b(call)\s+(you)\s+\w+/gi,correction:e=>{const t=e.toLowerCase().split(/\s+/)[2];return"call me to ".concat(t)},type:"sentence_structure",explanation:'La structure est incorrecte. Utilisez "call me to [verb]" ou "I\'ll call you to [verb]".',exceptions:[]},{pattern:/\b(provide|give|send|show)\s+with\s+(me|you|him|her|us|them|it)\b/gi,correction:e=>{const t=e.toLowerCase().split(/\s+/),n=t[0],r=t[2];return"".concat(n," ").concat(r)},type:"preposition_error",explanation:'Utilisez "provide me" ou "provide me with" (pas "provide with me").',exceptions:[]},{pattern:/\b(provide|give|send|show)\s+(with)\s+(me|you|him|her|us|them|it)\b/gi,correction:e=>{const t=e.toLowerCase().split(/\s+/),n=t[0],r=t[2];return"".concat(n," ").concat(r)},type:"preposition_error",explanation:'L\'ordre est incorrect. Utilisez "provide me" ou "provide me with".',exceptions:[]},{pattern:/\b(provide|give|send|show)\s+(me|you|him|her|us|them|it)\s+with\s+(me|you|him|her|us|them|it)\b/gi,correction:e=>{const t=e.toLowerCase().split(/\s+/),n=t[0],r=t[1];return r===t[3]?"".concat(n," ").concat(r):e},type:"redundant_preposition",explanation:'Vous avez r\xe9p\xe9t\xe9 le pronom apr\xe8s "with". Utilisez simplement "provide me" ou "give me".',exceptions:[]},{pattern:/\b(provide|give|send|show)\s+(me|you|him|her|us|them|it)\s+and\s+(a|an|the)\s+\w+/gi,correction:e=>{const t=e.toLowerCase().split(/\s+/),n=t[0],r=t[1],o=t[3],i=t.slice(4).join(" ");return"".concat(n," ").concat(r," with ").concat(o," ").concat(i)},type:"missing_preposition",explanation:'Il manque "with" apr\xe8s le pronom. Utilisez "provide me with a date" (pas "provide me and a date").',exceptions:[]},{pattern:/\b(provide|give|send|show)\s+(me|you|him|her|us|them|it)\s+and\s+\w+/gi,correction:e=>{const t=e.toLowerCase().split(/\s+/),n=t[0],r=t[1],o=t.slice(3).join(" ");return"".concat(n," ").concat(r," with ").concat(o)},type:"missing_preposition",explanation:'Il manque "with" apr\xe8s le pronom. Utilisez "provide me with [something]" (pas "provide me and [something]").',exceptions:[]},{pattern:/\b(with|for|about)\s+(when the date|when a date|when date|the date|a date)\s+(on|about|for)\b/gi,correction:e=>{const t=e.toLowerCase().split(/\s+/),n=t[0],r=t[t.length-1];return"".concat(n," an update ").concat(r)},type:"word_choice",explanation:'Dans un contexte professionnel, utilisez "an update" plut\xf4t que "the date".',exceptions:[]},{pattern:/\b(remind|tell|ask)\s+(me|you|him|her|us|them)\s+(weave|wave|waive)\b/gi,correction:e=>{const t=e.toLowerCase().split(/\s+/)[1];return"please give ".concat(t)},type:"word_recognition",explanation:"Il semble y avoir une erreur de reconnaissance vocale. V\xe9rifiez la phrase.",exceptions:[]},{pattern:/\b(on|about|for)\s+(a)\s+(project|task|work|job|meeting|call|update|progress|status|report)\b/gi,correction:e=>{const t=e.toLowerCase().split(/\s+/),n=t[0],r=t[2];return"".concat(n," the ").concat(r)},type:"article_error",explanation:'Utilisez "the" plut\xf4t que "a" pour parler d\'un projet ou d\'une t\xe2che sp\xe9cifique.',exceptions:[]},{pattern:/\b(on|about|for)\s+(project|task|work|job|meeting|call|update)\s+(progress|update|status|report|information|details)/gi,correction:e=>{const t=e.toLowerCase().split(/\s+/),n=t[0],r=t[1],o=t.slice(2).join(" ");return"".concat(n," the ").concat(r," ").concat(o)},type:"missing_article",explanation:'Il manque l\'article "the" avant le nom. Utilisez "on the project progress" ou "about the project progress".',exceptions:[]},{pattern:/\b(to|for|with|at|in|on)\s+\1\b/gi,correction:e=>e.toLowerCase().split(/\s+/)[0],type:"preposition_repetition",explanation:"Vous avez r\xe9p\xe9t\xe9 la m\xeame pr\xe9position. V\xe9rifiez votre phrase.",exceptions:[]},{pattern:/\b(and|or|but)\s+\1\b/gi,correction:e=>e.toLowerCase().split(/\s+/)[0],type:"conjunction_repetition",explanation:"Vous avez r\xe9p\xe9t\xe9 la m\xeame conjonction. Utilisez-la une seule fois.",exceptions:[]},{pattern:/\b(the|a|an)\s+\1\b/gi,correction:e=>e.toLowerCase().split(/\s+/)[0],type:"article_repetition",explanation:"Vous avez r\xe9p\xe9t\xe9 le m\xeame article. Utilisez-le une seule fois.",exceptions:[]},{pattern:/\b(recieve|recieved|recieving)\b/gi,correction:e=>e.replace(/recieve/gi,"receive").replace(/recieved/gi,"received").replace(/recieving/gi,"receiving"),type:"spelling",explanation:'L\'orthographe correcte est "receive" (i avant e sauf apr\xe8s c).',exceptions:[]},{pattern:/\b(seperate|seperated|seperating)\b/gi,correction:e=>e.replace(/seperate/gi,"separate").replace(/seperated/gi,"separated").replace(/seperating/gi,"separating"),type:"spelling",explanation:'L\'orthographe correcte est "separate" (a, pas e).',exceptions:[]},{pattern:/\b(definately|definately|definetly)\b/gi,correction:()=>"definitely",type:"spelling",explanation:'L\'orthographe correcte est "definitely".',exceptions:[]},{pattern:/\b(accomodate|accomodation)\b/gi,correction:e=>e.replace(/accomodate/gi,"accommodate").replace(/accomodation/gi,"accommodation"),type:"spelling",explanation:'L\'orthographe correcte est "accommodate" (double m et double c).',exceptions:[]}]}async analyzeSpeaking(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"B1";if(!e||0===e.trim().length)return{originalTranscript:e,errors:[],score:0,fluencyScore:0,grammarScore:0,pronunciationScore:0,feedback:"Aucune parole d\xe9tect\xe9e. Veuillez r\xe9essayer.",recommendations:["Parlez plus fort et plus clairement","V\xe9rifiez votre microphone"],suggestedExercises:[]};const r=this.detectGrammarErrors(e),o=this.generateCorrectedSentence(e,r),i=this.calculateGrammarScore(r,e),s=this.calculatePronunciationScore(t),a=this.calculateFluencyScore(e,t),l=(i+s+a)/3,c=this.generateFeedback(l,r,e),u=this.generateRecommendations(r,a,s),d=this.generateSpeakingExercises(r,n);return{originalTranscript:e,correctedSentence:o!==e?o:void 0,errors:r,score:Math.round(l),fluencyScore:Math.round(a),grammarScore:Math.round(i),pronunciationScore:Math.round(s),feedback:c,recommendations:u,suggestedExercises:d}}detectGrammarErrors(e){const t=[],n=new Set;return[...this.GRAMMAR_PATTERNS].sort((e,t)=>{const n=(e.pattern.toString().match(/\\b/g)||[]).length;return(t.pattern.toString().match(/\\b/g)||[]).length-n}).forEach(r=>{const o=new RegExp(r.pattern);let i;const s=e;let a=0;for(o.lastIndex=0;null!==(i=o.exec(s))&&(i.index!==a||0!==i[0].length);){a=i.index;const e=i[0],o=r.correction(e),s="".concat(i.index,"-").concat(i.index+e.length);n.has(s)||e.toLowerCase()!==o.toLowerCase()&&(t.push({type:r.type,original:e,corrected:o,explanation:r.explanation,exceptions:r.exceptions,severity:this.determineSeverity(r.type),position:{start:i.index,end:i.index+e.length}}),n.add(s))}}),t}generateCorrectedSentence(e,t){let n=e;return[...t].sort((e,t)=>t.position.start-e.position.start).forEach(e=>{n=n.substring(0,e.position.start)+e.corrected+n.substring(e.position.end)}),n}calculateGrammarScore(e,t){if(0===e.length)return 100;const n=t.split(/\s+/).length,r={high:20,medium:12,low:6},o=e.reduce((e,t)=>e+r[t.severity],0),i=o/n*100+(e.length>1?5*(e.length-1):0);return Math.max(0,Math.round(100-i))}calculatePronunciationScore(e){return e}calculateFluencyScore(e,t){const n=e.split(/\s+/).length;return.3*Math.min(100,n/10*100)+.4*t+.3*this.calculateComplexity(e)}calculateComplexity(e){let t=50;return/\b(and|but|or|because|although|however|while)\b/i.test(e)&&(t+=20),/\b(have been|has been|will have|would have|could have)\b/i.test(e)&&(t+=20),(e.match(/,/g)||[]).length>0&&(t+=10),Math.min(100,t)}generateFeedback(e,t,n){if(e>=90)return"Excellent ! Votre expression orale est tr\xe8s claire et grammaticalement correcte. Continuez \xe0 ce niveau.";if(e>=75){const e=t[0];return"Tr\xe8s bien ! Quelques petites am\xe9liorations possibles, notamment sur : ".concat(null===e||void 0===e?void 0:e.type.replace(/_/g," "),". ").concat(null===e||void 0===e?void 0:e.explanation)}return e>=60?'Bon effort ! Concentrez-vous sur l"am\xe9lioration de '.concat(t.length," points grammaticaux. Voyez les explications ci-dessous."):e>=40?"Vous progressez. Il y a plusieurs points \xe0 am\xe9liorer. Pratiquez les exercices sugg\xe9r\xe9s pour renforcer vos bases.":"Continuez \xe0 pratiquer ! La grammaire de base n\xe9cessite plus d'attention. Commencez par les exercices de niveau A2."}generateRecommendations(e,t,n){const r=[];if(e.length>0){new Set(e.map(e=>e.type)).forEach(e=>{r.push("R\xe9visez les r\xe8gles de : ".concat(e.replace(/_/g," ")))})}return t<60&&r.push("Pratiquez en parlant plus longuement pour am\xe9liorer votre fluidit\xe9"),n<70&&r.push("Travaillez votre prononciation en r\xe9p\xe9tant apr\xe8s des locuteurs natifs"),0===r.length&&r.push("Excellent travail ! Essayez des exercices de niveau sup\xe9rieur"),r.slice(0,5)}generateSpeakingExercises(e,t){const n=[],r=new Set(e.map(e=>e.type));let o=0;for(r.forEach(e=>{const r=this.createExerciseForErrorType(e,t,o);r&&(n.push(r),o++)});n.length<3;)n.push(this.createGeneralExercise(t,n.length));return n.slice(0,5)}createExerciseForErrorType(e,t,n){const r={subject_verb_agreement:{type:"grammar",title:"Concordance sujet-verbe",prompt:'D\xe9crivez votre routine quotidienne en utilisant he/she pour parler d\'une personne. Exemple: "She works from 9 to 5."',focusAreas:["third person singular","present simple"]},article:{type:"grammar",title:"Articles a/an",prompt:'\xc9num\xe9rez 5 objets dans votre pi\xe8ce en utilisant "a" ou "an". Exemple: "I see an apple and a book."',focusAreas:["indefinite articles","pronunciation"]},quantifier:{type:"grammar",title:"Quantificateurs much/many",prompt:'D\xe9crivez ce que vous avez dans votre cuisine en utilisant "much" et "many". Exemple: "I have many apples but not much milk."',focusAreas:["countable/uncountable nouns","quantifiers"]},double_negative:{type:"grammar",title:"N\xe9gation au pass\xe9",prompt:'Racontez ce que vous n\'avez pas fait hier en utilisant "didn\'t". Exemple: "I didn\'t go to the gym yesterday."',focusAreas:["past simple negative","base form"]}}[e];return r?{id:"speaking_".concat(e,"_").concat(t,"_").concat(n),level:t,type:r.type,title:r.title,prompt:r.prompt,duration:this.getDurationForLevel(t),difficulty:this.getDifficultyForLevel(t),focusAreas:r.focusAreas}:null}createGeneralExercise(e,t){const n=[{type:"fluency",title:"Description libre",prompt:"D\xe9crivez votre journ\xe9e id\xe9ale en d\xe9tail. Parlez pendant au moins 30 secondes.",focusAreas:["fluency","vocabulary","present simple"]},{type:"pronunciation",title:"Prononciation des verbes irr\xe9guliers",prompt:"Conjuguez ces verbes au pass\xe9 \xe0 voix haute: go, see, eat, take, make",focusAreas:["irregular verbs","past simple","pronunciation"]},{type:"vocabulary",title:"Vocabulaire technique IT",prompt:"Expliquez ce qu'est le cloud computing comme si vous parliez \xe0 quelqu'un qui ne conna\xeet pas l'informatique.",focusAreas:["technical vocabulary","explanation skills"]}],r=n[t%n.length];return l(l({id:"speaking_general_".concat(e,"_").concat(t),level:e},r),{},{duration:this.getDurationForLevel(e),difficulty:this.getDifficultyForLevel(e)})}conjugateThirdPerson(e){const t=e.toLowerCase();return t.endsWith("y")&&!/[aeiou]y$/.test(t)?t.slice(0,-1)+"ies":t.endsWith("s")||t.endsWith("sh")||t.endsWith("ch")||t.endsWith("x")||t.endsWith("o")?t+"es":t+"s"}removeThirdPersonS(e){const t=e.toLowerCase();return t.endsWith("ies")?t.slice(0,-3)+"y":t.endsWith("es")?t.slice(0,-2):t.endsWith("s")?t.slice(0,-1):t}getBaseForm(e){return{went:"go",had:"have",was:"be",were:"be",did:"do"}[e.toLowerCase()]||e}determineSeverity(e){return["subject_verb_agreement","double_negative","sentence_structure","pronoun_repetition","word_repetition"].includes(e)?"high":["article","quantifier","redundant_preposition","spelling"].includes(e)?"medium":["preposition_repetition","conjunction_repetition","article_repetition"].includes(e)?"low":"medium"}getDurationForLevel(e){return{A1:20,A2:30,B1:45,B2:60,C1:90}[e]||30}getDifficultyForLevel(e){return{A1:1,A2:2,B1:3,B2:4,C1:5}[e]||3}};const IL=new class{constructor(){this.apiEndpoint=SL("/api/conversation"),this.translationEndpoint=SL("/api/translation"),this.conversationHistory=[]}initializeConversation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"B1";this.conversationHistory=[{role:"system",content:"You are a friendly and supportive English teacher and conversation coach. Your student is at ".concat(e," level.\n- Always respond in English\n- Be encouraging and patient\n- Correct errors gently and explain them clearly\n- Keep responses concise (2-3 sentences)\n- Ask follow-up questions to keep the conversation going\n- If the student asks to translate something, provide the translation and explain the grammar"),timestamp:Date.now()}]}async sendMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"B1",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;try{this.conversationHistory.push({role:"user",content:e,timestamp:Date.now(),errors:n});const o=await fetch(this.apiEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:this.conversationHistory,level:t,userMessage:e,errors:n||[],explanationLevel:r||5})});if(!o.ok)throw new Error("HTTP error! status: ".concat(o.status));const i=await o.json();if(!i.success)throw new Error(i.error||"Erreur lors de la conversation");return this.conversationHistory.push({role:"assistant",content:i.message,timestamp:Date.now(),corrections:i.corrections}),{success:!0,message:i.message,explanation:i.explanation,corrections:i.corrections,correctedText:i.correctedText}}catch(o){return console.error("[ConversationService] Erreur:",o),{success:!1,message:"",error:o.message||"Erreur lors de la conversation"}}}async translate(e,t,n){try{const r=await fetch(this.translationEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,sourceLanguage:n||("en"===t?"fr":"en"),targetLanguage:t})});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));const o=await r.json();if(!o.success)throw new Error(o.error||"Erreur lors de la traduction");return{success:!0,translatedText:o.translatedText,sourceLanguage:o.sourceLanguage,targetLanguage:o.targetLanguage}}catch(r){return console.error("[ConversationService] Erreur traduction:",r),{success:!1,translatedText:"",sourceLanguage:n||("en"===t?"fr":"en"),targetLanguage:t,error:r.message||"Erreur lors de la traduction"}}}async requestCorrection(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"B1";const r='The student said: "'.concat(e,'"\n\nErrors found: ').concat(t.length,"\n").concat(t.map((e,t)=>"".concat(t+1,'. "').concat(e.original,'" \u2192 "').concat(e.corrected,'" (').concat(e.type,")")).join("\n"),"\n\nPlease:\n1. Provide a gentle correction\n2. Explain the main errors clearly\n3. Give encouragement\n4. Suggest how to improve\n\nKeep it concise (3-4 sentences).");return this.sendMessage(r,n,t)}resetHistory(){this.conversationHistory=[]}getHistory(){return[...this.conversationHistory]}},jL=t=>{let{level:n="B1",onComplete:r}=t;const{transcript:o,listening:i,startListening:s,stopListening:a,resetTranscript:c,browserSupportsSpeechRecognition:u,confidence:d,error:h,permissionGranted:p}=iL(),[f,m]=(0,e.useState)(!1),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(!1),[x,w]=(0,e.useState)(!1),[S,k]=(0,e.useState)(!1),[E,C]=(0,e.useState)(null),[A,I]=(0,e.useState)([]),[j,T]=(0,e.useState)([]),[_,R]=(0,e.useState)(!0),[P,N]=(0,e.useState)(!0),[L,O]=(0,e.useState)(!0),[M,D]=(0,e.useState)(5),[z,F]=(0,e.useState)(null),[V,B]=(0,e.useState)({totalSentences:0,totalErrors:0,averageScore:0,duration:0,improvements:[]}),U=(0,e.useRef)(0),q=(0,e.useRef)(""),W=(0,e.useRef)(!1),H=(0,e.useRef)(null),G=(0,e.useRef)(null),K=(0,e.useCallback)(async()=>{if(u)try{c(),I([]),C(null),T([]),F(null),U.current=Date.now(),B({totalSentences:0,totalErrors:0,averageScore:0,duration:0,improvements:[]}),L&&IL.initializeConversation(n);const e=L?"Hello! I'm your English coach. Let's have a conversation! I'll help you improve your English and correct any mistakes. What would you like to talk about?":"Hello! Start speaking in English, and I will help you improve your pronunciation and grammar in real time.";L&&(c(),q.current=""),(L||P)&&await Y(e),L&&T([{role:"coach",content:e,timestamp:Date.now()}]),await s(),m(!0)}catch(e){console.error("[ConversationalSpeaking] Erreur d\xe9marrage:",e),F(e.message||"Erreur lors du d\xe9marrage de la conversation")}else F("Votre navigateur ne supporte pas la reconnaissance vocale.")},[u,s,c,P,L,n]),Q=(0,e.useCallback)(()=>{g?(s(),v(!1)):(a(),v(!0))},[g,s,a]),X=(0,e.useCallback)(()=>{a(),m(!1),v(!1),G.current&&(clearTimeout(G.current),G.current=null);const e=Math.floor((Date.now()-U.current)/1e3),t=l(l({},V),{},{duration:e});B(t),r&&r(t),H.current&&(H.current.pause(),H.current=null)},[a,V,r]),Y=(0,e.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{k(!0),i&&a(),await new Promise(e=>setTimeout(e,300)),c(),q.current="",H.current&&H.current.pause();const n=await CL.synthesize({text:e,lang:"en-US",rate:t});if(!n)return console.warn("[ConversationalSpeaking] Service TTS non disponible, audio ignor\xe9"),k(!1),void(f&&!g&&await s());const r=new Audio(n);H.current=r,r.onended=async()=>{H.current=null,await new Promise(e=>setTimeout(e,500)),k(!1),c(),q.current="",f&&!g&&(await s(),console.log("[ConversationalSpeaking] \ud83c\udfa4 \xc9coute relanc\xe9e apr\xe8s TTS du coach"))},r.onerror=async()=>{console.error("[ConversationalSpeaking] Erreur de lecture audio"),H.current=null,k(!1),c(),q.current="",f&&!g&&await s()},await r.play(),console.log("[ConversationalSpeaking] \ud83d\udd07 TTS du coach en cours, micro arr\xeat\xe9")}catch(n){console.error("[ConversationalSpeaking] Erreur TTS:",n),k(!1),c(),q.current="",f&&!g&&await s()}},[i,a,c,s,f,g]),$=(0,e.useCallback)(async e=>{if(!(!e||e.trim().length<3||W.current)){W.current=!0,b(!0);try{let o=e.trim();const s=e.trim();if(["in English and I will help you improve your pronunciation and grammar in Real-Time","in English and I will help you improve your pronunciation and grammar in real-time","in English and I will help you improve your pronunciation and grammar","start speaking in English and I will help you","I will help you improve your pronunciation and grammar","improve your pronunciation and grammar in real-time","improve your pronunciation and grammar in Real-Time","pronunciation and grammar in real-time","pronunciation and grammar in Real-Time","improve your pronunciation and grammar","help you improve your pronunciation","your pronunciation and grammar","I will help you improve","I will help you","in English and","Translation:","I've translated","The correct sentence is:","That's great","Good job","Well done","Keep practicing","Excellent! Keep going","Keep going! Excellent","I'm your English coach","Let's have a conversation","I'll help you improve","What would you like to talk about?","I'm listening","Go ahead"].forEach(e=>{const t=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");o=o.replace(t," ")}),o=o.replace(/\s+/g," ").trim(),!o||o.length<2)return console.log("[ConversationalSpeaking] \u274c Transcript ignor\xe9 (contient uniquement des phrases du coach):",s),c(),q.current="",b(!1),void(W.current=!1);console.log("[ConversationalSpeaking] \u2705 Transcript utilisateur filtr\xe9:",o,"| \u274c Original (avec coach):",s);const u=await AL.analyzeSpeaking(o,d,n);C(u);const h=V.totalErrors+u.errors.length,p=V.totalSentences+1,f=Math.round((V.averageScore*V.totalSentences+u.score)/p);B(l(l({},V),{},{totalSentences:p,totalErrors:h,averageScore:f}));const m={timestamp:Date.now(),transcript:o,analysis:u,correctionSpoken:!1};I(e=>[...e,m]),L&&T(e=>[...e,{role:"user",content:o,timestamp:Date.now()}]);const g=/translate|traduis|traduction|en fran\xe7ais|in english|to french|to english/i.test(o);if(console.log("[ConversationalSpeaking] \xc9tat du mode coach:",{coachMode:L,isTranslationRequest:g,speakCorrections:P,autoCorrect:_}),g&&L){const e=o.replace(/translate|traduis|traduction|en fran\xe7ais|in english|to french|to english/gi,"").trim();if(e){const t=/en fran\xe7ais|to french|fran\xe7ais/i.test(o)?"fr":"en";w(!0);try{const n=await IL.translate(e,t);if(n.success){const e='Translation: "'.concat(n.translatedText,'"');T(t=>[...t,{role:"coach",content:e,timestamp:Date.now()}]),P&&await Y(e,.9)}}catch(r){console.error("[ConversationalSpeaking] Erreur traduction:",r)}finally{w(!1)}}}else if(L){console.log("[ConversationalSpeaking] Demande de r\xe9ponse au coach pour:",o,"| Erreurs:",u.errors.length),i&&a(),c(),q.current="",w(!0);try{const e=await IL.sendMessage(o,n,u.errors,M);if(console.log("[ConversationalSpeaking] R\xe9ponse du coach re\xe7ue:",e),e.success&&e.message){var t;const n=j.length>0?null===(t=j[j.length-1])||void 0===t?void 0:t.content:"";e.message!==n?(T(t=>[...t,{role:"coach",content:e.message,timestamp:Date.now()}]),await Y(e.message,.9),e.explanation&&console.log("[ConversationalSpeaking] Explication du coach:",e.explanation)):console.log("[ConversationalSpeaking] Message du coach ignor\xe9 (r\xe9p\xe9tition exacte)")}}catch(r){console.error("[ConversationalSpeaking] Erreur conversation coach:",r)}finally{w(!1)}}else if(P&&_&&u.errors.length>0){let e="";if(1===u.errors.length){const t=u.errors[0];e='You said "'.concat(t.original,'", but the correct form is "').concat(t.corrected,'". ').concat(t.explanation)}else e="I found ".concat(u.errors.length," mistakes. "),e+="The correct sentence is: ".concat(u.correctedSentence);await Y(e,.9),m.correctionSpoken=!0,I(e=>e.map(e=>e.timestamp===m.timestamp?m:e))}else P&&u.score>=90&&await Y("Excellent! Keep going.",1);c(),q.current=""}catch(r){console.error("[ConversationalSpeaking] Erreur analyse:",r),F(r.message||"Erreur lors de l'analyse")}finally{b(!1),W.current=!1}}},[d,n,V,P,_,c,Y,L]);return(0,e.useEffect)(()=>{if(!f||g||S||!o)return;if(G.current&&(clearTimeout(G.current),G.current=null),W.current||o===q.current)return;if(o.trim().length<3)return;/[.!?]$/.test(o.trim())?(q.current=o,setTimeout(()=>{o!==q.current||W.current||$(o.trim())},500)):G.current=setTimeout(()=>{(o===q.current||o&&o.trim().length>=3&&!W.current)&&(q.current=o,console.log("[ConversationalSpeaking] \ud83c\udfaf Pause d\xe9tect\xe9e, analyse du transcript:",o.trim()),$(o.trim()))},1e3)},[o,f,$]),(0,e.useEffect)(()=>()=>{H.current&&H.current.pause(),G.current&&clearTimeout(G.current)},[]),u?(0,te.jsxs)(he,{children:[(0,te.jsx)(rt,{sx:{mb:3},children:(0,te.jsxs)(lt,{children:[(0,te.jsx)(Pe,{variant:"h5",gutterBottom:!0,children:"Mode Conversationnel Speech-to-Speech"}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Parlez en anglais et recevez des corrections instantan\xe9es de votre prononciation, grammaire et orthographe. Le syst\xe8me vous corrige en temps r\xe9el et vous aide \xe0 vous am\xe9liorer."}),(0,te.jsxs)(he,{sx:{display:"flex",gap:2,mb:2,flexWrap:"wrap"},children:[(0,te.jsx)(gE,{icon:(0,te.jsx)(uC,{}),label:"Niveau ".concat(n),color:"primary",size:"small"}),(0,te.jsx)(gE,{label:"".concat(V.totalSentences," phrases"),size:"small"}),(0,te.jsx)(gE,{label:"Score moyen: ".concat(V.averageScore,"%"),size:"small",color:V.averageScore>=75?"success":V.averageScore>=50?"warning":"error"})]}),(0,te.jsxs)(he,{sx:{display:"flex",gap:2,mb:2,flexWrap:"wrap",flexDirection:"column"},children:[(0,te.jsxs)(he,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[(0,te.jsx)(xj,{control:(0,te.jsx)(bL,{checked:L,onChange:e=>O(e.target.checked),disabled:f}),label:"Mode Coach IA"}),(0,te.jsx)(xj,{control:(0,te.jsx)(bL,{checked:_,onChange:e=>R(e.target.checked),disabled:f}),label:"Correction automatique"}),(0,te.jsx)(xj,{control:(0,te.jsx)(bL,{checked:P,onChange:e=>N(e.target.checked),disabled:f}),label:"Feedback vocal"})]}),(0,te.jsxs)(he,{sx:{width:"100%",maxWidth:500,mt:1},children:[(0,te.jsxs)(Pe,{variant:"body2",gutterBottom:!0,children:["Niveau d'explication du coach : ",M,"/10",0===M&&" (Aucune explication)",M>0&&M<=3&&" (Minimal)",M>3&&M<=7&&" (Mod\xe9r\xe9)",M>7&&" (D\xe9taill\xe9)"]}),(0,te.jsx)(SR,{value:M,onChange:(e,t)=>D(t),min:0,max:10,step:1,marks:[{value:0,label:"0"},{value:5,label:"5"},{value:10,label:"10"}],disabled:f,sx:{mt:1}})]})]}),(0,te.jsxs)(he,{sx:{display:"flex",gap:2,alignItems:"center"},children:[f?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(wn,{variant:"contained",color:g?"success":"warning",size:"large",startIcon:g?(0,te.jsx)(CR,{}):(0,te.jsx)(xL,{}),onClick:Q,children:g?"Reprendre":"Pause"}),(0,te.jsx)(wn,{variant:"contained",color:"error",size:"large",startIcon:(0,te.jsx)(ER,{}),onClick:X,children:"Arr\xeater"})]}):(0,te.jsx)(wn,{variant:"contained",color:"primary",size:"large",startIcon:(0,te.jsx)(nL,{}),onClick:K,disabled:!p&&null!==h,children:"D\xe9marrer la conversation"}),i&&(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,te.jsx)(OP,{size:20}),(0,te.jsx)(Pe,{variant:"body2",color:"primary",children:"\xc9coute en cours..."})]}),y&&(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,te.jsx)(OP,{size:20}),(0,te.jsx)(Pe,{variant:"body2",children:"Analyse..."})]}),x&&(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,te.jsx)(OP,{size:20}),(0,te.jsx)(Pe,{variant:"body2",color:"primary",children:"Le coach r\xe9pond..."})]}),S&&(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,te.jsx)(OP,{size:20}),(0,te.jsx)(Pe,{variant:"body2",color:"warning.main",children:"Le coach parle... (\xe9coute d\xe9sactiv\xe9e)"})]})]}),(z||h)&&(0,te.jsx)(OE,{severity:"error",sx:{mt:2},children:z||h}),(0,te.jsxs)(Je,{elevation:1,sx:{mt:2,p:2,bgcolor:"background.default",border:"1px solid",borderColor:"divider"},children:[(0,te.jsx)(Pe,{variant:"subtitle2",gutterBottom:!0,children:"\xc9tat du syst\xe8me (Debug)"}),(0,te.jsxs)(he,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,te.jsxs)(he,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,te.jsx)(Pe,{variant:"body2",sx:{minWidth:180},children:"Navigateur compatible:"}),(0,te.jsx)(gE,{size:"small",label:u?"OUI":"NON",color:u?"success":"error"})]}),(0,te.jsxs)(he,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,te.jsx)(Pe,{variant:"body2",sx:{minWidth:180},children:"Permission microphone:"}),(0,te.jsx)(gE,{size:"small",label:p?"ACCORD\xc9E":"NON ACCORD\xc9E",color:p?"success":"warning"})]}),(0,te.jsxs)(he,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,te.jsx)(Pe,{variant:"body2",sx:{minWidth:180},children:"\xc9coute active:"}),(0,te.jsx)(gE,{size:"small",label:i?"OUI":"NON",color:i?"success":"default"})]}),(0,te.jsxs)(he,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,te.jsx)(Pe,{variant:"body2",sx:{minWidth:180},children:"Confiance reconnaissance:"}),(0,te.jsxs)(Pe,{variant:"body2",color:"text.secondary",children:[d,"%"]})]}),o&&!S&&(0,te.jsxs)(he,{sx:{mt:1},children:[(0,te.jsx)(Pe,{variant:"body2",sx:{mb:.5},children:"Transcript en direct:"}),(0,te.jsx)(Je,{variant:"outlined",sx:{p:1,bgcolor:"background.paper"},children:(0,te.jsx)(Pe,{variant:"body2",sx:{fontStyle:"italic"},children:o||"(vide)"})})]}),S&&(0,te.jsx)(he,{sx:{mt:1},children:(0,te.jsx)(Pe,{variant:"body2",sx:{mb:.5,color:"warning.main"},children:"\u26a0\ufe0f Le coach parle - transcript masqu\xe9"})})]})]})]})}),o&&f&&!S&&(0,te.jsxs)(Je,{elevation:2,sx:{p:2,mb:3,bgcolor:"grey.50"},children:[(0,te.jsx)(Pe,{variant:"subtitle2",gutterBottom:!0,children:"Vous dites :"}),(0,te.jsx)(Pe,{variant:"body1",sx:{fontStyle:"italic"},children:o})]}),S&&(0,te.jsxs)(Je,{elevation:2,sx:{p:2,mb:3,bgcolor:"primary.50"},children:[(0,te.jsx)(Pe,{variant:"subtitle2",gutterBottom:!0,color:"primary",children:"Le coach parle... (\xe9coute d\xe9sactiv\xe9e temporairement)"}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",children:"Le microphone est d\xe9sactiv\xe9 pendant que le coach parle pour \xe9viter de capturer sa voix."})]}),E&&(0,te.jsx)(rt,{sx:{mb:3,bgcolor:"background.paper"},children:(0,te.jsxs)(lt,{children:[(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:"Derni\xe8re analyse"}),(0,te.jsxs)(he,{sx:{mb:2},children:[(0,te.jsxs)(he,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,te.jsx)(Pe,{variant:"caption",children:"Score global"}),(0,te.jsxs)(Pe,{variant:"caption",children:[E.score,"%"]})]}),(0,te.jsx)(iC,{variant:"determinate",value:E.score,sx:{height:8,borderRadius:1,mb:2},color:E.score>=75?"success":E.score>=50?"warning":"error"}),(0,te.jsxs)(he,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[(0,te.jsx)(gE,{label:"Grammaire: ".concat(E.grammarScore,"%"),size:"small",color:"primary"}),(0,te.jsx)(gE,{label:"Prononciation: ".concat(E.pronunciationScore,"%"),size:"small",color:"secondary"}),(0,te.jsx)(gE,{label:"Fluidit\xe9: ".concat(E.fluencyScore,"%"),size:"small",color:"success"})]})]}),E.correctedSentence&&(0,te.jsxs)(OE,{severity:"info",sx:{mb:2},children:[(0,te.jsx)(Pe,{variant:"subtitle2",children:"Correction :"}),(0,te.jsx)(Pe,{variant:"body2",children:E.correctedSentence}),(0,te.jsx)(zn,{size:"small",onClick:()=>Y(E.correctedSentence||"",.8),sx:{ml:1},children:(0,te.jsx)(Oi,{fontSize:"small"})})]}),(0,te.jsx)(OE,{severity:E.score>=75?"success":E.score>=50?"warning":"error",sx:{mb:2},children:E.feedback}),E.errors.length>0&&(0,te.jsxs)(he,{children:[(0,te.jsxs)(Pe,{variant:"subtitle2",gutterBottom:!0,children:["Erreurs d\xe9tect\xe9es (",E.errors.length,")"]}),(0,te.jsx)(co,{dense:!0,children:E.errors.map((e,t)=>(0,te.jsx)(Ao,{children:(0,te.jsx)(zo,{primary:(0,te.jsxs)(he,{children:[(0,te.jsx)(Pe,{component:"span",sx:{textDecoration:"line-through",color:"error.main",mr:1},children:e.original}),(0,te.jsxs)(Pe,{component:"span",sx:{color:"success.main"},children:["\u2192 ",e.corrected]})]}),secondary:e.explanation})},t))})]})]})}),L&&j.length>0&&(0,te.jsx)(rt,{sx:{mb:3},children:(0,te.jsxs)(lt,{children:[(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:"Conversation avec le coach"}),(0,te.jsx)(co,{children:j.map((t,n)=>(0,te.jsxs)(e.Fragment,{children:[n>0&&(0,te.jsx)(dN,{}),(0,te.jsx)(Ao,{alignItems:"flex-start",children:(0,te.jsxs)(he,{sx:{width:"100%",display:"flex",alignItems:"flex-start",gap:1},children:[(0,te.jsxs)(he,{sx:{flex:1},children:[(0,te.jsx)(he,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:(0,te.jsx)(gE,{label:"coach"===t.role?"\ud83e\udd16 Coach IA":"\ud83d\udc64 Vous",size:"small",color:"coach"===t.role?"primary":"success",sx:{fontWeight:"bold"}})}),(0,te.jsx)(Je,{elevation:0,component:"div",sx:{mt:1,p:1.5,borderRadius:1,bgcolor:"coach"===t.role?"primary.50":"success.50",borderLeft:"4px solid ".concat("coach"===t.role?"primary.main":"success.main")},children:(0,te.jsx)(Pe,{variant:"body1",component:"div",children:t.content})})]}),"coach"===t.role&&(0,te.jsx)(zn,{size:"small",onClick:()=>Y(t.content,.9),sx:{mt:1},children:(0,te.jsx)(Oi,{fontSize:"small"})})]})})]},n))})]})}),A.length>0&&(0,te.jsx)(rt,{children:(0,te.jsxs)(lt,{children:[(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:"Historique de la conversation"}),(0,te.jsx)(co,{children:A.slice().reverse().map((t,n)=>(0,te.jsxs)(e.Fragment,{children:[n>0&&(0,te.jsx)(dN,{}),(0,te.jsx)(Ao,{alignItems:"flex-start",children:(0,te.jsx)(zo,{primary:(0,te.jsxs)(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,te.jsx)(Pe,{variant:"body2",children:t.transcript}),0===t.analysis.errors.length?(0,te.jsx)(hC,{color:"success",fontSize:"small"}):(0,te.jsx)(eN,{color:"error",fontSize:"small"})]}),secondary:(0,te.jsxs)(he,{children:[(0,te.jsxs)(Pe,{variant:"caption",color:"text.secondary",children:["Score: ",t.analysis.score,"% | ",t.analysis.errors.length," erreur(s)"]}),t.analysis.correctedSentence&&(0,te.jsxs)(Pe,{variant:"body2",sx:{mt:.5,fontStyle:"italic"},children:["\u2192 ",t.analysis.correctedSentence]})]})})})]},t.timestamp))})]})})]}):(0,te.jsx)(rt,{children:(0,te.jsx)(lt,{children:(0,te.jsx)(OE,{severity:"error",children:"Votre navigateur ne supporte pas la reconnaissance vocale. Veuillez utiliser Chrome, Edge ou Safari."})})})},TL=G({palette:{primary:{main:"#1976d2"},secondary:{main:"#dc004e"},success:{main:"#2e7d32"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h4:{fontWeight:600,fontSize:"clamp(1.5rem, 5vw, 2.125rem)"},h5:{fontWeight:600,fontSize:"clamp(1.25rem, 4vw, 1.5rem)"},h6:{fontWeight:500,fontSize:"clamp(1rem, 3vw, 1.25rem)"},body1:{fontSize:"clamp(0.875rem, 2vw, 1rem)"},button:{textTransform:"none",fontSize:"clamp(0.875rem, 2.5vw, 1rem)"}},components:{MuiButton:{styleOverrides:{root:{minHeight:44,minWidth:44,borderRadius:8,padding:"10px 20px","@media (hover: none)":{"&:active":{transform:"scale(0.98)",transition:"transform 0.1s"}}},sizeLarge:{minHeight:56,padding:"14px 28px",fontSize:"1.1rem"}}},MuiIconButton:{styleOverrides:{root:{minHeight:44,minWidth:44,padding:12}}},MuiTextField:{defaultProps:{variant:"outlined"},styleOverrides:{root:{"& .MuiInputBase-input":{fontSize:"clamp(0.875rem, 2vw, 1rem)",padding:"14px"}}}},MuiCard:{styleOverrides:{root:{borderRadius:12,"@media (max-width: 600px)":{boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}}},MuiChip:{styleOverrides:{root:{minHeight:32,fontSize:"clamp(0.75rem, 2vw, 0.875rem)"}}},MuiDrawer:{styleOverrides:{paper:{"@media (max-width: 600px)":{width:"75vw",maxWidth:280}}}}},breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}}),_L=()=>{const{isAuthenticated:t,login:n,logout:r,user:o}=aE(),[i,s]=(0,e.useState)("dashboard"),[a,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(null),[h,p]=(0,e.useState)(null),[f,m]=(0,e.useState)(!1),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(()=>!localStorage.getItem("levelAssessed"));if(window.location.pathname.includes("/verify-email/"))return(0,te.jsx)(sN,{onSuccess:(e,t)=>{n(e,t)},onSwitchToLogin:()=>{window.location.href="/"}});if(!t)return g?(0,te.jsx)(ZP,{onSwitchToLogin:()=>v(!1),onSuccess:()=>{v(!1)}}):f?(0,te.jsx)(JP,{onSuccess:(e,t)=>{n(e,t),m(!1)},onSwitchToLogin:()=>m(!1)}):(0,te.jsx)(XP,{onSuccess:(e,t)=>{n(e,t)},onSwitchToSignup:()=>m(!0),onSwitchToForgotPassword:()=>v(!0)});const x=[{id:"dashboard",label:"Tableau de bord",icon:(0,te.jsx)(Ti,{})},{id:"learning",label:"Mon Programme",icon:(0,te.jsx)(_i,{})},{id:"exercises",label:"Exercices",icon:(0,te.jsx)(Ri,{})},{id:"speaking",label:"Mode Conversationnel",icon:(0,te.jsx)(Pi,{})},{id:"progress",label:"Progression",icon:(0,te.jsx)(_i,{})},{id:"tests",label:"Tests TOEIC/TOEFL",icon:(0,te.jsx)(Ni,{})}],w=()=>{localStorage.setItem("levelAssessed","true"),b(!1),s("learning")},S=()=>{localStorage.removeItem("levelAssessed"),b(!0)},k=e=>{s(e)},E=e=>{p(e);const t=u;d(null),"efset"===t?s("efset"):"toeic"===t?s("toeic"):"toefl"===t&&s("toefl")};return(0,te.jsxs)(he,{sx:{display:"flex",minHeight:"100vh"},children:[(0,te.jsx)(In,{position:"fixed",sx:{zIndex:e=>e.zIndex.drawer+1},children:(0,te.jsxs)(Pn,{children:[(0,te.jsx)(zn,{color:"inherit",edge:"start",onClick:()=>c(!a),sx:{mr:2,display:{sm:"none"}},children:(0,te.jsx)(Li,{})}),(0,te.jsx)(Oi,{sx:{mr:2}}),(0,te.jsx)(Pe,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:"AI English Trainer for IT Professionals"}),o&&(0,te.jsx)(Pe,{variant:"body2",sx:{mr:2,fontStyle:"italic"},children:o.name}),(0,te.jsx)(Pe,{variant:"body2",sx:{mr:2,fontStyle:"italic"},children:"B2 \u2192 C1"}),(0,te.jsx)(zn,{color:"inherit",onClick:r,title:"D\xe9connexion",children:(0,te.jsx)(Mi,{})})]})}),(0,te.jsx)(ro,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box",mt:8}},children:(0,te.jsx)(co,{children:x.map(e=>(0,te.jsxs)(Ao,{button:!0,selected:i===e.id,onClick:()=>s(e.id),sx:{"&.Mui-selected":{bgcolor:"primary.light",color:"primary.main","&:hover":{bgcolor:"primary.light"}}},children:[(0,te.jsx)(Po,{sx:{color:i===e.id?"primary.main":"inherit"},children:e.icon}),(0,te.jsx)(zo,{primary:e.label})]},e.id))})}),(0,te.jsx)(ro,{variant:"temporary",open:a,onClose:()=>c(!1),sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,boxSizing:"border-box",mt:8}},children:(0,te.jsx)(co,{children:x.map(e=>(0,te.jsxs)(Ao,{button:!0,selected:i===e.id,onClick:()=>{s(e.id),c(!1)},children:[(0,te.jsx)(Po,{children:e.icon}),(0,te.jsx)(zo,{primary:e.label})]},e.id))})}),(0,te.jsx)(he,{component:"main",sx:{flexGrow:1,mt:8,bgcolor:"grey.50"},children:(0,te.jsx)(ri,{maxWidth:"xl",children:(()=>{if(y)return(0,te.jsx)(OR,{onComplete:w});if(u&&!h)return(0,te.jsx)(uL,{testType:u,onSelectLevel:E,onCancel:()=>{d(null),s("tests")}});switch(i){case"dashboard":default:return(0,te.jsx)(dC,{onStartAssessment:S,onNavigate:k});case"learning":return(0,te.jsx)(uP,{onNavigate:k});case"progress":return(0,te.jsx)(mC,{});case"exercises":return(0,te.jsx)(_R,{});case"speaking":return(0,te.jsx)(he,{sx:{p:3},children:(0,te.jsx)(jL,{level:(null===o||void 0===o?void 0:o.currentLevel)||"B1",onComplete:e=>{console.log("[App] Conversation termin\xe9e:",e)}})});case"tests":return(0,te.jsxs)(he,{sx:{p:3},children:[(0,te.jsx)(Pe,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"Tests d'\xc9valuation"}),(0,te.jsxs)(Ge,{container:!0,spacing:3,children:[(0,te.jsx)(Ge,{item:!0,xs:12,md:4,children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:"EF SET - 4 Skills"}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Test adaptatif complet inspir\xe9 d'EF SET : Reading, Listening, Writing, Speaking (90 min)."}),(0,te.jsx)(wn,{variant:"contained",fullWidth:!0,color:"primary",onClick:()=>d("efset"),children:"Passer le test EF SET"})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:4,children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:"Test TOEIC"}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Testez votre niveau d'anglais avec un test TOEIC complet (Grammaire + Compr\xe9hension audio)."}),(0,te.jsx)(wn,{variant:"contained",fullWidth:!0,onClick:()=>d("toeic"),children:"Passer le test TOEIC"})]})})}),(0,te.jsx)(Ge,{item:!0,xs:12,md:4,children:(0,te.jsx)(rt,{elevation:3,children:(0,te.jsxs)(lt,{children:[(0,te.jsx)(Pe,{variant:"h6",gutterBottom:!0,children:"Test TOEFL"}),(0,te.jsx)(Pe,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Testez votre niveau d'anglais avec un test TOEFL avanc\xe9 (Reading + Listening + Writing)."}),(0,te.jsx)(wn,{variant:"contained",fullWidth:!0,onClick:()=>d("toefl"),children:"Passer le test TOEFL"})]})})})]})]});case"efset":return(0,te.jsxs)(he,{sx:{p:0},children:[(0,te.jsx)(wn,{variant:"text",onClick:()=>s("tests"),sx:{mb:2},children:"\u2190 Retour aux tests"}),(0,te.jsx)(sL,{level:h||void 0,onComplete:e=>{if(o){const t=l(l({},o),{},{currentLevel:e.level,lastActivity:new Date});localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("efsetResults",JSON.stringify(e)),localStorage.setItem("lastTestType","efset"),window.location.reload()}setTimeout(()=>s("tests"),5e3)}})]});case"toeic":return(0,te.jsxs)(he,{sx:{p:0},children:[(0,te.jsx)(wn,{variant:"text",onClick:()=>s("tests"),sx:{mb:2},children:"\u2190 Retour aux tests"}),(0,te.jsx)(eL,{level:h||void 0,onComplete:e=>{if(o){const t=l(l({},o),{},{currentLevel:e.level,lastActivity:new Date});localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("toeicResults",JSON.stringify(e)),localStorage.setItem("lastTestType","toeic"),window.location.reload()}p(null),setTimeout(()=>s("tests"),5e3)}})]});case"toefl":return(0,te.jsxs)(he,{sx:{p:0},children:[(0,te.jsx)(wn,{variant:"text",onClick:()=>s("tests"),sx:{mb:2},children:"\u2190 Retour aux tests"}),(0,te.jsx)(tL,{level:h||void 0,onComplete:e=>{if(o){const t=l(l({},o),{},{currentLevel:e.level,lastActivity:new Date});localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("toeflResults",JSON.stringify(e)),localStorage.setItem("lastTestType","toefl"),window.location.reload()}p(null),setTimeout(()=>s("tests"),5e3)}})]})}})()})})]})},RL=()=>(0,te.jsxs)(yi,{theme:TL,children:[(0,te.jsx)(Si,{}),(0,te.jsx)(sE,{children:(0,te.jsx)(_L,{})})]});class PL extends e.Component{constructor(e){super(e),this.handleReload=()=>{try{localStorage.clear()}catch(e){console.error("Impossible de vider localStorage:",e)}window.location.reload()},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){console.error("\u274c Erreur captur\xe9e par ErrorBoundary:",e),console.error("\ud83d\udccb Info:",t),this.setState({error:e,errorInfo:t}),"undefined"!==typeof window.Capacitor&&console.error("Erreur sur Capacitor/Android:",e.message)}render(){return this.state.hasError?(0,te.jsx)(he,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",p:3,bgcolor:"#f5f5f5"},children:(0,te.jsxs)(Je,{elevation:3,sx:{p:4,maxWidth:600,textAlign:"center"},children:[(0,te.jsx)(eN,{sx:{fontSize:64,color:"error.main",mb:2}}),(0,te.jsx)(Pe,{variant:"h5",gutterBottom:!0,color:"error",children:"Une erreur est survenue"}),(0,te.jsx)(Pe,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"L'application a rencontr\xe9 un probl\xe8me. Veuillez r\xe9essayer."}),this.state.error&&(0,te.jsx)(Je,{variant:"outlined",sx:{p:2,mb:3,bgcolor:"#fff3f3",textAlign:"left",maxHeight:200,overflow:"auto"},children:(0,te.jsxs)(Pe,{variant:"caption",component:"pre",sx:{whiteSpace:"pre-wrap"},children:[this.state.error.toString(),this.state.errorInfo&&"\n\n".concat(this.state.errorInfo.componentStack)]})}),(0,te.jsx)(wn,{variant:"contained",color:"primary",onClick:this.handleReload,size:"large",children:"Recharger l'application"})]})}):this.props.children}}const NL=e=>{const t="string"===typeof e?e:e.message,n="string"===typeof e?"":e.stack||"";return[/Extension context invalidated/i,/chrome-extension:/i,/moz-extension:/i,/Cannot access contents of/i,/The message port closed/i,/Receiving end does not exist/i].some(e=>e.test(t)||e.test(n))};window.addEventListener("error",e=>!NL(e.error||e.message)||(e.preventDefault(),!1)),window.addEventListener("unhandledrejection",e=>{const t=e.reason;t&&(NL(t)||"string"===typeof t&&NL(t))&&e.preventDefault()});r.createRoot(document.getElementById("root")).render((0,te.jsx)(e.StrictMode,{children:(0,te.jsx)(PL,{children:(0,te.jsx)(RL,{})})}))})()})();
//# sourceMappingURL=main.c07cf563.js.map